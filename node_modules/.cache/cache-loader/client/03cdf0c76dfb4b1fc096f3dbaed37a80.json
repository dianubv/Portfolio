{"remainingRequest":"/home/diane/Documents/MDT/Portfolio/node_modules/babel-loader/lib/index.js??ref--2-1!/home/diane/Documents/MDT/Portfolio/node_modules/three/build/three.module.js","dependencies":[{"path":"/home/diane/Documents/MDT/Portfolio/node_modules/three/build/three.module.js","mtime":1696601676503},{"path":"/home/diane/Documents/MDT/Portfolio/node_modules/cache-loader/dist/cjs.js","mtime":1696602851329},{"path":"/home/diane/Documents/MDT/Portfolio/node_modules/babel-loader/lib/index.js","mtime":1696602851385}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ImNvcmUtanMvbW9kdWxlcy9lcy5yZWZsZWN0LmNvbnN0cnVjdC5qcyI7aW1wb3J0ImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mcm9tLmpzIjtpbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjtpbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20iQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiO2ltcG9ydCBfc2xpY2VkVG9BcnJheSBmcm9tIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3NsaWNlZFRvQXJyYXkiO2ltcG9ydCBfZ2V0IGZyb20iQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZ2V0IjtpbXBvcnQgX2Fzc2VydFRoaXNJbml0aWFsaXplZCBmcm9tIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2Fzc2VydFRoaXNJbml0aWFsaXplZCI7aW1wb3J0IF9pbmhlcml0cyBmcm9tIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzIjtpbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIjtpbXBvcnQgX2dldFByb3RvdHlwZU9mIGZyb20iQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZ2V0UHJvdG90eXBlT2YiO2ltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7aW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjtmdW5jdGlvbiBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihvLGFsbG93QXJyYXlMaWtlKXt2YXIgaXQ9dHlwZW9mIFN5bWJvbCE9PSJ1bmRlZmluZWQiJiZvW1N5bWJvbC5pdGVyYXRvcl18fG9bIkBAaXRlcmF0b3IiXTtpZighaXQpe2lmKEFycmF5LmlzQXJyYXkobyl8fChpdD1fdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobykpfHxhbGxvd0FycmF5TGlrZSYmbyYmdHlwZW9mIG8ubGVuZ3RoPT09Im51bWJlciIpe2lmKGl0KW89aXQ7dmFyIGk9MDt2YXIgRj1mdW5jdGlvbiBGKCl7fTtyZXR1cm57czpGLG46ZnVuY3Rpb24gbigpe2lmKGk+PW8ubGVuZ3RoKXJldHVybntkb25lOnRydWV9O3JldHVybntkb25lOmZhbHNlLHZhbHVlOm9baSsrXX07fSxlOmZ1bmN0aW9uIGUoX2Upe3Rocm93IF9lO30sZjpGfTt9dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpO312YXIgbm9ybWFsQ29tcGxldGlvbj10cnVlLGRpZEVycj1mYWxzZSxlcnI7cmV0dXJue3M6ZnVuY3Rpb24gcygpe2l0PWl0LmNhbGwobyk7fSxuOmZ1bmN0aW9uIG4oKXt2YXIgc3RlcD1pdC5uZXh0KCk7bm9ybWFsQ29tcGxldGlvbj1zdGVwLmRvbmU7cmV0dXJuIHN0ZXA7fSxlOmZ1bmN0aW9uIGUoX2UyKXtkaWRFcnI9dHJ1ZTtlcnI9X2UyO30sZjpmdW5jdGlvbiBmKCl7dHJ5e2lmKCFub3JtYWxDb21wbGV0aW9uJiZpdC5yZXR1cm4hPW51bGwpaXQucmV0dXJuKCk7fWZpbmFsbHl7aWYoZGlkRXJyKXRocm93IGVycjt9fX07fWZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLG1pbkxlbil7aWYoIW8pcmV0dXJuO2lmKHR5cGVvZiBvPT09InN0cmluZyIpcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sbWluTGVuKTt2YXIgbj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwtMSk7aWYobj09PSJPYmplY3QiJiZvLmNvbnN0cnVjdG9yKW49by5jb25zdHJ1Y3Rvci5uYW1lO2lmKG49PT0iTWFwInx8bj09PSJTZXQiKXJldHVybiBBcnJheS5mcm9tKG8pO2lmKG49PT0iQXJndW1lbnRzInx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sbWluTGVuKTt9ZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLGxlbil7aWYobGVuPT1udWxsfHxsZW4+YXJyLmxlbmd0aClsZW49YXJyLmxlbmd0aDtmb3IodmFyIGk9MCxhcnIyPW5ldyBBcnJheShsZW4pO2k8bGVuO2krKylhcnIyW2ldPWFycltpXTtyZXR1cm4gYXJyMjt9ZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpe3ZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0PV9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKTtyZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKXt2YXIgU3VwZXI9X2dldFByb3RvdHlwZU9mKERlcml2ZWQpLHJlc3VsdDtpZihoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KXt2YXIgTmV3VGFyZ2V0PV9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjtyZXN1bHQ9UmVmbGVjdC5jb25zdHJ1Y3QoU3VwZXIsYXJndW1lbnRzLE5ld1RhcmdldCk7fWVsc2V7cmVzdWx0PVN1cGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMscmVzdWx0KTt9O31mdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCl7aWYodHlwZW9mIFJlZmxlY3Q9PT0idW5kZWZpbmVkInx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiBmYWxzZTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiBmYWxzZTtpZih0eXBlb2YgUHJveHk9PT0iZnVuY3Rpb24iKXJldHVybiB0cnVlO3RyeXtCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbixbXSxmdW5jdGlvbigpe30pKTtyZXR1cm4gdHJ1ZTt9Y2F0Y2goZSl7cmV0dXJuIGZhbHNlO319aW1wb3J0InJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7aW1wb3J0ImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiO2ltcG9ydCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiO2ltcG9ydCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7aW1wb3J0ImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjtpbXBvcnQiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5mcmVlemUuanMiO2ltcG9ydCJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLml0ZXJhdG9yLmpzIjtpbXBvcnQiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7aW1wb3J0ImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjtpbXBvcnQiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5qcyI7aW1wb3J0ImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuZGVzY3JpcHRpb24uanMiO2ltcG9ydCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXktYnVmZmVyLnNsaWNlLmpzIjtpbXBvcnQiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmludDgtYXJyYXkuanMiO2ltcG9ydCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuY29weS13aXRoaW4uanMiO2ltcG9ydCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZXZlcnkuanMiO2ltcG9ydCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZmlsbC5qcyI7aW1wb3J0ImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5maWx0ZXIuanMiO2ltcG9ydCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZmluZC5qcyI7aW1wb3J0ImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5maW5kLWluZGV4LmpzIjtpbXBvcnQiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZvci1lYWNoLmpzIjtpbXBvcnQiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmluY2x1ZGVzLmpzIjtpbXBvcnQiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmluZGV4LW9mLmpzIjtpbXBvcnQiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5Lml0ZXJhdG9yLmpzIjtpbXBvcnQiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmpvaW4uanMiO2ltcG9ydCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkubGFzdC1pbmRleC1vZi5qcyI7aW1wb3J0ImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5tYXAuanMiO2ltcG9ydCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkucmVkdWNlLmpzIjtpbXBvcnQiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnJlZHVjZS1yaWdodC5qcyI7aW1wb3J0ImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5yZXZlcnNlLmpzIjtpbXBvcnQiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnNldC5qcyI7aW1wb3J0ImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zbGljZS5qcyI7aW1wb3J0ImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zb21lLmpzIjtpbXBvcnQiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnNvcnQuanMiO2ltcG9ydCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuc3ViYXJyYXkuanMiO2ltcG9ydCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkudG8tbG9jYWxlLXN0cmluZy5qcyI7aW1wb3J0ImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS50by1zdHJpbmcuanMiO2ltcG9ydCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkudWludDgtYXJyYXkuanMiO2ltcG9ydCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkudWludDgtY2xhbXBlZC1hcnJheS5qcyI7aW1wb3J0ImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5pbnQxNi1hcnJheS5qcyI7aW1wb3J0ImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS51aW50MTYtYXJyYXkuanMiO2ltcG9ydCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuaW50MzItYXJyYXkuanMiO2ltcG9ydCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkudWludDMyLWFycmF5LmpzIjtpbXBvcnQiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZsb2F0MzItYXJyYXkuanMiO2ltcG9ydCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZmxvYXQ2NC1hcnJheS5qcyI7aW1wb3J0ImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7aW1wb3J0ImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjtpbXBvcnQiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBlYXQuanMiO2ltcG9ydCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiO2ltcG9ydCJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmVwc2lsb24uanMiO2ltcG9ydCJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjtpbXBvcnQiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zdWIuanMiO2ltcG9ydCJjb3JlLWpzL21vZHVsZXMvZXNuZXh0LnN0cmluZy5hdC5qcyI7aW1wb3J0ImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLnRvLWpzb24uanMiO2ltcG9ydCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjtpbXBvcnQiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5pcy1pbnRlZ2VyLmpzIjtpbXBvcnQiY29yZS1qcy9tb2R1bGVzL2VzLndlYWstbWFwLmpzIjtpbXBvcnQiY29yZS1qcy9tb2R1bGVzL2VzbmV4dC53ZWFrLW1hcC5kZWxldGUtYWxsLmpzIjtpbXBvcnQiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7aW1wb3J0ImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zb3J0LmpzIjtpbXBvcnQiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5tYXgtc2FmZS1pbnRlZ2VyLmpzIjtpbXBvcnQiY29yZS1qcy9tb2R1bGVzL2VzbmV4dC5hcnJheS5sYXN0LWluZGV4LmpzIjtpbXBvcnQiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmpvaW4uanMiO2ltcG9ydCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnRyaW0uanMiO2ltcG9ydCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjtpbXBvcnQiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIjtpbXBvcnQiY29yZS1qcy9tb2R1bGVzL2VzLm1hcC5qcyI7aW1wb3J0ImNvcmUtanMvbW9kdWxlcy9lc25leHQubWFwLmRlbGV0ZS1hbGwuanMiO2ltcG9ydCJjb3JlLWpzL21vZHVsZXMvZXNuZXh0Lm1hcC5ldmVyeS5qcyI7aW1wb3J0ImNvcmUtanMvbW9kdWxlcy9lc25leHQubWFwLmZpbHRlci5qcyI7aW1wb3J0ImNvcmUtanMvbW9kdWxlcy9lc25leHQubWFwLmZpbmQuanMiO2ltcG9ydCJjb3JlLWpzL21vZHVsZXMvZXNuZXh0Lm1hcC5maW5kLWtleS5qcyI7aW1wb3J0ImNvcmUtanMvbW9kdWxlcy9lc25leHQubWFwLmluY2x1ZGVzLmpzIjtpbXBvcnQiY29yZS1qcy9tb2R1bGVzL2VzbmV4dC5tYXAua2V5LW9mLmpzIjtpbXBvcnQiY29yZS1qcy9tb2R1bGVzL2VzbmV4dC5tYXAubWFwLWtleXMuanMiO2ltcG9ydCJjb3JlLWpzL21vZHVsZXMvZXNuZXh0Lm1hcC5tYXAtdmFsdWVzLmpzIjtpbXBvcnQiY29yZS1qcy9tb2R1bGVzL2VzbmV4dC5tYXAubWVyZ2UuanMiO2ltcG9ydCJjb3JlLWpzL21vZHVsZXMvZXNuZXh0Lm1hcC5yZWR1Y2UuanMiO2ltcG9ydCJjb3JlLWpzL21vZHVsZXMvZXNuZXh0Lm1hcC5zb21lLmpzIjtpbXBvcnQiY29yZS1qcy9tb2R1bGVzL2VzbmV4dC5tYXAudXBkYXRlLmpzIjtpbXBvcnQiY29yZS1qcy9tb2R1bGVzL2VzLnNldC5qcyI7aW1wb3J0ImNvcmUtanMvbW9kdWxlcy9lc25leHQuc2V0LmFkZC1hbGwuanMiO2ltcG9ydCJjb3JlLWpzL21vZHVsZXMvZXNuZXh0LnNldC5kZWxldGUtYWxsLmpzIjtpbXBvcnQiY29yZS1qcy9tb2R1bGVzL2VzbmV4dC5zZXQuZGlmZmVyZW5jZS5qcyI7aW1wb3J0ImNvcmUtanMvbW9kdWxlcy9lc25leHQuc2V0LmV2ZXJ5LmpzIjtpbXBvcnQiY29yZS1qcy9tb2R1bGVzL2VzbmV4dC5zZXQuZmlsdGVyLmpzIjtpbXBvcnQiY29yZS1qcy9tb2R1bGVzL2VzbmV4dC5zZXQuZmluZC5qcyI7aW1wb3J0ImNvcmUtanMvbW9kdWxlcy9lc25leHQuc2V0LmludGVyc2VjdGlvbi5qcyI7aW1wb3J0ImNvcmUtanMvbW9kdWxlcy9lc25leHQuc2V0LmlzLWRpc2pvaW50LWZyb20uanMiO2ltcG9ydCJjb3JlLWpzL21vZHVsZXMvZXNuZXh0LnNldC5pcy1zdWJzZXQtb2YuanMiO2ltcG9ydCJjb3JlLWpzL21vZHVsZXMvZXNuZXh0LnNldC5pcy1zdXBlcnNldC1vZi5qcyI7aW1wb3J0ImNvcmUtanMvbW9kdWxlcy9lc25leHQuc2V0LmpvaW4uanMiO2ltcG9ydCJjb3JlLWpzL21vZHVsZXMvZXNuZXh0LnNldC5tYXAuanMiO2ltcG9ydCJjb3JlLWpzL21vZHVsZXMvZXNuZXh0LnNldC5yZWR1Y2UuanMiO2ltcG9ydCJjb3JlLWpzL21vZHVsZXMvZXNuZXh0LnNldC5zb21lLmpzIjtpbXBvcnQiY29yZS1qcy9tb2R1bGVzL2VzbmV4dC5zZXQuc3ltbWV0cmljLWRpZmZlcmVuY2UuanMiO2ltcG9ydCJjb3JlLWpzL21vZHVsZXMvZXNuZXh0LnNldC51bmlvbi5qcyI7aW1wb3J0ImNvcmUtanMvbW9kdWxlcy9lcy5tYXRoLmxvZzIuanMiO2ltcG9ydCJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7aW1wb3J0ImNvcmUtanMvbW9kdWxlcy9lcy5tYXRoLnNpZ24uanMiO2ltcG9ydCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXktYnVmZmVyLmlzLXZpZXcuanMiO2ltcG9ydCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXktYnVmZmVyLmNvbnN0cnVjdG9yLmpzIjtpbXBvcnQiY29yZS1qcy9tb2R1bGVzL2VzLmRhdGEtdmlldy5qcyI7aW1wb3J0ImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjtpbXBvcnQiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5tYXRjaC5qcyI7aW1wb3J0ImNvcmUtanMvbW9kdWxlcy93ZWIudGltZXJzLmpzIjtpbXBvcnQiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5jb25zdHJ1Y3Rvci5qcyI7LyoqCiAqIEBsaWNlbnNlCiAqIENvcHlyaWdodCAyMDEwLTIwMjIgVGhyZWUuanMgQXV0aG9ycwogKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTUlUCiAqL3ZhciBSRVZJU0lPTj0nMTM3Jzt2YXIgTU9VU0U9e0xFRlQ6MCxNSURETEU6MSxSSUdIVDoyLFJPVEFURTowLERPTExZOjEsUEFOOjJ9O3ZhciBUT1VDSD17Uk9UQVRFOjAsUEFOOjEsRE9MTFlfUEFOOjIsRE9MTFlfUk9UQVRFOjN9O3ZhciBDdWxsRmFjZU5vbmU9MDt2YXIgQ3VsbEZhY2VCYWNrPTE7dmFyIEN1bGxGYWNlRnJvbnQ9Mjt2YXIgQ3VsbEZhY2VGcm9udEJhY2s9Mzt2YXIgQmFzaWNTaGFkb3dNYXA9MDt2YXIgUENGU2hhZG93TWFwPTE7dmFyIFBDRlNvZnRTaGFkb3dNYXA9Mjt2YXIgVlNNU2hhZG93TWFwPTM7dmFyIEZyb250U2lkZT0wO3ZhciBCYWNrU2lkZT0xO3ZhciBEb3VibGVTaWRlPTI7dmFyIEZsYXRTaGFkaW5nPTE7dmFyIFNtb290aFNoYWRpbmc9Mjt2YXIgTm9CbGVuZGluZz0wO3ZhciBOb3JtYWxCbGVuZGluZz0xO3ZhciBBZGRpdGl2ZUJsZW5kaW5nPTI7dmFyIFN1YnRyYWN0aXZlQmxlbmRpbmc9Mzt2YXIgTXVsdGlwbHlCbGVuZGluZz00O3ZhciBDdXN0b21CbGVuZGluZz01O3ZhciBBZGRFcXVhdGlvbj0xMDA7dmFyIFN1YnRyYWN0RXF1YXRpb249MTAxO3ZhciBSZXZlcnNlU3VidHJhY3RFcXVhdGlvbj0xMDI7dmFyIE1pbkVxdWF0aW9uPTEwMzt2YXIgTWF4RXF1YXRpb249MTA0O3ZhciBaZXJvRmFjdG9yPTIwMDt2YXIgT25lRmFjdG9yPTIwMTt2YXIgU3JjQ29sb3JGYWN0b3I9MjAyO3ZhciBPbmVNaW51c1NyY0NvbG9yRmFjdG9yPTIwMzt2YXIgU3JjQWxwaGFGYWN0b3I9MjA0O3ZhciBPbmVNaW51c1NyY0FscGhhRmFjdG9yPTIwNTt2YXIgRHN0QWxwaGFGYWN0b3I9MjA2O3ZhciBPbmVNaW51c0RzdEFscGhhRmFjdG9yPTIwNzt2YXIgRHN0Q29sb3JGYWN0b3I9MjA4O3ZhciBPbmVNaW51c0RzdENvbG9yRmFjdG9yPTIwOTt2YXIgU3JjQWxwaGFTYXR1cmF0ZUZhY3Rvcj0yMTA7dmFyIE5ldmVyRGVwdGg9MDt2YXIgQWx3YXlzRGVwdGg9MTt2YXIgTGVzc0RlcHRoPTI7dmFyIExlc3NFcXVhbERlcHRoPTM7dmFyIEVxdWFsRGVwdGg9NDt2YXIgR3JlYXRlckVxdWFsRGVwdGg9NTt2YXIgR3JlYXRlckRlcHRoPTY7dmFyIE5vdEVxdWFsRGVwdGg9Nzt2YXIgTXVsdGlwbHlPcGVyYXRpb249MDt2YXIgTWl4T3BlcmF0aW9uPTE7dmFyIEFkZE9wZXJhdGlvbj0yO3ZhciBOb1RvbmVNYXBwaW5nPTA7dmFyIExpbmVhclRvbmVNYXBwaW5nPTE7dmFyIFJlaW5oYXJkVG9uZU1hcHBpbmc9Mjt2YXIgQ2luZW9uVG9uZU1hcHBpbmc9Mzt2YXIgQUNFU0ZpbG1pY1RvbmVNYXBwaW5nPTQ7dmFyIEN1c3RvbVRvbmVNYXBwaW5nPTU7dmFyIFVWTWFwcGluZz0zMDA7dmFyIEN1YmVSZWZsZWN0aW9uTWFwcGluZz0zMDE7dmFyIEN1YmVSZWZyYWN0aW9uTWFwcGluZz0zMDI7dmFyIEVxdWlyZWN0YW5ndWxhclJlZmxlY3Rpb25NYXBwaW5nPTMwMzt2YXIgRXF1aXJlY3Rhbmd1bGFyUmVmcmFjdGlvbk1hcHBpbmc9MzA0O3ZhciBDdWJlVVZSZWZsZWN0aW9uTWFwcGluZz0zMDY7dmFyIEN1YmVVVlJlZnJhY3Rpb25NYXBwaW5nPTMwNzt2YXIgUmVwZWF0V3JhcHBpbmc9MTAwMDt2YXIgQ2xhbXBUb0VkZ2VXcmFwcGluZz0xMDAxO3ZhciBNaXJyb3JlZFJlcGVhdFdyYXBwaW5nPTEwMDI7dmFyIE5lYXJlc3RGaWx0ZXI9MTAwMzt2YXIgTmVhcmVzdE1pcG1hcE5lYXJlc3RGaWx0ZXI9MTAwNDt2YXIgTmVhcmVzdE1pcE1hcE5lYXJlc3RGaWx0ZXI9MTAwNDt2YXIgTmVhcmVzdE1pcG1hcExpbmVhckZpbHRlcj0xMDA1O3ZhciBOZWFyZXN0TWlwTWFwTGluZWFyRmlsdGVyPTEwMDU7dmFyIExpbmVhckZpbHRlcj0xMDA2O3ZhciBMaW5lYXJNaXBtYXBOZWFyZXN0RmlsdGVyPTEwMDc7dmFyIExpbmVhck1pcE1hcE5lYXJlc3RGaWx0ZXI9MTAwNzt2YXIgTGluZWFyTWlwbWFwTGluZWFyRmlsdGVyPTEwMDg7dmFyIExpbmVhck1pcE1hcExpbmVhckZpbHRlcj0xMDA4O3ZhciBVbnNpZ25lZEJ5dGVUeXBlPTEwMDk7dmFyIEJ5dGVUeXBlPTEwMTA7dmFyIFNob3J0VHlwZT0xMDExO3ZhciBVbnNpZ25lZFNob3J0VHlwZT0xMDEyO3ZhciBJbnRUeXBlPTEwMTM7dmFyIFVuc2lnbmVkSW50VHlwZT0xMDE0O3ZhciBGbG9hdFR5cGU9MTAxNTt2YXIgSGFsZkZsb2F0VHlwZT0xMDE2O3ZhciBVbnNpZ25lZFNob3J0NDQ0NFR5cGU9MTAxNzt2YXIgVW5zaWduZWRTaG9ydDU1NTFUeXBlPTEwMTg7dmFyIFVuc2lnbmVkSW50MjQ4VHlwZT0xMDIwO3ZhciBBbHBoYUZvcm1hdD0xMDIxO3ZhciBSR0JGb3JtYXQ9MTAyMjt2YXIgUkdCQUZvcm1hdD0xMDIzO3ZhciBMdW1pbmFuY2VGb3JtYXQ9MTAyNDt2YXIgTHVtaW5hbmNlQWxwaGFGb3JtYXQ9MTAyNTt2YXIgRGVwdGhGb3JtYXQ9MTAyNjt2YXIgRGVwdGhTdGVuY2lsRm9ybWF0PTEwMjc7dmFyIFJlZEZvcm1hdD0xMDI4O3ZhciBSZWRJbnRlZ2VyRm9ybWF0PTEwMjk7dmFyIFJHRm9ybWF0PTEwMzA7dmFyIFJHSW50ZWdlckZvcm1hdD0xMDMxO3ZhciBSR0JBSW50ZWdlckZvcm1hdD0xMDMzO3ZhciBSR0JfUzNUQ19EWFQxX0Zvcm1hdD0zMzc3Njt2YXIgUkdCQV9TM1RDX0RYVDFfRm9ybWF0PTMzNzc3O3ZhciBSR0JBX1MzVENfRFhUM19Gb3JtYXQ9MzM3Nzg7dmFyIFJHQkFfUzNUQ19EWFQ1X0Zvcm1hdD0zMzc3OTt2YXIgUkdCX1BWUlRDXzRCUFBWMV9Gb3JtYXQ9MzU4NDA7dmFyIFJHQl9QVlJUQ18yQlBQVjFfRm9ybWF0PTM1ODQxO3ZhciBSR0JBX1BWUlRDXzRCUFBWMV9Gb3JtYXQ9MzU4NDI7dmFyIFJHQkFfUFZSVENfMkJQUFYxX0Zvcm1hdD0zNTg0Mzt2YXIgUkdCX0VUQzFfRm9ybWF0PTM2MTk2O3ZhciBSR0JfRVRDMl9Gb3JtYXQ9Mzc0OTI7dmFyIFJHQkFfRVRDMl9FQUNfRm9ybWF0PTM3NDk2O3ZhciBSR0JBX0FTVENfNHg0X0Zvcm1hdD0zNzgwODt2YXIgUkdCQV9BU1RDXzV4NF9Gb3JtYXQ9Mzc4MDk7dmFyIFJHQkFfQVNUQ181eDVfRm9ybWF0PTM3ODEwO3ZhciBSR0JBX0FTVENfNng1X0Zvcm1hdD0zNzgxMTt2YXIgUkdCQV9BU1RDXzZ4Nl9Gb3JtYXQ9Mzc4MTI7dmFyIFJHQkFfQVNUQ184eDVfRm9ybWF0PTM3ODEzO3ZhciBSR0JBX0FTVENfOHg2X0Zvcm1hdD0zNzgxNDt2YXIgUkdCQV9BU1RDXzh4OF9Gb3JtYXQ9Mzc4MTU7dmFyIFJHQkFfQVNUQ18xMHg1X0Zvcm1hdD0zNzgxNjt2YXIgUkdCQV9BU1RDXzEweDZfRm9ybWF0PTM3ODE3O3ZhciBSR0JBX0FTVENfMTB4OF9Gb3JtYXQ9Mzc4MTg7dmFyIFJHQkFfQVNUQ18xMHgxMF9Gb3JtYXQ9Mzc4MTk7dmFyIFJHQkFfQVNUQ18xMngxMF9Gb3JtYXQ9Mzc4MjA7dmFyIFJHQkFfQVNUQ18xMngxMl9Gb3JtYXQ9Mzc4MjE7dmFyIFJHQkFfQlBUQ19Gb3JtYXQ9MzY0OTI7dmFyIExvb3BPbmNlPTIyMDA7dmFyIExvb3BSZXBlYXQ9MjIwMTt2YXIgTG9vcFBpbmdQb25nPTIyMDI7dmFyIEludGVycG9sYXRlRGlzY3JldGU9MjMwMDt2YXIgSW50ZXJwb2xhdGVMaW5lYXI9MjMwMTt2YXIgSW50ZXJwb2xhdGVTbW9vdGg9MjMwMjt2YXIgWmVyb0N1cnZhdHVyZUVuZGluZz0yNDAwO3ZhciBaZXJvU2xvcGVFbmRpbmc9MjQwMTt2YXIgV3JhcEFyb3VuZEVuZGluZz0yNDAyO3ZhciBOb3JtYWxBbmltYXRpb25CbGVuZE1vZGU9MjUwMDt2YXIgQWRkaXRpdmVBbmltYXRpb25CbGVuZE1vZGU9MjUwMTt2YXIgVHJpYW5nbGVzRHJhd01vZGU9MDt2YXIgVHJpYW5nbGVTdHJpcERyYXdNb2RlPTE7dmFyIFRyaWFuZ2xlRmFuRHJhd01vZGU9Mjt2YXIgTGluZWFyRW5jb2Rpbmc9MzAwMDt2YXIgc1JHQkVuY29kaW5nPTMwMDE7dmFyIEJhc2ljRGVwdGhQYWNraW5nPTMyMDA7dmFyIFJHQkFEZXB0aFBhY2tpbmc9MzIwMTt2YXIgVGFuZ2VudFNwYWNlTm9ybWFsTWFwPTA7dmFyIE9iamVjdFNwYWNlTm9ybWFsTWFwPTE7dmFyIFplcm9TdGVuY2lsT3A9MDt2YXIgS2VlcFN0ZW5jaWxPcD03NjgwO3ZhciBSZXBsYWNlU3RlbmNpbE9wPTc2ODE7dmFyIEluY3JlbWVudFN0ZW5jaWxPcD03NjgyO3ZhciBEZWNyZW1lbnRTdGVuY2lsT3A9NzY4Mzt2YXIgSW5jcmVtZW50V3JhcFN0ZW5jaWxPcD0zNDA1NTt2YXIgRGVjcmVtZW50V3JhcFN0ZW5jaWxPcD0zNDA1Njt2YXIgSW52ZXJ0U3RlbmNpbE9wPTUzODY7dmFyIE5ldmVyU3RlbmNpbEZ1bmM9NTEyO3ZhciBMZXNzU3RlbmNpbEZ1bmM9NTEzO3ZhciBFcXVhbFN0ZW5jaWxGdW5jPTUxNDt2YXIgTGVzc0VxdWFsU3RlbmNpbEZ1bmM9NTE1O3ZhciBHcmVhdGVyU3RlbmNpbEZ1bmM9NTE2O3ZhciBOb3RFcXVhbFN0ZW5jaWxGdW5jPTUxNzt2YXIgR3JlYXRlckVxdWFsU3RlbmNpbEZ1bmM9NTE4O3ZhciBBbHdheXNTdGVuY2lsRnVuYz01MTk7dmFyIFN0YXRpY0RyYXdVc2FnZT0zNTA0NDt2YXIgRHluYW1pY0RyYXdVc2FnZT0zNTA0ODt2YXIgU3RyZWFtRHJhd1VzYWdlPTM1MDQwO3ZhciBTdGF0aWNSZWFkVXNhZ2U9MzUwNDU7dmFyIER5bmFtaWNSZWFkVXNhZ2U9MzUwNDk7dmFyIFN0cmVhbVJlYWRVc2FnZT0zNTA0MTt2YXIgU3RhdGljQ29weVVzYWdlPTM1MDQ2O3ZhciBEeW5hbWljQ29weVVzYWdlPTM1MDUwO3ZhciBTdHJlYW1Db3B5VXNhZ2U9MzUwNDI7dmFyIEdMU0wxPScxMDAnO3ZhciBHTFNMMz0nMzAwIGVzJzt2YXIgX1NSR0JBRm9ybWF0PTEwMzU7Ly8gZmFsbGJhY2sgZm9yIFdlYkdMIDEKLyoqCiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9tcmRvb2IvZXZlbnRkaXNwYXRjaGVyLmpzLwogKi92YXIgRXZlbnREaXNwYXRjaGVyPS8qI19fUFVSRV9fKi9mdW5jdGlvbigpe2Z1bmN0aW9uIEV2ZW50RGlzcGF0Y2hlcigpe19jbGFzc0NhbGxDaGVjayh0aGlzLEV2ZW50RGlzcGF0Y2hlcik7fV9jcmVhdGVDbGFzcyhFdmVudERpc3BhdGNoZXIsW3trZXk6ImFkZEV2ZW50TGlzdGVuZXIiLHZhbHVlOmZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXIodHlwZSxsaXN0ZW5lcil7aWYodGhpcy5fbGlzdGVuZXJzPT09dW5kZWZpbmVkKXRoaXMuX2xpc3RlbmVycz17fTt2YXIgbGlzdGVuZXJzPXRoaXMuX2xpc3RlbmVycztpZihsaXN0ZW5lcnNbdHlwZV09PT11bmRlZmluZWQpe2xpc3RlbmVyc1t0eXBlXT1bXTt9aWYobGlzdGVuZXJzW3R5cGVdLmluZGV4T2YobGlzdGVuZXIpPT09LTEpe2xpc3RlbmVyc1t0eXBlXS5wdXNoKGxpc3RlbmVyKTt9fX0se2tleToiaGFzRXZlbnRMaXN0ZW5lciIsdmFsdWU6ZnVuY3Rpb24gaGFzRXZlbnRMaXN0ZW5lcih0eXBlLGxpc3RlbmVyKXtpZih0aGlzLl9saXN0ZW5lcnM9PT11bmRlZmluZWQpcmV0dXJuIGZhbHNlO3ZhciBsaXN0ZW5lcnM9dGhpcy5fbGlzdGVuZXJzO3JldHVybiBsaXN0ZW5lcnNbdHlwZV0hPT11bmRlZmluZWQmJmxpc3RlbmVyc1t0eXBlXS5pbmRleE9mKGxpc3RlbmVyKSE9PS0xO319LHtrZXk6InJlbW92ZUV2ZW50TGlzdGVuZXIiLHZhbHVlOmZ1bmN0aW9uIHJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSxsaXN0ZW5lcil7aWYodGhpcy5fbGlzdGVuZXJzPT09dW5kZWZpbmVkKXJldHVybjt2YXIgbGlzdGVuZXJzPXRoaXMuX2xpc3RlbmVyczt2YXIgbGlzdGVuZXJBcnJheT1saXN0ZW5lcnNbdHlwZV07aWYobGlzdGVuZXJBcnJheSE9PXVuZGVmaW5lZCl7dmFyIGluZGV4PWxpc3RlbmVyQXJyYXkuaW5kZXhPZihsaXN0ZW5lcik7aWYoaW5kZXghPT0tMSl7bGlzdGVuZXJBcnJheS5zcGxpY2UoaW5kZXgsMSk7fX19fSx7a2V5OiJkaXNwYXRjaEV2ZW50Iix2YWx1ZTpmdW5jdGlvbiBkaXNwYXRjaEV2ZW50KGV2ZW50KXtpZih0aGlzLl9saXN0ZW5lcnM9PT11bmRlZmluZWQpcmV0dXJuO3ZhciBsaXN0ZW5lcnM9dGhpcy5fbGlzdGVuZXJzO3ZhciBsaXN0ZW5lckFycmF5PWxpc3RlbmVyc1tldmVudC50eXBlXTtpZihsaXN0ZW5lckFycmF5IT09dW5kZWZpbmVkKXtldmVudC50YXJnZXQ9dGhpczsvLyBNYWtlIGEgY29weSwgaW4gY2FzZSBsaXN0ZW5lcnMgYXJlIHJlbW92ZWQgd2hpbGUgaXRlcmF0aW5nLgp2YXIgYXJyYXk9bGlzdGVuZXJBcnJheS5zbGljZSgwKTtmb3IodmFyIGk9MCxsPWFycmF5Lmxlbmd0aDtpPGw7aSsrKXthcnJheVtpXS5jYWxsKHRoaXMsZXZlbnQpO31ldmVudC50YXJnZXQ9bnVsbDt9fX1dKTtyZXR1cm4gRXZlbnREaXNwYXRjaGVyO30oKTt2YXIgX2x1dD1bXTtmb3IodmFyIGk9MDtpPDI1NjtpKyspe19sdXRbaV09KGk8MTY/JzAnOicnKStpLnRvU3RyaW5nKDE2KTt9dmFyIF9zZWVkPTEyMzQ1Njc7dmFyIERFRzJSQUQ9TWF0aC5QSS8xODA7dmFyIFJBRDJERUc9MTgwL01hdGguUEk7Ly8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xMDUwMzQvaG93LXRvLWNyZWF0ZS1hLWd1aWQtdXVpZC1pbi1qYXZhc2NyaXB0LzIxOTYzMTM2IzIxOTYzMTM2CmZ1bmN0aW9uIGdlbmVyYXRlVVVJRCgpe3ZhciBkMD1NYXRoLnJhbmRvbSgpKjB4ZmZmZmZmZmZ8MDt2YXIgZDE9TWF0aC5yYW5kb20oKSoweGZmZmZmZmZmfDA7dmFyIGQyPU1hdGgucmFuZG9tKCkqMHhmZmZmZmZmZnwwO3ZhciBkMz1NYXRoLnJhbmRvbSgpKjB4ZmZmZmZmZmZ8MDt2YXIgdXVpZD1fbHV0W2QwJjB4ZmZdK19sdXRbZDA+PjgmMHhmZl0rX2x1dFtkMD4+MTYmMHhmZl0rX2x1dFtkMD4+MjQmMHhmZl0rJy0nK19sdXRbZDEmMHhmZl0rX2x1dFtkMT4+OCYweGZmXSsnLScrX2x1dFtkMT4+MTYmMHgwZnwweDQwXStfbHV0W2QxPj4yNCYweGZmXSsnLScrX2x1dFtkMiYweDNmfDB4ODBdK19sdXRbZDI+PjgmMHhmZl0rJy0nK19sdXRbZDI+PjE2JjB4ZmZdK19sdXRbZDI+PjI0JjB4ZmZdK19sdXRbZDMmMHhmZl0rX2x1dFtkMz4+OCYweGZmXStfbHV0W2QzPj4xNiYweGZmXStfbHV0W2QzPj4yNCYweGZmXTsvLyAudG9VcHBlckNhc2UoKSBoZXJlIGZsYXR0ZW5zIGNvbmNhdGVuYXRlZCBzdHJpbmdzIHRvIHNhdmUgaGVhcCBtZW1vcnkgc3BhY2UuCnJldHVybiB1dWlkLnRvVXBwZXJDYXNlKCk7fWZ1bmN0aW9uIGNsYW1wKHZhbHVlLG1pbixtYXgpe3JldHVybiBNYXRoLm1heChtaW4sTWF0aC5taW4obWF4LHZhbHVlKSk7fS8vIGNvbXB1dGUgZXVjbGlkaWFuIG1vZHVsbyBvZiBtICUgbgovLyBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Nb2R1bG9fb3BlcmF0aW9uCmZ1bmN0aW9uIGV1Y2xpZGVhbk1vZHVsbyhuLG0pe3JldHVybihuJW0rbSklbTt9Ly8gTGluZWFyIG1hcHBpbmcgZnJvbSByYW5nZSA8YTEsIGEyPiB0byByYW5nZSA8YjEsIGIyPgpmdW5jdGlvbiBtYXBMaW5lYXIoeCxhMSxhMixiMSxiMil7cmV0dXJuIGIxKyh4LWExKSooYjItYjEpLyhhMi1hMSk7fS8vIGh0dHBzOi8vd3d3LmdhbWVkZXYubmV0L3R1dG9yaWFscy9wcm9ncmFtbWluZy9nZW5lcmFsLWFuZC1nYW1lcGxheS1wcm9ncmFtbWluZy9pbnZlcnNlLWxlcnAtYS1zdXBlci11c2VmdWwteWV0LW9mdGVuLW92ZXJsb29rZWQtZnVuY3Rpb24tcjUyMzAvCmZ1bmN0aW9uIGludmVyc2VMZXJwKHgseSx2YWx1ZSl7aWYoeCE9PXkpe3JldHVybih2YWx1ZS14KS8oeS14KTt9ZWxzZXtyZXR1cm4gMDt9fS8vIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xpbmVhcl9pbnRlcnBvbGF0aW9uCmZ1bmN0aW9uIGxlcnAoeCx5LHQpe3JldHVybigxLXQpKngrdCp5O30vLyBodHRwOi8vd3d3LnJvcnlkcmlzY29sbC5jb20vMjAxNi8wMy8wNy9mcmFtZS1yYXRlLWluZGVwZW5kZW50LWRhbXBpbmctdXNpbmctbGVycC8KZnVuY3Rpb24gZGFtcCh4LHksbGFtYmRhLGR0KXtyZXR1cm4gbGVycCh4LHksMS1NYXRoLmV4cCgtbGFtYmRhKmR0KSk7fS8vIGh0dHBzOi8vd3d3LmRlc21vcy5jb20vY2FsY3VsYXRvci92Y3Nqbnl6N3g0CmZ1bmN0aW9uIHBpbmdwb25nKHgpe3ZhciBsZW5ndGg9YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzFdOjE7cmV0dXJuIGxlbmd0aC1NYXRoLmFicyhldWNsaWRlYW5Nb2R1bG8oeCxsZW5ndGgqMiktbGVuZ3RoKTt9Ly8gaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9TbW9vdGhzdGVwCmZ1bmN0aW9uIHNtb290aHN0ZXAoeCxtaW4sbWF4KXtpZih4PD1taW4pcmV0dXJuIDA7aWYoeD49bWF4KXJldHVybiAxO3g9KHgtbWluKS8obWF4LW1pbik7cmV0dXJuIHgqeCooMy0yKngpO31mdW5jdGlvbiBzbW9vdGhlcnN0ZXAoeCxtaW4sbWF4KXtpZih4PD1taW4pcmV0dXJuIDA7aWYoeD49bWF4KXJldHVybiAxO3g9KHgtbWluKS8obWF4LW1pbik7cmV0dXJuIHgqeCp4Kih4Kih4KjYtMTUpKzEwKTt9Ly8gUmFuZG9tIGludGVnZXIgZnJvbSA8bG93LCBoaWdoPiBpbnRlcnZhbApmdW5jdGlvbiByYW5kSW50KGxvdyxoaWdoKXtyZXR1cm4gbG93K01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSooaGlnaC1sb3crMSkpO30vLyBSYW5kb20gZmxvYXQgZnJvbSA8bG93LCBoaWdoPiBpbnRlcnZhbApmdW5jdGlvbiByYW5kRmxvYXQobG93LGhpZ2gpe3JldHVybiBsb3crTWF0aC5yYW5kb20oKSooaGlnaC1sb3cpO30vLyBSYW5kb20gZmxvYXQgZnJvbSA8LXJhbmdlLzIsIHJhbmdlLzI+IGludGVydmFsCmZ1bmN0aW9uIHJhbmRGbG9hdFNwcmVhZChyYW5nZSl7cmV0dXJuIHJhbmdlKigwLjUtTWF0aC5yYW5kb20oKSk7fS8vIERldGVybWluaXN0aWMgcHNldWRvLXJhbmRvbSBmbG9hdCBpbiB0aGUgaW50ZXJ2YWwgWyAwLCAxIF0KZnVuY3Rpb24gc2VlZGVkUmFuZG9tKHMpe2lmKHMhPT11bmRlZmluZWQpX3NlZWQ9cyUyMTQ3NDgzNjQ3Oy8vIFBhcmstTWlsbGVyIGFsZ29yaXRobQpfc2VlZD1fc2VlZCoxNjgwNyUyMTQ3NDgzNjQ3O3JldHVybihfc2VlZC0xKS8yMTQ3NDgzNjQ2O31mdW5jdGlvbiBkZWdUb1JhZChkZWdyZWVzKXtyZXR1cm4gZGVncmVlcypERUcyUkFEO31mdW5jdGlvbiByYWRUb0RlZyhyYWRpYW5zKXtyZXR1cm4gcmFkaWFucypSQUQyREVHO31mdW5jdGlvbiBpc1Bvd2VyT2ZUd28odmFsdWUpe3JldHVybih2YWx1ZSZ2YWx1ZS0xKT09PTAmJnZhbHVlIT09MDt9ZnVuY3Rpb24gY2VpbFBvd2VyT2ZUd28odmFsdWUpe3JldHVybiBNYXRoLnBvdygyLE1hdGguY2VpbChNYXRoLmxvZyh2YWx1ZSkvTWF0aC5MTjIpKTt9ZnVuY3Rpb24gZmxvb3JQb3dlck9mVHdvKHZhbHVlKXtyZXR1cm4gTWF0aC5wb3coMixNYXRoLmZsb29yKE1hdGgubG9nKHZhbHVlKS9NYXRoLkxOMikpO31mdW5jdGlvbiBzZXRRdWF0ZXJuaW9uRnJvbVByb3BlckV1bGVyKHEsYSxiLGMsb3JkZXIpey8vIEludHJpbnNpYyBQcm9wZXIgRXVsZXIgQW5nbGVzIC0gc2VlIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0V1bGVyX2FuZ2xlcwovLyByb3RhdGlvbnMgYXJlIGFwcGxpZWQgdG8gdGhlIGF4ZXMgaW4gdGhlIG9yZGVyIHNwZWNpZmllZCBieSAnb3JkZXInCi8vIHJvdGF0aW9uIGJ5IGFuZ2xlICdhJyBpcyBhcHBsaWVkIGZpcnN0LCB0aGVuIGJ5IGFuZ2xlICdiJywgdGhlbiBieSBhbmdsZSAnYycKLy8gYW5nbGVzIGFyZSBpbiByYWRpYW5zCnZhciBjb3M9TWF0aC5jb3M7dmFyIHNpbj1NYXRoLnNpbjt2YXIgYzI9Y29zKGIvMik7dmFyIHMyPXNpbihiLzIpO3ZhciBjMTM9Y29zKChhK2MpLzIpO3ZhciBzMTM9c2luKChhK2MpLzIpO3ZhciBjMV8zPWNvcygoYS1jKS8yKTt2YXIgczFfMz1zaW4oKGEtYykvMik7dmFyIGMzXzE9Y29zKChjLWEpLzIpO3ZhciBzM18xPXNpbigoYy1hKS8yKTtzd2l0Y2gob3JkZXIpe2Nhc2UnWFlYJzpxLnNldChjMipzMTMsczIqYzFfMyxzMipzMV8zLGMyKmMxMyk7YnJlYWs7Y2FzZSdZWlknOnEuc2V0KHMyKnMxXzMsYzIqczEzLHMyKmMxXzMsYzIqYzEzKTticmVhaztjYXNlJ1pYWic6cS5zZXQoczIqYzFfMyxzMipzMV8zLGMyKnMxMyxjMipjMTMpO2JyZWFrO2Nhc2UnWFpYJzpxLnNldChjMipzMTMsczIqczNfMSxzMipjM18xLGMyKmMxMyk7YnJlYWs7Y2FzZSdZWFknOnEuc2V0KHMyKmMzXzEsYzIqczEzLHMyKnMzXzEsYzIqYzEzKTticmVhaztjYXNlJ1pZWic6cS5zZXQoczIqczNfMSxzMipjM18xLGMyKnMxMyxjMipjMTMpO2JyZWFrO2RlZmF1bHQ6Y29uc29sZS53YXJuKCdUSFJFRS5NYXRoVXRpbHM6IC5zZXRRdWF0ZXJuaW9uRnJvbVByb3BlckV1bGVyKCkgZW5jb3VudGVyZWQgYW4gdW5rbm93biBvcmRlcjogJytvcmRlcik7fX12YXIgTWF0aFV0aWxzPS8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxERUcyUkFEOkRFRzJSQUQsUkFEMkRFRzpSQUQyREVHLGdlbmVyYXRlVVVJRDpnZW5lcmF0ZVVVSUQsY2xhbXA6Y2xhbXAsZXVjbGlkZWFuTW9kdWxvOmV1Y2xpZGVhbk1vZHVsbyxtYXBMaW5lYXI6bWFwTGluZWFyLGludmVyc2VMZXJwOmludmVyc2VMZXJwLGxlcnA6bGVycCxkYW1wOmRhbXAscGluZ3Bvbmc6cGluZ3Bvbmcsc21vb3Roc3RlcDpzbW9vdGhzdGVwLHNtb290aGVyc3RlcDpzbW9vdGhlcnN0ZXAscmFuZEludDpyYW5kSW50LHJhbmRGbG9hdDpyYW5kRmxvYXQscmFuZEZsb2F0U3ByZWFkOnJhbmRGbG9hdFNwcmVhZCxzZWVkZWRSYW5kb206c2VlZGVkUmFuZG9tLGRlZ1RvUmFkOmRlZ1RvUmFkLHJhZFRvRGVnOnJhZFRvRGVnLGlzUG93ZXJPZlR3bzppc1Bvd2VyT2ZUd28sY2VpbFBvd2VyT2ZUd286Y2VpbFBvd2VyT2ZUd28sZmxvb3JQb3dlck9mVHdvOmZsb29yUG93ZXJPZlR3byxzZXRRdWF0ZXJuaW9uRnJvbVByb3BlckV1bGVyOnNldFF1YXRlcm5pb25Gcm9tUHJvcGVyRXVsZXJ9KTt2YXIgVmVjdG9yMj0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX1N5bWJvbCRpdGVyYXRvcil7ZnVuY3Rpb24gVmVjdG9yMigpe3ZhciB4PWFyZ3VtZW50cy5sZW5ndGg+MCYmYXJndW1lbnRzWzBdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1swXTowO3ZhciB5PWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1sxXTowO19jbGFzc0NhbGxDaGVjayh0aGlzLFZlY3RvcjIpO3RoaXMueD14O3RoaXMueT15O31fY3JlYXRlQ2xhc3MoVmVjdG9yMixbe2tleToid2lkdGgiLGdldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy54O30sc2V0OmZ1bmN0aW9uIHNldCh2YWx1ZSl7dGhpcy54PXZhbHVlO319LHtrZXk6ImhlaWdodCIsZ2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiB0aGlzLnk7fSxzZXQ6ZnVuY3Rpb24gc2V0KHZhbHVlKXt0aGlzLnk9dmFsdWU7fX0se2tleToic2V0Iix2YWx1ZTpmdW5jdGlvbiBzZXQoeCx5KXt0aGlzLng9eDt0aGlzLnk9eTtyZXR1cm4gdGhpczt9fSx7a2V5OiJzZXRTY2FsYXIiLHZhbHVlOmZ1bmN0aW9uIHNldFNjYWxhcihzY2FsYXIpe3RoaXMueD1zY2FsYXI7dGhpcy55PXNjYWxhcjtyZXR1cm4gdGhpczt9fSx7a2V5OiJzZXRYIix2YWx1ZTpmdW5jdGlvbiBzZXRYKHgpe3RoaXMueD14O3JldHVybiB0aGlzO319LHtrZXk6InNldFkiLHZhbHVlOmZ1bmN0aW9uIHNldFkoeSl7dGhpcy55PXk7cmV0dXJuIHRoaXM7fX0se2tleToic2V0Q29tcG9uZW50Iix2YWx1ZTpmdW5jdGlvbiBzZXRDb21wb25lbnQoaW5kZXgsdmFsdWUpe3N3aXRjaChpbmRleCl7Y2FzZSAwOnRoaXMueD12YWx1ZTticmVhaztjYXNlIDE6dGhpcy55PXZhbHVlO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCdpbmRleCBpcyBvdXQgb2YgcmFuZ2U6ICcraW5kZXgpO31yZXR1cm4gdGhpczt9fSx7a2V5OiJnZXRDb21wb25lbnQiLHZhbHVlOmZ1bmN0aW9uIGdldENvbXBvbmVudChpbmRleCl7c3dpdGNoKGluZGV4KXtjYXNlIDA6cmV0dXJuIHRoaXMueDtjYXNlIDE6cmV0dXJuIHRoaXMueTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcignaW5kZXggaXMgb3V0IG9mIHJhbmdlOiAnK2luZGV4KTt9fX0se2tleToiY2xvbmUiLHZhbHVlOmZ1bmN0aW9uIGNsb25lKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMueCx0aGlzLnkpO319LHtrZXk6ImNvcHkiLHZhbHVlOmZ1bmN0aW9uIGNvcHkodil7dGhpcy54PXYueDt0aGlzLnk9di55O3JldHVybiB0aGlzO319LHtrZXk6ImFkZCIsdmFsdWU6ZnVuY3Rpb24gYWRkKHYsdyl7aWYodyE9PXVuZGVmaW5lZCl7Y29uc29sZS53YXJuKCdUSFJFRS5WZWN0b3IyOiAuYWRkKCkgbm93IG9ubHkgYWNjZXB0cyBvbmUgYXJndW1lbnQuIFVzZSAuYWRkVmVjdG9ycyggYSwgYiApIGluc3RlYWQuJyk7cmV0dXJuIHRoaXMuYWRkVmVjdG9ycyh2LHcpO310aGlzLngrPXYueDt0aGlzLnkrPXYueTtyZXR1cm4gdGhpczt9fSx7a2V5OiJhZGRTY2FsYXIiLHZhbHVlOmZ1bmN0aW9uIGFkZFNjYWxhcihzKXt0aGlzLngrPXM7dGhpcy55Kz1zO3JldHVybiB0aGlzO319LHtrZXk6ImFkZFZlY3RvcnMiLHZhbHVlOmZ1bmN0aW9uIGFkZFZlY3RvcnMoYSxiKXt0aGlzLng9YS54K2IueDt0aGlzLnk9YS55K2IueTtyZXR1cm4gdGhpczt9fSx7a2V5OiJhZGRTY2FsZWRWZWN0b3IiLHZhbHVlOmZ1bmN0aW9uIGFkZFNjYWxlZFZlY3Rvcih2LHMpe3RoaXMueCs9di54KnM7dGhpcy55Kz12LnkqcztyZXR1cm4gdGhpczt9fSx7a2V5OiJzdWIiLHZhbHVlOmZ1bmN0aW9uIHN1Yih2LHcpe2lmKHchPT11bmRlZmluZWQpe2NvbnNvbGUud2FybignVEhSRUUuVmVjdG9yMjogLnN1YigpIG5vdyBvbmx5IGFjY2VwdHMgb25lIGFyZ3VtZW50LiBVc2UgLnN1YlZlY3RvcnMoIGEsIGIgKSBpbnN0ZWFkLicpO3JldHVybiB0aGlzLnN1YlZlY3RvcnModix3KTt9dGhpcy54LT12Lng7dGhpcy55LT12Lnk7cmV0dXJuIHRoaXM7fX0se2tleToic3ViU2NhbGFyIix2YWx1ZTpmdW5jdGlvbiBzdWJTY2FsYXIocyl7dGhpcy54LT1zO3RoaXMueS09cztyZXR1cm4gdGhpczt9fSx7a2V5OiJzdWJWZWN0b3JzIix2YWx1ZTpmdW5jdGlvbiBzdWJWZWN0b3JzKGEsYil7dGhpcy54PWEueC1iLng7dGhpcy55PWEueS1iLnk7cmV0dXJuIHRoaXM7fX0se2tleToibXVsdGlwbHkiLHZhbHVlOmZ1bmN0aW9uIG11bHRpcGx5KHYpe3RoaXMueCo9di54O3RoaXMueSo9di55O3JldHVybiB0aGlzO319LHtrZXk6Im11bHRpcGx5U2NhbGFyIix2YWx1ZTpmdW5jdGlvbiBtdWx0aXBseVNjYWxhcihzY2FsYXIpe3RoaXMueCo9c2NhbGFyO3RoaXMueSo9c2NhbGFyO3JldHVybiB0aGlzO319LHtrZXk6ImRpdmlkZSIsdmFsdWU6ZnVuY3Rpb24gZGl2aWRlKHYpe3RoaXMueC89di54O3RoaXMueS89di55O3JldHVybiB0aGlzO319LHtrZXk6ImRpdmlkZVNjYWxhciIsdmFsdWU6ZnVuY3Rpb24gZGl2aWRlU2NhbGFyKHNjYWxhcil7cmV0dXJuIHRoaXMubXVsdGlwbHlTY2FsYXIoMS9zY2FsYXIpO319LHtrZXk6ImFwcGx5TWF0cml4MyIsdmFsdWU6ZnVuY3Rpb24gYXBwbHlNYXRyaXgzKG0pe3ZhciB4PXRoaXMueCx5PXRoaXMueTt2YXIgZT1tLmVsZW1lbnRzO3RoaXMueD1lWzBdKngrZVszXSp5K2VbNl07dGhpcy55PWVbMV0qeCtlWzRdKnkrZVs3XTtyZXR1cm4gdGhpczt9fSx7a2V5OiJtaW4iLHZhbHVlOmZ1bmN0aW9uIG1pbih2KXt0aGlzLng9TWF0aC5taW4odGhpcy54LHYueCk7dGhpcy55PU1hdGgubWluKHRoaXMueSx2LnkpO3JldHVybiB0aGlzO319LHtrZXk6Im1heCIsdmFsdWU6ZnVuY3Rpb24gbWF4KHYpe3RoaXMueD1NYXRoLm1heCh0aGlzLngsdi54KTt0aGlzLnk9TWF0aC5tYXgodGhpcy55LHYueSk7cmV0dXJuIHRoaXM7fX0se2tleToiY2xhbXAiLHZhbHVlOmZ1bmN0aW9uIGNsYW1wKG1pbixtYXgpey8vIGFzc3VtZXMgbWluIDwgbWF4LCBjb21wb25lbnR3aXNlCnRoaXMueD1NYXRoLm1heChtaW4ueCxNYXRoLm1pbihtYXgueCx0aGlzLngpKTt0aGlzLnk9TWF0aC5tYXgobWluLnksTWF0aC5taW4obWF4LnksdGhpcy55KSk7cmV0dXJuIHRoaXM7fX0se2tleToiY2xhbXBTY2FsYXIiLHZhbHVlOmZ1bmN0aW9uIGNsYW1wU2NhbGFyKG1pblZhbCxtYXhWYWwpe3RoaXMueD1NYXRoLm1heChtaW5WYWwsTWF0aC5taW4obWF4VmFsLHRoaXMueCkpO3RoaXMueT1NYXRoLm1heChtaW5WYWwsTWF0aC5taW4obWF4VmFsLHRoaXMueSkpO3JldHVybiB0aGlzO319LHtrZXk6ImNsYW1wTGVuZ3RoIix2YWx1ZTpmdW5jdGlvbiBjbGFtcExlbmd0aChtaW4sbWF4KXt2YXIgbGVuZ3RoPXRoaXMubGVuZ3RoKCk7cmV0dXJuIHRoaXMuZGl2aWRlU2NhbGFyKGxlbmd0aHx8MSkubXVsdGlwbHlTY2FsYXIoTWF0aC5tYXgobWluLE1hdGgubWluKG1heCxsZW5ndGgpKSk7fX0se2tleToiZmxvb3IiLHZhbHVlOmZ1bmN0aW9uIGZsb29yKCl7dGhpcy54PU1hdGguZmxvb3IodGhpcy54KTt0aGlzLnk9TWF0aC5mbG9vcih0aGlzLnkpO3JldHVybiB0aGlzO319LHtrZXk6ImNlaWwiLHZhbHVlOmZ1bmN0aW9uIGNlaWwoKXt0aGlzLng9TWF0aC5jZWlsKHRoaXMueCk7dGhpcy55PU1hdGguY2VpbCh0aGlzLnkpO3JldHVybiB0aGlzO319LHtrZXk6InJvdW5kIix2YWx1ZTpmdW5jdGlvbiByb3VuZCgpe3RoaXMueD1NYXRoLnJvdW5kKHRoaXMueCk7dGhpcy55PU1hdGgucm91bmQodGhpcy55KTtyZXR1cm4gdGhpczt9fSx7a2V5OiJyb3VuZFRvWmVybyIsdmFsdWU6ZnVuY3Rpb24gcm91bmRUb1plcm8oKXt0aGlzLng9dGhpcy54PDA/TWF0aC5jZWlsKHRoaXMueCk6TWF0aC5mbG9vcih0aGlzLngpO3RoaXMueT10aGlzLnk8MD9NYXRoLmNlaWwodGhpcy55KTpNYXRoLmZsb29yKHRoaXMueSk7cmV0dXJuIHRoaXM7fX0se2tleToibmVnYXRlIix2YWx1ZTpmdW5jdGlvbiBuZWdhdGUoKXt0aGlzLng9LXRoaXMueDt0aGlzLnk9LXRoaXMueTtyZXR1cm4gdGhpczt9fSx7a2V5OiJkb3QiLHZhbHVlOmZ1bmN0aW9uIGRvdCh2KXtyZXR1cm4gdGhpcy54KnYueCt0aGlzLnkqdi55O319LHtrZXk6ImNyb3NzIix2YWx1ZTpmdW5jdGlvbiBjcm9zcyh2KXtyZXR1cm4gdGhpcy54KnYueS10aGlzLnkqdi54O319LHtrZXk6Imxlbmd0aFNxIix2YWx1ZTpmdW5jdGlvbiBsZW5ndGhTcSgpe3JldHVybiB0aGlzLngqdGhpcy54K3RoaXMueSp0aGlzLnk7fX0se2tleToibGVuZ3RoIix2YWx1ZTpmdW5jdGlvbiBsZW5ndGgoKXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMueCp0aGlzLngrdGhpcy55KnRoaXMueSk7fX0se2tleToibWFuaGF0dGFuTGVuZ3RoIix2YWx1ZTpmdW5jdGlvbiBtYW5oYXR0YW5MZW5ndGgoKXtyZXR1cm4gTWF0aC5hYnModGhpcy54KStNYXRoLmFicyh0aGlzLnkpO319LHtrZXk6Im5vcm1hbGl6ZSIsdmFsdWU6ZnVuY3Rpb24gbm9ybWFsaXplKCl7cmV0dXJuIHRoaXMuZGl2aWRlU2NhbGFyKHRoaXMubGVuZ3RoKCl8fDEpO319LHtrZXk6ImFuZ2xlIix2YWx1ZTpmdW5jdGlvbiBhbmdsZSgpey8vIGNvbXB1dGVzIHRoZSBhbmdsZSBpbiByYWRpYW5zIHdpdGggcmVzcGVjdCB0byB0aGUgcG9zaXRpdmUgeC1heGlzCnZhciBhbmdsZT1NYXRoLmF0YW4yKC10aGlzLnksLXRoaXMueCkrTWF0aC5QSTtyZXR1cm4gYW5nbGU7fX0se2tleToiZGlzdGFuY2VUbyIsdmFsdWU6ZnVuY3Rpb24gZGlzdGFuY2VUbyh2KXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMuZGlzdGFuY2VUb1NxdWFyZWQodikpO319LHtrZXk6ImRpc3RhbmNlVG9TcXVhcmVkIix2YWx1ZTpmdW5jdGlvbiBkaXN0YW5jZVRvU3F1YXJlZCh2KXt2YXIgZHg9dGhpcy54LXYueCxkeT10aGlzLnktdi55O3JldHVybiBkeCpkeCtkeSpkeTt9fSx7a2V5OiJtYW5oYXR0YW5EaXN0YW5jZVRvIix2YWx1ZTpmdW5jdGlvbiBtYW5oYXR0YW5EaXN0YW5jZVRvKHYpe3JldHVybiBNYXRoLmFicyh0aGlzLngtdi54KStNYXRoLmFicyh0aGlzLnktdi55KTt9fSx7a2V5OiJzZXRMZW5ndGgiLHZhbHVlOmZ1bmN0aW9uIHNldExlbmd0aChsZW5ndGgpe3JldHVybiB0aGlzLm5vcm1hbGl6ZSgpLm11bHRpcGx5U2NhbGFyKGxlbmd0aCk7fX0se2tleToibGVycCIsdmFsdWU6ZnVuY3Rpb24gbGVycCh2LGFscGhhKXt0aGlzLngrPSh2LngtdGhpcy54KSphbHBoYTt0aGlzLnkrPSh2LnktdGhpcy55KSphbHBoYTtyZXR1cm4gdGhpczt9fSx7a2V5OiJsZXJwVmVjdG9ycyIsdmFsdWU6ZnVuY3Rpb24gbGVycFZlY3RvcnModjEsdjIsYWxwaGEpe3RoaXMueD12MS54Kyh2Mi54LXYxLngpKmFscGhhO3RoaXMueT12MS55Kyh2Mi55LXYxLnkpKmFscGhhO3JldHVybiB0aGlzO319LHtrZXk6ImVxdWFscyIsdmFsdWU6ZnVuY3Rpb24gZXF1YWxzKHYpe3JldHVybiB2Lng9PT10aGlzLngmJnYueT09PXRoaXMueTt9fSx7a2V5OiJmcm9tQXJyYXkiLHZhbHVlOmZ1bmN0aW9uIGZyb21BcnJheShhcnJheSl7dmFyIG9mZnNldD1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMV06MDt0aGlzLng9YXJyYXlbb2Zmc2V0XTt0aGlzLnk9YXJyYXlbb2Zmc2V0KzFdO3JldHVybiB0aGlzO319LHtrZXk6InRvQXJyYXkiLHZhbHVlOmZ1bmN0aW9uIHRvQXJyYXkoKXt2YXIgYXJyYXk9YXJndW1lbnRzLmxlbmd0aD4wJiZhcmd1bWVudHNbMF0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzBdOltdO3ZhciBvZmZzZXQ9YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzFdOjA7YXJyYXlbb2Zmc2V0XT10aGlzLng7YXJyYXlbb2Zmc2V0KzFdPXRoaXMueTtyZXR1cm4gYXJyYXk7fX0se2tleToiZnJvbUJ1ZmZlckF0dHJpYnV0ZSIsdmFsdWU6ZnVuY3Rpb24gZnJvbUJ1ZmZlckF0dHJpYnV0ZShhdHRyaWJ1dGUsaW5kZXgsb2Zmc2V0KXtpZihvZmZzZXQhPT11bmRlZmluZWQpe2NvbnNvbGUud2FybignVEhSRUUuVmVjdG9yMjogb2Zmc2V0IGhhcyBiZWVuIHJlbW92ZWQgZnJvbSAuZnJvbUJ1ZmZlckF0dHJpYnV0ZSgpLicpO310aGlzLng9YXR0cmlidXRlLmdldFgoaW5kZXgpO3RoaXMueT1hdHRyaWJ1dGUuZ2V0WShpbmRleCk7cmV0dXJuIHRoaXM7fX0se2tleToicm90YXRlQXJvdW5kIix2YWx1ZTpmdW5jdGlvbiByb3RhdGVBcm91bmQoY2VudGVyLGFuZ2xlKXt2YXIgYz1NYXRoLmNvcyhhbmdsZSkscz1NYXRoLnNpbihhbmdsZSk7dmFyIHg9dGhpcy54LWNlbnRlci54O3ZhciB5PXRoaXMueS1jZW50ZXIueTt0aGlzLng9eCpjLXkqcytjZW50ZXIueDt0aGlzLnk9eCpzK3kqYytjZW50ZXIueTtyZXR1cm4gdGhpczt9fSx7a2V5OiJyYW5kb20iLHZhbHVlOmZ1bmN0aW9uIHJhbmRvbSgpe3RoaXMueD1NYXRoLnJhbmRvbSgpO3RoaXMueT1NYXRoLnJhbmRvbSgpO3JldHVybiB0aGlzO319LHtrZXk6X1N5bWJvbCRpdGVyYXRvcix2YWx1ZTovKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gdmFsdWUoKXtyZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gdmFsdWUkKF9jb250ZXh0Mil7d2hpbGUoMSlzd2l0Y2goX2NvbnRleHQyLnByZXY9X2NvbnRleHQyLm5leHQpe2Nhc2UgMDpfY29udGV4dDIubmV4dD0yO3JldHVybiB0aGlzLng7Y2FzZSAyOl9jb250ZXh0Mi5uZXh0PTQ7cmV0dXJuIHRoaXMueTtjYXNlIDQ6Y2FzZSJlbmQiOnJldHVybiBfY29udGV4dDIuc3RvcCgpO319LHZhbHVlLHRoaXMpO30pfV0pO3JldHVybiBWZWN0b3IyO30oU3ltYm9sLml0ZXJhdG9yKTtWZWN0b3IyLnByb3RvdHlwZS5pc1ZlY3RvcjI9dHJ1ZTt2YXIgTWF0cml4Mz0vKiNfX1BVUkVfXyovZnVuY3Rpb24oKXtmdW5jdGlvbiBNYXRyaXgzKCl7X2NsYXNzQ2FsbENoZWNrKHRoaXMsTWF0cml4Myk7dGhpcy5lbGVtZW50cz1bMSwwLDAsMCwxLDAsMCwwLDFdO2lmKGFyZ3VtZW50cy5sZW5ndGg+MCl7Y29uc29sZS5lcnJvcignVEhSRUUuTWF0cml4MzogdGhlIGNvbnN0cnVjdG9yIG5vIGxvbmdlciByZWFkcyBhcmd1bWVudHMuIHVzZSAuc2V0KCkgaW5zdGVhZC4nKTt9fV9jcmVhdGVDbGFzcyhNYXRyaXgzLFt7a2V5OiJzZXQiLHZhbHVlOmZ1bmN0aW9uIHNldChuMTEsbjEyLG4xMyxuMjEsbjIyLG4yMyxuMzEsbjMyLG4zMyl7dmFyIHRlPXRoaXMuZWxlbWVudHM7dGVbMF09bjExO3RlWzFdPW4yMTt0ZVsyXT1uMzE7dGVbM109bjEyO3RlWzRdPW4yMjt0ZVs1XT1uMzI7dGVbNl09bjEzO3RlWzddPW4yMzt0ZVs4XT1uMzM7cmV0dXJuIHRoaXM7fX0se2tleToiaWRlbnRpdHkiLHZhbHVlOmZ1bmN0aW9uIGlkZW50aXR5KCl7dGhpcy5zZXQoMSwwLDAsMCwxLDAsMCwwLDEpO3JldHVybiB0aGlzO319LHtrZXk6ImNvcHkiLHZhbHVlOmZ1bmN0aW9uIGNvcHkobSl7dmFyIHRlPXRoaXMuZWxlbWVudHM7dmFyIG1lPW0uZWxlbWVudHM7dGVbMF09bWVbMF07dGVbMV09bWVbMV07dGVbMl09bWVbMl07dGVbM109bWVbM107dGVbNF09bWVbNF07dGVbNV09bWVbNV07dGVbNl09bWVbNl07dGVbN109bWVbN107dGVbOF09bWVbOF07cmV0dXJuIHRoaXM7fX0se2tleToiZXh0cmFjdEJhc2lzIix2YWx1ZTpmdW5jdGlvbiBleHRyYWN0QmFzaXMoeEF4aXMseUF4aXMsekF4aXMpe3hBeGlzLnNldEZyb21NYXRyaXgzQ29sdW1uKHRoaXMsMCk7eUF4aXMuc2V0RnJvbU1hdHJpeDNDb2x1bW4odGhpcywxKTt6QXhpcy5zZXRGcm9tTWF0cml4M0NvbHVtbih0aGlzLDIpO3JldHVybiB0aGlzO319LHtrZXk6InNldEZyb21NYXRyaXg0Iix2YWx1ZTpmdW5jdGlvbiBzZXRGcm9tTWF0cml4NChtKXt2YXIgbWU9bS5lbGVtZW50czt0aGlzLnNldChtZVswXSxtZVs0XSxtZVs4XSxtZVsxXSxtZVs1XSxtZVs5XSxtZVsyXSxtZVs2XSxtZVsxMF0pO3JldHVybiB0aGlzO319LHtrZXk6Im11bHRpcGx5Iix2YWx1ZTpmdW5jdGlvbiBtdWx0aXBseShtKXtyZXR1cm4gdGhpcy5tdWx0aXBseU1hdHJpY2VzKHRoaXMsbSk7fX0se2tleToicHJlbXVsdGlwbHkiLHZhbHVlOmZ1bmN0aW9uIHByZW11bHRpcGx5KG0pe3JldHVybiB0aGlzLm11bHRpcGx5TWF0cmljZXMobSx0aGlzKTt9fSx7a2V5OiJtdWx0aXBseU1hdHJpY2VzIix2YWx1ZTpmdW5jdGlvbiBtdWx0aXBseU1hdHJpY2VzKGEsYil7dmFyIGFlPWEuZWxlbWVudHM7dmFyIGJlPWIuZWxlbWVudHM7dmFyIHRlPXRoaXMuZWxlbWVudHM7dmFyIGExMT1hZVswXSxhMTI9YWVbM10sYTEzPWFlWzZdO3ZhciBhMjE9YWVbMV0sYTIyPWFlWzRdLGEyMz1hZVs3XTt2YXIgYTMxPWFlWzJdLGEzMj1hZVs1XSxhMzM9YWVbOF07dmFyIGIxMT1iZVswXSxiMTI9YmVbM10sYjEzPWJlWzZdO3ZhciBiMjE9YmVbMV0sYjIyPWJlWzRdLGIyMz1iZVs3XTt2YXIgYjMxPWJlWzJdLGIzMj1iZVs1XSxiMzM9YmVbOF07dGVbMF09YTExKmIxMSthMTIqYjIxK2ExMypiMzE7dGVbM109YTExKmIxMithMTIqYjIyK2ExMypiMzI7dGVbNl09YTExKmIxMythMTIqYjIzK2ExMypiMzM7dGVbMV09YTIxKmIxMSthMjIqYjIxK2EyMypiMzE7dGVbNF09YTIxKmIxMithMjIqYjIyK2EyMypiMzI7dGVbN109YTIxKmIxMythMjIqYjIzK2EyMypiMzM7dGVbMl09YTMxKmIxMSthMzIqYjIxK2EzMypiMzE7dGVbNV09YTMxKmIxMithMzIqYjIyK2EzMypiMzI7dGVbOF09YTMxKmIxMythMzIqYjIzK2EzMypiMzM7cmV0dXJuIHRoaXM7fX0se2tleToibXVsdGlwbHlTY2FsYXIiLHZhbHVlOmZ1bmN0aW9uIG11bHRpcGx5U2NhbGFyKHMpe3ZhciB0ZT10aGlzLmVsZW1lbnRzO3RlWzBdKj1zO3RlWzNdKj1zO3RlWzZdKj1zO3RlWzFdKj1zO3RlWzRdKj1zO3RlWzddKj1zO3RlWzJdKj1zO3RlWzVdKj1zO3RlWzhdKj1zO3JldHVybiB0aGlzO319LHtrZXk6ImRldGVybWluYW50Iix2YWx1ZTpmdW5jdGlvbiBkZXRlcm1pbmFudCgpe3ZhciB0ZT10aGlzLmVsZW1lbnRzO3ZhciBhPXRlWzBdLGI9dGVbMV0sYz10ZVsyXSxkPXRlWzNdLGU9dGVbNF0sZj10ZVs1XSxnPXRlWzZdLGg9dGVbN10saT10ZVs4XTtyZXR1cm4gYSplKmktYSpmKmgtYipkKmkrYipmKmcrYypkKmgtYyplKmc7fX0se2tleToiaW52ZXJ0Iix2YWx1ZTpmdW5jdGlvbiBpbnZlcnQoKXt2YXIgdGU9dGhpcy5lbGVtZW50cyxuMTE9dGVbMF0sbjIxPXRlWzFdLG4zMT10ZVsyXSxuMTI9dGVbM10sbjIyPXRlWzRdLG4zMj10ZVs1XSxuMTM9dGVbNl0sbjIzPXRlWzddLG4zMz10ZVs4XSx0MTE9bjMzKm4yMi1uMzIqbjIzLHQxMj1uMzIqbjEzLW4zMypuMTIsdDEzPW4yMypuMTItbjIyKm4xMyxkZXQ9bjExKnQxMStuMjEqdDEyK24zMSp0MTM7aWYoZGV0PT09MClyZXR1cm4gdGhpcy5zZXQoMCwwLDAsMCwwLDAsMCwwLDApO3ZhciBkZXRJbnY9MS9kZXQ7dGVbMF09dDExKmRldEludjt0ZVsxXT0objMxKm4yMy1uMzMqbjIxKSpkZXRJbnY7dGVbMl09KG4zMipuMjEtbjMxKm4yMikqZGV0SW52O3RlWzNdPXQxMipkZXRJbnY7dGVbNF09KG4zMypuMTEtbjMxKm4xMykqZGV0SW52O3RlWzVdPShuMzEqbjEyLW4zMipuMTEpKmRldEludjt0ZVs2XT10MTMqZGV0SW52O3RlWzddPShuMjEqbjEzLW4yMypuMTEpKmRldEludjt0ZVs4XT0objIyKm4xMS1uMjEqbjEyKSpkZXRJbnY7cmV0dXJuIHRoaXM7fX0se2tleToidHJhbnNwb3NlIix2YWx1ZTpmdW5jdGlvbiB0cmFuc3Bvc2UoKXt2YXIgdG1wO3ZhciBtPXRoaXMuZWxlbWVudHM7dG1wPW1bMV07bVsxXT1tWzNdO21bM109dG1wO3RtcD1tWzJdO21bMl09bVs2XTttWzZdPXRtcDt0bXA9bVs1XTttWzVdPW1bN107bVs3XT10bXA7cmV0dXJuIHRoaXM7fX0se2tleToiZ2V0Tm9ybWFsTWF0cml4Iix2YWx1ZTpmdW5jdGlvbiBnZXROb3JtYWxNYXRyaXgobWF0cml4NCl7cmV0dXJuIHRoaXMuc2V0RnJvbU1hdHJpeDQobWF0cml4NCkuaW52ZXJ0KCkudHJhbnNwb3NlKCk7fX0se2tleToidHJhbnNwb3NlSW50b0FycmF5Iix2YWx1ZTpmdW5jdGlvbiB0cmFuc3Bvc2VJbnRvQXJyYXkocil7dmFyIG09dGhpcy5lbGVtZW50cztyWzBdPW1bMF07clsxXT1tWzNdO3JbMl09bVs2XTtyWzNdPW1bMV07cls0XT1tWzRdO3JbNV09bVs3XTtyWzZdPW1bMl07cls3XT1tWzVdO3JbOF09bVs4XTtyZXR1cm4gdGhpczt9fSx7a2V5OiJzZXRVdlRyYW5zZm9ybSIsdmFsdWU6ZnVuY3Rpb24gc2V0VXZUcmFuc2Zvcm0odHgsdHksc3gsc3kscm90YXRpb24sY3gsY3kpe3ZhciBjPU1hdGguY29zKHJvdGF0aW9uKTt2YXIgcz1NYXRoLnNpbihyb3RhdGlvbik7dGhpcy5zZXQoc3gqYyxzeCpzLC1zeCooYypjeCtzKmN5KStjeCt0eCwtc3kqcyxzeSpjLC1zeSooLXMqY3grYypjeSkrY3krdHksMCwwLDEpO3JldHVybiB0aGlzO319LHtrZXk6InNjYWxlIix2YWx1ZTpmdW5jdGlvbiBzY2FsZShzeCxzeSl7dmFyIHRlPXRoaXMuZWxlbWVudHM7dGVbMF0qPXN4O3RlWzNdKj1zeDt0ZVs2XSo9c3g7dGVbMV0qPXN5O3RlWzRdKj1zeTt0ZVs3XSo9c3k7cmV0dXJuIHRoaXM7fX0se2tleToicm90YXRlIix2YWx1ZTpmdW5jdGlvbiByb3RhdGUodGhldGEpe3ZhciBjPU1hdGguY29zKHRoZXRhKTt2YXIgcz1NYXRoLnNpbih0aGV0YSk7dmFyIHRlPXRoaXMuZWxlbWVudHM7dmFyIGExMT10ZVswXSxhMTI9dGVbM10sYTEzPXRlWzZdO3ZhciBhMjE9dGVbMV0sYTIyPXRlWzRdLGEyMz10ZVs3XTt0ZVswXT1jKmExMStzKmEyMTt0ZVszXT1jKmExMitzKmEyMjt0ZVs2XT1jKmExMytzKmEyMzt0ZVsxXT0tcyphMTErYyphMjE7dGVbNF09LXMqYTEyK2MqYTIyO3RlWzddPS1zKmExMytjKmEyMztyZXR1cm4gdGhpczt9fSx7a2V5OiJ0cmFuc2xhdGUiLHZhbHVlOmZ1bmN0aW9uIHRyYW5zbGF0ZSh0eCx0eSl7dmFyIHRlPXRoaXMuZWxlbWVudHM7dGVbMF0rPXR4KnRlWzJdO3RlWzNdKz10eCp0ZVs1XTt0ZVs2XSs9dHgqdGVbOF07dGVbMV0rPXR5KnRlWzJdO3RlWzRdKz10eSp0ZVs1XTt0ZVs3XSs9dHkqdGVbOF07cmV0dXJuIHRoaXM7fX0se2tleToiZXF1YWxzIix2YWx1ZTpmdW5jdGlvbiBlcXVhbHMobWF0cml4KXt2YXIgdGU9dGhpcy5lbGVtZW50czt2YXIgbWU9bWF0cml4LmVsZW1lbnRzO2Zvcih2YXIgX2k9MDtfaTw5O19pKyspe2lmKHRlW19pXSE9PW1lW19pXSlyZXR1cm4gZmFsc2U7fXJldHVybiB0cnVlO319LHtrZXk6ImZyb21BcnJheSIsdmFsdWU6ZnVuY3Rpb24gZnJvbUFycmF5KGFycmF5KXt2YXIgb2Zmc2V0PWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1sxXTowO2Zvcih2YXIgX2kyPTA7X2kyPDk7X2kyKyspe3RoaXMuZWxlbWVudHNbX2kyXT1hcnJheVtfaTIrb2Zmc2V0XTt9cmV0dXJuIHRoaXM7fX0se2tleToidG9BcnJheSIsdmFsdWU6ZnVuY3Rpb24gdG9BcnJheSgpe3ZhciBhcnJheT1hcmd1bWVudHMubGVuZ3RoPjAmJmFyZ3VtZW50c1swXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMF06W107dmFyIG9mZnNldD1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMV06MDt2YXIgdGU9dGhpcy5lbGVtZW50czthcnJheVtvZmZzZXRdPXRlWzBdO2FycmF5W29mZnNldCsxXT10ZVsxXTthcnJheVtvZmZzZXQrMl09dGVbMl07YXJyYXlbb2Zmc2V0KzNdPXRlWzNdO2FycmF5W29mZnNldCs0XT10ZVs0XTthcnJheVtvZmZzZXQrNV09dGVbNV07YXJyYXlbb2Zmc2V0KzZdPXRlWzZdO2FycmF5W29mZnNldCs3XT10ZVs3XTthcnJheVtvZmZzZXQrOF09dGVbOF07cmV0dXJuIGFycmF5O319LHtrZXk6ImNsb25lIix2YWx1ZTpmdW5jdGlvbiBjbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcigpLmZyb21BcnJheSh0aGlzLmVsZW1lbnRzKTt9fV0pO3JldHVybiBNYXRyaXgzO30oKTtNYXRyaXgzLnByb3RvdHlwZS5pc01hdHJpeDM9dHJ1ZTtmdW5jdGlvbiBhcnJheU5lZWRzVWludDMyKGFycmF5KXsvLyBhc3N1bWVzIGxhcmdlciB2YWx1ZXMgdXN1YWxseSBvbiBsYXN0CmZvcih2YXIgX2kzPWFycmF5Lmxlbmd0aC0xO19pMz49MDstLV9pMyl7aWYoYXJyYXlbX2kzXT42NTUzNSlyZXR1cm4gdHJ1ZTt9cmV0dXJuIGZhbHNlO312YXIgVFlQRURfQVJSQVlTPXtJbnQ4QXJyYXk6SW50OEFycmF5LFVpbnQ4QXJyYXk6VWludDhBcnJheSxVaW50OENsYW1wZWRBcnJheTpVaW50OENsYW1wZWRBcnJheSxJbnQxNkFycmF5OkludDE2QXJyYXksVWludDE2QXJyYXk6VWludDE2QXJyYXksSW50MzJBcnJheTpJbnQzMkFycmF5LFVpbnQzMkFycmF5OlVpbnQzMkFycmF5LEZsb2F0MzJBcnJheTpGbG9hdDMyQXJyYXksRmxvYXQ2NEFycmF5OkZsb2F0NjRBcnJheX07ZnVuY3Rpb24gZ2V0VHlwZWRBcnJheSh0eXBlLGJ1ZmZlcil7cmV0dXJuIG5ldyBUWVBFRF9BUlJBWVNbdHlwZV0oYnVmZmVyKTt9ZnVuY3Rpb24gY3JlYXRlRWxlbWVudE5TKG5hbWUpe3JldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwnLG5hbWUpO312YXIgX2NvbG9yS2V5d29yZHM9eydhbGljZWJsdWUnOjB4RjBGOEZGLCdhbnRpcXVld2hpdGUnOjB4RkFFQkQ3LCdhcXVhJzoweDAwRkZGRiwnYXF1YW1hcmluZSc6MHg3RkZGRDQsJ2F6dXJlJzoweEYwRkZGRiwnYmVpZ2UnOjB4RjVGNURDLCdiaXNxdWUnOjB4RkZFNEM0LCdibGFjayc6MHgwMDAwMDAsJ2JsYW5jaGVkYWxtb25kJzoweEZGRUJDRCwnYmx1ZSc6MHgwMDAwRkYsJ2JsdWV2aW9sZXQnOjB4OEEyQkUyLCdicm93bic6MHhBNTJBMkEsJ2J1cmx5d29vZCc6MHhERUI4ODcsJ2NhZGV0Ymx1ZSc6MHg1RjlFQTAsJ2NoYXJ0cmV1c2UnOjB4N0ZGRjAwLCdjaG9jb2xhdGUnOjB4RDI2OTFFLCdjb3JhbCc6MHhGRjdGNTAsJ2Nvcm5mbG93ZXJibHVlJzoweDY0OTVFRCwnY29ybnNpbGsnOjB4RkZGOERDLCdjcmltc29uJzoweERDMTQzQywnY3lhbic6MHgwMEZGRkYsJ2RhcmtibHVlJzoweDAwMDA4QiwnZGFya2N5YW4nOjB4MDA4QjhCLCdkYXJrZ29sZGVucm9kJzoweEI4ODYwQiwnZGFya2dyYXknOjB4QTlBOUE5LCdkYXJrZ3JlZW4nOjB4MDA2NDAwLCdkYXJrZ3JleSc6MHhBOUE5QTksJ2RhcmtraGFraSc6MHhCREI3NkIsJ2RhcmttYWdlbnRhJzoweDhCMDA4QiwnZGFya29saXZlZ3JlZW4nOjB4NTU2QjJGLCdkYXJrb3JhbmdlJzoweEZGOEMwMCwnZGFya29yY2hpZCc6MHg5OTMyQ0MsJ2RhcmtyZWQnOjB4OEIwMDAwLCdkYXJrc2FsbW9uJzoweEU5OTY3QSwnZGFya3NlYWdyZWVuJzoweDhGQkM4RiwnZGFya3NsYXRlYmx1ZSc6MHg0ODNEOEIsJ2RhcmtzbGF0ZWdyYXknOjB4MkY0RjRGLCdkYXJrc2xhdGVncmV5JzoweDJGNEY0RiwnZGFya3R1cnF1b2lzZSc6MHgwMENFRDEsJ2Rhcmt2aW9sZXQnOjB4OTQwMEQzLCdkZWVwcGluayc6MHhGRjE0OTMsJ2RlZXBza3libHVlJzoweDAwQkZGRiwnZGltZ3JheSc6MHg2OTY5NjksJ2RpbWdyZXknOjB4Njk2OTY5LCdkb2RnZXJibHVlJzoweDFFOTBGRiwnZmlyZWJyaWNrJzoweEIyMjIyMiwnZmxvcmFsd2hpdGUnOjB4RkZGQUYwLCdmb3Jlc3RncmVlbic6MHgyMjhCMjIsJ2Z1Y2hzaWEnOjB4RkYwMEZGLCdnYWluc2Jvcm8nOjB4RENEQ0RDLCdnaG9zdHdoaXRlJzoweEY4RjhGRiwnZ29sZCc6MHhGRkQ3MDAsJ2dvbGRlbnJvZCc6MHhEQUE1MjAsJ2dyYXknOjB4ODA4MDgwLCdncmVlbic6MHgwMDgwMDAsJ2dyZWVueWVsbG93JzoweEFERkYyRiwnZ3JleSc6MHg4MDgwODAsJ2hvbmV5ZGV3JzoweEYwRkZGMCwnaG90cGluayc6MHhGRjY5QjQsJ2luZGlhbnJlZCc6MHhDRDVDNUMsJ2luZGlnbyc6MHg0QjAwODIsJ2l2b3J5JzoweEZGRkZGMCwna2hha2knOjB4RjBFNjhDLCdsYXZlbmRlcic6MHhFNkU2RkEsJ2xhdmVuZGVyYmx1c2gnOjB4RkZGMEY1LCdsYXduZ3JlZW4nOjB4N0NGQzAwLCdsZW1vbmNoaWZmb24nOjB4RkZGQUNELCdsaWdodGJsdWUnOjB4QUREOEU2LCdsaWdodGNvcmFsJzoweEYwODA4MCwnbGlnaHRjeWFuJzoweEUwRkZGRiwnbGlnaHRnb2xkZW5yb2R5ZWxsb3cnOjB4RkFGQUQyLCdsaWdodGdyYXknOjB4RDNEM0QzLCdsaWdodGdyZWVuJzoweDkwRUU5MCwnbGlnaHRncmV5JzoweEQzRDNEMywnbGlnaHRwaW5rJzoweEZGQjZDMSwnbGlnaHRzYWxtb24nOjB4RkZBMDdBLCdsaWdodHNlYWdyZWVuJzoweDIwQjJBQSwnbGlnaHRza3libHVlJzoweDg3Q0VGQSwnbGlnaHRzbGF0ZWdyYXknOjB4Nzc4ODk5LCdsaWdodHNsYXRlZ3JleSc6MHg3Nzg4OTksJ2xpZ2h0c3RlZWxibHVlJzoweEIwQzRERSwnbGlnaHR5ZWxsb3cnOjB4RkZGRkUwLCdsaW1lJzoweDAwRkYwMCwnbGltZWdyZWVuJzoweDMyQ0QzMiwnbGluZW4nOjB4RkFGMEU2LCdtYWdlbnRhJzoweEZGMDBGRiwnbWFyb29uJzoweDgwMDAwMCwnbWVkaXVtYXF1YW1hcmluZSc6MHg2NkNEQUEsJ21lZGl1bWJsdWUnOjB4MDAwMENELCdtZWRpdW1vcmNoaWQnOjB4QkE1NUQzLCdtZWRpdW1wdXJwbGUnOjB4OTM3MERCLCdtZWRpdW1zZWFncmVlbic6MHgzQ0IzNzEsJ21lZGl1bXNsYXRlYmx1ZSc6MHg3QjY4RUUsJ21lZGl1bXNwcmluZ2dyZWVuJzoweDAwRkE5QSwnbWVkaXVtdHVycXVvaXNlJzoweDQ4RDFDQywnbWVkaXVtdmlvbGV0cmVkJzoweEM3MTU4NSwnbWlkbmlnaHRibHVlJzoweDE5MTk3MCwnbWludGNyZWFtJzoweEY1RkZGQSwnbWlzdHlyb3NlJzoweEZGRTRFMSwnbW9jY2FzaW4nOjB4RkZFNEI1LCduYXZham93aGl0ZSc6MHhGRkRFQUQsJ25hdnknOjB4MDAwMDgwLCdvbGRsYWNlJzoweEZERjVFNiwnb2xpdmUnOjB4ODA4MDAwLCdvbGl2ZWRyYWInOjB4NkI4RTIzLCdvcmFuZ2UnOjB4RkZBNTAwLCdvcmFuZ2VyZWQnOjB4RkY0NTAwLCdvcmNoaWQnOjB4REE3MEQ2LCdwYWxlZ29sZGVucm9kJzoweEVFRThBQSwncGFsZWdyZWVuJzoweDk4RkI5OCwncGFsZXR1cnF1b2lzZSc6MHhBRkVFRUUsJ3BhbGV2aW9sZXRyZWQnOjB4REI3MDkzLCdwYXBheWF3aGlwJzoweEZGRUZENSwncGVhY2hwdWZmJzoweEZGREFCOSwncGVydSc6MHhDRDg1M0YsJ3BpbmsnOjB4RkZDMENCLCdwbHVtJzoweEREQTBERCwncG93ZGVyYmx1ZSc6MHhCMEUwRTYsJ3B1cnBsZSc6MHg4MDAwODAsJ3JlYmVjY2FwdXJwbGUnOjB4NjYzMzk5LCdyZWQnOjB4RkYwMDAwLCdyb3N5YnJvd24nOjB4QkM4RjhGLCdyb3lhbGJsdWUnOjB4NDE2OUUxLCdzYWRkbGVicm93bic6MHg4QjQ1MTMsJ3NhbG1vbic6MHhGQTgwNzIsJ3NhbmR5YnJvd24nOjB4RjRBNDYwLCdzZWFncmVlbic6MHgyRThCNTcsJ3NlYXNoZWxsJzoweEZGRjVFRSwnc2llbm5hJzoweEEwNTIyRCwnc2lsdmVyJzoweEMwQzBDMCwnc2t5Ymx1ZSc6MHg4N0NFRUIsJ3NsYXRlYmx1ZSc6MHg2QTVBQ0QsJ3NsYXRlZ3JheSc6MHg3MDgwOTAsJ3NsYXRlZ3JleSc6MHg3MDgwOTAsJ3Nub3cnOjB4RkZGQUZBLCdzcHJpbmdncmVlbic6MHgwMEZGN0YsJ3N0ZWVsYmx1ZSc6MHg0NjgyQjQsJ3Rhbic6MHhEMkI0OEMsJ3RlYWwnOjB4MDA4MDgwLCd0aGlzdGxlJzoweEQ4QkZEOCwndG9tYXRvJzoweEZGNjM0NywndHVycXVvaXNlJzoweDQwRTBEMCwndmlvbGV0JzoweEVFODJFRSwnd2hlYXQnOjB4RjVERUIzLCd3aGl0ZSc6MHhGRkZGRkYsJ3doaXRlc21va2UnOjB4RjVGNUY1LCd5ZWxsb3cnOjB4RkZGRjAwLCd5ZWxsb3dncmVlbic6MHg5QUNEMzJ9O3ZhciBfaHNsQT17aDowLHM6MCxsOjB9O3ZhciBfaHNsQj17aDowLHM6MCxsOjB9O2Z1bmN0aW9uIGh1ZTJyZ2IocCxxLHQpe2lmKHQ8MCl0Kz0xO2lmKHQ+MSl0LT0xO2lmKHQ8MS82KXJldHVybiBwKyhxLXApKjYqdDtpZih0PDEvMilyZXR1cm4gcTtpZih0PDIvMylyZXR1cm4gcCsocS1wKSo2KigyLzMtdCk7cmV0dXJuIHA7fWZ1bmN0aW9uIFNSR0JUb0xpbmVhcihjKXtyZXR1cm4gYzwwLjA0MDQ1P2MqMC4wNzczOTkzODA4Ok1hdGgucG93KGMqMC45NDc4NjcyOTg2KzAuMDUyMTMyNzAxNCwyLjQpO31mdW5jdGlvbiBMaW5lYXJUb1NSR0IoYyl7cmV0dXJuIGM8MC4wMDMxMzA4P2MqMTIuOTI6MS4wNTUqTWF0aC5wb3coYywwLjQxNjY2KS0wLjA1NTt9dmFyIENvbG9yPS8qI19fUFVSRV9fKi9mdW5jdGlvbigpe2Z1bmN0aW9uIENvbG9yKHIsZyxiKXtfY2xhc3NDYWxsQ2hlY2sodGhpcyxDb2xvcik7aWYoZz09PXVuZGVmaW5lZCYmYj09PXVuZGVmaW5lZCl7Ly8gciBpcyBUSFJFRS5Db2xvciwgaGV4IG9yIHN0cmluZwpyZXR1cm4gdGhpcy5zZXQocik7fXJldHVybiB0aGlzLnNldFJHQihyLGcsYik7fV9jcmVhdGVDbGFzcyhDb2xvcixbe2tleToic2V0Iix2YWx1ZTpmdW5jdGlvbiBzZXQodmFsdWUpe2lmKHZhbHVlJiZ2YWx1ZS5pc0NvbG9yKXt0aGlzLmNvcHkodmFsdWUpO31lbHNlIGlmKHR5cGVvZiB2YWx1ZT09PSdudW1iZXInKXt0aGlzLnNldEhleCh2YWx1ZSk7fWVsc2UgaWYodHlwZW9mIHZhbHVlPT09J3N0cmluZycpe3RoaXMuc2V0U3R5bGUodmFsdWUpO31yZXR1cm4gdGhpczt9fSx7a2V5OiJzZXRTY2FsYXIiLHZhbHVlOmZ1bmN0aW9uIHNldFNjYWxhcihzY2FsYXIpe3RoaXMucj1zY2FsYXI7dGhpcy5nPXNjYWxhcjt0aGlzLmI9c2NhbGFyO3JldHVybiB0aGlzO319LHtrZXk6InNldEhleCIsdmFsdWU6ZnVuY3Rpb24gc2V0SGV4KGhleCl7aGV4PU1hdGguZmxvb3IoaGV4KTt0aGlzLnI9KGhleD4+MTYmMjU1KS8yNTU7dGhpcy5nPShoZXg+PjgmMjU1KS8yNTU7dGhpcy5iPShoZXgmMjU1KS8yNTU7cmV0dXJuIHRoaXM7fX0se2tleToic2V0UkdCIix2YWx1ZTpmdW5jdGlvbiBzZXRSR0IocixnLGIpe3RoaXMucj1yO3RoaXMuZz1nO3RoaXMuYj1iO3JldHVybiB0aGlzO319LHtrZXk6InNldEhTTCIsdmFsdWU6ZnVuY3Rpb24gc2V0SFNMKGgscyxsKXsvLyBoLHMsbCByYW5nZXMgYXJlIGluIDAuMCAtIDEuMApoPWV1Y2xpZGVhbk1vZHVsbyhoLDEpO3M9Y2xhbXAocywwLDEpO2w9Y2xhbXAobCwwLDEpO2lmKHM9PT0wKXt0aGlzLnI9dGhpcy5nPXRoaXMuYj1sO31lbHNle3ZhciBwPWw8PTAuNT9sKigxK3MpOmwrcy1sKnM7dmFyIHE9MipsLXA7dGhpcy5yPWh1ZTJyZ2IocSxwLGgrMS8zKTt0aGlzLmc9aHVlMnJnYihxLHAsaCk7dGhpcy5iPWh1ZTJyZ2IocSxwLGgtMS8zKTt9cmV0dXJuIHRoaXM7fX0se2tleToic2V0U3R5bGUiLHZhbHVlOmZ1bmN0aW9uIHNldFN0eWxlKHN0eWxlKXtmdW5jdGlvbiBoYW5kbGVBbHBoYShzdHJpbmcpe2lmKHN0cmluZz09PXVuZGVmaW5lZClyZXR1cm47aWYocGFyc2VGbG9hdChzdHJpbmcpPDEpe2NvbnNvbGUud2FybignVEhSRUUuQ29sb3I6IEFscGhhIGNvbXBvbmVudCBvZiAnK3N0eWxlKycgd2lsbCBiZSBpZ25vcmVkLicpO319dmFyIG07aWYobT0vXigoPzpyZ2J8aHNsKWE/KVwoKFteXCldKilcKS8uZXhlYyhzdHlsZSkpey8vIHJnYiAvIGhzbAp2YXIgY29sb3I7dmFyIG5hbWU9bVsxXTt2YXIgY29tcG9uZW50cz1tWzJdO3N3aXRjaChuYW1lKXtjYXNlJ3JnYic6Y2FzZSdyZ2JhJzppZihjb2xvcj0vXlxzKihcZCspXHMqLFxzKihcZCspXHMqLFxzKihcZCspXHMqKD86LFxzKihcZCpcLj9cZCspXHMqKT8kLy5leGVjKGNvbXBvbmVudHMpKXsvLyByZ2IoMjU1LDAsMCkgcmdiYSgyNTUsMCwwLDAuNSkKdGhpcy5yPU1hdGgubWluKDI1NSxwYXJzZUludChjb2xvclsxXSwxMCkpLzI1NTt0aGlzLmc9TWF0aC5taW4oMjU1LHBhcnNlSW50KGNvbG9yWzJdLDEwKSkvMjU1O3RoaXMuYj1NYXRoLm1pbigyNTUscGFyc2VJbnQoY29sb3JbM10sMTApKS8yNTU7aGFuZGxlQWxwaGEoY29sb3JbNF0pO3JldHVybiB0aGlzO31pZihjb2xvcj0vXlxzKihcZCspXCVccyosXHMqKFxkKylcJVxzKixccyooXGQrKVwlXHMqKD86LFxzKihcZCpcLj9cZCspXHMqKT8kLy5leGVjKGNvbXBvbmVudHMpKXsvLyByZ2IoMTAwJSwwJSwwJSkgcmdiYSgxMDAlLDAlLDAlLDAuNSkKdGhpcy5yPU1hdGgubWluKDEwMCxwYXJzZUludChjb2xvclsxXSwxMCkpLzEwMDt0aGlzLmc9TWF0aC5taW4oMTAwLHBhcnNlSW50KGNvbG9yWzJdLDEwKSkvMTAwO3RoaXMuYj1NYXRoLm1pbigxMDAscGFyc2VJbnQoY29sb3JbM10sMTApKS8xMDA7aGFuZGxlQWxwaGEoY29sb3JbNF0pO3JldHVybiB0aGlzO31icmVhaztjYXNlJ2hzbCc6Y2FzZSdoc2xhJzppZihjb2xvcj0vXlxzKihcZCpcLj9cZCspXHMqLFxzKihcZCspXCVccyosXHMqKFxkKylcJVxzKig/OixccyooXGQqXC4/XGQrKVxzKik/JC8uZXhlYyhjb21wb25lbnRzKSl7Ly8gaHNsKDEyMCw1MCUsNTAlKSBoc2xhKDEyMCw1MCUsNTAlLDAuNSkKdmFyIGg9cGFyc2VGbG9hdChjb2xvclsxXSkvMzYwO3ZhciBzPXBhcnNlSW50KGNvbG9yWzJdLDEwKS8xMDA7dmFyIGw9cGFyc2VJbnQoY29sb3JbM10sMTApLzEwMDtoYW5kbGVBbHBoYShjb2xvcls0XSk7cmV0dXJuIHRoaXMuc2V0SFNMKGgscyxsKTt9YnJlYWs7fX1lbHNlIGlmKG09L15cIyhbQS1GYS1mXGRdKykkLy5leGVjKHN0eWxlKSl7Ly8gaGV4IGNvbG9yCnZhciBoZXg9bVsxXTt2YXIgc2l6ZT1oZXgubGVuZ3RoO2lmKHNpemU9PT0zKXsvLyAjZmYwCnRoaXMucj1wYXJzZUludChoZXguY2hhckF0KDApK2hleC5jaGFyQXQoMCksMTYpLzI1NTt0aGlzLmc9cGFyc2VJbnQoaGV4LmNoYXJBdCgxKStoZXguY2hhckF0KDEpLDE2KS8yNTU7dGhpcy5iPXBhcnNlSW50KGhleC5jaGFyQXQoMikraGV4LmNoYXJBdCgyKSwxNikvMjU1O3JldHVybiB0aGlzO31lbHNlIGlmKHNpemU9PT02KXsvLyAjZmYwMDAwCnRoaXMucj1wYXJzZUludChoZXguY2hhckF0KDApK2hleC5jaGFyQXQoMSksMTYpLzI1NTt0aGlzLmc9cGFyc2VJbnQoaGV4LmNoYXJBdCgyKStoZXguY2hhckF0KDMpLDE2KS8yNTU7dGhpcy5iPXBhcnNlSW50KGhleC5jaGFyQXQoNCkraGV4LmNoYXJBdCg1KSwxNikvMjU1O3JldHVybiB0aGlzO319aWYoc3R5bGUmJnN0eWxlLmxlbmd0aD4wKXtyZXR1cm4gdGhpcy5zZXRDb2xvck5hbWUoc3R5bGUpO31yZXR1cm4gdGhpczt9fSx7a2V5OiJzZXRDb2xvck5hbWUiLHZhbHVlOmZ1bmN0aW9uIHNldENvbG9yTmFtZShzdHlsZSl7Ly8gY29sb3Iga2V5d29yZHMKdmFyIGhleD1fY29sb3JLZXl3b3Jkc1tzdHlsZS50b0xvd2VyQ2FzZSgpXTtpZihoZXghPT11bmRlZmluZWQpey8vIHJlZAp0aGlzLnNldEhleChoZXgpO31lbHNley8vIHVua25vd24gY29sb3IKY29uc29sZS53YXJuKCdUSFJFRS5Db2xvcjogVW5rbm93biBjb2xvciAnK3N0eWxlKTt9cmV0dXJuIHRoaXM7fX0se2tleToiY2xvbmUiLHZhbHVlOmZ1bmN0aW9uIGNsb25lKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMucix0aGlzLmcsdGhpcy5iKTt9fSx7a2V5OiJjb3B5Iix2YWx1ZTpmdW5jdGlvbiBjb3B5KGNvbG9yKXt0aGlzLnI9Y29sb3Iucjt0aGlzLmc9Y29sb3IuZzt0aGlzLmI9Y29sb3IuYjtyZXR1cm4gdGhpczt9fSx7a2V5OiJjb3B5U1JHQlRvTGluZWFyIix2YWx1ZTpmdW5jdGlvbiBjb3B5U1JHQlRvTGluZWFyKGNvbG9yKXt0aGlzLnI9U1JHQlRvTGluZWFyKGNvbG9yLnIpO3RoaXMuZz1TUkdCVG9MaW5lYXIoY29sb3IuZyk7dGhpcy5iPVNSR0JUb0xpbmVhcihjb2xvci5iKTtyZXR1cm4gdGhpczt9fSx7a2V5OiJjb3B5TGluZWFyVG9TUkdCIix2YWx1ZTpmdW5jdGlvbiBjb3B5TGluZWFyVG9TUkdCKGNvbG9yKXt0aGlzLnI9TGluZWFyVG9TUkdCKGNvbG9yLnIpO3RoaXMuZz1MaW5lYXJUb1NSR0IoY29sb3IuZyk7dGhpcy5iPUxpbmVhclRvU1JHQihjb2xvci5iKTtyZXR1cm4gdGhpczt9fSx7a2V5OiJjb252ZXJ0U1JHQlRvTGluZWFyIix2YWx1ZTpmdW5jdGlvbiBjb252ZXJ0U1JHQlRvTGluZWFyKCl7dGhpcy5jb3B5U1JHQlRvTGluZWFyKHRoaXMpO3JldHVybiB0aGlzO319LHtrZXk6ImNvbnZlcnRMaW5lYXJUb1NSR0IiLHZhbHVlOmZ1bmN0aW9uIGNvbnZlcnRMaW5lYXJUb1NSR0IoKXt0aGlzLmNvcHlMaW5lYXJUb1NSR0IodGhpcyk7cmV0dXJuIHRoaXM7fX0se2tleToiZ2V0SGV4Iix2YWx1ZTpmdW5jdGlvbiBnZXRIZXgoKXtyZXR1cm4gdGhpcy5yKjI1NTw8MTZedGhpcy5nKjI1NTw8OF50aGlzLmIqMjU1PDwwO319LHtrZXk6ImdldEhleFN0cmluZyIsdmFsdWU6ZnVuY3Rpb24gZ2V0SGV4U3RyaW5nKCl7cmV0dXJuKCcwMDAwMDAnK3RoaXMuZ2V0SGV4KCkudG9TdHJpbmcoMTYpKS5zbGljZSgtNik7fX0se2tleToiZ2V0SFNMIix2YWx1ZTpmdW5jdGlvbiBnZXRIU0wodGFyZ2V0KXsvLyBoLHMsbCByYW5nZXMgYXJlIGluIDAuMCAtIDEuMAp2YXIgcj10aGlzLnIsZz10aGlzLmcsYj10aGlzLmI7dmFyIG1heD1NYXRoLm1heChyLGcsYik7dmFyIG1pbj1NYXRoLm1pbihyLGcsYik7dmFyIGh1ZSxzYXR1cmF0aW9uO3ZhciBsaWdodG5lc3M9KG1pbittYXgpLzIuMDtpZihtaW49PT1tYXgpe2h1ZT0wO3NhdHVyYXRpb249MDt9ZWxzZXt2YXIgZGVsdGE9bWF4LW1pbjtzYXR1cmF0aW9uPWxpZ2h0bmVzczw9MC41P2RlbHRhLyhtYXgrbWluKTpkZWx0YS8oMi1tYXgtbWluKTtzd2l0Y2gobWF4KXtjYXNlIHI6aHVlPShnLWIpL2RlbHRhKyhnPGI/NjowKTticmVhaztjYXNlIGc6aHVlPShiLXIpL2RlbHRhKzI7YnJlYWs7Y2FzZSBiOmh1ZT0oci1nKS9kZWx0YSs0O2JyZWFrO31odWUvPTY7fXRhcmdldC5oPWh1ZTt0YXJnZXQucz1zYXR1cmF0aW9uO3RhcmdldC5sPWxpZ2h0bmVzcztyZXR1cm4gdGFyZ2V0O319LHtrZXk6ImdldFN0eWxlIix2YWx1ZTpmdW5jdGlvbiBnZXRTdHlsZSgpe3JldHVybidyZ2IoJysodGhpcy5yKjI1NXwwKSsnLCcrKHRoaXMuZyoyNTV8MCkrJywnKyh0aGlzLmIqMjU1fDApKycpJzt9fSx7a2V5OiJvZmZzZXRIU0wiLHZhbHVlOmZ1bmN0aW9uIG9mZnNldEhTTChoLHMsbCl7dGhpcy5nZXRIU0woX2hzbEEpO19oc2xBLmgrPWg7X2hzbEEucys9cztfaHNsQS5sKz1sO3RoaXMuc2V0SFNMKF9oc2xBLmgsX2hzbEEucyxfaHNsQS5sKTtyZXR1cm4gdGhpczt9fSx7a2V5OiJhZGQiLHZhbHVlOmZ1bmN0aW9uIGFkZChjb2xvcil7dGhpcy5yKz1jb2xvci5yO3RoaXMuZys9Y29sb3IuZzt0aGlzLmIrPWNvbG9yLmI7cmV0dXJuIHRoaXM7fX0se2tleToiYWRkQ29sb3JzIix2YWx1ZTpmdW5jdGlvbiBhZGRDb2xvcnMoY29sb3IxLGNvbG9yMil7dGhpcy5yPWNvbG9yMS5yK2NvbG9yMi5yO3RoaXMuZz1jb2xvcjEuZytjb2xvcjIuZzt0aGlzLmI9Y29sb3IxLmIrY29sb3IyLmI7cmV0dXJuIHRoaXM7fX0se2tleToiYWRkU2NhbGFyIix2YWx1ZTpmdW5jdGlvbiBhZGRTY2FsYXIocyl7dGhpcy5yKz1zO3RoaXMuZys9czt0aGlzLmIrPXM7cmV0dXJuIHRoaXM7fX0se2tleToic3ViIix2YWx1ZTpmdW5jdGlvbiBzdWIoY29sb3Ipe3RoaXMucj1NYXRoLm1heCgwLHRoaXMuci1jb2xvci5yKTt0aGlzLmc9TWF0aC5tYXgoMCx0aGlzLmctY29sb3IuZyk7dGhpcy5iPU1hdGgubWF4KDAsdGhpcy5iLWNvbG9yLmIpO3JldHVybiB0aGlzO319LHtrZXk6Im11bHRpcGx5Iix2YWx1ZTpmdW5jdGlvbiBtdWx0aXBseShjb2xvcil7dGhpcy5yKj1jb2xvci5yO3RoaXMuZyo9Y29sb3IuZzt0aGlzLmIqPWNvbG9yLmI7cmV0dXJuIHRoaXM7fX0se2tleToibXVsdGlwbHlTY2FsYXIiLHZhbHVlOmZ1bmN0aW9uIG11bHRpcGx5U2NhbGFyKHMpe3RoaXMucio9czt0aGlzLmcqPXM7dGhpcy5iKj1zO3JldHVybiB0aGlzO319LHtrZXk6ImxlcnAiLHZhbHVlOmZ1bmN0aW9uIGxlcnAoY29sb3IsYWxwaGEpe3RoaXMucis9KGNvbG9yLnItdGhpcy5yKSphbHBoYTt0aGlzLmcrPShjb2xvci5nLXRoaXMuZykqYWxwaGE7dGhpcy5iKz0oY29sb3IuYi10aGlzLmIpKmFscGhhO3JldHVybiB0aGlzO319LHtrZXk6ImxlcnBDb2xvcnMiLHZhbHVlOmZ1bmN0aW9uIGxlcnBDb2xvcnMoY29sb3IxLGNvbG9yMixhbHBoYSl7dGhpcy5yPWNvbG9yMS5yKyhjb2xvcjIuci1jb2xvcjEucikqYWxwaGE7dGhpcy5nPWNvbG9yMS5nKyhjb2xvcjIuZy1jb2xvcjEuZykqYWxwaGE7dGhpcy5iPWNvbG9yMS5iKyhjb2xvcjIuYi1jb2xvcjEuYikqYWxwaGE7cmV0dXJuIHRoaXM7fX0se2tleToibGVycEhTTCIsdmFsdWU6ZnVuY3Rpb24gbGVycEhTTChjb2xvcixhbHBoYSl7dGhpcy5nZXRIU0woX2hzbEEpO2NvbG9yLmdldEhTTChfaHNsQik7dmFyIGg9bGVycChfaHNsQS5oLF9oc2xCLmgsYWxwaGEpO3ZhciBzPWxlcnAoX2hzbEEucyxfaHNsQi5zLGFscGhhKTt2YXIgbD1sZXJwKF9oc2xBLmwsX2hzbEIubCxhbHBoYSk7dGhpcy5zZXRIU0woaCxzLGwpO3JldHVybiB0aGlzO319LHtrZXk6ImVxdWFscyIsdmFsdWU6ZnVuY3Rpb24gZXF1YWxzKGMpe3JldHVybiBjLnI9PT10aGlzLnImJmMuZz09PXRoaXMuZyYmYy5iPT09dGhpcy5iO319LHtrZXk6ImZyb21BcnJheSIsdmFsdWU6ZnVuY3Rpb24gZnJvbUFycmF5KGFycmF5KXt2YXIgb2Zmc2V0PWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1sxXTowO3RoaXMucj1hcnJheVtvZmZzZXRdO3RoaXMuZz1hcnJheVtvZmZzZXQrMV07dGhpcy5iPWFycmF5W29mZnNldCsyXTtyZXR1cm4gdGhpczt9fSx7a2V5OiJ0b0FycmF5Iix2YWx1ZTpmdW5jdGlvbiB0b0FycmF5KCl7dmFyIGFycmF5PWFyZ3VtZW50cy5sZW5ndGg+MCYmYXJndW1lbnRzWzBdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1swXTpbXTt2YXIgb2Zmc2V0PWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1sxXTowO2FycmF5W29mZnNldF09dGhpcy5yO2FycmF5W29mZnNldCsxXT10aGlzLmc7YXJyYXlbb2Zmc2V0KzJdPXRoaXMuYjtyZXR1cm4gYXJyYXk7fX0se2tleToiZnJvbUJ1ZmZlckF0dHJpYnV0ZSIsdmFsdWU6ZnVuY3Rpb24gZnJvbUJ1ZmZlckF0dHJpYnV0ZShhdHRyaWJ1dGUsaW5kZXgpe3RoaXMucj1hdHRyaWJ1dGUuZ2V0WChpbmRleCk7dGhpcy5nPWF0dHJpYnV0ZS5nZXRZKGluZGV4KTt0aGlzLmI9YXR0cmlidXRlLmdldFooaW5kZXgpO2lmKGF0dHJpYnV0ZS5ub3JtYWxpemVkPT09dHJ1ZSl7Ly8gYXNzdW1pbmcgVWludDhBcnJheQp0aGlzLnIvPTI1NTt0aGlzLmcvPTI1NTt0aGlzLmIvPTI1NTt9cmV0dXJuIHRoaXM7fX0se2tleToidG9KU09OIix2YWx1ZTpmdW5jdGlvbiB0b0pTT04oKXtyZXR1cm4gdGhpcy5nZXRIZXgoKTt9fV0pO3JldHVybiBDb2xvcjt9KCk7Q29sb3IuTkFNRVM9X2NvbG9yS2V5d29yZHM7Q29sb3IucHJvdG90eXBlLmlzQ29sb3I9dHJ1ZTtDb2xvci5wcm90b3R5cGUucj0xO0NvbG9yLnByb3RvdHlwZS5nPTE7Q29sb3IucHJvdG90eXBlLmI9MTt2YXIgX2NhbnZhczt2YXIgSW1hZ2VVdGlscz0vKiNfX1BVUkVfXyovZnVuY3Rpb24oKXtmdW5jdGlvbiBJbWFnZVV0aWxzKCl7X2NsYXNzQ2FsbENoZWNrKHRoaXMsSW1hZ2VVdGlscyk7fV9jcmVhdGVDbGFzcyhJbWFnZVV0aWxzLG51bGwsW3trZXk6ImdldERhdGFVUkwiLHZhbHVlOmZ1bmN0aW9uIGdldERhdGFVUkwoaW1hZ2Upe2lmKC9eZGF0YTovaS50ZXN0KGltYWdlLnNyYykpe3JldHVybiBpbWFnZS5zcmM7fWlmKHR5cGVvZiBIVE1MQ2FudmFzRWxlbWVudD09J3VuZGVmaW5lZCcpe3JldHVybiBpbWFnZS5zcmM7fXZhciBjYW52YXM7aWYoaW1hZ2UgaW5zdGFuY2VvZiBIVE1MQ2FudmFzRWxlbWVudCl7Y2FudmFzPWltYWdlO31lbHNle2lmKF9jYW52YXM9PT11bmRlZmluZWQpX2NhbnZhcz1jcmVhdGVFbGVtZW50TlMoJ2NhbnZhcycpO19jYW52YXMud2lkdGg9aW1hZ2Uud2lkdGg7X2NhbnZhcy5oZWlnaHQ9aW1hZ2UuaGVpZ2h0O3ZhciBjb250ZXh0PV9jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtpZihpbWFnZSBpbnN0YW5jZW9mIEltYWdlRGF0YSl7Y29udGV4dC5wdXRJbWFnZURhdGEoaW1hZ2UsMCwwKTt9ZWxzZXtjb250ZXh0LmRyYXdJbWFnZShpbWFnZSwwLDAsaW1hZ2Uud2lkdGgsaW1hZ2UuaGVpZ2h0KTt9Y2FudmFzPV9jYW52YXM7fWlmKGNhbnZhcy53aWR0aD4yMDQ4fHxjYW52YXMuaGVpZ2h0PjIwNDgpe2NvbnNvbGUud2FybignVEhSRUUuSW1hZ2VVdGlscy5nZXREYXRhVVJMOiBJbWFnZSBjb252ZXJ0ZWQgdG8ganBnIGZvciBwZXJmb3JtYW5jZSByZWFzb25zJyxpbWFnZSk7cmV0dXJuIGNhbnZhcy50b0RhdGFVUkwoJ2ltYWdlL2pwZWcnLDAuNik7fWVsc2V7cmV0dXJuIGNhbnZhcy50b0RhdGFVUkwoJ2ltYWdlL3BuZycpO319fSx7a2V5OiJzUkdCVG9MaW5lYXIiLHZhbHVlOmZ1bmN0aW9uIHNSR0JUb0xpbmVhcihpbWFnZSl7aWYodHlwZW9mIEhUTUxJbWFnZUVsZW1lbnQhPT0ndW5kZWZpbmVkJyYmaW1hZ2UgaW5zdGFuY2VvZiBIVE1MSW1hZ2VFbGVtZW50fHx0eXBlb2YgSFRNTENhbnZhc0VsZW1lbnQhPT0ndW5kZWZpbmVkJyYmaW1hZ2UgaW5zdGFuY2VvZiBIVE1MQ2FudmFzRWxlbWVudHx8dHlwZW9mIEltYWdlQml0bWFwIT09J3VuZGVmaW5lZCcmJmltYWdlIGluc3RhbmNlb2YgSW1hZ2VCaXRtYXApe3ZhciBjYW52YXM9Y3JlYXRlRWxlbWVudE5TKCdjYW52YXMnKTtjYW52YXMud2lkdGg9aW1hZ2Uud2lkdGg7Y2FudmFzLmhlaWdodD1pbWFnZS5oZWlnaHQ7dmFyIGNvbnRleHQ9Y2FudmFzLmdldENvbnRleHQoJzJkJyk7Y29udGV4dC5kcmF3SW1hZ2UoaW1hZ2UsMCwwLGltYWdlLndpZHRoLGltYWdlLmhlaWdodCk7dmFyIGltYWdlRGF0YT1jb250ZXh0LmdldEltYWdlRGF0YSgwLDAsaW1hZ2Uud2lkdGgsaW1hZ2UuaGVpZ2h0KTt2YXIgZGF0YT1pbWFnZURhdGEuZGF0YTtmb3IodmFyIF9pND0wO19pNDxkYXRhLmxlbmd0aDtfaTQrKyl7ZGF0YVtfaTRdPVNSR0JUb0xpbmVhcihkYXRhW19pNF0vMjU1KSoyNTU7fWNvbnRleHQucHV0SW1hZ2VEYXRhKGltYWdlRGF0YSwwLDApO3JldHVybiBjYW52YXM7fWVsc2UgaWYoaW1hZ2UuZGF0YSl7dmFyIF9kYXRhPWltYWdlLmRhdGEuc2xpY2UoMCk7Zm9yKHZhciBfaTU9MDtfaTU8X2RhdGEubGVuZ3RoO19pNSsrKXtpZihfZGF0YSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXl8fF9kYXRhIGluc3RhbmNlb2YgVWludDhDbGFtcGVkQXJyYXkpe19kYXRhW19pNV09TWF0aC5mbG9vcihTUkdCVG9MaW5lYXIoX2RhdGFbX2k1XS8yNTUpKjI1NSk7fWVsc2V7Ly8gYXNzdW1pbmcgZmxvYXQKX2RhdGFbX2k1XT1TUkdCVG9MaW5lYXIoX2RhdGFbX2k1XSk7fX1yZXR1cm57ZGF0YTpfZGF0YSx3aWR0aDppbWFnZS53aWR0aCxoZWlnaHQ6aW1hZ2UuaGVpZ2h0fTt9ZWxzZXtjb25zb2xlLndhcm4oJ1RIUkVFLkltYWdlVXRpbHMuc1JHQlRvTGluZWFyKCk6IFVuc3VwcG9ydGVkIGltYWdlIHR5cGUuIE5vIGNvbG9yIHNwYWNlIGNvbnZlcnNpb24gYXBwbGllZC4nKTtyZXR1cm4gaW1hZ2U7fX19XSk7cmV0dXJuIEltYWdlVXRpbHM7fSgpO3ZhciB0ZXh0dXJlSWQ9MDt2YXIgVGV4dHVyZT0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX0V2ZW50RGlzcGF0Y2hlcil7X2luaGVyaXRzKFRleHR1cmUsX0V2ZW50RGlzcGF0Y2hlcik7dmFyIF9zdXBlcj1fY3JlYXRlU3VwZXIoVGV4dHVyZSk7ZnVuY3Rpb24gVGV4dHVyZSgpe3ZhciBfdGhpczI7dmFyIGltYWdlPWFyZ3VtZW50cy5sZW5ndGg+MCYmYXJndW1lbnRzWzBdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1swXTpUZXh0dXJlLkRFRkFVTFRfSU1BR0U7dmFyIG1hcHBpbmc9YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzFdOlRleHR1cmUuREVGQVVMVF9NQVBQSU5HO3ZhciB3cmFwUz1hcmd1bWVudHMubGVuZ3RoPjImJmFyZ3VtZW50c1syXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMl06Q2xhbXBUb0VkZ2VXcmFwcGluZzt2YXIgd3JhcFQ9YXJndW1lbnRzLmxlbmd0aD4zJiZhcmd1bWVudHNbM10hPT11bmRlZmluZWQ/YXJndW1lbnRzWzNdOkNsYW1wVG9FZGdlV3JhcHBpbmc7dmFyIG1hZ0ZpbHRlcj1hcmd1bWVudHMubGVuZ3RoPjQmJmFyZ3VtZW50c1s0XSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbNF06TGluZWFyRmlsdGVyO3ZhciBtaW5GaWx0ZXI9YXJndW1lbnRzLmxlbmd0aD41JiZhcmd1bWVudHNbNV0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzVdOkxpbmVhck1pcG1hcExpbmVhckZpbHRlcjt2YXIgZm9ybWF0PWFyZ3VtZW50cy5sZW5ndGg+NiYmYXJndW1lbnRzWzZdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1s2XTpSR0JBRm9ybWF0O3ZhciB0eXBlPWFyZ3VtZW50cy5sZW5ndGg+NyYmYXJndW1lbnRzWzddIT09dW5kZWZpbmVkP2FyZ3VtZW50c1s3XTpVbnNpZ25lZEJ5dGVUeXBlO3ZhciBhbmlzb3Ryb3B5PWFyZ3VtZW50cy5sZW5ndGg+OCYmYXJndW1lbnRzWzhdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1s4XToxO3ZhciBlbmNvZGluZz1hcmd1bWVudHMubGVuZ3RoPjkmJmFyZ3VtZW50c1s5XSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbOV06TGluZWFyRW5jb2Rpbmc7X2NsYXNzQ2FsbENoZWNrKHRoaXMsVGV4dHVyZSk7X3RoaXMyPV9zdXBlci5jYWxsKHRoaXMpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzMiksJ2lkJyx7dmFsdWU6dGV4dHVyZUlkKyt9KTtfdGhpczIudXVpZD1nZW5lcmF0ZVVVSUQoKTtfdGhpczIubmFtZT0nJztfdGhpczIuaW1hZ2U9aW1hZ2U7X3RoaXMyLm1pcG1hcHM9W107X3RoaXMyLm1hcHBpbmc9bWFwcGluZztfdGhpczIud3JhcFM9d3JhcFM7X3RoaXMyLndyYXBUPXdyYXBUO190aGlzMi5tYWdGaWx0ZXI9bWFnRmlsdGVyO190aGlzMi5taW5GaWx0ZXI9bWluRmlsdGVyO190aGlzMi5hbmlzb3Ryb3B5PWFuaXNvdHJvcHk7X3RoaXMyLmZvcm1hdD1mb3JtYXQ7X3RoaXMyLmludGVybmFsRm9ybWF0PW51bGw7X3RoaXMyLnR5cGU9dHlwZTtfdGhpczIub2Zmc2V0PW5ldyBWZWN0b3IyKDAsMCk7X3RoaXMyLnJlcGVhdD1uZXcgVmVjdG9yMigxLDEpO190aGlzMi5jZW50ZXI9bmV3IFZlY3RvcjIoMCwwKTtfdGhpczIucm90YXRpb249MDtfdGhpczIubWF0cml4QXV0b1VwZGF0ZT10cnVlO190aGlzMi5tYXRyaXg9bmV3IE1hdHJpeDMoKTtfdGhpczIuZ2VuZXJhdGVNaXBtYXBzPXRydWU7X3RoaXMyLnByZW11bHRpcGx5QWxwaGE9ZmFsc2U7X3RoaXMyLmZsaXBZPXRydWU7X3RoaXMyLnVucGFja0FsaWdubWVudD00Oy8vIHZhbGlkIHZhbHVlczogMSwgMiwgNCwgOCAoc2VlIGh0dHA6Ly93d3cua2hyb25vcy5vcmcvb3BlbmdsZXMvc2RrL2RvY3MvbWFuL3hodG1sL2dsUGl4ZWxTdG9yZWkueG1sKQovLyBWYWx1ZXMgb2YgZW5jb2RpbmcgIT09IFRIUkVFLkxpbmVhckVuY29kaW5nIG9ubHkgc3VwcG9ydGVkIG9uIG1hcCwgZW52TWFwIGFuZCBlbWlzc2l2ZU1hcC4KLy8KLy8gQWxzbyBjaGFuZ2luZyB0aGUgZW5jb2RpbmcgYWZ0ZXIgYWxyZWFkeSB1c2VkIGJ5IGEgTWF0ZXJpYWwgd2lsbCBub3QgYXV0b21hdGljYWxseSBtYWtlIHRoZSBNYXRlcmlhbAovLyB1cGRhdGUuIFlvdSBuZWVkIHRvIGV4cGxpY2l0bHkgY2FsbCBNYXRlcmlhbC5uZWVkc1VwZGF0ZSB0byB0cmlnZ2VyIGl0IHRvIHJlY29tcGlsZS4KX3RoaXMyLmVuY29kaW5nPWVuY29kaW5nO190aGlzMi51c2VyRGF0YT17fTtfdGhpczIudmVyc2lvbj0wO190aGlzMi5vblVwZGF0ZT1udWxsO190aGlzMi5pc1JlbmRlclRhcmdldFRleHR1cmU9ZmFsc2U7Ly8gaW5kaWNhdGVzIHdoZXRoZXIgYSB0ZXh0dXJlIGJlbG9uZ3MgdG8gYSByZW5kZXIgdGFyZ2V0IG9yIG5vdApfdGhpczIubmVlZHNQTVJFTVVwZGF0ZT1mYWxzZTsvLyBpbmRpY2F0ZXMgd2hldGhlciB0aGlzIHRleHR1cmUgc2hvdWxkIGJlIHByb2Nlc3NlZCBieSBQTVJFTUdlbmVyYXRvciBvciBub3QgKG9ubHkgcmVsZXZhbnQgZm9yIHJlbmRlciB0YXJnZXQgdGV4dHVyZXMpCnJldHVybiBfdGhpczI7fV9jcmVhdGVDbGFzcyhUZXh0dXJlLFt7a2V5OiJ1cGRhdGVNYXRyaXgiLHZhbHVlOmZ1bmN0aW9uIHVwZGF0ZU1hdHJpeCgpe3RoaXMubWF0cml4LnNldFV2VHJhbnNmb3JtKHRoaXMub2Zmc2V0LngsdGhpcy5vZmZzZXQueSx0aGlzLnJlcGVhdC54LHRoaXMucmVwZWF0LnksdGhpcy5yb3RhdGlvbix0aGlzLmNlbnRlci54LHRoaXMuY2VudGVyLnkpO319LHtrZXk6ImNsb25lIix2YWx1ZTpmdW5jdGlvbiBjbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcigpLmNvcHkodGhpcyk7fX0se2tleToiY29weSIsdmFsdWU6ZnVuY3Rpb24gY29weShzb3VyY2Upe3RoaXMubmFtZT1zb3VyY2UubmFtZTt0aGlzLmltYWdlPXNvdXJjZS5pbWFnZTt0aGlzLm1pcG1hcHM9c291cmNlLm1pcG1hcHMuc2xpY2UoMCk7dGhpcy5tYXBwaW5nPXNvdXJjZS5tYXBwaW5nO3RoaXMud3JhcFM9c291cmNlLndyYXBTO3RoaXMud3JhcFQ9c291cmNlLndyYXBUO3RoaXMubWFnRmlsdGVyPXNvdXJjZS5tYWdGaWx0ZXI7dGhpcy5taW5GaWx0ZXI9c291cmNlLm1pbkZpbHRlcjt0aGlzLmFuaXNvdHJvcHk9c291cmNlLmFuaXNvdHJvcHk7dGhpcy5mb3JtYXQ9c291cmNlLmZvcm1hdDt0aGlzLmludGVybmFsRm9ybWF0PXNvdXJjZS5pbnRlcm5hbEZvcm1hdDt0aGlzLnR5cGU9c291cmNlLnR5cGU7dGhpcy5vZmZzZXQuY29weShzb3VyY2Uub2Zmc2V0KTt0aGlzLnJlcGVhdC5jb3B5KHNvdXJjZS5yZXBlYXQpO3RoaXMuY2VudGVyLmNvcHkoc291cmNlLmNlbnRlcik7dGhpcy5yb3RhdGlvbj1zb3VyY2Uucm90YXRpb247dGhpcy5tYXRyaXhBdXRvVXBkYXRlPXNvdXJjZS5tYXRyaXhBdXRvVXBkYXRlO3RoaXMubWF0cml4LmNvcHkoc291cmNlLm1hdHJpeCk7dGhpcy5nZW5lcmF0ZU1pcG1hcHM9c291cmNlLmdlbmVyYXRlTWlwbWFwczt0aGlzLnByZW11bHRpcGx5QWxwaGE9c291cmNlLnByZW11bHRpcGx5QWxwaGE7dGhpcy5mbGlwWT1zb3VyY2UuZmxpcFk7dGhpcy51bnBhY2tBbGlnbm1lbnQ9c291cmNlLnVucGFja0FsaWdubWVudDt0aGlzLmVuY29kaW5nPXNvdXJjZS5lbmNvZGluZzt0aGlzLnVzZXJEYXRhPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoc291cmNlLnVzZXJEYXRhKSk7cmV0dXJuIHRoaXM7fX0se2tleToidG9KU09OIix2YWx1ZTpmdW5jdGlvbiB0b0pTT04obWV0YSl7dmFyIGlzUm9vdE9iamVjdD1tZXRhPT09dW5kZWZpbmVkfHx0eXBlb2YgbWV0YT09PSdzdHJpbmcnO2lmKCFpc1Jvb3RPYmplY3QmJm1ldGEudGV4dHVyZXNbdGhpcy51dWlkXSE9PXVuZGVmaW5lZCl7cmV0dXJuIG1ldGEudGV4dHVyZXNbdGhpcy51dWlkXTt9dmFyIG91dHB1dD17bWV0YWRhdGE6e3ZlcnNpb246NC41LHR5cGU6J1RleHR1cmUnLGdlbmVyYXRvcjonVGV4dHVyZS50b0pTT04nfSx1dWlkOnRoaXMudXVpZCxuYW1lOnRoaXMubmFtZSxtYXBwaW5nOnRoaXMubWFwcGluZyxyZXBlYXQ6W3RoaXMucmVwZWF0LngsdGhpcy5yZXBlYXQueV0sb2Zmc2V0Olt0aGlzLm9mZnNldC54LHRoaXMub2Zmc2V0LnldLGNlbnRlcjpbdGhpcy5jZW50ZXIueCx0aGlzLmNlbnRlci55XSxyb3RhdGlvbjp0aGlzLnJvdGF0aW9uLHdyYXA6W3RoaXMud3JhcFMsdGhpcy53cmFwVF0sZm9ybWF0OnRoaXMuZm9ybWF0LHR5cGU6dGhpcy50eXBlLGVuY29kaW5nOnRoaXMuZW5jb2RpbmcsbWluRmlsdGVyOnRoaXMubWluRmlsdGVyLG1hZ0ZpbHRlcjp0aGlzLm1hZ0ZpbHRlcixhbmlzb3Ryb3B5OnRoaXMuYW5pc290cm9weSxmbGlwWTp0aGlzLmZsaXBZLHByZW11bHRpcGx5QWxwaGE6dGhpcy5wcmVtdWx0aXBseUFscGhhLHVucGFja0FsaWdubWVudDp0aGlzLnVucGFja0FsaWdubWVudH07aWYodGhpcy5pbWFnZSE9PXVuZGVmaW5lZCl7Ly8gVE9ETzogTW92ZSB0byBUSFJFRS5JbWFnZQp2YXIgaW1hZ2U9dGhpcy5pbWFnZTtpZihpbWFnZS51dWlkPT09dW5kZWZpbmVkKXtpbWFnZS51dWlkPWdlbmVyYXRlVVVJRCgpOy8vIFVHSAp9aWYoIWlzUm9vdE9iamVjdCYmbWV0YS5pbWFnZXNbaW1hZ2UudXVpZF09PT11bmRlZmluZWQpe3ZhciB1cmw7aWYoQXJyYXkuaXNBcnJheShpbWFnZSkpey8vIHByb2Nlc3MgYXJyYXkgb2YgaW1hZ2VzIGUuZy4gQ3ViZVRleHR1cmUKdXJsPVtdO2Zvcih2YXIgX2k2PTAsbD1pbWFnZS5sZW5ndGg7X2k2PGw7X2k2Kyspey8vIGNoZWNrIGN1YmUgdGV4dHVyZSB3aXRoIGRhdGEgdGV4dHVyZXMKaWYoaW1hZ2VbX2k2XS5pc0RhdGFUZXh0dXJlKXt1cmwucHVzaChzZXJpYWxpemVJbWFnZShpbWFnZVtfaTZdLmltYWdlKSk7fWVsc2V7dXJsLnB1c2goc2VyaWFsaXplSW1hZ2UoaW1hZ2VbX2k2XSkpO319fWVsc2V7Ly8gcHJvY2VzcyBzaW5nbGUgaW1hZ2UKdXJsPXNlcmlhbGl6ZUltYWdlKGltYWdlKTt9bWV0YS5pbWFnZXNbaW1hZ2UudXVpZF09e3V1aWQ6aW1hZ2UudXVpZCx1cmw6dXJsfTt9b3V0cHV0LmltYWdlPWltYWdlLnV1aWQ7fWlmKEpTT04uc3RyaW5naWZ5KHRoaXMudXNlckRhdGEpIT09J3t9JylvdXRwdXQudXNlckRhdGE9dGhpcy51c2VyRGF0YTtpZighaXNSb290T2JqZWN0KXttZXRhLnRleHR1cmVzW3RoaXMudXVpZF09b3V0cHV0O31yZXR1cm4gb3V0cHV0O319LHtrZXk6ImRpc3Bvc2UiLHZhbHVlOmZ1bmN0aW9uIGRpc3Bvc2UoKXt0aGlzLmRpc3BhdGNoRXZlbnQoe3R5cGU6J2Rpc3Bvc2UnfSk7fX0se2tleToidHJhbnNmb3JtVXYiLHZhbHVlOmZ1bmN0aW9uIHRyYW5zZm9ybVV2KHV2KXtpZih0aGlzLm1hcHBpbmchPT1VVk1hcHBpbmcpcmV0dXJuIHV2O3V2LmFwcGx5TWF0cml4Myh0aGlzLm1hdHJpeCk7aWYodXYueDwwfHx1di54PjEpe3N3aXRjaCh0aGlzLndyYXBTKXtjYXNlIFJlcGVhdFdyYXBwaW5nOnV2Lng9dXYueC1NYXRoLmZsb29yKHV2LngpO2JyZWFrO2Nhc2UgQ2xhbXBUb0VkZ2VXcmFwcGluZzp1di54PXV2Lng8MD8wOjE7YnJlYWs7Y2FzZSBNaXJyb3JlZFJlcGVhdFdyYXBwaW5nOmlmKE1hdGguYWJzKE1hdGguZmxvb3IodXYueCklMik9PT0xKXt1di54PU1hdGguY2VpbCh1di54KS11di54O31lbHNle3V2Lng9dXYueC1NYXRoLmZsb29yKHV2LngpO31icmVhazt9fWlmKHV2Lnk8MHx8dXYueT4xKXtzd2l0Y2godGhpcy53cmFwVCl7Y2FzZSBSZXBlYXRXcmFwcGluZzp1di55PXV2LnktTWF0aC5mbG9vcih1di55KTticmVhaztjYXNlIENsYW1wVG9FZGdlV3JhcHBpbmc6dXYueT11di55PDA/MDoxO2JyZWFrO2Nhc2UgTWlycm9yZWRSZXBlYXRXcmFwcGluZzppZihNYXRoLmFicyhNYXRoLmZsb29yKHV2LnkpJTIpPT09MSl7dXYueT1NYXRoLmNlaWwodXYueSktdXYueTt9ZWxzZXt1di55PXV2LnktTWF0aC5mbG9vcih1di55KTt9YnJlYWs7fX1pZih0aGlzLmZsaXBZKXt1di55PTEtdXYueTt9cmV0dXJuIHV2O319LHtrZXk6Im5lZWRzVXBkYXRlIixzZXQ6ZnVuY3Rpb24gc2V0KHZhbHVlKXtpZih2YWx1ZT09PXRydWUpdGhpcy52ZXJzaW9uKys7fX1dKTtyZXR1cm4gVGV4dHVyZTt9KEV2ZW50RGlzcGF0Y2hlcik7VGV4dHVyZS5ERUZBVUxUX0lNQUdFPXVuZGVmaW5lZDtUZXh0dXJlLkRFRkFVTFRfTUFQUElORz1VVk1hcHBpbmc7VGV4dHVyZS5wcm90b3R5cGUuaXNUZXh0dXJlPXRydWU7ZnVuY3Rpb24gc2VyaWFsaXplSW1hZ2UoaW1hZ2Upe2lmKHR5cGVvZiBIVE1MSW1hZ2VFbGVtZW50IT09J3VuZGVmaW5lZCcmJmltYWdlIGluc3RhbmNlb2YgSFRNTEltYWdlRWxlbWVudHx8dHlwZW9mIEhUTUxDYW52YXNFbGVtZW50IT09J3VuZGVmaW5lZCcmJmltYWdlIGluc3RhbmNlb2YgSFRNTENhbnZhc0VsZW1lbnR8fHR5cGVvZiBJbWFnZUJpdG1hcCE9PSd1bmRlZmluZWQnJiZpbWFnZSBpbnN0YW5jZW9mIEltYWdlQml0bWFwKXsvLyBkZWZhdWx0IGltYWdlcwpyZXR1cm4gSW1hZ2VVdGlscy5nZXREYXRhVVJMKGltYWdlKTt9ZWxzZXtpZihpbWFnZS5kYXRhKXsvLyBpbWFnZXMgb2YgRGF0YVRleHR1cmUKcmV0dXJue2RhdGE6QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoaW1hZ2UuZGF0YSksd2lkdGg6aW1hZ2Uud2lkdGgsaGVpZ2h0OmltYWdlLmhlaWdodCx0eXBlOmltYWdlLmRhdGEuY29uc3RydWN0b3IubmFtZX07fWVsc2V7Y29uc29sZS53YXJuKCdUSFJFRS5UZXh0dXJlOiBVbmFibGUgdG8gc2VyaWFsaXplIFRleHR1cmUuJyk7cmV0dXJue307fX19dmFyIFZlY3RvcjQ9LyojX19QVVJFX18qL2Z1bmN0aW9uKF9TeW1ib2wkaXRlcmF0b3IyKXtmdW5jdGlvbiBWZWN0b3I0KCl7dmFyIHg9YXJndW1lbnRzLmxlbmd0aD4wJiZhcmd1bWVudHNbMF0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzBdOjA7dmFyIHk9YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzFdOjA7dmFyIHo9YXJndW1lbnRzLmxlbmd0aD4yJiZhcmd1bWVudHNbMl0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzJdOjA7dmFyIHc9YXJndW1lbnRzLmxlbmd0aD4zJiZhcmd1bWVudHNbM10hPT11bmRlZmluZWQ/YXJndW1lbnRzWzNdOjE7X2NsYXNzQ2FsbENoZWNrKHRoaXMsVmVjdG9yNCk7dGhpcy54PXg7dGhpcy55PXk7dGhpcy56PXo7dGhpcy53PXc7fV9jcmVhdGVDbGFzcyhWZWN0b3I0LFt7a2V5OiJ3aWR0aCIsZ2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiB0aGlzLno7fSxzZXQ6ZnVuY3Rpb24gc2V0KHZhbHVlKXt0aGlzLno9dmFsdWU7fX0se2tleToiaGVpZ2h0IixnZXQ6ZnVuY3Rpb24gZ2V0KCl7cmV0dXJuIHRoaXMudzt9LHNldDpmdW5jdGlvbiBzZXQodmFsdWUpe3RoaXMudz12YWx1ZTt9fSx7a2V5OiJzZXQiLHZhbHVlOmZ1bmN0aW9uIHNldCh4LHkseix3KXt0aGlzLng9eDt0aGlzLnk9eTt0aGlzLno9ejt0aGlzLnc9dztyZXR1cm4gdGhpczt9fSx7a2V5OiJzZXRTY2FsYXIiLHZhbHVlOmZ1bmN0aW9uIHNldFNjYWxhcihzY2FsYXIpe3RoaXMueD1zY2FsYXI7dGhpcy55PXNjYWxhcjt0aGlzLno9c2NhbGFyO3RoaXMudz1zY2FsYXI7cmV0dXJuIHRoaXM7fX0se2tleToic2V0WCIsdmFsdWU6ZnVuY3Rpb24gc2V0WCh4KXt0aGlzLng9eDtyZXR1cm4gdGhpczt9fSx7a2V5OiJzZXRZIix2YWx1ZTpmdW5jdGlvbiBzZXRZKHkpe3RoaXMueT15O3JldHVybiB0aGlzO319LHtrZXk6InNldFoiLHZhbHVlOmZ1bmN0aW9uIHNldFooeil7dGhpcy56PXo7cmV0dXJuIHRoaXM7fX0se2tleToic2V0VyIsdmFsdWU6ZnVuY3Rpb24gc2V0Vyh3KXt0aGlzLnc9dztyZXR1cm4gdGhpczt9fSx7a2V5OiJzZXRDb21wb25lbnQiLHZhbHVlOmZ1bmN0aW9uIHNldENvbXBvbmVudChpbmRleCx2YWx1ZSl7c3dpdGNoKGluZGV4KXtjYXNlIDA6dGhpcy54PXZhbHVlO2JyZWFrO2Nhc2UgMTp0aGlzLnk9dmFsdWU7YnJlYWs7Y2FzZSAyOnRoaXMuej12YWx1ZTticmVhaztjYXNlIDM6dGhpcy53PXZhbHVlO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCdpbmRleCBpcyBvdXQgb2YgcmFuZ2U6ICcraW5kZXgpO31yZXR1cm4gdGhpczt9fSx7a2V5OiJnZXRDb21wb25lbnQiLHZhbHVlOmZ1bmN0aW9uIGdldENvbXBvbmVudChpbmRleCl7c3dpdGNoKGluZGV4KXtjYXNlIDA6cmV0dXJuIHRoaXMueDtjYXNlIDE6cmV0dXJuIHRoaXMueTtjYXNlIDI6cmV0dXJuIHRoaXMuejtjYXNlIDM6cmV0dXJuIHRoaXMudztkZWZhdWx0OnRocm93IG5ldyBFcnJvcignaW5kZXggaXMgb3V0IG9mIHJhbmdlOiAnK2luZGV4KTt9fX0se2tleToiY2xvbmUiLHZhbHVlOmZ1bmN0aW9uIGNsb25lKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMueCx0aGlzLnksdGhpcy56LHRoaXMudyk7fX0se2tleToiY29weSIsdmFsdWU6ZnVuY3Rpb24gY29weSh2KXt0aGlzLng9di54O3RoaXMueT12Lnk7dGhpcy56PXYuejt0aGlzLnc9di53IT09dW5kZWZpbmVkP3YudzoxO3JldHVybiB0aGlzO319LHtrZXk6ImFkZCIsdmFsdWU6ZnVuY3Rpb24gYWRkKHYsdyl7aWYodyE9PXVuZGVmaW5lZCl7Y29uc29sZS53YXJuKCdUSFJFRS5WZWN0b3I0OiAuYWRkKCkgbm93IG9ubHkgYWNjZXB0cyBvbmUgYXJndW1lbnQuIFVzZSAuYWRkVmVjdG9ycyggYSwgYiApIGluc3RlYWQuJyk7cmV0dXJuIHRoaXMuYWRkVmVjdG9ycyh2LHcpO310aGlzLngrPXYueDt0aGlzLnkrPXYueTt0aGlzLnorPXYuejt0aGlzLncrPXYudztyZXR1cm4gdGhpczt9fSx7a2V5OiJhZGRTY2FsYXIiLHZhbHVlOmZ1bmN0aW9uIGFkZFNjYWxhcihzKXt0aGlzLngrPXM7dGhpcy55Kz1zO3RoaXMueis9czt0aGlzLncrPXM7cmV0dXJuIHRoaXM7fX0se2tleToiYWRkVmVjdG9ycyIsdmFsdWU6ZnVuY3Rpb24gYWRkVmVjdG9ycyhhLGIpe3RoaXMueD1hLngrYi54O3RoaXMueT1hLnkrYi55O3RoaXMuej1hLnorYi56O3RoaXMudz1hLncrYi53O3JldHVybiB0aGlzO319LHtrZXk6ImFkZFNjYWxlZFZlY3RvciIsdmFsdWU6ZnVuY3Rpb24gYWRkU2NhbGVkVmVjdG9yKHYscyl7dGhpcy54Kz12Lngqczt0aGlzLnkrPXYueSpzO3RoaXMueis9di56KnM7dGhpcy53Kz12LncqcztyZXR1cm4gdGhpczt9fSx7a2V5OiJzdWIiLHZhbHVlOmZ1bmN0aW9uIHN1Yih2LHcpe2lmKHchPT11bmRlZmluZWQpe2NvbnNvbGUud2FybignVEhSRUUuVmVjdG9yNDogLnN1YigpIG5vdyBvbmx5IGFjY2VwdHMgb25lIGFyZ3VtZW50LiBVc2UgLnN1YlZlY3RvcnMoIGEsIGIgKSBpbnN0ZWFkLicpO3JldHVybiB0aGlzLnN1YlZlY3RvcnModix3KTt9dGhpcy54LT12Lng7dGhpcy55LT12Lnk7dGhpcy56LT12Lno7dGhpcy53LT12Lnc7cmV0dXJuIHRoaXM7fX0se2tleToic3ViU2NhbGFyIix2YWx1ZTpmdW5jdGlvbiBzdWJTY2FsYXIocyl7dGhpcy54LT1zO3RoaXMueS09czt0aGlzLnotPXM7dGhpcy53LT1zO3JldHVybiB0aGlzO319LHtrZXk6InN1YlZlY3RvcnMiLHZhbHVlOmZ1bmN0aW9uIHN1YlZlY3RvcnMoYSxiKXt0aGlzLng9YS54LWIueDt0aGlzLnk9YS55LWIueTt0aGlzLno9YS56LWIuejt0aGlzLnc9YS53LWIudztyZXR1cm4gdGhpczt9fSx7a2V5OiJtdWx0aXBseSIsdmFsdWU6ZnVuY3Rpb24gbXVsdGlwbHkodil7dGhpcy54Kj12Lng7dGhpcy55Kj12Lnk7dGhpcy56Kj12Lno7dGhpcy53Kj12Lnc7cmV0dXJuIHRoaXM7fX0se2tleToibXVsdGlwbHlTY2FsYXIiLHZhbHVlOmZ1bmN0aW9uIG11bHRpcGx5U2NhbGFyKHNjYWxhcil7dGhpcy54Kj1zY2FsYXI7dGhpcy55Kj1zY2FsYXI7dGhpcy56Kj1zY2FsYXI7dGhpcy53Kj1zY2FsYXI7cmV0dXJuIHRoaXM7fX0se2tleToiYXBwbHlNYXRyaXg0Iix2YWx1ZTpmdW5jdGlvbiBhcHBseU1hdHJpeDQobSl7dmFyIHg9dGhpcy54LHk9dGhpcy55LHo9dGhpcy56LHc9dGhpcy53O3ZhciBlPW0uZWxlbWVudHM7dGhpcy54PWVbMF0qeCtlWzRdKnkrZVs4XSp6K2VbMTJdKnc7dGhpcy55PWVbMV0qeCtlWzVdKnkrZVs5XSp6K2VbMTNdKnc7dGhpcy56PWVbMl0qeCtlWzZdKnkrZVsxMF0qeitlWzE0XSp3O3RoaXMudz1lWzNdKngrZVs3XSp5K2VbMTFdKnorZVsxNV0qdztyZXR1cm4gdGhpczt9fSx7a2V5OiJkaXZpZGVTY2FsYXIiLHZhbHVlOmZ1bmN0aW9uIGRpdmlkZVNjYWxhcihzY2FsYXIpe3JldHVybiB0aGlzLm11bHRpcGx5U2NhbGFyKDEvc2NhbGFyKTt9fSx7a2V5OiJzZXRBeGlzQW5nbGVGcm9tUXVhdGVybmlvbiIsdmFsdWU6ZnVuY3Rpb24gc2V0QXhpc0FuZ2xlRnJvbVF1YXRlcm5pb24ocSl7Ly8gaHR0cDovL3d3dy5ldWNsaWRlYW5zcGFjZS5jb20vbWF0aHMvZ2VvbWV0cnkvcm90YXRpb25zL2NvbnZlcnNpb25zL3F1YXRlcm5pb25Ub0FuZ2xlL2luZGV4Lmh0bQovLyBxIGlzIGFzc3VtZWQgdG8gYmUgbm9ybWFsaXplZAp0aGlzLnc9MipNYXRoLmFjb3MocS53KTt2YXIgcz1NYXRoLnNxcnQoMS1xLncqcS53KTtpZihzPDAuMDAwMSl7dGhpcy54PTE7dGhpcy55PTA7dGhpcy56PTA7fWVsc2V7dGhpcy54PXEueC9zO3RoaXMueT1xLnkvczt0aGlzLno9cS56L3M7fXJldHVybiB0aGlzO319LHtrZXk6InNldEF4aXNBbmdsZUZyb21Sb3RhdGlvbk1hdHJpeCIsdmFsdWU6ZnVuY3Rpb24gc2V0QXhpc0FuZ2xlRnJvbVJvdGF0aW9uTWF0cml4KG0pey8vIGh0dHA6Ly93d3cuZXVjbGlkZWFuc3BhY2UuY29tL21hdGhzL2dlb21ldHJ5L3JvdGF0aW9ucy9jb252ZXJzaW9ucy9tYXRyaXhUb0FuZ2xlL2luZGV4Lmh0bQovLyBhc3N1bWVzIHRoZSB1cHBlciAzeDMgb2YgbSBpcyBhIHB1cmUgcm90YXRpb24gbWF0cml4IChpLmUsIHVuc2NhbGVkKQp2YXIgYW5nbGUseCx5LHo7Ly8gdmFyaWFibGVzIGZvciByZXN1bHQKdmFyIGVwc2lsb249MC4wMSwvLyBtYXJnaW4gdG8gYWxsb3cgZm9yIHJvdW5kaW5nIGVycm9ycwplcHNpbG9uMj0wLjEsLy8gbWFyZ2luIHRvIGRpc3Rpbmd1aXNoIGJldHdlZW4gMCBhbmQgMTgwIGRlZ3JlZXMKdGU9bS5lbGVtZW50cyxtMTE9dGVbMF0sbTEyPXRlWzRdLG0xMz10ZVs4XSxtMjE9dGVbMV0sbTIyPXRlWzVdLG0yMz10ZVs5XSxtMzE9dGVbMl0sbTMyPXRlWzZdLG0zMz10ZVsxMF07aWYoTWF0aC5hYnMobTEyLW0yMSk8ZXBzaWxvbiYmTWF0aC5hYnMobTEzLW0zMSk8ZXBzaWxvbiYmTWF0aC5hYnMobTIzLW0zMik8ZXBzaWxvbil7Ly8gc2luZ3VsYXJpdHkgZm91bmQKLy8gZmlyc3QgY2hlY2sgZm9yIGlkZW50aXR5IG1hdHJpeCB3aGljaCBtdXN0IGhhdmUgKzEgZm9yIGFsbCB0ZXJtcwovLyBpbiBsZWFkaW5nIGRpYWdvbmFsIGFuZCB6ZXJvIGluIG90aGVyIHRlcm1zCmlmKE1hdGguYWJzKG0xMittMjEpPGVwc2lsb24yJiZNYXRoLmFicyhtMTMrbTMxKTxlcHNpbG9uMiYmTWF0aC5hYnMobTIzK20zMik8ZXBzaWxvbjImJk1hdGguYWJzKG0xMSttMjIrbTMzLTMpPGVwc2lsb24yKXsvLyB0aGlzIHNpbmd1bGFyaXR5IGlzIGlkZW50aXR5IG1hdHJpeCBzbyBhbmdsZSA9IDAKdGhpcy5zZXQoMSwwLDAsMCk7cmV0dXJuIHRoaXM7Ly8gemVybyBhbmdsZSwgYXJiaXRyYXJ5IGF4aXMKfS8vIG90aGVyd2lzZSB0aGlzIHNpbmd1bGFyaXR5IGlzIGFuZ2xlID0gMTgwCmFuZ2xlPU1hdGguUEk7dmFyIHh4PShtMTErMSkvMjt2YXIgeXk9KG0yMisxKS8yO3ZhciB6ej0obTMzKzEpLzI7dmFyIHh5PShtMTIrbTIxKS80O3ZhciB4ej0obTEzK20zMSkvNDt2YXIgeXo9KG0yMyttMzIpLzQ7aWYoeHg+eXkmJnh4Pnp6KXsvLyBtMTEgaXMgdGhlIGxhcmdlc3QgZGlhZ29uYWwgdGVybQppZih4eDxlcHNpbG9uKXt4PTA7eT0wLjcwNzEwNjc4MTt6PTAuNzA3MTA2NzgxO31lbHNle3g9TWF0aC5zcXJ0KHh4KTt5PXh5L3g7ej14ei94O319ZWxzZSBpZih5eT56eil7Ly8gbTIyIGlzIHRoZSBsYXJnZXN0IGRpYWdvbmFsIHRlcm0KaWYoeXk8ZXBzaWxvbil7eD0wLjcwNzEwNjc4MTt5PTA7ej0wLjcwNzEwNjc4MTt9ZWxzZXt5PU1hdGguc3FydCh5eSk7eD14eS95O3o9eXoveTt9fWVsc2V7Ly8gbTMzIGlzIHRoZSBsYXJnZXN0IGRpYWdvbmFsIHRlcm0gc28gYmFzZSByZXN1bHQgb24gdGhpcwppZih6ejxlcHNpbG9uKXt4PTAuNzA3MTA2NzgxO3k9MC43MDcxMDY3ODE7ej0wO31lbHNle3o9TWF0aC5zcXJ0KHp6KTt4PXh6L3o7eT15ei96O319dGhpcy5zZXQoeCx5LHosYW5nbGUpO3JldHVybiB0aGlzOy8vIHJldHVybiAxODAgZGVnIHJvdGF0aW9uCn0vLyBhcyB3ZSBoYXZlIHJlYWNoZWQgaGVyZSB0aGVyZSBhcmUgbm8gc2luZ3VsYXJpdGllcyBzbyB3ZSBjYW4gaGFuZGxlIG5vcm1hbGx5CnZhciBzPU1hdGguc3FydCgobTMyLW0yMykqKG0zMi1tMjMpKyhtMTMtbTMxKSoobTEzLW0zMSkrKG0yMS1tMTIpKihtMjEtbTEyKSk7Ly8gdXNlZCB0byBub3JtYWxpemUKaWYoTWF0aC5hYnMocyk8MC4wMDEpcz0xOy8vIHByZXZlbnQgZGl2aWRlIGJ5IHplcm8sIHNob3VsZCBub3QgaGFwcGVuIGlmIG1hdHJpeCBpcyBvcnRob2dvbmFsIGFuZCBzaG91bGQgYmUKLy8gY2F1Z2h0IGJ5IHNpbmd1bGFyaXR5IHRlc3QgYWJvdmUsIGJ1dCBJJ3ZlIGxlZnQgaXQgaW4ganVzdCBpbiBjYXNlCnRoaXMueD0obTMyLW0yMykvczt0aGlzLnk9KG0xMy1tMzEpL3M7dGhpcy56PShtMjEtbTEyKS9zO3RoaXMudz1NYXRoLmFjb3MoKG0xMSttMjIrbTMzLTEpLzIpO3JldHVybiB0aGlzO319LHtrZXk6Im1pbiIsdmFsdWU6ZnVuY3Rpb24gbWluKHYpe3RoaXMueD1NYXRoLm1pbih0aGlzLngsdi54KTt0aGlzLnk9TWF0aC5taW4odGhpcy55LHYueSk7dGhpcy56PU1hdGgubWluKHRoaXMueix2LnopO3RoaXMudz1NYXRoLm1pbih0aGlzLncsdi53KTtyZXR1cm4gdGhpczt9fSx7a2V5OiJtYXgiLHZhbHVlOmZ1bmN0aW9uIG1heCh2KXt0aGlzLng9TWF0aC5tYXgodGhpcy54LHYueCk7dGhpcy55PU1hdGgubWF4KHRoaXMueSx2LnkpO3RoaXMuej1NYXRoLm1heCh0aGlzLnosdi56KTt0aGlzLnc9TWF0aC5tYXgodGhpcy53LHYudyk7cmV0dXJuIHRoaXM7fX0se2tleToiY2xhbXAiLHZhbHVlOmZ1bmN0aW9uIGNsYW1wKG1pbixtYXgpey8vIGFzc3VtZXMgbWluIDwgbWF4LCBjb21wb25lbnR3aXNlCnRoaXMueD1NYXRoLm1heChtaW4ueCxNYXRoLm1pbihtYXgueCx0aGlzLngpKTt0aGlzLnk9TWF0aC5tYXgobWluLnksTWF0aC5taW4obWF4LnksdGhpcy55KSk7dGhpcy56PU1hdGgubWF4KG1pbi56LE1hdGgubWluKG1heC56LHRoaXMueikpO3RoaXMudz1NYXRoLm1heChtaW4udyxNYXRoLm1pbihtYXgudyx0aGlzLncpKTtyZXR1cm4gdGhpczt9fSx7a2V5OiJjbGFtcFNjYWxhciIsdmFsdWU6ZnVuY3Rpb24gY2xhbXBTY2FsYXIobWluVmFsLG1heFZhbCl7dGhpcy54PU1hdGgubWF4KG1pblZhbCxNYXRoLm1pbihtYXhWYWwsdGhpcy54KSk7dGhpcy55PU1hdGgubWF4KG1pblZhbCxNYXRoLm1pbihtYXhWYWwsdGhpcy55KSk7dGhpcy56PU1hdGgubWF4KG1pblZhbCxNYXRoLm1pbihtYXhWYWwsdGhpcy56KSk7dGhpcy53PU1hdGgubWF4KG1pblZhbCxNYXRoLm1pbihtYXhWYWwsdGhpcy53KSk7cmV0dXJuIHRoaXM7fX0se2tleToiY2xhbXBMZW5ndGgiLHZhbHVlOmZ1bmN0aW9uIGNsYW1wTGVuZ3RoKG1pbixtYXgpe3ZhciBsZW5ndGg9dGhpcy5sZW5ndGgoKTtyZXR1cm4gdGhpcy5kaXZpZGVTY2FsYXIobGVuZ3RofHwxKS5tdWx0aXBseVNjYWxhcihNYXRoLm1heChtaW4sTWF0aC5taW4obWF4LGxlbmd0aCkpKTt9fSx7a2V5OiJmbG9vciIsdmFsdWU6ZnVuY3Rpb24gZmxvb3IoKXt0aGlzLng9TWF0aC5mbG9vcih0aGlzLngpO3RoaXMueT1NYXRoLmZsb29yKHRoaXMueSk7dGhpcy56PU1hdGguZmxvb3IodGhpcy56KTt0aGlzLnc9TWF0aC5mbG9vcih0aGlzLncpO3JldHVybiB0aGlzO319LHtrZXk6ImNlaWwiLHZhbHVlOmZ1bmN0aW9uIGNlaWwoKXt0aGlzLng9TWF0aC5jZWlsKHRoaXMueCk7dGhpcy55PU1hdGguY2VpbCh0aGlzLnkpO3RoaXMuej1NYXRoLmNlaWwodGhpcy56KTt0aGlzLnc9TWF0aC5jZWlsKHRoaXMudyk7cmV0dXJuIHRoaXM7fX0se2tleToicm91bmQiLHZhbHVlOmZ1bmN0aW9uIHJvdW5kKCl7dGhpcy54PU1hdGgucm91bmQodGhpcy54KTt0aGlzLnk9TWF0aC5yb3VuZCh0aGlzLnkpO3RoaXMuej1NYXRoLnJvdW5kKHRoaXMueik7dGhpcy53PU1hdGgucm91bmQodGhpcy53KTtyZXR1cm4gdGhpczt9fSx7a2V5OiJyb3VuZFRvWmVybyIsdmFsdWU6ZnVuY3Rpb24gcm91bmRUb1plcm8oKXt0aGlzLng9dGhpcy54PDA/TWF0aC5jZWlsKHRoaXMueCk6TWF0aC5mbG9vcih0aGlzLngpO3RoaXMueT10aGlzLnk8MD9NYXRoLmNlaWwodGhpcy55KTpNYXRoLmZsb29yKHRoaXMueSk7dGhpcy56PXRoaXMuejwwP01hdGguY2VpbCh0aGlzLnopOk1hdGguZmxvb3IodGhpcy56KTt0aGlzLnc9dGhpcy53PDA/TWF0aC5jZWlsKHRoaXMudyk6TWF0aC5mbG9vcih0aGlzLncpO3JldHVybiB0aGlzO319LHtrZXk6Im5lZ2F0ZSIsdmFsdWU6ZnVuY3Rpb24gbmVnYXRlKCl7dGhpcy54PS10aGlzLng7dGhpcy55PS10aGlzLnk7dGhpcy56PS10aGlzLno7dGhpcy53PS10aGlzLnc7cmV0dXJuIHRoaXM7fX0se2tleToiZG90Iix2YWx1ZTpmdW5jdGlvbiBkb3Qodil7cmV0dXJuIHRoaXMueCp2LngrdGhpcy55KnYueSt0aGlzLnoqdi56K3RoaXMudyp2Lnc7fX0se2tleToibGVuZ3RoU3EiLHZhbHVlOmZ1bmN0aW9uIGxlbmd0aFNxKCl7cmV0dXJuIHRoaXMueCp0aGlzLngrdGhpcy55KnRoaXMueSt0aGlzLnoqdGhpcy56K3RoaXMudyp0aGlzLnc7fX0se2tleToibGVuZ3RoIix2YWx1ZTpmdW5jdGlvbiBsZW5ndGgoKXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMueCp0aGlzLngrdGhpcy55KnRoaXMueSt0aGlzLnoqdGhpcy56K3RoaXMudyp0aGlzLncpO319LHtrZXk6Im1hbmhhdHRhbkxlbmd0aCIsdmFsdWU6ZnVuY3Rpb24gbWFuaGF0dGFuTGVuZ3RoKCl7cmV0dXJuIE1hdGguYWJzKHRoaXMueCkrTWF0aC5hYnModGhpcy55KStNYXRoLmFicyh0aGlzLnopK01hdGguYWJzKHRoaXMudyk7fX0se2tleToibm9ybWFsaXplIix2YWx1ZTpmdW5jdGlvbiBub3JtYWxpemUoKXtyZXR1cm4gdGhpcy5kaXZpZGVTY2FsYXIodGhpcy5sZW5ndGgoKXx8MSk7fX0se2tleToic2V0TGVuZ3RoIix2YWx1ZTpmdW5jdGlvbiBzZXRMZW5ndGgobGVuZ3RoKXtyZXR1cm4gdGhpcy5ub3JtYWxpemUoKS5tdWx0aXBseVNjYWxhcihsZW5ndGgpO319LHtrZXk6ImxlcnAiLHZhbHVlOmZ1bmN0aW9uIGxlcnAodixhbHBoYSl7dGhpcy54Kz0odi54LXRoaXMueCkqYWxwaGE7dGhpcy55Kz0odi55LXRoaXMueSkqYWxwaGE7dGhpcy56Kz0odi56LXRoaXMueikqYWxwaGE7dGhpcy53Kz0odi53LXRoaXMudykqYWxwaGE7cmV0dXJuIHRoaXM7fX0se2tleToibGVycFZlY3RvcnMiLHZhbHVlOmZ1bmN0aW9uIGxlcnBWZWN0b3JzKHYxLHYyLGFscGhhKXt0aGlzLng9djEueCsodjIueC12MS54KSphbHBoYTt0aGlzLnk9djEueSsodjIueS12MS55KSphbHBoYTt0aGlzLno9djEueisodjIuei12MS56KSphbHBoYTt0aGlzLnc9djEudysodjIudy12MS53KSphbHBoYTtyZXR1cm4gdGhpczt9fSx7a2V5OiJlcXVhbHMiLHZhbHVlOmZ1bmN0aW9uIGVxdWFscyh2KXtyZXR1cm4gdi54PT09dGhpcy54JiZ2Lnk9PT10aGlzLnkmJnYuej09PXRoaXMueiYmdi53PT09dGhpcy53O319LHtrZXk6ImZyb21BcnJheSIsdmFsdWU6ZnVuY3Rpb24gZnJvbUFycmF5KGFycmF5KXt2YXIgb2Zmc2V0PWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1sxXTowO3RoaXMueD1hcnJheVtvZmZzZXRdO3RoaXMueT1hcnJheVtvZmZzZXQrMV07dGhpcy56PWFycmF5W29mZnNldCsyXTt0aGlzLnc9YXJyYXlbb2Zmc2V0KzNdO3JldHVybiB0aGlzO319LHtrZXk6InRvQXJyYXkiLHZhbHVlOmZ1bmN0aW9uIHRvQXJyYXkoKXt2YXIgYXJyYXk9YXJndW1lbnRzLmxlbmd0aD4wJiZhcmd1bWVudHNbMF0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzBdOltdO3ZhciBvZmZzZXQ9YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzFdOjA7YXJyYXlbb2Zmc2V0XT10aGlzLng7YXJyYXlbb2Zmc2V0KzFdPXRoaXMueTthcnJheVtvZmZzZXQrMl09dGhpcy56O2FycmF5W29mZnNldCszXT10aGlzLnc7cmV0dXJuIGFycmF5O319LHtrZXk6ImZyb21CdWZmZXJBdHRyaWJ1dGUiLHZhbHVlOmZ1bmN0aW9uIGZyb21CdWZmZXJBdHRyaWJ1dGUoYXR0cmlidXRlLGluZGV4LG9mZnNldCl7aWYob2Zmc2V0IT09dW5kZWZpbmVkKXtjb25zb2xlLndhcm4oJ1RIUkVFLlZlY3RvcjQ6IG9mZnNldCBoYXMgYmVlbiByZW1vdmVkIGZyb20gLmZyb21CdWZmZXJBdHRyaWJ1dGUoKS4nKTt9dGhpcy54PWF0dHJpYnV0ZS5nZXRYKGluZGV4KTt0aGlzLnk9YXR0cmlidXRlLmdldFkoaW5kZXgpO3RoaXMuej1hdHRyaWJ1dGUuZ2V0WihpbmRleCk7dGhpcy53PWF0dHJpYnV0ZS5nZXRXKGluZGV4KTtyZXR1cm4gdGhpczt9fSx7a2V5OiJyYW5kb20iLHZhbHVlOmZ1bmN0aW9uIHJhbmRvbSgpe3RoaXMueD1NYXRoLnJhbmRvbSgpO3RoaXMueT1NYXRoLnJhbmRvbSgpO3RoaXMuej1NYXRoLnJhbmRvbSgpO3RoaXMudz1NYXRoLnJhbmRvbSgpO3JldHVybiB0aGlzO319LHtrZXk6X1N5bWJvbCRpdGVyYXRvcjIsdmFsdWU6LyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIHZhbHVlKCl7cmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIHZhbHVlJChfY29udGV4dDMpe3doaWxlKDEpc3dpdGNoKF9jb250ZXh0My5wcmV2PV9jb250ZXh0My5uZXh0KXtjYXNlIDA6X2NvbnRleHQzLm5leHQ9MjtyZXR1cm4gdGhpcy54O2Nhc2UgMjpfY29udGV4dDMubmV4dD00O3JldHVybiB0aGlzLnk7Y2FzZSA0Ol9jb250ZXh0My5uZXh0PTY7cmV0dXJuIHRoaXMuejtjYXNlIDY6X2NvbnRleHQzLm5leHQ9ODtyZXR1cm4gdGhpcy53O2Nhc2UgODpjYXNlImVuZCI6cmV0dXJuIF9jb250ZXh0My5zdG9wKCk7fX0sdmFsdWUsdGhpcyk7fSl9XSk7cmV0dXJuIFZlY3RvcjQ7fShTeW1ib2wuaXRlcmF0b3IpO1ZlY3RvcjQucHJvdG90eXBlLmlzVmVjdG9yND10cnVlOy8qCiBJbiBvcHRpb25zLCB3ZSBjYW4gc3BlY2lmeToKICogVGV4dHVyZSBwYXJhbWV0ZXJzIGZvciBhbiBhdXRvLWdlbmVyYXRlZCB0YXJnZXQgdGV4dHVyZQogKiBkZXB0aEJ1ZmZlci9zdGVuY2lsQnVmZmVyOiBCb29sZWFucyB0byBpbmRpY2F0ZSBpZiB3ZSBzaG91bGQgZ2VuZXJhdGUgdGhlc2UgYnVmZmVycwoqL3ZhciBXZWJHTFJlbmRlclRhcmdldD0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX0V2ZW50RGlzcGF0Y2hlcjIpe19pbmhlcml0cyhXZWJHTFJlbmRlclRhcmdldCxfRXZlbnREaXNwYXRjaGVyMik7dmFyIF9zdXBlcjI9X2NyZWF0ZVN1cGVyKFdlYkdMUmVuZGVyVGFyZ2V0KTtmdW5jdGlvbiBXZWJHTFJlbmRlclRhcmdldCh3aWR0aCxoZWlnaHQpe3ZhciBfdGhpczM7dmFyIG9wdGlvbnM9YXJndW1lbnRzLmxlbmd0aD4yJiZhcmd1bWVudHNbMl0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzJdOnt9O19jbGFzc0NhbGxDaGVjayh0aGlzLFdlYkdMUmVuZGVyVGFyZ2V0KTtfdGhpczM9X3N1cGVyMi5jYWxsKHRoaXMpO190aGlzMy53aWR0aD13aWR0aDtfdGhpczMuaGVpZ2h0PWhlaWdodDtfdGhpczMuZGVwdGg9MTtfdGhpczMuc2Npc3Nvcj1uZXcgVmVjdG9yNCgwLDAsd2lkdGgsaGVpZ2h0KTtfdGhpczMuc2Npc3NvclRlc3Q9ZmFsc2U7X3RoaXMzLnZpZXdwb3J0PW5ldyBWZWN0b3I0KDAsMCx3aWR0aCxoZWlnaHQpO190aGlzMy50ZXh0dXJlPW5ldyBUZXh0dXJlKHVuZGVmaW5lZCxvcHRpb25zLm1hcHBpbmcsb3B0aW9ucy53cmFwUyxvcHRpb25zLndyYXBULG9wdGlvbnMubWFnRmlsdGVyLG9wdGlvbnMubWluRmlsdGVyLG9wdGlvbnMuZm9ybWF0LG9wdGlvbnMudHlwZSxvcHRpb25zLmFuaXNvdHJvcHksb3B0aW9ucy5lbmNvZGluZyk7X3RoaXMzLnRleHR1cmUuaXNSZW5kZXJUYXJnZXRUZXh0dXJlPXRydWU7X3RoaXMzLnRleHR1cmUuaW1hZ2U9e3dpZHRoOndpZHRoLGhlaWdodDpoZWlnaHQsZGVwdGg6MX07X3RoaXMzLnRleHR1cmUuZ2VuZXJhdGVNaXBtYXBzPW9wdGlvbnMuZ2VuZXJhdGVNaXBtYXBzIT09dW5kZWZpbmVkP29wdGlvbnMuZ2VuZXJhdGVNaXBtYXBzOmZhbHNlO190aGlzMy50ZXh0dXJlLmludGVybmFsRm9ybWF0PW9wdGlvbnMuaW50ZXJuYWxGb3JtYXQhPT11bmRlZmluZWQ/b3B0aW9ucy5pbnRlcm5hbEZvcm1hdDpudWxsO190aGlzMy50ZXh0dXJlLm1pbkZpbHRlcj1vcHRpb25zLm1pbkZpbHRlciE9PXVuZGVmaW5lZD9vcHRpb25zLm1pbkZpbHRlcjpMaW5lYXJGaWx0ZXI7X3RoaXMzLmRlcHRoQnVmZmVyPW9wdGlvbnMuZGVwdGhCdWZmZXIhPT11bmRlZmluZWQ/b3B0aW9ucy5kZXB0aEJ1ZmZlcjp0cnVlO190aGlzMy5zdGVuY2lsQnVmZmVyPW9wdGlvbnMuc3RlbmNpbEJ1ZmZlciE9PXVuZGVmaW5lZD9vcHRpb25zLnN0ZW5jaWxCdWZmZXI6ZmFsc2U7X3RoaXMzLmRlcHRoVGV4dHVyZT1vcHRpb25zLmRlcHRoVGV4dHVyZSE9PXVuZGVmaW5lZD9vcHRpb25zLmRlcHRoVGV4dHVyZTpudWxsO3JldHVybiBfdGhpczM7fV9jcmVhdGVDbGFzcyhXZWJHTFJlbmRlclRhcmdldCxbe2tleToic2V0VGV4dHVyZSIsdmFsdWU6ZnVuY3Rpb24gc2V0VGV4dHVyZSh0ZXh0dXJlKXt0ZXh0dXJlLmltYWdlPXt3aWR0aDp0aGlzLndpZHRoLGhlaWdodDp0aGlzLmhlaWdodCxkZXB0aDp0aGlzLmRlcHRofTt0aGlzLnRleHR1cmU9dGV4dHVyZTt9fSx7a2V5OiJzZXRTaXplIix2YWx1ZTpmdW5jdGlvbiBzZXRTaXplKHdpZHRoLGhlaWdodCl7dmFyIGRlcHRoPWFyZ3VtZW50cy5sZW5ndGg+MiYmYXJndW1lbnRzWzJdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1syXToxO2lmKHRoaXMud2lkdGghPT13aWR0aHx8dGhpcy5oZWlnaHQhPT1oZWlnaHR8fHRoaXMuZGVwdGghPT1kZXB0aCl7dGhpcy53aWR0aD13aWR0aDt0aGlzLmhlaWdodD1oZWlnaHQ7dGhpcy5kZXB0aD1kZXB0aDt0aGlzLnRleHR1cmUuaW1hZ2Uud2lkdGg9d2lkdGg7dGhpcy50ZXh0dXJlLmltYWdlLmhlaWdodD1oZWlnaHQ7dGhpcy50ZXh0dXJlLmltYWdlLmRlcHRoPWRlcHRoO3RoaXMuZGlzcG9zZSgpO310aGlzLnZpZXdwb3J0LnNldCgwLDAsd2lkdGgsaGVpZ2h0KTt0aGlzLnNjaXNzb3Iuc2V0KDAsMCx3aWR0aCxoZWlnaHQpO319LHtrZXk6ImNsb25lIix2YWx1ZTpmdW5jdGlvbiBjbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcigpLmNvcHkodGhpcyk7fX0se2tleToiY29weSIsdmFsdWU6ZnVuY3Rpb24gY29weShzb3VyY2Upe3RoaXMud2lkdGg9c291cmNlLndpZHRoO3RoaXMuaGVpZ2h0PXNvdXJjZS5oZWlnaHQ7dGhpcy5kZXB0aD1zb3VyY2UuZGVwdGg7dGhpcy52aWV3cG9ydC5jb3B5KHNvdXJjZS52aWV3cG9ydCk7dGhpcy50ZXh0dXJlPXNvdXJjZS50ZXh0dXJlLmNsb25lKCk7Ly8gZW5zdXJlIGltYWdlIG9iamVjdCBpcyBub3Qgc2hhcmVkLCBzZWUgIzIwMzI4CnRoaXMudGV4dHVyZS5pbWFnZT1PYmplY3QuYXNzaWduKHt9LHNvdXJjZS50ZXh0dXJlLmltYWdlKTt0aGlzLmRlcHRoQnVmZmVyPXNvdXJjZS5kZXB0aEJ1ZmZlcjt0aGlzLnN0ZW5jaWxCdWZmZXI9c291cmNlLnN0ZW5jaWxCdWZmZXI7dGhpcy5kZXB0aFRleHR1cmU9c291cmNlLmRlcHRoVGV4dHVyZTtyZXR1cm4gdGhpczt9fSx7a2V5OiJkaXNwb3NlIix2YWx1ZTpmdW5jdGlvbiBkaXNwb3NlKCl7dGhpcy5kaXNwYXRjaEV2ZW50KHt0eXBlOidkaXNwb3NlJ30pO319XSk7cmV0dXJuIFdlYkdMUmVuZGVyVGFyZ2V0O30oRXZlbnREaXNwYXRjaGVyKTtXZWJHTFJlbmRlclRhcmdldC5wcm90b3R5cGUuaXNXZWJHTFJlbmRlclRhcmdldD10cnVlO3ZhciBXZWJHTE11bHRpcGxlUmVuZGVyVGFyZ2V0cz0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX1dlYkdMUmVuZGVyVGFyZ2V0KXtfaW5oZXJpdHMoV2ViR0xNdWx0aXBsZVJlbmRlclRhcmdldHMsX1dlYkdMUmVuZGVyVGFyZ2V0KTt2YXIgX3N1cGVyMz1fY3JlYXRlU3VwZXIoV2ViR0xNdWx0aXBsZVJlbmRlclRhcmdldHMpO2Z1bmN0aW9uIFdlYkdMTXVsdGlwbGVSZW5kZXJUYXJnZXRzKHdpZHRoLGhlaWdodCxjb3VudCl7dmFyIF90aGlzNDtfY2xhc3NDYWxsQ2hlY2sodGhpcyxXZWJHTE11bHRpcGxlUmVuZGVyVGFyZ2V0cyk7X3RoaXM0PV9zdXBlcjMuY2FsbCh0aGlzLHdpZHRoLGhlaWdodCk7dmFyIHRleHR1cmU9X3RoaXM0LnRleHR1cmU7X3RoaXM0LnRleHR1cmU9W107Zm9yKHZhciBfaTc9MDtfaTc8Y291bnQ7X2k3Kyspe190aGlzNC50ZXh0dXJlW19pN109dGV4dHVyZS5jbG9uZSgpO31yZXR1cm4gX3RoaXM0O31fY3JlYXRlQ2xhc3MoV2ViR0xNdWx0aXBsZVJlbmRlclRhcmdldHMsW3trZXk6InNldFNpemUiLHZhbHVlOmZ1bmN0aW9uIHNldFNpemUod2lkdGgsaGVpZ2h0KXt2YXIgZGVwdGg9YXJndW1lbnRzLmxlbmd0aD4yJiZhcmd1bWVudHNbMl0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzJdOjE7aWYodGhpcy53aWR0aCE9PXdpZHRofHx0aGlzLmhlaWdodCE9PWhlaWdodHx8dGhpcy5kZXB0aCE9PWRlcHRoKXt0aGlzLndpZHRoPXdpZHRoO3RoaXMuaGVpZ2h0PWhlaWdodDt0aGlzLmRlcHRoPWRlcHRoO2Zvcih2YXIgX2k4PTAsaWw9dGhpcy50ZXh0dXJlLmxlbmd0aDtfaTg8aWw7X2k4Kyspe3RoaXMudGV4dHVyZVtfaThdLmltYWdlLndpZHRoPXdpZHRoO3RoaXMudGV4dHVyZVtfaThdLmltYWdlLmhlaWdodD1oZWlnaHQ7dGhpcy50ZXh0dXJlW19pOF0uaW1hZ2UuZGVwdGg9ZGVwdGg7fXRoaXMuZGlzcG9zZSgpO310aGlzLnZpZXdwb3J0LnNldCgwLDAsd2lkdGgsaGVpZ2h0KTt0aGlzLnNjaXNzb3Iuc2V0KDAsMCx3aWR0aCxoZWlnaHQpO3JldHVybiB0aGlzO319LHtrZXk6ImNvcHkiLHZhbHVlOmZ1bmN0aW9uIGNvcHkoc291cmNlKXt0aGlzLmRpc3Bvc2UoKTt0aGlzLndpZHRoPXNvdXJjZS53aWR0aDt0aGlzLmhlaWdodD1zb3VyY2UuaGVpZ2h0O3RoaXMuZGVwdGg9c291cmNlLmRlcHRoO3RoaXMudmlld3BvcnQuc2V0KDAsMCx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KTt0aGlzLnNjaXNzb3Iuc2V0KDAsMCx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KTt0aGlzLmRlcHRoQnVmZmVyPXNvdXJjZS5kZXB0aEJ1ZmZlcjt0aGlzLnN0ZW5jaWxCdWZmZXI9c291cmNlLnN0ZW5jaWxCdWZmZXI7dGhpcy5kZXB0aFRleHR1cmU9c291cmNlLmRlcHRoVGV4dHVyZTt0aGlzLnRleHR1cmUubGVuZ3RoPTA7Zm9yKHZhciBfaTk9MCxpbD1zb3VyY2UudGV4dHVyZS5sZW5ndGg7X2k5PGlsO19pOSsrKXt0aGlzLnRleHR1cmVbX2k5XT1zb3VyY2UudGV4dHVyZVtfaTldLmNsb25lKCk7fXJldHVybiB0aGlzO319XSk7cmV0dXJuIFdlYkdMTXVsdGlwbGVSZW5kZXJUYXJnZXRzO30oV2ViR0xSZW5kZXJUYXJnZXQpO1dlYkdMTXVsdGlwbGVSZW5kZXJUYXJnZXRzLnByb3RvdHlwZS5pc1dlYkdMTXVsdGlwbGVSZW5kZXJUYXJnZXRzPXRydWU7dmFyIFdlYkdMTXVsdGlzYW1wbGVSZW5kZXJUYXJnZXQ9LyojX19QVVJFX18qL2Z1bmN0aW9uKF9XZWJHTFJlbmRlclRhcmdldDIpe19pbmhlcml0cyhXZWJHTE11bHRpc2FtcGxlUmVuZGVyVGFyZ2V0LF9XZWJHTFJlbmRlclRhcmdldDIpO3ZhciBfc3VwZXI0PV9jcmVhdGVTdXBlcihXZWJHTE11bHRpc2FtcGxlUmVuZGVyVGFyZ2V0KTtmdW5jdGlvbiBXZWJHTE11bHRpc2FtcGxlUmVuZGVyVGFyZ2V0KHdpZHRoLGhlaWdodCl7dmFyIF90aGlzNTt2YXIgb3B0aW9ucz1hcmd1bWVudHMubGVuZ3RoPjImJmFyZ3VtZW50c1syXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMl06e307X2NsYXNzQ2FsbENoZWNrKHRoaXMsV2ViR0xNdWx0aXNhbXBsZVJlbmRlclRhcmdldCk7X3RoaXM1PV9zdXBlcjQuY2FsbCh0aGlzLHdpZHRoLGhlaWdodCxvcHRpb25zKTtfdGhpczUuc2FtcGxlcz00O190aGlzNS5pZ25vcmVEZXB0aEZvck11bHRpc2FtcGxlQ29weT1vcHRpb25zLmlnbm9yZURlcHRoIT09dW5kZWZpbmVkP29wdGlvbnMuaWdub3JlRGVwdGg6dHJ1ZTtfdGhpczUudXNlUmVuZGVyVG9UZXh0dXJlPW9wdGlvbnMudXNlUmVuZGVyVG9UZXh0dXJlIT09dW5kZWZpbmVkP29wdGlvbnMudXNlUmVuZGVyVG9UZXh0dXJlOmZhbHNlO190aGlzNS51c2VSZW5kZXJidWZmZXI9X3RoaXM1LnVzZVJlbmRlclRvVGV4dHVyZT09PWZhbHNlO3JldHVybiBfdGhpczU7fV9jcmVhdGVDbGFzcyhXZWJHTE11bHRpc2FtcGxlUmVuZGVyVGFyZ2V0LFt7a2V5OiJjb3B5Iix2YWx1ZTpmdW5jdGlvbiBjb3B5KHNvdXJjZSl7X2dldChfZ2V0UHJvdG90eXBlT2YoV2ViR0xNdWx0aXNhbXBsZVJlbmRlclRhcmdldC5wcm90b3R5cGUpLCJjb3B5Iix0aGlzKS5jYWxsKHRoaXMsc291cmNlKTt0aGlzLnNhbXBsZXM9c291cmNlLnNhbXBsZXM7dGhpcy51c2VSZW5kZXJUb1RleHR1cmU9c291cmNlLnVzZVJlbmRlclRvVGV4dHVyZTt0aGlzLnVzZVJlbmRlcmJ1ZmZlcj1zb3VyY2UudXNlUmVuZGVyYnVmZmVyO3JldHVybiB0aGlzO319XSk7cmV0dXJuIFdlYkdMTXVsdGlzYW1wbGVSZW5kZXJUYXJnZXQ7fShXZWJHTFJlbmRlclRhcmdldCk7V2ViR0xNdWx0aXNhbXBsZVJlbmRlclRhcmdldC5wcm90b3R5cGUuaXNXZWJHTE11bHRpc2FtcGxlUmVuZGVyVGFyZ2V0PXRydWU7dmFyIFF1YXRlcm5pb249LyojX19QVVJFX18qL2Z1bmN0aW9uKCl7ZnVuY3Rpb24gUXVhdGVybmlvbigpe3ZhciB4PWFyZ3VtZW50cy5sZW5ndGg+MCYmYXJndW1lbnRzWzBdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1swXTowO3ZhciB5PWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1sxXTowO3ZhciB6PWFyZ3VtZW50cy5sZW5ndGg+MiYmYXJndW1lbnRzWzJdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1syXTowO3ZhciB3PWFyZ3VtZW50cy5sZW5ndGg+MyYmYXJndW1lbnRzWzNdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1szXToxO19jbGFzc0NhbGxDaGVjayh0aGlzLFF1YXRlcm5pb24pO3RoaXMuX3g9eDt0aGlzLl95PXk7dGhpcy5fej16O3RoaXMuX3c9dzt9X2NyZWF0ZUNsYXNzKFF1YXRlcm5pb24sW3trZXk6IngiLGdldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5feDt9LHNldDpmdW5jdGlvbiBzZXQodmFsdWUpe3RoaXMuX3g9dmFsdWU7dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO319LHtrZXk6InkiLGdldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5feTt9LHNldDpmdW5jdGlvbiBzZXQodmFsdWUpe3RoaXMuX3k9dmFsdWU7dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO319LHtrZXk6InoiLGdldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5fejt9LHNldDpmdW5jdGlvbiBzZXQodmFsdWUpe3RoaXMuX3o9dmFsdWU7dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO319LHtrZXk6InciLGdldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5fdzt9LHNldDpmdW5jdGlvbiBzZXQodmFsdWUpe3RoaXMuX3c9dmFsdWU7dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO319LHtrZXk6InNldCIsdmFsdWU6ZnVuY3Rpb24gc2V0KHgseSx6LHcpe3RoaXMuX3g9eDt0aGlzLl95PXk7dGhpcy5fej16O3RoaXMuX3c9dzt0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCk7cmV0dXJuIHRoaXM7fX0se2tleToiY2xvbmUiLHZhbHVlOmZ1bmN0aW9uIGNsb25lKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMuX3gsdGhpcy5feSx0aGlzLl96LHRoaXMuX3cpO319LHtrZXk6ImNvcHkiLHZhbHVlOmZ1bmN0aW9uIGNvcHkocXVhdGVybmlvbil7dGhpcy5feD1xdWF0ZXJuaW9uLng7dGhpcy5feT1xdWF0ZXJuaW9uLnk7dGhpcy5fej1xdWF0ZXJuaW9uLno7dGhpcy5fdz1xdWF0ZXJuaW9uLnc7dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO3JldHVybiB0aGlzO319LHtrZXk6InNldEZyb21FdWxlciIsdmFsdWU6ZnVuY3Rpb24gc2V0RnJvbUV1bGVyKGV1bGVyLHVwZGF0ZSl7aWYoIShldWxlciYmZXVsZXIuaXNFdWxlcikpe3Rocm93IG5ldyBFcnJvcignVEhSRUUuUXVhdGVybmlvbjogLnNldEZyb21FdWxlcigpIG5vdyBleHBlY3RzIGFuIEV1bGVyIHJvdGF0aW9uIHJhdGhlciB0aGFuIGEgVmVjdG9yMyBhbmQgb3JkZXIuJyk7fXZhciB4PWV1bGVyLl94LHk9ZXVsZXIuX3ksej1ldWxlci5feixvcmRlcj1ldWxlci5fb3JkZXI7Ly8gaHR0cDovL3d3dy5tYXRod29ya3MuY29tL21hdGxhYmNlbnRyYWwvZmlsZWV4Y2hhbmdlLwovLyAJMjA2OTYtZnVuY3Rpb24tdG8tY29udmVydC1iZXR3ZWVuLWRjbS1ldWxlci1hbmdsZXMtcXVhdGVybmlvbnMtYW5kLWV1bGVyLXZlY3RvcnMvCi8vCWNvbnRlbnQvU3BpbkNhbGMubQp2YXIgY29zPU1hdGguY29zO3ZhciBzaW49TWF0aC5zaW47dmFyIGMxPWNvcyh4LzIpO3ZhciBjMj1jb3MoeS8yKTt2YXIgYzM9Y29zKHovMik7dmFyIHMxPXNpbih4LzIpO3ZhciBzMj1zaW4oeS8yKTt2YXIgczM9c2luKHovMik7c3dpdGNoKG9yZGVyKXtjYXNlJ1hZWic6dGhpcy5feD1zMSpjMipjMytjMSpzMipzMzt0aGlzLl95PWMxKnMyKmMzLXMxKmMyKnMzO3RoaXMuX3o9YzEqYzIqczMrczEqczIqYzM7dGhpcy5fdz1jMSpjMipjMy1zMSpzMipzMzticmVhaztjYXNlJ1lYWic6dGhpcy5feD1zMSpjMipjMytjMSpzMipzMzt0aGlzLl95PWMxKnMyKmMzLXMxKmMyKnMzO3RoaXMuX3o9YzEqYzIqczMtczEqczIqYzM7dGhpcy5fdz1jMSpjMipjMytzMSpzMipzMzticmVhaztjYXNlJ1pYWSc6dGhpcy5feD1zMSpjMipjMy1jMSpzMipzMzt0aGlzLl95PWMxKnMyKmMzK3MxKmMyKnMzO3RoaXMuX3o9YzEqYzIqczMrczEqczIqYzM7dGhpcy5fdz1jMSpjMipjMy1zMSpzMipzMzticmVhaztjYXNlJ1pZWCc6dGhpcy5feD1zMSpjMipjMy1jMSpzMipzMzt0aGlzLl95PWMxKnMyKmMzK3MxKmMyKnMzO3RoaXMuX3o9YzEqYzIqczMtczEqczIqYzM7dGhpcy5fdz1jMSpjMipjMytzMSpzMipzMzticmVhaztjYXNlJ1laWCc6dGhpcy5feD1zMSpjMipjMytjMSpzMipzMzt0aGlzLl95PWMxKnMyKmMzK3MxKmMyKnMzO3RoaXMuX3o9YzEqYzIqczMtczEqczIqYzM7dGhpcy5fdz1jMSpjMipjMy1zMSpzMipzMzticmVhaztjYXNlJ1haWSc6dGhpcy5feD1zMSpjMipjMy1jMSpzMipzMzt0aGlzLl95PWMxKnMyKmMzLXMxKmMyKnMzO3RoaXMuX3o9YzEqYzIqczMrczEqczIqYzM7dGhpcy5fdz1jMSpjMipjMytzMSpzMipzMzticmVhaztkZWZhdWx0OmNvbnNvbGUud2FybignVEhSRUUuUXVhdGVybmlvbjogLnNldEZyb21FdWxlcigpIGVuY291bnRlcmVkIGFuIHVua25vd24gb3JkZXI6ICcrb3JkZXIpO31pZih1cGRhdGUhPT1mYWxzZSl0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCk7cmV0dXJuIHRoaXM7fX0se2tleToic2V0RnJvbUF4aXNBbmdsZSIsdmFsdWU6ZnVuY3Rpb24gc2V0RnJvbUF4aXNBbmdsZShheGlzLGFuZ2xlKXsvLyBodHRwOi8vd3d3LmV1Y2xpZGVhbnNwYWNlLmNvbS9tYXRocy9nZW9tZXRyeS9yb3RhdGlvbnMvY29udmVyc2lvbnMvYW5nbGVUb1F1YXRlcm5pb24vaW5kZXguaHRtCi8vIGFzc3VtZXMgYXhpcyBpcyBub3JtYWxpemVkCnZhciBoYWxmQW5nbGU9YW5nbGUvMixzPU1hdGguc2luKGhhbGZBbmdsZSk7dGhpcy5feD1heGlzLngqczt0aGlzLl95PWF4aXMueSpzO3RoaXMuX3o9YXhpcy56KnM7dGhpcy5fdz1NYXRoLmNvcyhoYWxmQW5nbGUpO3RoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKTtyZXR1cm4gdGhpczt9fSx7a2V5OiJzZXRGcm9tUm90YXRpb25NYXRyaXgiLHZhbHVlOmZ1bmN0aW9uIHNldEZyb21Sb3RhdGlvbk1hdHJpeChtKXsvLyBodHRwOi8vd3d3LmV1Y2xpZGVhbnNwYWNlLmNvbS9tYXRocy9nZW9tZXRyeS9yb3RhdGlvbnMvY29udmVyc2lvbnMvbWF0cml4VG9RdWF0ZXJuaW9uL2luZGV4Lmh0bQovLyBhc3N1bWVzIHRoZSB1cHBlciAzeDMgb2YgbSBpcyBhIHB1cmUgcm90YXRpb24gbWF0cml4IChpLmUsIHVuc2NhbGVkKQp2YXIgdGU9bS5lbGVtZW50cyxtMTE9dGVbMF0sbTEyPXRlWzRdLG0xMz10ZVs4XSxtMjE9dGVbMV0sbTIyPXRlWzVdLG0yMz10ZVs5XSxtMzE9dGVbMl0sbTMyPXRlWzZdLG0zMz10ZVsxMF0sdHJhY2U9bTExK20yMittMzM7aWYodHJhY2U+MCl7dmFyIHM9MC41L01hdGguc3FydCh0cmFjZSsxLjApO3RoaXMuX3c9MC4yNS9zO3RoaXMuX3g9KG0zMi1tMjMpKnM7dGhpcy5feT0obTEzLW0zMSkqczt0aGlzLl96PShtMjEtbTEyKSpzO31lbHNlIGlmKG0xMT5tMjImJm0xMT5tMzMpe3ZhciBfcz0yLjAqTWF0aC5zcXJ0KDEuMCttMTEtbTIyLW0zMyk7dGhpcy5fdz0obTMyLW0yMykvX3M7dGhpcy5feD0wLjI1Kl9zO3RoaXMuX3k9KG0xMittMjEpL19zO3RoaXMuX3o9KG0xMyttMzEpL19zO31lbHNlIGlmKG0yMj5tMzMpe3ZhciBfczI9Mi4wKk1hdGguc3FydCgxLjArbTIyLW0xMS1tMzMpO3RoaXMuX3c9KG0xMy1tMzEpL19zMjt0aGlzLl94PShtMTIrbTIxKS9fczI7dGhpcy5feT0wLjI1Kl9zMjt0aGlzLl96PShtMjMrbTMyKS9fczI7fWVsc2V7dmFyIF9zMz0yLjAqTWF0aC5zcXJ0KDEuMCttMzMtbTExLW0yMik7dGhpcy5fdz0obTIxLW0xMikvX3MzO3RoaXMuX3g9KG0xMyttMzEpL19zMzt0aGlzLl95PShtMjMrbTMyKS9fczM7dGhpcy5fej0wLjI1Kl9zMzt9dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO3JldHVybiB0aGlzO319LHtrZXk6InNldEZyb21Vbml0VmVjdG9ycyIsdmFsdWU6ZnVuY3Rpb24gc2V0RnJvbVVuaXRWZWN0b3JzKHZGcm9tLHZUbyl7Ly8gYXNzdW1lcyBkaXJlY3Rpb24gdmVjdG9ycyB2RnJvbSBhbmQgdlRvIGFyZSBub3JtYWxpemVkCnZhciByPXZGcm9tLmRvdCh2VG8pKzE7aWYocjxOdW1iZXIuRVBTSUxPTil7Ly8gdkZyb20gYW5kIHZUbyBwb2ludCBpbiBvcHBvc2l0ZSBkaXJlY3Rpb25zCnI9MDtpZihNYXRoLmFicyh2RnJvbS54KT5NYXRoLmFicyh2RnJvbS56KSl7dGhpcy5feD0tdkZyb20ueTt0aGlzLl95PXZGcm9tLng7dGhpcy5fej0wO3RoaXMuX3c9cjt9ZWxzZXt0aGlzLl94PTA7dGhpcy5feT0tdkZyb20uejt0aGlzLl96PXZGcm9tLnk7dGhpcy5fdz1yO319ZWxzZXsvLyBjcm9zc1ZlY3RvcnMoIHZGcm9tLCB2VG8gKTsgLy8gaW5saW5lZCB0byBhdm9pZCBjeWNsaWMgZGVwZW5kZW5jeSBvbiBWZWN0b3IzCnRoaXMuX3g9dkZyb20ueSp2VG8uei12RnJvbS56KnZUby55O3RoaXMuX3k9dkZyb20ueip2VG8ueC12RnJvbS54KnZUby56O3RoaXMuX3o9dkZyb20ueCp2VG8ueS12RnJvbS55KnZUby54O3RoaXMuX3c9cjt9cmV0dXJuIHRoaXMubm9ybWFsaXplKCk7fX0se2tleToiYW5nbGVUbyIsdmFsdWU6ZnVuY3Rpb24gYW5nbGVUbyhxKXtyZXR1cm4gMipNYXRoLmFjb3MoTWF0aC5hYnMoY2xhbXAodGhpcy5kb3QocSksLTEsMSkpKTt9fSx7a2V5OiJyb3RhdGVUb3dhcmRzIix2YWx1ZTpmdW5jdGlvbiByb3RhdGVUb3dhcmRzKHEsc3RlcCl7dmFyIGFuZ2xlPXRoaXMuYW5nbGVUbyhxKTtpZihhbmdsZT09PTApcmV0dXJuIHRoaXM7dmFyIHQ9TWF0aC5taW4oMSxzdGVwL2FuZ2xlKTt0aGlzLnNsZXJwKHEsdCk7cmV0dXJuIHRoaXM7fX0se2tleToiaWRlbnRpdHkiLHZhbHVlOmZ1bmN0aW9uIGlkZW50aXR5KCl7cmV0dXJuIHRoaXMuc2V0KDAsMCwwLDEpO319LHtrZXk6ImludmVydCIsdmFsdWU6ZnVuY3Rpb24gaW52ZXJ0KCl7Ly8gcXVhdGVybmlvbiBpcyBhc3N1bWVkIHRvIGhhdmUgdW5pdCBsZW5ndGgKcmV0dXJuIHRoaXMuY29uanVnYXRlKCk7fX0se2tleToiY29uanVnYXRlIix2YWx1ZTpmdW5jdGlvbiBjb25qdWdhdGUoKXt0aGlzLl94Kj0tMTt0aGlzLl95Kj0tMTt0aGlzLl96Kj0tMTt0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCk7cmV0dXJuIHRoaXM7fX0se2tleToiZG90Iix2YWx1ZTpmdW5jdGlvbiBkb3Qodil7cmV0dXJuIHRoaXMuX3gqdi5feCt0aGlzLl95KnYuX3krdGhpcy5feip2Ll96K3RoaXMuX3cqdi5fdzt9fSx7a2V5OiJsZW5ndGhTcSIsdmFsdWU6ZnVuY3Rpb24gbGVuZ3RoU3EoKXtyZXR1cm4gdGhpcy5feCp0aGlzLl94K3RoaXMuX3kqdGhpcy5feSt0aGlzLl96KnRoaXMuX3ordGhpcy5fdyp0aGlzLl93O319LHtrZXk6Imxlbmd0aCIsdmFsdWU6ZnVuY3Rpb24gbGVuZ3RoKCl7cmV0dXJuIE1hdGguc3FydCh0aGlzLl94KnRoaXMuX3grdGhpcy5feSp0aGlzLl95K3RoaXMuX3oqdGhpcy5feit0aGlzLl93KnRoaXMuX3cpO319LHtrZXk6Im5vcm1hbGl6ZSIsdmFsdWU6ZnVuY3Rpb24gbm9ybWFsaXplKCl7dmFyIGw9dGhpcy5sZW5ndGgoKTtpZihsPT09MCl7dGhpcy5feD0wO3RoaXMuX3k9MDt0aGlzLl96PTA7dGhpcy5fdz0xO31lbHNle2w9MS9sO3RoaXMuX3g9dGhpcy5feCpsO3RoaXMuX3k9dGhpcy5feSpsO3RoaXMuX3o9dGhpcy5feipsO3RoaXMuX3c9dGhpcy5fdypsO310aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCk7cmV0dXJuIHRoaXM7fX0se2tleToibXVsdGlwbHkiLHZhbHVlOmZ1bmN0aW9uIG11bHRpcGx5KHEscCl7aWYocCE9PXVuZGVmaW5lZCl7Y29uc29sZS53YXJuKCdUSFJFRS5RdWF0ZXJuaW9uOiAubXVsdGlwbHkoKSBub3cgb25seSBhY2NlcHRzIG9uZSBhcmd1bWVudC4gVXNlIC5tdWx0aXBseVF1YXRlcm5pb25zKCBhLCBiICkgaW5zdGVhZC4nKTtyZXR1cm4gdGhpcy5tdWx0aXBseVF1YXRlcm5pb25zKHEscCk7fXJldHVybiB0aGlzLm11bHRpcGx5UXVhdGVybmlvbnModGhpcyxxKTt9fSx7a2V5OiJwcmVtdWx0aXBseSIsdmFsdWU6ZnVuY3Rpb24gcHJlbXVsdGlwbHkocSl7cmV0dXJuIHRoaXMubXVsdGlwbHlRdWF0ZXJuaW9ucyhxLHRoaXMpO319LHtrZXk6Im11bHRpcGx5UXVhdGVybmlvbnMiLHZhbHVlOmZ1bmN0aW9uIG11bHRpcGx5UXVhdGVybmlvbnMoYSxiKXsvLyBmcm9tIGh0dHA6Ly93d3cuZXVjbGlkZWFuc3BhY2UuY29tL21hdGhzL2FsZ2VicmEvcmVhbE5vcm1lZEFsZ2VicmEvcXVhdGVybmlvbnMvY29kZS9pbmRleC5odG0KdmFyIHFheD1hLl94LHFheT1hLl95LHFhej1hLl96LHFhdz1hLl93O3ZhciBxYng9Yi5feCxxYnk9Yi5feSxxYno9Yi5feixxYnc9Yi5fdzt0aGlzLl94PXFheCpxYncrcWF3KnFieCtxYXkqcWJ6LXFheipxYnk7dGhpcy5feT1xYXkqcWJ3K3FhdypxYnkrcWF6KnFieC1xYXgqcWJ6O3RoaXMuX3o9cWF6KnFidytxYXcqcWJ6K3FheCpxYnktcWF5KnFieDt0aGlzLl93PXFhdypxYnctcWF4KnFieC1xYXkqcWJ5LXFheipxYno7dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO3JldHVybiB0aGlzO319LHtrZXk6InNsZXJwIix2YWx1ZTpmdW5jdGlvbiBzbGVycChxYix0KXtpZih0PT09MClyZXR1cm4gdGhpcztpZih0PT09MSlyZXR1cm4gdGhpcy5jb3B5KHFiKTt2YXIgeD10aGlzLl94LHk9dGhpcy5feSx6PXRoaXMuX3osdz10aGlzLl93Oy8vIGh0dHA6Ly93d3cuZXVjbGlkZWFuc3BhY2UuY29tL21hdGhzL2FsZ2VicmEvcmVhbE5vcm1lZEFsZ2VicmEvcXVhdGVybmlvbnMvc2xlcnAvCnZhciBjb3NIYWxmVGhldGE9dypxYi5fdyt4KnFiLl94K3kqcWIuX3kreipxYi5fejtpZihjb3NIYWxmVGhldGE8MCl7dGhpcy5fdz0tcWIuX3c7dGhpcy5feD0tcWIuX3g7dGhpcy5feT0tcWIuX3k7dGhpcy5fej0tcWIuX3o7Y29zSGFsZlRoZXRhPS1jb3NIYWxmVGhldGE7fWVsc2V7dGhpcy5jb3B5KHFiKTt9aWYoY29zSGFsZlRoZXRhPj0xLjApe3RoaXMuX3c9dzt0aGlzLl94PXg7dGhpcy5feT15O3RoaXMuX3o9ejtyZXR1cm4gdGhpczt9dmFyIHNxclNpbkhhbGZUaGV0YT0xLjAtY29zSGFsZlRoZXRhKmNvc0hhbGZUaGV0YTtpZihzcXJTaW5IYWxmVGhldGE8PU51bWJlci5FUFNJTE9OKXt2YXIgcz0xLXQ7dGhpcy5fdz1zKncrdCp0aGlzLl93O3RoaXMuX3g9cyp4K3QqdGhpcy5feDt0aGlzLl95PXMqeSt0KnRoaXMuX3k7dGhpcy5fej1zKnordCp0aGlzLl96O3RoaXMubm9ybWFsaXplKCk7dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO3JldHVybiB0aGlzO312YXIgc2luSGFsZlRoZXRhPU1hdGguc3FydChzcXJTaW5IYWxmVGhldGEpO3ZhciBoYWxmVGhldGE9TWF0aC5hdGFuMihzaW5IYWxmVGhldGEsY29zSGFsZlRoZXRhKTt2YXIgcmF0aW9BPU1hdGguc2luKCgxLXQpKmhhbGZUaGV0YSkvc2luSGFsZlRoZXRhLHJhdGlvQj1NYXRoLnNpbih0KmhhbGZUaGV0YSkvc2luSGFsZlRoZXRhO3RoaXMuX3c9dypyYXRpb0ErdGhpcy5fdypyYXRpb0I7dGhpcy5feD14KnJhdGlvQSt0aGlzLl94KnJhdGlvQjt0aGlzLl95PXkqcmF0aW9BK3RoaXMuX3kqcmF0aW9CO3RoaXMuX3o9eipyYXRpb0ErdGhpcy5feipyYXRpb0I7dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO3JldHVybiB0aGlzO319LHtrZXk6InNsZXJwUXVhdGVybmlvbnMiLHZhbHVlOmZ1bmN0aW9uIHNsZXJwUXVhdGVybmlvbnMocWEscWIsdCl7cmV0dXJuIHRoaXMuY29weShxYSkuc2xlcnAocWIsdCk7fX0se2tleToicmFuZG9tIix2YWx1ZTpmdW5jdGlvbiByYW5kb20oKXsvLyBEZXJpdmVkIGZyb20gaHR0cDovL3BsYW5uaW5nLmNzLnVpdWMuZWR1L25vZGUxOTguaHRtbAovLyBOb3RlLCB0aGlzIHNvdXJjZSB1c2VzIHcsIHgsIHksIHogb3JkZXJpbmcsCi8vIHNvIHdlIHN3YXAgdGhlIG9yZGVyIGJlbG93Lgp2YXIgdTE9TWF0aC5yYW5kb20oKTt2YXIgc3FydDF1MT1NYXRoLnNxcnQoMS11MSk7dmFyIHNxcnR1MT1NYXRoLnNxcnQodTEpO3ZhciB1Mj0yKk1hdGguUEkqTWF0aC5yYW5kb20oKTt2YXIgdTM9MipNYXRoLlBJKk1hdGgucmFuZG9tKCk7cmV0dXJuIHRoaXMuc2V0KHNxcnQxdTEqTWF0aC5jb3ModTIpLHNxcnR1MSpNYXRoLnNpbih1Myksc3FydHUxKk1hdGguY29zKHUzKSxzcXJ0MXUxKk1hdGguc2luKHUyKSk7fX0se2tleToiZXF1YWxzIix2YWx1ZTpmdW5jdGlvbiBlcXVhbHMocXVhdGVybmlvbil7cmV0dXJuIHF1YXRlcm5pb24uX3g9PT10aGlzLl94JiZxdWF0ZXJuaW9uLl95PT09dGhpcy5feSYmcXVhdGVybmlvbi5fej09PXRoaXMuX3omJnF1YXRlcm5pb24uX3c9PT10aGlzLl93O319LHtrZXk6ImZyb21BcnJheSIsdmFsdWU6ZnVuY3Rpb24gZnJvbUFycmF5KGFycmF5KXt2YXIgb2Zmc2V0PWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1sxXTowO3RoaXMuX3g9YXJyYXlbb2Zmc2V0XTt0aGlzLl95PWFycmF5W29mZnNldCsxXTt0aGlzLl96PWFycmF5W29mZnNldCsyXTt0aGlzLl93PWFycmF5W29mZnNldCszXTt0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCk7cmV0dXJuIHRoaXM7fX0se2tleToidG9BcnJheSIsdmFsdWU6ZnVuY3Rpb24gdG9BcnJheSgpe3ZhciBhcnJheT1hcmd1bWVudHMubGVuZ3RoPjAmJmFyZ3VtZW50c1swXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMF06W107dmFyIG9mZnNldD1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMV06MDthcnJheVtvZmZzZXRdPXRoaXMuX3g7YXJyYXlbb2Zmc2V0KzFdPXRoaXMuX3k7YXJyYXlbb2Zmc2V0KzJdPXRoaXMuX3o7YXJyYXlbb2Zmc2V0KzNdPXRoaXMuX3c7cmV0dXJuIGFycmF5O319LHtrZXk6ImZyb21CdWZmZXJBdHRyaWJ1dGUiLHZhbHVlOmZ1bmN0aW9uIGZyb21CdWZmZXJBdHRyaWJ1dGUoYXR0cmlidXRlLGluZGV4KXt0aGlzLl94PWF0dHJpYnV0ZS5nZXRYKGluZGV4KTt0aGlzLl95PWF0dHJpYnV0ZS5nZXRZKGluZGV4KTt0aGlzLl96PWF0dHJpYnV0ZS5nZXRaKGluZGV4KTt0aGlzLl93PWF0dHJpYnV0ZS5nZXRXKGluZGV4KTtyZXR1cm4gdGhpczt9fSx7a2V5OiJfb25DaGFuZ2UiLHZhbHVlOmZ1bmN0aW9uIF9vbkNoYW5nZShjYWxsYmFjayl7dGhpcy5fb25DaGFuZ2VDYWxsYmFjaz1jYWxsYmFjaztyZXR1cm4gdGhpczt9fSx7a2V5OiJfb25DaGFuZ2VDYWxsYmFjayIsdmFsdWU6ZnVuY3Rpb24gX29uQ2hhbmdlQ2FsbGJhY2soKXt9fV0sW3trZXk6InNsZXJwIix2YWx1ZTpmdW5jdGlvbiBzbGVycChxYSxxYixxbSx0KXtjb25zb2xlLndhcm4oJ1RIUkVFLlF1YXRlcm5pb246IFN0YXRpYyAuc2xlcnAoKSBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgcW0uc2xlcnBRdWF0ZXJuaW9ucyggcWEsIHFiLCB0ICkgaW5zdGVhZC4nKTtyZXR1cm4gcW0uc2xlcnBRdWF0ZXJuaW9ucyhxYSxxYix0KTt9fSx7a2V5OiJzbGVycEZsYXQiLHZhbHVlOmZ1bmN0aW9uIHNsZXJwRmxhdChkc3QsZHN0T2Zmc2V0LHNyYzAsc3JjT2Zmc2V0MCxzcmMxLHNyY09mZnNldDEsdCl7Ly8gZnV6ei1mcmVlLCBhcnJheS1iYXNlZCBRdWF0ZXJuaW9uIFNMRVJQIG9wZXJhdGlvbgp2YXIgeDA9c3JjMFtzcmNPZmZzZXQwKzBdLHkwPXNyYzBbc3JjT2Zmc2V0MCsxXSx6MD1zcmMwW3NyY09mZnNldDArMl0sdzA9c3JjMFtzcmNPZmZzZXQwKzNdO3ZhciB4MT1zcmMxW3NyY09mZnNldDErMF0seTE9c3JjMVtzcmNPZmZzZXQxKzFdLHoxPXNyYzFbc3JjT2Zmc2V0MSsyXSx3MT1zcmMxW3NyY09mZnNldDErM107aWYodD09PTApe2RzdFtkc3RPZmZzZXQrMF09eDA7ZHN0W2RzdE9mZnNldCsxXT15MDtkc3RbZHN0T2Zmc2V0KzJdPXowO2RzdFtkc3RPZmZzZXQrM109dzA7cmV0dXJuO31pZih0PT09MSl7ZHN0W2RzdE9mZnNldCswXT14MTtkc3RbZHN0T2Zmc2V0KzFdPXkxO2RzdFtkc3RPZmZzZXQrMl09ejE7ZHN0W2RzdE9mZnNldCszXT13MTtyZXR1cm47fWlmKHcwIT09dzF8fHgwIT09eDF8fHkwIT09eTF8fHowIT09ejEpe3ZhciBzPTEtdDt2YXIgY29zPXgwKngxK3kwKnkxK3owKnoxK3cwKncxLGRpcj1jb3M+PTA/MTotMSxzcXJTaW49MS1jb3MqY29zOy8vIFNraXAgdGhlIFNsZXJwIGZvciB0aW55IHN0ZXBzIHRvIGF2b2lkIG51bWVyaWMgcHJvYmxlbXM6CmlmKHNxclNpbj5OdW1iZXIuRVBTSUxPTil7dmFyIHNpbj1NYXRoLnNxcnQoc3FyU2luKSxsZW49TWF0aC5hdGFuMihzaW4sY29zKmRpcik7cz1NYXRoLnNpbihzKmxlbikvc2luO3Q9TWF0aC5zaW4odCpsZW4pL3Npbjt9dmFyIHREaXI9dCpkaXI7eDA9eDAqcyt4MSp0RGlyO3kwPXkwKnMreTEqdERpcjt6MD16MCpzK3oxKnREaXI7dzA9dzAqcyt3MSp0RGlyOy8vIE5vcm1hbGl6ZSBpbiBjYXNlIHdlIGp1c3QgZGlkIGEgbGVycDoKaWYocz09PTEtdCl7dmFyIGY9MS9NYXRoLnNxcnQoeDAqeDAreTAqeTArejAqejArdzAqdzApO3gwKj1mO3kwKj1mO3owKj1mO3cwKj1mO319ZHN0W2RzdE9mZnNldF09eDA7ZHN0W2RzdE9mZnNldCsxXT15MDtkc3RbZHN0T2Zmc2V0KzJdPXowO2RzdFtkc3RPZmZzZXQrM109dzA7fX0se2tleToibXVsdGlwbHlRdWF0ZXJuaW9uc0ZsYXQiLHZhbHVlOmZ1bmN0aW9uIG11bHRpcGx5UXVhdGVybmlvbnNGbGF0KGRzdCxkc3RPZmZzZXQsc3JjMCxzcmNPZmZzZXQwLHNyYzEsc3JjT2Zmc2V0MSl7dmFyIHgwPXNyYzBbc3JjT2Zmc2V0MF07dmFyIHkwPXNyYzBbc3JjT2Zmc2V0MCsxXTt2YXIgejA9c3JjMFtzcmNPZmZzZXQwKzJdO3ZhciB3MD1zcmMwW3NyY09mZnNldDArM107dmFyIHgxPXNyYzFbc3JjT2Zmc2V0MV07dmFyIHkxPXNyYzFbc3JjT2Zmc2V0MSsxXTt2YXIgejE9c3JjMVtzcmNPZmZzZXQxKzJdO3ZhciB3MT1zcmMxW3NyY09mZnNldDErM107ZHN0W2RzdE9mZnNldF09eDAqdzErdzAqeDEreTAqejEtejAqeTE7ZHN0W2RzdE9mZnNldCsxXT15MCp3MSt3MCp5MSt6MCp4MS14MCp6MTtkc3RbZHN0T2Zmc2V0KzJdPXowKncxK3cwKnoxK3gwKnkxLXkwKngxO2RzdFtkc3RPZmZzZXQrM109dzAqdzEteDAqeDEteTAqeTEtejAqejE7cmV0dXJuIGRzdDt9fV0pO3JldHVybiBRdWF0ZXJuaW9uO30oKTtRdWF0ZXJuaW9uLnByb3RvdHlwZS5pc1F1YXRlcm5pb249dHJ1ZTt2YXIgVmVjdG9yMz0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX1N5bWJvbCRpdGVyYXRvcjMpe2Z1bmN0aW9uIFZlY3RvcjMoKXt2YXIgeD1hcmd1bWVudHMubGVuZ3RoPjAmJmFyZ3VtZW50c1swXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMF06MDt2YXIgeT1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMV06MDt2YXIgej1hcmd1bWVudHMubGVuZ3RoPjImJmFyZ3VtZW50c1syXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMl06MDtfY2xhc3NDYWxsQ2hlY2sodGhpcyxWZWN0b3IzKTt0aGlzLng9eDt0aGlzLnk9eTt0aGlzLno9ejt9X2NyZWF0ZUNsYXNzKFZlY3RvcjMsW3trZXk6InNldCIsdmFsdWU6ZnVuY3Rpb24gc2V0KHgseSx6KXtpZih6PT09dW5kZWZpbmVkKXo9dGhpcy56Oy8vIHNwcml0ZS5zY2FsZS5zZXQoeCx5KQp0aGlzLng9eDt0aGlzLnk9eTt0aGlzLno9ejtyZXR1cm4gdGhpczt9fSx7a2V5OiJzZXRTY2FsYXIiLHZhbHVlOmZ1bmN0aW9uIHNldFNjYWxhcihzY2FsYXIpe3RoaXMueD1zY2FsYXI7dGhpcy55PXNjYWxhcjt0aGlzLno9c2NhbGFyO3JldHVybiB0aGlzO319LHtrZXk6InNldFgiLHZhbHVlOmZ1bmN0aW9uIHNldFgoeCl7dGhpcy54PXg7cmV0dXJuIHRoaXM7fX0se2tleToic2V0WSIsdmFsdWU6ZnVuY3Rpb24gc2V0WSh5KXt0aGlzLnk9eTtyZXR1cm4gdGhpczt9fSx7a2V5OiJzZXRaIix2YWx1ZTpmdW5jdGlvbiBzZXRaKHope3RoaXMuej16O3JldHVybiB0aGlzO319LHtrZXk6InNldENvbXBvbmVudCIsdmFsdWU6ZnVuY3Rpb24gc2V0Q29tcG9uZW50KGluZGV4LHZhbHVlKXtzd2l0Y2goaW5kZXgpe2Nhc2UgMDp0aGlzLng9dmFsdWU7YnJlYWs7Y2FzZSAxOnRoaXMueT12YWx1ZTticmVhaztjYXNlIDI6dGhpcy56PXZhbHVlO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCdpbmRleCBpcyBvdXQgb2YgcmFuZ2U6ICcraW5kZXgpO31yZXR1cm4gdGhpczt9fSx7a2V5OiJnZXRDb21wb25lbnQiLHZhbHVlOmZ1bmN0aW9uIGdldENvbXBvbmVudChpbmRleCl7c3dpdGNoKGluZGV4KXtjYXNlIDA6cmV0dXJuIHRoaXMueDtjYXNlIDE6cmV0dXJuIHRoaXMueTtjYXNlIDI6cmV0dXJuIHRoaXMuejtkZWZhdWx0OnRocm93IG5ldyBFcnJvcignaW5kZXggaXMgb3V0IG9mIHJhbmdlOiAnK2luZGV4KTt9fX0se2tleToiY2xvbmUiLHZhbHVlOmZ1bmN0aW9uIGNsb25lKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMueCx0aGlzLnksdGhpcy56KTt9fSx7a2V5OiJjb3B5Iix2YWx1ZTpmdW5jdGlvbiBjb3B5KHYpe3RoaXMueD12Lng7dGhpcy55PXYueTt0aGlzLno9di56O3JldHVybiB0aGlzO319LHtrZXk6ImFkZCIsdmFsdWU6ZnVuY3Rpb24gYWRkKHYsdyl7aWYodyE9PXVuZGVmaW5lZCl7Y29uc29sZS53YXJuKCdUSFJFRS5WZWN0b3IzOiAuYWRkKCkgbm93IG9ubHkgYWNjZXB0cyBvbmUgYXJndW1lbnQuIFVzZSAuYWRkVmVjdG9ycyggYSwgYiApIGluc3RlYWQuJyk7cmV0dXJuIHRoaXMuYWRkVmVjdG9ycyh2LHcpO310aGlzLngrPXYueDt0aGlzLnkrPXYueTt0aGlzLnorPXYuejtyZXR1cm4gdGhpczt9fSx7a2V5OiJhZGRTY2FsYXIiLHZhbHVlOmZ1bmN0aW9uIGFkZFNjYWxhcihzKXt0aGlzLngrPXM7dGhpcy55Kz1zO3RoaXMueis9cztyZXR1cm4gdGhpczt9fSx7a2V5OiJhZGRWZWN0b3JzIix2YWx1ZTpmdW5jdGlvbiBhZGRWZWN0b3JzKGEsYil7dGhpcy54PWEueCtiLng7dGhpcy55PWEueStiLnk7dGhpcy56PWEueitiLno7cmV0dXJuIHRoaXM7fX0se2tleToiYWRkU2NhbGVkVmVjdG9yIix2YWx1ZTpmdW5jdGlvbiBhZGRTY2FsZWRWZWN0b3IodixzKXt0aGlzLngrPXYueCpzO3RoaXMueSs9di55KnM7dGhpcy56Kz12LnoqcztyZXR1cm4gdGhpczt9fSx7a2V5OiJzdWIiLHZhbHVlOmZ1bmN0aW9uIHN1Yih2LHcpe2lmKHchPT11bmRlZmluZWQpe2NvbnNvbGUud2FybignVEhSRUUuVmVjdG9yMzogLnN1YigpIG5vdyBvbmx5IGFjY2VwdHMgb25lIGFyZ3VtZW50LiBVc2UgLnN1YlZlY3RvcnMoIGEsIGIgKSBpbnN0ZWFkLicpO3JldHVybiB0aGlzLnN1YlZlY3RvcnModix3KTt9dGhpcy54LT12Lng7dGhpcy55LT12Lnk7dGhpcy56LT12Lno7cmV0dXJuIHRoaXM7fX0se2tleToic3ViU2NhbGFyIix2YWx1ZTpmdW5jdGlvbiBzdWJTY2FsYXIocyl7dGhpcy54LT1zO3RoaXMueS09czt0aGlzLnotPXM7cmV0dXJuIHRoaXM7fX0se2tleToic3ViVmVjdG9ycyIsdmFsdWU6ZnVuY3Rpb24gc3ViVmVjdG9ycyhhLGIpe3RoaXMueD1hLngtYi54O3RoaXMueT1hLnktYi55O3RoaXMuej1hLnotYi56O3JldHVybiB0aGlzO319LHtrZXk6Im11bHRpcGx5Iix2YWx1ZTpmdW5jdGlvbiBtdWx0aXBseSh2LHcpe2lmKHchPT11bmRlZmluZWQpe2NvbnNvbGUud2FybignVEhSRUUuVmVjdG9yMzogLm11bHRpcGx5KCkgbm93IG9ubHkgYWNjZXB0cyBvbmUgYXJndW1lbnQuIFVzZSAubXVsdGlwbHlWZWN0b3JzKCBhLCBiICkgaW5zdGVhZC4nKTtyZXR1cm4gdGhpcy5tdWx0aXBseVZlY3RvcnModix3KTt9dGhpcy54Kj12Lng7dGhpcy55Kj12Lnk7dGhpcy56Kj12Lno7cmV0dXJuIHRoaXM7fX0se2tleToibXVsdGlwbHlTY2FsYXIiLHZhbHVlOmZ1bmN0aW9uIG11bHRpcGx5U2NhbGFyKHNjYWxhcil7dGhpcy54Kj1zY2FsYXI7dGhpcy55Kj1zY2FsYXI7dGhpcy56Kj1zY2FsYXI7cmV0dXJuIHRoaXM7fX0se2tleToibXVsdGlwbHlWZWN0b3JzIix2YWx1ZTpmdW5jdGlvbiBtdWx0aXBseVZlY3RvcnMoYSxiKXt0aGlzLng9YS54KmIueDt0aGlzLnk9YS55KmIueTt0aGlzLno9YS56KmIuejtyZXR1cm4gdGhpczt9fSx7a2V5OiJhcHBseUV1bGVyIix2YWx1ZTpmdW5jdGlvbiBhcHBseUV1bGVyKGV1bGVyKXtpZighKGV1bGVyJiZldWxlci5pc0V1bGVyKSl7Y29uc29sZS5lcnJvcignVEhSRUUuVmVjdG9yMzogLmFwcGx5RXVsZXIoKSBub3cgZXhwZWN0cyBhbiBFdWxlciByb3RhdGlvbiByYXRoZXIgdGhhbiBhIFZlY3RvcjMgYW5kIG9yZGVyLicpO31yZXR1cm4gdGhpcy5hcHBseVF1YXRlcm5pb24oX3F1YXRlcm5pb24kNC5zZXRGcm9tRXVsZXIoZXVsZXIpKTt9fSx7a2V5OiJhcHBseUF4aXNBbmdsZSIsdmFsdWU6ZnVuY3Rpb24gYXBwbHlBeGlzQW5nbGUoYXhpcyxhbmdsZSl7cmV0dXJuIHRoaXMuYXBwbHlRdWF0ZXJuaW9uKF9xdWF0ZXJuaW9uJDQuc2V0RnJvbUF4aXNBbmdsZShheGlzLGFuZ2xlKSk7fX0se2tleToiYXBwbHlNYXRyaXgzIix2YWx1ZTpmdW5jdGlvbiBhcHBseU1hdHJpeDMobSl7dmFyIHg9dGhpcy54LHk9dGhpcy55LHo9dGhpcy56O3ZhciBlPW0uZWxlbWVudHM7dGhpcy54PWVbMF0qeCtlWzNdKnkrZVs2XSp6O3RoaXMueT1lWzFdKngrZVs0XSp5K2VbN10qejt0aGlzLno9ZVsyXSp4K2VbNV0qeStlWzhdKno7cmV0dXJuIHRoaXM7fX0se2tleToiYXBwbHlOb3JtYWxNYXRyaXgiLHZhbHVlOmZ1bmN0aW9uIGFwcGx5Tm9ybWFsTWF0cml4KG0pe3JldHVybiB0aGlzLmFwcGx5TWF0cml4MyhtKS5ub3JtYWxpemUoKTt9fSx7a2V5OiJhcHBseU1hdHJpeDQiLHZhbHVlOmZ1bmN0aW9uIGFwcGx5TWF0cml4NChtKXt2YXIgeD10aGlzLngseT10aGlzLnksej10aGlzLno7dmFyIGU9bS5lbGVtZW50czt2YXIgdz0xLyhlWzNdKngrZVs3XSp5K2VbMTFdKnorZVsxNV0pO3RoaXMueD0oZVswXSp4K2VbNF0qeStlWzhdKnorZVsxMl0pKnc7dGhpcy55PShlWzFdKngrZVs1XSp5K2VbOV0qeitlWzEzXSkqdzt0aGlzLno9KGVbMl0qeCtlWzZdKnkrZVsxMF0qeitlWzE0XSkqdztyZXR1cm4gdGhpczt9fSx7a2V5OiJhcHBseVF1YXRlcm5pb24iLHZhbHVlOmZ1bmN0aW9uIGFwcGx5UXVhdGVybmlvbihxKXt2YXIgeD10aGlzLngseT10aGlzLnksej10aGlzLno7dmFyIHF4PXEueCxxeT1xLnkscXo9cS56LHF3PXEudzsvLyBjYWxjdWxhdGUgcXVhdCAqIHZlY3Rvcgp2YXIgaXg9cXcqeCtxeSp6LXF6Knk7dmFyIGl5PXF3KnkrcXoqeC1xeCp6O3ZhciBpej1xdyp6K3F4KnktcXkqeDt2YXIgaXc9LXF4KngtcXkqeS1xeip6Oy8vIGNhbGN1bGF0ZSByZXN1bHQgKiBpbnZlcnNlIHF1YXQKdGhpcy54PWl4KnF3K2l3Ki1xeCtpeSotcXotaXoqLXF5O3RoaXMueT1peSpxdytpdyotcXkraXoqLXF4LWl4Ki1xejt0aGlzLno9aXoqcXcraXcqLXF6K2l4Ki1xeS1peSotcXg7cmV0dXJuIHRoaXM7fX0se2tleToicHJvamVjdCIsdmFsdWU6ZnVuY3Rpb24gcHJvamVjdChjYW1lcmEpe3JldHVybiB0aGlzLmFwcGx5TWF0cml4NChjYW1lcmEubWF0cml4V29ybGRJbnZlcnNlKS5hcHBseU1hdHJpeDQoY2FtZXJhLnByb2plY3Rpb25NYXRyaXgpO319LHtrZXk6InVucHJvamVjdCIsdmFsdWU6ZnVuY3Rpb24gdW5wcm9qZWN0KGNhbWVyYSl7cmV0dXJuIHRoaXMuYXBwbHlNYXRyaXg0KGNhbWVyYS5wcm9qZWN0aW9uTWF0cml4SW52ZXJzZSkuYXBwbHlNYXRyaXg0KGNhbWVyYS5tYXRyaXhXb3JsZCk7fX0se2tleToidHJhbnNmb3JtRGlyZWN0aW9uIix2YWx1ZTpmdW5jdGlvbiB0cmFuc2Zvcm1EaXJlY3Rpb24obSl7Ly8gaW5wdXQ6IFRIUkVFLk1hdHJpeDQgYWZmaW5lIG1hdHJpeAovLyB2ZWN0b3IgaW50ZXJwcmV0ZWQgYXMgYSBkaXJlY3Rpb24KdmFyIHg9dGhpcy54LHk9dGhpcy55LHo9dGhpcy56O3ZhciBlPW0uZWxlbWVudHM7dGhpcy54PWVbMF0qeCtlWzRdKnkrZVs4XSp6O3RoaXMueT1lWzFdKngrZVs1XSp5K2VbOV0qejt0aGlzLno9ZVsyXSp4K2VbNl0qeStlWzEwXSp6O3JldHVybiB0aGlzLm5vcm1hbGl6ZSgpO319LHtrZXk6ImRpdmlkZSIsdmFsdWU6ZnVuY3Rpb24gZGl2aWRlKHYpe3RoaXMueC89di54O3RoaXMueS89di55O3RoaXMuei89di56O3JldHVybiB0aGlzO319LHtrZXk6ImRpdmlkZVNjYWxhciIsdmFsdWU6ZnVuY3Rpb24gZGl2aWRlU2NhbGFyKHNjYWxhcil7cmV0dXJuIHRoaXMubXVsdGlwbHlTY2FsYXIoMS9zY2FsYXIpO319LHtrZXk6Im1pbiIsdmFsdWU6ZnVuY3Rpb24gbWluKHYpe3RoaXMueD1NYXRoLm1pbih0aGlzLngsdi54KTt0aGlzLnk9TWF0aC5taW4odGhpcy55LHYueSk7dGhpcy56PU1hdGgubWluKHRoaXMueix2LnopO3JldHVybiB0aGlzO319LHtrZXk6Im1heCIsdmFsdWU6ZnVuY3Rpb24gbWF4KHYpe3RoaXMueD1NYXRoLm1heCh0aGlzLngsdi54KTt0aGlzLnk9TWF0aC5tYXgodGhpcy55LHYueSk7dGhpcy56PU1hdGgubWF4KHRoaXMueix2LnopO3JldHVybiB0aGlzO319LHtrZXk6ImNsYW1wIix2YWx1ZTpmdW5jdGlvbiBjbGFtcChtaW4sbWF4KXsvLyBhc3N1bWVzIG1pbiA8IG1heCwgY29tcG9uZW50d2lzZQp0aGlzLng9TWF0aC5tYXgobWluLngsTWF0aC5taW4obWF4LngsdGhpcy54KSk7dGhpcy55PU1hdGgubWF4KG1pbi55LE1hdGgubWluKG1heC55LHRoaXMueSkpO3RoaXMuej1NYXRoLm1heChtaW4ueixNYXRoLm1pbihtYXgueix0aGlzLnopKTtyZXR1cm4gdGhpczt9fSx7a2V5OiJjbGFtcFNjYWxhciIsdmFsdWU6ZnVuY3Rpb24gY2xhbXBTY2FsYXIobWluVmFsLG1heFZhbCl7dGhpcy54PU1hdGgubWF4KG1pblZhbCxNYXRoLm1pbihtYXhWYWwsdGhpcy54KSk7dGhpcy55PU1hdGgubWF4KG1pblZhbCxNYXRoLm1pbihtYXhWYWwsdGhpcy55KSk7dGhpcy56PU1hdGgubWF4KG1pblZhbCxNYXRoLm1pbihtYXhWYWwsdGhpcy56KSk7cmV0dXJuIHRoaXM7fX0se2tleToiY2xhbXBMZW5ndGgiLHZhbHVlOmZ1bmN0aW9uIGNsYW1wTGVuZ3RoKG1pbixtYXgpe3ZhciBsZW5ndGg9dGhpcy5sZW5ndGgoKTtyZXR1cm4gdGhpcy5kaXZpZGVTY2FsYXIobGVuZ3RofHwxKS5tdWx0aXBseVNjYWxhcihNYXRoLm1heChtaW4sTWF0aC5taW4obWF4LGxlbmd0aCkpKTt9fSx7a2V5OiJmbG9vciIsdmFsdWU6ZnVuY3Rpb24gZmxvb3IoKXt0aGlzLng9TWF0aC5mbG9vcih0aGlzLngpO3RoaXMueT1NYXRoLmZsb29yKHRoaXMueSk7dGhpcy56PU1hdGguZmxvb3IodGhpcy56KTtyZXR1cm4gdGhpczt9fSx7a2V5OiJjZWlsIix2YWx1ZTpmdW5jdGlvbiBjZWlsKCl7dGhpcy54PU1hdGguY2VpbCh0aGlzLngpO3RoaXMueT1NYXRoLmNlaWwodGhpcy55KTt0aGlzLno9TWF0aC5jZWlsKHRoaXMueik7cmV0dXJuIHRoaXM7fX0se2tleToicm91bmQiLHZhbHVlOmZ1bmN0aW9uIHJvdW5kKCl7dGhpcy54PU1hdGgucm91bmQodGhpcy54KTt0aGlzLnk9TWF0aC5yb3VuZCh0aGlzLnkpO3RoaXMuej1NYXRoLnJvdW5kKHRoaXMueik7cmV0dXJuIHRoaXM7fX0se2tleToicm91bmRUb1plcm8iLHZhbHVlOmZ1bmN0aW9uIHJvdW5kVG9aZXJvKCl7dGhpcy54PXRoaXMueDwwP01hdGguY2VpbCh0aGlzLngpOk1hdGguZmxvb3IodGhpcy54KTt0aGlzLnk9dGhpcy55PDA/TWF0aC5jZWlsKHRoaXMueSk6TWF0aC5mbG9vcih0aGlzLnkpO3RoaXMuej10aGlzLno8MD9NYXRoLmNlaWwodGhpcy56KTpNYXRoLmZsb29yKHRoaXMueik7cmV0dXJuIHRoaXM7fX0se2tleToibmVnYXRlIix2YWx1ZTpmdW5jdGlvbiBuZWdhdGUoKXt0aGlzLng9LXRoaXMueDt0aGlzLnk9LXRoaXMueTt0aGlzLno9LXRoaXMuejtyZXR1cm4gdGhpczt9fSx7a2V5OiJkb3QiLHZhbHVlOmZ1bmN0aW9uIGRvdCh2KXtyZXR1cm4gdGhpcy54KnYueCt0aGlzLnkqdi55K3RoaXMueip2Lno7fS8vIFRPRE8gbGVuZ3RoU3F1YXJlZD8KfSx7a2V5OiJsZW5ndGhTcSIsdmFsdWU6ZnVuY3Rpb24gbGVuZ3RoU3EoKXtyZXR1cm4gdGhpcy54KnRoaXMueCt0aGlzLnkqdGhpcy55K3RoaXMueip0aGlzLno7fX0se2tleToibGVuZ3RoIix2YWx1ZTpmdW5jdGlvbiBsZW5ndGgoKXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMueCp0aGlzLngrdGhpcy55KnRoaXMueSt0aGlzLnoqdGhpcy56KTt9fSx7a2V5OiJtYW5oYXR0YW5MZW5ndGgiLHZhbHVlOmZ1bmN0aW9uIG1hbmhhdHRhbkxlbmd0aCgpe3JldHVybiBNYXRoLmFicyh0aGlzLngpK01hdGguYWJzKHRoaXMueSkrTWF0aC5hYnModGhpcy56KTt9fSx7a2V5OiJub3JtYWxpemUiLHZhbHVlOmZ1bmN0aW9uIG5vcm1hbGl6ZSgpe3JldHVybiB0aGlzLmRpdmlkZVNjYWxhcih0aGlzLmxlbmd0aCgpfHwxKTt9fSx7a2V5OiJzZXRMZW5ndGgiLHZhbHVlOmZ1bmN0aW9uIHNldExlbmd0aChsZW5ndGgpe3JldHVybiB0aGlzLm5vcm1hbGl6ZSgpLm11bHRpcGx5U2NhbGFyKGxlbmd0aCk7fX0se2tleToibGVycCIsdmFsdWU6ZnVuY3Rpb24gbGVycCh2LGFscGhhKXt0aGlzLngrPSh2LngtdGhpcy54KSphbHBoYTt0aGlzLnkrPSh2LnktdGhpcy55KSphbHBoYTt0aGlzLnorPSh2LnotdGhpcy56KSphbHBoYTtyZXR1cm4gdGhpczt9fSx7a2V5OiJsZXJwVmVjdG9ycyIsdmFsdWU6ZnVuY3Rpb24gbGVycFZlY3RvcnModjEsdjIsYWxwaGEpe3RoaXMueD12MS54Kyh2Mi54LXYxLngpKmFscGhhO3RoaXMueT12MS55Kyh2Mi55LXYxLnkpKmFscGhhO3RoaXMuej12MS56Kyh2Mi56LXYxLnopKmFscGhhO3JldHVybiB0aGlzO319LHtrZXk6ImNyb3NzIix2YWx1ZTpmdW5jdGlvbiBjcm9zcyh2LHcpe2lmKHchPT11bmRlZmluZWQpe2NvbnNvbGUud2FybignVEhSRUUuVmVjdG9yMzogLmNyb3NzKCkgbm93IG9ubHkgYWNjZXB0cyBvbmUgYXJndW1lbnQuIFVzZSAuY3Jvc3NWZWN0b3JzKCBhLCBiICkgaW5zdGVhZC4nKTtyZXR1cm4gdGhpcy5jcm9zc1ZlY3RvcnModix3KTt9cmV0dXJuIHRoaXMuY3Jvc3NWZWN0b3JzKHRoaXMsdik7fX0se2tleToiY3Jvc3NWZWN0b3JzIix2YWx1ZTpmdW5jdGlvbiBjcm9zc1ZlY3RvcnMoYSxiKXt2YXIgYXg9YS54LGF5PWEueSxhej1hLno7dmFyIGJ4PWIueCxieT1iLnksYno9Yi56O3RoaXMueD1heSpiei1heipieTt0aGlzLnk9YXoqYngtYXgqYno7dGhpcy56PWF4KmJ5LWF5KmJ4O3JldHVybiB0aGlzO319LHtrZXk6InByb2plY3RPblZlY3RvciIsdmFsdWU6ZnVuY3Rpb24gcHJvamVjdE9uVmVjdG9yKHYpe3ZhciBkZW5vbWluYXRvcj12Lmxlbmd0aFNxKCk7aWYoZGVub21pbmF0b3I9PT0wKXJldHVybiB0aGlzLnNldCgwLDAsMCk7dmFyIHNjYWxhcj12LmRvdCh0aGlzKS9kZW5vbWluYXRvcjtyZXR1cm4gdGhpcy5jb3B5KHYpLm11bHRpcGx5U2NhbGFyKHNjYWxhcik7fX0se2tleToicHJvamVjdE9uUGxhbmUiLHZhbHVlOmZ1bmN0aW9uIHByb2plY3RPblBsYW5lKHBsYW5lTm9ybWFsKXtfdmVjdG9yJGMuY29weSh0aGlzKS5wcm9qZWN0T25WZWN0b3IocGxhbmVOb3JtYWwpO3JldHVybiB0aGlzLnN1YihfdmVjdG9yJGMpO319LHtrZXk6InJlZmxlY3QiLHZhbHVlOmZ1bmN0aW9uIHJlZmxlY3Qobm9ybWFsKXsvLyByZWZsZWN0IGluY2lkZW50IHZlY3RvciBvZmYgcGxhbmUgb3J0aG9nb25hbCB0byBub3JtYWwKLy8gbm9ybWFsIGlzIGFzc3VtZWQgdG8gaGF2ZSB1bml0IGxlbmd0aApyZXR1cm4gdGhpcy5zdWIoX3ZlY3RvciRjLmNvcHkobm9ybWFsKS5tdWx0aXBseVNjYWxhcigyKnRoaXMuZG90KG5vcm1hbCkpKTt9fSx7a2V5OiJhbmdsZVRvIix2YWx1ZTpmdW5jdGlvbiBhbmdsZVRvKHYpe3ZhciBkZW5vbWluYXRvcj1NYXRoLnNxcnQodGhpcy5sZW5ndGhTcSgpKnYubGVuZ3RoU3EoKSk7aWYoZGVub21pbmF0b3I9PT0wKXJldHVybiBNYXRoLlBJLzI7dmFyIHRoZXRhPXRoaXMuZG90KHYpL2Rlbm9taW5hdG9yOy8vIGNsYW1wLCB0byBoYW5kbGUgbnVtZXJpY2FsIHByb2JsZW1zCnJldHVybiBNYXRoLmFjb3MoY2xhbXAodGhldGEsLTEsMSkpO319LHtrZXk6ImRpc3RhbmNlVG8iLHZhbHVlOmZ1bmN0aW9uIGRpc3RhbmNlVG8odil7cmV0dXJuIE1hdGguc3FydCh0aGlzLmRpc3RhbmNlVG9TcXVhcmVkKHYpKTt9fSx7a2V5OiJkaXN0YW5jZVRvU3F1YXJlZCIsdmFsdWU6ZnVuY3Rpb24gZGlzdGFuY2VUb1NxdWFyZWQodil7dmFyIGR4PXRoaXMueC12LngsZHk9dGhpcy55LXYueSxkej10aGlzLnotdi56O3JldHVybiBkeCpkeCtkeSpkeStkeipkejt9fSx7a2V5OiJtYW5oYXR0YW5EaXN0YW5jZVRvIix2YWx1ZTpmdW5jdGlvbiBtYW5oYXR0YW5EaXN0YW5jZVRvKHYpe3JldHVybiBNYXRoLmFicyh0aGlzLngtdi54KStNYXRoLmFicyh0aGlzLnktdi55KStNYXRoLmFicyh0aGlzLnotdi56KTt9fSx7a2V5OiJzZXRGcm9tU3BoZXJpY2FsIix2YWx1ZTpmdW5jdGlvbiBzZXRGcm9tU3BoZXJpY2FsKHMpe3JldHVybiB0aGlzLnNldEZyb21TcGhlcmljYWxDb29yZHMocy5yYWRpdXMscy5waGkscy50aGV0YSk7fX0se2tleToic2V0RnJvbVNwaGVyaWNhbENvb3JkcyIsdmFsdWU6ZnVuY3Rpb24gc2V0RnJvbVNwaGVyaWNhbENvb3JkcyhyYWRpdXMscGhpLHRoZXRhKXt2YXIgc2luUGhpUmFkaXVzPU1hdGguc2luKHBoaSkqcmFkaXVzO3RoaXMueD1zaW5QaGlSYWRpdXMqTWF0aC5zaW4odGhldGEpO3RoaXMueT1NYXRoLmNvcyhwaGkpKnJhZGl1czt0aGlzLno9c2luUGhpUmFkaXVzKk1hdGguY29zKHRoZXRhKTtyZXR1cm4gdGhpczt9fSx7a2V5OiJzZXRGcm9tQ3lsaW5kcmljYWwiLHZhbHVlOmZ1bmN0aW9uIHNldEZyb21DeWxpbmRyaWNhbChjKXtyZXR1cm4gdGhpcy5zZXRGcm9tQ3lsaW5kcmljYWxDb29yZHMoYy5yYWRpdXMsYy50aGV0YSxjLnkpO319LHtrZXk6InNldEZyb21DeWxpbmRyaWNhbENvb3JkcyIsdmFsdWU6ZnVuY3Rpb24gc2V0RnJvbUN5bGluZHJpY2FsQ29vcmRzKHJhZGl1cyx0aGV0YSx5KXt0aGlzLng9cmFkaXVzKk1hdGguc2luKHRoZXRhKTt0aGlzLnk9eTt0aGlzLno9cmFkaXVzKk1hdGguY29zKHRoZXRhKTtyZXR1cm4gdGhpczt9fSx7a2V5OiJzZXRGcm9tTWF0cml4UG9zaXRpb24iLHZhbHVlOmZ1bmN0aW9uIHNldEZyb21NYXRyaXhQb3NpdGlvbihtKXt2YXIgZT1tLmVsZW1lbnRzO3RoaXMueD1lWzEyXTt0aGlzLnk9ZVsxM107dGhpcy56PWVbMTRdO3JldHVybiB0aGlzO319LHtrZXk6InNldEZyb21NYXRyaXhTY2FsZSIsdmFsdWU6ZnVuY3Rpb24gc2V0RnJvbU1hdHJpeFNjYWxlKG0pe3ZhciBzeD10aGlzLnNldEZyb21NYXRyaXhDb2x1bW4obSwwKS5sZW5ndGgoKTt2YXIgc3k9dGhpcy5zZXRGcm9tTWF0cml4Q29sdW1uKG0sMSkubGVuZ3RoKCk7dmFyIHN6PXRoaXMuc2V0RnJvbU1hdHJpeENvbHVtbihtLDIpLmxlbmd0aCgpO3RoaXMueD1zeDt0aGlzLnk9c3k7dGhpcy56PXN6O3JldHVybiB0aGlzO319LHtrZXk6InNldEZyb21NYXRyaXhDb2x1bW4iLHZhbHVlOmZ1bmN0aW9uIHNldEZyb21NYXRyaXhDb2x1bW4obSxpbmRleCl7cmV0dXJuIHRoaXMuZnJvbUFycmF5KG0uZWxlbWVudHMsaW5kZXgqNCk7fX0se2tleToic2V0RnJvbU1hdHJpeDNDb2x1bW4iLHZhbHVlOmZ1bmN0aW9uIHNldEZyb21NYXRyaXgzQ29sdW1uKG0saW5kZXgpe3JldHVybiB0aGlzLmZyb21BcnJheShtLmVsZW1lbnRzLGluZGV4KjMpO319LHtrZXk6ImVxdWFscyIsdmFsdWU6ZnVuY3Rpb24gZXF1YWxzKHYpe3JldHVybiB2Lng9PT10aGlzLngmJnYueT09PXRoaXMueSYmdi56PT09dGhpcy56O319LHtrZXk6ImZyb21BcnJheSIsdmFsdWU6ZnVuY3Rpb24gZnJvbUFycmF5KGFycmF5KXt2YXIgb2Zmc2V0PWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1sxXTowO3RoaXMueD1hcnJheVtvZmZzZXRdO3RoaXMueT1hcnJheVtvZmZzZXQrMV07dGhpcy56PWFycmF5W29mZnNldCsyXTtyZXR1cm4gdGhpczt9fSx7a2V5OiJ0b0FycmF5Iix2YWx1ZTpmdW5jdGlvbiB0b0FycmF5KCl7dmFyIGFycmF5PWFyZ3VtZW50cy5sZW5ndGg+MCYmYXJndW1lbnRzWzBdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1swXTpbXTt2YXIgb2Zmc2V0PWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1sxXTowO2FycmF5W29mZnNldF09dGhpcy54O2FycmF5W29mZnNldCsxXT10aGlzLnk7YXJyYXlbb2Zmc2V0KzJdPXRoaXMuejtyZXR1cm4gYXJyYXk7fX0se2tleToiZnJvbUJ1ZmZlckF0dHJpYnV0ZSIsdmFsdWU6ZnVuY3Rpb24gZnJvbUJ1ZmZlckF0dHJpYnV0ZShhdHRyaWJ1dGUsaW5kZXgsb2Zmc2V0KXtpZihvZmZzZXQhPT11bmRlZmluZWQpe2NvbnNvbGUud2FybignVEhSRUUuVmVjdG9yMzogb2Zmc2V0IGhhcyBiZWVuIHJlbW92ZWQgZnJvbSAuZnJvbUJ1ZmZlckF0dHJpYnV0ZSgpLicpO310aGlzLng9YXR0cmlidXRlLmdldFgoaW5kZXgpO3RoaXMueT1hdHRyaWJ1dGUuZ2V0WShpbmRleCk7dGhpcy56PWF0dHJpYnV0ZS5nZXRaKGluZGV4KTtyZXR1cm4gdGhpczt9fSx7a2V5OiJyYW5kb20iLHZhbHVlOmZ1bmN0aW9uIHJhbmRvbSgpe3RoaXMueD1NYXRoLnJhbmRvbSgpO3RoaXMueT1NYXRoLnJhbmRvbSgpO3RoaXMuej1NYXRoLnJhbmRvbSgpO3JldHVybiB0aGlzO319LHtrZXk6InJhbmRvbURpcmVjdGlvbiIsdmFsdWU6ZnVuY3Rpb24gcmFuZG9tRGlyZWN0aW9uKCl7Ly8gRGVyaXZlZCBmcm9tIGh0dHBzOi8vbWF0aHdvcmxkLndvbGZyYW0uY29tL1NwaGVyZVBvaW50UGlja2luZy5odG1sCnZhciB1PShNYXRoLnJhbmRvbSgpLTAuNSkqMjt2YXIgdD1NYXRoLnJhbmRvbSgpKk1hdGguUEkqMjt2YXIgZj1NYXRoLnNxcnQoMS1NYXRoLnBvdyh1LDIpKTt0aGlzLng9ZipNYXRoLmNvcyh0KTt0aGlzLnk9ZipNYXRoLnNpbih0KTt0aGlzLno9dTtyZXR1cm4gdGhpczt9fSx7a2V5Ol9TeW1ib2wkaXRlcmF0b3IzLHZhbHVlOi8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiB2YWx1ZSgpe3JldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiB2YWx1ZSQoX2NvbnRleHQ0KXt3aGlsZSgxKXN3aXRjaChfY29udGV4dDQucHJldj1fY29udGV4dDQubmV4dCl7Y2FzZSAwOl9jb250ZXh0NC5uZXh0PTI7cmV0dXJuIHRoaXMueDtjYXNlIDI6X2NvbnRleHQ0Lm5leHQ9NDtyZXR1cm4gdGhpcy55O2Nhc2UgNDpfY29udGV4dDQubmV4dD02O3JldHVybiB0aGlzLno7Y2FzZSA2OmNhc2UiZW5kIjpyZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTt9fSx2YWx1ZSx0aGlzKTt9KX1dKTtyZXR1cm4gVmVjdG9yMzt9KFN5bWJvbC5pdGVyYXRvcik7VmVjdG9yMy5wcm90b3R5cGUuaXNWZWN0b3IzPXRydWU7dmFyIF92ZWN0b3IkYz0vKkBfX1BVUkVfXyovbmV3IFZlY3RvcjMoKTt2YXIgX3F1YXRlcm5pb24kND0vKkBfX1BVUkVfXyovbmV3IFF1YXRlcm5pb24oKTt2YXIgQm94Mz0vKiNfX1BVUkVfXyovZnVuY3Rpb24oKXtmdW5jdGlvbiBCb3gzKCl7dmFyIG1pbj1hcmd1bWVudHMubGVuZ3RoPjAmJmFyZ3VtZW50c1swXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMF06bmV3IFZlY3RvcjMoK0luZmluaXR5LCtJbmZpbml0eSwrSW5maW5pdHkpO3ZhciBtYXg9YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzFdOm5ldyBWZWN0b3IzKC1JbmZpbml0eSwtSW5maW5pdHksLUluZmluaXR5KTtfY2xhc3NDYWxsQ2hlY2sodGhpcyxCb3gzKTt0aGlzLm1pbj1taW47dGhpcy5tYXg9bWF4O31fY3JlYXRlQ2xhc3MoQm94Myxbe2tleToic2V0Iix2YWx1ZTpmdW5jdGlvbiBzZXQobWluLG1heCl7dGhpcy5taW4uY29weShtaW4pO3RoaXMubWF4LmNvcHkobWF4KTtyZXR1cm4gdGhpczt9fSx7a2V5OiJzZXRGcm9tQXJyYXkiLHZhbHVlOmZ1bmN0aW9uIHNldEZyb21BcnJheShhcnJheSl7dmFyIG1pblg9K0luZmluaXR5O3ZhciBtaW5ZPStJbmZpbml0eTt2YXIgbWluWj0rSW5maW5pdHk7dmFyIG1heFg9LUluZmluaXR5O3ZhciBtYXhZPS1JbmZpbml0eTt2YXIgbWF4Wj0tSW5maW5pdHk7Zm9yKHZhciBfaTEwPTAsbD1hcnJheS5sZW5ndGg7X2kxMDxsO19pMTArPTMpe3ZhciB4PWFycmF5W19pMTBdO3ZhciB5PWFycmF5W19pMTArMV07dmFyIHo9YXJyYXlbX2kxMCsyXTtpZih4PG1pblgpbWluWD14O2lmKHk8bWluWSltaW5ZPXk7aWYoejxtaW5aKW1pblo9ejtpZih4Pm1heFgpbWF4WD14O2lmKHk+bWF4WSltYXhZPXk7aWYoej5tYXhaKW1heFo9ejt9dGhpcy5taW4uc2V0KG1pblgsbWluWSxtaW5aKTt0aGlzLm1heC5zZXQobWF4WCxtYXhZLG1heFopO3JldHVybiB0aGlzO319LHtrZXk6InNldEZyb21CdWZmZXJBdHRyaWJ1dGUiLHZhbHVlOmZ1bmN0aW9uIHNldEZyb21CdWZmZXJBdHRyaWJ1dGUoYXR0cmlidXRlKXt2YXIgbWluWD0rSW5maW5pdHk7dmFyIG1pblk9K0luZmluaXR5O3ZhciBtaW5aPStJbmZpbml0eTt2YXIgbWF4WD0tSW5maW5pdHk7dmFyIG1heFk9LUluZmluaXR5O3ZhciBtYXhaPS1JbmZpbml0eTtmb3IodmFyIF9pMTE9MCxsPWF0dHJpYnV0ZS5jb3VudDtfaTExPGw7X2kxMSsrKXt2YXIgeD1hdHRyaWJ1dGUuZ2V0WChfaTExKTt2YXIgeT1hdHRyaWJ1dGUuZ2V0WShfaTExKTt2YXIgej1hdHRyaWJ1dGUuZ2V0WihfaTExKTtpZih4PG1pblgpbWluWD14O2lmKHk8bWluWSltaW5ZPXk7aWYoejxtaW5aKW1pblo9ejtpZih4Pm1heFgpbWF4WD14O2lmKHk+bWF4WSltYXhZPXk7aWYoej5tYXhaKW1heFo9ejt9dGhpcy5taW4uc2V0KG1pblgsbWluWSxtaW5aKTt0aGlzLm1heC5zZXQobWF4WCxtYXhZLG1heFopO3JldHVybiB0aGlzO319LHtrZXk6InNldEZyb21Qb2ludHMiLHZhbHVlOmZ1bmN0aW9uIHNldEZyb21Qb2ludHMocG9pbnRzKXt0aGlzLm1ha2VFbXB0eSgpO2Zvcih2YXIgX2kxMj0wLGlsPXBvaW50cy5sZW5ndGg7X2kxMjxpbDtfaTEyKyspe3RoaXMuZXhwYW5kQnlQb2ludChwb2ludHNbX2kxMl0pO31yZXR1cm4gdGhpczt9fSx7a2V5OiJzZXRGcm9tQ2VudGVyQW5kU2l6ZSIsdmFsdWU6ZnVuY3Rpb24gc2V0RnJvbUNlbnRlckFuZFNpemUoY2VudGVyLHNpemUpe3ZhciBoYWxmU2l6ZT1fdmVjdG9yJGIuY29weShzaXplKS5tdWx0aXBseVNjYWxhcigwLjUpO3RoaXMubWluLmNvcHkoY2VudGVyKS5zdWIoaGFsZlNpemUpO3RoaXMubWF4LmNvcHkoY2VudGVyKS5hZGQoaGFsZlNpemUpO3JldHVybiB0aGlzO319LHtrZXk6InNldEZyb21PYmplY3QiLHZhbHVlOmZ1bmN0aW9uIHNldEZyb21PYmplY3Qob2JqZWN0KXt2YXIgcHJlY2lzZT1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMV06ZmFsc2U7dGhpcy5tYWtlRW1wdHkoKTtyZXR1cm4gdGhpcy5leHBhbmRCeU9iamVjdChvYmplY3QscHJlY2lzZSk7fX0se2tleToiY2xvbmUiLHZhbHVlOmZ1bmN0aW9uIGNsb25lKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKCkuY29weSh0aGlzKTt9fSx7a2V5OiJjb3B5Iix2YWx1ZTpmdW5jdGlvbiBjb3B5KGJveCl7dGhpcy5taW4uY29weShib3gubWluKTt0aGlzLm1heC5jb3B5KGJveC5tYXgpO3JldHVybiB0aGlzO319LHtrZXk6Im1ha2VFbXB0eSIsdmFsdWU6ZnVuY3Rpb24gbWFrZUVtcHR5KCl7dGhpcy5taW4ueD10aGlzLm1pbi55PXRoaXMubWluLno9K0luZmluaXR5O3RoaXMubWF4Lng9dGhpcy5tYXgueT10aGlzLm1heC56PS1JbmZpbml0eTtyZXR1cm4gdGhpczt9fSx7a2V5OiJpc0VtcHR5Iix2YWx1ZTpmdW5jdGlvbiBpc0VtcHR5KCl7Ly8gdGhpcyBpcyBhIG1vcmUgcm9idXN0IGNoZWNrIGZvciBlbXB0eSB0aGFuICggdm9sdW1lIDw9IDAgKSBiZWNhdXNlIHZvbHVtZSBjYW4gZ2V0IHBvc2l0aXZlIHdpdGggdHdvIG5lZ2F0aXZlIGF4ZXMKcmV0dXJuIHRoaXMubWF4Lng8dGhpcy5taW4ueHx8dGhpcy5tYXgueTx0aGlzLm1pbi55fHx0aGlzLm1heC56PHRoaXMubWluLno7fX0se2tleToiZ2V0Q2VudGVyIix2YWx1ZTpmdW5jdGlvbiBnZXRDZW50ZXIodGFyZ2V0KXtyZXR1cm4gdGhpcy5pc0VtcHR5KCk/dGFyZ2V0LnNldCgwLDAsMCk6dGFyZ2V0LmFkZFZlY3RvcnModGhpcy5taW4sdGhpcy5tYXgpLm11bHRpcGx5U2NhbGFyKDAuNSk7fX0se2tleToiZ2V0U2l6ZSIsdmFsdWU6ZnVuY3Rpb24gZ2V0U2l6ZSh0YXJnZXQpe3JldHVybiB0aGlzLmlzRW1wdHkoKT90YXJnZXQuc2V0KDAsMCwwKTp0YXJnZXQuc3ViVmVjdG9ycyh0aGlzLm1heCx0aGlzLm1pbik7fX0se2tleToiZXhwYW5kQnlQb2ludCIsdmFsdWU6ZnVuY3Rpb24gZXhwYW5kQnlQb2ludChwb2ludCl7dGhpcy5taW4ubWluKHBvaW50KTt0aGlzLm1heC5tYXgocG9pbnQpO3JldHVybiB0aGlzO319LHtrZXk6ImV4cGFuZEJ5VmVjdG9yIix2YWx1ZTpmdW5jdGlvbiBleHBhbmRCeVZlY3Rvcih2ZWN0b3Ipe3RoaXMubWluLnN1Yih2ZWN0b3IpO3RoaXMubWF4LmFkZCh2ZWN0b3IpO3JldHVybiB0aGlzO319LHtrZXk6ImV4cGFuZEJ5U2NhbGFyIix2YWx1ZTpmdW5jdGlvbiBleHBhbmRCeVNjYWxhcihzY2FsYXIpe3RoaXMubWluLmFkZFNjYWxhcigtc2NhbGFyKTt0aGlzLm1heC5hZGRTY2FsYXIoc2NhbGFyKTtyZXR1cm4gdGhpczt9fSx7a2V5OiJleHBhbmRCeU9iamVjdCIsdmFsdWU6ZnVuY3Rpb24gZXhwYW5kQnlPYmplY3Qob2JqZWN0KXt2YXIgcHJlY2lzZT1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMV06ZmFsc2U7Ly8gQ29tcHV0ZXMgdGhlIHdvcmxkLWF4aXMtYWxpZ25lZCBib3VuZGluZyBib3ggb2YgYW4gb2JqZWN0IChpbmNsdWRpbmcgaXRzIGNoaWxkcmVuKSwKLy8gYWNjb3VudGluZyBmb3IgYm90aCB0aGUgb2JqZWN0J3MsIGFuZCBjaGlsZHJlbidzLCB3b3JsZCB0cmFuc2Zvcm1zCm9iamVjdC51cGRhdGVXb3JsZE1hdHJpeChmYWxzZSxmYWxzZSk7dmFyIGdlb21ldHJ5PW9iamVjdC5nZW9tZXRyeTtpZihnZW9tZXRyeSE9PXVuZGVmaW5lZCl7aWYocHJlY2lzZSYmZ2VvbWV0cnkuYXR0cmlidXRlcyE9dW5kZWZpbmVkJiZnZW9tZXRyeS5hdHRyaWJ1dGVzLnBvc2l0aW9uIT09dW5kZWZpbmVkKXt2YXIgcG9zaXRpb249Z2VvbWV0cnkuYXR0cmlidXRlcy5wb3NpdGlvbjtmb3IodmFyIF9pMTM9MCxsPXBvc2l0aW9uLmNvdW50O19pMTM8bDtfaTEzKyspe192ZWN0b3IkYi5mcm9tQnVmZmVyQXR0cmlidXRlKHBvc2l0aW9uLF9pMTMpLmFwcGx5TWF0cml4NChvYmplY3QubWF0cml4V29ybGQpO3RoaXMuZXhwYW5kQnlQb2ludChfdmVjdG9yJGIpO319ZWxzZXtpZihnZW9tZXRyeS5ib3VuZGluZ0JveD09PW51bGwpe2dlb21ldHJ5LmNvbXB1dGVCb3VuZGluZ0JveCgpO31fYm94JDMuY29weShnZW9tZXRyeS5ib3VuZGluZ0JveCk7X2JveCQzLmFwcGx5TWF0cml4NChvYmplY3QubWF0cml4V29ybGQpO3RoaXMudW5pb24oX2JveCQzKTt9fXZhciBjaGlsZHJlbj1vYmplY3QuY2hpbGRyZW47Zm9yKHZhciBfaTE0PTAsX2w9Y2hpbGRyZW4ubGVuZ3RoO19pMTQ8X2w7X2kxNCsrKXt0aGlzLmV4cGFuZEJ5T2JqZWN0KGNoaWxkcmVuW19pMTRdLHByZWNpc2UpO31yZXR1cm4gdGhpczt9fSx7a2V5OiJjb250YWluc1BvaW50Iix2YWx1ZTpmdW5jdGlvbiBjb250YWluc1BvaW50KHBvaW50KXtyZXR1cm4gcG9pbnQueDx0aGlzLm1pbi54fHxwb2ludC54PnRoaXMubWF4Lnh8fHBvaW50Lnk8dGhpcy5taW4ueXx8cG9pbnQueT50aGlzLm1heC55fHxwb2ludC56PHRoaXMubWluLnp8fHBvaW50Lno+dGhpcy5tYXguej9mYWxzZTp0cnVlO319LHtrZXk6ImNvbnRhaW5zQm94Iix2YWx1ZTpmdW5jdGlvbiBjb250YWluc0JveChib3gpe3JldHVybiB0aGlzLm1pbi54PD1ib3gubWluLngmJmJveC5tYXgueDw9dGhpcy5tYXgueCYmdGhpcy5taW4ueTw9Ym94Lm1pbi55JiZib3gubWF4Lnk8PXRoaXMubWF4LnkmJnRoaXMubWluLno8PWJveC5taW4ueiYmYm94Lm1heC56PD10aGlzLm1heC56O319LHtrZXk6ImdldFBhcmFtZXRlciIsdmFsdWU6ZnVuY3Rpb24gZ2V0UGFyYW1ldGVyKHBvaW50LHRhcmdldCl7Ly8gVGhpcyBjYW4gcG90ZW50aWFsbHkgaGF2ZSBhIGRpdmlkZSBieSB6ZXJvIGlmIHRoZSBib3gKLy8gaGFzIGEgc2l6ZSBkaW1lbnNpb24gb2YgMC4KcmV0dXJuIHRhcmdldC5zZXQoKHBvaW50LngtdGhpcy5taW4ueCkvKHRoaXMubWF4LngtdGhpcy5taW4ueCksKHBvaW50LnktdGhpcy5taW4ueSkvKHRoaXMubWF4LnktdGhpcy5taW4ueSksKHBvaW50LnotdGhpcy5taW4ueikvKHRoaXMubWF4LnotdGhpcy5taW4ueikpO319LHtrZXk6ImludGVyc2VjdHNCb3giLHZhbHVlOmZ1bmN0aW9uIGludGVyc2VjdHNCb3goYm94KXsvLyB1c2luZyA2IHNwbGl0dGluZyBwbGFuZXMgdG8gcnVsZSBvdXQgaW50ZXJzZWN0aW9ucy4KcmV0dXJuIGJveC5tYXgueDx0aGlzLm1pbi54fHxib3gubWluLng+dGhpcy5tYXgueHx8Ym94Lm1heC55PHRoaXMubWluLnl8fGJveC5taW4ueT50aGlzLm1heC55fHxib3gubWF4Lno8dGhpcy5taW4uenx8Ym94Lm1pbi56PnRoaXMubWF4Lno/ZmFsc2U6dHJ1ZTt9fSx7a2V5OiJpbnRlcnNlY3RzU3BoZXJlIix2YWx1ZTpmdW5jdGlvbiBpbnRlcnNlY3RzU3BoZXJlKHNwaGVyZSl7Ly8gRmluZCB0aGUgcG9pbnQgb24gdGhlIEFBQkIgY2xvc2VzdCB0byB0aGUgc3BoZXJlIGNlbnRlci4KdGhpcy5jbGFtcFBvaW50KHNwaGVyZS5jZW50ZXIsX3ZlY3RvciRiKTsvLyBJZiB0aGF0IHBvaW50IGlzIGluc2lkZSB0aGUgc3BoZXJlLCB0aGUgQUFCQiBhbmQgc3BoZXJlIGludGVyc2VjdC4KcmV0dXJuIF92ZWN0b3IkYi5kaXN0YW5jZVRvU3F1YXJlZChzcGhlcmUuY2VudGVyKTw9c3BoZXJlLnJhZGl1cypzcGhlcmUucmFkaXVzO319LHtrZXk6ImludGVyc2VjdHNQbGFuZSIsdmFsdWU6ZnVuY3Rpb24gaW50ZXJzZWN0c1BsYW5lKHBsYW5lKXsvLyBXZSBjb21wdXRlIHRoZSBtaW5pbXVtIGFuZCBtYXhpbXVtIGRvdCBwcm9kdWN0IHZhbHVlcy4gSWYgdGhvc2UgdmFsdWVzCi8vIGFyZSBvbiB0aGUgc2FtZSBzaWRlIChiYWNrIG9yIGZyb250KSBvZiB0aGUgcGxhbmUsIHRoZW4gdGhlcmUgaXMgbm8gaW50ZXJzZWN0aW9uLgp2YXIgbWluLG1heDtpZihwbGFuZS5ub3JtYWwueD4wKXttaW49cGxhbmUubm9ybWFsLngqdGhpcy5taW4ueDttYXg9cGxhbmUubm9ybWFsLngqdGhpcy5tYXgueDt9ZWxzZXttaW49cGxhbmUubm9ybWFsLngqdGhpcy5tYXgueDttYXg9cGxhbmUubm9ybWFsLngqdGhpcy5taW4ueDt9aWYocGxhbmUubm9ybWFsLnk+MCl7bWluKz1wbGFuZS5ub3JtYWwueSp0aGlzLm1pbi55O21heCs9cGxhbmUubm9ybWFsLnkqdGhpcy5tYXgueTt9ZWxzZXttaW4rPXBsYW5lLm5vcm1hbC55KnRoaXMubWF4Lnk7bWF4Kz1wbGFuZS5ub3JtYWwueSp0aGlzLm1pbi55O31pZihwbGFuZS5ub3JtYWwuej4wKXttaW4rPXBsYW5lLm5vcm1hbC56KnRoaXMubWluLno7bWF4Kz1wbGFuZS5ub3JtYWwueip0aGlzLm1heC56O31lbHNle21pbis9cGxhbmUubm9ybWFsLnoqdGhpcy5tYXguejttYXgrPXBsYW5lLm5vcm1hbC56KnRoaXMubWluLno7fXJldHVybiBtaW48PS1wbGFuZS5jb25zdGFudCYmbWF4Pj0tcGxhbmUuY29uc3RhbnQ7fX0se2tleToiaW50ZXJzZWN0c1RyaWFuZ2xlIix2YWx1ZTpmdW5jdGlvbiBpbnRlcnNlY3RzVHJpYW5nbGUodHJpYW5nbGUpe2lmKHRoaXMuaXNFbXB0eSgpKXtyZXR1cm4gZmFsc2U7fS8vIGNvbXB1dGUgYm94IGNlbnRlciBhbmQgZXh0ZW50cwp0aGlzLmdldENlbnRlcihfY2VudGVyKTtfZXh0ZW50cy5zdWJWZWN0b3JzKHRoaXMubWF4LF9jZW50ZXIpOy8vIHRyYW5zbGF0ZSB0cmlhbmdsZSB0byBhYWJiIG9yaWdpbgpfdjAkMi5zdWJWZWN0b3JzKHRyaWFuZ2xlLmEsX2NlbnRlcik7X3YxJDcuc3ViVmVjdG9ycyh0cmlhbmdsZS5iLF9jZW50ZXIpO192MiQzLnN1YlZlY3RvcnModHJpYW5nbGUuYyxfY2VudGVyKTsvLyBjb21wdXRlIGVkZ2UgdmVjdG9ycyBmb3IgdHJpYW5nbGUKX2YwLnN1YlZlY3RvcnMoX3YxJDcsX3YwJDIpO19mMS5zdWJWZWN0b3JzKF92MiQzLF92MSQ3KTtfZjIuc3ViVmVjdG9ycyhfdjAkMixfdjIkMyk7Ly8gdGVzdCBhZ2FpbnN0IGF4ZXMgdGhhdCBhcmUgZ2l2ZW4gYnkgY3Jvc3MgcHJvZHVjdCBjb21iaW5hdGlvbnMgb2YgdGhlIGVkZ2VzIG9mIHRoZSB0cmlhbmdsZSBhbmQgdGhlIGVkZ2VzIG9mIHRoZSBhYWJiCi8vIG1ha2UgYW4gYXhpcyB0ZXN0aW5nIG9mIGVhY2ggb2YgdGhlIDMgc2lkZXMgb2YgdGhlIGFhYmIgYWdhaW5zdCBlYWNoIG9mIHRoZSAzIHNpZGVzIG9mIHRoZSB0cmlhbmdsZSA9IDkgYXhpcyBvZiBzZXBhcmF0aW9uCi8vIGF4aXNfaWogPSB1X2kgeCBmX2ogKHUwLCB1MSwgdTIgPSBmYWNlIG5vcm1hbHMgb2YgYWFiYiA9IHgseSx6IGF4ZXMgdmVjdG9ycyBzaW5jZSBhYWJiIGlzIGF4aXMgYWxpZ25lZCkKdmFyIGF4ZXM9WzAsLV9mMC56LF9mMC55LDAsLV9mMS56LF9mMS55LDAsLV9mMi56LF9mMi55LF9mMC56LDAsLV9mMC54LF9mMS56LDAsLV9mMS54LF9mMi56LDAsLV9mMi54LC1fZjAueSxfZjAueCwwLC1fZjEueSxfZjEueCwwLC1fZjIueSxfZjIueCwwXTtpZighc2F0Rm9yQXhlcyhheGVzLF92MCQyLF92MSQ3LF92MiQzLF9leHRlbnRzKSl7cmV0dXJuIGZhbHNlO30vLyB0ZXN0IDMgZmFjZSBub3JtYWxzIGZyb20gdGhlIGFhYmIKYXhlcz1bMSwwLDAsMCwxLDAsMCwwLDFdO2lmKCFzYXRGb3JBeGVzKGF4ZXMsX3YwJDIsX3YxJDcsX3YyJDMsX2V4dGVudHMpKXtyZXR1cm4gZmFsc2U7fS8vIGZpbmFsbHkgdGVzdGluZyB0aGUgZmFjZSBub3JtYWwgb2YgdGhlIHRyaWFuZ2xlCi8vIHVzZSBhbHJlYWR5IGV4aXN0aW5nIHRyaWFuZ2xlIGVkZ2UgdmVjdG9ycyBoZXJlCl90cmlhbmdsZU5vcm1hbC5jcm9zc1ZlY3RvcnMoX2YwLF9mMSk7YXhlcz1bX3RyaWFuZ2xlTm9ybWFsLngsX3RyaWFuZ2xlTm9ybWFsLnksX3RyaWFuZ2xlTm9ybWFsLnpdO3JldHVybiBzYXRGb3JBeGVzKGF4ZXMsX3YwJDIsX3YxJDcsX3YyJDMsX2V4dGVudHMpO319LHtrZXk6ImNsYW1wUG9pbnQiLHZhbHVlOmZ1bmN0aW9uIGNsYW1wUG9pbnQocG9pbnQsdGFyZ2V0KXtyZXR1cm4gdGFyZ2V0LmNvcHkocG9pbnQpLmNsYW1wKHRoaXMubWluLHRoaXMubWF4KTt9fSx7a2V5OiJkaXN0YW5jZVRvUG9pbnQiLHZhbHVlOmZ1bmN0aW9uIGRpc3RhbmNlVG9Qb2ludChwb2ludCl7dmFyIGNsYW1wZWRQb2ludD1fdmVjdG9yJGIuY29weShwb2ludCkuY2xhbXAodGhpcy5taW4sdGhpcy5tYXgpO3JldHVybiBjbGFtcGVkUG9pbnQuc3ViKHBvaW50KS5sZW5ndGgoKTt9fSx7a2V5OiJnZXRCb3VuZGluZ1NwaGVyZSIsdmFsdWU6ZnVuY3Rpb24gZ2V0Qm91bmRpbmdTcGhlcmUodGFyZ2V0KXt0aGlzLmdldENlbnRlcih0YXJnZXQuY2VudGVyKTt0YXJnZXQucmFkaXVzPXRoaXMuZ2V0U2l6ZShfdmVjdG9yJGIpLmxlbmd0aCgpKjAuNTtyZXR1cm4gdGFyZ2V0O319LHtrZXk6ImludGVyc2VjdCIsdmFsdWU6ZnVuY3Rpb24gaW50ZXJzZWN0KGJveCl7dGhpcy5taW4ubWF4KGJveC5taW4pO3RoaXMubWF4Lm1pbihib3gubWF4KTsvLyBlbnN1cmUgdGhhdCBpZiB0aGVyZSBpcyBubyBvdmVybGFwLCB0aGUgcmVzdWx0IGlzIGZ1bGx5IGVtcHR5LCBub3Qgc2xpZ2h0bHkgZW1wdHkgd2l0aCBub24taW5mLytpbmYgdmFsdWVzIHRoYXQgd2lsbCBjYXVzZSBzdWJzZXF1ZW5jZSBpbnRlcnNlY3RzIHRvIGVycm9uZW91c2x5IHJldHVybiB2YWxpZCB2YWx1ZXMuCmlmKHRoaXMuaXNFbXB0eSgpKXRoaXMubWFrZUVtcHR5KCk7cmV0dXJuIHRoaXM7fX0se2tleToidW5pb24iLHZhbHVlOmZ1bmN0aW9uIHVuaW9uKGJveCl7dGhpcy5taW4ubWluKGJveC5taW4pO3RoaXMubWF4Lm1heChib3gubWF4KTtyZXR1cm4gdGhpczt9fSx7a2V5OiJhcHBseU1hdHJpeDQiLHZhbHVlOmZ1bmN0aW9uIGFwcGx5TWF0cml4NChtYXRyaXgpey8vIHRyYW5zZm9ybSBvZiBlbXB0eSBib3ggaXMgYW4gZW1wdHkgYm94LgppZih0aGlzLmlzRW1wdHkoKSlyZXR1cm4gdGhpczsvLyBOT1RFOiBJIGFtIHVzaW5nIGEgYmluYXJ5IHBhdHRlcm4gdG8gc3BlY2lmeSBhbGwgMl4zIGNvbWJpbmF0aW9ucyBiZWxvdwpfcG9pbnRzWzBdLnNldCh0aGlzLm1pbi54LHRoaXMubWluLnksdGhpcy5taW4ueikuYXBwbHlNYXRyaXg0KG1hdHJpeCk7Ly8gMDAwCl9wb2ludHNbMV0uc2V0KHRoaXMubWluLngsdGhpcy5taW4ueSx0aGlzLm1heC56KS5hcHBseU1hdHJpeDQobWF0cml4KTsvLyAwMDEKX3BvaW50c1syXS5zZXQodGhpcy5taW4ueCx0aGlzLm1heC55LHRoaXMubWluLnopLmFwcGx5TWF0cml4NChtYXRyaXgpOy8vIDAxMApfcG9pbnRzWzNdLnNldCh0aGlzLm1pbi54LHRoaXMubWF4LnksdGhpcy5tYXgueikuYXBwbHlNYXRyaXg0KG1hdHJpeCk7Ly8gMDExCl9wb2ludHNbNF0uc2V0KHRoaXMubWF4LngsdGhpcy5taW4ueSx0aGlzLm1pbi56KS5hcHBseU1hdHJpeDQobWF0cml4KTsvLyAxMDAKX3BvaW50c1s1XS5zZXQodGhpcy5tYXgueCx0aGlzLm1pbi55LHRoaXMubWF4LnopLmFwcGx5TWF0cml4NChtYXRyaXgpOy8vIDEwMQpfcG9pbnRzWzZdLnNldCh0aGlzLm1heC54LHRoaXMubWF4LnksdGhpcy5taW4ueikuYXBwbHlNYXRyaXg0KG1hdHJpeCk7Ly8gMTEwCl9wb2ludHNbN10uc2V0KHRoaXMubWF4LngsdGhpcy5tYXgueSx0aGlzLm1heC56KS5hcHBseU1hdHJpeDQobWF0cml4KTsvLyAxMTEKdGhpcy5zZXRGcm9tUG9pbnRzKF9wb2ludHMpO3JldHVybiB0aGlzO319LHtrZXk6InRyYW5zbGF0ZSIsdmFsdWU6ZnVuY3Rpb24gdHJhbnNsYXRlKG9mZnNldCl7dGhpcy5taW4uYWRkKG9mZnNldCk7dGhpcy5tYXguYWRkKG9mZnNldCk7cmV0dXJuIHRoaXM7fX0se2tleToiZXF1YWxzIix2YWx1ZTpmdW5jdGlvbiBlcXVhbHMoYm94KXtyZXR1cm4gYm94Lm1pbi5lcXVhbHModGhpcy5taW4pJiZib3gubWF4LmVxdWFscyh0aGlzLm1heCk7fX1dKTtyZXR1cm4gQm94Mzt9KCk7Qm94My5wcm90b3R5cGUuaXNCb3gzPXRydWU7dmFyIF9wb2ludHM9Wy8qQF9fUFVSRV9fKi9uZXcgVmVjdG9yMygpLC8qQF9fUFVSRV9fKi9uZXcgVmVjdG9yMygpLC8qQF9fUFVSRV9fKi9uZXcgVmVjdG9yMygpLC8qQF9fUFVSRV9fKi9uZXcgVmVjdG9yMygpLC8qQF9fUFVSRV9fKi9uZXcgVmVjdG9yMygpLC8qQF9fUFVSRV9fKi9uZXcgVmVjdG9yMygpLC8qQF9fUFVSRV9fKi9uZXcgVmVjdG9yMygpLC8qQF9fUFVSRV9fKi9uZXcgVmVjdG9yMygpXTt2YXIgX3ZlY3RvciRiPS8qQF9fUFVSRV9fKi9uZXcgVmVjdG9yMygpO3ZhciBfYm94JDM9LypAX19QVVJFX18qL25ldyBCb3gzKCk7Ly8gdHJpYW5nbGUgY2VudGVyZWQgdmVydGljZXMKdmFyIF92MCQyPS8qQF9fUFVSRV9fKi9uZXcgVmVjdG9yMygpO3ZhciBfdjEkNz0vKkBfX1BVUkVfXyovbmV3IFZlY3RvcjMoKTt2YXIgX3YyJDM9LypAX19QVVJFX18qL25ldyBWZWN0b3IzKCk7Ly8gdHJpYW5nbGUgZWRnZSB2ZWN0b3JzCnZhciBfZjA9LypAX19QVVJFX18qL25ldyBWZWN0b3IzKCk7dmFyIF9mMT0vKkBfX1BVUkVfXyovbmV3IFZlY3RvcjMoKTt2YXIgX2YyPS8qQF9fUFVSRV9fKi9uZXcgVmVjdG9yMygpO3ZhciBfY2VudGVyPS8qQF9fUFVSRV9fKi9uZXcgVmVjdG9yMygpO3ZhciBfZXh0ZW50cz0vKkBfX1BVUkVfXyovbmV3IFZlY3RvcjMoKTt2YXIgX3RyaWFuZ2xlTm9ybWFsPS8qQF9fUFVSRV9fKi9uZXcgVmVjdG9yMygpO3ZhciBfdGVzdEF4aXM9LypAX19QVVJFX18qL25ldyBWZWN0b3IzKCk7ZnVuY3Rpb24gc2F0Rm9yQXhlcyhheGVzLHYwLHYxLHYyLGV4dGVudHMpe2Zvcih2YXIgX2kxNT0wLGo9YXhlcy5sZW5ndGgtMztfaTE1PD1qO19pMTUrPTMpe190ZXN0QXhpcy5mcm9tQXJyYXkoYXhlcyxfaTE1KTsvLyBwcm9qZWN0IHRoZSBhYWJiIG9udG8gdGhlIHNlcGVyYXRpbmcgYXhpcwp2YXIgcj1leHRlbnRzLngqTWF0aC5hYnMoX3Rlc3RBeGlzLngpK2V4dGVudHMueSpNYXRoLmFicyhfdGVzdEF4aXMueSkrZXh0ZW50cy56Kk1hdGguYWJzKF90ZXN0QXhpcy56KTsvLyBwcm9qZWN0IGFsbCAzIHZlcnRpY2VzIG9mIHRoZSB0cmlhbmdsZSBvbnRvIHRoZSBzZXBlcmF0aW5nIGF4aXMKdmFyIHAwPXYwLmRvdChfdGVzdEF4aXMpO3ZhciBwMT12MS5kb3QoX3Rlc3RBeGlzKTt2YXIgcDI9djIuZG90KF90ZXN0QXhpcyk7Ly8gYWN0dWFsIHRlc3QsIGJhc2ljYWxseSBzZWUgaWYgZWl0aGVyIG9mIHRoZSBtb3N0IGV4dHJlbWUgb2YgdGhlIHRyaWFuZ2xlIHBvaW50cyBpbnRlcnNlY3RzIHIKaWYoTWF0aC5tYXgoLU1hdGgubWF4KHAwLHAxLHAyKSxNYXRoLm1pbihwMCxwMSxwMikpPnIpey8vIHBvaW50cyBvZiB0aGUgcHJvamVjdGVkIHRyaWFuZ2xlIGFyZSBvdXRzaWRlIHRoZSBwcm9qZWN0ZWQgaGFsZi1sZW5ndGggb2YgdGhlIGFhYmIKLy8gdGhlIGF4aXMgaXMgc2VwZXJhdGluZyBhbmQgd2UgY2FuIGV4aXQKcmV0dXJuIGZhbHNlO319cmV0dXJuIHRydWU7fXZhciBfYm94JDI9LypAX19QVVJFX18qL25ldyBCb3gzKCk7dmFyIF92MSQ2PS8qQF9fUFVSRV9fKi9uZXcgVmVjdG9yMygpO3ZhciBfdG9GYXJ0aGVzdFBvaW50PS8qQF9fUFVSRV9fKi9uZXcgVmVjdG9yMygpO3ZhciBfdG9Qb2ludD0vKkBfX1BVUkVfXyovbmV3IFZlY3RvcjMoKTt2YXIgU3BoZXJlPS8qI19fUFVSRV9fKi9mdW5jdGlvbigpe2Z1bmN0aW9uIFNwaGVyZSgpe3ZhciBjZW50ZXI9YXJndW1lbnRzLmxlbmd0aD4wJiZhcmd1bWVudHNbMF0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzBdOm5ldyBWZWN0b3IzKCk7dmFyIHJhZGl1cz1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMV06LTE7X2NsYXNzQ2FsbENoZWNrKHRoaXMsU3BoZXJlKTt0aGlzLmNlbnRlcj1jZW50ZXI7dGhpcy5yYWRpdXM9cmFkaXVzO31fY3JlYXRlQ2xhc3MoU3BoZXJlLFt7a2V5OiJzZXQiLHZhbHVlOmZ1bmN0aW9uIHNldChjZW50ZXIscmFkaXVzKXt0aGlzLmNlbnRlci5jb3B5KGNlbnRlcik7dGhpcy5yYWRpdXM9cmFkaXVzO3JldHVybiB0aGlzO319LHtrZXk6InNldEZyb21Qb2ludHMiLHZhbHVlOmZ1bmN0aW9uIHNldEZyb21Qb2ludHMocG9pbnRzLG9wdGlvbmFsQ2VudGVyKXt2YXIgY2VudGVyPXRoaXMuY2VudGVyO2lmKG9wdGlvbmFsQ2VudGVyIT09dW5kZWZpbmVkKXtjZW50ZXIuY29weShvcHRpb25hbENlbnRlcik7fWVsc2V7X2JveCQyLnNldEZyb21Qb2ludHMocG9pbnRzKS5nZXRDZW50ZXIoY2VudGVyKTt9dmFyIG1heFJhZGl1c1NxPTA7Zm9yKHZhciBfaTE2PTAsaWw9cG9pbnRzLmxlbmd0aDtfaTE2PGlsO19pMTYrKyl7bWF4UmFkaXVzU3E9TWF0aC5tYXgobWF4UmFkaXVzU3EsY2VudGVyLmRpc3RhbmNlVG9TcXVhcmVkKHBvaW50c1tfaTE2XSkpO310aGlzLnJhZGl1cz1NYXRoLnNxcnQobWF4UmFkaXVzU3EpO3JldHVybiB0aGlzO319LHtrZXk6ImNvcHkiLHZhbHVlOmZ1bmN0aW9uIGNvcHkoc3BoZXJlKXt0aGlzLmNlbnRlci5jb3B5KHNwaGVyZS5jZW50ZXIpO3RoaXMucmFkaXVzPXNwaGVyZS5yYWRpdXM7cmV0dXJuIHRoaXM7fX0se2tleToiaXNFbXB0eSIsdmFsdWU6ZnVuY3Rpb24gaXNFbXB0eSgpe3JldHVybiB0aGlzLnJhZGl1czwwO319LHtrZXk6Im1ha2VFbXB0eSIsdmFsdWU6ZnVuY3Rpb24gbWFrZUVtcHR5KCl7dGhpcy5jZW50ZXIuc2V0KDAsMCwwKTt0aGlzLnJhZGl1cz0tMTtyZXR1cm4gdGhpczt9fSx7a2V5OiJjb250YWluc1BvaW50Iix2YWx1ZTpmdW5jdGlvbiBjb250YWluc1BvaW50KHBvaW50KXtyZXR1cm4gcG9pbnQuZGlzdGFuY2VUb1NxdWFyZWQodGhpcy5jZW50ZXIpPD10aGlzLnJhZGl1cyp0aGlzLnJhZGl1czt9fSx7a2V5OiJkaXN0YW5jZVRvUG9pbnQiLHZhbHVlOmZ1bmN0aW9uIGRpc3RhbmNlVG9Qb2ludChwb2ludCl7cmV0dXJuIHBvaW50LmRpc3RhbmNlVG8odGhpcy5jZW50ZXIpLXRoaXMucmFkaXVzO319LHtrZXk6ImludGVyc2VjdHNTcGhlcmUiLHZhbHVlOmZ1bmN0aW9uIGludGVyc2VjdHNTcGhlcmUoc3BoZXJlKXt2YXIgcmFkaXVzU3VtPXRoaXMucmFkaXVzK3NwaGVyZS5yYWRpdXM7cmV0dXJuIHNwaGVyZS5jZW50ZXIuZGlzdGFuY2VUb1NxdWFyZWQodGhpcy5jZW50ZXIpPD1yYWRpdXNTdW0qcmFkaXVzU3VtO319LHtrZXk6ImludGVyc2VjdHNCb3giLHZhbHVlOmZ1bmN0aW9uIGludGVyc2VjdHNCb3goYm94KXtyZXR1cm4gYm94LmludGVyc2VjdHNTcGhlcmUodGhpcyk7fX0se2tleToiaW50ZXJzZWN0c1BsYW5lIix2YWx1ZTpmdW5jdGlvbiBpbnRlcnNlY3RzUGxhbmUocGxhbmUpe3JldHVybiBNYXRoLmFicyhwbGFuZS5kaXN0YW5jZVRvUG9pbnQodGhpcy5jZW50ZXIpKTw9dGhpcy5yYWRpdXM7fX0se2tleToiY2xhbXBQb2ludCIsdmFsdWU6ZnVuY3Rpb24gY2xhbXBQb2ludChwb2ludCx0YXJnZXQpe3ZhciBkZWx0YUxlbmd0aFNxPXRoaXMuY2VudGVyLmRpc3RhbmNlVG9TcXVhcmVkKHBvaW50KTt0YXJnZXQuY29weShwb2ludCk7aWYoZGVsdGFMZW5ndGhTcT50aGlzLnJhZGl1cyp0aGlzLnJhZGl1cyl7dGFyZ2V0LnN1Yih0aGlzLmNlbnRlcikubm9ybWFsaXplKCk7dGFyZ2V0Lm11bHRpcGx5U2NhbGFyKHRoaXMucmFkaXVzKS5hZGQodGhpcy5jZW50ZXIpO31yZXR1cm4gdGFyZ2V0O319LHtrZXk6ImdldEJvdW5kaW5nQm94Iix2YWx1ZTpmdW5jdGlvbiBnZXRCb3VuZGluZ0JveCh0YXJnZXQpe2lmKHRoaXMuaXNFbXB0eSgpKXsvLyBFbXB0eSBzcGhlcmUgcHJvZHVjZXMgZW1wdHkgYm91bmRpbmcgYm94CnRhcmdldC5tYWtlRW1wdHkoKTtyZXR1cm4gdGFyZ2V0O310YXJnZXQuc2V0KHRoaXMuY2VudGVyLHRoaXMuY2VudGVyKTt0YXJnZXQuZXhwYW5kQnlTY2FsYXIodGhpcy5yYWRpdXMpO3JldHVybiB0YXJnZXQ7fX0se2tleToiYXBwbHlNYXRyaXg0Iix2YWx1ZTpmdW5jdGlvbiBhcHBseU1hdHJpeDQobWF0cml4KXt0aGlzLmNlbnRlci5hcHBseU1hdHJpeDQobWF0cml4KTt0aGlzLnJhZGl1cz10aGlzLnJhZGl1cyptYXRyaXguZ2V0TWF4U2NhbGVPbkF4aXMoKTtyZXR1cm4gdGhpczt9fSx7a2V5OiJ0cmFuc2xhdGUiLHZhbHVlOmZ1bmN0aW9uIHRyYW5zbGF0ZShvZmZzZXQpe3RoaXMuY2VudGVyLmFkZChvZmZzZXQpO3JldHVybiB0aGlzO319LHtrZXk6ImV4cGFuZEJ5UG9pbnQiLHZhbHVlOmZ1bmN0aW9uIGV4cGFuZEJ5UG9pbnQocG9pbnQpey8vIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2p1ai9NYXRoR2VvTGliL2Jsb2IvMjk0MGI5OWI5OWNmZTU3NWRkNDUxMDNlZjIwZjQwMTlkZWUxNWI1NC9zcmMvR2VvbWV0cnkvU3BoZXJlLmNwcCNMNjQ5LUw2NzEKX3RvUG9pbnQuc3ViVmVjdG9ycyhwb2ludCx0aGlzLmNlbnRlcik7dmFyIGxlbmd0aFNxPV90b1BvaW50Lmxlbmd0aFNxKCk7aWYobGVuZ3RoU3E+dGhpcy5yYWRpdXMqdGhpcy5yYWRpdXMpe3ZhciBsZW5ndGg9TWF0aC5zcXJ0KGxlbmd0aFNxKTt2YXIgbWlzc2luZ1JhZGl1c0hhbGY9KGxlbmd0aC10aGlzLnJhZGl1cykqMC41Oy8vIE51ZGdlIHRoaXMgc3BoZXJlIHRvd2FyZHMgdGhlIHRhcmdldCBwb2ludC4gQWRkIGhhbGYgdGhlIG1pc3NpbmcgZGlzdGFuY2UgdG8gcmFkaXVzLAovLyBhbmQgdGhlIG90aGVyIGhhbGYgdG8gcG9zaXRpb24uIFRoaXMgZ2l2ZXMgYSB0aWdodGVyIGVuY2xvc3VyZSwgaW5zdGVhZCBvZiBpZgovLyB0aGUgd2hvbGUgbWlzc2luZyBkaXN0YW5jZSB3ZXJlIGp1c3QgYWRkZWQgdG8gcmFkaXVzLgp0aGlzLmNlbnRlci5hZGQoX3RvUG9pbnQubXVsdGlwbHlTY2FsYXIobWlzc2luZ1JhZGl1c0hhbGYvbGVuZ3RoKSk7dGhpcy5yYWRpdXMrPW1pc3NpbmdSYWRpdXNIYWxmO31yZXR1cm4gdGhpczt9fSx7a2V5OiJ1bmlvbiIsdmFsdWU6ZnVuY3Rpb24gdW5pb24oc3BoZXJlKXsvLyBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9qdWovTWF0aEdlb0xpYi9ibG9iLzI5NDBiOTliOTljZmU1NzVkZDQ1MTAzZWYyMGY0MDE5ZGVlMTViNTQvc3JjL0dlb21ldHJ5L1NwaGVyZS5jcHAjTDc1OS1MNzY5Ci8vIFRvIGVuY2xvc2UgYW5vdGhlciBzcGhlcmUgaW50byB0aGlzIHNwaGVyZSwgd2Ugb25seSBuZWVkIHRvIGVuY2xvc2UgdHdvIHBvaW50czoKLy8gMSkgRW5jbG9zZSB0aGUgZmFydGhlc3QgcG9pbnQgb24gdGhlIG90aGVyIHNwaGVyZSBpbnRvIHRoaXMgc3BoZXJlLgovLyAyKSBFbmNsb3NlIHRoZSBvcHBvc2l0ZSBwb2ludCBvZiB0aGUgZmFydGhlc3QgcG9pbnQgaW50byB0aGlzIHNwaGVyZS4KaWYodGhpcy5jZW50ZXIuZXF1YWxzKHNwaGVyZS5jZW50ZXIpPT09dHJ1ZSl7X3RvRmFydGhlc3RQb2ludC5zZXQoMCwwLDEpLm11bHRpcGx5U2NhbGFyKHNwaGVyZS5yYWRpdXMpO31lbHNle190b0ZhcnRoZXN0UG9pbnQuc3ViVmVjdG9ycyhzcGhlcmUuY2VudGVyLHRoaXMuY2VudGVyKS5ub3JtYWxpemUoKS5tdWx0aXBseVNjYWxhcihzcGhlcmUucmFkaXVzKTt9dGhpcy5leHBhbmRCeVBvaW50KF92MSQ2LmNvcHkoc3BoZXJlLmNlbnRlcikuYWRkKF90b0ZhcnRoZXN0UG9pbnQpKTt0aGlzLmV4cGFuZEJ5UG9pbnQoX3YxJDYuY29weShzcGhlcmUuY2VudGVyKS5zdWIoX3RvRmFydGhlc3RQb2ludCkpO3JldHVybiB0aGlzO319LHtrZXk6ImVxdWFscyIsdmFsdWU6ZnVuY3Rpb24gZXF1YWxzKHNwaGVyZSl7cmV0dXJuIHNwaGVyZS5jZW50ZXIuZXF1YWxzKHRoaXMuY2VudGVyKSYmc3BoZXJlLnJhZGl1cz09PXRoaXMucmFkaXVzO319LHtrZXk6ImNsb25lIix2YWx1ZTpmdW5jdGlvbiBjbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcigpLmNvcHkodGhpcyk7fX1dKTtyZXR1cm4gU3BoZXJlO30oKTt2YXIgX3ZlY3RvciRhPS8qQF9fUFVSRV9fKi9uZXcgVmVjdG9yMygpO3ZhciBfc2VnQ2VudGVyPS8qQF9fUFVSRV9fKi9uZXcgVmVjdG9yMygpO3ZhciBfc2VnRGlyPS8qQF9fUFVSRV9fKi9uZXcgVmVjdG9yMygpO3ZhciBfZGlmZj0vKkBfX1BVUkVfXyovbmV3IFZlY3RvcjMoKTt2YXIgX2VkZ2UxPS8qQF9fUFVSRV9fKi9uZXcgVmVjdG9yMygpO3ZhciBfZWRnZTI9LypAX19QVVJFX18qL25ldyBWZWN0b3IzKCk7dmFyIF9ub3JtYWwkMT0vKkBfX1BVUkVfXyovbmV3IFZlY3RvcjMoKTt2YXIgUmF5PS8qI19fUFVSRV9fKi9mdW5jdGlvbigpe2Z1bmN0aW9uIFJheSgpe3ZhciBvcmlnaW49YXJndW1lbnRzLmxlbmd0aD4wJiZhcmd1bWVudHNbMF0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzBdOm5ldyBWZWN0b3IzKCk7dmFyIGRpcmVjdGlvbj1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMV06bmV3IFZlY3RvcjMoMCwwLC0xKTtfY2xhc3NDYWxsQ2hlY2sodGhpcyxSYXkpO3RoaXMub3JpZ2luPW9yaWdpbjt0aGlzLmRpcmVjdGlvbj1kaXJlY3Rpb247fV9jcmVhdGVDbGFzcyhSYXksW3trZXk6InNldCIsdmFsdWU6ZnVuY3Rpb24gc2V0KG9yaWdpbixkaXJlY3Rpb24pe3RoaXMub3JpZ2luLmNvcHkob3JpZ2luKTt0aGlzLmRpcmVjdGlvbi5jb3B5KGRpcmVjdGlvbik7cmV0dXJuIHRoaXM7fX0se2tleToiY29weSIsdmFsdWU6ZnVuY3Rpb24gY29weShyYXkpe3RoaXMub3JpZ2luLmNvcHkocmF5Lm9yaWdpbik7dGhpcy5kaXJlY3Rpb24uY29weShyYXkuZGlyZWN0aW9uKTtyZXR1cm4gdGhpczt9fSx7a2V5OiJhdCIsdmFsdWU6ZnVuY3Rpb24gYXQodCx0YXJnZXQpe3JldHVybiB0YXJnZXQuY29weSh0aGlzLmRpcmVjdGlvbikubXVsdGlwbHlTY2FsYXIodCkuYWRkKHRoaXMub3JpZ2luKTt9fSx7a2V5OiJsb29rQXQiLHZhbHVlOmZ1bmN0aW9uIGxvb2tBdCh2KXt0aGlzLmRpcmVjdGlvbi5jb3B5KHYpLnN1Yih0aGlzLm9yaWdpbikubm9ybWFsaXplKCk7cmV0dXJuIHRoaXM7fX0se2tleToicmVjYXN0Iix2YWx1ZTpmdW5jdGlvbiByZWNhc3QodCl7dGhpcy5vcmlnaW4uY29weSh0aGlzLmF0KHQsX3ZlY3RvciRhKSk7cmV0dXJuIHRoaXM7fX0se2tleToiY2xvc2VzdFBvaW50VG9Qb2ludCIsdmFsdWU6ZnVuY3Rpb24gY2xvc2VzdFBvaW50VG9Qb2ludChwb2ludCx0YXJnZXQpe3RhcmdldC5zdWJWZWN0b3JzKHBvaW50LHRoaXMub3JpZ2luKTt2YXIgZGlyZWN0aW9uRGlzdGFuY2U9dGFyZ2V0LmRvdCh0aGlzLmRpcmVjdGlvbik7aWYoZGlyZWN0aW9uRGlzdGFuY2U8MCl7cmV0dXJuIHRhcmdldC5jb3B5KHRoaXMub3JpZ2luKTt9cmV0dXJuIHRhcmdldC5jb3B5KHRoaXMuZGlyZWN0aW9uKS5tdWx0aXBseVNjYWxhcihkaXJlY3Rpb25EaXN0YW5jZSkuYWRkKHRoaXMub3JpZ2luKTt9fSx7a2V5OiJkaXN0YW5jZVRvUG9pbnQiLHZhbHVlOmZ1bmN0aW9uIGRpc3RhbmNlVG9Qb2ludChwb2ludCl7cmV0dXJuIE1hdGguc3FydCh0aGlzLmRpc3RhbmNlU3FUb1BvaW50KHBvaW50KSk7fX0se2tleToiZGlzdGFuY2VTcVRvUG9pbnQiLHZhbHVlOmZ1bmN0aW9uIGRpc3RhbmNlU3FUb1BvaW50KHBvaW50KXt2YXIgZGlyZWN0aW9uRGlzdGFuY2U9X3ZlY3RvciRhLnN1YlZlY3RvcnMocG9pbnQsdGhpcy5vcmlnaW4pLmRvdCh0aGlzLmRpcmVjdGlvbik7Ly8gcG9pbnQgYmVoaW5kIHRoZSByYXkKaWYoZGlyZWN0aW9uRGlzdGFuY2U8MCl7cmV0dXJuIHRoaXMub3JpZ2luLmRpc3RhbmNlVG9TcXVhcmVkKHBvaW50KTt9X3ZlY3RvciRhLmNvcHkodGhpcy5kaXJlY3Rpb24pLm11bHRpcGx5U2NhbGFyKGRpcmVjdGlvbkRpc3RhbmNlKS5hZGQodGhpcy5vcmlnaW4pO3JldHVybiBfdmVjdG9yJGEuZGlzdGFuY2VUb1NxdWFyZWQocG9pbnQpO319LHtrZXk6ImRpc3RhbmNlU3FUb1NlZ21lbnQiLHZhbHVlOmZ1bmN0aW9uIGRpc3RhbmNlU3FUb1NlZ21lbnQodjAsdjEsb3B0aW9uYWxQb2ludE9uUmF5LG9wdGlvbmFsUG9pbnRPblNlZ21lbnQpey8vIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL3Btam9uaWFrL0dlb21ldHJpY1Rvb2xzL2Jsb2IvbWFzdGVyL0dURW5naW5lL0luY2x1ZGUvTWF0aGVtYXRpY3MvR3RlRGlzdFJheVNlZ21lbnQuaAovLyBJdCByZXR1cm5zIHRoZSBtaW4gZGlzdGFuY2UgYmV0d2VlbiB0aGUgcmF5IGFuZCB0aGUgc2VnbWVudAovLyBkZWZpbmVkIGJ5IHYwIGFuZCB2MQovLyBJdCBjYW4gYWxzbyBzZXQgdHdvIG9wdGlvbmFsIHRhcmdldHMgOgovLyAtIFRoZSBjbG9zZXN0IHBvaW50IG9uIHRoZSByYXkKLy8gLSBUaGUgY2xvc2VzdCBwb2ludCBvbiB0aGUgc2VnbWVudApfc2VnQ2VudGVyLmNvcHkodjApLmFkZCh2MSkubXVsdGlwbHlTY2FsYXIoMC41KTtfc2VnRGlyLmNvcHkodjEpLnN1Yih2MCkubm9ybWFsaXplKCk7X2RpZmYuY29weSh0aGlzLm9yaWdpbikuc3ViKF9zZWdDZW50ZXIpO3ZhciBzZWdFeHRlbnQ9djAuZGlzdGFuY2VUbyh2MSkqMC41O3ZhciBhMDE9LXRoaXMuZGlyZWN0aW9uLmRvdChfc2VnRGlyKTt2YXIgYjA9X2RpZmYuZG90KHRoaXMuZGlyZWN0aW9uKTt2YXIgYjE9LV9kaWZmLmRvdChfc2VnRGlyKTt2YXIgYz1fZGlmZi5sZW5ndGhTcSgpO3ZhciBkZXQ9TWF0aC5hYnMoMS1hMDEqYTAxKTt2YXIgczAsczEsc3FyRGlzdCxleHREZXQ7aWYoZGV0PjApey8vIFRoZSByYXkgYW5kIHNlZ21lbnQgYXJlIG5vdCBwYXJhbGxlbC4KczA9YTAxKmIxLWIwO3MxPWEwMSpiMC1iMTtleHREZXQ9c2VnRXh0ZW50KmRldDtpZihzMD49MCl7aWYoczE+PS1leHREZXQpe2lmKHMxPD1leHREZXQpey8vIHJlZ2lvbiAwCi8vIE1pbmltdW0gYXQgaW50ZXJpb3IgcG9pbnRzIG9mIHJheSBhbmQgc2VnbWVudC4KdmFyIGludkRldD0xL2RldDtzMCo9aW52RGV0O3MxKj1pbnZEZXQ7c3FyRGlzdD1zMCooczArYTAxKnMxKzIqYjApK3MxKihhMDEqczArczErMipiMSkrYzt9ZWxzZXsvLyByZWdpb24gMQpzMT1zZWdFeHRlbnQ7czA9TWF0aC5tYXgoMCwtKGEwMSpzMStiMCkpO3NxckRpc3Q9LXMwKnMwK3MxKihzMSsyKmIxKStjO319ZWxzZXsvLyByZWdpb24gNQpzMT0tc2VnRXh0ZW50O3MwPU1hdGgubWF4KDAsLShhMDEqczErYjApKTtzcXJEaXN0PS1zMCpzMCtzMSooczErMipiMSkrYzt9fWVsc2V7aWYoczE8PS1leHREZXQpey8vIHJlZ2lvbiA0CnMwPU1hdGgubWF4KDAsLSgtYTAxKnNlZ0V4dGVudCtiMCkpO3MxPXMwPjA/LXNlZ0V4dGVudDpNYXRoLm1pbihNYXRoLm1heCgtc2VnRXh0ZW50LC1iMSksc2VnRXh0ZW50KTtzcXJEaXN0PS1zMCpzMCtzMSooczErMipiMSkrYzt9ZWxzZSBpZihzMTw9ZXh0RGV0KXsvLyByZWdpb24gMwpzMD0wO3MxPU1hdGgubWluKE1hdGgubWF4KC1zZWdFeHRlbnQsLWIxKSxzZWdFeHRlbnQpO3NxckRpc3Q9czEqKHMxKzIqYjEpK2M7fWVsc2V7Ly8gcmVnaW9uIDIKczA9TWF0aC5tYXgoMCwtKGEwMSpzZWdFeHRlbnQrYjApKTtzMT1zMD4wP3NlZ0V4dGVudDpNYXRoLm1pbihNYXRoLm1heCgtc2VnRXh0ZW50LC1iMSksc2VnRXh0ZW50KTtzcXJEaXN0PS1zMCpzMCtzMSooczErMipiMSkrYzt9fX1lbHNley8vIFJheSBhbmQgc2VnbWVudCBhcmUgcGFyYWxsZWwuCnMxPWEwMT4wPy1zZWdFeHRlbnQ6c2VnRXh0ZW50O3MwPU1hdGgubWF4KDAsLShhMDEqczErYjApKTtzcXJEaXN0PS1zMCpzMCtzMSooczErMipiMSkrYzt9aWYob3B0aW9uYWxQb2ludE9uUmF5KXtvcHRpb25hbFBvaW50T25SYXkuY29weSh0aGlzLmRpcmVjdGlvbikubXVsdGlwbHlTY2FsYXIoczApLmFkZCh0aGlzLm9yaWdpbik7fWlmKG9wdGlvbmFsUG9pbnRPblNlZ21lbnQpe29wdGlvbmFsUG9pbnRPblNlZ21lbnQuY29weShfc2VnRGlyKS5tdWx0aXBseVNjYWxhcihzMSkuYWRkKF9zZWdDZW50ZXIpO31yZXR1cm4gc3FyRGlzdDt9fSx7a2V5OiJpbnRlcnNlY3RTcGhlcmUiLHZhbHVlOmZ1bmN0aW9uIGludGVyc2VjdFNwaGVyZShzcGhlcmUsdGFyZ2V0KXtfdmVjdG9yJGEuc3ViVmVjdG9ycyhzcGhlcmUuY2VudGVyLHRoaXMub3JpZ2luKTt2YXIgdGNhPV92ZWN0b3IkYS5kb3QodGhpcy5kaXJlY3Rpb24pO3ZhciBkMj1fdmVjdG9yJGEuZG90KF92ZWN0b3IkYSktdGNhKnRjYTt2YXIgcmFkaXVzMj1zcGhlcmUucmFkaXVzKnNwaGVyZS5yYWRpdXM7aWYoZDI+cmFkaXVzMilyZXR1cm4gbnVsbDt2YXIgdGhjPU1hdGguc3FydChyYWRpdXMyLWQyKTsvLyB0MCA9IGZpcnN0IGludGVyc2VjdCBwb2ludCAtIGVudHJhbmNlIG9uIGZyb250IG9mIHNwaGVyZQp2YXIgdDA9dGNhLXRoYzsvLyB0MSA9IHNlY29uZCBpbnRlcnNlY3QgcG9pbnQgLSBleGl0IHBvaW50IG9uIGJhY2sgb2Ygc3BoZXJlCnZhciB0MT10Y2ErdGhjOy8vIHRlc3QgdG8gc2VlIGlmIGJvdGggdDAgYW5kIHQxIGFyZSBiZWhpbmQgdGhlIHJheSAtIGlmIHNvLCByZXR1cm4gbnVsbAppZih0MDwwJiZ0MTwwKXJldHVybiBudWxsOy8vIHRlc3QgdG8gc2VlIGlmIHQwIGlzIGJlaGluZCB0aGUgcmF5OgovLyBpZiBpdCBpcywgdGhlIHJheSBpcyBpbnNpZGUgdGhlIHNwaGVyZSwgc28gcmV0dXJuIHRoZSBzZWNvbmQgZXhpdCBwb2ludCBzY2FsZWQgYnkgdDEsCi8vIGluIG9yZGVyIHRvIGFsd2F5cyByZXR1cm4gYW4gaW50ZXJzZWN0IHBvaW50IHRoYXQgaXMgaW4gZnJvbnQgb2YgdGhlIHJheS4KaWYodDA8MClyZXR1cm4gdGhpcy5hdCh0MSx0YXJnZXQpOy8vIGVsc2UgdDAgaXMgaW4gZnJvbnQgb2YgdGhlIHJheSwgc28gcmV0dXJuIHRoZSBmaXJzdCBjb2xsaXNpb24gcG9pbnQgc2NhbGVkIGJ5IHQwCnJldHVybiB0aGlzLmF0KHQwLHRhcmdldCk7fX0se2tleToiaW50ZXJzZWN0c1NwaGVyZSIsdmFsdWU6ZnVuY3Rpb24gaW50ZXJzZWN0c1NwaGVyZShzcGhlcmUpe3JldHVybiB0aGlzLmRpc3RhbmNlU3FUb1BvaW50KHNwaGVyZS5jZW50ZXIpPD1zcGhlcmUucmFkaXVzKnNwaGVyZS5yYWRpdXM7fX0se2tleToiZGlzdGFuY2VUb1BsYW5lIix2YWx1ZTpmdW5jdGlvbiBkaXN0YW5jZVRvUGxhbmUocGxhbmUpe3ZhciBkZW5vbWluYXRvcj1wbGFuZS5ub3JtYWwuZG90KHRoaXMuZGlyZWN0aW9uKTtpZihkZW5vbWluYXRvcj09PTApey8vIGxpbmUgaXMgY29wbGFuYXIsIHJldHVybiBvcmlnaW4KaWYocGxhbmUuZGlzdGFuY2VUb1BvaW50KHRoaXMub3JpZ2luKT09PTApe3JldHVybiAwO30vLyBOdWxsIGlzIHByZWZlcmFibGUgdG8gdW5kZWZpbmVkIHNpbmNlIHVuZGVmaW5lZCBtZWFucy4uLi4gaXQgaXMgdW5kZWZpbmVkCnJldHVybiBudWxsO312YXIgdD0tKHRoaXMub3JpZ2luLmRvdChwbGFuZS5ub3JtYWwpK3BsYW5lLmNvbnN0YW50KS9kZW5vbWluYXRvcjsvLyBSZXR1cm4gaWYgdGhlIHJheSBuZXZlciBpbnRlcnNlY3RzIHRoZSBwbGFuZQpyZXR1cm4gdD49MD90Om51bGw7fX0se2tleToiaW50ZXJzZWN0UGxhbmUiLHZhbHVlOmZ1bmN0aW9uIGludGVyc2VjdFBsYW5lKHBsYW5lLHRhcmdldCl7dmFyIHQ9dGhpcy5kaXN0YW5jZVRvUGxhbmUocGxhbmUpO2lmKHQ9PT1udWxsKXtyZXR1cm4gbnVsbDt9cmV0dXJuIHRoaXMuYXQodCx0YXJnZXQpO319LHtrZXk6ImludGVyc2VjdHNQbGFuZSIsdmFsdWU6ZnVuY3Rpb24gaW50ZXJzZWN0c1BsYW5lKHBsYW5lKXsvLyBjaGVjayBpZiB0aGUgcmF5IGxpZXMgb24gdGhlIHBsYW5lIGZpcnN0CnZhciBkaXN0VG9Qb2ludD1wbGFuZS5kaXN0YW5jZVRvUG9pbnQodGhpcy5vcmlnaW4pO2lmKGRpc3RUb1BvaW50PT09MCl7cmV0dXJuIHRydWU7fXZhciBkZW5vbWluYXRvcj1wbGFuZS5ub3JtYWwuZG90KHRoaXMuZGlyZWN0aW9uKTtpZihkZW5vbWluYXRvcipkaXN0VG9Qb2ludDwwKXtyZXR1cm4gdHJ1ZTt9Ly8gcmF5IG9yaWdpbiBpcyBiZWhpbmQgdGhlIHBsYW5lIChhbmQgaXMgcG9pbnRpbmcgYmVoaW5kIGl0KQpyZXR1cm4gZmFsc2U7fX0se2tleToiaW50ZXJzZWN0Qm94Iix2YWx1ZTpmdW5jdGlvbiBpbnRlcnNlY3RCb3goYm94LHRhcmdldCl7dmFyIHRtaW4sdG1heCx0eW1pbix0eW1heCx0em1pbix0em1heDt2YXIgaW52ZGlyeD0xL3RoaXMuZGlyZWN0aW9uLngsaW52ZGlyeT0xL3RoaXMuZGlyZWN0aW9uLnksaW52ZGlyej0xL3RoaXMuZGlyZWN0aW9uLno7dmFyIG9yaWdpbj10aGlzLm9yaWdpbjtpZihpbnZkaXJ4Pj0wKXt0bWluPShib3gubWluLngtb3JpZ2luLngpKmludmRpcng7dG1heD0oYm94Lm1heC54LW9yaWdpbi54KSppbnZkaXJ4O31lbHNle3RtaW49KGJveC5tYXgueC1vcmlnaW4ueCkqaW52ZGlyeDt0bWF4PShib3gubWluLngtb3JpZ2luLngpKmludmRpcng7fWlmKGludmRpcnk+PTApe3R5bWluPShib3gubWluLnktb3JpZ2luLnkpKmludmRpcnk7dHltYXg9KGJveC5tYXgueS1vcmlnaW4ueSkqaW52ZGlyeTt9ZWxzZXt0eW1pbj0oYm94Lm1heC55LW9yaWdpbi55KSppbnZkaXJ5O3R5bWF4PShib3gubWluLnktb3JpZ2luLnkpKmludmRpcnk7fWlmKHRtaW4+dHltYXh8fHR5bWluPnRtYXgpcmV0dXJuIG51bGw7Ly8gVGhlc2UgbGluZXMgYWxzbyBoYW5kbGUgdGhlIGNhc2Ugd2hlcmUgdG1pbiBvciB0bWF4IGlzIE5hTgovLyAocmVzdWx0IG9mIDAgKiBJbmZpbml0eSkuIHggIT09IHggcmV0dXJucyB0cnVlIGlmIHggaXMgTmFOCmlmKHR5bWluPnRtaW58fHRtaW4hPT10bWluKXRtaW49dHltaW47aWYodHltYXg8dG1heHx8dG1heCE9PXRtYXgpdG1heD10eW1heDtpZihpbnZkaXJ6Pj0wKXt0em1pbj0oYm94Lm1pbi56LW9yaWdpbi56KSppbnZkaXJ6O3R6bWF4PShib3gubWF4Lnotb3JpZ2luLnopKmludmRpcno7fWVsc2V7dHptaW49KGJveC5tYXguei1vcmlnaW4ueikqaW52ZGlyejt0em1heD0oYm94Lm1pbi56LW9yaWdpbi56KSppbnZkaXJ6O31pZih0bWluPnR6bWF4fHx0em1pbj50bWF4KXJldHVybiBudWxsO2lmKHR6bWluPnRtaW58fHRtaW4hPT10bWluKXRtaW49dHptaW47aWYodHptYXg8dG1heHx8dG1heCE9PXRtYXgpdG1heD10em1heDsvL3JldHVybiBwb2ludCBjbG9zZXN0IHRvIHRoZSByYXkgKHBvc2l0aXZlIHNpZGUpCmlmKHRtYXg8MClyZXR1cm4gbnVsbDtyZXR1cm4gdGhpcy5hdCh0bWluPj0wP3RtaW46dG1heCx0YXJnZXQpO319LHtrZXk6ImludGVyc2VjdHNCb3giLHZhbHVlOmZ1bmN0aW9uIGludGVyc2VjdHNCb3goYm94KXtyZXR1cm4gdGhpcy5pbnRlcnNlY3RCb3goYm94LF92ZWN0b3IkYSkhPT1udWxsO319LHtrZXk6ImludGVyc2VjdFRyaWFuZ2xlIix2YWx1ZTpmdW5jdGlvbiBpbnRlcnNlY3RUcmlhbmdsZShhLGIsYyxiYWNrZmFjZUN1bGxpbmcsdGFyZ2V0KXsvLyBDb21wdXRlIHRoZSBvZmZzZXQgb3JpZ2luLCBlZGdlcywgYW5kIG5vcm1hbC4KLy8gZnJvbSBodHRwczovL2dpdGh1Yi5jb20vcG1qb25pYWsvR2VvbWV0cmljVG9vbHMvYmxvYi9tYXN0ZXIvR1RFbmdpbmUvSW5jbHVkZS9NYXRoZW1hdGljcy9HdGVJbnRyUmF5M1RyaWFuZ2xlMy5oCl9lZGdlMS5zdWJWZWN0b3JzKGIsYSk7X2VkZ2UyLnN1YlZlY3RvcnMoYyxhKTtfbm9ybWFsJDEuY3Jvc3NWZWN0b3JzKF9lZGdlMSxfZWRnZTIpOy8vIFNvbHZlIFEgKyB0KkQgPSBiMSpFMSArIGIyKkUyIChRID0ga0RpZmYsIEQgPSByYXkgZGlyZWN0aW9uLAovLyBFMSA9IGtFZGdlMSwgRTIgPSBrRWRnZTIsIE4gPSBDcm9zcyhFMSxFMikpIGJ5Ci8vICAgfERvdChELE4pfCpiMSA9IHNpZ24oRG90KEQsTikpKkRvdChELENyb3NzKFEsRTIpKQovLyAgIHxEb3QoRCxOKXwqYjIgPSBzaWduKERvdChELE4pKSpEb3QoRCxDcm9zcyhFMSxRKSkKLy8gICB8RG90KEQsTil8KnQgPSAtc2lnbihEb3QoRCxOKSkqRG90KFEsTikKdmFyIERkTj10aGlzLmRpcmVjdGlvbi5kb3QoX25vcm1hbCQxKTt2YXIgc2lnbjtpZihEZE4+MCl7aWYoYmFja2ZhY2VDdWxsaW5nKXJldHVybiBudWxsO3NpZ249MTt9ZWxzZSBpZihEZE48MCl7c2lnbj0tMTtEZE49LURkTjt9ZWxzZXtyZXR1cm4gbnVsbDt9X2RpZmYuc3ViVmVjdG9ycyh0aGlzLm9yaWdpbixhKTt2YXIgRGRReEUyPXNpZ24qdGhpcy5kaXJlY3Rpb24uZG90KF9lZGdlMi5jcm9zc1ZlY3RvcnMoX2RpZmYsX2VkZ2UyKSk7Ly8gYjEgPCAwLCBubyBpbnRlcnNlY3Rpb24KaWYoRGRReEUyPDApe3JldHVybiBudWxsO312YXIgRGRFMXhRPXNpZ24qdGhpcy5kaXJlY3Rpb24uZG90KF9lZGdlMS5jcm9zcyhfZGlmZikpOy8vIGIyIDwgMCwgbm8gaW50ZXJzZWN0aW9uCmlmKERkRTF4UTwwKXtyZXR1cm4gbnVsbDt9Ly8gYjErYjIgPiAxLCBubyBpbnRlcnNlY3Rpb24KaWYoRGRReEUyK0RkRTF4UT5EZE4pe3JldHVybiBudWxsO30vLyBMaW5lIGludGVyc2VjdHMgdHJpYW5nbGUsIGNoZWNrIGlmIHJheSBkb2VzLgp2YXIgUWROPS1zaWduKl9kaWZmLmRvdChfbm9ybWFsJDEpOy8vIHQgPCAwLCBubyBpbnRlcnNlY3Rpb24KaWYoUWROPDApe3JldHVybiBudWxsO30vLyBSYXkgaW50ZXJzZWN0cyB0cmlhbmdsZS4KcmV0dXJuIHRoaXMuYXQoUWROL0RkTix0YXJnZXQpO319LHtrZXk6ImFwcGx5TWF0cml4NCIsdmFsdWU6ZnVuY3Rpb24gYXBwbHlNYXRyaXg0KG1hdHJpeDQpe3RoaXMub3JpZ2luLmFwcGx5TWF0cml4NChtYXRyaXg0KTt0aGlzLmRpcmVjdGlvbi50cmFuc2Zvcm1EaXJlY3Rpb24obWF0cml4NCk7cmV0dXJuIHRoaXM7fX0se2tleToiZXF1YWxzIix2YWx1ZTpmdW5jdGlvbiBlcXVhbHMocmF5KXtyZXR1cm4gcmF5Lm9yaWdpbi5lcXVhbHModGhpcy5vcmlnaW4pJiZyYXkuZGlyZWN0aW9uLmVxdWFscyh0aGlzLmRpcmVjdGlvbik7fX0se2tleToiY2xvbmUiLHZhbHVlOmZ1bmN0aW9uIGNsb25lKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKCkuY29weSh0aGlzKTt9fV0pO3JldHVybiBSYXk7fSgpO3ZhciBNYXRyaXg0PS8qI19fUFVSRV9fKi9mdW5jdGlvbigpe2Z1bmN0aW9uIE1hdHJpeDQoKXtfY2xhc3NDYWxsQ2hlY2sodGhpcyxNYXRyaXg0KTt0aGlzLmVsZW1lbnRzPVsxLDAsMCwwLDAsMSwwLDAsMCwwLDEsMCwwLDAsMCwxXTtpZihhcmd1bWVudHMubGVuZ3RoPjApe2NvbnNvbGUuZXJyb3IoJ1RIUkVFLk1hdHJpeDQ6IHRoZSBjb25zdHJ1Y3RvciBubyBsb25nZXIgcmVhZHMgYXJndW1lbnRzLiB1c2UgLnNldCgpIGluc3RlYWQuJyk7fX1fY3JlYXRlQ2xhc3MoTWF0cml4NCxbe2tleToic2V0Iix2YWx1ZTpmdW5jdGlvbiBzZXQobjExLG4xMixuMTMsbjE0LG4yMSxuMjIsbjIzLG4yNCxuMzEsbjMyLG4zMyxuMzQsbjQxLG40MixuNDMsbjQ0KXt2YXIgdGU9dGhpcy5lbGVtZW50czt0ZVswXT1uMTE7dGVbNF09bjEyO3RlWzhdPW4xMzt0ZVsxMl09bjE0O3RlWzFdPW4yMTt0ZVs1XT1uMjI7dGVbOV09bjIzO3RlWzEzXT1uMjQ7dGVbMl09bjMxO3RlWzZdPW4zMjt0ZVsxMF09bjMzO3RlWzE0XT1uMzQ7dGVbM109bjQxO3RlWzddPW40Mjt0ZVsxMV09bjQzO3RlWzE1XT1uNDQ7cmV0dXJuIHRoaXM7fX0se2tleToiaWRlbnRpdHkiLHZhbHVlOmZ1bmN0aW9uIGlkZW50aXR5KCl7dGhpcy5zZXQoMSwwLDAsMCwwLDEsMCwwLDAsMCwxLDAsMCwwLDAsMSk7cmV0dXJuIHRoaXM7fX0se2tleToiY2xvbmUiLHZhbHVlOmZ1bmN0aW9uIGNsb25lKCl7cmV0dXJuIG5ldyBNYXRyaXg0KCkuZnJvbUFycmF5KHRoaXMuZWxlbWVudHMpO319LHtrZXk6ImNvcHkiLHZhbHVlOmZ1bmN0aW9uIGNvcHkobSl7dmFyIHRlPXRoaXMuZWxlbWVudHM7dmFyIG1lPW0uZWxlbWVudHM7dGVbMF09bWVbMF07dGVbMV09bWVbMV07dGVbMl09bWVbMl07dGVbM109bWVbM107dGVbNF09bWVbNF07dGVbNV09bWVbNV07dGVbNl09bWVbNl07dGVbN109bWVbN107dGVbOF09bWVbOF07dGVbOV09bWVbOV07dGVbMTBdPW1lWzEwXTt0ZVsxMV09bWVbMTFdO3RlWzEyXT1tZVsxMl07dGVbMTNdPW1lWzEzXTt0ZVsxNF09bWVbMTRdO3RlWzE1XT1tZVsxNV07cmV0dXJuIHRoaXM7fX0se2tleToiY29weVBvc2l0aW9uIix2YWx1ZTpmdW5jdGlvbiBjb3B5UG9zaXRpb24obSl7dmFyIHRlPXRoaXMuZWxlbWVudHMsbWU9bS5lbGVtZW50czt0ZVsxMl09bWVbMTJdO3RlWzEzXT1tZVsxM107dGVbMTRdPW1lWzE0XTtyZXR1cm4gdGhpczt9fSx7a2V5OiJzZXRGcm9tTWF0cml4MyIsdmFsdWU6ZnVuY3Rpb24gc2V0RnJvbU1hdHJpeDMobSl7dmFyIG1lPW0uZWxlbWVudHM7dGhpcy5zZXQobWVbMF0sbWVbM10sbWVbNl0sMCxtZVsxXSxtZVs0XSxtZVs3XSwwLG1lWzJdLG1lWzVdLG1lWzhdLDAsMCwwLDAsMSk7cmV0dXJuIHRoaXM7fX0se2tleToiZXh0cmFjdEJhc2lzIix2YWx1ZTpmdW5jdGlvbiBleHRyYWN0QmFzaXMoeEF4aXMseUF4aXMsekF4aXMpe3hBeGlzLnNldEZyb21NYXRyaXhDb2x1bW4odGhpcywwKTt5QXhpcy5zZXRGcm9tTWF0cml4Q29sdW1uKHRoaXMsMSk7ekF4aXMuc2V0RnJvbU1hdHJpeENvbHVtbih0aGlzLDIpO3JldHVybiB0aGlzO319LHtrZXk6Im1ha2VCYXNpcyIsdmFsdWU6ZnVuY3Rpb24gbWFrZUJhc2lzKHhBeGlzLHlBeGlzLHpBeGlzKXt0aGlzLnNldCh4QXhpcy54LHlBeGlzLngsekF4aXMueCwwLHhBeGlzLnkseUF4aXMueSx6QXhpcy55LDAseEF4aXMueix5QXhpcy56LHpBeGlzLnosMCwwLDAsMCwxKTtyZXR1cm4gdGhpczt9fSx7a2V5OiJleHRyYWN0Um90YXRpb24iLHZhbHVlOmZ1bmN0aW9uIGV4dHJhY3RSb3RhdGlvbihtKXsvLyB0aGlzIG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0IHJlZmxlY3Rpb24gbWF0cmljZXMKdmFyIHRlPXRoaXMuZWxlbWVudHM7dmFyIG1lPW0uZWxlbWVudHM7dmFyIHNjYWxlWD0xL192MSQ1LnNldEZyb21NYXRyaXhDb2x1bW4obSwwKS5sZW5ndGgoKTt2YXIgc2NhbGVZPTEvX3YxJDUuc2V0RnJvbU1hdHJpeENvbHVtbihtLDEpLmxlbmd0aCgpO3ZhciBzY2FsZVo9MS9fdjEkNS5zZXRGcm9tTWF0cml4Q29sdW1uKG0sMikubGVuZ3RoKCk7dGVbMF09bWVbMF0qc2NhbGVYO3RlWzFdPW1lWzFdKnNjYWxlWDt0ZVsyXT1tZVsyXSpzY2FsZVg7dGVbM109MDt0ZVs0XT1tZVs0XSpzY2FsZVk7dGVbNV09bWVbNV0qc2NhbGVZO3RlWzZdPW1lWzZdKnNjYWxlWTt0ZVs3XT0wO3RlWzhdPW1lWzhdKnNjYWxlWjt0ZVs5XT1tZVs5XSpzY2FsZVo7dGVbMTBdPW1lWzEwXSpzY2FsZVo7dGVbMTFdPTA7dGVbMTJdPTA7dGVbMTNdPTA7dGVbMTRdPTA7dGVbMTVdPTE7cmV0dXJuIHRoaXM7fX0se2tleToibWFrZVJvdGF0aW9uRnJvbUV1bGVyIix2YWx1ZTpmdW5jdGlvbiBtYWtlUm90YXRpb25Gcm9tRXVsZXIoZXVsZXIpe2lmKCEoZXVsZXImJmV1bGVyLmlzRXVsZXIpKXtjb25zb2xlLmVycm9yKCdUSFJFRS5NYXRyaXg0OiAubWFrZVJvdGF0aW9uRnJvbUV1bGVyKCkgbm93IGV4cGVjdHMgYSBFdWxlciByb3RhdGlvbiByYXRoZXIgdGhhbiBhIFZlY3RvcjMgYW5kIG9yZGVyLicpO312YXIgdGU9dGhpcy5lbGVtZW50czt2YXIgeD1ldWxlci54LHk9ZXVsZXIueSx6PWV1bGVyLno7dmFyIGE9TWF0aC5jb3MoeCksYj1NYXRoLnNpbih4KTt2YXIgYz1NYXRoLmNvcyh5KSxkPU1hdGguc2luKHkpO3ZhciBlPU1hdGguY29zKHopLGY9TWF0aC5zaW4oeik7aWYoZXVsZXIub3JkZXI9PT0nWFlaJyl7dmFyIGFlPWEqZSxhZj1hKmYsYmU9YiplLGJmPWIqZjt0ZVswXT1jKmU7dGVbNF09LWMqZjt0ZVs4XT1kO3RlWzFdPWFmK2JlKmQ7dGVbNV09YWUtYmYqZDt0ZVs5XT0tYipjO3RlWzJdPWJmLWFlKmQ7dGVbNl09YmUrYWYqZDt0ZVsxMF09YSpjO31lbHNlIGlmKGV1bGVyLm9yZGVyPT09J1lYWicpe3ZhciBjZT1jKmUsY2Y9YypmLGRlPWQqZSxkZj1kKmY7dGVbMF09Y2UrZGYqYjt0ZVs0XT1kZSpiLWNmO3RlWzhdPWEqZDt0ZVsxXT1hKmY7dGVbNV09YSplO3RlWzldPS1iO3RlWzJdPWNmKmItZGU7dGVbNl09ZGYrY2UqYjt0ZVsxMF09YSpjO31lbHNlIGlmKGV1bGVyLm9yZGVyPT09J1pYWScpe3ZhciBfY2U9YyplLF9jZj1jKmYsX2RlPWQqZSxfZGY9ZCpmO3RlWzBdPV9jZS1fZGYqYjt0ZVs0XT0tYSpmO3RlWzhdPV9kZStfY2YqYjt0ZVsxXT1fY2YrX2RlKmI7dGVbNV09YSplO3RlWzldPV9kZi1fY2UqYjt0ZVsyXT0tYSpkO3RlWzZdPWI7dGVbMTBdPWEqYzt9ZWxzZSBpZihldWxlci5vcmRlcj09PSdaWVgnKXt2YXIgX2FlPWEqZSxfYWY9YSpmLF9iZT1iKmUsX2JmPWIqZjt0ZVswXT1jKmU7dGVbNF09X2JlKmQtX2FmO3RlWzhdPV9hZSpkK19iZjt0ZVsxXT1jKmY7dGVbNV09X2JmKmQrX2FlO3RlWzldPV9hZipkLV9iZTt0ZVsyXT0tZDt0ZVs2XT1iKmM7dGVbMTBdPWEqYzt9ZWxzZSBpZihldWxlci5vcmRlcj09PSdZWlgnKXt2YXIgYWM9YSpjLGFkPWEqZCxiYz1iKmMsYmQ9YipkO3RlWzBdPWMqZTt0ZVs0XT1iZC1hYypmO3RlWzhdPWJjKmYrYWQ7dGVbMV09Zjt0ZVs1XT1hKmU7dGVbOV09LWIqZTt0ZVsyXT0tZCplO3RlWzZdPWFkKmYrYmM7dGVbMTBdPWFjLWJkKmY7fWVsc2UgaWYoZXVsZXIub3JkZXI9PT0nWFpZJyl7dmFyIF9hYz1hKmMsX2FkPWEqZCxfYmM9YipjLF9iZD1iKmQ7dGVbMF09YyplO3RlWzRdPS1mO3RlWzhdPWQqZTt0ZVsxXT1fYWMqZitfYmQ7dGVbNV09YSplO3RlWzldPV9hZCpmLV9iYzt0ZVsyXT1fYmMqZi1fYWQ7dGVbNl09YiplO3RlWzEwXT1fYmQqZitfYWM7fS8vIGJvdHRvbSByb3cKdGVbM109MDt0ZVs3XT0wO3RlWzExXT0wOy8vIGxhc3QgY29sdW1uCnRlWzEyXT0wO3RlWzEzXT0wO3RlWzE0XT0wO3RlWzE1XT0xO3JldHVybiB0aGlzO319LHtrZXk6Im1ha2VSb3RhdGlvbkZyb21RdWF0ZXJuaW9uIix2YWx1ZTpmdW5jdGlvbiBtYWtlUm90YXRpb25Gcm9tUXVhdGVybmlvbihxKXtyZXR1cm4gdGhpcy5jb21wb3NlKF96ZXJvLHEsX29uZSk7fX0se2tleToibG9va0F0Iix2YWx1ZTpmdW5jdGlvbiBsb29rQXQoZXllLHRhcmdldCx1cCl7dmFyIHRlPXRoaXMuZWxlbWVudHM7X3ouc3ViVmVjdG9ycyhleWUsdGFyZ2V0KTtpZihfei5sZW5ndGhTcSgpPT09MCl7Ly8gZXllIGFuZCB0YXJnZXQgYXJlIGluIHRoZSBzYW1lIHBvc2l0aW9uCl96Lno9MTt9X3oubm9ybWFsaXplKCk7X3guY3Jvc3NWZWN0b3JzKHVwLF96KTtpZihfeC5sZW5ndGhTcSgpPT09MCl7Ly8gdXAgYW5kIHogYXJlIHBhcmFsbGVsCmlmKE1hdGguYWJzKHVwLnopPT09MSl7X3oueCs9MC4wMDAxO31lbHNle196LnorPTAuMDAwMTt9X3oubm9ybWFsaXplKCk7X3guY3Jvc3NWZWN0b3JzKHVwLF96KTt9X3gubm9ybWFsaXplKCk7X3kuY3Jvc3NWZWN0b3JzKF96LF94KTt0ZVswXT1feC54O3RlWzRdPV95Lng7dGVbOF09X3oueDt0ZVsxXT1feC55O3RlWzVdPV95Lnk7dGVbOV09X3oueTt0ZVsyXT1feC56O3RlWzZdPV95Lno7dGVbMTBdPV96Lno7cmV0dXJuIHRoaXM7fX0se2tleToibXVsdGlwbHkiLHZhbHVlOmZ1bmN0aW9uIG11bHRpcGx5KG0sbil7aWYobiE9PXVuZGVmaW5lZCl7Y29uc29sZS53YXJuKCdUSFJFRS5NYXRyaXg0OiAubXVsdGlwbHkoKSBub3cgb25seSBhY2NlcHRzIG9uZSBhcmd1bWVudC4gVXNlIC5tdWx0aXBseU1hdHJpY2VzKCBhLCBiICkgaW5zdGVhZC4nKTtyZXR1cm4gdGhpcy5tdWx0aXBseU1hdHJpY2VzKG0sbik7fXJldHVybiB0aGlzLm11bHRpcGx5TWF0cmljZXModGhpcyxtKTt9fSx7a2V5OiJwcmVtdWx0aXBseSIsdmFsdWU6ZnVuY3Rpb24gcHJlbXVsdGlwbHkobSl7cmV0dXJuIHRoaXMubXVsdGlwbHlNYXRyaWNlcyhtLHRoaXMpO319LHtrZXk6Im11bHRpcGx5TWF0cmljZXMiLHZhbHVlOmZ1bmN0aW9uIG11bHRpcGx5TWF0cmljZXMoYSxiKXt2YXIgYWU9YS5lbGVtZW50czt2YXIgYmU9Yi5lbGVtZW50czt2YXIgdGU9dGhpcy5lbGVtZW50czt2YXIgYTExPWFlWzBdLGExMj1hZVs0XSxhMTM9YWVbOF0sYTE0PWFlWzEyXTt2YXIgYTIxPWFlWzFdLGEyMj1hZVs1XSxhMjM9YWVbOV0sYTI0PWFlWzEzXTt2YXIgYTMxPWFlWzJdLGEzMj1hZVs2XSxhMzM9YWVbMTBdLGEzND1hZVsxNF07dmFyIGE0MT1hZVszXSxhNDI9YWVbN10sYTQzPWFlWzExXSxhNDQ9YWVbMTVdO3ZhciBiMTE9YmVbMF0sYjEyPWJlWzRdLGIxMz1iZVs4XSxiMTQ9YmVbMTJdO3ZhciBiMjE9YmVbMV0sYjIyPWJlWzVdLGIyMz1iZVs5XSxiMjQ9YmVbMTNdO3ZhciBiMzE9YmVbMl0sYjMyPWJlWzZdLGIzMz1iZVsxMF0sYjM0PWJlWzE0XTt2YXIgYjQxPWJlWzNdLGI0Mj1iZVs3XSxiNDM9YmVbMTFdLGI0ND1iZVsxNV07dGVbMF09YTExKmIxMSthMTIqYjIxK2ExMypiMzErYTE0KmI0MTt0ZVs0XT1hMTEqYjEyK2ExMipiMjIrYTEzKmIzMithMTQqYjQyO3RlWzhdPWExMSpiMTMrYTEyKmIyMythMTMqYjMzK2ExNCpiNDM7dGVbMTJdPWExMSpiMTQrYTEyKmIyNCthMTMqYjM0K2ExNCpiNDQ7dGVbMV09YTIxKmIxMSthMjIqYjIxK2EyMypiMzErYTI0KmI0MTt0ZVs1XT1hMjEqYjEyK2EyMipiMjIrYTIzKmIzMithMjQqYjQyO3RlWzldPWEyMSpiMTMrYTIyKmIyMythMjMqYjMzK2EyNCpiNDM7dGVbMTNdPWEyMSpiMTQrYTIyKmIyNCthMjMqYjM0K2EyNCpiNDQ7dGVbMl09YTMxKmIxMSthMzIqYjIxK2EzMypiMzErYTM0KmI0MTt0ZVs2XT1hMzEqYjEyK2EzMipiMjIrYTMzKmIzMithMzQqYjQyO3RlWzEwXT1hMzEqYjEzK2EzMipiMjMrYTMzKmIzMythMzQqYjQzO3RlWzE0XT1hMzEqYjE0K2EzMipiMjQrYTMzKmIzNCthMzQqYjQ0O3RlWzNdPWE0MSpiMTErYTQyKmIyMSthNDMqYjMxK2E0NCpiNDE7dGVbN109YTQxKmIxMithNDIqYjIyK2E0MypiMzIrYTQ0KmI0Mjt0ZVsxMV09YTQxKmIxMythNDIqYjIzK2E0MypiMzMrYTQ0KmI0Mzt0ZVsxNV09YTQxKmIxNCthNDIqYjI0K2E0MypiMzQrYTQ0KmI0NDtyZXR1cm4gdGhpczt9fSx7a2V5OiJtdWx0aXBseVNjYWxhciIsdmFsdWU6ZnVuY3Rpb24gbXVsdGlwbHlTY2FsYXIocyl7dmFyIHRlPXRoaXMuZWxlbWVudHM7dGVbMF0qPXM7dGVbNF0qPXM7dGVbOF0qPXM7dGVbMTJdKj1zO3RlWzFdKj1zO3RlWzVdKj1zO3RlWzldKj1zO3RlWzEzXSo9czt0ZVsyXSo9czt0ZVs2XSo9czt0ZVsxMF0qPXM7dGVbMTRdKj1zO3RlWzNdKj1zO3RlWzddKj1zO3RlWzExXSo9czt0ZVsxNV0qPXM7cmV0dXJuIHRoaXM7fX0se2tleToiZGV0ZXJtaW5hbnQiLHZhbHVlOmZ1bmN0aW9uIGRldGVybWluYW50KCl7dmFyIHRlPXRoaXMuZWxlbWVudHM7dmFyIG4xMT10ZVswXSxuMTI9dGVbNF0sbjEzPXRlWzhdLG4xND10ZVsxMl07dmFyIG4yMT10ZVsxXSxuMjI9dGVbNV0sbjIzPXRlWzldLG4yND10ZVsxM107dmFyIG4zMT10ZVsyXSxuMzI9dGVbNl0sbjMzPXRlWzEwXSxuMzQ9dGVbMTRdO3ZhciBuNDE9dGVbM10sbjQyPXRlWzddLG40Mz10ZVsxMV0sbjQ0PXRlWzE1XTsvL1RPRE86IG1ha2UgdGhpcyBtb3JlIGVmZmljaWVudAovLyggYmFzZWQgb24gaHR0cDovL3d3dy5ldWNsaWRlYW5zcGFjZS5jb20vbWF0aHMvYWxnZWJyYS9tYXRyaXgvZnVuY3Rpb25zL2ludmVyc2UvZm91ckQvaW5kZXguaHRtICkKcmV0dXJuIG40MSooK24xNCpuMjMqbjMyLW4xMypuMjQqbjMyLW4xNCpuMjIqbjMzK24xMipuMjQqbjMzK24xMypuMjIqbjM0LW4xMipuMjMqbjM0KStuNDIqKCtuMTEqbjIzKm4zNC1uMTEqbjI0Km4zMytuMTQqbjIxKm4zMy1uMTMqbjIxKm4zNCtuMTMqbjI0Km4zMS1uMTQqbjIzKm4zMSkrbjQzKigrbjExKm4yNCpuMzItbjExKm4yMipuMzQtbjE0Km4yMSpuMzIrbjEyKm4yMSpuMzQrbjE0Km4yMipuMzEtbjEyKm4yNCpuMzEpK240NCooLW4xMypuMjIqbjMxLW4xMSpuMjMqbjMyK24xMSpuMjIqbjMzK24xMypuMjEqbjMyLW4xMipuMjEqbjMzK24xMipuMjMqbjMxKTt9fSx7a2V5OiJ0cmFuc3Bvc2UiLHZhbHVlOmZ1bmN0aW9uIHRyYW5zcG9zZSgpe3ZhciB0ZT10aGlzLmVsZW1lbnRzO3ZhciB0bXA7dG1wPXRlWzFdO3RlWzFdPXRlWzRdO3RlWzRdPXRtcDt0bXA9dGVbMl07dGVbMl09dGVbOF07dGVbOF09dG1wO3RtcD10ZVs2XTt0ZVs2XT10ZVs5XTt0ZVs5XT10bXA7dG1wPXRlWzNdO3RlWzNdPXRlWzEyXTt0ZVsxMl09dG1wO3RtcD10ZVs3XTt0ZVs3XT10ZVsxM107dGVbMTNdPXRtcDt0bXA9dGVbMTFdO3RlWzExXT10ZVsxNF07dGVbMTRdPXRtcDtyZXR1cm4gdGhpczt9fSx7a2V5OiJzZXRQb3NpdGlvbiIsdmFsdWU6ZnVuY3Rpb24gc2V0UG9zaXRpb24oeCx5LHope3ZhciB0ZT10aGlzLmVsZW1lbnRzO2lmKHguaXNWZWN0b3IzKXt0ZVsxMl09eC54O3RlWzEzXT14Lnk7dGVbMTRdPXguejt9ZWxzZXt0ZVsxMl09eDt0ZVsxM109eTt0ZVsxNF09ejt9cmV0dXJuIHRoaXM7fX0se2tleToiaW52ZXJ0Iix2YWx1ZTpmdW5jdGlvbiBpbnZlcnQoKXsvLyBiYXNlZCBvbiBodHRwOi8vd3d3LmV1Y2xpZGVhbnNwYWNlLmNvbS9tYXRocy9hbGdlYnJhL21hdHJpeC9mdW5jdGlvbnMvaW52ZXJzZS9mb3VyRC9pbmRleC5odG0KdmFyIHRlPXRoaXMuZWxlbWVudHMsbjExPXRlWzBdLG4yMT10ZVsxXSxuMzE9dGVbMl0sbjQxPXRlWzNdLG4xMj10ZVs0XSxuMjI9dGVbNV0sbjMyPXRlWzZdLG40Mj10ZVs3XSxuMTM9dGVbOF0sbjIzPXRlWzldLG4zMz10ZVsxMF0sbjQzPXRlWzExXSxuMTQ9dGVbMTJdLG4yND10ZVsxM10sbjM0PXRlWzE0XSxuNDQ9dGVbMTVdLHQxMT1uMjMqbjM0Km40Mi1uMjQqbjMzKm40MituMjQqbjMyKm40My1uMjIqbjM0Km40My1uMjMqbjMyKm40NCtuMjIqbjMzKm40NCx0MTI9bjE0Km4zMypuNDItbjEzKm4zNCpuNDItbjE0Km4zMipuNDMrbjEyKm4zNCpuNDMrbjEzKm4zMipuNDQtbjEyKm4zMypuNDQsdDEzPW4xMypuMjQqbjQyLW4xNCpuMjMqbjQyK24xNCpuMjIqbjQzLW4xMipuMjQqbjQzLW4xMypuMjIqbjQ0K24xMipuMjMqbjQ0LHQxND1uMTQqbjIzKm4zMi1uMTMqbjI0Km4zMi1uMTQqbjIyKm4zMytuMTIqbjI0Km4zMytuMTMqbjIyKm4zNC1uMTIqbjIzKm4zNDt2YXIgZGV0PW4xMSp0MTErbjIxKnQxMituMzEqdDEzK240MSp0MTQ7aWYoZGV0PT09MClyZXR1cm4gdGhpcy5zZXQoMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCk7dmFyIGRldEludj0xL2RldDt0ZVswXT10MTEqZGV0SW52O3RlWzFdPShuMjQqbjMzKm40MS1uMjMqbjM0Km40MS1uMjQqbjMxKm40MytuMjEqbjM0Km40MytuMjMqbjMxKm40NC1uMjEqbjMzKm40NCkqZGV0SW52O3RlWzJdPShuMjIqbjM0Km40MS1uMjQqbjMyKm40MStuMjQqbjMxKm40Mi1uMjEqbjM0Km40Mi1uMjIqbjMxKm40NCtuMjEqbjMyKm40NCkqZGV0SW52O3RlWzNdPShuMjMqbjMyKm40MS1uMjIqbjMzKm40MS1uMjMqbjMxKm40MituMjEqbjMzKm40MituMjIqbjMxKm40My1uMjEqbjMyKm40MykqZGV0SW52O3RlWzRdPXQxMipkZXRJbnY7dGVbNV09KG4xMypuMzQqbjQxLW4xNCpuMzMqbjQxK24xNCpuMzEqbjQzLW4xMSpuMzQqbjQzLW4xMypuMzEqbjQ0K24xMSpuMzMqbjQ0KSpkZXRJbnY7dGVbNl09KG4xNCpuMzIqbjQxLW4xMipuMzQqbjQxLW4xNCpuMzEqbjQyK24xMSpuMzQqbjQyK24xMipuMzEqbjQ0LW4xMSpuMzIqbjQ0KSpkZXRJbnY7dGVbN109KG4xMipuMzMqbjQxLW4xMypuMzIqbjQxK24xMypuMzEqbjQyLW4xMSpuMzMqbjQyLW4xMipuMzEqbjQzK24xMSpuMzIqbjQzKSpkZXRJbnY7dGVbOF09dDEzKmRldEludjt0ZVs5XT0objE0Km4yMypuNDEtbjEzKm4yNCpuNDEtbjE0Km4yMSpuNDMrbjExKm4yNCpuNDMrbjEzKm4yMSpuNDQtbjExKm4yMypuNDQpKmRldEludjt0ZVsxMF09KG4xMipuMjQqbjQxLW4xNCpuMjIqbjQxK24xNCpuMjEqbjQyLW4xMSpuMjQqbjQyLW4xMipuMjEqbjQ0K24xMSpuMjIqbjQ0KSpkZXRJbnY7dGVbMTFdPShuMTMqbjIyKm40MS1uMTIqbjIzKm40MS1uMTMqbjIxKm40MituMTEqbjIzKm40MituMTIqbjIxKm40My1uMTEqbjIyKm40MykqZGV0SW52O3RlWzEyXT10MTQqZGV0SW52O3RlWzEzXT0objEzKm4yNCpuMzEtbjE0Km4yMypuMzErbjE0Km4yMSpuMzMtbjExKm4yNCpuMzMtbjEzKm4yMSpuMzQrbjExKm4yMypuMzQpKmRldEludjt0ZVsxNF09KG4xNCpuMjIqbjMxLW4xMipuMjQqbjMxLW4xNCpuMjEqbjMyK24xMSpuMjQqbjMyK24xMipuMjEqbjM0LW4xMSpuMjIqbjM0KSpkZXRJbnY7dGVbMTVdPShuMTIqbjIzKm4zMS1uMTMqbjIyKm4zMStuMTMqbjIxKm4zMi1uMTEqbjIzKm4zMi1uMTIqbjIxKm4zMytuMTEqbjIyKm4zMykqZGV0SW52O3JldHVybiB0aGlzO319LHtrZXk6InNjYWxlIix2YWx1ZTpmdW5jdGlvbiBzY2FsZSh2KXt2YXIgdGU9dGhpcy5lbGVtZW50czt2YXIgeD12LngseT12Lnksej12Lno7dGVbMF0qPXg7dGVbNF0qPXk7dGVbOF0qPXo7dGVbMV0qPXg7dGVbNV0qPXk7dGVbOV0qPXo7dGVbMl0qPXg7dGVbNl0qPXk7dGVbMTBdKj16O3RlWzNdKj14O3RlWzddKj15O3RlWzExXSo9ejtyZXR1cm4gdGhpczt9fSx7a2V5OiJnZXRNYXhTY2FsZU9uQXhpcyIsdmFsdWU6ZnVuY3Rpb24gZ2V0TWF4U2NhbGVPbkF4aXMoKXt2YXIgdGU9dGhpcy5lbGVtZW50czt2YXIgc2NhbGVYU3E9dGVbMF0qdGVbMF0rdGVbMV0qdGVbMV0rdGVbMl0qdGVbMl07dmFyIHNjYWxlWVNxPXRlWzRdKnRlWzRdK3RlWzVdKnRlWzVdK3RlWzZdKnRlWzZdO3ZhciBzY2FsZVpTcT10ZVs4XSp0ZVs4XSt0ZVs5XSp0ZVs5XSt0ZVsxMF0qdGVbMTBdO3JldHVybiBNYXRoLnNxcnQoTWF0aC5tYXgoc2NhbGVYU3Esc2NhbGVZU3Esc2NhbGVaU3EpKTt9fSx7a2V5OiJtYWtlVHJhbnNsYXRpb24iLHZhbHVlOmZ1bmN0aW9uIG1ha2VUcmFuc2xhdGlvbih4LHkseil7dGhpcy5zZXQoMSwwLDAseCwwLDEsMCx5LDAsMCwxLHosMCwwLDAsMSk7cmV0dXJuIHRoaXM7fX0se2tleToibWFrZVJvdGF0aW9uWCIsdmFsdWU6ZnVuY3Rpb24gbWFrZVJvdGF0aW9uWCh0aGV0YSl7dmFyIGM9TWF0aC5jb3ModGhldGEpLHM9TWF0aC5zaW4odGhldGEpO3RoaXMuc2V0KDEsMCwwLDAsMCxjLC1zLDAsMCxzLGMsMCwwLDAsMCwxKTtyZXR1cm4gdGhpczt9fSx7a2V5OiJtYWtlUm90YXRpb25ZIix2YWx1ZTpmdW5jdGlvbiBtYWtlUm90YXRpb25ZKHRoZXRhKXt2YXIgYz1NYXRoLmNvcyh0aGV0YSkscz1NYXRoLnNpbih0aGV0YSk7dGhpcy5zZXQoYywwLHMsMCwwLDEsMCwwLC1zLDAsYywwLDAsMCwwLDEpO3JldHVybiB0aGlzO319LHtrZXk6Im1ha2VSb3RhdGlvbloiLHZhbHVlOmZ1bmN0aW9uIG1ha2VSb3RhdGlvbloodGhldGEpe3ZhciBjPU1hdGguY29zKHRoZXRhKSxzPU1hdGguc2luKHRoZXRhKTt0aGlzLnNldChjLC1zLDAsMCxzLGMsMCwwLDAsMCwxLDAsMCwwLDAsMSk7cmV0dXJuIHRoaXM7fX0se2tleToibWFrZVJvdGF0aW9uQXhpcyIsdmFsdWU6ZnVuY3Rpb24gbWFrZVJvdGF0aW9uQXhpcyhheGlzLGFuZ2xlKXsvLyBCYXNlZCBvbiBodHRwOi8vd3d3LmdhbWVkZXYubmV0L3JlZmVyZW5jZS9hcnRpY2xlcy9hcnRpY2xlMTE5OS5hc3AKdmFyIGM9TWF0aC5jb3MoYW5nbGUpO3ZhciBzPU1hdGguc2luKGFuZ2xlKTt2YXIgdD0xLWM7dmFyIHg9YXhpcy54LHk9YXhpcy55LHo9YXhpcy56O3ZhciB0eD10KngsdHk9dCp5O3RoaXMuc2V0KHR4KngrYyx0eCp5LXMqeix0eCp6K3MqeSwwLHR4Knkrcyp6LHR5KnkrYyx0eSp6LXMqeCwwLHR4Knotcyp5LHR5Knorcyp4LHQqeip6K2MsMCwwLDAsMCwxKTtyZXR1cm4gdGhpczt9fSx7a2V5OiJtYWtlU2NhbGUiLHZhbHVlOmZ1bmN0aW9uIG1ha2VTY2FsZSh4LHkseil7dGhpcy5zZXQoeCwwLDAsMCwwLHksMCwwLDAsMCx6LDAsMCwwLDAsMSk7cmV0dXJuIHRoaXM7fX0se2tleToibWFrZVNoZWFyIix2YWx1ZTpmdW5jdGlvbiBtYWtlU2hlYXIoeHkseHoseXgseXosengsenkpe3RoaXMuc2V0KDEseXgsengsMCx4eSwxLHp5LDAseHoseXosMSwwLDAsMCwwLDEpO3JldHVybiB0aGlzO319LHtrZXk6ImNvbXBvc2UiLHZhbHVlOmZ1bmN0aW9uIGNvbXBvc2UocG9zaXRpb24scXVhdGVybmlvbixzY2FsZSl7dmFyIHRlPXRoaXMuZWxlbWVudHM7dmFyIHg9cXVhdGVybmlvbi5feCx5PXF1YXRlcm5pb24uX3ksej1xdWF0ZXJuaW9uLl96LHc9cXVhdGVybmlvbi5fdzt2YXIgeDI9eCt4LHkyPXkreSx6Mj16K3o7dmFyIHh4PXgqeDIseHk9eCp5Mix4ej14KnoyO3ZhciB5eT15KnkyLHl6PXkqejIseno9eip6Mjt2YXIgd3g9dyp4Mix3eT13KnkyLHd6PXcqejI7dmFyIHN4PXNjYWxlLngsc3k9c2NhbGUueSxzej1zY2FsZS56O3RlWzBdPSgxLSh5eSt6eikpKnN4O3RlWzFdPSh4eSt3eikqc3g7dGVbMl09KHh6LXd5KSpzeDt0ZVszXT0wO3RlWzRdPSh4eS13eikqc3k7dGVbNV09KDEtKHh4K3p6KSkqc3k7dGVbNl09KHl6K3d4KSpzeTt0ZVs3XT0wO3RlWzhdPSh4eit3eSkqc3o7dGVbOV09KHl6LXd4KSpzejt0ZVsxMF09KDEtKHh4K3l5KSkqc3o7dGVbMTFdPTA7dGVbMTJdPXBvc2l0aW9uLng7dGVbMTNdPXBvc2l0aW9uLnk7dGVbMTRdPXBvc2l0aW9uLno7dGVbMTVdPTE7cmV0dXJuIHRoaXM7fX0se2tleToiZGVjb21wb3NlIix2YWx1ZTpmdW5jdGlvbiBkZWNvbXBvc2UocG9zaXRpb24scXVhdGVybmlvbixzY2FsZSl7dmFyIHRlPXRoaXMuZWxlbWVudHM7dmFyIHN4PV92MSQ1LnNldCh0ZVswXSx0ZVsxXSx0ZVsyXSkubGVuZ3RoKCk7dmFyIHN5PV92MSQ1LnNldCh0ZVs0XSx0ZVs1XSx0ZVs2XSkubGVuZ3RoKCk7dmFyIHN6PV92MSQ1LnNldCh0ZVs4XSx0ZVs5XSx0ZVsxMF0pLmxlbmd0aCgpOy8vIGlmIGRldGVybWluZSBpcyBuZWdhdGl2ZSwgd2UgbmVlZCB0byBpbnZlcnQgb25lIHNjYWxlCnZhciBkZXQ9dGhpcy5kZXRlcm1pbmFudCgpO2lmKGRldDwwKXN4PS1zeDtwb3NpdGlvbi54PXRlWzEyXTtwb3NpdGlvbi55PXRlWzEzXTtwb3NpdGlvbi56PXRlWzE0XTsvLyBzY2FsZSB0aGUgcm90YXRpb24gcGFydApfbTEkMi5jb3B5KHRoaXMpO3ZhciBpbnZTWD0xL3N4O3ZhciBpbnZTWT0xL3N5O3ZhciBpbnZTWj0xL3N6O19tMSQyLmVsZW1lbnRzWzBdKj1pbnZTWDtfbTEkMi5lbGVtZW50c1sxXSo9aW52U1g7X20xJDIuZWxlbWVudHNbMl0qPWludlNYO19tMSQyLmVsZW1lbnRzWzRdKj1pbnZTWTtfbTEkMi5lbGVtZW50c1s1XSo9aW52U1k7X20xJDIuZWxlbWVudHNbNl0qPWludlNZO19tMSQyLmVsZW1lbnRzWzhdKj1pbnZTWjtfbTEkMi5lbGVtZW50c1s5XSo9aW52U1o7X20xJDIuZWxlbWVudHNbMTBdKj1pbnZTWjtxdWF0ZXJuaW9uLnNldEZyb21Sb3RhdGlvbk1hdHJpeChfbTEkMik7c2NhbGUueD1zeDtzY2FsZS55PXN5O3NjYWxlLno9c3o7cmV0dXJuIHRoaXM7fX0se2tleToibWFrZVBlcnNwZWN0aXZlIix2YWx1ZTpmdW5jdGlvbiBtYWtlUGVyc3BlY3RpdmUobGVmdCxyaWdodCx0b3AsYm90dG9tLG5lYXIsZmFyKXtpZihmYXI9PT11bmRlZmluZWQpe2NvbnNvbGUud2FybignVEhSRUUuTWF0cml4NDogLm1ha2VQZXJzcGVjdGl2ZSgpIGhhcyBiZWVuIHJlZGVmaW5lZCBhbmQgaGFzIGEgbmV3IHNpZ25hdHVyZS4gUGxlYXNlIGNoZWNrIHRoZSBkb2NzLicpO312YXIgdGU9dGhpcy5lbGVtZW50czt2YXIgeD0yKm5lYXIvKHJpZ2h0LWxlZnQpO3ZhciB5PTIqbmVhci8odG9wLWJvdHRvbSk7dmFyIGE9KHJpZ2h0K2xlZnQpLyhyaWdodC1sZWZ0KTt2YXIgYj0odG9wK2JvdHRvbSkvKHRvcC1ib3R0b20pO3ZhciBjPS0oZmFyK25lYXIpLyhmYXItbmVhcik7dmFyIGQ9LTIqZmFyKm5lYXIvKGZhci1uZWFyKTt0ZVswXT14O3RlWzRdPTA7dGVbOF09YTt0ZVsxMl09MDt0ZVsxXT0wO3RlWzVdPXk7dGVbOV09Yjt0ZVsxM109MDt0ZVsyXT0wO3RlWzZdPTA7dGVbMTBdPWM7dGVbMTRdPWQ7dGVbM109MDt0ZVs3XT0wO3RlWzExXT0tMTt0ZVsxNV09MDtyZXR1cm4gdGhpczt9fSx7a2V5OiJtYWtlT3J0aG9ncmFwaGljIix2YWx1ZTpmdW5jdGlvbiBtYWtlT3J0aG9ncmFwaGljKGxlZnQscmlnaHQsdG9wLGJvdHRvbSxuZWFyLGZhcil7dmFyIHRlPXRoaXMuZWxlbWVudHM7dmFyIHc9MS4wLyhyaWdodC1sZWZ0KTt2YXIgaD0xLjAvKHRvcC1ib3R0b20pO3ZhciBwPTEuMC8oZmFyLW5lYXIpO3ZhciB4PShyaWdodCtsZWZ0KSp3O3ZhciB5PSh0b3ArYm90dG9tKSpoO3ZhciB6PShmYXIrbmVhcikqcDt0ZVswXT0yKnc7dGVbNF09MDt0ZVs4XT0wO3RlWzEyXT0teDt0ZVsxXT0wO3RlWzVdPTIqaDt0ZVs5XT0wO3RlWzEzXT0teTt0ZVsyXT0wO3RlWzZdPTA7dGVbMTBdPS0yKnA7dGVbMTRdPS16O3RlWzNdPTA7dGVbN109MDt0ZVsxMV09MDt0ZVsxNV09MTtyZXR1cm4gdGhpczt9fSx7a2V5OiJlcXVhbHMiLHZhbHVlOmZ1bmN0aW9uIGVxdWFscyhtYXRyaXgpe3ZhciB0ZT10aGlzLmVsZW1lbnRzO3ZhciBtZT1tYXRyaXguZWxlbWVudHM7Zm9yKHZhciBfaTE3PTA7X2kxNzwxNjtfaTE3Kyspe2lmKHRlW19pMTddIT09bWVbX2kxN10pcmV0dXJuIGZhbHNlO31yZXR1cm4gdHJ1ZTt9fSx7a2V5OiJmcm9tQXJyYXkiLHZhbHVlOmZ1bmN0aW9uIGZyb21BcnJheShhcnJheSl7dmFyIG9mZnNldD1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMV06MDtmb3IodmFyIF9pMTg9MDtfaTE4PDE2O19pMTgrKyl7dGhpcy5lbGVtZW50c1tfaTE4XT1hcnJheVtfaTE4K29mZnNldF07fXJldHVybiB0aGlzO319LHtrZXk6InRvQXJyYXkiLHZhbHVlOmZ1bmN0aW9uIHRvQXJyYXkoKXt2YXIgYXJyYXk9YXJndW1lbnRzLmxlbmd0aD4wJiZhcmd1bWVudHNbMF0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzBdOltdO3ZhciBvZmZzZXQ9YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzFdOjA7dmFyIHRlPXRoaXMuZWxlbWVudHM7YXJyYXlbb2Zmc2V0XT10ZVswXTthcnJheVtvZmZzZXQrMV09dGVbMV07YXJyYXlbb2Zmc2V0KzJdPXRlWzJdO2FycmF5W29mZnNldCszXT10ZVszXTthcnJheVtvZmZzZXQrNF09dGVbNF07YXJyYXlbb2Zmc2V0KzVdPXRlWzVdO2FycmF5W29mZnNldCs2XT10ZVs2XTthcnJheVtvZmZzZXQrN109dGVbN107YXJyYXlbb2Zmc2V0KzhdPXRlWzhdO2FycmF5W29mZnNldCs5XT10ZVs5XTthcnJheVtvZmZzZXQrMTBdPXRlWzEwXTthcnJheVtvZmZzZXQrMTFdPXRlWzExXTthcnJheVtvZmZzZXQrMTJdPXRlWzEyXTthcnJheVtvZmZzZXQrMTNdPXRlWzEzXTthcnJheVtvZmZzZXQrMTRdPXRlWzE0XTthcnJheVtvZmZzZXQrMTVdPXRlWzE1XTtyZXR1cm4gYXJyYXk7fX1dKTtyZXR1cm4gTWF0cml4NDt9KCk7TWF0cml4NC5wcm90b3R5cGUuaXNNYXRyaXg0PXRydWU7dmFyIF92MSQ1PS8qQF9fUFVSRV9fKi9uZXcgVmVjdG9yMygpO3ZhciBfbTEkMj0vKkBfX1BVUkVfXyovbmV3IE1hdHJpeDQoKTt2YXIgX3plcm89LypAX19QVVJFX18qL25ldyBWZWN0b3IzKDAsMCwwKTt2YXIgX29uZT0vKkBfX1BVUkVfXyovbmV3IFZlY3RvcjMoMSwxLDEpO3ZhciBfeD0vKkBfX1BVUkVfXyovbmV3IFZlY3RvcjMoKTt2YXIgX3k9LypAX19QVVJFX18qL25ldyBWZWN0b3IzKCk7dmFyIF96PS8qQF9fUFVSRV9fKi9uZXcgVmVjdG9yMygpO3ZhciBfbWF0cml4JDE9LypAX19QVVJFX18qL25ldyBNYXRyaXg0KCk7dmFyIF9xdWF0ZXJuaW9uJDM9LypAX19QVVJFX18qL25ldyBRdWF0ZXJuaW9uKCk7dmFyIEV1bGVyPS8qI19fUFVSRV9fKi9mdW5jdGlvbigpe2Z1bmN0aW9uIEV1bGVyKCl7dmFyIHg9YXJndW1lbnRzLmxlbmd0aD4wJiZhcmd1bWVudHNbMF0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzBdOjA7dmFyIHk9YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzFdOjA7dmFyIHo9YXJndW1lbnRzLmxlbmd0aD4yJiZhcmd1bWVudHNbMl0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzJdOjA7dmFyIG9yZGVyPWFyZ3VtZW50cy5sZW5ndGg+MyYmYXJndW1lbnRzWzNdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1szXTpFdWxlci5EZWZhdWx0T3JkZXI7X2NsYXNzQ2FsbENoZWNrKHRoaXMsRXVsZXIpO3RoaXMuX3g9eDt0aGlzLl95PXk7dGhpcy5fej16O3RoaXMuX29yZGVyPW9yZGVyO31fY3JlYXRlQ2xhc3MoRXVsZXIsW3trZXk6IngiLGdldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5feDt9LHNldDpmdW5jdGlvbiBzZXQodmFsdWUpe3RoaXMuX3g9dmFsdWU7dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO319LHtrZXk6InkiLGdldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5feTt9LHNldDpmdW5jdGlvbiBzZXQodmFsdWUpe3RoaXMuX3k9dmFsdWU7dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO319LHtrZXk6InoiLGdldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5fejt9LHNldDpmdW5jdGlvbiBzZXQodmFsdWUpe3RoaXMuX3o9dmFsdWU7dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO319LHtrZXk6Im9yZGVyIixnZXQ6ZnVuY3Rpb24gZ2V0KCl7cmV0dXJuIHRoaXMuX29yZGVyO30sc2V0OmZ1bmN0aW9uIHNldCh2YWx1ZSl7dGhpcy5fb3JkZXI9dmFsdWU7dGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpO319LHtrZXk6InNldCIsdmFsdWU6ZnVuY3Rpb24gc2V0KHgseSx6KXt2YXIgb3JkZXI9YXJndW1lbnRzLmxlbmd0aD4zJiZhcmd1bWVudHNbM10hPT11bmRlZmluZWQ/YXJndW1lbnRzWzNdOnRoaXMuX29yZGVyO3RoaXMuX3g9eDt0aGlzLl95PXk7dGhpcy5fej16O3RoaXMuX29yZGVyPW9yZGVyO3RoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKTtyZXR1cm4gdGhpczt9fSx7a2V5OiJjbG9uZSIsdmFsdWU6ZnVuY3Rpb24gY2xvbmUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5feCx0aGlzLl95LHRoaXMuX3osdGhpcy5fb3JkZXIpO319LHtrZXk6ImNvcHkiLHZhbHVlOmZ1bmN0aW9uIGNvcHkoZXVsZXIpe3RoaXMuX3g9ZXVsZXIuX3g7dGhpcy5feT1ldWxlci5feTt0aGlzLl96PWV1bGVyLl96O3RoaXMuX29yZGVyPWV1bGVyLl9vcmRlcjt0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKCk7cmV0dXJuIHRoaXM7fX0se2tleToic2V0RnJvbVJvdGF0aW9uTWF0cml4Iix2YWx1ZTpmdW5jdGlvbiBzZXRGcm9tUm90YXRpb25NYXRyaXgobSl7dmFyIG9yZGVyPWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1sxXTp0aGlzLl9vcmRlcjt2YXIgdXBkYXRlPWFyZ3VtZW50cy5sZW5ndGg+MiYmYXJndW1lbnRzWzJdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1syXTp0cnVlOy8vIGFzc3VtZXMgdGhlIHVwcGVyIDN4MyBvZiBtIGlzIGEgcHVyZSByb3RhdGlvbiBtYXRyaXggKGkuZSwgdW5zY2FsZWQpCnZhciB0ZT1tLmVsZW1lbnRzO3ZhciBtMTE9dGVbMF0sbTEyPXRlWzRdLG0xMz10ZVs4XTt2YXIgbTIxPXRlWzFdLG0yMj10ZVs1XSxtMjM9dGVbOV07dmFyIG0zMT10ZVsyXSxtMzI9dGVbNl0sbTMzPXRlWzEwXTtzd2l0Y2gob3JkZXIpe2Nhc2UnWFlaJzp0aGlzLl95PU1hdGguYXNpbihjbGFtcChtMTMsLTEsMSkpO2lmKE1hdGguYWJzKG0xMyk8MC45OTk5OTk5KXt0aGlzLl94PU1hdGguYXRhbjIoLW0yMyxtMzMpO3RoaXMuX3o9TWF0aC5hdGFuMigtbTEyLG0xMSk7fWVsc2V7dGhpcy5feD1NYXRoLmF0YW4yKG0zMixtMjIpO3RoaXMuX3o9MDt9YnJlYWs7Y2FzZSdZWFonOnRoaXMuX3g9TWF0aC5hc2luKC1jbGFtcChtMjMsLTEsMSkpO2lmKE1hdGguYWJzKG0yMyk8MC45OTk5OTk5KXt0aGlzLl95PU1hdGguYXRhbjIobTEzLG0zMyk7dGhpcy5fej1NYXRoLmF0YW4yKG0yMSxtMjIpO31lbHNle3RoaXMuX3k9TWF0aC5hdGFuMigtbTMxLG0xMSk7dGhpcy5fej0wO31icmVhaztjYXNlJ1pYWSc6dGhpcy5feD1NYXRoLmFzaW4oY2xhbXAobTMyLC0xLDEpKTtpZihNYXRoLmFicyhtMzIpPDAuOTk5OTk5OSl7dGhpcy5feT1NYXRoLmF0YW4yKC1tMzEsbTMzKTt0aGlzLl96PU1hdGguYXRhbjIoLW0xMixtMjIpO31lbHNle3RoaXMuX3k9MDt0aGlzLl96PU1hdGguYXRhbjIobTIxLG0xMSk7fWJyZWFrO2Nhc2UnWllYJzp0aGlzLl95PU1hdGguYXNpbigtY2xhbXAobTMxLC0xLDEpKTtpZihNYXRoLmFicyhtMzEpPDAuOTk5OTk5OSl7dGhpcy5feD1NYXRoLmF0YW4yKG0zMixtMzMpO3RoaXMuX3o9TWF0aC5hdGFuMihtMjEsbTExKTt9ZWxzZXt0aGlzLl94PTA7dGhpcy5fej1NYXRoLmF0YW4yKC1tMTIsbTIyKTt9YnJlYWs7Y2FzZSdZWlgnOnRoaXMuX3o9TWF0aC5hc2luKGNsYW1wKG0yMSwtMSwxKSk7aWYoTWF0aC5hYnMobTIxKTwwLjk5OTk5OTkpe3RoaXMuX3g9TWF0aC5hdGFuMigtbTIzLG0yMik7dGhpcy5feT1NYXRoLmF0YW4yKC1tMzEsbTExKTt9ZWxzZXt0aGlzLl94PTA7dGhpcy5feT1NYXRoLmF0YW4yKG0xMyxtMzMpO31icmVhaztjYXNlJ1haWSc6dGhpcy5fej1NYXRoLmFzaW4oLWNsYW1wKG0xMiwtMSwxKSk7aWYoTWF0aC5hYnMobTEyKTwwLjk5OTk5OTkpe3RoaXMuX3g9TWF0aC5hdGFuMihtMzIsbTIyKTt0aGlzLl95PU1hdGguYXRhbjIobTEzLG0xMSk7fWVsc2V7dGhpcy5feD1NYXRoLmF0YW4yKC1tMjMsbTMzKTt0aGlzLl95PTA7fWJyZWFrO2RlZmF1bHQ6Y29uc29sZS53YXJuKCdUSFJFRS5FdWxlcjogLnNldEZyb21Sb3RhdGlvbk1hdHJpeCgpIGVuY291bnRlcmVkIGFuIHVua25vd24gb3JkZXI6ICcrb3JkZXIpO310aGlzLl9vcmRlcj1vcmRlcjtpZih1cGRhdGU9PT10cnVlKXRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKTtyZXR1cm4gdGhpczt9fSx7a2V5OiJzZXRGcm9tUXVhdGVybmlvbiIsdmFsdWU6ZnVuY3Rpb24gc2V0RnJvbVF1YXRlcm5pb24ocSxvcmRlcix1cGRhdGUpe19tYXRyaXgkMS5tYWtlUm90YXRpb25Gcm9tUXVhdGVybmlvbihxKTtyZXR1cm4gdGhpcy5zZXRGcm9tUm90YXRpb25NYXRyaXgoX21hdHJpeCQxLG9yZGVyLHVwZGF0ZSk7fX0se2tleToic2V0RnJvbVZlY3RvcjMiLHZhbHVlOmZ1bmN0aW9uIHNldEZyb21WZWN0b3IzKHYpe3ZhciBvcmRlcj1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMV06dGhpcy5fb3JkZXI7cmV0dXJuIHRoaXMuc2V0KHYueCx2Lnksdi56LG9yZGVyKTt9fSx7a2V5OiJyZW9yZGVyIix2YWx1ZTpmdW5jdGlvbiByZW9yZGVyKG5ld09yZGVyKXsvLyBXQVJOSU5HOiB0aGlzIGRpc2NhcmRzIHJldm9sdXRpb24gaW5mb3JtYXRpb24gLWJob3VzdG9uCl9xdWF0ZXJuaW9uJDMuc2V0RnJvbUV1bGVyKHRoaXMpO3JldHVybiB0aGlzLnNldEZyb21RdWF0ZXJuaW9uKF9xdWF0ZXJuaW9uJDMsbmV3T3JkZXIpO319LHtrZXk6ImVxdWFscyIsdmFsdWU6ZnVuY3Rpb24gZXF1YWxzKGV1bGVyKXtyZXR1cm4gZXVsZXIuX3g9PT10aGlzLl94JiZldWxlci5feT09PXRoaXMuX3kmJmV1bGVyLl96PT09dGhpcy5feiYmZXVsZXIuX29yZGVyPT09dGhpcy5fb3JkZXI7fX0se2tleToiZnJvbUFycmF5Iix2YWx1ZTpmdW5jdGlvbiBmcm9tQXJyYXkoYXJyYXkpe3RoaXMuX3g9YXJyYXlbMF07dGhpcy5feT1hcnJheVsxXTt0aGlzLl96PWFycmF5WzJdO2lmKGFycmF5WzNdIT09dW5kZWZpbmVkKXRoaXMuX29yZGVyPWFycmF5WzNdO3RoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKTtyZXR1cm4gdGhpczt9fSx7a2V5OiJ0b0FycmF5Iix2YWx1ZTpmdW5jdGlvbiB0b0FycmF5KCl7dmFyIGFycmF5PWFyZ3VtZW50cy5sZW5ndGg+MCYmYXJndW1lbnRzWzBdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1swXTpbXTt2YXIgb2Zmc2V0PWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1sxXTowO2FycmF5W29mZnNldF09dGhpcy5feDthcnJheVtvZmZzZXQrMV09dGhpcy5feTthcnJheVtvZmZzZXQrMl09dGhpcy5fejthcnJheVtvZmZzZXQrM109dGhpcy5fb3JkZXI7cmV0dXJuIGFycmF5O319LHtrZXk6InRvVmVjdG9yMyIsdmFsdWU6ZnVuY3Rpb24gdG9WZWN0b3IzKG9wdGlvbmFsUmVzdWx0KXtpZihvcHRpb25hbFJlc3VsdCl7cmV0dXJuIG9wdGlvbmFsUmVzdWx0LnNldCh0aGlzLl94LHRoaXMuX3ksdGhpcy5feik7fWVsc2V7cmV0dXJuIG5ldyBWZWN0b3IzKHRoaXMuX3gsdGhpcy5feSx0aGlzLl96KTt9fX0se2tleToiX29uQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbiBfb25DaGFuZ2UoY2FsbGJhY2spe3RoaXMuX29uQ2hhbmdlQ2FsbGJhY2s9Y2FsbGJhY2s7cmV0dXJuIHRoaXM7fX0se2tleToiX29uQ2hhbmdlQ2FsbGJhY2siLHZhbHVlOmZ1bmN0aW9uIF9vbkNoYW5nZUNhbGxiYWNrKCl7fX1dKTtyZXR1cm4gRXVsZXI7fSgpO0V1bGVyLnByb3RvdHlwZS5pc0V1bGVyPXRydWU7RXVsZXIuRGVmYXVsdE9yZGVyPSdYWVonO0V1bGVyLlJvdGF0aW9uT3JkZXJzPVsnWFlaJywnWVpYJywnWlhZJywnWFpZJywnWVhaJywnWllYJ107dmFyIExheWVycz0vKiNfX1BVUkVfXyovZnVuY3Rpb24oKXtmdW5jdGlvbiBMYXllcnMoKXtfY2xhc3NDYWxsQ2hlY2sodGhpcyxMYXllcnMpO3RoaXMubWFzaz0xfDA7fV9jcmVhdGVDbGFzcyhMYXllcnMsW3trZXk6InNldCIsdmFsdWU6ZnVuY3Rpb24gc2V0KGNoYW5uZWwpe3RoaXMubWFzaz0oMTw8Y2hhbm5lbHwwKT4+PjA7fX0se2tleToiZW5hYmxlIix2YWx1ZTpmdW5jdGlvbiBlbmFibGUoY2hhbm5lbCl7dGhpcy5tYXNrfD0xPDxjaGFubmVsfDA7fX0se2tleToiZW5hYmxlQWxsIix2YWx1ZTpmdW5jdGlvbiBlbmFibGVBbGwoKXt0aGlzLm1hc2s9MHhmZmZmZmZmZnwwO319LHtrZXk6InRvZ2dsZSIsdmFsdWU6ZnVuY3Rpb24gdG9nZ2xlKGNoYW5uZWwpe3RoaXMubWFza149MTw8Y2hhbm5lbHwwO319LHtrZXk6ImRpc2FibGUiLHZhbHVlOmZ1bmN0aW9uIGRpc2FibGUoY2hhbm5lbCl7dGhpcy5tYXNrJj1+KDE8PGNoYW5uZWx8MCk7fX0se2tleToiZGlzYWJsZUFsbCIsdmFsdWU6ZnVuY3Rpb24gZGlzYWJsZUFsbCgpe3RoaXMubWFzaz0wO319LHtrZXk6InRlc3QiLHZhbHVlOmZ1bmN0aW9uIHRlc3QobGF5ZXJzKXtyZXR1cm4odGhpcy5tYXNrJmxheWVycy5tYXNrKSE9PTA7fX0se2tleToiaXNFbmFibGVkIix2YWx1ZTpmdW5jdGlvbiBpc0VuYWJsZWQoY2hhbm5lbCl7cmV0dXJuKHRoaXMubWFzayYoMTw8Y2hhbm5lbHwwKSkhPT0wO319XSk7cmV0dXJuIExheWVyczt9KCk7dmFyIF9vYmplY3QzRElkPTA7dmFyIF92MSQ0PS8qQF9fUFVSRV9fKi9uZXcgVmVjdG9yMygpO3ZhciBfcTE9LypAX19QVVJFX18qL25ldyBRdWF0ZXJuaW9uKCk7dmFyIF9tMSQxPS8qQF9fUFVSRV9fKi9uZXcgTWF0cml4NCgpO3ZhciBfdGFyZ2V0PS8qQF9fUFVSRV9fKi9uZXcgVmVjdG9yMygpO3ZhciBfcG9zaXRpb24kMz0vKkBfX1BVUkVfXyovbmV3IFZlY3RvcjMoKTt2YXIgX3NjYWxlJDI9LypAX19QVVJFX18qL25ldyBWZWN0b3IzKCk7dmFyIF9xdWF0ZXJuaW9uJDI9LypAX19QVVJFX18qL25ldyBRdWF0ZXJuaW9uKCk7dmFyIF94QXhpcz0vKkBfX1BVUkVfXyovbmV3IFZlY3RvcjMoMSwwLDApO3ZhciBfeUF4aXM9LypAX19QVVJFX18qL25ldyBWZWN0b3IzKDAsMSwwKTt2YXIgX3pBeGlzPS8qQF9fUFVSRV9fKi9uZXcgVmVjdG9yMygwLDAsMSk7dmFyIF9hZGRlZEV2ZW50PXt0eXBlOidhZGRlZCd9O3ZhciBfcmVtb3ZlZEV2ZW50PXt0eXBlOidyZW1vdmVkJ307dmFyIE9iamVjdDNEPS8qI19fUFVSRV9fKi9mdW5jdGlvbihfRXZlbnREaXNwYXRjaGVyMyl7X2luaGVyaXRzKE9iamVjdDNELF9FdmVudERpc3BhdGNoZXIzKTt2YXIgX3N1cGVyNT1fY3JlYXRlU3VwZXIoT2JqZWN0M0QpO2Z1bmN0aW9uIE9iamVjdDNEKCl7dmFyIF90aGlzNjtfY2xhc3NDYWxsQ2hlY2sodGhpcyxPYmplY3QzRCk7X3RoaXM2PV9zdXBlcjUuY2FsbCh0aGlzKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpczYpLCdpZCcse3ZhbHVlOl9vYmplY3QzRElkKyt9KTtfdGhpczYudXVpZD1nZW5lcmF0ZVVVSUQoKTtfdGhpczYubmFtZT0nJztfdGhpczYudHlwZT0nT2JqZWN0M0QnO190aGlzNi5wYXJlbnQ9bnVsbDtfdGhpczYuY2hpbGRyZW49W107X3RoaXM2LnVwPU9iamVjdDNELkRlZmF1bHRVcC5jbG9uZSgpO3ZhciBwb3NpdGlvbj1uZXcgVmVjdG9yMygpO3ZhciByb3RhdGlvbj1uZXcgRXVsZXIoKTt2YXIgcXVhdGVybmlvbj1uZXcgUXVhdGVybmlvbigpO3ZhciBzY2FsZT1uZXcgVmVjdG9yMygxLDEsMSk7ZnVuY3Rpb24gb25Sb3RhdGlvbkNoYW5nZSgpe3F1YXRlcm5pb24uc2V0RnJvbUV1bGVyKHJvdGF0aW9uLGZhbHNlKTt9ZnVuY3Rpb24gb25RdWF0ZXJuaW9uQ2hhbmdlKCl7cm90YXRpb24uc2V0RnJvbVF1YXRlcm5pb24ocXVhdGVybmlvbix1bmRlZmluZWQsZmFsc2UpO31yb3RhdGlvbi5fb25DaGFuZ2Uob25Sb3RhdGlvbkNoYW5nZSk7cXVhdGVybmlvbi5fb25DaGFuZ2Uob25RdWF0ZXJuaW9uQ2hhbmdlKTtPYmplY3QuZGVmaW5lUHJvcGVydGllcyhfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzNikse3Bvc2l0aW9uOntjb25maWd1cmFibGU6dHJ1ZSxlbnVtZXJhYmxlOnRydWUsdmFsdWU6cG9zaXRpb259LHJvdGF0aW9uOntjb25maWd1cmFibGU6dHJ1ZSxlbnVtZXJhYmxlOnRydWUsdmFsdWU6cm90YXRpb259LHF1YXRlcm5pb246e2NvbmZpZ3VyYWJsZTp0cnVlLGVudW1lcmFibGU6dHJ1ZSx2YWx1ZTpxdWF0ZXJuaW9ufSxzY2FsZTp7Y29uZmlndXJhYmxlOnRydWUsZW51bWVyYWJsZTp0cnVlLHZhbHVlOnNjYWxlfSxtb2RlbFZpZXdNYXRyaXg6e3ZhbHVlOm5ldyBNYXRyaXg0KCl9LG5vcm1hbE1hdHJpeDp7dmFsdWU6bmV3IE1hdHJpeDMoKX19KTtfdGhpczYubWF0cml4PW5ldyBNYXRyaXg0KCk7X3RoaXM2Lm1hdHJpeFdvcmxkPW5ldyBNYXRyaXg0KCk7X3RoaXM2Lm1hdHJpeEF1dG9VcGRhdGU9T2JqZWN0M0QuRGVmYXVsdE1hdHJpeEF1dG9VcGRhdGU7X3RoaXM2Lm1hdHJpeFdvcmxkTmVlZHNVcGRhdGU9ZmFsc2U7X3RoaXM2LmxheWVycz1uZXcgTGF5ZXJzKCk7X3RoaXM2LnZpc2libGU9dHJ1ZTtfdGhpczYuY2FzdFNoYWRvdz1mYWxzZTtfdGhpczYucmVjZWl2ZVNoYWRvdz1mYWxzZTtfdGhpczYuZnJ1c3R1bUN1bGxlZD10cnVlO190aGlzNi5yZW5kZXJPcmRlcj0wO190aGlzNi5hbmltYXRpb25zPVtdO190aGlzNi51c2VyRGF0YT17fTtyZXR1cm4gX3RoaXM2O31fY3JlYXRlQ2xhc3MoT2JqZWN0M0QsW3trZXk6Im9uQmVmb3JlUmVuZGVyIix2YWx1ZTpmdW5jdGlvbiBvbkJlZm9yZVJlbmRlcigvKiByZW5kZXJlciwgc2NlbmUsIGNhbWVyYSwgZ2VvbWV0cnksIG1hdGVyaWFsLCBncm91cCAqLyl7fX0se2tleToib25BZnRlclJlbmRlciIsdmFsdWU6ZnVuY3Rpb24gb25BZnRlclJlbmRlcigvKiByZW5kZXJlciwgc2NlbmUsIGNhbWVyYSwgZ2VvbWV0cnksIG1hdGVyaWFsLCBncm91cCAqLyl7fX0se2tleToiYXBwbHlNYXRyaXg0Iix2YWx1ZTpmdW5jdGlvbiBhcHBseU1hdHJpeDQobWF0cml4KXtpZih0aGlzLm1hdHJpeEF1dG9VcGRhdGUpdGhpcy51cGRhdGVNYXRyaXgoKTt0aGlzLm1hdHJpeC5wcmVtdWx0aXBseShtYXRyaXgpO3RoaXMubWF0cml4LmRlY29tcG9zZSh0aGlzLnBvc2l0aW9uLHRoaXMucXVhdGVybmlvbix0aGlzLnNjYWxlKTt9fSx7a2V5OiJhcHBseVF1YXRlcm5pb24iLHZhbHVlOmZ1bmN0aW9uIGFwcGx5UXVhdGVybmlvbihxKXt0aGlzLnF1YXRlcm5pb24ucHJlbXVsdGlwbHkocSk7cmV0dXJuIHRoaXM7fX0se2tleToic2V0Um90YXRpb25Gcm9tQXhpc0FuZ2xlIix2YWx1ZTpmdW5jdGlvbiBzZXRSb3RhdGlvbkZyb21BeGlzQW5nbGUoYXhpcyxhbmdsZSl7Ly8gYXNzdW1lcyBheGlzIGlzIG5vcm1hbGl6ZWQKdGhpcy5xdWF0ZXJuaW9uLnNldEZyb21BeGlzQW5nbGUoYXhpcyxhbmdsZSk7fX0se2tleToic2V0Um90YXRpb25Gcm9tRXVsZXIiLHZhbHVlOmZ1bmN0aW9uIHNldFJvdGF0aW9uRnJvbUV1bGVyKGV1bGVyKXt0aGlzLnF1YXRlcm5pb24uc2V0RnJvbUV1bGVyKGV1bGVyLHRydWUpO319LHtrZXk6InNldFJvdGF0aW9uRnJvbU1hdHJpeCIsdmFsdWU6ZnVuY3Rpb24gc2V0Um90YXRpb25Gcm9tTWF0cml4KG0pey8vIGFzc3VtZXMgdGhlIHVwcGVyIDN4MyBvZiBtIGlzIGEgcHVyZSByb3RhdGlvbiBtYXRyaXggKGkuZSwgdW5zY2FsZWQpCnRoaXMucXVhdGVybmlvbi5zZXRGcm9tUm90YXRpb25NYXRyaXgobSk7fX0se2tleToic2V0Um90YXRpb25Gcm9tUXVhdGVybmlvbiIsdmFsdWU6ZnVuY3Rpb24gc2V0Um90YXRpb25Gcm9tUXVhdGVybmlvbihxKXsvLyBhc3N1bWVzIHEgaXMgbm9ybWFsaXplZAp0aGlzLnF1YXRlcm5pb24uY29weShxKTt9fSx7a2V5OiJyb3RhdGVPbkF4aXMiLHZhbHVlOmZ1bmN0aW9uIHJvdGF0ZU9uQXhpcyhheGlzLGFuZ2xlKXsvLyByb3RhdGUgb2JqZWN0IG9uIGF4aXMgaW4gb2JqZWN0IHNwYWNlCi8vIGF4aXMgaXMgYXNzdW1lZCB0byBiZSBub3JtYWxpemVkCl9xMS5zZXRGcm9tQXhpc0FuZ2xlKGF4aXMsYW5nbGUpO3RoaXMucXVhdGVybmlvbi5tdWx0aXBseShfcTEpO3JldHVybiB0aGlzO319LHtrZXk6InJvdGF0ZU9uV29ybGRBeGlzIix2YWx1ZTpmdW5jdGlvbiByb3RhdGVPbldvcmxkQXhpcyhheGlzLGFuZ2xlKXsvLyByb3RhdGUgb2JqZWN0IG9uIGF4aXMgaW4gd29ybGQgc3BhY2UKLy8gYXhpcyBpcyBhc3N1bWVkIHRvIGJlIG5vcm1hbGl6ZWQKLy8gbWV0aG9kIGFzc3VtZXMgbm8gcm90YXRlZCBwYXJlbnQKX3ExLnNldEZyb21BeGlzQW5nbGUoYXhpcyxhbmdsZSk7dGhpcy5xdWF0ZXJuaW9uLnByZW11bHRpcGx5KF9xMSk7cmV0dXJuIHRoaXM7fX0se2tleToicm90YXRlWCIsdmFsdWU6ZnVuY3Rpb24gcm90YXRlWChhbmdsZSl7cmV0dXJuIHRoaXMucm90YXRlT25BeGlzKF94QXhpcyxhbmdsZSk7fX0se2tleToicm90YXRlWSIsdmFsdWU6ZnVuY3Rpb24gcm90YXRlWShhbmdsZSl7cmV0dXJuIHRoaXMucm90YXRlT25BeGlzKF95QXhpcyxhbmdsZSk7fX0se2tleToicm90YXRlWiIsdmFsdWU6ZnVuY3Rpb24gcm90YXRlWihhbmdsZSl7cmV0dXJuIHRoaXMucm90YXRlT25BeGlzKF96QXhpcyxhbmdsZSk7fX0se2tleToidHJhbnNsYXRlT25BeGlzIix2YWx1ZTpmdW5jdGlvbiB0cmFuc2xhdGVPbkF4aXMoYXhpcyxkaXN0YW5jZSl7Ly8gdHJhbnNsYXRlIG9iamVjdCBieSBkaXN0YW5jZSBhbG9uZyBheGlzIGluIG9iamVjdCBzcGFjZQovLyBheGlzIGlzIGFzc3VtZWQgdG8gYmUgbm9ybWFsaXplZApfdjEkNC5jb3B5KGF4aXMpLmFwcGx5UXVhdGVybmlvbih0aGlzLnF1YXRlcm5pb24pO3RoaXMucG9zaXRpb24uYWRkKF92MSQ0Lm11bHRpcGx5U2NhbGFyKGRpc3RhbmNlKSk7cmV0dXJuIHRoaXM7fX0se2tleToidHJhbnNsYXRlWCIsdmFsdWU6ZnVuY3Rpb24gdHJhbnNsYXRlWChkaXN0YW5jZSl7cmV0dXJuIHRoaXMudHJhbnNsYXRlT25BeGlzKF94QXhpcyxkaXN0YW5jZSk7fX0se2tleToidHJhbnNsYXRlWSIsdmFsdWU6ZnVuY3Rpb24gdHJhbnNsYXRlWShkaXN0YW5jZSl7cmV0dXJuIHRoaXMudHJhbnNsYXRlT25BeGlzKF95QXhpcyxkaXN0YW5jZSk7fX0se2tleToidHJhbnNsYXRlWiIsdmFsdWU6ZnVuY3Rpb24gdHJhbnNsYXRlWihkaXN0YW5jZSl7cmV0dXJuIHRoaXMudHJhbnNsYXRlT25BeGlzKF96QXhpcyxkaXN0YW5jZSk7fX0se2tleToibG9jYWxUb1dvcmxkIix2YWx1ZTpmdW5jdGlvbiBsb2NhbFRvV29ybGQodmVjdG9yKXtyZXR1cm4gdmVjdG9yLmFwcGx5TWF0cml4NCh0aGlzLm1hdHJpeFdvcmxkKTt9fSx7a2V5OiJ3b3JsZFRvTG9jYWwiLHZhbHVlOmZ1bmN0aW9uIHdvcmxkVG9Mb2NhbCh2ZWN0b3Ipe3JldHVybiB2ZWN0b3IuYXBwbHlNYXRyaXg0KF9tMSQxLmNvcHkodGhpcy5tYXRyaXhXb3JsZCkuaW52ZXJ0KCkpO319LHtrZXk6Imxvb2tBdCIsdmFsdWU6ZnVuY3Rpb24gbG9va0F0KHgseSx6KXsvLyBUaGlzIG1ldGhvZCBkb2VzIG5vdCBzdXBwb3J0IG9iamVjdHMgaGF2aW5nIG5vbi11bmlmb3JtbHktc2NhbGVkIHBhcmVudChzKQppZih4LmlzVmVjdG9yMyl7X3RhcmdldC5jb3B5KHgpO31lbHNle190YXJnZXQuc2V0KHgseSx6KTt9dmFyIHBhcmVudD10aGlzLnBhcmVudDt0aGlzLnVwZGF0ZVdvcmxkTWF0cml4KHRydWUsZmFsc2UpO19wb3NpdGlvbiQzLnNldEZyb21NYXRyaXhQb3NpdGlvbih0aGlzLm1hdHJpeFdvcmxkKTtpZih0aGlzLmlzQ2FtZXJhfHx0aGlzLmlzTGlnaHQpe19tMSQxLmxvb2tBdChfcG9zaXRpb24kMyxfdGFyZ2V0LHRoaXMudXApO31lbHNle19tMSQxLmxvb2tBdChfdGFyZ2V0LF9wb3NpdGlvbiQzLHRoaXMudXApO310aGlzLnF1YXRlcm5pb24uc2V0RnJvbVJvdGF0aW9uTWF0cml4KF9tMSQxKTtpZihwYXJlbnQpe19tMSQxLmV4dHJhY3RSb3RhdGlvbihwYXJlbnQubWF0cml4V29ybGQpO19xMS5zZXRGcm9tUm90YXRpb25NYXRyaXgoX20xJDEpO3RoaXMucXVhdGVybmlvbi5wcmVtdWx0aXBseShfcTEuaW52ZXJ0KCkpO319fSx7a2V5OiJhZGQiLHZhbHVlOmZ1bmN0aW9uIGFkZChvYmplY3Qpe2lmKGFyZ3VtZW50cy5sZW5ndGg+MSl7Zm9yKHZhciBfaTE5PTA7X2kxOTxhcmd1bWVudHMubGVuZ3RoO19pMTkrKyl7dGhpcy5hZGQoYXJndW1lbnRzW19pMTldKTt9cmV0dXJuIHRoaXM7fWlmKG9iamVjdD09PXRoaXMpe2NvbnNvbGUuZXJyb3IoJ1RIUkVFLk9iamVjdDNELmFkZDogb2JqZWN0IGNhblwndCBiZSBhZGRlZCBhcyBhIGNoaWxkIG9mIGl0c2VsZi4nLG9iamVjdCk7cmV0dXJuIHRoaXM7fWlmKG9iamVjdCYmb2JqZWN0LmlzT2JqZWN0M0Qpe2lmKG9iamVjdC5wYXJlbnQhPT1udWxsKXtvYmplY3QucGFyZW50LnJlbW92ZShvYmplY3QpO31vYmplY3QucGFyZW50PXRoaXM7dGhpcy5jaGlsZHJlbi5wdXNoKG9iamVjdCk7b2JqZWN0LmRpc3BhdGNoRXZlbnQoX2FkZGVkRXZlbnQpO31lbHNle2NvbnNvbGUuZXJyb3IoJ1RIUkVFLk9iamVjdDNELmFkZDogb2JqZWN0IG5vdCBhbiBpbnN0YW5jZSBvZiBUSFJFRS5PYmplY3QzRC4nLG9iamVjdCk7fXJldHVybiB0aGlzO319LHtrZXk6InJlbW92ZSIsdmFsdWU6ZnVuY3Rpb24gcmVtb3ZlKG9iamVjdCl7aWYoYXJndW1lbnRzLmxlbmd0aD4xKXtmb3IodmFyIF9pMjA9MDtfaTIwPGFyZ3VtZW50cy5sZW5ndGg7X2kyMCsrKXt0aGlzLnJlbW92ZShhcmd1bWVudHNbX2kyMF0pO31yZXR1cm4gdGhpczt9dmFyIGluZGV4PXRoaXMuY2hpbGRyZW4uaW5kZXhPZihvYmplY3QpO2lmKGluZGV4IT09LTEpe29iamVjdC5wYXJlbnQ9bnVsbDt0aGlzLmNoaWxkcmVuLnNwbGljZShpbmRleCwxKTtvYmplY3QuZGlzcGF0Y2hFdmVudChfcmVtb3ZlZEV2ZW50KTt9cmV0dXJuIHRoaXM7fX0se2tleToicmVtb3ZlRnJvbVBhcmVudCIsdmFsdWU6ZnVuY3Rpb24gcmVtb3ZlRnJvbVBhcmVudCgpe3ZhciBwYXJlbnQ9dGhpcy5wYXJlbnQ7aWYocGFyZW50IT09bnVsbCl7cGFyZW50LnJlbW92ZSh0aGlzKTt9cmV0dXJuIHRoaXM7fX0se2tleToiY2xlYXIiLHZhbHVlOmZ1bmN0aW9uIGNsZWFyKCl7Zm9yKHZhciBfaTIxPTA7X2kyMTx0aGlzLmNoaWxkcmVuLmxlbmd0aDtfaTIxKyspe3ZhciBvYmplY3Q9dGhpcy5jaGlsZHJlbltfaTIxXTtvYmplY3QucGFyZW50PW51bGw7b2JqZWN0LmRpc3BhdGNoRXZlbnQoX3JlbW92ZWRFdmVudCk7fXRoaXMuY2hpbGRyZW4ubGVuZ3RoPTA7cmV0dXJuIHRoaXM7fX0se2tleToiYXR0YWNoIix2YWx1ZTpmdW5jdGlvbiBhdHRhY2gob2JqZWN0KXsvLyBhZGRzIG9iamVjdCBhcyBhIGNoaWxkIG9mIHRoaXMsIHdoaWxlIG1haW50YWluaW5nIHRoZSBvYmplY3QncyB3b3JsZCB0cmFuc2Zvcm0KLy8gTm90ZTogVGhpcyBtZXRob2QgZG9lcyBub3Qgc3VwcG9ydCBzY2VuZSBncmFwaHMgaGF2aW5nIG5vbi11bmlmb3JtbHktc2NhbGVkIG5vZGVzKHMpCnRoaXMudXBkYXRlV29ybGRNYXRyaXgodHJ1ZSxmYWxzZSk7X20xJDEuY29weSh0aGlzLm1hdHJpeFdvcmxkKS5pbnZlcnQoKTtpZihvYmplY3QucGFyZW50IT09bnVsbCl7b2JqZWN0LnBhcmVudC51cGRhdGVXb3JsZE1hdHJpeCh0cnVlLGZhbHNlKTtfbTEkMS5tdWx0aXBseShvYmplY3QucGFyZW50Lm1hdHJpeFdvcmxkKTt9b2JqZWN0LmFwcGx5TWF0cml4NChfbTEkMSk7dGhpcy5hZGQob2JqZWN0KTtvYmplY3QudXBkYXRlV29ybGRNYXRyaXgoZmFsc2UsdHJ1ZSk7cmV0dXJuIHRoaXM7fX0se2tleToiZ2V0T2JqZWN0QnlJZCIsdmFsdWU6ZnVuY3Rpb24gZ2V0T2JqZWN0QnlJZChpZCl7cmV0dXJuIHRoaXMuZ2V0T2JqZWN0QnlQcm9wZXJ0eSgnaWQnLGlkKTt9fSx7a2V5OiJnZXRPYmplY3RCeU5hbWUiLHZhbHVlOmZ1bmN0aW9uIGdldE9iamVjdEJ5TmFtZShuYW1lKXtyZXR1cm4gdGhpcy5nZXRPYmplY3RCeVByb3BlcnR5KCduYW1lJyxuYW1lKTt9fSx7a2V5OiJnZXRPYmplY3RCeVByb3BlcnR5Iix2YWx1ZTpmdW5jdGlvbiBnZXRPYmplY3RCeVByb3BlcnR5KG5hbWUsdmFsdWUpe2lmKHRoaXNbbmFtZV09PT12YWx1ZSlyZXR1cm4gdGhpcztmb3IodmFyIF9pMjI9MCxsPXRoaXMuY2hpbGRyZW4ubGVuZ3RoO19pMjI8bDtfaTIyKyspe3ZhciBjaGlsZD10aGlzLmNoaWxkcmVuW19pMjJdO3ZhciBvYmplY3Q9Y2hpbGQuZ2V0T2JqZWN0QnlQcm9wZXJ0eShuYW1lLHZhbHVlKTtpZihvYmplY3QhPT11bmRlZmluZWQpe3JldHVybiBvYmplY3Q7fX1yZXR1cm4gdW5kZWZpbmVkO319LHtrZXk6ImdldFdvcmxkUG9zaXRpb24iLHZhbHVlOmZ1bmN0aW9uIGdldFdvcmxkUG9zaXRpb24odGFyZ2V0KXt0aGlzLnVwZGF0ZVdvcmxkTWF0cml4KHRydWUsZmFsc2UpO3JldHVybiB0YXJnZXQuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKHRoaXMubWF0cml4V29ybGQpO319LHtrZXk6ImdldFdvcmxkUXVhdGVybmlvbiIsdmFsdWU6ZnVuY3Rpb24gZ2V0V29ybGRRdWF0ZXJuaW9uKHRhcmdldCl7dGhpcy51cGRhdGVXb3JsZE1hdHJpeCh0cnVlLGZhbHNlKTt0aGlzLm1hdHJpeFdvcmxkLmRlY29tcG9zZShfcG9zaXRpb24kMyx0YXJnZXQsX3NjYWxlJDIpO3JldHVybiB0YXJnZXQ7fX0se2tleToiZ2V0V29ybGRTY2FsZSIsdmFsdWU6ZnVuY3Rpb24gZ2V0V29ybGRTY2FsZSh0YXJnZXQpe3RoaXMudXBkYXRlV29ybGRNYXRyaXgodHJ1ZSxmYWxzZSk7dGhpcy5tYXRyaXhXb3JsZC5kZWNvbXBvc2UoX3Bvc2l0aW9uJDMsX3F1YXRlcm5pb24kMix0YXJnZXQpO3JldHVybiB0YXJnZXQ7fX0se2tleToiZ2V0V29ybGREaXJlY3Rpb24iLHZhbHVlOmZ1bmN0aW9uIGdldFdvcmxkRGlyZWN0aW9uKHRhcmdldCl7dGhpcy51cGRhdGVXb3JsZE1hdHJpeCh0cnVlLGZhbHNlKTt2YXIgZT10aGlzLm1hdHJpeFdvcmxkLmVsZW1lbnRzO3JldHVybiB0YXJnZXQuc2V0KGVbOF0sZVs5XSxlWzEwXSkubm9ybWFsaXplKCk7fX0se2tleToicmF5Y2FzdCIsdmFsdWU6ZnVuY3Rpb24gcmF5Y2FzdCgvKiByYXljYXN0ZXIsIGludGVyc2VjdHMgKi8pe319LHtrZXk6InRyYXZlcnNlIix2YWx1ZTpmdW5jdGlvbiB0cmF2ZXJzZShjYWxsYmFjayl7Y2FsbGJhY2sodGhpcyk7dmFyIGNoaWxkcmVuPXRoaXMuY2hpbGRyZW47Zm9yKHZhciBfaTIzPTAsbD1jaGlsZHJlbi5sZW5ndGg7X2kyMzxsO19pMjMrKyl7Y2hpbGRyZW5bX2kyM10udHJhdmVyc2UoY2FsbGJhY2spO319fSx7a2V5OiJ0cmF2ZXJzZVZpc2libGUiLHZhbHVlOmZ1bmN0aW9uIHRyYXZlcnNlVmlzaWJsZShjYWxsYmFjayl7aWYodGhpcy52aXNpYmxlPT09ZmFsc2UpcmV0dXJuO2NhbGxiYWNrKHRoaXMpO3ZhciBjaGlsZHJlbj10aGlzLmNoaWxkcmVuO2Zvcih2YXIgX2kyND0wLGw9Y2hpbGRyZW4ubGVuZ3RoO19pMjQ8bDtfaTI0Kyspe2NoaWxkcmVuW19pMjRdLnRyYXZlcnNlVmlzaWJsZShjYWxsYmFjayk7fX19LHtrZXk6InRyYXZlcnNlQW5jZXN0b3JzIix2YWx1ZTpmdW5jdGlvbiB0cmF2ZXJzZUFuY2VzdG9ycyhjYWxsYmFjayl7dmFyIHBhcmVudD10aGlzLnBhcmVudDtpZihwYXJlbnQhPT1udWxsKXtjYWxsYmFjayhwYXJlbnQpO3BhcmVudC50cmF2ZXJzZUFuY2VzdG9ycyhjYWxsYmFjayk7fX19LHtrZXk6InVwZGF0ZU1hdHJpeCIsdmFsdWU6ZnVuY3Rpb24gdXBkYXRlTWF0cml4KCl7dGhpcy5tYXRyaXguY29tcG9zZSh0aGlzLnBvc2l0aW9uLHRoaXMucXVhdGVybmlvbix0aGlzLnNjYWxlKTt0aGlzLm1hdHJpeFdvcmxkTmVlZHNVcGRhdGU9dHJ1ZTt9fSx7a2V5OiJ1cGRhdGVNYXRyaXhXb3JsZCIsdmFsdWU6ZnVuY3Rpb24gdXBkYXRlTWF0cml4V29ybGQoZm9yY2Upe2lmKHRoaXMubWF0cml4QXV0b1VwZGF0ZSl0aGlzLnVwZGF0ZU1hdHJpeCgpO2lmKHRoaXMubWF0cml4V29ybGROZWVkc1VwZGF0ZXx8Zm9yY2Upe2lmKHRoaXMucGFyZW50PT09bnVsbCl7dGhpcy5tYXRyaXhXb3JsZC5jb3B5KHRoaXMubWF0cml4KTt9ZWxzZXt0aGlzLm1hdHJpeFdvcmxkLm11bHRpcGx5TWF0cmljZXModGhpcy5wYXJlbnQubWF0cml4V29ybGQsdGhpcy5tYXRyaXgpO310aGlzLm1hdHJpeFdvcmxkTmVlZHNVcGRhdGU9ZmFsc2U7Zm9yY2U9dHJ1ZTt9Ly8gdXBkYXRlIGNoaWxkcmVuCnZhciBjaGlsZHJlbj10aGlzLmNoaWxkcmVuO2Zvcih2YXIgX2kyNT0wLGw9Y2hpbGRyZW4ubGVuZ3RoO19pMjU8bDtfaTI1Kyspe2NoaWxkcmVuW19pMjVdLnVwZGF0ZU1hdHJpeFdvcmxkKGZvcmNlKTt9fX0se2tleToidXBkYXRlV29ybGRNYXRyaXgiLHZhbHVlOmZ1bmN0aW9uIHVwZGF0ZVdvcmxkTWF0cml4KHVwZGF0ZVBhcmVudHMsdXBkYXRlQ2hpbGRyZW4pe3ZhciBwYXJlbnQ9dGhpcy5wYXJlbnQ7aWYodXBkYXRlUGFyZW50cz09PXRydWUmJnBhcmVudCE9PW51bGwpe3BhcmVudC51cGRhdGVXb3JsZE1hdHJpeCh0cnVlLGZhbHNlKTt9aWYodGhpcy5tYXRyaXhBdXRvVXBkYXRlKXRoaXMudXBkYXRlTWF0cml4KCk7aWYodGhpcy5wYXJlbnQ9PT1udWxsKXt0aGlzLm1hdHJpeFdvcmxkLmNvcHkodGhpcy5tYXRyaXgpO31lbHNle3RoaXMubWF0cml4V29ybGQubXVsdGlwbHlNYXRyaWNlcyh0aGlzLnBhcmVudC5tYXRyaXhXb3JsZCx0aGlzLm1hdHJpeCk7fS8vIHVwZGF0ZSBjaGlsZHJlbgppZih1cGRhdGVDaGlsZHJlbj09PXRydWUpe3ZhciBjaGlsZHJlbj10aGlzLmNoaWxkcmVuO2Zvcih2YXIgX2kyNj0wLGw9Y2hpbGRyZW4ubGVuZ3RoO19pMjY8bDtfaTI2Kyspe2NoaWxkcmVuW19pMjZdLnVwZGF0ZVdvcmxkTWF0cml4KGZhbHNlLHRydWUpO319fX0se2tleToidG9KU09OIix2YWx1ZTpmdW5jdGlvbiB0b0pTT04obWV0YSl7Ly8gbWV0YSBpcyBhIHN0cmluZyB3aGVuIGNhbGxlZCBmcm9tIEpTT04uc3RyaW5naWZ5CnZhciBpc1Jvb3RPYmplY3Q9bWV0YT09PXVuZGVmaW5lZHx8dHlwZW9mIG1ldGE9PT0nc3RyaW5nJzt2YXIgb3V0cHV0PXt9Oy8vIG1ldGEgaXMgYSBoYXNoIHVzZWQgdG8gY29sbGVjdCBnZW9tZXRyaWVzLCBtYXRlcmlhbHMuCi8vIG5vdCBwcm92aWRpbmcgaXQgaW1wbGllcyB0aGF0IHRoaXMgaXMgdGhlIHJvb3Qgb2JqZWN0Ci8vIGJlaW5nIHNlcmlhbGl6ZWQuCmlmKGlzUm9vdE9iamVjdCl7Ly8gaW5pdGlhbGl6ZSBtZXRhIG9iagptZXRhPXtnZW9tZXRyaWVzOnt9LG1hdGVyaWFsczp7fSx0ZXh0dXJlczp7fSxpbWFnZXM6e30sc2hhcGVzOnt9LHNrZWxldG9uczp7fSxhbmltYXRpb25zOnt9fTtvdXRwdXQubWV0YWRhdGE9e3ZlcnNpb246NC41LHR5cGU6J09iamVjdCcsZ2VuZXJhdG9yOidPYmplY3QzRC50b0pTT04nfTt9Ly8gc3RhbmRhcmQgT2JqZWN0M0Qgc2VyaWFsaXphdGlvbgp2YXIgb2JqZWN0PXt9O29iamVjdC51dWlkPXRoaXMudXVpZDtvYmplY3QudHlwZT10aGlzLnR5cGU7aWYodGhpcy5uYW1lIT09Jycpb2JqZWN0Lm5hbWU9dGhpcy5uYW1lO2lmKHRoaXMuY2FzdFNoYWRvdz09PXRydWUpb2JqZWN0LmNhc3RTaGFkb3c9dHJ1ZTtpZih0aGlzLnJlY2VpdmVTaGFkb3c9PT10cnVlKW9iamVjdC5yZWNlaXZlU2hhZG93PXRydWU7aWYodGhpcy52aXNpYmxlPT09ZmFsc2Upb2JqZWN0LnZpc2libGU9ZmFsc2U7aWYodGhpcy5mcnVzdHVtQ3VsbGVkPT09ZmFsc2Upb2JqZWN0LmZydXN0dW1DdWxsZWQ9ZmFsc2U7aWYodGhpcy5yZW5kZXJPcmRlciE9PTApb2JqZWN0LnJlbmRlck9yZGVyPXRoaXMucmVuZGVyT3JkZXI7aWYoSlNPTi5zdHJpbmdpZnkodGhpcy51c2VyRGF0YSkhPT0ne30nKW9iamVjdC51c2VyRGF0YT10aGlzLnVzZXJEYXRhO29iamVjdC5sYXllcnM9dGhpcy5sYXllcnMubWFzaztvYmplY3QubWF0cml4PXRoaXMubWF0cml4LnRvQXJyYXkoKTtpZih0aGlzLm1hdHJpeEF1dG9VcGRhdGU9PT1mYWxzZSlvYmplY3QubWF0cml4QXV0b1VwZGF0ZT1mYWxzZTsvLyBvYmplY3Qgc3BlY2lmaWMgcHJvcGVydGllcwppZih0aGlzLmlzSW5zdGFuY2VkTWVzaCl7b2JqZWN0LnR5cGU9J0luc3RhbmNlZE1lc2gnO29iamVjdC5jb3VudD10aGlzLmNvdW50O29iamVjdC5pbnN0YW5jZU1hdHJpeD10aGlzLmluc3RhbmNlTWF0cml4LnRvSlNPTigpO2lmKHRoaXMuaW5zdGFuY2VDb2xvciE9PW51bGwpb2JqZWN0Lmluc3RhbmNlQ29sb3I9dGhpcy5pbnN0YW5jZUNvbG9yLnRvSlNPTigpO30vLwpmdW5jdGlvbiBzZXJpYWxpemUobGlicmFyeSxlbGVtZW50KXtpZihsaWJyYXJ5W2VsZW1lbnQudXVpZF09PT11bmRlZmluZWQpe2xpYnJhcnlbZWxlbWVudC51dWlkXT1lbGVtZW50LnRvSlNPTihtZXRhKTt9cmV0dXJuIGVsZW1lbnQudXVpZDt9aWYodGhpcy5pc1NjZW5lKXtpZih0aGlzLmJhY2tncm91bmQpe2lmKHRoaXMuYmFja2dyb3VuZC5pc0NvbG9yKXtvYmplY3QuYmFja2dyb3VuZD10aGlzLmJhY2tncm91bmQudG9KU09OKCk7fWVsc2UgaWYodGhpcy5iYWNrZ3JvdW5kLmlzVGV4dHVyZSl7b2JqZWN0LmJhY2tncm91bmQ9dGhpcy5iYWNrZ3JvdW5kLnRvSlNPTihtZXRhKS51dWlkO319aWYodGhpcy5lbnZpcm9ubWVudCYmdGhpcy5lbnZpcm9ubWVudC5pc1RleHR1cmUpe29iamVjdC5lbnZpcm9ubWVudD10aGlzLmVudmlyb25tZW50LnRvSlNPTihtZXRhKS51dWlkO319ZWxzZSBpZih0aGlzLmlzTWVzaHx8dGhpcy5pc0xpbmV8fHRoaXMuaXNQb2ludHMpe29iamVjdC5nZW9tZXRyeT1zZXJpYWxpemUobWV0YS5nZW9tZXRyaWVzLHRoaXMuZ2VvbWV0cnkpO3ZhciBwYXJhbWV0ZXJzPXRoaXMuZ2VvbWV0cnkucGFyYW1ldGVycztpZihwYXJhbWV0ZXJzIT09dW5kZWZpbmVkJiZwYXJhbWV0ZXJzLnNoYXBlcyE9PXVuZGVmaW5lZCl7dmFyIHNoYXBlcz1wYXJhbWV0ZXJzLnNoYXBlcztpZihBcnJheS5pc0FycmF5KHNoYXBlcykpe2Zvcih2YXIgX2kyNz0wLGw9c2hhcGVzLmxlbmd0aDtfaTI3PGw7X2kyNysrKXt2YXIgc2hhcGU9c2hhcGVzW19pMjddO3NlcmlhbGl6ZShtZXRhLnNoYXBlcyxzaGFwZSk7fX1lbHNle3NlcmlhbGl6ZShtZXRhLnNoYXBlcyxzaGFwZXMpO319fWlmKHRoaXMuaXNTa2lubmVkTWVzaCl7b2JqZWN0LmJpbmRNb2RlPXRoaXMuYmluZE1vZGU7b2JqZWN0LmJpbmRNYXRyaXg9dGhpcy5iaW5kTWF0cml4LnRvQXJyYXkoKTtpZih0aGlzLnNrZWxldG9uIT09dW5kZWZpbmVkKXtzZXJpYWxpemUobWV0YS5za2VsZXRvbnMsdGhpcy5za2VsZXRvbik7b2JqZWN0LnNrZWxldG9uPXRoaXMuc2tlbGV0b24udXVpZDt9fWlmKHRoaXMubWF0ZXJpYWwhPT11bmRlZmluZWQpe2lmKEFycmF5LmlzQXJyYXkodGhpcy5tYXRlcmlhbCkpe3ZhciB1dWlkcz1bXTtmb3IodmFyIF9pMjg9MCxfbDI9dGhpcy5tYXRlcmlhbC5sZW5ndGg7X2kyODxfbDI7X2kyOCsrKXt1dWlkcy5wdXNoKHNlcmlhbGl6ZShtZXRhLm1hdGVyaWFscyx0aGlzLm1hdGVyaWFsW19pMjhdKSk7fW9iamVjdC5tYXRlcmlhbD11dWlkczt9ZWxzZXtvYmplY3QubWF0ZXJpYWw9c2VyaWFsaXplKG1ldGEubWF0ZXJpYWxzLHRoaXMubWF0ZXJpYWwpO319Ly8KaWYodGhpcy5jaGlsZHJlbi5sZW5ndGg+MCl7b2JqZWN0LmNoaWxkcmVuPVtdO2Zvcih2YXIgX2kyOT0wO19pMjk8dGhpcy5jaGlsZHJlbi5sZW5ndGg7X2kyOSsrKXtvYmplY3QuY2hpbGRyZW4ucHVzaCh0aGlzLmNoaWxkcmVuW19pMjldLnRvSlNPTihtZXRhKS5vYmplY3QpO319Ly8KaWYodGhpcy5hbmltYXRpb25zLmxlbmd0aD4wKXtvYmplY3QuYW5pbWF0aW9ucz1bXTtmb3IodmFyIF9pMzA9MDtfaTMwPHRoaXMuYW5pbWF0aW9ucy5sZW5ndGg7X2kzMCsrKXt2YXIgYW5pbWF0aW9uPXRoaXMuYW5pbWF0aW9uc1tfaTMwXTtvYmplY3QuYW5pbWF0aW9ucy5wdXNoKHNlcmlhbGl6ZShtZXRhLmFuaW1hdGlvbnMsYW5pbWF0aW9uKSk7fX1pZihpc1Jvb3RPYmplY3Qpe3ZhciBnZW9tZXRyaWVzPWV4dHJhY3RGcm9tQ2FjaGUobWV0YS5nZW9tZXRyaWVzKTt2YXIgbWF0ZXJpYWxzPWV4dHJhY3RGcm9tQ2FjaGUobWV0YS5tYXRlcmlhbHMpO3ZhciB0ZXh0dXJlcz1leHRyYWN0RnJvbUNhY2hlKG1ldGEudGV4dHVyZXMpO3ZhciBpbWFnZXM9ZXh0cmFjdEZyb21DYWNoZShtZXRhLmltYWdlcyk7dmFyIF9zaGFwZXM9ZXh0cmFjdEZyb21DYWNoZShtZXRhLnNoYXBlcyk7dmFyIHNrZWxldG9ucz1leHRyYWN0RnJvbUNhY2hlKG1ldGEuc2tlbGV0b25zKTt2YXIgYW5pbWF0aW9ucz1leHRyYWN0RnJvbUNhY2hlKG1ldGEuYW5pbWF0aW9ucyk7aWYoZ2VvbWV0cmllcy5sZW5ndGg+MClvdXRwdXQuZ2VvbWV0cmllcz1nZW9tZXRyaWVzO2lmKG1hdGVyaWFscy5sZW5ndGg+MClvdXRwdXQubWF0ZXJpYWxzPW1hdGVyaWFscztpZih0ZXh0dXJlcy5sZW5ndGg+MClvdXRwdXQudGV4dHVyZXM9dGV4dHVyZXM7aWYoaW1hZ2VzLmxlbmd0aD4wKW91dHB1dC5pbWFnZXM9aW1hZ2VzO2lmKF9zaGFwZXMubGVuZ3RoPjApb3V0cHV0LnNoYXBlcz1fc2hhcGVzO2lmKHNrZWxldG9ucy5sZW5ndGg+MClvdXRwdXQuc2tlbGV0b25zPXNrZWxldG9ucztpZihhbmltYXRpb25zLmxlbmd0aD4wKW91dHB1dC5hbmltYXRpb25zPWFuaW1hdGlvbnM7fW91dHB1dC5vYmplY3Q9b2JqZWN0O3JldHVybiBvdXRwdXQ7Ly8gZXh0cmFjdCBkYXRhIGZyb20gdGhlIGNhY2hlIGhhc2gKLy8gcmVtb3ZlIG1ldGFkYXRhIG9uIGVhY2ggaXRlbQovLyBhbmQgcmV0dXJuIGFzIGFycmF5CmZ1bmN0aW9uIGV4dHJhY3RGcm9tQ2FjaGUoY2FjaGUpe3ZhciB2YWx1ZXM9W107Zm9yKHZhciBrZXkgaW4gY2FjaGUpe3ZhciBkYXRhPWNhY2hlW2tleV07ZGVsZXRlIGRhdGEubWV0YWRhdGE7dmFsdWVzLnB1c2goZGF0YSk7fXJldHVybiB2YWx1ZXM7fX19LHtrZXk6ImNsb25lIix2YWx1ZTpmdW5jdGlvbiBjbG9uZShyZWN1cnNpdmUpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcigpLmNvcHkodGhpcyxyZWN1cnNpdmUpO319LHtrZXk6ImNvcHkiLHZhbHVlOmZ1bmN0aW9uIGNvcHkoc291cmNlKXt2YXIgcmVjdXJzaXZlPWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1sxXTp0cnVlO3RoaXMubmFtZT1zb3VyY2UubmFtZTt0aGlzLnVwLmNvcHkoc291cmNlLnVwKTt0aGlzLnBvc2l0aW9uLmNvcHkoc291cmNlLnBvc2l0aW9uKTt0aGlzLnJvdGF0aW9uLm9yZGVyPXNvdXJjZS5yb3RhdGlvbi5vcmRlcjt0aGlzLnF1YXRlcm5pb24uY29weShzb3VyY2UucXVhdGVybmlvbik7dGhpcy5zY2FsZS5jb3B5KHNvdXJjZS5zY2FsZSk7dGhpcy5tYXRyaXguY29weShzb3VyY2UubWF0cml4KTt0aGlzLm1hdHJpeFdvcmxkLmNvcHkoc291cmNlLm1hdHJpeFdvcmxkKTt0aGlzLm1hdHJpeEF1dG9VcGRhdGU9c291cmNlLm1hdHJpeEF1dG9VcGRhdGU7dGhpcy5tYXRyaXhXb3JsZE5lZWRzVXBkYXRlPXNvdXJjZS5tYXRyaXhXb3JsZE5lZWRzVXBkYXRlO3RoaXMubGF5ZXJzLm1hc2s9c291cmNlLmxheWVycy5tYXNrO3RoaXMudmlzaWJsZT1zb3VyY2UudmlzaWJsZTt0aGlzLmNhc3RTaGFkb3c9c291cmNlLmNhc3RTaGFkb3c7dGhpcy5yZWNlaXZlU2hhZG93PXNvdXJjZS5yZWNlaXZlU2hhZG93O3RoaXMuZnJ1c3R1bUN1bGxlZD1zb3VyY2UuZnJ1c3R1bUN1bGxlZDt0aGlzLnJlbmRlck9yZGVyPXNvdXJjZS5yZW5kZXJPcmRlcjt0aGlzLnVzZXJEYXRhPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoc291cmNlLnVzZXJEYXRhKSk7aWYocmVjdXJzaXZlPT09dHJ1ZSl7Zm9yKHZhciBfaTMxPTA7X2kzMTxzb3VyY2UuY2hpbGRyZW4ubGVuZ3RoO19pMzErKyl7dmFyIGNoaWxkPXNvdXJjZS5jaGlsZHJlbltfaTMxXTt0aGlzLmFkZChjaGlsZC5jbG9uZSgpKTt9fXJldHVybiB0aGlzO319XSk7cmV0dXJuIE9iamVjdDNEO30oRXZlbnREaXNwYXRjaGVyKTtPYmplY3QzRC5EZWZhdWx0VXA9bmV3IFZlY3RvcjMoMCwxLDApO09iamVjdDNELkRlZmF1bHRNYXRyaXhBdXRvVXBkYXRlPXRydWU7T2JqZWN0M0QucHJvdG90eXBlLmlzT2JqZWN0M0Q9dHJ1ZTt2YXIgX3YwJDE9LypAX19QVVJFX18qL25ldyBWZWN0b3IzKCk7dmFyIF92MSQzPS8qQF9fUFVSRV9fKi9uZXcgVmVjdG9yMygpO3ZhciBfdjIkMj0vKkBfX1BVUkVfXyovbmV3IFZlY3RvcjMoKTt2YXIgX3YzJDE9LypAX19QVVJFX18qL25ldyBWZWN0b3IzKCk7dmFyIF92YWI9LypAX19QVVJFX18qL25ldyBWZWN0b3IzKCk7dmFyIF92YWM9LypAX19QVVJFX18qL25ldyBWZWN0b3IzKCk7dmFyIF92YmM9LypAX19QVVJFX18qL25ldyBWZWN0b3IzKCk7dmFyIF92YXA9LypAX19QVVJFX18qL25ldyBWZWN0b3IzKCk7dmFyIF92YnA9LypAX19QVVJFX18qL25ldyBWZWN0b3IzKCk7dmFyIF92Y3A9LypAX19QVVJFX18qL25ldyBWZWN0b3IzKCk7dmFyIFRyaWFuZ2xlPS8qI19fUFVSRV9fKi9mdW5jdGlvbigpe2Z1bmN0aW9uIFRyaWFuZ2xlKCl7dmFyIGE9YXJndW1lbnRzLmxlbmd0aD4wJiZhcmd1bWVudHNbMF0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzBdOm5ldyBWZWN0b3IzKCk7dmFyIGI9YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzFdOm5ldyBWZWN0b3IzKCk7dmFyIGM9YXJndW1lbnRzLmxlbmd0aD4yJiZhcmd1bWVudHNbMl0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzJdOm5ldyBWZWN0b3IzKCk7X2NsYXNzQ2FsbENoZWNrKHRoaXMsVHJpYW5nbGUpO3RoaXMuYT1hO3RoaXMuYj1iO3RoaXMuYz1jO31fY3JlYXRlQ2xhc3MoVHJpYW5nbGUsW3trZXk6InNldCIsdmFsdWU6ZnVuY3Rpb24gc2V0KGEsYixjKXt0aGlzLmEuY29weShhKTt0aGlzLmIuY29weShiKTt0aGlzLmMuY29weShjKTtyZXR1cm4gdGhpczt9fSx7a2V5OiJzZXRGcm9tUG9pbnRzQW5kSW5kaWNlcyIsdmFsdWU6ZnVuY3Rpb24gc2V0RnJvbVBvaW50c0FuZEluZGljZXMocG9pbnRzLGkwLGkxLGkyKXt0aGlzLmEuY29weShwb2ludHNbaTBdKTt0aGlzLmIuY29weShwb2ludHNbaTFdKTt0aGlzLmMuY29weShwb2ludHNbaTJdKTtyZXR1cm4gdGhpczt9fSx7a2V5OiJzZXRGcm9tQXR0cmlidXRlQW5kSW5kaWNlcyIsdmFsdWU6ZnVuY3Rpb24gc2V0RnJvbUF0dHJpYnV0ZUFuZEluZGljZXMoYXR0cmlidXRlLGkwLGkxLGkyKXt0aGlzLmEuZnJvbUJ1ZmZlckF0dHJpYnV0ZShhdHRyaWJ1dGUsaTApO3RoaXMuYi5mcm9tQnVmZmVyQXR0cmlidXRlKGF0dHJpYnV0ZSxpMSk7dGhpcy5jLmZyb21CdWZmZXJBdHRyaWJ1dGUoYXR0cmlidXRlLGkyKTtyZXR1cm4gdGhpczt9fSx7a2V5OiJjbG9uZSIsdmFsdWU6ZnVuY3Rpb24gY2xvbmUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoKS5jb3B5KHRoaXMpO319LHtrZXk6ImNvcHkiLHZhbHVlOmZ1bmN0aW9uIGNvcHkodHJpYW5nbGUpe3RoaXMuYS5jb3B5KHRyaWFuZ2xlLmEpO3RoaXMuYi5jb3B5KHRyaWFuZ2xlLmIpO3RoaXMuYy5jb3B5KHRyaWFuZ2xlLmMpO3JldHVybiB0aGlzO319LHtrZXk6ImdldEFyZWEiLHZhbHVlOmZ1bmN0aW9uIGdldEFyZWEoKXtfdjAkMS5zdWJWZWN0b3JzKHRoaXMuYyx0aGlzLmIpO192MSQzLnN1YlZlY3RvcnModGhpcy5hLHRoaXMuYik7cmV0dXJuIF92MCQxLmNyb3NzKF92MSQzKS5sZW5ndGgoKSowLjU7fX0se2tleToiZ2V0TWlkcG9pbnQiLHZhbHVlOmZ1bmN0aW9uIGdldE1pZHBvaW50KHRhcmdldCl7cmV0dXJuIHRhcmdldC5hZGRWZWN0b3JzKHRoaXMuYSx0aGlzLmIpLmFkZCh0aGlzLmMpLm11bHRpcGx5U2NhbGFyKDEvMyk7fX0se2tleToiZ2V0Tm9ybWFsIix2YWx1ZTpmdW5jdGlvbiBnZXROb3JtYWwodGFyZ2V0KXtyZXR1cm4gVHJpYW5nbGUuZ2V0Tm9ybWFsKHRoaXMuYSx0aGlzLmIsdGhpcy5jLHRhcmdldCk7fX0se2tleToiZ2V0UGxhbmUiLHZhbHVlOmZ1bmN0aW9uIGdldFBsYW5lKHRhcmdldCl7cmV0dXJuIHRhcmdldC5zZXRGcm9tQ29wbGFuYXJQb2ludHModGhpcy5hLHRoaXMuYix0aGlzLmMpO319LHtrZXk6ImdldEJhcnljb29yZCIsdmFsdWU6ZnVuY3Rpb24gZ2V0QmFyeWNvb3JkKHBvaW50LHRhcmdldCl7cmV0dXJuIFRyaWFuZ2xlLmdldEJhcnljb29yZChwb2ludCx0aGlzLmEsdGhpcy5iLHRoaXMuYyx0YXJnZXQpO319LHtrZXk6ImdldFVWIix2YWx1ZTpmdW5jdGlvbiBnZXRVVihwb2ludCx1djEsdXYyLHV2Myx0YXJnZXQpe3JldHVybiBUcmlhbmdsZS5nZXRVVihwb2ludCx0aGlzLmEsdGhpcy5iLHRoaXMuYyx1djEsdXYyLHV2Myx0YXJnZXQpO319LHtrZXk6ImNvbnRhaW5zUG9pbnQiLHZhbHVlOmZ1bmN0aW9uIGNvbnRhaW5zUG9pbnQocG9pbnQpe3JldHVybiBUcmlhbmdsZS5jb250YWluc1BvaW50KHBvaW50LHRoaXMuYSx0aGlzLmIsdGhpcy5jKTt9fSx7a2V5OiJpc0Zyb250RmFjaW5nIix2YWx1ZTpmdW5jdGlvbiBpc0Zyb250RmFjaW5nKGRpcmVjdGlvbil7cmV0dXJuIFRyaWFuZ2xlLmlzRnJvbnRGYWNpbmcodGhpcy5hLHRoaXMuYix0aGlzLmMsZGlyZWN0aW9uKTt9fSx7a2V5OiJpbnRlcnNlY3RzQm94Iix2YWx1ZTpmdW5jdGlvbiBpbnRlcnNlY3RzQm94KGJveCl7cmV0dXJuIGJveC5pbnRlcnNlY3RzVHJpYW5nbGUodGhpcyk7fX0se2tleToiY2xvc2VzdFBvaW50VG9Qb2ludCIsdmFsdWU6ZnVuY3Rpb24gY2xvc2VzdFBvaW50VG9Qb2ludChwLHRhcmdldCl7dmFyIGE9dGhpcy5hLGI9dGhpcy5iLGM9dGhpcy5jO3ZhciB2LHc7Ly8gYWxnb3JpdGhtIHRoYW5rcyB0byBSZWFsLVRpbWUgQ29sbGlzaW9uIERldGVjdGlvbiBieSBDaHJpc3RlciBFcmljc29uLAovLyBwdWJsaXNoZWQgYnkgTW9yZ2FuIEthdWZtYW5uIFB1Ymxpc2hlcnMsIChjKSAyMDA1IEVsc2V2aWVyIEluYy4sCi8vIHVuZGVyIHRoZSBhY2NvbXBhbnlpbmcgbGljZW5zZTsgc2VlIGNoYXB0ZXIgNS4xLjUgZm9yIGRldGFpbGVkIGV4cGxhbmF0aW9uLgovLyBiYXNpY2FsbHksIHdlJ3JlIGRpc3Rpbmd1aXNoaW5nIHdoaWNoIG9mIHRoZSB2b3Jvbm9pIHJlZ2lvbnMgb2YgdGhlIHRyaWFuZ2xlCi8vIHRoZSBwb2ludCBsaWVzIGluIHdpdGggdGhlIG1pbmltdW0gYW1vdW50IG9mIHJlZHVuZGFudCBjb21wdXRhdGlvbi4KX3ZhYi5zdWJWZWN0b3JzKGIsYSk7X3ZhYy5zdWJWZWN0b3JzKGMsYSk7X3ZhcC5zdWJWZWN0b3JzKHAsYSk7dmFyIGQxPV92YWIuZG90KF92YXApO3ZhciBkMj1fdmFjLmRvdChfdmFwKTtpZihkMTw9MCYmZDI8PTApey8vIHZlcnRleCByZWdpb24gb2YgQTsgYmFyeWNlbnRyaWMgY29vcmRzICgxLCAwLCAwKQpyZXR1cm4gdGFyZ2V0LmNvcHkoYSk7fV92YnAuc3ViVmVjdG9ycyhwLGIpO3ZhciBkMz1fdmFiLmRvdChfdmJwKTt2YXIgZDQ9X3ZhYy5kb3QoX3ZicCk7aWYoZDM+PTAmJmQ0PD1kMyl7Ly8gdmVydGV4IHJlZ2lvbiBvZiBCOyBiYXJ5Y2VudHJpYyBjb29yZHMgKDAsIDEsIDApCnJldHVybiB0YXJnZXQuY29weShiKTt9dmFyIHZjPWQxKmQ0LWQzKmQyO2lmKHZjPD0wJiZkMT49MCYmZDM8PTApe3Y9ZDEvKGQxLWQzKTsvLyBlZGdlIHJlZ2lvbiBvZiBBQjsgYmFyeWNlbnRyaWMgY29vcmRzICgxLXYsIHYsIDApCnJldHVybiB0YXJnZXQuY29weShhKS5hZGRTY2FsZWRWZWN0b3IoX3ZhYix2KTt9X3ZjcC5zdWJWZWN0b3JzKHAsYyk7dmFyIGQ1PV92YWIuZG90KF92Y3ApO3ZhciBkNj1fdmFjLmRvdChfdmNwKTtpZihkNj49MCYmZDU8PWQ2KXsvLyB2ZXJ0ZXggcmVnaW9uIG9mIEM7IGJhcnljZW50cmljIGNvb3JkcyAoMCwgMCwgMSkKcmV0dXJuIHRhcmdldC5jb3B5KGMpO312YXIgdmI9ZDUqZDItZDEqZDY7aWYodmI8PTAmJmQyPj0wJiZkNjw9MCl7dz1kMi8oZDItZDYpOy8vIGVkZ2UgcmVnaW9uIG9mIEFDOyBiYXJ5Y2VudHJpYyBjb29yZHMgKDEtdywgMCwgdykKcmV0dXJuIHRhcmdldC5jb3B5KGEpLmFkZFNjYWxlZFZlY3RvcihfdmFjLHcpO312YXIgdmE9ZDMqZDYtZDUqZDQ7aWYodmE8PTAmJmQ0LWQzPj0wJiZkNS1kNj49MCl7X3ZiYy5zdWJWZWN0b3JzKGMsYik7dz0oZDQtZDMpLyhkNC1kMysoZDUtZDYpKTsvLyBlZGdlIHJlZ2lvbiBvZiBCQzsgYmFyeWNlbnRyaWMgY29vcmRzICgwLCAxLXcsIHcpCnJldHVybiB0YXJnZXQuY29weShiKS5hZGRTY2FsZWRWZWN0b3IoX3ZiYyx3KTsvLyBlZGdlIHJlZ2lvbiBvZiBCQwp9Ly8gZmFjZSByZWdpb24KdmFyIGRlbm9tPTEvKHZhK3ZiK3ZjKTsvLyB1ID0gdmEgKiBkZW5vbQp2PXZiKmRlbm9tO3c9dmMqZGVub207cmV0dXJuIHRhcmdldC5jb3B5KGEpLmFkZFNjYWxlZFZlY3RvcihfdmFiLHYpLmFkZFNjYWxlZFZlY3RvcihfdmFjLHcpO319LHtrZXk6ImVxdWFscyIsdmFsdWU6ZnVuY3Rpb24gZXF1YWxzKHRyaWFuZ2xlKXtyZXR1cm4gdHJpYW5nbGUuYS5lcXVhbHModGhpcy5hKSYmdHJpYW5nbGUuYi5lcXVhbHModGhpcy5iKSYmdHJpYW5nbGUuYy5lcXVhbHModGhpcy5jKTt9fV0sW3trZXk6ImdldE5vcm1hbCIsdmFsdWU6ZnVuY3Rpb24gZ2V0Tm9ybWFsKGEsYixjLHRhcmdldCl7dGFyZ2V0LnN1YlZlY3RvcnMoYyxiKTtfdjAkMS5zdWJWZWN0b3JzKGEsYik7dGFyZ2V0LmNyb3NzKF92MCQxKTt2YXIgdGFyZ2V0TGVuZ3RoU3E9dGFyZ2V0Lmxlbmd0aFNxKCk7aWYodGFyZ2V0TGVuZ3RoU3E+MCl7cmV0dXJuIHRhcmdldC5tdWx0aXBseVNjYWxhcigxL01hdGguc3FydCh0YXJnZXRMZW5ndGhTcSkpO31yZXR1cm4gdGFyZ2V0LnNldCgwLDAsMCk7fS8vIHN0YXRpYy9pbnN0YW5jZSBtZXRob2QgdG8gY2FsY3VsYXRlIGJhcnljZW50cmljIGNvb3JkaW5hdGVzCi8vIGJhc2VkIG9uOiBodHRwOi8vd3d3LmJsYWNrcGF3bi5jb20vdGV4dHMvcG9pbnRpbnBvbHkvZGVmYXVsdC5odG1sCn0se2tleToiZ2V0QmFyeWNvb3JkIix2YWx1ZTpmdW5jdGlvbiBnZXRCYXJ5Y29vcmQocG9pbnQsYSxiLGMsdGFyZ2V0KXtfdjAkMS5zdWJWZWN0b3JzKGMsYSk7X3YxJDMuc3ViVmVjdG9ycyhiLGEpO192MiQyLnN1YlZlY3RvcnMocG9pbnQsYSk7dmFyIGRvdDAwPV92MCQxLmRvdChfdjAkMSk7dmFyIGRvdDAxPV92MCQxLmRvdChfdjEkMyk7dmFyIGRvdDAyPV92MCQxLmRvdChfdjIkMik7dmFyIGRvdDExPV92MSQzLmRvdChfdjEkMyk7dmFyIGRvdDEyPV92MSQzLmRvdChfdjIkMik7dmFyIGRlbm9tPWRvdDAwKmRvdDExLWRvdDAxKmRvdDAxOy8vIGNvbGxpbmVhciBvciBzaW5ndWxhciB0cmlhbmdsZQppZihkZW5vbT09PTApey8vIGFyYml0cmFyeSBsb2NhdGlvbiBvdXRzaWRlIG9mIHRyaWFuZ2xlPwovLyBub3Qgc3VyZSBpZiB0aGlzIGlzIHRoZSBiZXN0IGlkZWEsIG1heWJlIHNob3VsZCBiZSByZXR1cm5pbmcgdW5kZWZpbmVkCnJldHVybiB0YXJnZXQuc2V0KC0yLC0xLC0xKTt9dmFyIGludkRlbm9tPTEvZGVub207dmFyIHU9KGRvdDExKmRvdDAyLWRvdDAxKmRvdDEyKSppbnZEZW5vbTt2YXIgdj0oZG90MDAqZG90MTItZG90MDEqZG90MDIpKmludkRlbm9tOy8vIGJhcnljZW50cmljIGNvb3JkaW5hdGVzIG11c3QgYWx3YXlzIHN1bSB0byAxCnJldHVybiB0YXJnZXQuc2V0KDEtdS12LHYsdSk7fX0se2tleToiY29udGFpbnNQb2ludCIsdmFsdWU6ZnVuY3Rpb24gY29udGFpbnNQb2ludChwb2ludCxhLGIsYyl7dGhpcy5nZXRCYXJ5Y29vcmQocG9pbnQsYSxiLGMsX3YzJDEpO3JldHVybiBfdjMkMS54Pj0wJiZfdjMkMS55Pj0wJiZfdjMkMS54K192MyQxLnk8PTE7fX0se2tleToiZ2V0VVYiLHZhbHVlOmZ1bmN0aW9uIGdldFVWKHBvaW50LHAxLHAyLHAzLHV2MSx1djIsdXYzLHRhcmdldCl7dGhpcy5nZXRCYXJ5Y29vcmQocG9pbnQscDEscDIscDMsX3YzJDEpO3RhcmdldC5zZXQoMCwwKTt0YXJnZXQuYWRkU2NhbGVkVmVjdG9yKHV2MSxfdjMkMS54KTt0YXJnZXQuYWRkU2NhbGVkVmVjdG9yKHV2MixfdjMkMS55KTt0YXJnZXQuYWRkU2NhbGVkVmVjdG9yKHV2MyxfdjMkMS56KTtyZXR1cm4gdGFyZ2V0O319LHtrZXk6ImlzRnJvbnRGYWNpbmciLHZhbHVlOmZ1bmN0aW9uIGlzRnJvbnRGYWNpbmcoYSxiLGMsZGlyZWN0aW9uKXtfdjAkMS5zdWJWZWN0b3JzKGMsYik7X3YxJDMuc3ViVmVjdG9ycyhhLGIpOy8vIHN0cmljdGx5IGZyb250IGZhY2luZwpyZXR1cm4gX3YwJDEuY3Jvc3MoX3YxJDMpLmRvdChkaXJlY3Rpb24pPDA/dHJ1ZTpmYWxzZTt9fV0pO3JldHVybiBUcmlhbmdsZTt9KCk7dmFyIG1hdGVyaWFsSWQ9MDt2YXIgTWF0ZXJpYWw9LyojX19QVVJFX18qL2Z1bmN0aW9uKF9FdmVudERpc3BhdGNoZXI0KXtfaW5oZXJpdHMoTWF0ZXJpYWwsX0V2ZW50RGlzcGF0Y2hlcjQpO3ZhciBfc3VwZXI2PV9jcmVhdGVTdXBlcihNYXRlcmlhbCk7ZnVuY3Rpb24gTWF0ZXJpYWwoKXt2YXIgX3RoaXM3O19jbGFzc0NhbGxDaGVjayh0aGlzLE1hdGVyaWFsKTtfdGhpczc9X3N1cGVyNi5jYWxsKHRoaXMpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzNyksJ2lkJyx7dmFsdWU6bWF0ZXJpYWxJZCsrfSk7X3RoaXM3LnV1aWQ9Z2VuZXJhdGVVVUlEKCk7X3RoaXM3Lm5hbWU9Jyc7X3RoaXM3LnR5cGU9J01hdGVyaWFsJztfdGhpczcuZm9nPXRydWU7X3RoaXM3LmJsZW5kaW5nPU5vcm1hbEJsZW5kaW5nO190aGlzNy5zaWRlPUZyb250U2lkZTtfdGhpczcudmVydGV4Q29sb3JzPWZhbHNlO190aGlzNy5vcGFjaXR5PTE7X3RoaXM3LnRyYW5zcGFyZW50PWZhbHNlO190aGlzNy5ibGVuZFNyYz1TcmNBbHBoYUZhY3RvcjtfdGhpczcuYmxlbmREc3Q9T25lTWludXNTcmNBbHBoYUZhY3RvcjtfdGhpczcuYmxlbmRFcXVhdGlvbj1BZGRFcXVhdGlvbjtfdGhpczcuYmxlbmRTcmNBbHBoYT1udWxsO190aGlzNy5ibGVuZERzdEFscGhhPW51bGw7X3RoaXM3LmJsZW5kRXF1YXRpb25BbHBoYT1udWxsO190aGlzNy5kZXB0aEZ1bmM9TGVzc0VxdWFsRGVwdGg7X3RoaXM3LmRlcHRoVGVzdD10cnVlO190aGlzNy5kZXB0aFdyaXRlPXRydWU7X3RoaXM3LnN0ZW5jaWxXcml0ZU1hc2s9MHhmZjtfdGhpczcuc3RlbmNpbEZ1bmM9QWx3YXlzU3RlbmNpbEZ1bmM7X3RoaXM3LnN0ZW5jaWxSZWY9MDtfdGhpczcuc3RlbmNpbEZ1bmNNYXNrPTB4ZmY7X3RoaXM3LnN0ZW5jaWxGYWlsPUtlZXBTdGVuY2lsT3A7X3RoaXM3LnN0ZW5jaWxaRmFpbD1LZWVwU3RlbmNpbE9wO190aGlzNy5zdGVuY2lsWlBhc3M9S2VlcFN0ZW5jaWxPcDtfdGhpczcuc3RlbmNpbFdyaXRlPWZhbHNlO190aGlzNy5jbGlwcGluZ1BsYW5lcz1udWxsO190aGlzNy5jbGlwSW50ZXJzZWN0aW9uPWZhbHNlO190aGlzNy5jbGlwU2hhZG93cz1mYWxzZTtfdGhpczcuc2hhZG93U2lkZT1udWxsO190aGlzNy5jb2xvcldyaXRlPXRydWU7X3RoaXM3LnByZWNpc2lvbj1udWxsOy8vIG92ZXJyaWRlIHRoZSByZW5kZXJlcidzIGRlZmF1bHQgcHJlY2lzaW9uIGZvciB0aGlzIG1hdGVyaWFsCl90aGlzNy5wb2x5Z29uT2Zmc2V0PWZhbHNlO190aGlzNy5wb2x5Z29uT2Zmc2V0RmFjdG9yPTA7X3RoaXM3LnBvbHlnb25PZmZzZXRVbml0cz0wO190aGlzNy5kaXRoZXJpbmc9ZmFsc2U7X3RoaXM3LmFscGhhVG9Db3ZlcmFnZT1mYWxzZTtfdGhpczcucHJlbXVsdGlwbGllZEFscGhhPWZhbHNlO190aGlzNy52aXNpYmxlPXRydWU7X3RoaXM3LnRvbmVNYXBwZWQ9dHJ1ZTtfdGhpczcudXNlckRhdGE9e307X3RoaXM3LnZlcnNpb249MDtfdGhpczcuX2FscGhhVGVzdD0wO3JldHVybiBfdGhpczc7fV9jcmVhdGVDbGFzcyhNYXRlcmlhbCxbe2tleToiYWxwaGFUZXN0IixnZXQ6ZnVuY3Rpb24gZ2V0KCl7cmV0dXJuIHRoaXMuX2FscGhhVGVzdDt9LHNldDpmdW5jdGlvbiBzZXQodmFsdWUpe2lmKHRoaXMuX2FscGhhVGVzdD4wIT09dmFsdWU+MCl7dGhpcy52ZXJzaW9uKys7fXRoaXMuX2FscGhhVGVzdD12YWx1ZTt9fSx7a2V5OiJvbkJ1aWxkIix2YWx1ZTpmdW5jdGlvbiBvbkJ1aWxkKC8qIHNoYWRlcm9iamVjdCwgcmVuZGVyZXIgKi8pe319LHtrZXk6Im9uQmVmb3JlUmVuZGVyIix2YWx1ZTpmdW5jdGlvbiBvbkJlZm9yZVJlbmRlcigvKiByZW5kZXJlciwgc2NlbmUsIGNhbWVyYSwgZ2VvbWV0cnksIG9iamVjdCwgZ3JvdXAgKi8pe319LHtrZXk6Im9uQmVmb3JlQ29tcGlsZSIsdmFsdWU6ZnVuY3Rpb24gb25CZWZvcmVDb21waWxlKC8qIHNoYWRlcm9iamVjdCwgcmVuZGVyZXIgKi8pe319LHtrZXk6ImN1c3RvbVByb2dyYW1DYWNoZUtleSIsdmFsdWU6ZnVuY3Rpb24gY3VzdG9tUHJvZ3JhbUNhY2hlS2V5KCl7cmV0dXJuIHRoaXMub25CZWZvcmVDb21waWxlLnRvU3RyaW5nKCk7fX0se2tleToic2V0VmFsdWVzIix2YWx1ZTpmdW5jdGlvbiBzZXRWYWx1ZXModmFsdWVzKXtpZih2YWx1ZXM9PT11bmRlZmluZWQpcmV0dXJuO2Zvcih2YXIga2V5IGluIHZhbHVlcyl7dmFyIG5ld1ZhbHVlPXZhbHVlc1trZXldO2lmKG5ld1ZhbHVlPT09dW5kZWZpbmVkKXtjb25zb2xlLndhcm4oJ1RIUkVFLk1hdGVyaWFsOiBcJycra2V5KydcJyBwYXJhbWV0ZXIgaXMgdW5kZWZpbmVkLicpO2NvbnRpbnVlO30vLyBmb3IgYmFja3dhcmQgY29tcGF0YWJpbGl0eSBpZiBzaGFkaW5nIGlzIHNldCBpbiB0aGUgY29uc3RydWN0b3IKaWYoa2V5PT09J3NoYWRpbmcnKXtjb25zb2xlLndhcm4oJ1RIUkVFLicrdGhpcy50eXBlKyc6IC5zaGFkaW5nIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSB0aGUgYm9vbGVhbiAuZmxhdFNoYWRpbmcgaW5zdGVhZC4nKTt0aGlzLmZsYXRTaGFkaW5nPW5ld1ZhbHVlPT09RmxhdFNoYWRpbmc/dHJ1ZTpmYWxzZTtjb250aW51ZTt9dmFyIGN1cnJlbnRWYWx1ZT10aGlzW2tleV07aWYoY3VycmVudFZhbHVlPT09dW5kZWZpbmVkKXtjb25zb2xlLndhcm4oJ1RIUkVFLicrdGhpcy50eXBlKyc6IFwnJytrZXkrJ1wnIGlzIG5vdCBhIHByb3BlcnR5IG9mIHRoaXMgbWF0ZXJpYWwuJyk7Y29udGludWU7fWlmKGN1cnJlbnRWYWx1ZSYmY3VycmVudFZhbHVlLmlzQ29sb3Ipe2N1cnJlbnRWYWx1ZS5zZXQobmV3VmFsdWUpO31lbHNlIGlmKGN1cnJlbnRWYWx1ZSYmY3VycmVudFZhbHVlLmlzVmVjdG9yMyYmbmV3VmFsdWUmJm5ld1ZhbHVlLmlzVmVjdG9yMyl7Y3VycmVudFZhbHVlLmNvcHkobmV3VmFsdWUpO31lbHNle3RoaXNba2V5XT1uZXdWYWx1ZTt9fX19LHtrZXk6InRvSlNPTiIsdmFsdWU6ZnVuY3Rpb24gdG9KU09OKG1ldGEpe3ZhciBpc1Jvb3Q9bWV0YT09PXVuZGVmaW5lZHx8dHlwZW9mIG1ldGE9PT0nc3RyaW5nJztpZihpc1Jvb3Qpe21ldGE9e3RleHR1cmVzOnt9LGltYWdlczp7fX07fXZhciBkYXRhPXttZXRhZGF0YTp7dmVyc2lvbjo0LjUsdHlwZTonTWF0ZXJpYWwnLGdlbmVyYXRvcjonTWF0ZXJpYWwudG9KU09OJ319Oy8vIHN0YW5kYXJkIE1hdGVyaWFsIHNlcmlhbGl6YXRpb24KZGF0YS51dWlkPXRoaXMudXVpZDtkYXRhLnR5cGU9dGhpcy50eXBlO2lmKHRoaXMubmFtZSE9PScnKWRhdGEubmFtZT10aGlzLm5hbWU7aWYodGhpcy5jb2xvciYmdGhpcy5jb2xvci5pc0NvbG9yKWRhdGEuY29sb3I9dGhpcy5jb2xvci5nZXRIZXgoKTtpZih0aGlzLnJvdWdobmVzcyE9PXVuZGVmaW5lZClkYXRhLnJvdWdobmVzcz10aGlzLnJvdWdobmVzcztpZih0aGlzLm1ldGFsbmVzcyE9PXVuZGVmaW5lZClkYXRhLm1ldGFsbmVzcz10aGlzLm1ldGFsbmVzcztpZih0aGlzLnNoZWVuIT09dW5kZWZpbmVkKWRhdGEuc2hlZW49dGhpcy5zaGVlbjtpZih0aGlzLnNoZWVuQ29sb3ImJnRoaXMuc2hlZW5Db2xvci5pc0NvbG9yKWRhdGEuc2hlZW5Db2xvcj10aGlzLnNoZWVuQ29sb3IuZ2V0SGV4KCk7aWYodGhpcy5zaGVlblJvdWdobmVzcyE9PXVuZGVmaW5lZClkYXRhLnNoZWVuUm91Z2huZXNzPXRoaXMuc2hlZW5Sb3VnaG5lc3M7aWYodGhpcy5lbWlzc2l2ZSYmdGhpcy5lbWlzc2l2ZS5pc0NvbG9yKWRhdGEuZW1pc3NpdmU9dGhpcy5lbWlzc2l2ZS5nZXRIZXgoKTtpZih0aGlzLmVtaXNzaXZlSW50ZW5zaXR5JiZ0aGlzLmVtaXNzaXZlSW50ZW5zaXR5IT09MSlkYXRhLmVtaXNzaXZlSW50ZW5zaXR5PXRoaXMuZW1pc3NpdmVJbnRlbnNpdHk7aWYodGhpcy5zcGVjdWxhciYmdGhpcy5zcGVjdWxhci5pc0NvbG9yKWRhdGEuc3BlY3VsYXI9dGhpcy5zcGVjdWxhci5nZXRIZXgoKTtpZih0aGlzLnNwZWN1bGFySW50ZW5zaXR5IT09dW5kZWZpbmVkKWRhdGEuc3BlY3VsYXJJbnRlbnNpdHk9dGhpcy5zcGVjdWxhckludGVuc2l0eTtpZih0aGlzLnNwZWN1bGFyQ29sb3ImJnRoaXMuc3BlY3VsYXJDb2xvci5pc0NvbG9yKWRhdGEuc3BlY3VsYXJDb2xvcj10aGlzLnNwZWN1bGFyQ29sb3IuZ2V0SGV4KCk7aWYodGhpcy5zaGluaW5lc3MhPT11bmRlZmluZWQpZGF0YS5zaGluaW5lc3M9dGhpcy5zaGluaW5lc3M7aWYodGhpcy5jbGVhcmNvYXQhPT11bmRlZmluZWQpZGF0YS5jbGVhcmNvYXQ9dGhpcy5jbGVhcmNvYXQ7aWYodGhpcy5jbGVhcmNvYXRSb3VnaG5lc3MhPT11bmRlZmluZWQpZGF0YS5jbGVhcmNvYXRSb3VnaG5lc3M9dGhpcy5jbGVhcmNvYXRSb3VnaG5lc3M7aWYodGhpcy5jbGVhcmNvYXRNYXAmJnRoaXMuY2xlYXJjb2F0TWFwLmlzVGV4dHVyZSl7ZGF0YS5jbGVhcmNvYXRNYXA9dGhpcy5jbGVhcmNvYXRNYXAudG9KU09OKG1ldGEpLnV1aWQ7fWlmKHRoaXMuY2xlYXJjb2F0Um91Z2huZXNzTWFwJiZ0aGlzLmNsZWFyY29hdFJvdWdobmVzc01hcC5pc1RleHR1cmUpe2RhdGEuY2xlYXJjb2F0Um91Z2huZXNzTWFwPXRoaXMuY2xlYXJjb2F0Um91Z2huZXNzTWFwLnRvSlNPTihtZXRhKS51dWlkO31pZih0aGlzLmNsZWFyY29hdE5vcm1hbE1hcCYmdGhpcy5jbGVhcmNvYXROb3JtYWxNYXAuaXNUZXh0dXJlKXtkYXRhLmNsZWFyY29hdE5vcm1hbE1hcD10aGlzLmNsZWFyY29hdE5vcm1hbE1hcC50b0pTT04obWV0YSkudXVpZDtkYXRhLmNsZWFyY29hdE5vcm1hbFNjYWxlPXRoaXMuY2xlYXJjb2F0Tm9ybWFsU2NhbGUudG9BcnJheSgpO31pZih0aGlzLm1hcCYmdGhpcy5tYXAuaXNUZXh0dXJlKWRhdGEubWFwPXRoaXMubWFwLnRvSlNPTihtZXRhKS51dWlkO2lmKHRoaXMubWF0Y2FwJiZ0aGlzLm1hdGNhcC5pc1RleHR1cmUpZGF0YS5tYXRjYXA9dGhpcy5tYXRjYXAudG9KU09OKG1ldGEpLnV1aWQ7aWYodGhpcy5hbHBoYU1hcCYmdGhpcy5hbHBoYU1hcC5pc1RleHR1cmUpZGF0YS5hbHBoYU1hcD10aGlzLmFscGhhTWFwLnRvSlNPTihtZXRhKS51dWlkO2lmKHRoaXMubGlnaHRNYXAmJnRoaXMubGlnaHRNYXAuaXNUZXh0dXJlKXtkYXRhLmxpZ2h0TWFwPXRoaXMubGlnaHRNYXAudG9KU09OKG1ldGEpLnV1aWQ7ZGF0YS5saWdodE1hcEludGVuc2l0eT10aGlzLmxpZ2h0TWFwSW50ZW5zaXR5O31pZih0aGlzLmFvTWFwJiZ0aGlzLmFvTWFwLmlzVGV4dHVyZSl7ZGF0YS5hb01hcD10aGlzLmFvTWFwLnRvSlNPTihtZXRhKS51dWlkO2RhdGEuYW9NYXBJbnRlbnNpdHk9dGhpcy5hb01hcEludGVuc2l0eTt9aWYodGhpcy5idW1wTWFwJiZ0aGlzLmJ1bXBNYXAuaXNUZXh0dXJlKXtkYXRhLmJ1bXBNYXA9dGhpcy5idW1wTWFwLnRvSlNPTihtZXRhKS51dWlkO2RhdGEuYnVtcFNjYWxlPXRoaXMuYnVtcFNjYWxlO31pZih0aGlzLm5vcm1hbE1hcCYmdGhpcy5ub3JtYWxNYXAuaXNUZXh0dXJlKXtkYXRhLm5vcm1hbE1hcD10aGlzLm5vcm1hbE1hcC50b0pTT04obWV0YSkudXVpZDtkYXRhLm5vcm1hbE1hcFR5cGU9dGhpcy5ub3JtYWxNYXBUeXBlO2RhdGEubm9ybWFsU2NhbGU9dGhpcy5ub3JtYWxTY2FsZS50b0FycmF5KCk7fWlmKHRoaXMuZGlzcGxhY2VtZW50TWFwJiZ0aGlzLmRpc3BsYWNlbWVudE1hcC5pc1RleHR1cmUpe2RhdGEuZGlzcGxhY2VtZW50TWFwPXRoaXMuZGlzcGxhY2VtZW50TWFwLnRvSlNPTihtZXRhKS51dWlkO2RhdGEuZGlzcGxhY2VtZW50U2NhbGU9dGhpcy5kaXNwbGFjZW1lbnRTY2FsZTtkYXRhLmRpc3BsYWNlbWVudEJpYXM9dGhpcy5kaXNwbGFjZW1lbnRCaWFzO31pZih0aGlzLnJvdWdobmVzc01hcCYmdGhpcy5yb3VnaG5lc3NNYXAuaXNUZXh0dXJlKWRhdGEucm91Z2huZXNzTWFwPXRoaXMucm91Z2huZXNzTWFwLnRvSlNPTihtZXRhKS51dWlkO2lmKHRoaXMubWV0YWxuZXNzTWFwJiZ0aGlzLm1ldGFsbmVzc01hcC5pc1RleHR1cmUpZGF0YS5tZXRhbG5lc3NNYXA9dGhpcy5tZXRhbG5lc3NNYXAudG9KU09OKG1ldGEpLnV1aWQ7aWYodGhpcy5lbWlzc2l2ZU1hcCYmdGhpcy5lbWlzc2l2ZU1hcC5pc1RleHR1cmUpZGF0YS5lbWlzc2l2ZU1hcD10aGlzLmVtaXNzaXZlTWFwLnRvSlNPTihtZXRhKS51dWlkO2lmKHRoaXMuc3BlY3VsYXJNYXAmJnRoaXMuc3BlY3VsYXJNYXAuaXNUZXh0dXJlKWRhdGEuc3BlY3VsYXJNYXA9dGhpcy5zcGVjdWxhck1hcC50b0pTT04obWV0YSkudXVpZDtpZih0aGlzLnNwZWN1bGFySW50ZW5zaXR5TWFwJiZ0aGlzLnNwZWN1bGFySW50ZW5zaXR5TWFwLmlzVGV4dHVyZSlkYXRhLnNwZWN1bGFySW50ZW5zaXR5TWFwPXRoaXMuc3BlY3VsYXJJbnRlbnNpdHlNYXAudG9KU09OKG1ldGEpLnV1aWQ7aWYodGhpcy5zcGVjdWxhckNvbG9yTWFwJiZ0aGlzLnNwZWN1bGFyQ29sb3JNYXAuaXNUZXh0dXJlKWRhdGEuc3BlY3VsYXJDb2xvck1hcD10aGlzLnNwZWN1bGFyQ29sb3JNYXAudG9KU09OKG1ldGEpLnV1aWQ7aWYodGhpcy5lbnZNYXAmJnRoaXMuZW52TWFwLmlzVGV4dHVyZSl7ZGF0YS5lbnZNYXA9dGhpcy5lbnZNYXAudG9KU09OKG1ldGEpLnV1aWQ7aWYodGhpcy5jb21iaW5lIT09dW5kZWZpbmVkKWRhdGEuY29tYmluZT10aGlzLmNvbWJpbmU7fWlmKHRoaXMuZW52TWFwSW50ZW5zaXR5IT09dW5kZWZpbmVkKWRhdGEuZW52TWFwSW50ZW5zaXR5PXRoaXMuZW52TWFwSW50ZW5zaXR5O2lmKHRoaXMucmVmbGVjdGl2aXR5IT09dW5kZWZpbmVkKWRhdGEucmVmbGVjdGl2aXR5PXRoaXMucmVmbGVjdGl2aXR5O2lmKHRoaXMucmVmcmFjdGlvblJhdGlvIT09dW5kZWZpbmVkKWRhdGEucmVmcmFjdGlvblJhdGlvPXRoaXMucmVmcmFjdGlvblJhdGlvO2lmKHRoaXMuZ3JhZGllbnRNYXAmJnRoaXMuZ3JhZGllbnRNYXAuaXNUZXh0dXJlKXtkYXRhLmdyYWRpZW50TWFwPXRoaXMuZ3JhZGllbnRNYXAudG9KU09OKG1ldGEpLnV1aWQ7fWlmKHRoaXMudHJhbnNtaXNzaW9uIT09dW5kZWZpbmVkKWRhdGEudHJhbnNtaXNzaW9uPXRoaXMudHJhbnNtaXNzaW9uO2lmKHRoaXMudHJhbnNtaXNzaW9uTWFwJiZ0aGlzLnRyYW5zbWlzc2lvbk1hcC5pc1RleHR1cmUpZGF0YS50cmFuc21pc3Npb25NYXA9dGhpcy50cmFuc21pc3Npb25NYXAudG9KU09OKG1ldGEpLnV1aWQ7aWYodGhpcy50aGlja25lc3MhPT11bmRlZmluZWQpZGF0YS50aGlja25lc3M9dGhpcy50aGlja25lc3M7aWYodGhpcy50aGlja25lc3NNYXAmJnRoaXMudGhpY2tuZXNzTWFwLmlzVGV4dHVyZSlkYXRhLnRoaWNrbmVzc01hcD10aGlzLnRoaWNrbmVzc01hcC50b0pTT04obWV0YSkudXVpZDtpZih0aGlzLmF0dGVudWF0aW9uRGlzdGFuY2UhPT11bmRlZmluZWQpZGF0YS5hdHRlbnVhdGlvbkRpc3RhbmNlPXRoaXMuYXR0ZW51YXRpb25EaXN0YW5jZTtpZih0aGlzLmF0dGVudWF0aW9uQ29sb3IhPT11bmRlZmluZWQpZGF0YS5hdHRlbnVhdGlvbkNvbG9yPXRoaXMuYXR0ZW51YXRpb25Db2xvci5nZXRIZXgoKTtpZih0aGlzLnNpemUhPT11bmRlZmluZWQpZGF0YS5zaXplPXRoaXMuc2l6ZTtpZih0aGlzLnNoYWRvd1NpZGUhPT1udWxsKWRhdGEuc2hhZG93U2lkZT10aGlzLnNoYWRvd1NpZGU7aWYodGhpcy5zaXplQXR0ZW51YXRpb24hPT11bmRlZmluZWQpZGF0YS5zaXplQXR0ZW51YXRpb249dGhpcy5zaXplQXR0ZW51YXRpb247aWYodGhpcy5ibGVuZGluZyE9PU5vcm1hbEJsZW5kaW5nKWRhdGEuYmxlbmRpbmc9dGhpcy5ibGVuZGluZztpZih0aGlzLnNpZGUhPT1Gcm9udFNpZGUpZGF0YS5zaWRlPXRoaXMuc2lkZTtpZih0aGlzLnZlcnRleENvbG9ycylkYXRhLnZlcnRleENvbG9ycz10cnVlO2lmKHRoaXMub3BhY2l0eTwxKWRhdGEub3BhY2l0eT10aGlzLm9wYWNpdHk7aWYodGhpcy50cmFuc3BhcmVudD09PXRydWUpZGF0YS50cmFuc3BhcmVudD10aGlzLnRyYW5zcGFyZW50O2RhdGEuZGVwdGhGdW5jPXRoaXMuZGVwdGhGdW5jO2RhdGEuZGVwdGhUZXN0PXRoaXMuZGVwdGhUZXN0O2RhdGEuZGVwdGhXcml0ZT10aGlzLmRlcHRoV3JpdGU7ZGF0YS5jb2xvcldyaXRlPXRoaXMuY29sb3JXcml0ZTtkYXRhLnN0ZW5jaWxXcml0ZT10aGlzLnN0ZW5jaWxXcml0ZTtkYXRhLnN0ZW5jaWxXcml0ZU1hc2s9dGhpcy5zdGVuY2lsV3JpdGVNYXNrO2RhdGEuc3RlbmNpbEZ1bmM9dGhpcy5zdGVuY2lsRnVuYztkYXRhLnN0ZW5jaWxSZWY9dGhpcy5zdGVuY2lsUmVmO2RhdGEuc3RlbmNpbEZ1bmNNYXNrPXRoaXMuc3RlbmNpbEZ1bmNNYXNrO2RhdGEuc3RlbmNpbEZhaWw9dGhpcy5zdGVuY2lsRmFpbDtkYXRhLnN0ZW5jaWxaRmFpbD10aGlzLnN0ZW5jaWxaRmFpbDtkYXRhLnN0ZW5jaWxaUGFzcz10aGlzLnN0ZW5jaWxaUGFzczsvLyByb3RhdGlvbiAoU3ByaXRlTWF0ZXJpYWwpCmlmKHRoaXMucm90YXRpb24mJnRoaXMucm90YXRpb24hPT0wKWRhdGEucm90YXRpb249dGhpcy5yb3RhdGlvbjtpZih0aGlzLnBvbHlnb25PZmZzZXQ9PT10cnVlKWRhdGEucG9seWdvbk9mZnNldD10cnVlO2lmKHRoaXMucG9seWdvbk9mZnNldEZhY3RvciE9PTApZGF0YS5wb2x5Z29uT2Zmc2V0RmFjdG9yPXRoaXMucG9seWdvbk9mZnNldEZhY3RvcjtpZih0aGlzLnBvbHlnb25PZmZzZXRVbml0cyE9PTApZGF0YS5wb2x5Z29uT2Zmc2V0VW5pdHM9dGhpcy5wb2x5Z29uT2Zmc2V0VW5pdHM7aWYodGhpcy5saW5ld2lkdGgmJnRoaXMubGluZXdpZHRoIT09MSlkYXRhLmxpbmV3aWR0aD10aGlzLmxpbmV3aWR0aDtpZih0aGlzLmRhc2hTaXplIT09dW5kZWZpbmVkKWRhdGEuZGFzaFNpemU9dGhpcy5kYXNoU2l6ZTtpZih0aGlzLmdhcFNpemUhPT11bmRlZmluZWQpZGF0YS5nYXBTaXplPXRoaXMuZ2FwU2l6ZTtpZih0aGlzLnNjYWxlIT09dW5kZWZpbmVkKWRhdGEuc2NhbGU9dGhpcy5zY2FsZTtpZih0aGlzLmRpdGhlcmluZz09PXRydWUpZGF0YS5kaXRoZXJpbmc9dHJ1ZTtpZih0aGlzLmFscGhhVGVzdD4wKWRhdGEuYWxwaGFUZXN0PXRoaXMuYWxwaGFUZXN0O2lmKHRoaXMuYWxwaGFUb0NvdmVyYWdlPT09dHJ1ZSlkYXRhLmFscGhhVG9Db3ZlcmFnZT10aGlzLmFscGhhVG9Db3ZlcmFnZTtpZih0aGlzLnByZW11bHRpcGxpZWRBbHBoYT09PXRydWUpZGF0YS5wcmVtdWx0aXBsaWVkQWxwaGE9dGhpcy5wcmVtdWx0aXBsaWVkQWxwaGE7aWYodGhpcy53aXJlZnJhbWU9PT10cnVlKWRhdGEud2lyZWZyYW1lPXRoaXMud2lyZWZyYW1lO2lmKHRoaXMud2lyZWZyYW1lTGluZXdpZHRoPjEpZGF0YS53aXJlZnJhbWVMaW5ld2lkdGg9dGhpcy53aXJlZnJhbWVMaW5ld2lkdGg7aWYodGhpcy53aXJlZnJhbWVMaW5lY2FwIT09J3JvdW5kJylkYXRhLndpcmVmcmFtZUxpbmVjYXA9dGhpcy53aXJlZnJhbWVMaW5lY2FwO2lmKHRoaXMud2lyZWZyYW1lTGluZWpvaW4hPT0ncm91bmQnKWRhdGEud2lyZWZyYW1lTGluZWpvaW49dGhpcy53aXJlZnJhbWVMaW5lam9pbjtpZih0aGlzLmZsYXRTaGFkaW5nPT09dHJ1ZSlkYXRhLmZsYXRTaGFkaW5nPXRoaXMuZmxhdFNoYWRpbmc7aWYodGhpcy52aXNpYmxlPT09ZmFsc2UpZGF0YS52aXNpYmxlPWZhbHNlO2lmKHRoaXMudG9uZU1hcHBlZD09PWZhbHNlKWRhdGEudG9uZU1hcHBlZD1mYWxzZTtpZihKU09OLnN0cmluZ2lmeSh0aGlzLnVzZXJEYXRhKSE9PSd7fScpZGF0YS51c2VyRGF0YT10aGlzLnVzZXJEYXRhOy8vIFRPRE86IENvcGllZCBmcm9tIE9iamVjdDNELnRvSlNPTgpmdW5jdGlvbiBleHRyYWN0RnJvbUNhY2hlKGNhY2hlKXt2YXIgdmFsdWVzPVtdO2Zvcih2YXIga2V5IGluIGNhY2hlKXt2YXIgX2RhdGEyPWNhY2hlW2tleV07ZGVsZXRlIF9kYXRhMi5tZXRhZGF0YTt2YWx1ZXMucHVzaChfZGF0YTIpO31yZXR1cm4gdmFsdWVzO31pZihpc1Jvb3Qpe3ZhciB0ZXh0dXJlcz1leHRyYWN0RnJvbUNhY2hlKG1ldGEudGV4dHVyZXMpO3ZhciBpbWFnZXM9ZXh0cmFjdEZyb21DYWNoZShtZXRhLmltYWdlcyk7aWYodGV4dHVyZXMubGVuZ3RoPjApZGF0YS50ZXh0dXJlcz10ZXh0dXJlcztpZihpbWFnZXMubGVuZ3RoPjApZGF0YS5pbWFnZXM9aW1hZ2VzO31yZXR1cm4gZGF0YTt9fSx7a2V5OiJjbG9uZSIsdmFsdWU6ZnVuY3Rpb24gY2xvbmUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoKS5jb3B5KHRoaXMpO319LHtrZXk6ImNvcHkiLHZhbHVlOmZ1bmN0aW9uIGNvcHkoc291cmNlKXt0aGlzLm5hbWU9c291cmNlLm5hbWU7dGhpcy5mb2c9c291cmNlLmZvZzt0aGlzLmJsZW5kaW5nPXNvdXJjZS5ibGVuZGluZzt0aGlzLnNpZGU9c291cmNlLnNpZGU7dGhpcy52ZXJ0ZXhDb2xvcnM9c291cmNlLnZlcnRleENvbG9yczt0aGlzLm9wYWNpdHk9c291cmNlLm9wYWNpdHk7dGhpcy50cmFuc3BhcmVudD1zb3VyY2UudHJhbnNwYXJlbnQ7dGhpcy5ibGVuZFNyYz1zb3VyY2UuYmxlbmRTcmM7dGhpcy5ibGVuZERzdD1zb3VyY2UuYmxlbmREc3Q7dGhpcy5ibGVuZEVxdWF0aW9uPXNvdXJjZS5ibGVuZEVxdWF0aW9uO3RoaXMuYmxlbmRTcmNBbHBoYT1zb3VyY2UuYmxlbmRTcmNBbHBoYTt0aGlzLmJsZW5kRHN0QWxwaGE9c291cmNlLmJsZW5kRHN0QWxwaGE7dGhpcy5ibGVuZEVxdWF0aW9uQWxwaGE9c291cmNlLmJsZW5kRXF1YXRpb25BbHBoYTt0aGlzLmRlcHRoRnVuYz1zb3VyY2UuZGVwdGhGdW5jO3RoaXMuZGVwdGhUZXN0PXNvdXJjZS5kZXB0aFRlc3Q7dGhpcy5kZXB0aFdyaXRlPXNvdXJjZS5kZXB0aFdyaXRlO3RoaXMuc3RlbmNpbFdyaXRlTWFzaz1zb3VyY2Uuc3RlbmNpbFdyaXRlTWFzazt0aGlzLnN0ZW5jaWxGdW5jPXNvdXJjZS5zdGVuY2lsRnVuYzt0aGlzLnN0ZW5jaWxSZWY9c291cmNlLnN0ZW5jaWxSZWY7dGhpcy5zdGVuY2lsRnVuY01hc2s9c291cmNlLnN0ZW5jaWxGdW5jTWFzazt0aGlzLnN0ZW5jaWxGYWlsPXNvdXJjZS5zdGVuY2lsRmFpbDt0aGlzLnN0ZW5jaWxaRmFpbD1zb3VyY2Uuc3RlbmNpbFpGYWlsO3RoaXMuc3RlbmNpbFpQYXNzPXNvdXJjZS5zdGVuY2lsWlBhc3M7dGhpcy5zdGVuY2lsV3JpdGU9c291cmNlLnN0ZW5jaWxXcml0ZTt2YXIgc3JjUGxhbmVzPXNvdXJjZS5jbGlwcGluZ1BsYW5lczt2YXIgZHN0UGxhbmVzPW51bGw7aWYoc3JjUGxhbmVzIT09bnVsbCl7dmFyIG49c3JjUGxhbmVzLmxlbmd0aDtkc3RQbGFuZXM9bmV3IEFycmF5KG4pO2Zvcih2YXIgX2kzMj0wO19pMzIhPT1uOysrX2kzMil7ZHN0UGxhbmVzW19pMzJdPXNyY1BsYW5lc1tfaTMyXS5jbG9uZSgpO319dGhpcy5jbGlwcGluZ1BsYW5lcz1kc3RQbGFuZXM7dGhpcy5jbGlwSW50ZXJzZWN0aW9uPXNvdXJjZS5jbGlwSW50ZXJzZWN0aW9uO3RoaXMuY2xpcFNoYWRvd3M9c291cmNlLmNsaXBTaGFkb3dzO3RoaXMuc2hhZG93U2lkZT1zb3VyY2Uuc2hhZG93U2lkZTt0aGlzLmNvbG9yV3JpdGU9c291cmNlLmNvbG9yV3JpdGU7dGhpcy5wcmVjaXNpb249c291cmNlLnByZWNpc2lvbjt0aGlzLnBvbHlnb25PZmZzZXQ9c291cmNlLnBvbHlnb25PZmZzZXQ7dGhpcy5wb2x5Z29uT2Zmc2V0RmFjdG9yPXNvdXJjZS5wb2x5Z29uT2Zmc2V0RmFjdG9yO3RoaXMucG9seWdvbk9mZnNldFVuaXRzPXNvdXJjZS5wb2x5Z29uT2Zmc2V0VW5pdHM7dGhpcy5kaXRoZXJpbmc9c291cmNlLmRpdGhlcmluZzt0aGlzLmFscGhhVGVzdD1zb3VyY2UuYWxwaGFUZXN0O3RoaXMuYWxwaGFUb0NvdmVyYWdlPXNvdXJjZS5hbHBoYVRvQ292ZXJhZ2U7dGhpcy5wcmVtdWx0aXBsaWVkQWxwaGE9c291cmNlLnByZW11bHRpcGxpZWRBbHBoYTt0aGlzLnZpc2libGU9c291cmNlLnZpc2libGU7dGhpcy50b25lTWFwcGVkPXNvdXJjZS50b25lTWFwcGVkO3RoaXMudXNlckRhdGE9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShzb3VyY2UudXNlckRhdGEpKTtyZXR1cm4gdGhpczt9fSx7a2V5OiJkaXNwb3NlIix2YWx1ZTpmdW5jdGlvbiBkaXNwb3NlKCl7dGhpcy5kaXNwYXRjaEV2ZW50KHt0eXBlOidkaXNwb3NlJ30pO319LHtrZXk6Im5lZWRzVXBkYXRlIixzZXQ6ZnVuY3Rpb24gc2V0KHZhbHVlKXtpZih2YWx1ZT09PXRydWUpdGhpcy52ZXJzaW9uKys7fX1dKTtyZXR1cm4gTWF0ZXJpYWw7fShFdmVudERpc3BhdGNoZXIpO01hdGVyaWFsLnByb3RvdHlwZS5pc01hdGVyaWFsPXRydWU7LyoqCiAqIHBhcmFtZXRlcnMgPSB7CiAqICBjb2xvcjogPGhleD4sCiAqICBvcGFjaXR5OiA8ZmxvYXQ+LAogKiAgbWFwOiBuZXcgVEhSRUUuVGV4dHVyZSggPEltYWdlPiApLAogKgogKiAgbGlnaHRNYXA6IG5ldyBUSFJFRS5UZXh0dXJlKCA8SW1hZ2U+ICksCiAqICBsaWdodE1hcEludGVuc2l0eTogPGZsb2F0PgogKgogKiAgYW9NYXA6IG5ldyBUSFJFRS5UZXh0dXJlKCA8SW1hZ2U+ICksCiAqICBhb01hcEludGVuc2l0eTogPGZsb2F0PgogKgogKiAgc3BlY3VsYXJNYXA6IG5ldyBUSFJFRS5UZXh0dXJlKCA8SW1hZ2U+ICksCiAqCiAqICBhbHBoYU1hcDogbmV3IFRIUkVFLlRleHR1cmUoIDxJbWFnZT4gKSwKICoKICogIGVudk1hcDogbmV3IFRIUkVFLkN1YmVUZXh0dXJlKCBbcG9zeCwgbmVneCwgcG9zeSwgbmVneSwgcG9zeiwgbmVnel0gKSwKICogIGNvbWJpbmU6IFRIUkVFLk11bHRpcGx5LAogKiAgcmVmbGVjdGl2aXR5OiA8ZmxvYXQ+LAogKiAgcmVmcmFjdGlvblJhdGlvOiA8ZmxvYXQ+LAogKgogKiAgZGVwdGhUZXN0OiA8Ym9vbD4sCiAqICBkZXB0aFdyaXRlOiA8Ym9vbD4sCiAqCiAqICB3aXJlZnJhbWU6IDxib29sZWFuPiwKICogIHdpcmVmcmFtZUxpbmV3aWR0aDogPGZsb2F0PiwKICogfQogKi92YXIgTWVzaEJhc2ljTWF0ZXJpYWw9LyojX19QVVJFX18qL2Z1bmN0aW9uKF9NYXRlcmlhbCl7X2luaGVyaXRzKE1lc2hCYXNpY01hdGVyaWFsLF9NYXRlcmlhbCk7dmFyIF9zdXBlcjc9X2NyZWF0ZVN1cGVyKE1lc2hCYXNpY01hdGVyaWFsKTtmdW5jdGlvbiBNZXNoQmFzaWNNYXRlcmlhbChwYXJhbWV0ZXJzKXt2YXIgX3RoaXM4O19jbGFzc0NhbGxDaGVjayh0aGlzLE1lc2hCYXNpY01hdGVyaWFsKTtfdGhpczg9X3N1cGVyNy5jYWxsKHRoaXMpO190aGlzOC50eXBlPSdNZXNoQmFzaWNNYXRlcmlhbCc7X3RoaXM4LmNvbG9yPW5ldyBDb2xvcigweGZmZmZmZik7Ly8gZW1pc3NpdmUKX3RoaXM4Lm1hcD1udWxsO190aGlzOC5saWdodE1hcD1udWxsO190aGlzOC5saWdodE1hcEludGVuc2l0eT0xLjA7X3RoaXM4LmFvTWFwPW51bGw7X3RoaXM4LmFvTWFwSW50ZW5zaXR5PTEuMDtfdGhpczguc3BlY3VsYXJNYXA9bnVsbDtfdGhpczguYWxwaGFNYXA9bnVsbDtfdGhpczguZW52TWFwPW51bGw7X3RoaXM4LmNvbWJpbmU9TXVsdGlwbHlPcGVyYXRpb247X3RoaXM4LnJlZmxlY3Rpdml0eT0xO190aGlzOC5yZWZyYWN0aW9uUmF0aW89MC45ODtfdGhpczgud2lyZWZyYW1lPWZhbHNlO190aGlzOC53aXJlZnJhbWVMaW5ld2lkdGg9MTtfdGhpczgud2lyZWZyYW1lTGluZWNhcD0ncm91bmQnO190aGlzOC53aXJlZnJhbWVMaW5lam9pbj0ncm91bmQnO190aGlzOC5zZXRWYWx1ZXMocGFyYW1ldGVycyk7cmV0dXJuIF90aGlzODt9X2NyZWF0ZUNsYXNzKE1lc2hCYXNpY01hdGVyaWFsLFt7a2V5OiJjb3B5Iix2YWx1ZTpmdW5jdGlvbiBjb3B5KHNvdXJjZSl7X2dldChfZ2V0UHJvdG90eXBlT2YoTWVzaEJhc2ljTWF0ZXJpYWwucHJvdG90eXBlKSwiY29weSIsdGhpcykuY2FsbCh0aGlzLHNvdXJjZSk7dGhpcy5jb2xvci5jb3B5KHNvdXJjZS5jb2xvcik7dGhpcy5tYXA9c291cmNlLm1hcDt0aGlzLmxpZ2h0TWFwPXNvdXJjZS5saWdodE1hcDt0aGlzLmxpZ2h0TWFwSW50ZW5zaXR5PXNvdXJjZS5saWdodE1hcEludGVuc2l0eTt0aGlzLmFvTWFwPXNvdXJjZS5hb01hcDt0aGlzLmFvTWFwSW50ZW5zaXR5PXNvdXJjZS5hb01hcEludGVuc2l0eTt0aGlzLnNwZWN1bGFyTWFwPXNvdXJjZS5zcGVjdWxhck1hcDt0aGlzLmFscGhhTWFwPXNvdXJjZS5hbHBoYU1hcDt0aGlzLmVudk1hcD1zb3VyY2UuZW52TWFwO3RoaXMuY29tYmluZT1zb3VyY2UuY29tYmluZTt0aGlzLnJlZmxlY3Rpdml0eT1zb3VyY2UucmVmbGVjdGl2aXR5O3RoaXMucmVmcmFjdGlvblJhdGlvPXNvdXJjZS5yZWZyYWN0aW9uUmF0aW87dGhpcy53aXJlZnJhbWU9c291cmNlLndpcmVmcmFtZTt0aGlzLndpcmVmcmFtZUxpbmV3aWR0aD1zb3VyY2Uud2lyZWZyYW1lTGluZXdpZHRoO3RoaXMud2lyZWZyYW1lTGluZWNhcD1zb3VyY2Uud2lyZWZyYW1lTGluZWNhcDt0aGlzLndpcmVmcmFtZUxpbmVqb2luPXNvdXJjZS53aXJlZnJhbWVMaW5lam9pbjtyZXR1cm4gdGhpczt9fV0pO3JldHVybiBNZXNoQmFzaWNNYXRlcmlhbDt9KE1hdGVyaWFsKTtNZXNoQmFzaWNNYXRlcmlhbC5wcm90b3R5cGUuaXNNZXNoQmFzaWNNYXRlcmlhbD10cnVlO3ZhciBfdmVjdG9yJDk9LypAX19QVVJFX18qL25ldyBWZWN0b3IzKCk7dmFyIF92ZWN0b3IyJDE9LypAX19QVVJFX18qL25ldyBWZWN0b3IyKCk7dmFyIEJ1ZmZlckF0dHJpYnV0ZT0vKiNfX1BVUkVfXyovZnVuY3Rpb24oKXtmdW5jdGlvbiBCdWZmZXJBdHRyaWJ1dGUoYXJyYXksaXRlbVNpemUsbm9ybWFsaXplZCl7X2NsYXNzQ2FsbENoZWNrKHRoaXMsQnVmZmVyQXR0cmlidXRlKTtpZihBcnJheS5pc0FycmF5KGFycmF5KSl7dGhyb3cgbmV3IFR5cGVFcnJvcignVEhSRUUuQnVmZmVyQXR0cmlidXRlOiBhcnJheSBzaG91bGQgYmUgYSBUeXBlZCBBcnJheS4nKTt9dGhpcy5uYW1lPScnO3RoaXMuYXJyYXk9YXJyYXk7dGhpcy5pdGVtU2l6ZT1pdGVtU2l6ZTt0aGlzLmNvdW50PWFycmF5IT09dW5kZWZpbmVkP2FycmF5Lmxlbmd0aC9pdGVtU2l6ZTowO3RoaXMubm9ybWFsaXplZD1ub3JtYWxpemVkPT09dHJ1ZTt0aGlzLnVzYWdlPVN0YXRpY0RyYXdVc2FnZTt0aGlzLnVwZGF0ZVJhbmdlPXtvZmZzZXQ6MCxjb3VudDotMX07dGhpcy52ZXJzaW9uPTA7fV9jcmVhdGVDbGFzcyhCdWZmZXJBdHRyaWJ1dGUsW3trZXk6Im9uVXBsb2FkQ2FsbGJhY2siLHZhbHVlOmZ1bmN0aW9uIG9uVXBsb2FkQ2FsbGJhY2soKXt9fSx7a2V5OiJuZWVkc1VwZGF0ZSIsc2V0OmZ1bmN0aW9uIHNldCh2YWx1ZSl7aWYodmFsdWU9PT10cnVlKXRoaXMudmVyc2lvbisrO319LHtrZXk6InNldFVzYWdlIix2YWx1ZTpmdW5jdGlvbiBzZXRVc2FnZSh2YWx1ZSl7dGhpcy51c2FnZT12YWx1ZTtyZXR1cm4gdGhpczt9fSx7a2V5OiJjb3B5Iix2YWx1ZTpmdW5jdGlvbiBjb3B5KHNvdXJjZSl7dGhpcy5uYW1lPXNvdXJjZS5uYW1lO3RoaXMuYXJyYXk9bmV3IHNvdXJjZS5hcnJheS5jb25zdHJ1Y3Rvcihzb3VyY2UuYXJyYXkpO3RoaXMuaXRlbVNpemU9c291cmNlLml0ZW1TaXplO3RoaXMuY291bnQ9c291cmNlLmNvdW50O3RoaXMubm9ybWFsaXplZD1zb3VyY2Uubm9ybWFsaXplZDt0aGlzLnVzYWdlPXNvdXJjZS51c2FnZTtyZXR1cm4gdGhpczt9fSx7a2V5OiJjb3B5QXQiLHZhbHVlOmZ1bmN0aW9uIGNvcHlBdChpbmRleDEsYXR0cmlidXRlLGluZGV4Mil7aW5kZXgxKj10aGlzLml0ZW1TaXplO2luZGV4Mio9YXR0cmlidXRlLml0ZW1TaXplO2Zvcih2YXIgX2kzMz0wLGw9dGhpcy5pdGVtU2l6ZTtfaTMzPGw7X2kzMysrKXt0aGlzLmFycmF5W2luZGV4MStfaTMzXT1hdHRyaWJ1dGUuYXJyYXlbaW5kZXgyK19pMzNdO31yZXR1cm4gdGhpczt9fSx7a2V5OiJjb3B5QXJyYXkiLHZhbHVlOmZ1bmN0aW9uIGNvcHlBcnJheShhcnJheSl7dGhpcy5hcnJheS5zZXQoYXJyYXkpO3JldHVybiB0aGlzO319LHtrZXk6ImNvcHlDb2xvcnNBcnJheSIsdmFsdWU6ZnVuY3Rpb24gY29weUNvbG9yc0FycmF5KGNvbG9ycyl7dmFyIGFycmF5PXRoaXMuYXJyYXk7dmFyIG9mZnNldD0wO2Zvcih2YXIgX2kzND0wLGw9Y29sb3JzLmxlbmd0aDtfaTM0PGw7X2kzNCsrKXt2YXIgY29sb3I9Y29sb3JzW19pMzRdO2lmKGNvbG9yPT09dW5kZWZpbmVkKXtjb25zb2xlLndhcm4oJ1RIUkVFLkJ1ZmZlckF0dHJpYnV0ZS5jb3B5Q29sb3JzQXJyYXkoKTogY29sb3IgaXMgdW5kZWZpbmVkJyxfaTM0KTtjb2xvcj1uZXcgQ29sb3IoKTt9YXJyYXlbb2Zmc2V0KytdPWNvbG9yLnI7YXJyYXlbb2Zmc2V0KytdPWNvbG9yLmc7YXJyYXlbb2Zmc2V0KytdPWNvbG9yLmI7fXJldHVybiB0aGlzO319LHtrZXk6ImNvcHlWZWN0b3Iyc0FycmF5Iix2YWx1ZTpmdW5jdGlvbiBjb3B5VmVjdG9yMnNBcnJheSh2ZWN0b3JzKXt2YXIgYXJyYXk9dGhpcy5hcnJheTt2YXIgb2Zmc2V0PTA7Zm9yKHZhciBfaTM1PTAsbD12ZWN0b3JzLmxlbmd0aDtfaTM1PGw7X2kzNSsrKXt2YXIgdmVjdG9yPXZlY3RvcnNbX2kzNV07aWYodmVjdG9yPT09dW5kZWZpbmVkKXtjb25zb2xlLndhcm4oJ1RIUkVFLkJ1ZmZlckF0dHJpYnV0ZS5jb3B5VmVjdG9yMnNBcnJheSgpOiB2ZWN0b3IgaXMgdW5kZWZpbmVkJyxfaTM1KTt2ZWN0b3I9bmV3IFZlY3RvcjIoKTt9YXJyYXlbb2Zmc2V0KytdPXZlY3Rvci54O2FycmF5W29mZnNldCsrXT12ZWN0b3IueTt9cmV0dXJuIHRoaXM7fX0se2tleToiY29weVZlY3RvcjNzQXJyYXkiLHZhbHVlOmZ1bmN0aW9uIGNvcHlWZWN0b3Izc0FycmF5KHZlY3RvcnMpe3ZhciBhcnJheT10aGlzLmFycmF5O3ZhciBvZmZzZXQ9MDtmb3IodmFyIF9pMzY9MCxsPXZlY3RvcnMubGVuZ3RoO19pMzY8bDtfaTM2Kyspe3ZhciB2ZWN0b3I9dmVjdG9yc1tfaTM2XTtpZih2ZWN0b3I9PT11bmRlZmluZWQpe2NvbnNvbGUud2FybignVEhSRUUuQnVmZmVyQXR0cmlidXRlLmNvcHlWZWN0b3Izc0FycmF5KCk6IHZlY3RvciBpcyB1bmRlZmluZWQnLF9pMzYpO3ZlY3Rvcj1uZXcgVmVjdG9yMygpO31hcnJheVtvZmZzZXQrK109dmVjdG9yLng7YXJyYXlbb2Zmc2V0KytdPXZlY3Rvci55O2FycmF5W29mZnNldCsrXT12ZWN0b3Iuejt9cmV0dXJuIHRoaXM7fX0se2tleToiY29weVZlY3RvcjRzQXJyYXkiLHZhbHVlOmZ1bmN0aW9uIGNvcHlWZWN0b3I0c0FycmF5KHZlY3RvcnMpe3ZhciBhcnJheT10aGlzLmFycmF5O3ZhciBvZmZzZXQ9MDtmb3IodmFyIF9pMzc9MCxsPXZlY3RvcnMubGVuZ3RoO19pMzc8bDtfaTM3Kyspe3ZhciB2ZWN0b3I9dmVjdG9yc1tfaTM3XTtpZih2ZWN0b3I9PT11bmRlZmluZWQpe2NvbnNvbGUud2FybignVEhSRUUuQnVmZmVyQXR0cmlidXRlLmNvcHlWZWN0b3I0c0FycmF5KCk6IHZlY3RvciBpcyB1bmRlZmluZWQnLF9pMzcpO3ZlY3Rvcj1uZXcgVmVjdG9yNCgpO31hcnJheVtvZmZzZXQrK109dmVjdG9yLng7YXJyYXlbb2Zmc2V0KytdPXZlY3Rvci55O2FycmF5W29mZnNldCsrXT12ZWN0b3IuejthcnJheVtvZmZzZXQrK109dmVjdG9yLnc7fXJldHVybiB0aGlzO319LHtrZXk6ImFwcGx5TWF0cml4MyIsdmFsdWU6ZnVuY3Rpb24gYXBwbHlNYXRyaXgzKG0pe2lmKHRoaXMuaXRlbVNpemU9PT0yKXtmb3IodmFyIF9pMzg9MCxsPXRoaXMuY291bnQ7X2kzODxsO19pMzgrKyl7X3ZlY3RvcjIkMS5mcm9tQnVmZmVyQXR0cmlidXRlKHRoaXMsX2kzOCk7X3ZlY3RvcjIkMS5hcHBseU1hdHJpeDMobSk7dGhpcy5zZXRYWShfaTM4LF92ZWN0b3IyJDEueCxfdmVjdG9yMiQxLnkpO319ZWxzZSBpZih0aGlzLml0ZW1TaXplPT09Myl7Zm9yKHZhciBfaTM5PTAsX2wzPXRoaXMuY291bnQ7X2kzOTxfbDM7X2kzOSsrKXtfdmVjdG9yJDkuZnJvbUJ1ZmZlckF0dHJpYnV0ZSh0aGlzLF9pMzkpO192ZWN0b3IkOS5hcHBseU1hdHJpeDMobSk7dGhpcy5zZXRYWVooX2kzOSxfdmVjdG9yJDkueCxfdmVjdG9yJDkueSxfdmVjdG9yJDkueik7fX1yZXR1cm4gdGhpczt9fSx7a2V5OiJhcHBseU1hdHJpeDQiLHZhbHVlOmZ1bmN0aW9uIGFwcGx5TWF0cml4NChtKXtmb3IodmFyIF9pNDA9MCxsPXRoaXMuY291bnQ7X2k0MDxsO19pNDArKyl7X3ZlY3RvciQ5Lng9dGhpcy5nZXRYKF9pNDApO192ZWN0b3IkOS55PXRoaXMuZ2V0WShfaTQwKTtfdmVjdG9yJDkuej10aGlzLmdldFooX2k0MCk7X3ZlY3RvciQ5LmFwcGx5TWF0cml4NChtKTt0aGlzLnNldFhZWihfaTQwLF92ZWN0b3IkOS54LF92ZWN0b3IkOS55LF92ZWN0b3IkOS56KTt9cmV0dXJuIHRoaXM7fX0se2tleToiYXBwbHlOb3JtYWxNYXRyaXgiLHZhbHVlOmZ1bmN0aW9uIGFwcGx5Tm9ybWFsTWF0cml4KG0pe2Zvcih2YXIgX2k0MT0wLGw9dGhpcy5jb3VudDtfaTQxPGw7X2k0MSsrKXtfdmVjdG9yJDkueD10aGlzLmdldFgoX2k0MSk7X3ZlY3RvciQ5Lnk9dGhpcy5nZXRZKF9pNDEpO192ZWN0b3IkOS56PXRoaXMuZ2V0WihfaTQxKTtfdmVjdG9yJDkuYXBwbHlOb3JtYWxNYXRyaXgobSk7dGhpcy5zZXRYWVooX2k0MSxfdmVjdG9yJDkueCxfdmVjdG9yJDkueSxfdmVjdG9yJDkueik7fXJldHVybiB0aGlzO319LHtrZXk6InRyYW5zZm9ybURpcmVjdGlvbiIsdmFsdWU6ZnVuY3Rpb24gdHJhbnNmb3JtRGlyZWN0aW9uKG0pe2Zvcih2YXIgX2k0Mj0wLGw9dGhpcy5jb3VudDtfaTQyPGw7X2k0MisrKXtfdmVjdG9yJDkueD10aGlzLmdldFgoX2k0Mik7X3ZlY3RvciQ5Lnk9dGhpcy5nZXRZKF9pNDIpO192ZWN0b3IkOS56PXRoaXMuZ2V0WihfaTQyKTtfdmVjdG9yJDkudHJhbnNmb3JtRGlyZWN0aW9uKG0pO3RoaXMuc2V0WFlaKF9pNDIsX3ZlY3RvciQ5LngsX3ZlY3RvciQ5LnksX3ZlY3RvciQ5LnopO31yZXR1cm4gdGhpczt9fSx7a2V5OiJzZXQiLHZhbHVlOmZ1bmN0aW9uIHNldCh2YWx1ZSl7dmFyIG9mZnNldD1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMV06MDt0aGlzLmFycmF5LnNldCh2YWx1ZSxvZmZzZXQpO3JldHVybiB0aGlzO319LHtrZXk6ImdldFgiLHZhbHVlOmZ1bmN0aW9uIGdldFgoaW5kZXgpe3JldHVybiB0aGlzLmFycmF5W2luZGV4KnRoaXMuaXRlbVNpemVdO319LHtrZXk6InNldFgiLHZhbHVlOmZ1bmN0aW9uIHNldFgoaW5kZXgseCl7dGhpcy5hcnJheVtpbmRleCp0aGlzLml0ZW1TaXplXT14O3JldHVybiB0aGlzO319LHtrZXk6ImdldFkiLHZhbHVlOmZ1bmN0aW9uIGdldFkoaW5kZXgpe3JldHVybiB0aGlzLmFycmF5W2luZGV4KnRoaXMuaXRlbVNpemUrMV07fX0se2tleToic2V0WSIsdmFsdWU6ZnVuY3Rpb24gc2V0WShpbmRleCx5KXt0aGlzLmFycmF5W2luZGV4KnRoaXMuaXRlbVNpemUrMV09eTtyZXR1cm4gdGhpczt9fSx7a2V5OiJnZXRaIix2YWx1ZTpmdW5jdGlvbiBnZXRaKGluZGV4KXtyZXR1cm4gdGhpcy5hcnJheVtpbmRleCp0aGlzLml0ZW1TaXplKzJdO319LHtrZXk6InNldFoiLHZhbHVlOmZ1bmN0aW9uIHNldFooaW5kZXgseil7dGhpcy5hcnJheVtpbmRleCp0aGlzLml0ZW1TaXplKzJdPXo7cmV0dXJuIHRoaXM7fX0se2tleToiZ2V0VyIsdmFsdWU6ZnVuY3Rpb24gZ2V0VyhpbmRleCl7cmV0dXJuIHRoaXMuYXJyYXlbaW5kZXgqdGhpcy5pdGVtU2l6ZSszXTt9fSx7a2V5OiJzZXRXIix2YWx1ZTpmdW5jdGlvbiBzZXRXKGluZGV4LHcpe3RoaXMuYXJyYXlbaW5kZXgqdGhpcy5pdGVtU2l6ZSszXT13O3JldHVybiB0aGlzO319LHtrZXk6InNldFhZIix2YWx1ZTpmdW5jdGlvbiBzZXRYWShpbmRleCx4LHkpe2luZGV4Kj10aGlzLml0ZW1TaXplO3RoaXMuYXJyYXlbaW5kZXgrMF09eDt0aGlzLmFycmF5W2luZGV4KzFdPXk7cmV0dXJuIHRoaXM7fX0se2tleToic2V0WFlaIix2YWx1ZTpmdW5jdGlvbiBzZXRYWVooaW5kZXgseCx5LHope2luZGV4Kj10aGlzLml0ZW1TaXplO3RoaXMuYXJyYXlbaW5kZXgrMF09eDt0aGlzLmFycmF5W2luZGV4KzFdPXk7dGhpcy5hcnJheVtpbmRleCsyXT16O3JldHVybiB0aGlzO319LHtrZXk6InNldFhZWlciLHZhbHVlOmZ1bmN0aW9uIHNldFhZWlcoaW5kZXgseCx5LHosdyl7aW5kZXgqPXRoaXMuaXRlbVNpemU7dGhpcy5hcnJheVtpbmRleCswXT14O3RoaXMuYXJyYXlbaW5kZXgrMV09eTt0aGlzLmFycmF5W2luZGV4KzJdPXo7dGhpcy5hcnJheVtpbmRleCszXT13O3JldHVybiB0aGlzO319LHtrZXk6Im9uVXBsb2FkIix2YWx1ZTpmdW5jdGlvbiBvblVwbG9hZChjYWxsYmFjayl7dGhpcy5vblVwbG9hZENhbGxiYWNrPWNhbGxiYWNrO3JldHVybiB0aGlzO319LHtrZXk6ImNsb25lIix2YWx1ZTpmdW5jdGlvbiBjbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLmFycmF5LHRoaXMuaXRlbVNpemUpLmNvcHkodGhpcyk7fX0se2tleToidG9KU09OIix2YWx1ZTpmdW5jdGlvbiB0b0pTT04oKXt2YXIgZGF0YT17aXRlbVNpemU6dGhpcy5pdGVtU2l6ZSx0eXBlOnRoaXMuYXJyYXkuY29uc3RydWN0b3IubmFtZSxhcnJheTpBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0aGlzLmFycmF5KSxub3JtYWxpemVkOnRoaXMubm9ybWFsaXplZH07aWYodGhpcy5uYW1lIT09JycpZGF0YS5uYW1lPXRoaXMubmFtZTtpZih0aGlzLnVzYWdlIT09U3RhdGljRHJhd1VzYWdlKWRhdGEudXNhZ2U9dGhpcy51c2FnZTtpZih0aGlzLnVwZGF0ZVJhbmdlLm9mZnNldCE9PTB8fHRoaXMudXBkYXRlUmFuZ2UuY291bnQhPT0tMSlkYXRhLnVwZGF0ZVJhbmdlPXRoaXMudXBkYXRlUmFuZ2U7cmV0dXJuIGRhdGE7fX1dKTtyZXR1cm4gQnVmZmVyQXR0cmlidXRlO30oKTtCdWZmZXJBdHRyaWJ1dGUucHJvdG90eXBlLmlzQnVmZmVyQXR0cmlidXRlPXRydWU7Ly8KdmFyIEludDhCdWZmZXJBdHRyaWJ1dGU9LyojX19QVVJFX18qL2Z1bmN0aW9uKF9CdWZmZXJBdHRyaWJ1dGUpe19pbmhlcml0cyhJbnQ4QnVmZmVyQXR0cmlidXRlLF9CdWZmZXJBdHRyaWJ1dGUpO3ZhciBfc3VwZXI4PV9jcmVhdGVTdXBlcihJbnQ4QnVmZmVyQXR0cmlidXRlKTtmdW5jdGlvbiBJbnQ4QnVmZmVyQXR0cmlidXRlKGFycmF5LGl0ZW1TaXplLG5vcm1hbGl6ZWQpe19jbGFzc0NhbGxDaGVjayh0aGlzLEludDhCdWZmZXJBdHRyaWJ1dGUpO3JldHVybiBfc3VwZXI4LmNhbGwodGhpcyxuZXcgSW50OEFycmF5KGFycmF5KSxpdGVtU2l6ZSxub3JtYWxpemVkKTt9cmV0dXJuIF9jcmVhdGVDbGFzcyhJbnQ4QnVmZmVyQXR0cmlidXRlKTt9KEJ1ZmZlckF0dHJpYnV0ZSk7dmFyIFVpbnQ4QnVmZmVyQXR0cmlidXRlPS8qI19fUFVSRV9fKi9mdW5jdGlvbihfQnVmZmVyQXR0cmlidXRlMil7X2luaGVyaXRzKFVpbnQ4QnVmZmVyQXR0cmlidXRlLF9CdWZmZXJBdHRyaWJ1dGUyKTt2YXIgX3N1cGVyOT1fY3JlYXRlU3VwZXIoVWludDhCdWZmZXJBdHRyaWJ1dGUpO2Z1bmN0aW9uIFVpbnQ4QnVmZmVyQXR0cmlidXRlKGFycmF5LGl0ZW1TaXplLG5vcm1hbGl6ZWQpe19jbGFzc0NhbGxDaGVjayh0aGlzLFVpbnQ4QnVmZmVyQXR0cmlidXRlKTtyZXR1cm4gX3N1cGVyOS5jYWxsKHRoaXMsbmV3IFVpbnQ4QXJyYXkoYXJyYXkpLGl0ZW1TaXplLG5vcm1hbGl6ZWQpO31yZXR1cm4gX2NyZWF0ZUNsYXNzKFVpbnQ4QnVmZmVyQXR0cmlidXRlKTt9KEJ1ZmZlckF0dHJpYnV0ZSk7dmFyIFVpbnQ4Q2xhbXBlZEJ1ZmZlckF0dHJpYnV0ZT0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX0J1ZmZlckF0dHJpYnV0ZTMpe19pbmhlcml0cyhVaW50OENsYW1wZWRCdWZmZXJBdHRyaWJ1dGUsX0J1ZmZlckF0dHJpYnV0ZTMpO3ZhciBfc3VwZXIxMD1fY3JlYXRlU3VwZXIoVWludDhDbGFtcGVkQnVmZmVyQXR0cmlidXRlKTtmdW5jdGlvbiBVaW50OENsYW1wZWRCdWZmZXJBdHRyaWJ1dGUoYXJyYXksaXRlbVNpemUsbm9ybWFsaXplZCl7X2NsYXNzQ2FsbENoZWNrKHRoaXMsVWludDhDbGFtcGVkQnVmZmVyQXR0cmlidXRlKTtyZXR1cm4gX3N1cGVyMTAuY2FsbCh0aGlzLG5ldyBVaW50OENsYW1wZWRBcnJheShhcnJheSksaXRlbVNpemUsbm9ybWFsaXplZCk7fXJldHVybiBfY3JlYXRlQ2xhc3MoVWludDhDbGFtcGVkQnVmZmVyQXR0cmlidXRlKTt9KEJ1ZmZlckF0dHJpYnV0ZSk7dmFyIEludDE2QnVmZmVyQXR0cmlidXRlPS8qI19fUFVSRV9fKi9mdW5jdGlvbihfQnVmZmVyQXR0cmlidXRlNCl7X2luaGVyaXRzKEludDE2QnVmZmVyQXR0cmlidXRlLF9CdWZmZXJBdHRyaWJ1dGU0KTt2YXIgX3N1cGVyMTE9X2NyZWF0ZVN1cGVyKEludDE2QnVmZmVyQXR0cmlidXRlKTtmdW5jdGlvbiBJbnQxNkJ1ZmZlckF0dHJpYnV0ZShhcnJheSxpdGVtU2l6ZSxub3JtYWxpemVkKXtfY2xhc3NDYWxsQ2hlY2sodGhpcyxJbnQxNkJ1ZmZlckF0dHJpYnV0ZSk7cmV0dXJuIF9zdXBlcjExLmNhbGwodGhpcyxuZXcgSW50MTZBcnJheShhcnJheSksaXRlbVNpemUsbm9ybWFsaXplZCk7fXJldHVybiBfY3JlYXRlQ2xhc3MoSW50MTZCdWZmZXJBdHRyaWJ1dGUpO30oQnVmZmVyQXR0cmlidXRlKTt2YXIgVWludDE2QnVmZmVyQXR0cmlidXRlPS8qI19fUFVSRV9fKi9mdW5jdGlvbihfQnVmZmVyQXR0cmlidXRlNSl7X2luaGVyaXRzKFVpbnQxNkJ1ZmZlckF0dHJpYnV0ZSxfQnVmZmVyQXR0cmlidXRlNSk7dmFyIF9zdXBlcjEyPV9jcmVhdGVTdXBlcihVaW50MTZCdWZmZXJBdHRyaWJ1dGUpO2Z1bmN0aW9uIFVpbnQxNkJ1ZmZlckF0dHJpYnV0ZShhcnJheSxpdGVtU2l6ZSxub3JtYWxpemVkKXtfY2xhc3NDYWxsQ2hlY2sodGhpcyxVaW50MTZCdWZmZXJBdHRyaWJ1dGUpO3JldHVybiBfc3VwZXIxMi5jYWxsKHRoaXMsbmV3IFVpbnQxNkFycmF5KGFycmF5KSxpdGVtU2l6ZSxub3JtYWxpemVkKTt9cmV0dXJuIF9jcmVhdGVDbGFzcyhVaW50MTZCdWZmZXJBdHRyaWJ1dGUpO30oQnVmZmVyQXR0cmlidXRlKTt2YXIgSW50MzJCdWZmZXJBdHRyaWJ1dGU9LyojX19QVVJFX18qL2Z1bmN0aW9uKF9CdWZmZXJBdHRyaWJ1dGU2KXtfaW5oZXJpdHMoSW50MzJCdWZmZXJBdHRyaWJ1dGUsX0J1ZmZlckF0dHJpYnV0ZTYpO3ZhciBfc3VwZXIxMz1fY3JlYXRlU3VwZXIoSW50MzJCdWZmZXJBdHRyaWJ1dGUpO2Z1bmN0aW9uIEludDMyQnVmZmVyQXR0cmlidXRlKGFycmF5LGl0ZW1TaXplLG5vcm1hbGl6ZWQpe19jbGFzc0NhbGxDaGVjayh0aGlzLEludDMyQnVmZmVyQXR0cmlidXRlKTtyZXR1cm4gX3N1cGVyMTMuY2FsbCh0aGlzLG5ldyBJbnQzMkFycmF5KGFycmF5KSxpdGVtU2l6ZSxub3JtYWxpemVkKTt9cmV0dXJuIF9jcmVhdGVDbGFzcyhJbnQzMkJ1ZmZlckF0dHJpYnV0ZSk7fShCdWZmZXJBdHRyaWJ1dGUpO3ZhciBVaW50MzJCdWZmZXJBdHRyaWJ1dGU9LyojX19QVVJFX18qL2Z1bmN0aW9uKF9CdWZmZXJBdHRyaWJ1dGU3KXtfaW5oZXJpdHMoVWludDMyQnVmZmVyQXR0cmlidXRlLF9CdWZmZXJBdHRyaWJ1dGU3KTt2YXIgX3N1cGVyMTQ9X2NyZWF0ZVN1cGVyKFVpbnQzMkJ1ZmZlckF0dHJpYnV0ZSk7ZnVuY3Rpb24gVWludDMyQnVmZmVyQXR0cmlidXRlKGFycmF5LGl0ZW1TaXplLG5vcm1hbGl6ZWQpe19jbGFzc0NhbGxDaGVjayh0aGlzLFVpbnQzMkJ1ZmZlckF0dHJpYnV0ZSk7cmV0dXJuIF9zdXBlcjE0LmNhbGwodGhpcyxuZXcgVWludDMyQXJyYXkoYXJyYXkpLGl0ZW1TaXplLG5vcm1hbGl6ZWQpO31yZXR1cm4gX2NyZWF0ZUNsYXNzKFVpbnQzMkJ1ZmZlckF0dHJpYnV0ZSk7fShCdWZmZXJBdHRyaWJ1dGUpO3ZhciBGbG9hdDE2QnVmZmVyQXR0cmlidXRlPS8qI19fUFVSRV9fKi9mdW5jdGlvbihfQnVmZmVyQXR0cmlidXRlOCl7X2luaGVyaXRzKEZsb2F0MTZCdWZmZXJBdHRyaWJ1dGUsX0J1ZmZlckF0dHJpYnV0ZTgpO3ZhciBfc3VwZXIxNT1fY3JlYXRlU3VwZXIoRmxvYXQxNkJ1ZmZlckF0dHJpYnV0ZSk7ZnVuY3Rpb24gRmxvYXQxNkJ1ZmZlckF0dHJpYnV0ZShhcnJheSxpdGVtU2l6ZSxub3JtYWxpemVkKXtfY2xhc3NDYWxsQ2hlY2sodGhpcyxGbG9hdDE2QnVmZmVyQXR0cmlidXRlKTtyZXR1cm4gX3N1cGVyMTUuY2FsbCh0aGlzLG5ldyBVaW50MTZBcnJheShhcnJheSksaXRlbVNpemUsbm9ybWFsaXplZCk7fXJldHVybiBfY3JlYXRlQ2xhc3MoRmxvYXQxNkJ1ZmZlckF0dHJpYnV0ZSk7fShCdWZmZXJBdHRyaWJ1dGUpO0Zsb2F0MTZCdWZmZXJBdHRyaWJ1dGUucHJvdG90eXBlLmlzRmxvYXQxNkJ1ZmZlckF0dHJpYnV0ZT10cnVlO3ZhciBGbG9hdDMyQnVmZmVyQXR0cmlidXRlPS8qI19fUFVSRV9fKi9mdW5jdGlvbihfQnVmZmVyQXR0cmlidXRlOSl7X2luaGVyaXRzKEZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUsX0J1ZmZlckF0dHJpYnV0ZTkpO3ZhciBfc3VwZXIxNj1fY3JlYXRlU3VwZXIoRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZSk7ZnVuY3Rpb24gRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZShhcnJheSxpdGVtU2l6ZSxub3JtYWxpemVkKXtfY2xhc3NDYWxsQ2hlY2sodGhpcyxGbG9hdDMyQnVmZmVyQXR0cmlidXRlKTtyZXR1cm4gX3N1cGVyMTYuY2FsbCh0aGlzLG5ldyBGbG9hdDMyQXJyYXkoYXJyYXkpLGl0ZW1TaXplLG5vcm1hbGl6ZWQpO31yZXR1cm4gX2NyZWF0ZUNsYXNzKEZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUpO30oQnVmZmVyQXR0cmlidXRlKTt2YXIgRmxvYXQ2NEJ1ZmZlckF0dHJpYnV0ZT0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX0J1ZmZlckF0dHJpYnV0ZTEwKXtfaW5oZXJpdHMoRmxvYXQ2NEJ1ZmZlckF0dHJpYnV0ZSxfQnVmZmVyQXR0cmlidXRlMTApO3ZhciBfc3VwZXIxNz1fY3JlYXRlU3VwZXIoRmxvYXQ2NEJ1ZmZlckF0dHJpYnV0ZSk7ZnVuY3Rpb24gRmxvYXQ2NEJ1ZmZlckF0dHJpYnV0ZShhcnJheSxpdGVtU2l6ZSxub3JtYWxpemVkKXtfY2xhc3NDYWxsQ2hlY2sodGhpcyxGbG9hdDY0QnVmZmVyQXR0cmlidXRlKTtyZXR1cm4gX3N1cGVyMTcuY2FsbCh0aGlzLG5ldyBGbG9hdDY0QXJyYXkoYXJyYXkpLGl0ZW1TaXplLG5vcm1hbGl6ZWQpO31yZXR1cm4gX2NyZWF0ZUNsYXNzKEZsb2F0NjRCdWZmZXJBdHRyaWJ1dGUpO30oQnVmZmVyQXR0cmlidXRlKTt2YXIgX2lkJDE9MDt2YXIgX20xPS8qQF9fUFVSRV9fKi9uZXcgTWF0cml4NCgpO3ZhciBfb2JqPS8qQF9fUFVSRV9fKi9uZXcgT2JqZWN0M0QoKTt2YXIgX29mZnNldD0vKkBfX1BVUkVfXyovbmV3IFZlY3RvcjMoKTt2YXIgX2JveCQxPS8qQF9fUFVSRV9fKi9uZXcgQm94MygpO3ZhciBfYm94TW9ycGhUYXJnZXRzPS8qQF9fUFVSRV9fKi9uZXcgQm94MygpO3ZhciBfdmVjdG9yJDg9LypAX19QVVJFX18qL25ldyBWZWN0b3IzKCk7dmFyIEJ1ZmZlckdlb21ldHJ5PS8qI19fUFVSRV9fKi9mdW5jdGlvbihfRXZlbnREaXNwYXRjaGVyNSl7X2luaGVyaXRzKEJ1ZmZlckdlb21ldHJ5LF9FdmVudERpc3BhdGNoZXI1KTt2YXIgX3N1cGVyMTg9X2NyZWF0ZVN1cGVyKEJ1ZmZlckdlb21ldHJ5KTtmdW5jdGlvbiBCdWZmZXJHZW9tZXRyeSgpe3ZhciBfdGhpczk7X2NsYXNzQ2FsbENoZWNrKHRoaXMsQnVmZmVyR2VvbWV0cnkpO190aGlzOT1fc3VwZXIxOC5jYWxsKHRoaXMpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzOSksJ2lkJyx7dmFsdWU6X2lkJDErK30pO190aGlzOS51dWlkPWdlbmVyYXRlVVVJRCgpO190aGlzOS5uYW1lPScnO190aGlzOS50eXBlPSdCdWZmZXJHZW9tZXRyeSc7X3RoaXM5LmluZGV4PW51bGw7X3RoaXM5LmF0dHJpYnV0ZXM9e307X3RoaXM5Lm1vcnBoQXR0cmlidXRlcz17fTtfdGhpczkubW9ycGhUYXJnZXRzUmVsYXRpdmU9ZmFsc2U7X3RoaXM5Lmdyb3Vwcz1bXTtfdGhpczkuYm91bmRpbmdCb3g9bnVsbDtfdGhpczkuYm91bmRpbmdTcGhlcmU9bnVsbDtfdGhpczkuZHJhd1JhbmdlPXtzdGFydDowLGNvdW50OkluZmluaXR5fTtfdGhpczkudXNlckRhdGE9e307cmV0dXJuIF90aGlzOTt9X2NyZWF0ZUNsYXNzKEJ1ZmZlckdlb21ldHJ5LFt7a2V5OiJnZXRJbmRleCIsdmFsdWU6ZnVuY3Rpb24gZ2V0SW5kZXgoKXtyZXR1cm4gdGhpcy5pbmRleDt9fSx7a2V5OiJzZXRJbmRleCIsdmFsdWU6ZnVuY3Rpb24gc2V0SW5kZXgoaW5kZXgpe2lmKEFycmF5LmlzQXJyYXkoaW5kZXgpKXt0aGlzLmluZGV4PW5ldyhhcnJheU5lZWRzVWludDMyKGluZGV4KT9VaW50MzJCdWZmZXJBdHRyaWJ1dGU6VWludDE2QnVmZmVyQXR0cmlidXRlKShpbmRleCwxKTt9ZWxzZXt0aGlzLmluZGV4PWluZGV4O31yZXR1cm4gdGhpczt9fSx7a2V5OiJnZXRBdHRyaWJ1dGUiLHZhbHVlOmZ1bmN0aW9uIGdldEF0dHJpYnV0ZShuYW1lKXtyZXR1cm4gdGhpcy5hdHRyaWJ1dGVzW25hbWVdO319LHtrZXk6InNldEF0dHJpYnV0ZSIsdmFsdWU6ZnVuY3Rpb24gc2V0QXR0cmlidXRlKG5hbWUsYXR0cmlidXRlKXt0aGlzLmF0dHJpYnV0ZXNbbmFtZV09YXR0cmlidXRlO3JldHVybiB0aGlzO319LHtrZXk6ImRlbGV0ZUF0dHJpYnV0ZSIsdmFsdWU6ZnVuY3Rpb24gZGVsZXRlQXR0cmlidXRlKG5hbWUpe2RlbGV0ZSB0aGlzLmF0dHJpYnV0ZXNbbmFtZV07cmV0dXJuIHRoaXM7fX0se2tleToiaGFzQXR0cmlidXRlIix2YWx1ZTpmdW5jdGlvbiBoYXNBdHRyaWJ1dGUobmFtZSl7cmV0dXJuIHRoaXMuYXR0cmlidXRlc1tuYW1lXSE9PXVuZGVmaW5lZDt9fSx7a2V5OiJhZGRHcm91cCIsdmFsdWU6ZnVuY3Rpb24gYWRkR3JvdXAoc3RhcnQsY291bnQpe3ZhciBtYXRlcmlhbEluZGV4PWFyZ3VtZW50cy5sZW5ndGg+MiYmYXJndW1lbnRzWzJdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1syXTowO3RoaXMuZ3JvdXBzLnB1c2goe3N0YXJ0OnN0YXJ0LGNvdW50OmNvdW50LG1hdGVyaWFsSW5kZXg6bWF0ZXJpYWxJbmRleH0pO319LHtrZXk6ImNsZWFyR3JvdXBzIix2YWx1ZTpmdW5jdGlvbiBjbGVhckdyb3Vwcygpe3RoaXMuZ3JvdXBzPVtdO319LHtrZXk6InNldERyYXdSYW5nZSIsdmFsdWU6ZnVuY3Rpb24gc2V0RHJhd1JhbmdlKHN0YXJ0LGNvdW50KXt0aGlzLmRyYXdSYW5nZS5zdGFydD1zdGFydDt0aGlzLmRyYXdSYW5nZS5jb3VudD1jb3VudDt9fSx7a2V5OiJhcHBseU1hdHJpeDQiLHZhbHVlOmZ1bmN0aW9uIGFwcGx5TWF0cml4NChtYXRyaXgpe3ZhciBwb3NpdGlvbj10aGlzLmF0dHJpYnV0ZXMucG9zaXRpb247aWYocG9zaXRpb24hPT11bmRlZmluZWQpe3Bvc2l0aW9uLmFwcGx5TWF0cml4NChtYXRyaXgpO3Bvc2l0aW9uLm5lZWRzVXBkYXRlPXRydWU7fXZhciBub3JtYWw9dGhpcy5hdHRyaWJ1dGVzLm5vcm1hbDtpZihub3JtYWwhPT11bmRlZmluZWQpe3ZhciBub3JtYWxNYXRyaXg9bmV3IE1hdHJpeDMoKS5nZXROb3JtYWxNYXRyaXgobWF0cml4KTtub3JtYWwuYXBwbHlOb3JtYWxNYXRyaXgobm9ybWFsTWF0cml4KTtub3JtYWwubmVlZHNVcGRhdGU9dHJ1ZTt9dmFyIHRhbmdlbnQ9dGhpcy5hdHRyaWJ1dGVzLnRhbmdlbnQ7aWYodGFuZ2VudCE9PXVuZGVmaW5lZCl7dGFuZ2VudC50cmFuc2Zvcm1EaXJlY3Rpb24obWF0cml4KTt0YW5nZW50Lm5lZWRzVXBkYXRlPXRydWU7fWlmKHRoaXMuYm91bmRpbmdCb3ghPT1udWxsKXt0aGlzLmNvbXB1dGVCb3VuZGluZ0JveCgpO31pZih0aGlzLmJvdW5kaW5nU3BoZXJlIT09bnVsbCl7dGhpcy5jb21wdXRlQm91bmRpbmdTcGhlcmUoKTt9cmV0dXJuIHRoaXM7fX0se2tleToiYXBwbHlRdWF0ZXJuaW9uIix2YWx1ZTpmdW5jdGlvbiBhcHBseVF1YXRlcm5pb24ocSl7X20xLm1ha2VSb3RhdGlvbkZyb21RdWF0ZXJuaW9uKHEpO3RoaXMuYXBwbHlNYXRyaXg0KF9tMSk7cmV0dXJuIHRoaXM7fX0se2tleToicm90YXRlWCIsdmFsdWU6ZnVuY3Rpb24gcm90YXRlWChhbmdsZSl7Ly8gcm90YXRlIGdlb21ldHJ5IGFyb3VuZCB3b3JsZCB4LWF4aXMKX20xLm1ha2VSb3RhdGlvblgoYW5nbGUpO3RoaXMuYXBwbHlNYXRyaXg0KF9tMSk7cmV0dXJuIHRoaXM7fX0se2tleToicm90YXRlWSIsdmFsdWU6ZnVuY3Rpb24gcm90YXRlWShhbmdsZSl7Ly8gcm90YXRlIGdlb21ldHJ5IGFyb3VuZCB3b3JsZCB5LWF4aXMKX20xLm1ha2VSb3RhdGlvblkoYW5nbGUpO3RoaXMuYXBwbHlNYXRyaXg0KF9tMSk7cmV0dXJuIHRoaXM7fX0se2tleToicm90YXRlWiIsdmFsdWU6ZnVuY3Rpb24gcm90YXRlWihhbmdsZSl7Ly8gcm90YXRlIGdlb21ldHJ5IGFyb3VuZCB3b3JsZCB6LWF4aXMKX20xLm1ha2VSb3RhdGlvblooYW5nbGUpO3RoaXMuYXBwbHlNYXRyaXg0KF9tMSk7cmV0dXJuIHRoaXM7fX0se2tleToidHJhbnNsYXRlIix2YWx1ZTpmdW5jdGlvbiB0cmFuc2xhdGUoeCx5LHopey8vIHRyYW5zbGF0ZSBnZW9tZXRyeQpfbTEubWFrZVRyYW5zbGF0aW9uKHgseSx6KTt0aGlzLmFwcGx5TWF0cml4NChfbTEpO3JldHVybiB0aGlzO319LHtrZXk6InNjYWxlIix2YWx1ZTpmdW5jdGlvbiBzY2FsZSh4LHkseil7Ly8gc2NhbGUgZ2VvbWV0cnkKX20xLm1ha2VTY2FsZSh4LHkseik7dGhpcy5hcHBseU1hdHJpeDQoX20xKTtyZXR1cm4gdGhpczt9fSx7a2V5OiJsb29rQXQiLHZhbHVlOmZ1bmN0aW9uIGxvb2tBdCh2ZWN0b3Ipe19vYmoubG9va0F0KHZlY3Rvcik7X29iai51cGRhdGVNYXRyaXgoKTt0aGlzLmFwcGx5TWF0cml4NChfb2JqLm1hdHJpeCk7cmV0dXJuIHRoaXM7fX0se2tleToiY2VudGVyIix2YWx1ZTpmdW5jdGlvbiBjZW50ZXIoKXt0aGlzLmNvbXB1dGVCb3VuZGluZ0JveCgpO3RoaXMuYm91bmRpbmdCb3guZ2V0Q2VudGVyKF9vZmZzZXQpLm5lZ2F0ZSgpO3RoaXMudHJhbnNsYXRlKF9vZmZzZXQueCxfb2Zmc2V0LnksX29mZnNldC56KTtyZXR1cm4gdGhpczt9fSx7a2V5OiJzZXRGcm9tUG9pbnRzIix2YWx1ZTpmdW5jdGlvbiBzZXRGcm9tUG9pbnRzKHBvaW50cyl7dmFyIHBvc2l0aW9uPVtdO2Zvcih2YXIgX2k0Mz0wLGw9cG9pbnRzLmxlbmd0aDtfaTQzPGw7X2k0MysrKXt2YXIgcG9pbnQ9cG9pbnRzW19pNDNdO3Bvc2l0aW9uLnB1c2gocG9pbnQueCxwb2ludC55LHBvaW50Lnp8fDApO310aGlzLnNldEF0dHJpYnV0ZSgncG9zaXRpb24nLG5ldyBGbG9hdDMyQnVmZmVyQXR0cmlidXRlKHBvc2l0aW9uLDMpKTtyZXR1cm4gdGhpczt9fSx7a2V5OiJjb21wdXRlQm91bmRpbmdCb3giLHZhbHVlOmZ1bmN0aW9uIGNvbXB1dGVCb3VuZGluZ0JveCgpe2lmKHRoaXMuYm91bmRpbmdCb3g9PT1udWxsKXt0aGlzLmJvdW5kaW5nQm94PW5ldyBCb3gzKCk7fXZhciBwb3NpdGlvbj10aGlzLmF0dHJpYnV0ZXMucG9zaXRpb247dmFyIG1vcnBoQXR0cmlidXRlc1Bvc2l0aW9uPXRoaXMubW9ycGhBdHRyaWJ1dGVzLnBvc2l0aW9uO2lmKHBvc2l0aW9uJiZwb3NpdGlvbi5pc0dMQnVmZmVyQXR0cmlidXRlKXtjb25zb2xlLmVycm9yKCdUSFJFRS5CdWZmZXJHZW9tZXRyeS5jb21wdXRlQm91bmRpbmdCb3goKTogR0xCdWZmZXJBdHRyaWJ1dGUgcmVxdWlyZXMgYSBtYW51YWwgYm91bmRpbmcgYm94LiBBbHRlcm5hdGl2ZWx5IHNldCAibWVzaC5mcnVzdHVtQ3VsbGVkIiB0byAiZmFsc2UiLicsdGhpcyk7dGhpcy5ib3VuZGluZ0JveC5zZXQobmV3IFZlY3RvcjMoLUluZmluaXR5LC1JbmZpbml0eSwtSW5maW5pdHkpLG5ldyBWZWN0b3IzKCtJbmZpbml0eSwrSW5maW5pdHksK0luZmluaXR5KSk7cmV0dXJuO31pZihwb3NpdGlvbiE9PXVuZGVmaW5lZCl7dGhpcy5ib3VuZGluZ0JveC5zZXRGcm9tQnVmZmVyQXR0cmlidXRlKHBvc2l0aW9uKTsvLyBwcm9jZXNzIG1vcnBoIGF0dHJpYnV0ZXMgaWYgcHJlc2VudAppZihtb3JwaEF0dHJpYnV0ZXNQb3NpdGlvbil7Zm9yKHZhciBfaTQ0PTAsaWw9bW9ycGhBdHRyaWJ1dGVzUG9zaXRpb24ubGVuZ3RoO19pNDQ8aWw7X2k0NCsrKXt2YXIgbW9ycGhBdHRyaWJ1dGU9bW9ycGhBdHRyaWJ1dGVzUG9zaXRpb25bX2k0NF07X2JveCQxLnNldEZyb21CdWZmZXJBdHRyaWJ1dGUobW9ycGhBdHRyaWJ1dGUpO2lmKHRoaXMubW9ycGhUYXJnZXRzUmVsYXRpdmUpe192ZWN0b3IkOC5hZGRWZWN0b3JzKHRoaXMuYm91bmRpbmdCb3gubWluLF9ib3gkMS5taW4pO3RoaXMuYm91bmRpbmdCb3guZXhwYW5kQnlQb2ludChfdmVjdG9yJDgpO192ZWN0b3IkOC5hZGRWZWN0b3JzKHRoaXMuYm91bmRpbmdCb3gubWF4LF9ib3gkMS5tYXgpO3RoaXMuYm91bmRpbmdCb3guZXhwYW5kQnlQb2ludChfdmVjdG9yJDgpO31lbHNle3RoaXMuYm91bmRpbmdCb3guZXhwYW5kQnlQb2ludChfYm94JDEubWluKTt0aGlzLmJvdW5kaW5nQm94LmV4cGFuZEJ5UG9pbnQoX2JveCQxLm1heCk7fX19fWVsc2V7dGhpcy5ib3VuZGluZ0JveC5tYWtlRW1wdHkoKTt9aWYoaXNOYU4odGhpcy5ib3VuZGluZ0JveC5taW4ueCl8fGlzTmFOKHRoaXMuYm91bmRpbmdCb3gubWluLnkpfHxpc05hTih0aGlzLmJvdW5kaW5nQm94Lm1pbi56KSl7Y29uc29sZS5lcnJvcignVEhSRUUuQnVmZmVyR2VvbWV0cnkuY29tcHV0ZUJvdW5kaW5nQm94KCk6IENvbXB1dGVkIG1pbi9tYXggaGF2ZSBOYU4gdmFsdWVzLiBUaGUgInBvc2l0aW9uIiBhdHRyaWJ1dGUgaXMgbGlrZWx5IHRvIGhhdmUgTmFOIHZhbHVlcy4nLHRoaXMpO319fSx7a2V5OiJjb21wdXRlQm91bmRpbmdTcGhlcmUiLHZhbHVlOmZ1bmN0aW9uIGNvbXB1dGVCb3VuZGluZ1NwaGVyZSgpe2lmKHRoaXMuYm91bmRpbmdTcGhlcmU9PT1udWxsKXt0aGlzLmJvdW5kaW5nU3BoZXJlPW5ldyBTcGhlcmUoKTt9dmFyIHBvc2l0aW9uPXRoaXMuYXR0cmlidXRlcy5wb3NpdGlvbjt2YXIgbW9ycGhBdHRyaWJ1dGVzUG9zaXRpb249dGhpcy5tb3JwaEF0dHJpYnV0ZXMucG9zaXRpb247aWYocG9zaXRpb24mJnBvc2l0aW9uLmlzR0xCdWZmZXJBdHRyaWJ1dGUpe2NvbnNvbGUuZXJyb3IoJ1RIUkVFLkJ1ZmZlckdlb21ldHJ5LmNvbXB1dGVCb3VuZGluZ1NwaGVyZSgpOiBHTEJ1ZmZlckF0dHJpYnV0ZSByZXF1aXJlcyBhIG1hbnVhbCBib3VuZGluZyBzcGhlcmUuIEFsdGVybmF0aXZlbHkgc2V0ICJtZXNoLmZydXN0dW1DdWxsZWQiIHRvICJmYWxzZSIuJyx0aGlzKTt0aGlzLmJvdW5kaW5nU3BoZXJlLnNldChuZXcgVmVjdG9yMygpLEluZmluaXR5KTtyZXR1cm47fWlmKHBvc2l0aW9uKXsvLyBmaXJzdCwgZmluZCB0aGUgY2VudGVyIG9mIHRoZSBib3VuZGluZyBzcGhlcmUKdmFyIGNlbnRlcj10aGlzLmJvdW5kaW5nU3BoZXJlLmNlbnRlcjtfYm94JDEuc2V0RnJvbUJ1ZmZlckF0dHJpYnV0ZShwb3NpdGlvbik7Ly8gcHJvY2VzcyBtb3JwaCBhdHRyaWJ1dGVzIGlmIHByZXNlbnQKaWYobW9ycGhBdHRyaWJ1dGVzUG9zaXRpb24pe2Zvcih2YXIgX2k0NT0wLGlsPW1vcnBoQXR0cmlidXRlc1Bvc2l0aW9uLmxlbmd0aDtfaTQ1PGlsO19pNDUrKyl7dmFyIG1vcnBoQXR0cmlidXRlPW1vcnBoQXR0cmlidXRlc1Bvc2l0aW9uW19pNDVdO19ib3hNb3JwaFRhcmdldHMuc2V0RnJvbUJ1ZmZlckF0dHJpYnV0ZShtb3JwaEF0dHJpYnV0ZSk7aWYodGhpcy5tb3JwaFRhcmdldHNSZWxhdGl2ZSl7X3ZlY3RvciQ4LmFkZFZlY3RvcnMoX2JveCQxLm1pbixfYm94TW9ycGhUYXJnZXRzLm1pbik7X2JveCQxLmV4cGFuZEJ5UG9pbnQoX3ZlY3RvciQ4KTtfdmVjdG9yJDguYWRkVmVjdG9ycyhfYm94JDEubWF4LF9ib3hNb3JwaFRhcmdldHMubWF4KTtfYm94JDEuZXhwYW5kQnlQb2ludChfdmVjdG9yJDgpO31lbHNle19ib3gkMS5leHBhbmRCeVBvaW50KF9ib3hNb3JwaFRhcmdldHMubWluKTtfYm94JDEuZXhwYW5kQnlQb2ludChfYm94TW9ycGhUYXJnZXRzLm1heCk7fX19X2JveCQxLmdldENlbnRlcihjZW50ZXIpOy8vIHNlY29uZCwgdHJ5IHRvIGZpbmQgYSBib3VuZGluZ1NwaGVyZSB3aXRoIGEgcmFkaXVzIHNtYWxsZXIgdGhhbiB0aGUKLy8gYm91bmRpbmdTcGhlcmUgb2YgdGhlIGJvdW5kaW5nQm94OiBzcXJ0KDMpIHNtYWxsZXIgaW4gdGhlIGJlc3QgY2FzZQp2YXIgbWF4UmFkaXVzU3E9MDtmb3IodmFyIF9pNDY9MCxfaWw9cG9zaXRpb24uY291bnQ7X2k0NjxfaWw7X2k0NisrKXtfdmVjdG9yJDguZnJvbUJ1ZmZlckF0dHJpYnV0ZShwb3NpdGlvbixfaTQ2KTttYXhSYWRpdXNTcT1NYXRoLm1heChtYXhSYWRpdXNTcSxjZW50ZXIuZGlzdGFuY2VUb1NxdWFyZWQoX3ZlY3RvciQ4KSk7fS8vIHByb2Nlc3MgbW9ycGggYXR0cmlidXRlcyBpZiBwcmVzZW50CmlmKG1vcnBoQXR0cmlidXRlc1Bvc2l0aW9uKXtmb3IodmFyIF9pNDc9MCxfaWwyPW1vcnBoQXR0cmlidXRlc1Bvc2l0aW9uLmxlbmd0aDtfaTQ3PF9pbDI7X2k0NysrKXt2YXIgX21vcnBoQXR0cmlidXRlPW1vcnBoQXR0cmlidXRlc1Bvc2l0aW9uW19pNDddO3ZhciBtb3JwaFRhcmdldHNSZWxhdGl2ZT10aGlzLm1vcnBoVGFyZ2V0c1JlbGF0aXZlO2Zvcih2YXIgaj0wLGpsPV9tb3JwaEF0dHJpYnV0ZS5jb3VudDtqPGpsO2orKyl7X3ZlY3RvciQ4LmZyb21CdWZmZXJBdHRyaWJ1dGUoX21vcnBoQXR0cmlidXRlLGopO2lmKG1vcnBoVGFyZ2V0c1JlbGF0aXZlKXtfb2Zmc2V0LmZyb21CdWZmZXJBdHRyaWJ1dGUocG9zaXRpb24saik7X3ZlY3RvciQ4LmFkZChfb2Zmc2V0KTt9bWF4UmFkaXVzU3E9TWF0aC5tYXgobWF4UmFkaXVzU3EsY2VudGVyLmRpc3RhbmNlVG9TcXVhcmVkKF92ZWN0b3IkOCkpO319fXRoaXMuYm91bmRpbmdTcGhlcmUucmFkaXVzPU1hdGguc3FydChtYXhSYWRpdXNTcSk7aWYoaXNOYU4odGhpcy5ib3VuZGluZ1NwaGVyZS5yYWRpdXMpKXtjb25zb2xlLmVycm9yKCdUSFJFRS5CdWZmZXJHZW9tZXRyeS5jb21wdXRlQm91bmRpbmdTcGhlcmUoKTogQ29tcHV0ZWQgcmFkaXVzIGlzIE5hTi4gVGhlICJwb3NpdGlvbiIgYXR0cmlidXRlIGlzIGxpa2VseSB0byBoYXZlIE5hTiB2YWx1ZXMuJyx0aGlzKTt9fX19LHtrZXk6ImNvbXB1dGVUYW5nZW50cyIsdmFsdWU6ZnVuY3Rpb24gY29tcHV0ZVRhbmdlbnRzKCl7dmFyIGluZGV4PXRoaXMuaW5kZXg7dmFyIGF0dHJpYnV0ZXM9dGhpcy5hdHRyaWJ1dGVzOy8vIGJhc2VkIG9uIGh0dHA6Ly93d3cudGVyYXRob24uY29tL2NvZGUvdGFuZ2VudC5odG1sCi8vIChwZXIgdmVydGV4IHRhbmdlbnRzKQppZihpbmRleD09PW51bGx8fGF0dHJpYnV0ZXMucG9zaXRpb249PT11bmRlZmluZWR8fGF0dHJpYnV0ZXMubm9ybWFsPT09dW5kZWZpbmVkfHxhdHRyaWJ1dGVzLnV2PT09dW5kZWZpbmVkKXtjb25zb2xlLmVycm9yKCdUSFJFRS5CdWZmZXJHZW9tZXRyeTogLmNvbXB1dGVUYW5nZW50cygpIGZhaWxlZC4gTWlzc2luZyByZXF1aXJlZCBhdHRyaWJ1dGVzIChpbmRleCwgcG9zaXRpb24sIG5vcm1hbCBvciB1diknKTtyZXR1cm47fXZhciBpbmRpY2VzPWluZGV4LmFycmF5O3ZhciBwb3NpdGlvbnM9YXR0cmlidXRlcy5wb3NpdGlvbi5hcnJheTt2YXIgbm9ybWFscz1hdHRyaWJ1dGVzLm5vcm1hbC5hcnJheTt2YXIgdXZzPWF0dHJpYnV0ZXMudXYuYXJyYXk7dmFyIG5WZXJ0aWNlcz1wb3NpdGlvbnMubGVuZ3RoLzM7aWYoYXR0cmlidXRlcy50YW5nZW50PT09dW5kZWZpbmVkKXt0aGlzLnNldEF0dHJpYnV0ZSgndGFuZ2VudCcsbmV3IEJ1ZmZlckF0dHJpYnV0ZShuZXcgRmxvYXQzMkFycmF5KDQqblZlcnRpY2VzKSw0KSk7fXZhciB0YW5nZW50cz1hdHRyaWJ1dGVzLnRhbmdlbnQuYXJyYXk7dmFyIHRhbjE9W10sdGFuMj1bXTtmb3IodmFyIF9pNDg9MDtfaTQ4PG5WZXJ0aWNlcztfaTQ4Kyspe3RhbjFbX2k0OF09bmV3IFZlY3RvcjMoKTt0YW4yW19pNDhdPW5ldyBWZWN0b3IzKCk7fXZhciB2QT1uZXcgVmVjdG9yMygpLHZCPW5ldyBWZWN0b3IzKCksdkM9bmV3IFZlY3RvcjMoKSx1dkE9bmV3IFZlY3RvcjIoKSx1dkI9bmV3IFZlY3RvcjIoKSx1dkM9bmV3IFZlY3RvcjIoKSxzZGlyPW5ldyBWZWN0b3IzKCksdGRpcj1uZXcgVmVjdG9yMygpO2Z1bmN0aW9uIGhhbmRsZVRyaWFuZ2xlKGEsYixjKXt2QS5mcm9tQXJyYXkocG9zaXRpb25zLGEqMyk7dkIuZnJvbUFycmF5KHBvc2l0aW9ucyxiKjMpO3ZDLmZyb21BcnJheShwb3NpdGlvbnMsYyozKTt1dkEuZnJvbUFycmF5KHV2cyxhKjIpO3V2Qi5mcm9tQXJyYXkodXZzLGIqMik7dXZDLmZyb21BcnJheSh1dnMsYyoyKTt2Qi5zdWIodkEpO3ZDLnN1Yih2QSk7dXZCLnN1Yih1dkEpO3V2Qy5zdWIodXZBKTt2YXIgcj0xLjAvKHV2Qi54KnV2Qy55LXV2Qy54KnV2Qi55KTsvLyBzaWxlbnRseSBpZ25vcmUgZGVnZW5lcmF0ZSB1diB0cmlhbmdsZXMgaGF2aW5nIGNvaW5jaWRlbnQgb3IgY29saW5lYXIgdmVydGljZXMKaWYoIWlzRmluaXRlKHIpKXJldHVybjtzZGlyLmNvcHkodkIpLm11bHRpcGx5U2NhbGFyKHV2Qy55KS5hZGRTY2FsZWRWZWN0b3IodkMsLXV2Qi55KS5tdWx0aXBseVNjYWxhcihyKTt0ZGlyLmNvcHkodkMpLm11bHRpcGx5U2NhbGFyKHV2Qi54KS5hZGRTY2FsZWRWZWN0b3IodkIsLXV2Qy54KS5tdWx0aXBseVNjYWxhcihyKTt0YW4xW2FdLmFkZChzZGlyKTt0YW4xW2JdLmFkZChzZGlyKTt0YW4xW2NdLmFkZChzZGlyKTt0YW4yW2FdLmFkZCh0ZGlyKTt0YW4yW2JdLmFkZCh0ZGlyKTt0YW4yW2NdLmFkZCh0ZGlyKTt9dmFyIGdyb3Vwcz10aGlzLmdyb3VwcztpZihncm91cHMubGVuZ3RoPT09MCl7Z3JvdXBzPVt7c3RhcnQ6MCxjb3VudDppbmRpY2VzLmxlbmd0aH1dO31mb3IodmFyIF9pNDk9MCxpbD1ncm91cHMubGVuZ3RoO19pNDk8aWw7KytfaTQ5KXt2YXIgZ3JvdXA9Z3JvdXBzW19pNDldO3ZhciBzdGFydD1ncm91cC5zdGFydDt2YXIgY291bnQ9Z3JvdXAuY291bnQ7Zm9yKHZhciBqPXN0YXJ0LGpsPXN0YXJ0K2NvdW50O2o8amw7ais9Myl7aGFuZGxlVHJpYW5nbGUoaW5kaWNlc1tqKzBdLGluZGljZXNbaisxXSxpbmRpY2VzW2orMl0pO319dmFyIHRtcD1uZXcgVmVjdG9yMygpLHRtcDI9bmV3IFZlY3RvcjMoKTt2YXIgbj1uZXcgVmVjdG9yMygpLG4yPW5ldyBWZWN0b3IzKCk7ZnVuY3Rpb24gaGFuZGxlVmVydGV4KHYpe24uZnJvbUFycmF5KG5vcm1hbHMsdiozKTtuMi5jb3B5KG4pO3ZhciB0PXRhbjFbdl07Ly8gR3JhbS1TY2htaWR0IG9ydGhvZ29uYWxpemUKdG1wLmNvcHkodCk7dG1wLnN1YihuLm11bHRpcGx5U2NhbGFyKG4uZG90KHQpKSkubm9ybWFsaXplKCk7Ly8gQ2FsY3VsYXRlIGhhbmRlZG5lc3MKdG1wMi5jcm9zc1ZlY3RvcnMobjIsdCk7dmFyIHRlc3Q9dG1wMi5kb3QodGFuMlt2XSk7dmFyIHc9dGVzdDwwLjA/LTEuMDoxLjA7dGFuZ2VudHNbdio0XT10bXAueDt0YW5nZW50c1t2KjQrMV09dG1wLnk7dGFuZ2VudHNbdio0KzJdPXRtcC56O3RhbmdlbnRzW3YqNCszXT13O31mb3IodmFyIF9pNTA9MCxfaWwzPWdyb3Vwcy5sZW5ndGg7X2k1MDxfaWwzOysrX2k1MCl7dmFyIF9ncm91cD1ncm91cHNbX2k1MF07dmFyIF9zdGFydDI9X2dyb3VwLnN0YXJ0O3ZhciBfY291bnQ9X2dyb3VwLmNvdW50O2Zvcih2YXIgX2o9X3N0YXJ0Mixfamw9X3N0YXJ0MitfY291bnQ7X2o8X2psO19qKz0zKXtoYW5kbGVWZXJ0ZXgoaW5kaWNlc1tfaiswXSk7aGFuZGxlVmVydGV4KGluZGljZXNbX2orMV0pO2hhbmRsZVZlcnRleChpbmRpY2VzW19qKzJdKTt9fX19LHtrZXk6ImNvbXB1dGVWZXJ0ZXhOb3JtYWxzIix2YWx1ZTpmdW5jdGlvbiBjb21wdXRlVmVydGV4Tm9ybWFscygpe3ZhciBpbmRleD10aGlzLmluZGV4O3ZhciBwb3NpdGlvbkF0dHJpYnV0ZT10aGlzLmdldEF0dHJpYnV0ZSgncG9zaXRpb24nKTtpZihwb3NpdGlvbkF0dHJpYnV0ZSE9PXVuZGVmaW5lZCl7dmFyIG5vcm1hbEF0dHJpYnV0ZT10aGlzLmdldEF0dHJpYnV0ZSgnbm9ybWFsJyk7aWYobm9ybWFsQXR0cmlidXRlPT09dW5kZWZpbmVkKXtub3JtYWxBdHRyaWJ1dGU9bmV3IEJ1ZmZlckF0dHJpYnV0ZShuZXcgRmxvYXQzMkFycmF5KHBvc2l0aW9uQXR0cmlidXRlLmNvdW50KjMpLDMpO3RoaXMuc2V0QXR0cmlidXRlKCdub3JtYWwnLG5vcm1hbEF0dHJpYnV0ZSk7fWVsc2V7Ly8gcmVzZXQgZXhpc3Rpbmcgbm9ybWFscyB0byB6ZXJvCmZvcih2YXIgX2k1MT0wLGlsPW5vcm1hbEF0dHJpYnV0ZS5jb3VudDtfaTUxPGlsO19pNTErKyl7bm9ybWFsQXR0cmlidXRlLnNldFhZWihfaTUxLDAsMCwwKTt9fXZhciBwQT1uZXcgVmVjdG9yMygpLHBCPW5ldyBWZWN0b3IzKCkscEM9bmV3IFZlY3RvcjMoKTt2YXIgbkE9bmV3IFZlY3RvcjMoKSxuQj1uZXcgVmVjdG9yMygpLG5DPW5ldyBWZWN0b3IzKCk7dmFyIGNiPW5ldyBWZWN0b3IzKCksYWI9bmV3IFZlY3RvcjMoKTsvLyBpbmRleGVkIGVsZW1lbnRzCmlmKGluZGV4KXtmb3IodmFyIF9pNTI9MCxfaWw0PWluZGV4LmNvdW50O19pNTI8X2lsNDtfaTUyKz0zKXt2YXIgdkE9aW5kZXguZ2V0WChfaTUyKzApO3ZhciB2Qj1pbmRleC5nZXRYKF9pNTIrMSk7dmFyIHZDPWluZGV4LmdldFgoX2k1MisyKTtwQS5mcm9tQnVmZmVyQXR0cmlidXRlKHBvc2l0aW9uQXR0cmlidXRlLHZBKTtwQi5mcm9tQnVmZmVyQXR0cmlidXRlKHBvc2l0aW9uQXR0cmlidXRlLHZCKTtwQy5mcm9tQnVmZmVyQXR0cmlidXRlKHBvc2l0aW9uQXR0cmlidXRlLHZDKTtjYi5zdWJWZWN0b3JzKHBDLHBCKTthYi5zdWJWZWN0b3JzKHBBLHBCKTtjYi5jcm9zcyhhYik7bkEuZnJvbUJ1ZmZlckF0dHJpYnV0ZShub3JtYWxBdHRyaWJ1dGUsdkEpO25CLmZyb21CdWZmZXJBdHRyaWJ1dGUobm9ybWFsQXR0cmlidXRlLHZCKTtuQy5mcm9tQnVmZmVyQXR0cmlidXRlKG5vcm1hbEF0dHJpYnV0ZSx2Qyk7bkEuYWRkKGNiKTtuQi5hZGQoY2IpO25DLmFkZChjYik7bm9ybWFsQXR0cmlidXRlLnNldFhZWih2QSxuQS54LG5BLnksbkEueik7bm9ybWFsQXR0cmlidXRlLnNldFhZWih2QixuQi54LG5CLnksbkIueik7bm9ybWFsQXR0cmlidXRlLnNldFhZWih2QyxuQy54LG5DLnksbkMueik7fX1lbHNley8vIG5vbi1pbmRleGVkIGVsZW1lbnRzICh1bmNvbm5lY3RlZCB0cmlhbmdsZSBzb3VwKQpmb3IodmFyIF9pNTM9MCxfaWw1PXBvc2l0aW9uQXR0cmlidXRlLmNvdW50O19pNTM8X2lsNTtfaTUzKz0zKXtwQS5mcm9tQnVmZmVyQXR0cmlidXRlKHBvc2l0aW9uQXR0cmlidXRlLF9pNTMrMCk7cEIuZnJvbUJ1ZmZlckF0dHJpYnV0ZShwb3NpdGlvbkF0dHJpYnV0ZSxfaTUzKzEpO3BDLmZyb21CdWZmZXJBdHRyaWJ1dGUocG9zaXRpb25BdHRyaWJ1dGUsX2k1MysyKTtjYi5zdWJWZWN0b3JzKHBDLHBCKTthYi5zdWJWZWN0b3JzKHBBLHBCKTtjYi5jcm9zcyhhYik7bm9ybWFsQXR0cmlidXRlLnNldFhZWihfaTUzKzAsY2IueCxjYi55LGNiLnopO25vcm1hbEF0dHJpYnV0ZS5zZXRYWVooX2k1MysxLGNiLngsY2IueSxjYi56KTtub3JtYWxBdHRyaWJ1dGUuc2V0WFlaKF9pNTMrMixjYi54LGNiLnksY2Iueik7fX10aGlzLm5vcm1hbGl6ZU5vcm1hbHMoKTtub3JtYWxBdHRyaWJ1dGUubmVlZHNVcGRhdGU9dHJ1ZTt9fX0se2tleToibWVyZ2UiLHZhbHVlOmZ1bmN0aW9uIG1lcmdlKGdlb21ldHJ5LG9mZnNldCl7aWYoIShnZW9tZXRyeSYmZ2VvbWV0cnkuaXNCdWZmZXJHZW9tZXRyeSkpe2NvbnNvbGUuZXJyb3IoJ1RIUkVFLkJ1ZmZlckdlb21ldHJ5Lm1lcmdlKCk6IGdlb21ldHJ5IG5vdCBhbiBpbnN0YW5jZSBvZiBUSFJFRS5CdWZmZXJHZW9tZXRyeS4nLGdlb21ldHJ5KTtyZXR1cm47fWlmKG9mZnNldD09PXVuZGVmaW5lZCl7b2Zmc2V0PTA7Y29uc29sZS53YXJuKCdUSFJFRS5CdWZmZXJHZW9tZXRyeS5tZXJnZSgpOiBPdmVyd3JpdGluZyBvcmlnaW5hbCBnZW9tZXRyeSwgc3RhcnRpbmcgYXQgb2Zmc2V0PTAuICcrJ1VzZSBCdWZmZXJHZW9tZXRyeVV0aWxzLm1lcmdlQnVmZmVyR2VvbWV0cmllcygpIGZvciBsb3NzbGVzcyBtZXJnZS4nKTt9dmFyIGF0dHJpYnV0ZXM9dGhpcy5hdHRyaWJ1dGVzO2Zvcih2YXIga2V5IGluIGF0dHJpYnV0ZXMpe2lmKGdlb21ldHJ5LmF0dHJpYnV0ZXNba2V5XT09PXVuZGVmaW5lZCljb250aW51ZTt2YXIgYXR0cmlidXRlMT1hdHRyaWJ1dGVzW2tleV07dmFyIGF0dHJpYnV0ZUFycmF5MT1hdHRyaWJ1dGUxLmFycmF5O3ZhciBhdHRyaWJ1dGUyPWdlb21ldHJ5LmF0dHJpYnV0ZXNba2V5XTt2YXIgYXR0cmlidXRlQXJyYXkyPWF0dHJpYnV0ZTIuYXJyYXk7dmFyIGF0dHJpYnV0ZU9mZnNldD1hdHRyaWJ1dGUyLml0ZW1TaXplKm9mZnNldDt2YXIgbGVuZ3RoPU1hdGgubWluKGF0dHJpYnV0ZUFycmF5Mi5sZW5ndGgsYXR0cmlidXRlQXJyYXkxLmxlbmd0aC1hdHRyaWJ1dGVPZmZzZXQpO2Zvcih2YXIgX2k1ND0wLGo9YXR0cmlidXRlT2Zmc2V0O19pNTQ8bGVuZ3RoO19pNTQrKyxqKyspe2F0dHJpYnV0ZUFycmF5MVtqXT1hdHRyaWJ1dGVBcnJheTJbX2k1NF07fX1yZXR1cm4gdGhpczt9fSx7a2V5OiJub3JtYWxpemVOb3JtYWxzIix2YWx1ZTpmdW5jdGlvbiBub3JtYWxpemVOb3JtYWxzKCl7dmFyIG5vcm1hbHM9dGhpcy5hdHRyaWJ1dGVzLm5vcm1hbDtmb3IodmFyIF9pNTU9MCxpbD1ub3JtYWxzLmNvdW50O19pNTU8aWw7X2k1NSsrKXtfdmVjdG9yJDguZnJvbUJ1ZmZlckF0dHJpYnV0ZShub3JtYWxzLF9pNTUpO192ZWN0b3IkOC5ub3JtYWxpemUoKTtub3JtYWxzLnNldFhZWihfaTU1LF92ZWN0b3IkOC54LF92ZWN0b3IkOC55LF92ZWN0b3IkOC56KTt9fX0se2tleToidG9Ob25JbmRleGVkIix2YWx1ZTpmdW5jdGlvbiB0b05vbkluZGV4ZWQoKXtmdW5jdGlvbiBjb252ZXJ0QnVmZmVyQXR0cmlidXRlKGF0dHJpYnV0ZSxpbmRpY2VzKXt2YXIgYXJyYXk9YXR0cmlidXRlLmFycmF5O3ZhciBpdGVtU2l6ZT1hdHRyaWJ1dGUuaXRlbVNpemU7dmFyIG5vcm1hbGl6ZWQ9YXR0cmlidXRlLm5vcm1hbGl6ZWQ7dmFyIGFycmF5Mj1uZXcgYXJyYXkuY29uc3RydWN0b3IoaW5kaWNlcy5sZW5ndGgqaXRlbVNpemUpO3ZhciBpbmRleD0wLGluZGV4Mj0wO2Zvcih2YXIgX2k1Nj0wLGw9aW5kaWNlcy5sZW5ndGg7X2k1NjxsO19pNTYrKyl7aWYoYXR0cmlidXRlLmlzSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGUpe2luZGV4PWluZGljZXNbX2k1Nl0qYXR0cmlidXRlLmRhdGEuc3RyaWRlK2F0dHJpYnV0ZS5vZmZzZXQ7fWVsc2V7aW5kZXg9aW5kaWNlc1tfaTU2XSppdGVtU2l6ZTt9Zm9yKHZhciBqPTA7ajxpdGVtU2l6ZTtqKyspe2FycmF5MltpbmRleDIrK109YXJyYXlbaW5kZXgrK107fX1yZXR1cm4gbmV3IEJ1ZmZlckF0dHJpYnV0ZShhcnJheTIsaXRlbVNpemUsbm9ybWFsaXplZCk7fS8vCmlmKHRoaXMuaW5kZXg9PT1udWxsKXtjb25zb2xlLndhcm4oJ1RIUkVFLkJ1ZmZlckdlb21ldHJ5LnRvTm9uSW5kZXhlZCgpOiBCdWZmZXJHZW9tZXRyeSBpcyBhbHJlYWR5IG5vbi1pbmRleGVkLicpO3JldHVybiB0aGlzO312YXIgZ2VvbWV0cnkyPW5ldyBCdWZmZXJHZW9tZXRyeSgpO3ZhciBpbmRpY2VzPXRoaXMuaW5kZXguYXJyYXk7dmFyIGF0dHJpYnV0ZXM9dGhpcy5hdHRyaWJ1dGVzOy8vIGF0dHJpYnV0ZXMKZm9yKHZhciBuYW1lIGluIGF0dHJpYnV0ZXMpe3ZhciBhdHRyaWJ1dGU9YXR0cmlidXRlc1tuYW1lXTt2YXIgbmV3QXR0cmlidXRlPWNvbnZlcnRCdWZmZXJBdHRyaWJ1dGUoYXR0cmlidXRlLGluZGljZXMpO2dlb21ldHJ5Mi5zZXRBdHRyaWJ1dGUobmFtZSxuZXdBdHRyaWJ1dGUpO30vLyBtb3JwaCBhdHRyaWJ1dGVzCnZhciBtb3JwaEF0dHJpYnV0ZXM9dGhpcy5tb3JwaEF0dHJpYnV0ZXM7Zm9yKHZhciBfbmFtZSBpbiBtb3JwaEF0dHJpYnV0ZXMpe3ZhciBtb3JwaEFycmF5PVtdO3ZhciBtb3JwaEF0dHJpYnV0ZT1tb3JwaEF0dHJpYnV0ZXNbX25hbWVdOy8vIG1vcnBoQXR0cmlidXRlOiBhcnJheSBvZiBGbG9hdDMyQnVmZmVyQXR0cmlidXRlcwpmb3IodmFyIF9pNTc9MCxpbD1tb3JwaEF0dHJpYnV0ZS5sZW5ndGg7X2k1NzxpbDtfaTU3Kyspe3ZhciBfYXR0cmlidXRlPW1vcnBoQXR0cmlidXRlW19pNTddO3ZhciBfbmV3QXR0cmlidXRlPWNvbnZlcnRCdWZmZXJBdHRyaWJ1dGUoX2F0dHJpYnV0ZSxpbmRpY2VzKTttb3JwaEFycmF5LnB1c2goX25ld0F0dHJpYnV0ZSk7fWdlb21ldHJ5Mi5tb3JwaEF0dHJpYnV0ZXNbX25hbWVdPW1vcnBoQXJyYXk7fWdlb21ldHJ5Mi5tb3JwaFRhcmdldHNSZWxhdGl2ZT10aGlzLm1vcnBoVGFyZ2V0c1JlbGF0aXZlOy8vIGdyb3Vwcwp2YXIgZ3JvdXBzPXRoaXMuZ3JvdXBzO2Zvcih2YXIgX2k1OD0wLGw9Z3JvdXBzLmxlbmd0aDtfaTU4PGw7X2k1OCsrKXt2YXIgZ3JvdXA9Z3JvdXBzW19pNThdO2dlb21ldHJ5Mi5hZGRHcm91cChncm91cC5zdGFydCxncm91cC5jb3VudCxncm91cC5tYXRlcmlhbEluZGV4KTt9cmV0dXJuIGdlb21ldHJ5Mjt9fSx7a2V5OiJ0b0pTT04iLHZhbHVlOmZ1bmN0aW9uIHRvSlNPTigpe3ZhciBkYXRhPXttZXRhZGF0YTp7dmVyc2lvbjo0LjUsdHlwZTonQnVmZmVyR2VvbWV0cnknLGdlbmVyYXRvcjonQnVmZmVyR2VvbWV0cnkudG9KU09OJ319Oy8vIHN0YW5kYXJkIEJ1ZmZlckdlb21ldHJ5IHNlcmlhbGl6YXRpb24KZGF0YS51dWlkPXRoaXMudXVpZDtkYXRhLnR5cGU9dGhpcy50eXBlO2lmKHRoaXMubmFtZSE9PScnKWRhdGEubmFtZT10aGlzLm5hbWU7aWYoT2JqZWN0LmtleXModGhpcy51c2VyRGF0YSkubGVuZ3RoPjApZGF0YS51c2VyRGF0YT10aGlzLnVzZXJEYXRhO2lmKHRoaXMucGFyYW1ldGVycyE9PXVuZGVmaW5lZCl7dmFyIHBhcmFtZXRlcnM9dGhpcy5wYXJhbWV0ZXJzO2Zvcih2YXIga2V5IGluIHBhcmFtZXRlcnMpe2lmKHBhcmFtZXRlcnNba2V5XSE9PXVuZGVmaW5lZClkYXRhW2tleV09cGFyYW1ldGVyc1trZXldO31yZXR1cm4gZGF0YTt9Ly8gZm9yIHNpbXBsaWNpdHkgdGhlIGNvZGUgYXNzdW1lcyBhdHRyaWJ1dGVzIGFyZSBub3Qgc2hhcmVkIGFjcm9zcyBnZW9tZXRyaWVzLCBzZWUgIzE1ODExCmRhdGEuZGF0YT17YXR0cmlidXRlczp7fX07dmFyIGluZGV4PXRoaXMuaW5kZXg7aWYoaW5kZXghPT1udWxsKXtkYXRhLmRhdGEuaW5kZXg9e3R5cGU6aW5kZXguYXJyYXkuY29uc3RydWN0b3IubmFtZSxhcnJheTpBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChpbmRleC5hcnJheSl9O312YXIgYXR0cmlidXRlcz10aGlzLmF0dHJpYnV0ZXM7Zm9yKHZhciBfa2V5IGluIGF0dHJpYnV0ZXMpe3ZhciBhdHRyaWJ1dGU9YXR0cmlidXRlc1tfa2V5XTtkYXRhLmRhdGEuYXR0cmlidXRlc1tfa2V5XT1hdHRyaWJ1dGUudG9KU09OKGRhdGEuZGF0YSk7fXZhciBtb3JwaEF0dHJpYnV0ZXM9e307dmFyIGhhc01vcnBoQXR0cmlidXRlcz1mYWxzZTtmb3IodmFyIF9rZXkyIGluIHRoaXMubW9ycGhBdHRyaWJ1dGVzKXt2YXIgYXR0cmlidXRlQXJyYXk9dGhpcy5tb3JwaEF0dHJpYnV0ZXNbX2tleTJdO3ZhciBhcnJheT1bXTtmb3IodmFyIF9pNTk9MCxpbD1hdHRyaWJ1dGVBcnJheS5sZW5ndGg7X2k1OTxpbDtfaTU5Kyspe3ZhciBfYXR0cmlidXRlMj1hdHRyaWJ1dGVBcnJheVtfaTU5XTthcnJheS5wdXNoKF9hdHRyaWJ1dGUyLnRvSlNPTihkYXRhLmRhdGEpKTt9aWYoYXJyYXkubGVuZ3RoPjApe21vcnBoQXR0cmlidXRlc1tfa2V5Ml09YXJyYXk7aGFzTW9ycGhBdHRyaWJ1dGVzPXRydWU7fX1pZihoYXNNb3JwaEF0dHJpYnV0ZXMpe2RhdGEuZGF0YS5tb3JwaEF0dHJpYnV0ZXM9bW9ycGhBdHRyaWJ1dGVzO2RhdGEuZGF0YS5tb3JwaFRhcmdldHNSZWxhdGl2ZT10aGlzLm1vcnBoVGFyZ2V0c1JlbGF0aXZlO312YXIgZ3JvdXBzPXRoaXMuZ3JvdXBzO2lmKGdyb3Vwcy5sZW5ndGg+MCl7ZGF0YS5kYXRhLmdyb3Vwcz1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGdyb3VwcykpO312YXIgYm91bmRpbmdTcGhlcmU9dGhpcy5ib3VuZGluZ1NwaGVyZTtpZihib3VuZGluZ1NwaGVyZSE9PW51bGwpe2RhdGEuZGF0YS5ib3VuZGluZ1NwaGVyZT17Y2VudGVyOmJvdW5kaW5nU3BoZXJlLmNlbnRlci50b0FycmF5KCkscmFkaXVzOmJvdW5kaW5nU3BoZXJlLnJhZGl1c307fXJldHVybiBkYXRhO319LHtrZXk6ImNsb25lIix2YWx1ZTpmdW5jdGlvbiBjbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcigpLmNvcHkodGhpcyk7fX0se2tleToiY29weSIsdmFsdWU6ZnVuY3Rpb24gY29weShzb3VyY2Upey8vIHJlc2V0CnRoaXMuaW5kZXg9bnVsbDt0aGlzLmF0dHJpYnV0ZXM9e307dGhpcy5tb3JwaEF0dHJpYnV0ZXM9e307dGhpcy5ncm91cHM9W107dGhpcy5ib3VuZGluZ0JveD1udWxsO3RoaXMuYm91bmRpbmdTcGhlcmU9bnVsbDsvLyB1c2VkIGZvciBzdG9yaW5nIGNsb25lZCwgc2hhcmVkIGRhdGEKdmFyIGRhdGE9e307Ly8gbmFtZQp0aGlzLm5hbWU9c291cmNlLm5hbWU7Ly8gaW5kZXgKdmFyIGluZGV4PXNvdXJjZS5pbmRleDtpZihpbmRleCE9PW51bGwpe3RoaXMuc2V0SW5kZXgoaW5kZXguY2xvbmUoZGF0YSkpO30vLyBhdHRyaWJ1dGVzCnZhciBhdHRyaWJ1dGVzPXNvdXJjZS5hdHRyaWJ1dGVzO2Zvcih2YXIgbmFtZSBpbiBhdHRyaWJ1dGVzKXt2YXIgYXR0cmlidXRlPWF0dHJpYnV0ZXNbbmFtZV07dGhpcy5zZXRBdHRyaWJ1dGUobmFtZSxhdHRyaWJ1dGUuY2xvbmUoZGF0YSkpO30vLyBtb3JwaCBhdHRyaWJ1dGVzCnZhciBtb3JwaEF0dHJpYnV0ZXM9c291cmNlLm1vcnBoQXR0cmlidXRlcztmb3IodmFyIF9uYW1lMiBpbiBtb3JwaEF0dHJpYnV0ZXMpe3ZhciBhcnJheT1bXTt2YXIgbW9ycGhBdHRyaWJ1dGU9bW9ycGhBdHRyaWJ1dGVzW19uYW1lMl07Ly8gbW9ycGhBdHRyaWJ1dGU6IGFycmF5IG9mIEZsb2F0MzJCdWZmZXJBdHRyaWJ1dGVzCmZvcih2YXIgX2k2MD0wLGw9bW9ycGhBdHRyaWJ1dGUubGVuZ3RoO19pNjA8bDtfaTYwKyspe2FycmF5LnB1c2gobW9ycGhBdHRyaWJ1dGVbX2k2MF0uY2xvbmUoZGF0YSkpO310aGlzLm1vcnBoQXR0cmlidXRlc1tfbmFtZTJdPWFycmF5O310aGlzLm1vcnBoVGFyZ2V0c1JlbGF0aXZlPXNvdXJjZS5tb3JwaFRhcmdldHNSZWxhdGl2ZTsvLyBncm91cHMKdmFyIGdyb3Vwcz1zb3VyY2UuZ3JvdXBzO2Zvcih2YXIgX2k2MT0wLF9sND1ncm91cHMubGVuZ3RoO19pNjE8X2w0O19pNjErKyl7dmFyIGdyb3VwPWdyb3Vwc1tfaTYxXTt0aGlzLmFkZEdyb3VwKGdyb3VwLnN0YXJ0LGdyb3VwLmNvdW50LGdyb3VwLm1hdGVyaWFsSW5kZXgpO30vLyBib3VuZGluZyBib3gKdmFyIGJvdW5kaW5nQm94PXNvdXJjZS5ib3VuZGluZ0JveDtpZihib3VuZGluZ0JveCE9PW51bGwpe3RoaXMuYm91bmRpbmdCb3g9Ym91bmRpbmdCb3guY2xvbmUoKTt9Ly8gYm91bmRpbmcgc3BoZXJlCnZhciBib3VuZGluZ1NwaGVyZT1zb3VyY2UuYm91bmRpbmdTcGhlcmU7aWYoYm91bmRpbmdTcGhlcmUhPT1udWxsKXt0aGlzLmJvdW5kaW5nU3BoZXJlPWJvdW5kaW5nU3BoZXJlLmNsb25lKCk7fS8vIGRyYXcgcmFuZ2UKdGhpcy5kcmF3UmFuZ2Uuc3RhcnQ9c291cmNlLmRyYXdSYW5nZS5zdGFydDt0aGlzLmRyYXdSYW5nZS5jb3VudD1zb3VyY2UuZHJhd1JhbmdlLmNvdW50Oy8vIHVzZXIgZGF0YQp0aGlzLnVzZXJEYXRhPXNvdXJjZS51c2VyRGF0YTsvLyBnZW9tZXRyeSBnZW5lcmF0b3IgcGFyYW1ldGVycwppZihzb3VyY2UucGFyYW1ldGVycyE9PXVuZGVmaW5lZCl0aGlzLnBhcmFtZXRlcnM9T2JqZWN0LmFzc2lnbih7fSxzb3VyY2UucGFyYW1ldGVycyk7cmV0dXJuIHRoaXM7fX0se2tleToiZGlzcG9zZSIsdmFsdWU6ZnVuY3Rpb24gZGlzcG9zZSgpe3RoaXMuZGlzcGF0Y2hFdmVudCh7dHlwZTonZGlzcG9zZSd9KTt9fV0pO3JldHVybiBCdWZmZXJHZW9tZXRyeTt9KEV2ZW50RGlzcGF0Y2hlcik7QnVmZmVyR2VvbWV0cnkucHJvdG90eXBlLmlzQnVmZmVyR2VvbWV0cnk9dHJ1ZTt2YXIgX2ludmVyc2VNYXRyaXgkMj0vKkBfX1BVUkVfXyovbmV3IE1hdHJpeDQoKTt2YXIgX3JheSQyPS8qQF9fUFVSRV9fKi9uZXcgUmF5KCk7dmFyIF9zcGhlcmUkMz0vKkBfX1BVUkVfXyovbmV3IFNwaGVyZSgpO3ZhciBfdkEkMT0vKkBfX1BVUkVfXyovbmV3IFZlY3RvcjMoKTt2YXIgX3ZCJDE9LypAX19QVVJFX18qL25ldyBWZWN0b3IzKCk7dmFyIF92QyQxPS8qQF9fUFVSRV9fKi9uZXcgVmVjdG9yMygpO3ZhciBfdGVtcEE9LypAX19QVVJFX18qL25ldyBWZWN0b3IzKCk7dmFyIF90ZW1wQj0vKkBfX1BVUkVfXyovbmV3IFZlY3RvcjMoKTt2YXIgX3RlbXBDPS8qQF9fUFVSRV9fKi9uZXcgVmVjdG9yMygpO3ZhciBfbW9ycGhBPS8qQF9fUFVSRV9fKi9uZXcgVmVjdG9yMygpO3ZhciBfbW9ycGhCPS8qQF9fUFVSRV9fKi9uZXcgVmVjdG9yMygpO3ZhciBfbW9ycGhDPS8qQF9fUFVSRV9fKi9uZXcgVmVjdG9yMygpO3ZhciBfdXZBJDE9LypAX19QVVJFX18qL25ldyBWZWN0b3IyKCk7dmFyIF91dkIkMT0vKkBfX1BVUkVfXyovbmV3IFZlY3RvcjIoKTt2YXIgX3V2QyQxPS8qQF9fUFVSRV9fKi9uZXcgVmVjdG9yMigpO3ZhciBfaW50ZXJzZWN0aW9uUG9pbnQ9LypAX19QVVJFX18qL25ldyBWZWN0b3IzKCk7dmFyIF9pbnRlcnNlY3Rpb25Qb2ludFdvcmxkPS8qQF9fUFVSRV9fKi9uZXcgVmVjdG9yMygpO3ZhciBNZXNoPS8qI19fUFVSRV9fKi9mdW5jdGlvbihfT2JqZWN0M0Qpe19pbmhlcml0cyhNZXNoLF9PYmplY3QzRCk7dmFyIF9zdXBlcjE5PV9jcmVhdGVTdXBlcihNZXNoKTtmdW5jdGlvbiBNZXNoKCl7dmFyIF90aGlzMTA7dmFyIGdlb21ldHJ5PWFyZ3VtZW50cy5sZW5ndGg+MCYmYXJndW1lbnRzWzBdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1swXTpuZXcgQnVmZmVyR2VvbWV0cnkoKTt2YXIgbWF0ZXJpYWw9YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzFdOm5ldyBNZXNoQmFzaWNNYXRlcmlhbCgpO19jbGFzc0NhbGxDaGVjayh0aGlzLE1lc2gpO190aGlzMTA9X3N1cGVyMTkuY2FsbCh0aGlzKTtfdGhpczEwLnR5cGU9J01lc2gnO190aGlzMTAuZ2VvbWV0cnk9Z2VvbWV0cnk7X3RoaXMxMC5tYXRlcmlhbD1tYXRlcmlhbDtfdGhpczEwLnVwZGF0ZU1vcnBoVGFyZ2V0cygpO3JldHVybiBfdGhpczEwO31fY3JlYXRlQ2xhc3MoTWVzaCxbe2tleToiY29weSIsdmFsdWU6ZnVuY3Rpb24gY29weShzb3VyY2Upe19nZXQoX2dldFByb3RvdHlwZU9mKE1lc2gucHJvdG90eXBlKSwiY29weSIsdGhpcykuY2FsbCh0aGlzLHNvdXJjZSk7aWYoc291cmNlLm1vcnBoVGFyZ2V0SW5mbHVlbmNlcyE9PXVuZGVmaW5lZCl7dGhpcy5tb3JwaFRhcmdldEluZmx1ZW5jZXM9c291cmNlLm1vcnBoVGFyZ2V0SW5mbHVlbmNlcy5zbGljZSgpO31pZihzb3VyY2UubW9ycGhUYXJnZXREaWN0aW9uYXJ5IT09dW5kZWZpbmVkKXt0aGlzLm1vcnBoVGFyZ2V0RGljdGlvbmFyeT1PYmplY3QuYXNzaWduKHt9LHNvdXJjZS5tb3JwaFRhcmdldERpY3Rpb25hcnkpO310aGlzLm1hdGVyaWFsPXNvdXJjZS5tYXRlcmlhbDt0aGlzLmdlb21ldHJ5PXNvdXJjZS5nZW9tZXRyeTtyZXR1cm4gdGhpczt9fSx7a2V5OiJ1cGRhdGVNb3JwaFRhcmdldHMiLHZhbHVlOmZ1bmN0aW9uIHVwZGF0ZU1vcnBoVGFyZ2V0cygpe3ZhciBnZW9tZXRyeT10aGlzLmdlb21ldHJ5O2lmKGdlb21ldHJ5LmlzQnVmZmVyR2VvbWV0cnkpe3ZhciBtb3JwaEF0dHJpYnV0ZXM9Z2VvbWV0cnkubW9ycGhBdHRyaWJ1dGVzO3ZhciBrZXlzPU9iamVjdC5rZXlzKG1vcnBoQXR0cmlidXRlcyk7aWYoa2V5cy5sZW5ndGg+MCl7dmFyIG1vcnBoQXR0cmlidXRlPW1vcnBoQXR0cmlidXRlc1trZXlzWzBdXTtpZihtb3JwaEF0dHJpYnV0ZSE9PXVuZGVmaW5lZCl7dGhpcy5tb3JwaFRhcmdldEluZmx1ZW5jZXM9W107dGhpcy5tb3JwaFRhcmdldERpY3Rpb25hcnk9e307Zm9yKHZhciBtPTAsbWw9bW9ycGhBdHRyaWJ1dGUubGVuZ3RoO208bWw7bSsrKXt2YXIgbmFtZT1tb3JwaEF0dHJpYnV0ZVttXS5uYW1lfHxTdHJpbmcobSk7dGhpcy5tb3JwaFRhcmdldEluZmx1ZW5jZXMucHVzaCgwKTt0aGlzLm1vcnBoVGFyZ2V0RGljdGlvbmFyeVtuYW1lXT1tO319fX1lbHNle3ZhciBtb3JwaFRhcmdldHM9Z2VvbWV0cnkubW9ycGhUYXJnZXRzO2lmKG1vcnBoVGFyZ2V0cyE9PXVuZGVmaW5lZCYmbW9ycGhUYXJnZXRzLmxlbmd0aD4wKXtjb25zb2xlLmVycm9yKCdUSFJFRS5NZXNoLnVwZGF0ZU1vcnBoVGFyZ2V0cygpIG5vIGxvbmdlciBzdXBwb3J0cyBUSFJFRS5HZW9tZXRyeS4gVXNlIFRIUkVFLkJ1ZmZlckdlb21ldHJ5IGluc3RlYWQuJyk7fX19fSx7a2V5OiJyYXljYXN0Iix2YWx1ZTpmdW5jdGlvbiByYXljYXN0KHJheWNhc3RlcixpbnRlcnNlY3RzKXt2YXIgZ2VvbWV0cnk9dGhpcy5nZW9tZXRyeTt2YXIgbWF0ZXJpYWw9dGhpcy5tYXRlcmlhbDt2YXIgbWF0cml4V29ybGQ9dGhpcy5tYXRyaXhXb3JsZDtpZihtYXRlcmlhbD09PXVuZGVmaW5lZClyZXR1cm47Ly8gQ2hlY2tpbmcgYm91bmRpbmdTcGhlcmUgZGlzdGFuY2UgdG8gcmF5CmlmKGdlb21ldHJ5LmJvdW5kaW5nU3BoZXJlPT09bnVsbClnZW9tZXRyeS5jb21wdXRlQm91bmRpbmdTcGhlcmUoKTtfc3BoZXJlJDMuY29weShnZW9tZXRyeS5ib3VuZGluZ1NwaGVyZSk7X3NwaGVyZSQzLmFwcGx5TWF0cml4NChtYXRyaXhXb3JsZCk7aWYocmF5Y2FzdGVyLnJheS5pbnRlcnNlY3RzU3BoZXJlKF9zcGhlcmUkMyk9PT1mYWxzZSlyZXR1cm47Ly8KX2ludmVyc2VNYXRyaXgkMi5jb3B5KG1hdHJpeFdvcmxkKS5pbnZlcnQoKTtfcmF5JDIuY29weShyYXljYXN0ZXIucmF5KS5hcHBseU1hdHJpeDQoX2ludmVyc2VNYXRyaXgkMik7Ly8gQ2hlY2sgYm91bmRpbmdCb3ggYmVmb3JlIGNvbnRpbnVpbmcKaWYoZ2VvbWV0cnkuYm91bmRpbmdCb3ghPT1udWxsKXtpZihfcmF5JDIuaW50ZXJzZWN0c0JveChnZW9tZXRyeS5ib3VuZGluZ0JveCk9PT1mYWxzZSlyZXR1cm47fXZhciBpbnRlcnNlY3Rpb247aWYoZ2VvbWV0cnkuaXNCdWZmZXJHZW9tZXRyeSl7dmFyIGluZGV4PWdlb21ldHJ5LmluZGV4O3ZhciBwb3NpdGlvbj1nZW9tZXRyeS5hdHRyaWJ1dGVzLnBvc2l0aW9uO3ZhciBtb3JwaFBvc2l0aW9uPWdlb21ldHJ5Lm1vcnBoQXR0cmlidXRlcy5wb3NpdGlvbjt2YXIgbW9ycGhUYXJnZXRzUmVsYXRpdmU9Z2VvbWV0cnkubW9ycGhUYXJnZXRzUmVsYXRpdmU7dmFyIHV2PWdlb21ldHJ5LmF0dHJpYnV0ZXMudXY7dmFyIHV2Mj1nZW9tZXRyeS5hdHRyaWJ1dGVzLnV2Mjt2YXIgZ3JvdXBzPWdlb21ldHJ5Lmdyb3Vwczt2YXIgZHJhd1JhbmdlPWdlb21ldHJ5LmRyYXdSYW5nZTtpZihpbmRleCE9PW51bGwpey8vIGluZGV4ZWQgYnVmZmVyIGdlb21ldHJ5CmlmKEFycmF5LmlzQXJyYXkobWF0ZXJpYWwpKXtmb3IodmFyIF9pNjI9MCxpbD1ncm91cHMubGVuZ3RoO19pNjI8aWw7X2k2MisrKXt2YXIgZ3JvdXA9Z3JvdXBzW19pNjJdO3ZhciBncm91cE1hdGVyaWFsPW1hdGVyaWFsW2dyb3VwLm1hdGVyaWFsSW5kZXhdO3ZhciBzdGFydD1NYXRoLm1heChncm91cC5zdGFydCxkcmF3UmFuZ2Uuc3RhcnQpO3ZhciBlbmQ9TWF0aC5taW4oaW5kZXguY291bnQsTWF0aC5taW4oZ3JvdXAuc3RhcnQrZ3JvdXAuY291bnQsZHJhd1JhbmdlLnN0YXJ0K2RyYXdSYW5nZS5jb3VudCkpO2Zvcih2YXIgaj1zdGFydCxqbD1lbmQ7ajxqbDtqKz0zKXt2YXIgYT1pbmRleC5nZXRYKGopO3ZhciBiPWluZGV4LmdldFgoaisxKTt2YXIgYz1pbmRleC5nZXRYKGorMik7aW50ZXJzZWN0aW9uPWNoZWNrQnVmZmVyR2VvbWV0cnlJbnRlcnNlY3Rpb24odGhpcyxncm91cE1hdGVyaWFsLHJheWNhc3RlcixfcmF5JDIscG9zaXRpb24sbW9ycGhQb3NpdGlvbixtb3JwaFRhcmdldHNSZWxhdGl2ZSx1dix1djIsYSxiLGMpO2lmKGludGVyc2VjdGlvbil7aW50ZXJzZWN0aW9uLmZhY2VJbmRleD1NYXRoLmZsb29yKGovMyk7Ly8gdHJpYW5nbGUgbnVtYmVyIGluIGluZGV4ZWQgYnVmZmVyIHNlbWFudGljcwppbnRlcnNlY3Rpb24uZmFjZS5tYXRlcmlhbEluZGV4PWdyb3VwLm1hdGVyaWFsSW5kZXg7aW50ZXJzZWN0cy5wdXNoKGludGVyc2VjdGlvbik7fX19fWVsc2V7dmFyIF9zdGFydDM9TWF0aC5tYXgoMCxkcmF3UmFuZ2Uuc3RhcnQpO3ZhciBfZW5kMj1NYXRoLm1pbihpbmRleC5jb3VudCxkcmF3UmFuZ2Uuc3RhcnQrZHJhd1JhbmdlLmNvdW50KTtmb3IodmFyIF9pNjM9X3N0YXJ0MyxfaWw2PV9lbmQyO19pNjM8X2lsNjtfaTYzKz0zKXt2YXIgX2E9aW5kZXguZ2V0WChfaTYzKTt2YXIgX2I9aW5kZXguZ2V0WChfaTYzKzEpO3ZhciBfYz1pbmRleC5nZXRYKF9pNjMrMik7aW50ZXJzZWN0aW9uPWNoZWNrQnVmZmVyR2VvbWV0cnlJbnRlcnNlY3Rpb24odGhpcyxtYXRlcmlhbCxyYXljYXN0ZXIsX3JheSQyLHBvc2l0aW9uLG1vcnBoUG9zaXRpb24sbW9ycGhUYXJnZXRzUmVsYXRpdmUsdXYsdXYyLF9hLF9iLF9jKTtpZihpbnRlcnNlY3Rpb24pe2ludGVyc2VjdGlvbi5mYWNlSW5kZXg9TWF0aC5mbG9vcihfaTYzLzMpOy8vIHRyaWFuZ2xlIG51bWJlciBpbiBpbmRleGVkIGJ1ZmZlciBzZW1hbnRpY3MKaW50ZXJzZWN0cy5wdXNoKGludGVyc2VjdGlvbik7fX19fWVsc2UgaWYocG9zaXRpb24hPT11bmRlZmluZWQpey8vIG5vbi1pbmRleGVkIGJ1ZmZlciBnZW9tZXRyeQppZihBcnJheS5pc0FycmF5KG1hdGVyaWFsKSl7Zm9yKHZhciBfaTY0PTAsX2lsNz1ncm91cHMubGVuZ3RoO19pNjQ8X2lsNztfaTY0Kyspe3ZhciBfZ3JvdXAyPWdyb3Vwc1tfaTY0XTt2YXIgX2dyb3VwTWF0ZXJpYWw9bWF0ZXJpYWxbX2dyb3VwMi5tYXRlcmlhbEluZGV4XTt2YXIgX3N0YXJ0ND1NYXRoLm1heChfZ3JvdXAyLnN0YXJ0LGRyYXdSYW5nZS5zdGFydCk7dmFyIF9lbmQzPU1hdGgubWluKHBvc2l0aW9uLmNvdW50LE1hdGgubWluKF9ncm91cDIuc3RhcnQrX2dyb3VwMi5jb3VudCxkcmF3UmFuZ2Uuc3RhcnQrZHJhd1JhbmdlLmNvdW50KSk7Zm9yKHZhciBfajI9X3N0YXJ0NCxfamwyPV9lbmQzO19qMjxfamwyO19qMis9Myl7dmFyIF9hMj1fajI7dmFyIF9iMj1fajIrMTt2YXIgX2MyPV9qMisyO2ludGVyc2VjdGlvbj1jaGVja0J1ZmZlckdlb21ldHJ5SW50ZXJzZWN0aW9uKHRoaXMsX2dyb3VwTWF0ZXJpYWwscmF5Y2FzdGVyLF9yYXkkMixwb3NpdGlvbixtb3JwaFBvc2l0aW9uLG1vcnBoVGFyZ2V0c1JlbGF0aXZlLHV2LHV2MixfYTIsX2IyLF9jMik7aWYoaW50ZXJzZWN0aW9uKXtpbnRlcnNlY3Rpb24uZmFjZUluZGV4PU1hdGguZmxvb3IoX2oyLzMpOy8vIHRyaWFuZ2xlIG51bWJlciBpbiBub24taW5kZXhlZCBidWZmZXIgc2VtYW50aWNzCmludGVyc2VjdGlvbi5mYWNlLm1hdGVyaWFsSW5kZXg9X2dyb3VwMi5tYXRlcmlhbEluZGV4O2ludGVyc2VjdHMucHVzaChpbnRlcnNlY3Rpb24pO319fX1lbHNle3ZhciBfc3RhcnQ1PU1hdGgubWF4KDAsZHJhd1JhbmdlLnN0YXJ0KTt2YXIgX2VuZDQ9TWF0aC5taW4ocG9zaXRpb24uY291bnQsZHJhd1JhbmdlLnN0YXJ0K2RyYXdSYW5nZS5jb3VudCk7Zm9yKHZhciBfaTY1PV9zdGFydDUsX2lsOD1fZW5kNDtfaTY1PF9pbDg7X2k2NSs9Myl7dmFyIF9hMz1faTY1O3ZhciBfYjM9X2k2NSsxO3ZhciBfYzM9X2k2NSsyO2ludGVyc2VjdGlvbj1jaGVja0J1ZmZlckdlb21ldHJ5SW50ZXJzZWN0aW9uKHRoaXMsbWF0ZXJpYWwscmF5Y2FzdGVyLF9yYXkkMixwb3NpdGlvbixtb3JwaFBvc2l0aW9uLG1vcnBoVGFyZ2V0c1JlbGF0aXZlLHV2LHV2MixfYTMsX2IzLF9jMyk7aWYoaW50ZXJzZWN0aW9uKXtpbnRlcnNlY3Rpb24uZmFjZUluZGV4PU1hdGguZmxvb3IoX2k2NS8zKTsvLyB0cmlhbmdsZSBudW1iZXIgaW4gbm9uLWluZGV4ZWQgYnVmZmVyIHNlbWFudGljcwppbnRlcnNlY3RzLnB1c2goaW50ZXJzZWN0aW9uKTt9fX19fWVsc2UgaWYoZ2VvbWV0cnkuaXNHZW9tZXRyeSl7Y29uc29sZS5lcnJvcignVEhSRUUuTWVzaC5yYXljYXN0KCkgbm8gbG9uZ2VyIHN1cHBvcnRzIFRIUkVFLkdlb21ldHJ5LiBVc2UgVEhSRUUuQnVmZmVyR2VvbWV0cnkgaW5zdGVhZC4nKTt9fX1dKTtyZXR1cm4gTWVzaDt9KE9iamVjdDNEKTtNZXNoLnByb3RvdHlwZS5pc01lc2g9dHJ1ZTtmdW5jdGlvbiBjaGVja0ludGVyc2VjdGlvbihvYmplY3QsbWF0ZXJpYWwscmF5Y2FzdGVyLHJheSxwQSxwQixwQyxwb2ludCl7dmFyIGludGVyc2VjdDtpZihtYXRlcmlhbC5zaWRlPT09QmFja1NpZGUpe2ludGVyc2VjdD1yYXkuaW50ZXJzZWN0VHJpYW5nbGUocEMscEIscEEsdHJ1ZSxwb2ludCk7fWVsc2V7aW50ZXJzZWN0PXJheS5pbnRlcnNlY3RUcmlhbmdsZShwQSxwQixwQyxtYXRlcmlhbC5zaWRlIT09RG91YmxlU2lkZSxwb2ludCk7fWlmKGludGVyc2VjdD09PW51bGwpcmV0dXJuIG51bGw7X2ludGVyc2VjdGlvblBvaW50V29ybGQuY29weShwb2ludCk7X2ludGVyc2VjdGlvblBvaW50V29ybGQuYXBwbHlNYXRyaXg0KG9iamVjdC5tYXRyaXhXb3JsZCk7dmFyIGRpc3RhbmNlPXJheWNhc3Rlci5yYXkub3JpZ2luLmRpc3RhbmNlVG8oX2ludGVyc2VjdGlvblBvaW50V29ybGQpO2lmKGRpc3RhbmNlPHJheWNhc3Rlci5uZWFyfHxkaXN0YW5jZT5yYXljYXN0ZXIuZmFyKXJldHVybiBudWxsO3JldHVybntkaXN0YW5jZTpkaXN0YW5jZSxwb2ludDpfaW50ZXJzZWN0aW9uUG9pbnRXb3JsZC5jbG9uZSgpLG9iamVjdDpvYmplY3R9O31mdW5jdGlvbiBjaGVja0J1ZmZlckdlb21ldHJ5SW50ZXJzZWN0aW9uKG9iamVjdCxtYXRlcmlhbCxyYXljYXN0ZXIscmF5LHBvc2l0aW9uLG1vcnBoUG9zaXRpb24sbW9ycGhUYXJnZXRzUmVsYXRpdmUsdXYsdXYyLGEsYixjKXtfdkEkMS5mcm9tQnVmZmVyQXR0cmlidXRlKHBvc2l0aW9uLGEpO192QiQxLmZyb21CdWZmZXJBdHRyaWJ1dGUocG9zaXRpb24sYik7X3ZDJDEuZnJvbUJ1ZmZlckF0dHJpYnV0ZShwb3NpdGlvbixjKTt2YXIgbW9ycGhJbmZsdWVuY2VzPW9iamVjdC5tb3JwaFRhcmdldEluZmx1ZW5jZXM7aWYobW9ycGhQb3NpdGlvbiYmbW9ycGhJbmZsdWVuY2VzKXtfbW9ycGhBLnNldCgwLDAsMCk7X21vcnBoQi5zZXQoMCwwLDApO19tb3JwaEMuc2V0KDAsMCwwKTtmb3IodmFyIF9pNjY9MCxpbD1tb3JwaFBvc2l0aW9uLmxlbmd0aDtfaTY2PGlsO19pNjYrKyl7dmFyIGluZmx1ZW5jZT1tb3JwaEluZmx1ZW5jZXNbX2k2Nl07dmFyIG1vcnBoQXR0cmlidXRlPW1vcnBoUG9zaXRpb25bX2k2Nl07aWYoaW5mbHVlbmNlPT09MCljb250aW51ZTtfdGVtcEEuZnJvbUJ1ZmZlckF0dHJpYnV0ZShtb3JwaEF0dHJpYnV0ZSxhKTtfdGVtcEIuZnJvbUJ1ZmZlckF0dHJpYnV0ZShtb3JwaEF0dHJpYnV0ZSxiKTtfdGVtcEMuZnJvbUJ1ZmZlckF0dHJpYnV0ZShtb3JwaEF0dHJpYnV0ZSxjKTtpZihtb3JwaFRhcmdldHNSZWxhdGl2ZSl7X21vcnBoQS5hZGRTY2FsZWRWZWN0b3IoX3RlbXBBLGluZmx1ZW5jZSk7X21vcnBoQi5hZGRTY2FsZWRWZWN0b3IoX3RlbXBCLGluZmx1ZW5jZSk7X21vcnBoQy5hZGRTY2FsZWRWZWN0b3IoX3RlbXBDLGluZmx1ZW5jZSk7fWVsc2V7X21vcnBoQS5hZGRTY2FsZWRWZWN0b3IoX3RlbXBBLnN1YihfdkEkMSksaW5mbHVlbmNlKTtfbW9ycGhCLmFkZFNjYWxlZFZlY3RvcihfdGVtcEIuc3ViKF92QiQxKSxpbmZsdWVuY2UpO19tb3JwaEMuYWRkU2NhbGVkVmVjdG9yKF90ZW1wQy5zdWIoX3ZDJDEpLGluZmx1ZW5jZSk7fX1fdkEkMS5hZGQoX21vcnBoQSk7X3ZCJDEuYWRkKF9tb3JwaEIpO192QyQxLmFkZChfbW9ycGhDKTt9aWYob2JqZWN0LmlzU2tpbm5lZE1lc2gpe29iamVjdC5ib25lVHJhbnNmb3JtKGEsX3ZBJDEpO29iamVjdC5ib25lVHJhbnNmb3JtKGIsX3ZCJDEpO29iamVjdC5ib25lVHJhbnNmb3JtKGMsX3ZDJDEpO312YXIgaW50ZXJzZWN0aW9uPWNoZWNrSW50ZXJzZWN0aW9uKG9iamVjdCxtYXRlcmlhbCxyYXljYXN0ZXIscmF5LF92QSQxLF92QiQxLF92QyQxLF9pbnRlcnNlY3Rpb25Qb2ludCk7aWYoaW50ZXJzZWN0aW9uKXtpZih1dil7X3V2QSQxLmZyb21CdWZmZXJBdHRyaWJ1dGUodXYsYSk7X3V2QiQxLmZyb21CdWZmZXJBdHRyaWJ1dGUodXYsYik7X3V2QyQxLmZyb21CdWZmZXJBdHRyaWJ1dGUodXYsYyk7aW50ZXJzZWN0aW9uLnV2PVRyaWFuZ2xlLmdldFVWKF9pbnRlcnNlY3Rpb25Qb2ludCxfdkEkMSxfdkIkMSxfdkMkMSxfdXZBJDEsX3V2QiQxLF91dkMkMSxuZXcgVmVjdG9yMigpKTt9aWYodXYyKXtfdXZBJDEuZnJvbUJ1ZmZlckF0dHJpYnV0ZSh1djIsYSk7X3V2QiQxLmZyb21CdWZmZXJBdHRyaWJ1dGUodXYyLGIpO191dkMkMS5mcm9tQnVmZmVyQXR0cmlidXRlKHV2MixjKTtpbnRlcnNlY3Rpb24udXYyPVRyaWFuZ2xlLmdldFVWKF9pbnRlcnNlY3Rpb25Qb2ludCxfdkEkMSxfdkIkMSxfdkMkMSxfdXZBJDEsX3V2QiQxLF91dkMkMSxuZXcgVmVjdG9yMigpKTt9dmFyIGZhY2U9e2E6YSxiOmIsYzpjLG5vcm1hbDpuZXcgVmVjdG9yMygpLG1hdGVyaWFsSW5kZXg6MH07VHJpYW5nbGUuZ2V0Tm9ybWFsKF92QSQxLF92QiQxLF92QyQxLGZhY2Uubm9ybWFsKTtpbnRlcnNlY3Rpb24uZmFjZT1mYWNlO31yZXR1cm4gaW50ZXJzZWN0aW9uO312YXIgQm94R2VvbWV0cnk9LyojX19QVVJFX18qL2Z1bmN0aW9uKF9CdWZmZXJHZW9tZXRyeSl7X2luaGVyaXRzKEJveEdlb21ldHJ5LF9CdWZmZXJHZW9tZXRyeSk7dmFyIF9zdXBlcjIwPV9jcmVhdGVTdXBlcihCb3hHZW9tZXRyeSk7ZnVuY3Rpb24gQm94R2VvbWV0cnkoKXt2YXIgX3RoaXMxMTt2YXIgd2lkdGg9YXJndW1lbnRzLmxlbmd0aD4wJiZhcmd1bWVudHNbMF0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzBdOjE7dmFyIGhlaWdodD1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMV06MTt2YXIgZGVwdGg9YXJndW1lbnRzLmxlbmd0aD4yJiZhcmd1bWVudHNbMl0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzJdOjE7dmFyIHdpZHRoU2VnbWVudHM9YXJndW1lbnRzLmxlbmd0aD4zJiZhcmd1bWVudHNbM10hPT11bmRlZmluZWQ/YXJndW1lbnRzWzNdOjE7dmFyIGhlaWdodFNlZ21lbnRzPWFyZ3VtZW50cy5sZW5ndGg+NCYmYXJndW1lbnRzWzRdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1s0XToxO3ZhciBkZXB0aFNlZ21lbnRzPWFyZ3VtZW50cy5sZW5ndGg+NSYmYXJndW1lbnRzWzVdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1s1XToxO19jbGFzc0NhbGxDaGVjayh0aGlzLEJveEdlb21ldHJ5KTtfdGhpczExPV9zdXBlcjIwLmNhbGwodGhpcyk7X3RoaXMxMS50eXBlPSdCb3hHZW9tZXRyeSc7X3RoaXMxMS5wYXJhbWV0ZXJzPXt3aWR0aDp3aWR0aCxoZWlnaHQ6aGVpZ2h0LGRlcHRoOmRlcHRoLHdpZHRoU2VnbWVudHM6d2lkdGhTZWdtZW50cyxoZWlnaHRTZWdtZW50czpoZWlnaHRTZWdtZW50cyxkZXB0aFNlZ21lbnRzOmRlcHRoU2VnbWVudHN9O3ZhciBzY29wZT1fYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzMTEpOy8vIHNlZ21lbnRzCndpZHRoU2VnbWVudHM9TWF0aC5mbG9vcih3aWR0aFNlZ21lbnRzKTtoZWlnaHRTZWdtZW50cz1NYXRoLmZsb29yKGhlaWdodFNlZ21lbnRzKTtkZXB0aFNlZ21lbnRzPU1hdGguZmxvb3IoZGVwdGhTZWdtZW50cyk7Ly8gYnVmZmVycwp2YXIgaW5kaWNlcz1bXTt2YXIgdmVydGljZXM9W107dmFyIG5vcm1hbHM9W107dmFyIHV2cz1bXTsvLyBoZWxwZXIgdmFyaWFibGVzCnZhciBudW1iZXJPZlZlcnRpY2VzPTA7dmFyIGdyb3VwU3RhcnQ9MDsvLyBidWlsZCBlYWNoIHNpZGUgb2YgdGhlIGJveCBnZW9tZXRyeQpidWlsZFBsYW5lKCd6JywneScsJ3gnLC0xLC0xLGRlcHRoLGhlaWdodCx3aWR0aCxkZXB0aFNlZ21lbnRzLGhlaWdodFNlZ21lbnRzLDApOy8vIHB4CmJ1aWxkUGxhbmUoJ3onLCd5JywneCcsMSwtMSxkZXB0aCxoZWlnaHQsLXdpZHRoLGRlcHRoU2VnbWVudHMsaGVpZ2h0U2VnbWVudHMsMSk7Ly8gbngKYnVpbGRQbGFuZSgneCcsJ3onLCd5JywxLDEsd2lkdGgsZGVwdGgsaGVpZ2h0LHdpZHRoU2VnbWVudHMsZGVwdGhTZWdtZW50cywyKTsvLyBweQpidWlsZFBsYW5lKCd4JywneicsJ3knLDEsLTEsd2lkdGgsZGVwdGgsLWhlaWdodCx3aWR0aFNlZ21lbnRzLGRlcHRoU2VnbWVudHMsMyk7Ly8gbnkKYnVpbGRQbGFuZSgneCcsJ3knLCd6JywxLC0xLHdpZHRoLGhlaWdodCxkZXB0aCx3aWR0aFNlZ21lbnRzLGhlaWdodFNlZ21lbnRzLDQpOy8vIHB6CmJ1aWxkUGxhbmUoJ3gnLCd5JywneicsLTEsLTEsd2lkdGgsaGVpZ2h0LC1kZXB0aCx3aWR0aFNlZ21lbnRzLGhlaWdodFNlZ21lbnRzLDUpOy8vIG56Ci8vIGJ1aWxkIGdlb21ldHJ5Cl90aGlzMTEuc2V0SW5kZXgoaW5kaWNlcyk7X3RoaXMxMS5zZXRBdHRyaWJ1dGUoJ3Bvc2l0aW9uJyxuZXcgRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZSh2ZXJ0aWNlcywzKSk7X3RoaXMxMS5zZXRBdHRyaWJ1dGUoJ25vcm1hbCcsbmV3IEZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUobm9ybWFscywzKSk7X3RoaXMxMS5zZXRBdHRyaWJ1dGUoJ3V2JyxuZXcgRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZSh1dnMsMikpO2Z1bmN0aW9uIGJ1aWxkUGxhbmUodSx2LHcsdWRpcix2ZGlyLHdpZHRoLGhlaWdodCxkZXB0aCxncmlkWCxncmlkWSxtYXRlcmlhbEluZGV4KXt2YXIgc2VnbWVudFdpZHRoPXdpZHRoL2dyaWRYO3ZhciBzZWdtZW50SGVpZ2h0PWhlaWdodC9ncmlkWTt2YXIgd2lkdGhIYWxmPXdpZHRoLzI7dmFyIGhlaWdodEhhbGY9aGVpZ2h0LzI7dmFyIGRlcHRoSGFsZj1kZXB0aC8yO3ZhciBncmlkWDE9Z3JpZFgrMTt2YXIgZ3JpZFkxPWdyaWRZKzE7dmFyIHZlcnRleENvdW50ZXI9MDt2YXIgZ3JvdXBDb3VudD0wO3ZhciB2ZWN0b3I9bmV3IFZlY3RvcjMoKTsvLyBnZW5lcmF0ZSB2ZXJ0aWNlcywgbm9ybWFscyBhbmQgdXZzCmZvcih2YXIgaXk9MDtpeTxncmlkWTE7aXkrKyl7dmFyIHk9aXkqc2VnbWVudEhlaWdodC1oZWlnaHRIYWxmO2Zvcih2YXIgaXg9MDtpeDxncmlkWDE7aXgrKyl7dmFyIHg9aXgqc2VnbWVudFdpZHRoLXdpZHRoSGFsZjsvLyBzZXQgdmFsdWVzIHRvIGNvcnJlY3QgdmVjdG9yIGNvbXBvbmVudAp2ZWN0b3JbdV09eCp1ZGlyO3ZlY3Rvclt2XT15KnZkaXI7dmVjdG9yW3ddPWRlcHRoSGFsZjsvLyBub3cgYXBwbHkgdmVjdG9yIHRvIHZlcnRleCBidWZmZXIKdmVydGljZXMucHVzaCh2ZWN0b3IueCx2ZWN0b3IueSx2ZWN0b3Iueik7Ly8gc2V0IHZhbHVlcyB0byBjb3JyZWN0IHZlY3RvciBjb21wb25lbnQKdmVjdG9yW3VdPTA7dmVjdG9yW3ZdPTA7dmVjdG9yW3ddPWRlcHRoPjA/MTotMTsvLyBub3cgYXBwbHkgdmVjdG9yIHRvIG5vcm1hbCBidWZmZXIKbm9ybWFscy5wdXNoKHZlY3Rvci54LHZlY3Rvci55LHZlY3Rvci56KTsvLyB1dnMKdXZzLnB1c2goaXgvZ3JpZFgpO3V2cy5wdXNoKDEtaXkvZ3JpZFkpOy8vIGNvdW50ZXJzCnZlcnRleENvdW50ZXIrPTE7fX0vLyBpbmRpY2VzCi8vIDEuIHlvdSBuZWVkIHRocmVlIGluZGljZXMgdG8gZHJhdyBhIHNpbmdsZSBmYWNlCi8vIDIuIGEgc2luZ2xlIHNlZ21lbnQgY29uc2lzdHMgb2YgdHdvIGZhY2VzCi8vIDMuIHNvIHdlIG5lZWQgdG8gZ2VuZXJhdGUgc2l4ICgyKjMpIGluZGljZXMgcGVyIHNlZ21lbnQKZm9yKHZhciBfaXk9MDtfaXk8Z3JpZFk7X2l5Kyspe2Zvcih2YXIgX2l4PTA7X2l4PGdyaWRYO19peCsrKXt2YXIgYT1udW1iZXJPZlZlcnRpY2VzK19peCtncmlkWDEqX2l5O3ZhciBiPW51bWJlck9mVmVydGljZXMrX2l4K2dyaWRYMSooX2l5KzEpO3ZhciBjPW51bWJlck9mVmVydGljZXMrKF9peCsxKStncmlkWDEqKF9peSsxKTt2YXIgZD1udW1iZXJPZlZlcnRpY2VzKyhfaXgrMSkrZ3JpZFgxKl9peTsvLyBmYWNlcwppbmRpY2VzLnB1c2goYSxiLGQpO2luZGljZXMucHVzaChiLGMsZCk7Ly8gaW5jcmVhc2UgY291bnRlcgpncm91cENvdW50Kz02O319Ly8gYWRkIGEgZ3JvdXAgdG8gdGhlIGdlb21ldHJ5LiB0aGlzIHdpbGwgZW5zdXJlIG11bHRpIG1hdGVyaWFsIHN1cHBvcnQKc2NvcGUuYWRkR3JvdXAoZ3JvdXBTdGFydCxncm91cENvdW50LG1hdGVyaWFsSW5kZXgpOy8vIGNhbGN1bGF0ZSBuZXcgc3RhcnQgdmFsdWUgZm9yIGdyb3Vwcwpncm91cFN0YXJ0Kz1ncm91cENvdW50Oy8vIHVwZGF0ZSB0b3RhbCBudW1iZXIgb2YgdmVydGljZXMKbnVtYmVyT2ZWZXJ0aWNlcys9dmVydGV4Q291bnRlcjt9cmV0dXJuIF90aGlzMTE7fV9jcmVhdGVDbGFzcyhCb3hHZW9tZXRyeSxudWxsLFt7a2V5OiJmcm9tSlNPTiIsdmFsdWU6ZnVuY3Rpb24gZnJvbUpTT04oZGF0YSl7cmV0dXJuIG5ldyBCb3hHZW9tZXRyeShkYXRhLndpZHRoLGRhdGEuaGVpZ2h0LGRhdGEuZGVwdGgsZGF0YS53aWR0aFNlZ21lbnRzLGRhdGEuaGVpZ2h0U2VnbWVudHMsZGF0YS5kZXB0aFNlZ21lbnRzKTt9fV0pO3JldHVybiBCb3hHZW9tZXRyeTt9KEJ1ZmZlckdlb21ldHJ5KTsvKioKICogVW5pZm9ybSBVdGlsaXRpZXMKICovZnVuY3Rpb24gY2xvbmVVbmlmb3JtcyhzcmMpe3ZhciBkc3Q9e307Zm9yKHZhciB1IGluIHNyYyl7ZHN0W3VdPXt9O2Zvcih2YXIgcCBpbiBzcmNbdV0pe3ZhciBwcm9wZXJ0eT1zcmNbdV1bcF07aWYocHJvcGVydHkmJihwcm9wZXJ0eS5pc0NvbG9yfHxwcm9wZXJ0eS5pc01hdHJpeDN8fHByb3BlcnR5LmlzTWF0cml4NHx8cHJvcGVydHkuaXNWZWN0b3IyfHxwcm9wZXJ0eS5pc1ZlY3RvcjN8fHByb3BlcnR5LmlzVmVjdG9yNHx8cHJvcGVydHkuaXNUZXh0dXJlfHxwcm9wZXJ0eS5pc1F1YXRlcm5pb24pKXtkc3RbdV1bcF09cHJvcGVydHkuY2xvbmUoKTt9ZWxzZSBpZihBcnJheS5pc0FycmF5KHByb3BlcnR5KSl7ZHN0W3VdW3BdPXByb3BlcnR5LnNsaWNlKCk7fWVsc2V7ZHN0W3VdW3BdPXByb3BlcnR5O319fXJldHVybiBkc3Q7fWZ1bmN0aW9uIG1lcmdlVW5pZm9ybXModW5pZm9ybXMpe3ZhciBtZXJnZWQ9e307Zm9yKHZhciB1PTA7dTx1bmlmb3Jtcy5sZW5ndGg7dSsrKXt2YXIgX3RtcD1jbG9uZVVuaWZvcm1zKHVuaWZvcm1zW3VdKTtmb3IodmFyIHAgaW4gX3RtcCl7bWVyZ2VkW3BdPV90bXBbcF07fX1yZXR1cm4gbWVyZ2VkO30vLyBMZWdhY3kKdmFyIFVuaWZvcm1zVXRpbHM9e2Nsb25lOmNsb25lVW5pZm9ybXMsbWVyZ2U6bWVyZ2VVbmlmb3Jtc307dmFyIGRlZmF1bHRfdmVydGV4PSJ2b2lkIG1haW4oKSB7XG5cdGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIG1vZGVsVmlld01hdHJpeCAqIHZlYzQoIHBvc2l0aW9uLCAxLjAgKTtcbn0iO3ZhciBkZWZhdWx0X2ZyYWdtZW50PSJ2b2lkIG1haW4oKSB7XG5cdGdsX0ZyYWdDb2xvciA9IHZlYzQoIDEuMCwgMC4wLCAwLjAsIDEuMCApO1xufSI7LyoqCiAqIHBhcmFtZXRlcnMgPSB7CiAqICBkZWZpbmVzOiB7ICJsYWJlbCIgOiAidmFsdWUiIH0sCiAqICB1bmlmb3JtczogeyAicGFyYW1ldGVyMSI6IHsgdmFsdWU6IDEuMCB9LCAicGFyYW1ldGVyMiI6IHsgdmFsdWUyOiAyIH0gfSwKICoKICogIGZyYWdtZW50U2hhZGVyOiA8c3RyaW5nPiwKICogIHZlcnRleFNoYWRlcjogPHN0cmluZz4sCiAqCiAqICB3aXJlZnJhbWU6IDxib29sZWFuPiwKICogIHdpcmVmcmFtZUxpbmV3aWR0aDogPGZsb2F0PiwKICoKICogIGxpZ2h0czogPGJvb2w+CiAqIH0KICovdmFyIFNoYWRlck1hdGVyaWFsPS8qI19fUFVSRV9fKi9mdW5jdGlvbihfTWF0ZXJpYWwyKXtfaW5oZXJpdHMoU2hhZGVyTWF0ZXJpYWwsX01hdGVyaWFsMik7dmFyIF9zdXBlcjIxPV9jcmVhdGVTdXBlcihTaGFkZXJNYXRlcmlhbCk7ZnVuY3Rpb24gU2hhZGVyTWF0ZXJpYWwocGFyYW1ldGVycyl7dmFyIF90aGlzMTI7X2NsYXNzQ2FsbENoZWNrKHRoaXMsU2hhZGVyTWF0ZXJpYWwpO190aGlzMTI9X3N1cGVyMjEuY2FsbCh0aGlzKTtfdGhpczEyLnR5cGU9J1NoYWRlck1hdGVyaWFsJztfdGhpczEyLmRlZmluZXM9e307X3RoaXMxMi51bmlmb3Jtcz17fTtfdGhpczEyLnZlcnRleFNoYWRlcj1kZWZhdWx0X3ZlcnRleDtfdGhpczEyLmZyYWdtZW50U2hhZGVyPWRlZmF1bHRfZnJhZ21lbnQ7X3RoaXMxMi5saW5ld2lkdGg9MTtfdGhpczEyLndpcmVmcmFtZT1mYWxzZTtfdGhpczEyLndpcmVmcmFtZUxpbmV3aWR0aD0xO190aGlzMTIuZm9nPWZhbHNlOy8vIHNldCB0byB1c2Ugc2NlbmUgZm9nCl90aGlzMTIubGlnaHRzPWZhbHNlOy8vIHNldCB0byB1c2Ugc2NlbmUgbGlnaHRzCl90aGlzMTIuY2xpcHBpbmc9ZmFsc2U7Ly8gc2V0IHRvIHVzZSB1c2VyLWRlZmluZWQgY2xpcHBpbmcgcGxhbmVzCl90aGlzMTIuZXh0ZW5zaW9ucz17ZGVyaXZhdGl2ZXM6ZmFsc2UsLy8gc2V0IHRvIHVzZSBkZXJpdmF0aXZlcwpmcmFnRGVwdGg6ZmFsc2UsLy8gc2V0IHRvIHVzZSBmcmFnbWVudCBkZXB0aCB2YWx1ZXMKZHJhd0J1ZmZlcnM6ZmFsc2UsLy8gc2V0IHRvIHVzZSBkcmF3IGJ1ZmZlcnMKc2hhZGVyVGV4dHVyZUxPRDpmYWxzZS8vIHNldCB0byB1c2Ugc2hhZGVyIHRleHR1cmUgTE9ECn07Ly8gV2hlbiByZW5kZXJlZCBnZW9tZXRyeSBkb2Vzbid0IGluY2x1ZGUgdGhlc2UgYXR0cmlidXRlcyBidXQgdGhlIG1hdGVyaWFsIGRvZXMsCi8vIHVzZSB0aGVzZSBkZWZhdWx0IHZhbHVlcyBpbiBXZWJHTC4gVGhpcyBhdm9pZHMgZXJyb3JzIHdoZW4gYnVmZmVyIGRhdGEgaXMgbWlzc2luZy4KX3RoaXMxMi5kZWZhdWx0QXR0cmlidXRlVmFsdWVzPXsnY29sb3InOlsxLDEsMV0sJ3V2JzpbMCwwXSwndXYyJzpbMCwwXX07X3RoaXMxMi5pbmRleDBBdHRyaWJ1dGVOYW1lPXVuZGVmaW5lZDtfdGhpczEyLnVuaWZvcm1zTmVlZFVwZGF0ZT1mYWxzZTtfdGhpczEyLmdsc2xWZXJzaW9uPW51bGw7aWYocGFyYW1ldGVycyE9PXVuZGVmaW5lZCl7aWYocGFyYW1ldGVycy5hdHRyaWJ1dGVzIT09dW5kZWZpbmVkKXtjb25zb2xlLmVycm9yKCdUSFJFRS5TaGFkZXJNYXRlcmlhbDogYXR0cmlidXRlcyBzaG91bGQgbm93IGJlIGRlZmluZWQgaW4gVEhSRUUuQnVmZmVyR2VvbWV0cnkgaW5zdGVhZC4nKTt9X3RoaXMxMi5zZXRWYWx1ZXMocGFyYW1ldGVycyk7fXJldHVybiBfdGhpczEyO31fY3JlYXRlQ2xhc3MoU2hhZGVyTWF0ZXJpYWwsW3trZXk6ImNvcHkiLHZhbHVlOmZ1bmN0aW9uIGNvcHkoc291cmNlKXtfZ2V0KF9nZXRQcm90b3R5cGVPZihTaGFkZXJNYXRlcmlhbC5wcm90b3R5cGUpLCJjb3B5Iix0aGlzKS5jYWxsKHRoaXMsc291cmNlKTt0aGlzLmZyYWdtZW50U2hhZGVyPXNvdXJjZS5mcmFnbWVudFNoYWRlcjt0aGlzLnZlcnRleFNoYWRlcj1zb3VyY2UudmVydGV4U2hhZGVyO3RoaXMudW5pZm9ybXM9Y2xvbmVVbmlmb3Jtcyhzb3VyY2UudW5pZm9ybXMpO3RoaXMuZGVmaW5lcz1PYmplY3QuYXNzaWduKHt9LHNvdXJjZS5kZWZpbmVzKTt0aGlzLndpcmVmcmFtZT1zb3VyY2Uud2lyZWZyYW1lO3RoaXMud2lyZWZyYW1lTGluZXdpZHRoPXNvdXJjZS53aXJlZnJhbWVMaW5ld2lkdGg7dGhpcy5saWdodHM9c291cmNlLmxpZ2h0czt0aGlzLmNsaXBwaW5nPXNvdXJjZS5jbGlwcGluZzt0aGlzLmV4dGVuc2lvbnM9T2JqZWN0LmFzc2lnbih7fSxzb3VyY2UuZXh0ZW5zaW9ucyk7dGhpcy5nbHNsVmVyc2lvbj1zb3VyY2UuZ2xzbFZlcnNpb247cmV0dXJuIHRoaXM7fX0se2tleToidG9KU09OIix2YWx1ZTpmdW5jdGlvbiB0b0pTT04obWV0YSl7dmFyIGRhdGE9X2dldChfZ2V0UHJvdG90eXBlT2YoU2hhZGVyTWF0ZXJpYWwucHJvdG90eXBlKSwidG9KU09OIix0aGlzKS5jYWxsKHRoaXMsbWV0YSk7ZGF0YS5nbHNsVmVyc2lvbj10aGlzLmdsc2xWZXJzaW9uO2RhdGEudW5pZm9ybXM9e307Zm9yKHZhciBuYW1lIGluIHRoaXMudW5pZm9ybXMpe3ZhciB1bmlmb3JtPXRoaXMudW5pZm9ybXNbbmFtZV07dmFyIF92YWx1ZT11bmlmb3JtLnZhbHVlO2lmKF92YWx1ZSYmX3ZhbHVlLmlzVGV4dHVyZSl7ZGF0YS51bmlmb3Jtc1tuYW1lXT17dHlwZTondCcsdmFsdWU6X3ZhbHVlLnRvSlNPTihtZXRhKS51dWlkfTt9ZWxzZSBpZihfdmFsdWUmJl92YWx1ZS5pc0NvbG9yKXtkYXRhLnVuaWZvcm1zW25hbWVdPXt0eXBlOidjJyx2YWx1ZTpfdmFsdWUuZ2V0SGV4KCl9O31lbHNlIGlmKF92YWx1ZSYmX3ZhbHVlLmlzVmVjdG9yMil7ZGF0YS51bmlmb3Jtc1tuYW1lXT17dHlwZTondjInLHZhbHVlOl92YWx1ZS50b0FycmF5KCl9O31lbHNlIGlmKF92YWx1ZSYmX3ZhbHVlLmlzVmVjdG9yMyl7ZGF0YS51bmlmb3Jtc1tuYW1lXT17dHlwZTondjMnLHZhbHVlOl92YWx1ZS50b0FycmF5KCl9O31lbHNlIGlmKF92YWx1ZSYmX3ZhbHVlLmlzVmVjdG9yNCl7ZGF0YS51bmlmb3Jtc1tuYW1lXT17dHlwZTondjQnLHZhbHVlOl92YWx1ZS50b0FycmF5KCl9O31lbHNlIGlmKF92YWx1ZSYmX3ZhbHVlLmlzTWF0cml4Myl7ZGF0YS51bmlmb3Jtc1tuYW1lXT17dHlwZTonbTMnLHZhbHVlOl92YWx1ZS50b0FycmF5KCl9O31lbHNlIGlmKF92YWx1ZSYmX3ZhbHVlLmlzTWF0cml4NCl7ZGF0YS51bmlmb3Jtc1tuYW1lXT17dHlwZTonbTQnLHZhbHVlOl92YWx1ZS50b0FycmF5KCl9O31lbHNle2RhdGEudW5pZm9ybXNbbmFtZV09e3ZhbHVlOl92YWx1ZX07Ly8gbm90ZTogdGhlIGFycmF5IHZhcmlhbnRzIHYydiwgdjN2LCB2NHYsIG00diBhbmQgdHYgYXJlIG5vdCBzdXBwb3J0ZWQgc28gZmFyCn19aWYoT2JqZWN0LmtleXModGhpcy5kZWZpbmVzKS5sZW5ndGg+MClkYXRhLmRlZmluZXM9dGhpcy5kZWZpbmVzO2RhdGEudmVydGV4U2hhZGVyPXRoaXMudmVydGV4U2hhZGVyO2RhdGEuZnJhZ21lbnRTaGFkZXI9dGhpcy5mcmFnbWVudFNoYWRlcjt2YXIgZXh0ZW5zaW9ucz17fTtmb3IodmFyIGtleSBpbiB0aGlzLmV4dGVuc2lvbnMpe2lmKHRoaXMuZXh0ZW5zaW9uc1trZXldPT09dHJ1ZSlleHRlbnNpb25zW2tleV09dHJ1ZTt9aWYoT2JqZWN0LmtleXMoZXh0ZW5zaW9ucykubGVuZ3RoPjApZGF0YS5leHRlbnNpb25zPWV4dGVuc2lvbnM7cmV0dXJuIGRhdGE7fX1dKTtyZXR1cm4gU2hhZGVyTWF0ZXJpYWw7fShNYXRlcmlhbCk7U2hhZGVyTWF0ZXJpYWwucHJvdG90eXBlLmlzU2hhZGVyTWF0ZXJpYWw9dHJ1ZTt2YXIgQ2FtZXJhPS8qI19fUFVSRV9fKi9mdW5jdGlvbihfT2JqZWN0M0QyKXtfaW5oZXJpdHMoQ2FtZXJhLF9PYmplY3QzRDIpO3ZhciBfc3VwZXIyMj1fY3JlYXRlU3VwZXIoQ2FtZXJhKTtmdW5jdGlvbiBDYW1lcmEoKXt2YXIgX3RoaXMxMztfY2xhc3NDYWxsQ2hlY2sodGhpcyxDYW1lcmEpO190aGlzMTM9X3N1cGVyMjIuY2FsbCh0aGlzKTtfdGhpczEzLnR5cGU9J0NhbWVyYSc7X3RoaXMxMy5tYXRyaXhXb3JsZEludmVyc2U9bmV3IE1hdHJpeDQoKTtfdGhpczEzLnByb2plY3Rpb25NYXRyaXg9bmV3IE1hdHJpeDQoKTtfdGhpczEzLnByb2plY3Rpb25NYXRyaXhJbnZlcnNlPW5ldyBNYXRyaXg0KCk7cmV0dXJuIF90aGlzMTM7fV9jcmVhdGVDbGFzcyhDYW1lcmEsW3trZXk6ImNvcHkiLHZhbHVlOmZ1bmN0aW9uIGNvcHkoc291cmNlLHJlY3Vyc2l2ZSl7X2dldChfZ2V0UHJvdG90eXBlT2YoQ2FtZXJhLnByb3RvdHlwZSksImNvcHkiLHRoaXMpLmNhbGwodGhpcyxzb3VyY2UscmVjdXJzaXZlKTt0aGlzLm1hdHJpeFdvcmxkSW52ZXJzZS5jb3B5KHNvdXJjZS5tYXRyaXhXb3JsZEludmVyc2UpO3RoaXMucHJvamVjdGlvbk1hdHJpeC5jb3B5KHNvdXJjZS5wcm9qZWN0aW9uTWF0cml4KTt0aGlzLnByb2plY3Rpb25NYXRyaXhJbnZlcnNlLmNvcHkoc291cmNlLnByb2plY3Rpb25NYXRyaXhJbnZlcnNlKTtyZXR1cm4gdGhpczt9fSx7a2V5OiJnZXRXb3JsZERpcmVjdGlvbiIsdmFsdWU6ZnVuY3Rpb24gZ2V0V29ybGREaXJlY3Rpb24odGFyZ2V0KXt0aGlzLnVwZGF0ZVdvcmxkTWF0cml4KHRydWUsZmFsc2UpO3ZhciBlPXRoaXMubWF0cml4V29ybGQuZWxlbWVudHM7cmV0dXJuIHRhcmdldC5zZXQoLWVbOF0sLWVbOV0sLWVbMTBdKS5ub3JtYWxpemUoKTt9fSx7a2V5OiJ1cGRhdGVNYXRyaXhXb3JsZCIsdmFsdWU6ZnVuY3Rpb24gdXBkYXRlTWF0cml4V29ybGQoZm9yY2Upe19nZXQoX2dldFByb3RvdHlwZU9mKENhbWVyYS5wcm90b3R5cGUpLCJ1cGRhdGVNYXRyaXhXb3JsZCIsdGhpcykuY2FsbCh0aGlzLGZvcmNlKTt0aGlzLm1hdHJpeFdvcmxkSW52ZXJzZS5jb3B5KHRoaXMubWF0cml4V29ybGQpLmludmVydCgpO319LHtrZXk6InVwZGF0ZVdvcmxkTWF0cml4Iix2YWx1ZTpmdW5jdGlvbiB1cGRhdGVXb3JsZE1hdHJpeCh1cGRhdGVQYXJlbnRzLHVwZGF0ZUNoaWxkcmVuKXtfZ2V0KF9nZXRQcm90b3R5cGVPZihDYW1lcmEucHJvdG90eXBlKSwidXBkYXRlV29ybGRNYXRyaXgiLHRoaXMpLmNhbGwodGhpcyx1cGRhdGVQYXJlbnRzLHVwZGF0ZUNoaWxkcmVuKTt0aGlzLm1hdHJpeFdvcmxkSW52ZXJzZS5jb3B5KHRoaXMubWF0cml4V29ybGQpLmludmVydCgpO319LHtrZXk6ImNsb25lIix2YWx1ZTpmdW5jdGlvbiBjbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcigpLmNvcHkodGhpcyk7fX1dKTtyZXR1cm4gQ2FtZXJhO30oT2JqZWN0M0QpO0NhbWVyYS5wcm90b3R5cGUuaXNDYW1lcmE9dHJ1ZTt2YXIgUGVyc3BlY3RpdmVDYW1lcmE9LyojX19QVVJFX18qL2Z1bmN0aW9uKF9DYW1lcmEpe19pbmhlcml0cyhQZXJzcGVjdGl2ZUNhbWVyYSxfQ2FtZXJhKTt2YXIgX3N1cGVyMjM9X2NyZWF0ZVN1cGVyKFBlcnNwZWN0aXZlQ2FtZXJhKTtmdW5jdGlvbiBQZXJzcGVjdGl2ZUNhbWVyYSgpe3ZhciBfdGhpczE0O3ZhciBmb3Y9YXJndW1lbnRzLmxlbmd0aD4wJiZhcmd1bWVudHNbMF0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzBdOjUwO3ZhciBhc3BlY3Q9YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzFdOjE7dmFyIG5lYXI9YXJndW1lbnRzLmxlbmd0aD4yJiZhcmd1bWVudHNbMl0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzJdOjAuMTt2YXIgZmFyPWFyZ3VtZW50cy5sZW5ndGg+MyYmYXJndW1lbnRzWzNdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1szXToyMDAwO19jbGFzc0NhbGxDaGVjayh0aGlzLFBlcnNwZWN0aXZlQ2FtZXJhKTtfdGhpczE0PV9zdXBlcjIzLmNhbGwodGhpcyk7X3RoaXMxNC50eXBlPSdQZXJzcGVjdGl2ZUNhbWVyYSc7X3RoaXMxNC5mb3Y9Zm92O190aGlzMTQuem9vbT0xO190aGlzMTQubmVhcj1uZWFyO190aGlzMTQuZmFyPWZhcjtfdGhpczE0LmZvY3VzPTEwO190aGlzMTQuYXNwZWN0PWFzcGVjdDtfdGhpczE0LnZpZXc9bnVsbDtfdGhpczE0LmZpbG1HYXVnZT0zNTsvLyB3aWR0aCBvZiB0aGUgZmlsbSAoZGVmYXVsdCBpbiBtaWxsaW1ldGVycykKX3RoaXMxNC5maWxtT2Zmc2V0PTA7Ly8gaG9yaXpvbnRhbCBmaWxtIG9mZnNldCAoc2FtZSB1bml0IGFzIGdhdWdlKQpfdGhpczE0LnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtyZXR1cm4gX3RoaXMxNDt9X2NyZWF0ZUNsYXNzKFBlcnNwZWN0aXZlQ2FtZXJhLFt7a2V5OiJjb3B5Iix2YWx1ZTpmdW5jdGlvbiBjb3B5KHNvdXJjZSxyZWN1cnNpdmUpe19nZXQoX2dldFByb3RvdHlwZU9mKFBlcnNwZWN0aXZlQ2FtZXJhLnByb3RvdHlwZSksImNvcHkiLHRoaXMpLmNhbGwodGhpcyxzb3VyY2UscmVjdXJzaXZlKTt0aGlzLmZvdj1zb3VyY2UuZm92O3RoaXMuem9vbT1zb3VyY2Uuem9vbTt0aGlzLm5lYXI9c291cmNlLm5lYXI7dGhpcy5mYXI9c291cmNlLmZhcjt0aGlzLmZvY3VzPXNvdXJjZS5mb2N1czt0aGlzLmFzcGVjdD1zb3VyY2UuYXNwZWN0O3RoaXMudmlldz1zb3VyY2Uudmlldz09PW51bGw/bnVsbDpPYmplY3QuYXNzaWduKHt9LHNvdXJjZS52aWV3KTt0aGlzLmZpbG1HYXVnZT1zb3VyY2UuZmlsbUdhdWdlO3RoaXMuZmlsbU9mZnNldD1zb3VyY2UuZmlsbU9mZnNldDtyZXR1cm4gdGhpczt9LyoqCgkgKiBTZXRzIHRoZSBGT1YgYnkgZm9jYWwgbGVuZ3RoIGluIHJlc3BlY3QgdG8gdGhlIGN1cnJlbnQgLmZpbG1HYXVnZS4KCSAqCgkgKiBUaGUgZGVmYXVsdCBmaWxtIGdhdWdlIGlzIDM1LCBzbyB0aGF0IHRoZSBmb2NhbCBsZW5ndGggY2FuIGJlIHNwZWNpZmllZCBmb3IKCSAqIGEgMzVtbSAoZnVsbCBmcmFtZSkgY2FtZXJhLgoJICoKCSAqIFZhbHVlcyBmb3IgZm9jYWwgbGVuZ3RoIGFuZCBmaWxtIGdhdWdlIG11c3QgaGF2ZSB0aGUgc2FtZSB1bml0LgoJICovfSx7a2V5OiJzZXRGb2NhbExlbmd0aCIsdmFsdWU6ZnVuY3Rpb24gc2V0Rm9jYWxMZW5ndGgoZm9jYWxMZW5ndGgpey8qKiBzZWUge0BsaW5rIGh0dHA6Ly93d3cuYm9iYXRraW5zLmNvbS9waG90b2dyYXBoeS90ZWNobmljYWwvZmllbGRfb2Zfdmlldy5odG1sfSAqL3ZhciB2RXh0ZW50U2xvcGU9MC41KnRoaXMuZ2V0RmlsbUhlaWdodCgpL2ZvY2FsTGVuZ3RoO3RoaXMuZm92PVJBRDJERUcqMipNYXRoLmF0YW4odkV4dGVudFNsb3BlKTt0aGlzLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTt9LyoqCgkgKiBDYWxjdWxhdGVzIHRoZSBmb2NhbCBsZW5ndGggZnJvbSB0aGUgY3VycmVudCAuZm92IGFuZCAuZmlsbUdhdWdlLgoJICovfSx7a2V5OiJnZXRGb2NhbExlbmd0aCIsdmFsdWU6ZnVuY3Rpb24gZ2V0Rm9jYWxMZW5ndGgoKXt2YXIgdkV4dGVudFNsb3BlPU1hdGgudGFuKERFRzJSQUQqMC41KnRoaXMuZm92KTtyZXR1cm4gMC41KnRoaXMuZ2V0RmlsbUhlaWdodCgpL3ZFeHRlbnRTbG9wZTt9fSx7a2V5OiJnZXRFZmZlY3RpdmVGT1YiLHZhbHVlOmZ1bmN0aW9uIGdldEVmZmVjdGl2ZUZPVigpe3JldHVybiBSQUQyREVHKjIqTWF0aC5hdGFuKE1hdGgudGFuKERFRzJSQUQqMC41KnRoaXMuZm92KS90aGlzLnpvb20pO319LHtrZXk6ImdldEZpbG1XaWR0aCIsdmFsdWU6ZnVuY3Rpb24gZ2V0RmlsbVdpZHRoKCl7Ly8gZmlsbSBub3QgY29tcGxldGVseSBjb3ZlcmVkIGluIHBvcnRyYWl0IGZvcm1hdCAoYXNwZWN0IDwgMSkKcmV0dXJuIHRoaXMuZmlsbUdhdWdlKk1hdGgubWluKHRoaXMuYXNwZWN0LDEpO319LHtrZXk6ImdldEZpbG1IZWlnaHQiLHZhbHVlOmZ1bmN0aW9uIGdldEZpbG1IZWlnaHQoKXsvLyBmaWxtIG5vdCBjb21wbGV0ZWx5IGNvdmVyZWQgaW4gbGFuZHNjYXBlIGZvcm1hdCAoYXNwZWN0ID4gMSkKcmV0dXJuIHRoaXMuZmlsbUdhdWdlL01hdGgubWF4KHRoaXMuYXNwZWN0LDEpO30vKioKCSAqIFNldHMgYW4gb2Zmc2V0IGluIGEgbGFyZ2VyIGZydXN0dW0uIFRoaXMgaXMgdXNlZnVsIGZvciBtdWx0aS13aW5kb3cgb3IKCSAqIG11bHRpLW1vbml0b3IvbXVsdGktbWFjaGluZSBzZXR1cHMuCgkgKgoJICogRm9yIGV4YW1wbGUsIGlmIHlvdSBoYXZlIDN4MiBtb25pdG9ycyBhbmQgZWFjaCBtb25pdG9yIGlzIDE5MjB4MTA4MCBhbmQKCSAqIHRoZSBtb25pdG9ycyBhcmUgaW4gZ3JpZCBsaWtlIHRoaXMKCSAqCgkgKiAgICstLS0rLS0tKy0tLSsKCSAqICAgfCBBIHwgQiB8IEMgfAoJICogICArLS0tKy0tLSstLS0rCgkgKiAgIHwgRCB8IEUgfCBGIHwKCSAqICAgKy0tLSstLS0rLS0tKwoJICoKCSAqIHRoZW4gZm9yIGVhY2ggbW9uaXRvciB5b3Ugd291bGQgY2FsbCBpdCBsaWtlIHRoaXMKCSAqCgkgKiAgIGNvbnN0IHcgPSAxOTIwOwoJICogICBjb25zdCBoID0gMTA4MDsKCSAqICAgY29uc3QgZnVsbFdpZHRoID0gdyAqIDM7CgkgKiAgIGNvbnN0IGZ1bGxIZWlnaHQgPSBoICogMjsKCSAqCgkgKiAgIC0tQS0tCgkgKiAgIGNhbWVyYS5zZXRWaWV3T2Zmc2V0KCBmdWxsV2lkdGgsIGZ1bGxIZWlnaHQsIHcgKiAwLCBoICogMCwgdywgaCApOwoJICogICAtLUItLQoJICogICBjYW1lcmEuc2V0Vmlld09mZnNldCggZnVsbFdpZHRoLCBmdWxsSGVpZ2h0LCB3ICogMSwgaCAqIDAsIHcsIGggKTsKCSAqICAgLS1DLS0KCSAqICAgY2FtZXJhLnNldFZpZXdPZmZzZXQoIGZ1bGxXaWR0aCwgZnVsbEhlaWdodCwgdyAqIDIsIGggKiAwLCB3LCBoICk7CgkgKiAgIC0tRC0tCgkgKiAgIGNhbWVyYS5zZXRWaWV3T2Zmc2V0KCBmdWxsV2lkdGgsIGZ1bGxIZWlnaHQsIHcgKiAwLCBoICogMSwgdywgaCApOwoJICogICAtLUUtLQoJICogICBjYW1lcmEuc2V0Vmlld09mZnNldCggZnVsbFdpZHRoLCBmdWxsSGVpZ2h0LCB3ICogMSwgaCAqIDEsIHcsIGggKTsKCSAqICAgLS1GLS0KCSAqICAgY2FtZXJhLnNldFZpZXdPZmZzZXQoIGZ1bGxXaWR0aCwgZnVsbEhlaWdodCwgdyAqIDIsIGggKiAxLCB3LCBoICk7CgkgKgoJICogICBOb3RlIHRoZXJlIGlzIG5vIHJlYXNvbiBtb25pdG9ycyBoYXZlIHRvIGJlIHRoZSBzYW1lIHNpemUgb3IgaW4gYSBncmlkLgoJICovfSx7a2V5OiJzZXRWaWV3T2Zmc2V0Iix2YWx1ZTpmdW5jdGlvbiBzZXRWaWV3T2Zmc2V0KGZ1bGxXaWR0aCxmdWxsSGVpZ2h0LHgseSx3aWR0aCxoZWlnaHQpe3RoaXMuYXNwZWN0PWZ1bGxXaWR0aC9mdWxsSGVpZ2h0O2lmKHRoaXMudmlldz09PW51bGwpe3RoaXMudmlldz17ZW5hYmxlZDp0cnVlLGZ1bGxXaWR0aDoxLGZ1bGxIZWlnaHQ6MSxvZmZzZXRYOjAsb2Zmc2V0WTowLHdpZHRoOjEsaGVpZ2h0OjF9O310aGlzLnZpZXcuZW5hYmxlZD10cnVlO3RoaXMudmlldy5mdWxsV2lkdGg9ZnVsbFdpZHRoO3RoaXMudmlldy5mdWxsSGVpZ2h0PWZ1bGxIZWlnaHQ7dGhpcy52aWV3Lm9mZnNldFg9eDt0aGlzLnZpZXcub2Zmc2V0WT15O3RoaXMudmlldy53aWR0aD13aWR0aDt0aGlzLnZpZXcuaGVpZ2h0PWhlaWdodDt0aGlzLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTt9fSx7a2V5OiJjbGVhclZpZXdPZmZzZXQiLHZhbHVlOmZ1bmN0aW9uIGNsZWFyVmlld09mZnNldCgpe2lmKHRoaXMudmlldyE9PW51bGwpe3RoaXMudmlldy5lbmFibGVkPWZhbHNlO310aGlzLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTt9fSx7a2V5OiJ1cGRhdGVQcm9qZWN0aW9uTWF0cml4Iix2YWx1ZTpmdW5jdGlvbiB1cGRhdGVQcm9qZWN0aW9uTWF0cml4KCl7dmFyIG5lYXI9dGhpcy5uZWFyO3ZhciB0b3A9bmVhcipNYXRoLnRhbihERUcyUkFEKjAuNSp0aGlzLmZvdikvdGhpcy56b29tO3ZhciBoZWlnaHQ9Mip0b3A7dmFyIHdpZHRoPXRoaXMuYXNwZWN0KmhlaWdodDt2YXIgbGVmdD0tMC41KndpZHRoO3ZhciB2aWV3PXRoaXMudmlldztpZih0aGlzLnZpZXchPT1udWxsJiZ0aGlzLnZpZXcuZW5hYmxlZCl7dmFyIGZ1bGxXaWR0aD12aWV3LmZ1bGxXaWR0aCxmdWxsSGVpZ2h0PXZpZXcuZnVsbEhlaWdodDtsZWZ0Kz12aWV3Lm9mZnNldFgqd2lkdGgvZnVsbFdpZHRoO3RvcC09dmlldy5vZmZzZXRZKmhlaWdodC9mdWxsSGVpZ2h0O3dpZHRoKj12aWV3LndpZHRoL2Z1bGxXaWR0aDtoZWlnaHQqPXZpZXcuaGVpZ2h0L2Z1bGxIZWlnaHQ7fXZhciBza2V3PXRoaXMuZmlsbU9mZnNldDtpZihza2V3IT09MClsZWZ0Kz1uZWFyKnNrZXcvdGhpcy5nZXRGaWxtV2lkdGgoKTt0aGlzLnByb2plY3Rpb25NYXRyaXgubWFrZVBlcnNwZWN0aXZlKGxlZnQsbGVmdCt3aWR0aCx0b3AsdG9wLWhlaWdodCxuZWFyLHRoaXMuZmFyKTt0aGlzLnByb2plY3Rpb25NYXRyaXhJbnZlcnNlLmNvcHkodGhpcy5wcm9qZWN0aW9uTWF0cml4KS5pbnZlcnQoKTt9fSx7a2V5OiJ0b0pTT04iLHZhbHVlOmZ1bmN0aW9uIHRvSlNPTihtZXRhKXt2YXIgZGF0YT1fZ2V0KF9nZXRQcm90b3R5cGVPZihQZXJzcGVjdGl2ZUNhbWVyYS5wcm90b3R5cGUpLCJ0b0pTT04iLHRoaXMpLmNhbGwodGhpcyxtZXRhKTtkYXRhLm9iamVjdC5mb3Y9dGhpcy5mb3Y7ZGF0YS5vYmplY3Quem9vbT10aGlzLnpvb207ZGF0YS5vYmplY3QubmVhcj10aGlzLm5lYXI7ZGF0YS5vYmplY3QuZmFyPXRoaXMuZmFyO2RhdGEub2JqZWN0LmZvY3VzPXRoaXMuZm9jdXM7ZGF0YS5vYmplY3QuYXNwZWN0PXRoaXMuYXNwZWN0O2lmKHRoaXMudmlldyE9PW51bGwpZGF0YS5vYmplY3Qudmlldz1PYmplY3QuYXNzaWduKHt9LHRoaXMudmlldyk7ZGF0YS5vYmplY3QuZmlsbUdhdWdlPXRoaXMuZmlsbUdhdWdlO2RhdGEub2JqZWN0LmZpbG1PZmZzZXQ9dGhpcy5maWxtT2Zmc2V0O3JldHVybiBkYXRhO319XSk7cmV0dXJuIFBlcnNwZWN0aXZlQ2FtZXJhO30oQ2FtZXJhKTtQZXJzcGVjdGl2ZUNhbWVyYS5wcm90b3R5cGUuaXNQZXJzcGVjdGl2ZUNhbWVyYT10cnVlO3ZhciBmb3Y9OTAsYXNwZWN0PTE7dmFyIEN1YmVDYW1lcmE9LyojX19QVVJFX18qL2Z1bmN0aW9uKF9PYmplY3QzRDMpe19pbmhlcml0cyhDdWJlQ2FtZXJhLF9PYmplY3QzRDMpO3ZhciBfc3VwZXIyND1fY3JlYXRlU3VwZXIoQ3ViZUNhbWVyYSk7ZnVuY3Rpb24gQ3ViZUNhbWVyYShuZWFyLGZhcixyZW5kZXJUYXJnZXQpe3ZhciBfdGhpczE1O19jbGFzc0NhbGxDaGVjayh0aGlzLEN1YmVDYW1lcmEpO190aGlzMTU9X3N1cGVyMjQuY2FsbCh0aGlzKTtfdGhpczE1LnR5cGU9J0N1YmVDYW1lcmEnO2lmKHJlbmRlclRhcmdldC5pc1dlYkdMQ3ViZVJlbmRlclRhcmdldCE9PXRydWUpe2NvbnNvbGUuZXJyb3IoJ1RIUkVFLkN1YmVDYW1lcmE6IFRoZSBjb25zdHJ1Y3RvciBub3cgZXhwZWN0cyBhbiBpbnN0YW5jZSBvZiBXZWJHTEN1YmVSZW5kZXJUYXJnZXQgYXMgdGhpcmQgcGFyYW1ldGVyLicpO3JldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihfdGhpczE1KTt9X3RoaXMxNS5yZW5kZXJUYXJnZXQ9cmVuZGVyVGFyZ2V0O3ZhciBjYW1lcmFQWD1uZXcgUGVyc3BlY3RpdmVDYW1lcmEoZm92LGFzcGVjdCxuZWFyLGZhcik7Y2FtZXJhUFgubGF5ZXJzPV90aGlzMTUubGF5ZXJzO2NhbWVyYVBYLnVwLnNldCgwLC0xLDApO2NhbWVyYVBYLmxvb2tBdChuZXcgVmVjdG9yMygxLDAsMCkpO190aGlzMTUuYWRkKGNhbWVyYVBYKTt2YXIgY2FtZXJhTlg9bmV3IFBlcnNwZWN0aXZlQ2FtZXJhKGZvdixhc3BlY3QsbmVhcixmYXIpO2NhbWVyYU5YLmxheWVycz1fdGhpczE1LmxheWVycztjYW1lcmFOWC51cC5zZXQoMCwtMSwwKTtjYW1lcmFOWC5sb29rQXQobmV3IFZlY3RvcjMoLTEsMCwwKSk7X3RoaXMxNS5hZGQoY2FtZXJhTlgpO3ZhciBjYW1lcmFQWT1uZXcgUGVyc3BlY3RpdmVDYW1lcmEoZm92LGFzcGVjdCxuZWFyLGZhcik7Y2FtZXJhUFkubGF5ZXJzPV90aGlzMTUubGF5ZXJzO2NhbWVyYVBZLnVwLnNldCgwLDAsMSk7Y2FtZXJhUFkubG9va0F0KG5ldyBWZWN0b3IzKDAsMSwwKSk7X3RoaXMxNS5hZGQoY2FtZXJhUFkpO3ZhciBjYW1lcmFOWT1uZXcgUGVyc3BlY3RpdmVDYW1lcmEoZm92LGFzcGVjdCxuZWFyLGZhcik7Y2FtZXJhTlkubGF5ZXJzPV90aGlzMTUubGF5ZXJzO2NhbWVyYU5ZLnVwLnNldCgwLDAsLTEpO2NhbWVyYU5ZLmxvb2tBdChuZXcgVmVjdG9yMygwLC0xLDApKTtfdGhpczE1LmFkZChjYW1lcmFOWSk7dmFyIGNhbWVyYVBaPW5ldyBQZXJzcGVjdGl2ZUNhbWVyYShmb3YsYXNwZWN0LG5lYXIsZmFyKTtjYW1lcmFQWi5sYXllcnM9X3RoaXMxNS5sYXllcnM7Y2FtZXJhUFoudXAuc2V0KDAsLTEsMCk7Y2FtZXJhUFoubG9va0F0KG5ldyBWZWN0b3IzKDAsMCwxKSk7X3RoaXMxNS5hZGQoY2FtZXJhUFopO3ZhciBjYW1lcmFOWj1uZXcgUGVyc3BlY3RpdmVDYW1lcmEoZm92LGFzcGVjdCxuZWFyLGZhcik7Y2FtZXJhTloubGF5ZXJzPV90aGlzMTUubGF5ZXJzO2NhbWVyYU5aLnVwLnNldCgwLC0xLDApO2NhbWVyYU5aLmxvb2tBdChuZXcgVmVjdG9yMygwLDAsLTEpKTtfdGhpczE1LmFkZChjYW1lcmFOWik7cmV0dXJuIF90aGlzMTU7fV9jcmVhdGVDbGFzcyhDdWJlQ2FtZXJhLFt7a2V5OiJ1cGRhdGUiLHZhbHVlOmZ1bmN0aW9uIHVwZGF0ZShyZW5kZXJlcixzY2VuZSl7aWYodGhpcy5wYXJlbnQ9PT1udWxsKXRoaXMudXBkYXRlTWF0cml4V29ybGQoKTt2YXIgcmVuZGVyVGFyZ2V0PXRoaXMucmVuZGVyVGFyZ2V0O3ZhciBfdGhpcyRjaGlsZHJlbj1fc2xpY2VkVG9BcnJheSh0aGlzLmNoaWxkcmVuLDYpLGNhbWVyYVBYPV90aGlzJGNoaWxkcmVuWzBdLGNhbWVyYU5YPV90aGlzJGNoaWxkcmVuWzFdLGNhbWVyYVBZPV90aGlzJGNoaWxkcmVuWzJdLGNhbWVyYU5ZPV90aGlzJGNoaWxkcmVuWzNdLGNhbWVyYVBaPV90aGlzJGNoaWxkcmVuWzRdLGNhbWVyYU5aPV90aGlzJGNoaWxkcmVuWzVdO3ZhciBjdXJyZW50WHJFbmFibGVkPXJlbmRlcmVyLnhyLmVuYWJsZWQ7dmFyIGN1cnJlbnRSZW5kZXJUYXJnZXQ9cmVuZGVyZXIuZ2V0UmVuZGVyVGFyZ2V0KCk7cmVuZGVyZXIueHIuZW5hYmxlZD1mYWxzZTt2YXIgZ2VuZXJhdGVNaXBtYXBzPXJlbmRlclRhcmdldC50ZXh0dXJlLmdlbmVyYXRlTWlwbWFwcztyZW5kZXJUYXJnZXQudGV4dHVyZS5nZW5lcmF0ZU1pcG1hcHM9ZmFsc2U7cmVuZGVyZXIuc2V0UmVuZGVyVGFyZ2V0KHJlbmRlclRhcmdldCwwKTtyZW5kZXJlci5yZW5kZXIoc2NlbmUsY2FtZXJhUFgpO3JlbmRlcmVyLnNldFJlbmRlclRhcmdldChyZW5kZXJUYXJnZXQsMSk7cmVuZGVyZXIucmVuZGVyKHNjZW5lLGNhbWVyYU5YKTtyZW5kZXJlci5zZXRSZW5kZXJUYXJnZXQocmVuZGVyVGFyZ2V0LDIpO3JlbmRlcmVyLnJlbmRlcihzY2VuZSxjYW1lcmFQWSk7cmVuZGVyZXIuc2V0UmVuZGVyVGFyZ2V0KHJlbmRlclRhcmdldCwzKTtyZW5kZXJlci5yZW5kZXIoc2NlbmUsY2FtZXJhTlkpO3JlbmRlcmVyLnNldFJlbmRlclRhcmdldChyZW5kZXJUYXJnZXQsNCk7cmVuZGVyZXIucmVuZGVyKHNjZW5lLGNhbWVyYVBaKTtyZW5kZXJUYXJnZXQudGV4dHVyZS5nZW5lcmF0ZU1pcG1hcHM9Z2VuZXJhdGVNaXBtYXBzO3JlbmRlcmVyLnNldFJlbmRlclRhcmdldChyZW5kZXJUYXJnZXQsNSk7cmVuZGVyZXIucmVuZGVyKHNjZW5lLGNhbWVyYU5aKTtyZW5kZXJlci5zZXRSZW5kZXJUYXJnZXQoY3VycmVudFJlbmRlclRhcmdldCk7cmVuZGVyZXIueHIuZW5hYmxlZD1jdXJyZW50WHJFbmFibGVkO3JlbmRlclRhcmdldC50ZXh0dXJlLm5lZWRzUE1SRU1VcGRhdGU9dHJ1ZTt9fV0pO3JldHVybiBDdWJlQ2FtZXJhO30oT2JqZWN0M0QpO3ZhciBDdWJlVGV4dHVyZT0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX1RleHR1cmUpe19pbmhlcml0cyhDdWJlVGV4dHVyZSxfVGV4dHVyZSk7dmFyIF9zdXBlcjI1PV9jcmVhdGVTdXBlcihDdWJlVGV4dHVyZSk7ZnVuY3Rpb24gQ3ViZVRleHR1cmUoaW1hZ2VzLG1hcHBpbmcsd3JhcFMsd3JhcFQsbWFnRmlsdGVyLG1pbkZpbHRlcixmb3JtYXQsdHlwZSxhbmlzb3Ryb3B5LGVuY29kaW5nKXt2YXIgX3RoaXMxNjtfY2xhc3NDYWxsQ2hlY2sodGhpcyxDdWJlVGV4dHVyZSk7aW1hZ2VzPWltYWdlcyE9PXVuZGVmaW5lZD9pbWFnZXM6W107bWFwcGluZz1tYXBwaW5nIT09dW5kZWZpbmVkP21hcHBpbmc6Q3ViZVJlZmxlY3Rpb25NYXBwaW5nO190aGlzMTY9X3N1cGVyMjUuY2FsbCh0aGlzLGltYWdlcyxtYXBwaW5nLHdyYXBTLHdyYXBULG1hZ0ZpbHRlcixtaW5GaWx0ZXIsZm9ybWF0LHR5cGUsYW5pc290cm9weSxlbmNvZGluZyk7X3RoaXMxNi5mbGlwWT1mYWxzZTtyZXR1cm4gX3RoaXMxNjt9X2NyZWF0ZUNsYXNzKEN1YmVUZXh0dXJlLFt7a2V5OiJpbWFnZXMiLGdldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5pbWFnZTt9LHNldDpmdW5jdGlvbiBzZXQodmFsdWUpe3RoaXMuaW1hZ2U9dmFsdWU7fX1dKTtyZXR1cm4gQ3ViZVRleHR1cmU7fShUZXh0dXJlKTtDdWJlVGV4dHVyZS5wcm90b3R5cGUuaXNDdWJlVGV4dHVyZT10cnVlO3ZhciBXZWJHTEN1YmVSZW5kZXJUYXJnZXQ9LyojX19QVVJFX18qL2Z1bmN0aW9uKF9XZWJHTFJlbmRlclRhcmdldDMpe19pbmhlcml0cyhXZWJHTEN1YmVSZW5kZXJUYXJnZXQsX1dlYkdMUmVuZGVyVGFyZ2V0Myk7dmFyIF9zdXBlcjI2PV9jcmVhdGVTdXBlcihXZWJHTEN1YmVSZW5kZXJUYXJnZXQpO2Z1bmN0aW9uIFdlYkdMQ3ViZVJlbmRlclRhcmdldChzaXplLG9wdGlvbnMsZHVtbXkpe3ZhciBfdGhpczE3O19jbGFzc0NhbGxDaGVjayh0aGlzLFdlYkdMQ3ViZVJlbmRlclRhcmdldCk7aWYoTnVtYmVyLmlzSW50ZWdlcihvcHRpb25zKSl7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTEN1YmVSZW5kZXJUYXJnZXQ6IGNvbnN0cnVjdG9yIHNpZ25hdHVyZSBpcyBub3cgV2ViR0xDdWJlUmVuZGVyVGFyZ2V0KCBzaXplLCBvcHRpb25zICknKTtvcHRpb25zPWR1bW15O31fdGhpczE3PV9zdXBlcjI2LmNhbGwodGhpcyxzaXplLHNpemUsb3B0aW9ucyk7b3B0aW9ucz1vcHRpb25zfHx7fTsvLyBCeSBjb252ZW50aW9uIC0tIGxpa2VseSBiYXNlZCBvbiB0aGUgUmVuZGVyTWFuIHNwZWMgZnJvbSB0aGUgMTk5MCdzIC0tIGN1YmUgbWFwcyBhcmUgc3BlY2lmaWVkIGJ5IFdlYkdMIChhbmQgdGhyZWUuanMpCi8vIGluIGEgY29vcmRpbmF0ZSBzeXN0ZW0gaW4gd2hpY2ggcG9zaXRpdmUteCBpcyB0byB0aGUgcmlnaHQgd2hlbiBsb29raW5nIHVwIHRoZSBwb3NpdGl2ZS16IGF4aXMgLS0gaW4gb3RoZXIgd29yZHMsCi8vIGluIGEgbGVmdC1oYW5kZWQgY29vcmRpbmF0ZSBzeXN0ZW0uIEJ5IGNvbnRpbnVpbmcgdGhpcyBjb252ZW50aW9uLCBwcmVleGlzdGluZyBjdWJlIG1hcHMgY29udGludWVkIHRvIHJlbmRlciBjb3JyZWN0bHkuCi8vIHRocmVlLmpzIHVzZXMgYSByaWdodC1oYW5kZWQgY29vcmRpbmF0ZSBzeXN0ZW0uIFNvIGVudmlyb25tZW50IG1hcHMgdXNlZCBpbiB0aHJlZS5qcyBhcHBlYXIgdG8gaGF2ZSBweCBhbmQgbnggc3dhcHBlZAovLyBhbmQgdGhlIGZsYWcgaXNSZW5kZXJUYXJnZXRUZXh0dXJlIGNvbnRyb2xzIHRoaXMgY29udmVyc2lvbi4gVGhlIGZsaXAgaXMgbm90IHJlcXVpcmVkIHdoZW4gdXNpbmcgV2ViR0xDdWJlUmVuZGVyVGFyZ2V0LnRleHR1cmUKLy8gYXMgYSBjdWJlIHRleHR1cmUgKHRoaXMgaXMgZGV0ZWN0ZWQgd2hlbiBpc1JlbmRlclRhcmdldFRleHR1cmUgaXMgc2V0IHRvIHRydWUgZm9yIGN1YmUgdGV4dHVyZXMpLgpfdGhpczE3LnRleHR1cmU9bmV3IEN1YmVUZXh0dXJlKHVuZGVmaW5lZCxvcHRpb25zLm1hcHBpbmcsb3B0aW9ucy53cmFwUyxvcHRpb25zLndyYXBULG9wdGlvbnMubWFnRmlsdGVyLG9wdGlvbnMubWluRmlsdGVyLG9wdGlvbnMuZm9ybWF0LG9wdGlvbnMudHlwZSxvcHRpb25zLmFuaXNvdHJvcHksb3B0aW9ucy5lbmNvZGluZyk7X3RoaXMxNy50ZXh0dXJlLmlzUmVuZGVyVGFyZ2V0VGV4dHVyZT10cnVlO190aGlzMTcudGV4dHVyZS5nZW5lcmF0ZU1pcG1hcHM9b3B0aW9ucy5nZW5lcmF0ZU1pcG1hcHMhPT11bmRlZmluZWQ/b3B0aW9ucy5nZW5lcmF0ZU1pcG1hcHM6ZmFsc2U7X3RoaXMxNy50ZXh0dXJlLm1pbkZpbHRlcj1vcHRpb25zLm1pbkZpbHRlciE9PXVuZGVmaW5lZD9vcHRpb25zLm1pbkZpbHRlcjpMaW5lYXJGaWx0ZXI7cmV0dXJuIF90aGlzMTc7fV9jcmVhdGVDbGFzcyhXZWJHTEN1YmVSZW5kZXJUYXJnZXQsW3trZXk6ImZyb21FcXVpcmVjdGFuZ3VsYXJUZXh0dXJlIix2YWx1ZTpmdW5jdGlvbiBmcm9tRXF1aXJlY3Rhbmd1bGFyVGV4dHVyZShyZW5kZXJlcix0ZXh0dXJlKXt0aGlzLnRleHR1cmUudHlwZT10ZXh0dXJlLnR5cGU7dGhpcy50ZXh0dXJlLmZvcm1hdD1SR0JBRm9ybWF0Oy8vIHNlZSAjMTg4NTkKdGhpcy50ZXh0dXJlLmVuY29kaW5nPXRleHR1cmUuZW5jb2Rpbmc7dGhpcy50ZXh0dXJlLmdlbmVyYXRlTWlwbWFwcz10ZXh0dXJlLmdlbmVyYXRlTWlwbWFwczt0aGlzLnRleHR1cmUubWluRmlsdGVyPXRleHR1cmUubWluRmlsdGVyO3RoaXMudGV4dHVyZS5tYWdGaWx0ZXI9dGV4dHVyZS5tYWdGaWx0ZXI7dmFyIHNoYWRlcj17dW5pZm9ybXM6e3RFcXVpcmVjdDp7dmFsdWU6bnVsbH19LHZlcnRleFNoYWRlcjovKiBnbHNsICovIlxuXG5cdFx0XHRcdHZhcnlpbmcgdmVjMyB2V29ybGREaXJlY3Rpb247XG5cblx0XHRcdFx0dmVjMyB0cmFuc2Zvcm1EaXJlY3Rpb24oIGluIHZlYzMgZGlyLCBpbiBtYXQ0IG1hdHJpeCApIHtcblxuXHRcdFx0XHRcdHJldHVybiBub3JtYWxpemUoICggbWF0cml4ICogdmVjNCggZGlyLCAwLjAgKSApLnh5eiApO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0XHR2b2lkIG1haW4oKSB7XG5cblx0XHRcdFx0XHR2V29ybGREaXJlY3Rpb24gPSB0cmFuc2Zvcm1EaXJlY3Rpb24oIHBvc2l0aW9uLCBtb2RlbE1hdHJpeCApO1xuXG5cdFx0XHRcdFx0I2luY2x1ZGUgPGJlZ2luX3ZlcnRleD5cblx0XHRcdFx0XHQjaW5jbHVkZSA8cHJvamVjdF92ZXJ0ZXg+XG5cblx0XHRcdFx0fVxuXHRcdFx0IixmcmFnbWVudFNoYWRlcjovKiBnbHNsICovIlxuXG5cdFx0XHRcdHVuaWZvcm0gc2FtcGxlcjJEIHRFcXVpcmVjdDtcblxuXHRcdFx0XHR2YXJ5aW5nIHZlYzMgdldvcmxkRGlyZWN0aW9uO1xuXG5cdFx0XHRcdCNpbmNsdWRlIDxjb21tb24+XG5cblx0XHRcdFx0dm9pZCBtYWluKCkge1xuXG5cdFx0XHRcdFx0dmVjMyBkaXJlY3Rpb24gPSBub3JtYWxpemUoIHZXb3JsZERpcmVjdGlvbiApO1xuXG5cdFx0XHRcdFx0dmVjMiBzYW1wbGVVViA9IGVxdWlyZWN0VXYoIGRpcmVjdGlvbiApO1xuXG5cdFx0XHRcdFx0Z2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKCB0RXF1aXJlY3QsIHNhbXBsZVVWICk7XG5cblx0XHRcdFx0fVxuXHRcdFx0In07dmFyIGdlb21ldHJ5PW5ldyBCb3hHZW9tZXRyeSg1LDUsNSk7dmFyIG1hdGVyaWFsPW5ldyBTaGFkZXJNYXRlcmlhbCh7bmFtZTonQ3ViZW1hcEZyb21FcXVpcmVjdCcsdW5pZm9ybXM6Y2xvbmVVbmlmb3JtcyhzaGFkZXIudW5pZm9ybXMpLHZlcnRleFNoYWRlcjpzaGFkZXIudmVydGV4U2hhZGVyLGZyYWdtZW50U2hhZGVyOnNoYWRlci5mcmFnbWVudFNoYWRlcixzaWRlOkJhY2tTaWRlLGJsZW5kaW5nOk5vQmxlbmRpbmd9KTttYXRlcmlhbC51bmlmb3Jtcy50RXF1aXJlY3QudmFsdWU9dGV4dHVyZTt2YXIgbWVzaD1uZXcgTWVzaChnZW9tZXRyeSxtYXRlcmlhbCk7dmFyIGN1cnJlbnRNaW5GaWx0ZXI9dGV4dHVyZS5taW5GaWx0ZXI7Ly8gQXZvaWQgYmx1cnJlZCBwb2xlcwppZih0ZXh0dXJlLm1pbkZpbHRlcj09PUxpbmVhck1pcG1hcExpbmVhckZpbHRlcil0ZXh0dXJlLm1pbkZpbHRlcj1MaW5lYXJGaWx0ZXI7dmFyIGNhbWVyYT1uZXcgQ3ViZUNhbWVyYSgxLDEwLHRoaXMpO2NhbWVyYS51cGRhdGUocmVuZGVyZXIsbWVzaCk7dGV4dHVyZS5taW5GaWx0ZXI9Y3VycmVudE1pbkZpbHRlcjttZXNoLmdlb21ldHJ5LmRpc3Bvc2UoKTttZXNoLm1hdGVyaWFsLmRpc3Bvc2UoKTtyZXR1cm4gdGhpczt9fSx7a2V5OiJjbGVhciIsdmFsdWU6ZnVuY3Rpb24gY2xlYXIocmVuZGVyZXIsY29sb3IsZGVwdGgsc3RlbmNpbCl7dmFyIGN1cnJlbnRSZW5kZXJUYXJnZXQ9cmVuZGVyZXIuZ2V0UmVuZGVyVGFyZ2V0KCk7Zm9yKHZhciBfaTY3PTA7X2k2Nzw2O19pNjcrKyl7cmVuZGVyZXIuc2V0UmVuZGVyVGFyZ2V0KHRoaXMsX2k2Nyk7cmVuZGVyZXIuY2xlYXIoY29sb3IsZGVwdGgsc3RlbmNpbCk7fXJlbmRlcmVyLnNldFJlbmRlclRhcmdldChjdXJyZW50UmVuZGVyVGFyZ2V0KTt9fV0pO3JldHVybiBXZWJHTEN1YmVSZW5kZXJUYXJnZXQ7fShXZWJHTFJlbmRlclRhcmdldCk7V2ViR0xDdWJlUmVuZGVyVGFyZ2V0LnByb3RvdHlwZS5pc1dlYkdMQ3ViZVJlbmRlclRhcmdldD10cnVlO3ZhciBfdmVjdG9yMT0vKkBfX1BVUkVfXyovbmV3IFZlY3RvcjMoKTt2YXIgX3ZlY3RvcjI9LypAX19QVVJFX18qL25ldyBWZWN0b3IzKCk7dmFyIF9ub3JtYWxNYXRyaXg9LypAX19QVVJFX18qL25ldyBNYXRyaXgzKCk7dmFyIFBsYW5lPS8qI19fUFVSRV9fKi9mdW5jdGlvbigpe2Z1bmN0aW9uIFBsYW5lKCl7dmFyIG5vcm1hbD1hcmd1bWVudHMubGVuZ3RoPjAmJmFyZ3VtZW50c1swXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMF06bmV3IFZlY3RvcjMoMSwwLDApO3ZhciBjb25zdGFudD1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMV06MDtfY2xhc3NDYWxsQ2hlY2sodGhpcyxQbGFuZSk7Ly8gbm9ybWFsIGlzIGFzc3VtZWQgdG8gYmUgbm9ybWFsaXplZAp0aGlzLm5vcm1hbD1ub3JtYWw7dGhpcy5jb25zdGFudD1jb25zdGFudDt9X2NyZWF0ZUNsYXNzKFBsYW5lLFt7a2V5OiJzZXQiLHZhbHVlOmZ1bmN0aW9uIHNldChub3JtYWwsY29uc3RhbnQpe3RoaXMubm9ybWFsLmNvcHkobm9ybWFsKTt0aGlzLmNvbnN0YW50PWNvbnN0YW50O3JldHVybiB0aGlzO319LHtrZXk6InNldENvbXBvbmVudHMiLHZhbHVlOmZ1bmN0aW9uIHNldENvbXBvbmVudHMoeCx5LHosdyl7dGhpcy5ub3JtYWwuc2V0KHgseSx6KTt0aGlzLmNvbnN0YW50PXc7cmV0dXJuIHRoaXM7fX0se2tleToic2V0RnJvbU5vcm1hbEFuZENvcGxhbmFyUG9pbnQiLHZhbHVlOmZ1bmN0aW9uIHNldEZyb21Ob3JtYWxBbmRDb3BsYW5hclBvaW50KG5vcm1hbCxwb2ludCl7dGhpcy5ub3JtYWwuY29weShub3JtYWwpO3RoaXMuY29uc3RhbnQ9LXBvaW50LmRvdCh0aGlzLm5vcm1hbCk7cmV0dXJuIHRoaXM7fX0se2tleToic2V0RnJvbUNvcGxhbmFyUG9pbnRzIix2YWx1ZTpmdW5jdGlvbiBzZXRGcm9tQ29wbGFuYXJQb2ludHMoYSxiLGMpe3ZhciBub3JtYWw9X3ZlY3RvcjEuc3ViVmVjdG9ycyhjLGIpLmNyb3NzKF92ZWN0b3IyLnN1YlZlY3RvcnMoYSxiKSkubm9ybWFsaXplKCk7Ly8gUTogc2hvdWxkIGFuIGVycm9yIGJlIHRocm93biBpZiBub3JtYWwgaXMgemVybyAoZS5nLiBkZWdlbmVyYXRlIHBsYW5lKT8KdGhpcy5zZXRGcm9tTm9ybWFsQW5kQ29wbGFuYXJQb2ludChub3JtYWwsYSk7cmV0dXJuIHRoaXM7fX0se2tleToiY29weSIsdmFsdWU6ZnVuY3Rpb24gY29weShwbGFuZSl7dGhpcy5ub3JtYWwuY29weShwbGFuZS5ub3JtYWwpO3RoaXMuY29uc3RhbnQ9cGxhbmUuY29uc3RhbnQ7cmV0dXJuIHRoaXM7fX0se2tleToibm9ybWFsaXplIix2YWx1ZTpmdW5jdGlvbiBub3JtYWxpemUoKXsvLyBOb3RlOiB3aWxsIGxlYWQgdG8gYSBkaXZpZGUgYnkgemVybyBpZiB0aGUgcGxhbmUgaXMgaW52YWxpZC4KdmFyIGludmVyc2VOb3JtYWxMZW5ndGg9MS4wL3RoaXMubm9ybWFsLmxlbmd0aCgpO3RoaXMubm9ybWFsLm11bHRpcGx5U2NhbGFyKGludmVyc2VOb3JtYWxMZW5ndGgpO3RoaXMuY29uc3RhbnQqPWludmVyc2VOb3JtYWxMZW5ndGg7cmV0dXJuIHRoaXM7fX0se2tleToibmVnYXRlIix2YWx1ZTpmdW5jdGlvbiBuZWdhdGUoKXt0aGlzLmNvbnN0YW50Kj0tMTt0aGlzLm5vcm1hbC5uZWdhdGUoKTtyZXR1cm4gdGhpczt9fSx7a2V5OiJkaXN0YW5jZVRvUG9pbnQiLHZhbHVlOmZ1bmN0aW9uIGRpc3RhbmNlVG9Qb2ludChwb2ludCl7cmV0dXJuIHRoaXMubm9ybWFsLmRvdChwb2ludCkrdGhpcy5jb25zdGFudDt9fSx7a2V5OiJkaXN0YW5jZVRvU3BoZXJlIix2YWx1ZTpmdW5jdGlvbiBkaXN0YW5jZVRvU3BoZXJlKHNwaGVyZSl7cmV0dXJuIHRoaXMuZGlzdGFuY2VUb1BvaW50KHNwaGVyZS5jZW50ZXIpLXNwaGVyZS5yYWRpdXM7fX0se2tleToicHJvamVjdFBvaW50Iix2YWx1ZTpmdW5jdGlvbiBwcm9qZWN0UG9pbnQocG9pbnQsdGFyZ2V0KXtyZXR1cm4gdGFyZ2V0LmNvcHkodGhpcy5ub3JtYWwpLm11bHRpcGx5U2NhbGFyKC10aGlzLmRpc3RhbmNlVG9Qb2ludChwb2ludCkpLmFkZChwb2ludCk7fX0se2tleToiaW50ZXJzZWN0TGluZSIsdmFsdWU6ZnVuY3Rpb24gaW50ZXJzZWN0TGluZShsaW5lLHRhcmdldCl7dmFyIGRpcmVjdGlvbj1saW5lLmRlbHRhKF92ZWN0b3IxKTt2YXIgZGVub21pbmF0b3I9dGhpcy5ub3JtYWwuZG90KGRpcmVjdGlvbik7aWYoZGVub21pbmF0b3I9PT0wKXsvLyBsaW5lIGlzIGNvcGxhbmFyLCByZXR1cm4gb3JpZ2luCmlmKHRoaXMuZGlzdGFuY2VUb1BvaW50KGxpbmUuc3RhcnQpPT09MCl7cmV0dXJuIHRhcmdldC5jb3B5KGxpbmUuc3RhcnQpO30vLyBVbnN1cmUgaWYgdGhpcyBpcyB0aGUgY29ycmVjdCBtZXRob2QgdG8gaGFuZGxlIHRoaXMgY2FzZS4KcmV0dXJuIG51bGw7fXZhciB0PS0obGluZS5zdGFydC5kb3QodGhpcy5ub3JtYWwpK3RoaXMuY29uc3RhbnQpL2Rlbm9taW5hdG9yO2lmKHQ8MHx8dD4xKXtyZXR1cm4gbnVsbDt9cmV0dXJuIHRhcmdldC5jb3B5KGRpcmVjdGlvbikubXVsdGlwbHlTY2FsYXIodCkuYWRkKGxpbmUuc3RhcnQpO319LHtrZXk6ImludGVyc2VjdHNMaW5lIix2YWx1ZTpmdW5jdGlvbiBpbnRlcnNlY3RzTGluZShsaW5lKXsvLyBOb3RlOiB0aGlzIHRlc3RzIGlmIGEgbGluZSBpbnRlcnNlY3RzIHRoZSBwbGFuZSwgbm90IHdoZXRoZXIgaXQgKG9yIGl0cyBlbmQtcG9pbnRzKSBhcmUgY29wbGFuYXIgd2l0aCBpdC4KdmFyIHN0YXJ0U2lnbj10aGlzLmRpc3RhbmNlVG9Qb2ludChsaW5lLnN0YXJ0KTt2YXIgZW5kU2lnbj10aGlzLmRpc3RhbmNlVG9Qb2ludChsaW5lLmVuZCk7cmV0dXJuIHN0YXJ0U2lnbjwwJiZlbmRTaWduPjB8fGVuZFNpZ248MCYmc3RhcnRTaWduPjA7fX0se2tleToiaW50ZXJzZWN0c0JveCIsdmFsdWU6ZnVuY3Rpb24gaW50ZXJzZWN0c0JveChib3gpe3JldHVybiBib3guaW50ZXJzZWN0c1BsYW5lKHRoaXMpO319LHtrZXk6ImludGVyc2VjdHNTcGhlcmUiLHZhbHVlOmZ1bmN0aW9uIGludGVyc2VjdHNTcGhlcmUoc3BoZXJlKXtyZXR1cm4gc3BoZXJlLmludGVyc2VjdHNQbGFuZSh0aGlzKTt9fSx7a2V5OiJjb3BsYW5hclBvaW50Iix2YWx1ZTpmdW5jdGlvbiBjb3BsYW5hclBvaW50KHRhcmdldCl7cmV0dXJuIHRhcmdldC5jb3B5KHRoaXMubm9ybWFsKS5tdWx0aXBseVNjYWxhcigtdGhpcy5jb25zdGFudCk7fX0se2tleToiYXBwbHlNYXRyaXg0Iix2YWx1ZTpmdW5jdGlvbiBhcHBseU1hdHJpeDQobWF0cml4LG9wdGlvbmFsTm9ybWFsTWF0cml4KXt2YXIgbm9ybWFsTWF0cml4PW9wdGlvbmFsTm9ybWFsTWF0cml4fHxfbm9ybWFsTWF0cml4LmdldE5vcm1hbE1hdHJpeChtYXRyaXgpO3ZhciByZWZlcmVuY2VQb2ludD10aGlzLmNvcGxhbmFyUG9pbnQoX3ZlY3RvcjEpLmFwcGx5TWF0cml4NChtYXRyaXgpO3ZhciBub3JtYWw9dGhpcy5ub3JtYWwuYXBwbHlNYXRyaXgzKG5vcm1hbE1hdHJpeCkubm9ybWFsaXplKCk7dGhpcy5jb25zdGFudD0tcmVmZXJlbmNlUG9pbnQuZG90KG5vcm1hbCk7cmV0dXJuIHRoaXM7fX0se2tleToidHJhbnNsYXRlIix2YWx1ZTpmdW5jdGlvbiB0cmFuc2xhdGUob2Zmc2V0KXt0aGlzLmNvbnN0YW50LT1vZmZzZXQuZG90KHRoaXMubm9ybWFsKTtyZXR1cm4gdGhpczt9fSx7a2V5OiJlcXVhbHMiLHZhbHVlOmZ1bmN0aW9uIGVxdWFscyhwbGFuZSl7cmV0dXJuIHBsYW5lLm5vcm1hbC5lcXVhbHModGhpcy5ub3JtYWwpJiZwbGFuZS5jb25zdGFudD09PXRoaXMuY29uc3RhbnQ7fX0se2tleToiY2xvbmUiLHZhbHVlOmZ1bmN0aW9uIGNsb25lKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKCkuY29weSh0aGlzKTt9fV0pO3JldHVybiBQbGFuZTt9KCk7UGxhbmUucHJvdG90eXBlLmlzUGxhbmU9dHJ1ZTt2YXIgX3NwaGVyZSQyPS8qQF9fUFVSRV9fKi9uZXcgU3BoZXJlKCk7dmFyIF92ZWN0b3IkNz0vKkBfX1BVUkVfXyovbmV3IFZlY3RvcjMoKTt2YXIgRnJ1c3R1bT0vKiNfX1BVUkVfXyovZnVuY3Rpb24oKXtmdW5jdGlvbiBGcnVzdHVtKCl7dmFyIHAwPWFyZ3VtZW50cy5sZW5ndGg+MCYmYXJndW1lbnRzWzBdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1swXTpuZXcgUGxhbmUoKTt2YXIgcDE9YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzFdOm5ldyBQbGFuZSgpO3ZhciBwMj1hcmd1bWVudHMubGVuZ3RoPjImJmFyZ3VtZW50c1syXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMl06bmV3IFBsYW5lKCk7dmFyIHAzPWFyZ3VtZW50cy5sZW5ndGg+MyYmYXJndW1lbnRzWzNdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1szXTpuZXcgUGxhbmUoKTt2YXIgcDQ9YXJndW1lbnRzLmxlbmd0aD40JiZhcmd1bWVudHNbNF0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzRdOm5ldyBQbGFuZSgpO3ZhciBwNT1hcmd1bWVudHMubGVuZ3RoPjUmJmFyZ3VtZW50c1s1XSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbNV06bmV3IFBsYW5lKCk7X2NsYXNzQ2FsbENoZWNrKHRoaXMsRnJ1c3R1bSk7dGhpcy5wbGFuZXM9W3AwLHAxLHAyLHAzLHA0LHA1XTt9X2NyZWF0ZUNsYXNzKEZydXN0dW0sW3trZXk6InNldCIsdmFsdWU6ZnVuY3Rpb24gc2V0KHAwLHAxLHAyLHAzLHA0LHA1KXt2YXIgcGxhbmVzPXRoaXMucGxhbmVzO3BsYW5lc1swXS5jb3B5KHAwKTtwbGFuZXNbMV0uY29weShwMSk7cGxhbmVzWzJdLmNvcHkocDIpO3BsYW5lc1szXS5jb3B5KHAzKTtwbGFuZXNbNF0uY29weShwNCk7cGxhbmVzWzVdLmNvcHkocDUpO3JldHVybiB0aGlzO319LHtrZXk6ImNvcHkiLHZhbHVlOmZ1bmN0aW9uIGNvcHkoZnJ1c3R1bSl7dmFyIHBsYW5lcz10aGlzLnBsYW5lcztmb3IodmFyIF9pNjg9MDtfaTY4PDY7X2k2OCsrKXtwbGFuZXNbX2k2OF0uY29weShmcnVzdHVtLnBsYW5lc1tfaTY4XSk7fXJldHVybiB0aGlzO319LHtrZXk6InNldEZyb21Qcm9qZWN0aW9uTWF0cml4Iix2YWx1ZTpmdW5jdGlvbiBzZXRGcm9tUHJvamVjdGlvbk1hdHJpeChtKXt2YXIgcGxhbmVzPXRoaXMucGxhbmVzO3ZhciBtZT1tLmVsZW1lbnRzO3ZhciBtZTA9bWVbMF0sbWUxPW1lWzFdLG1lMj1tZVsyXSxtZTM9bWVbM107dmFyIG1lND1tZVs0XSxtZTU9bWVbNV0sbWU2PW1lWzZdLG1lNz1tZVs3XTt2YXIgbWU4PW1lWzhdLG1lOT1tZVs5XSxtZTEwPW1lWzEwXSxtZTExPW1lWzExXTt2YXIgbWUxMj1tZVsxMl0sbWUxMz1tZVsxM10sbWUxND1tZVsxNF0sbWUxNT1tZVsxNV07cGxhbmVzWzBdLnNldENvbXBvbmVudHMobWUzLW1lMCxtZTctbWU0LG1lMTEtbWU4LG1lMTUtbWUxMikubm9ybWFsaXplKCk7cGxhbmVzWzFdLnNldENvbXBvbmVudHMobWUzK21lMCxtZTcrbWU0LG1lMTErbWU4LG1lMTUrbWUxMikubm9ybWFsaXplKCk7cGxhbmVzWzJdLnNldENvbXBvbmVudHMobWUzK21lMSxtZTcrbWU1LG1lMTErbWU5LG1lMTUrbWUxMykubm9ybWFsaXplKCk7cGxhbmVzWzNdLnNldENvbXBvbmVudHMobWUzLW1lMSxtZTctbWU1LG1lMTEtbWU5LG1lMTUtbWUxMykubm9ybWFsaXplKCk7cGxhbmVzWzRdLnNldENvbXBvbmVudHMobWUzLW1lMixtZTctbWU2LG1lMTEtbWUxMCxtZTE1LW1lMTQpLm5vcm1hbGl6ZSgpO3BsYW5lc1s1XS5zZXRDb21wb25lbnRzKG1lMyttZTIsbWU3K21lNixtZTExK21lMTAsbWUxNSttZTE0KS5ub3JtYWxpemUoKTtyZXR1cm4gdGhpczt9fSx7a2V5OiJpbnRlcnNlY3RzT2JqZWN0Iix2YWx1ZTpmdW5jdGlvbiBpbnRlcnNlY3RzT2JqZWN0KG9iamVjdCl7dmFyIGdlb21ldHJ5PW9iamVjdC5nZW9tZXRyeTtpZihnZW9tZXRyeS5ib3VuZGluZ1NwaGVyZT09PW51bGwpZ2VvbWV0cnkuY29tcHV0ZUJvdW5kaW5nU3BoZXJlKCk7X3NwaGVyZSQyLmNvcHkoZ2VvbWV0cnkuYm91bmRpbmdTcGhlcmUpLmFwcGx5TWF0cml4NChvYmplY3QubWF0cml4V29ybGQpO3JldHVybiB0aGlzLmludGVyc2VjdHNTcGhlcmUoX3NwaGVyZSQyKTt9fSx7a2V5OiJpbnRlcnNlY3RzU3ByaXRlIix2YWx1ZTpmdW5jdGlvbiBpbnRlcnNlY3RzU3ByaXRlKHNwcml0ZSl7X3NwaGVyZSQyLmNlbnRlci5zZXQoMCwwLDApO19zcGhlcmUkMi5yYWRpdXM9MC43MDcxMDY3ODExODY1NDc2O19zcGhlcmUkMi5hcHBseU1hdHJpeDQoc3ByaXRlLm1hdHJpeFdvcmxkKTtyZXR1cm4gdGhpcy5pbnRlcnNlY3RzU3BoZXJlKF9zcGhlcmUkMik7fX0se2tleToiaW50ZXJzZWN0c1NwaGVyZSIsdmFsdWU6ZnVuY3Rpb24gaW50ZXJzZWN0c1NwaGVyZShzcGhlcmUpe3ZhciBwbGFuZXM9dGhpcy5wbGFuZXM7dmFyIGNlbnRlcj1zcGhlcmUuY2VudGVyO3ZhciBuZWdSYWRpdXM9LXNwaGVyZS5yYWRpdXM7Zm9yKHZhciBfaTY5PTA7X2k2OTw2O19pNjkrKyl7dmFyIGRpc3RhbmNlPXBsYW5lc1tfaTY5XS5kaXN0YW5jZVRvUG9pbnQoY2VudGVyKTtpZihkaXN0YW5jZTxuZWdSYWRpdXMpe3JldHVybiBmYWxzZTt9fXJldHVybiB0cnVlO319LHtrZXk6ImludGVyc2VjdHNCb3giLHZhbHVlOmZ1bmN0aW9uIGludGVyc2VjdHNCb3goYm94KXt2YXIgcGxhbmVzPXRoaXMucGxhbmVzO2Zvcih2YXIgX2k3MD0wO19pNzA8NjtfaTcwKyspe3ZhciBwbGFuZT1wbGFuZXNbX2k3MF07Ly8gY29ybmVyIGF0IG1heCBkaXN0YW5jZQpfdmVjdG9yJDcueD1wbGFuZS5ub3JtYWwueD4wP2JveC5tYXgueDpib3gubWluLng7X3ZlY3RvciQ3Lnk9cGxhbmUubm9ybWFsLnk+MD9ib3gubWF4Lnk6Ym94Lm1pbi55O192ZWN0b3IkNy56PXBsYW5lLm5vcm1hbC56PjA/Ym94Lm1heC56OmJveC5taW4uejtpZihwbGFuZS5kaXN0YW5jZVRvUG9pbnQoX3ZlY3RvciQ3KTwwKXtyZXR1cm4gZmFsc2U7fX1yZXR1cm4gdHJ1ZTt9fSx7a2V5OiJjb250YWluc1BvaW50Iix2YWx1ZTpmdW5jdGlvbiBjb250YWluc1BvaW50KHBvaW50KXt2YXIgcGxhbmVzPXRoaXMucGxhbmVzO2Zvcih2YXIgX2k3MT0wO19pNzE8NjtfaTcxKyspe2lmKHBsYW5lc1tfaTcxXS5kaXN0YW5jZVRvUG9pbnQocG9pbnQpPDApe3JldHVybiBmYWxzZTt9fXJldHVybiB0cnVlO319LHtrZXk6ImNsb25lIix2YWx1ZTpmdW5jdGlvbiBjbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcigpLmNvcHkodGhpcyk7fX1dKTtyZXR1cm4gRnJ1c3R1bTt9KCk7ZnVuY3Rpb24gV2ViR0xBbmltYXRpb24oKXt2YXIgY29udGV4dD1udWxsO3ZhciBpc0FuaW1hdGluZz1mYWxzZTt2YXIgYW5pbWF0aW9uTG9vcD1udWxsO3ZhciByZXF1ZXN0SWQ9bnVsbDtmdW5jdGlvbiBvbkFuaW1hdGlvbkZyYW1lKHRpbWUsZnJhbWUpe2FuaW1hdGlvbkxvb3AodGltZSxmcmFtZSk7cmVxdWVzdElkPWNvbnRleHQucmVxdWVzdEFuaW1hdGlvbkZyYW1lKG9uQW5pbWF0aW9uRnJhbWUpO31yZXR1cm57c3RhcnQ6ZnVuY3Rpb24gc3RhcnQoKXtpZihpc0FuaW1hdGluZz09PXRydWUpcmV0dXJuO2lmKGFuaW1hdGlvbkxvb3A9PT1udWxsKXJldHVybjtyZXF1ZXN0SWQ9Y29udGV4dC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUob25BbmltYXRpb25GcmFtZSk7aXNBbmltYXRpbmc9dHJ1ZTt9LHN0b3A6ZnVuY3Rpb24gc3RvcCgpe2NvbnRleHQuY2FuY2VsQW5pbWF0aW9uRnJhbWUocmVxdWVzdElkKTtpc0FuaW1hdGluZz1mYWxzZTt9LHNldEFuaW1hdGlvbkxvb3A6ZnVuY3Rpb24gc2V0QW5pbWF0aW9uTG9vcChjYWxsYmFjayl7YW5pbWF0aW9uTG9vcD1jYWxsYmFjazt9LHNldENvbnRleHQ6ZnVuY3Rpb24gc2V0Q29udGV4dCh2YWx1ZSl7Y29udGV4dD12YWx1ZTt9fTt9ZnVuY3Rpb24gV2ViR0xBdHRyaWJ1dGVzKGdsLGNhcGFiaWxpdGllcyl7dmFyIGlzV2ViR0wyPWNhcGFiaWxpdGllcy5pc1dlYkdMMjt2YXIgYnVmZmVycz1uZXcgV2Vha01hcCgpO2Z1bmN0aW9uIGNyZWF0ZUJ1ZmZlcihhdHRyaWJ1dGUsYnVmZmVyVHlwZSl7dmFyIGFycmF5PWF0dHJpYnV0ZS5hcnJheTt2YXIgdXNhZ2U9YXR0cmlidXRlLnVzYWdlO3ZhciBidWZmZXI9Z2wuY3JlYXRlQnVmZmVyKCk7Z2wuYmluZEJ1ZmZlcihidWZmZXJUeXBlLGJ1ZmZlcik7Z2wuYnVmZmVyRGF0YShidWZmZXJUeXBlLGFycmF5LHVzYWdlKTthdHRyaWJ1dGUub25VcGxvYWRDYWxsYmFjaygpO3ZhciB0eXBlPTUxMjY7aWYoYXJyYXkgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkpe3R5cGU9NTEyNjt9ZWxzZSBpZihhcnJheSBpbnN0YW5jZW9mIEZsb2F0NjRBcnJheSl7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTEF0dHJpYnV0ZXM6IFVuc3VwcG9ydGVkIGRhdGEgYnVmZmVyIGZvcm1hdDogRmxvYXQ2NEFycmF5LicpO31lbHNlIGlmKGFycmF5IGluc3RhbmNlb2YgVWludDE2QXJyYXkpe2lmKGF0dHJpYnV0ZS5pc0Zsb2F0MTZCdWZmZXJBdHRyaWJ1dGUpe2lmKGlzV2ViR0wyKXt0eXBlPTUxMzE7fWVsc2V7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTEF0dHJpYnV0ZXM6IFVzYWdlIG9mIEZsb2F0MTZCdWZmZXJBdHRyaWJ1dGUgcmVxdWlyZXMgV2ViR0wyLicpO319ZWxzZXt0eXBlPTUxMjM7fX1lbHNlIGlmKGFycmF5IGluc3RhbmNlb2YgSW50MTZBcnJheSl7dHlwZT01MTIyO31lbHNlIGlmKGFycmF5IGluc3RhbmNlb2YgVWludDMyQXJyYXkpe3R5cGU9NTEyNTt9ZWxzZSBpZihhcnJheSBpbnN0YW5jZW9mIEludDMyQXJyYXkpe3R5cGU9NTEyNDt9ZWxzZSBpZihhcnJheSBpbnN0YW5jZW9mIEludDhBcnJheSl7dHlwZT01MTIwO31lbHNlIGlmKGFycmF5IGluc3RhbmNlb2YgVWludDhBcnJheSl7dHlwZT01MTIxO31lbHNlIGlmKGFycmF5IGluc3RhbmNlb2YgVWludDhDbGFtcGVkQXJyYXkpe3R5cGU9NTEyMTt9cmV0dXJue2J1ZmZlcjpidWZmZXIsdHlwZTp0eXBlLGJ5dGVzUGVyRWxlbWVudDphcnJheS5CWVRFU19QRVJfRUxFTUVOVCx2ZXJzaW9uOmF0dHJpYnV0ZS52ZXJzaW9ufTt9ZnVuY3Rpb24gdXBkYXRlQnVmZmVyKGJ1ZmZlcixhdHRyaWJ1dGUsYnVmZmVyVHlwZSl7dmFyIGFycmF5PWF0dHJpYnV0ZS5hcnJheTt2YXIgdXBkYXRlUmFuZ2U9YXR0cmlidXRlLnVwZGF0ZVJhbmdlO2dsLmJpbmRCdWZmZXIoYnVmZmVyVHlwZSxidWZmZXIpO2lmKHVwZGF0ZVJhbmdlLmNvdW50PT09LTEpey8vIE5vdCB1c2luZyB1cGRhdGUgcmFuZ2VzCmdsLmJ1ZmZlclN1YkRhdGEoYnVmZmVyVHlwZSwwLGFycmF5KTt9ZWxzZXtpZihpc1dlYkdMMil7Z2wuYnVmZmVyU3ViRGF0YShidWZmZXJUeXBlLHVwZGF0ZVJhbmdlLm9mZnNldCphcnJheS5CWVRFU19QRVJfRUxFTUVOVCxhcnJheSx1cGRhdGVSYW5nZS5vZmZzZXQsdXBkYXRlUmFuZ2UuY291bnQpO31lbHNle2dsLmJ1ZmZlclN1YkRhdGEoYnVmZmVyVHlwZSx1cGRhdGVSYW5nZS5vZmZzZXQqYXJyYXkuQllURVNfUEVSX0VMRU1FTlQsYXJyYXkuc3ViYXJyYXkodXBkYXRlUmFuZ2Uub2Zmc2V0LHVwZGF0ZVJhbmdlLm9mZnNldCt1cGRhdGVSYW5nZS5jb3VudCkpO311cGRhdGVSYW5nZS5jb3VudD0tMTsvLyByZXNldCByYW5nZQp9fS8vCmZ1bmN0aW9uIGdldChhdHRyaWJ1dGUpe2lmKGF0dHJpYnV0ZS5pc0ludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlKWF0dHJpYnV0ZT1hdHRyaWJ1dGUuZGF0YTtyZXR1cm4gYnVmZmVycy5nZXQoYXR0cmlidXRlKTt9ZnVuY3Rpb24gcmVtb3ZlKGF0dHJpYnV0ZSl7aWYoYXR0cmlidXRlLmlzSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGUpYXR0cmlidXRlPWF0dHJpYnV0ZS5kYXRhO3ZhciBkYXRhPWJ1ZmZlcnMuZ2V0KGF0dHJpYnV0ZSk7aWYoZGF0YSl7Z2wuZGVsZXRlQnVmZmVyKGRhdGEuYnVmZmVyKTtidWZmZXJzLmRlbGV0ZShhdHRyaWJ1dGUpO319ZnVuY3Rpb24gdXBkYXRlKGF0dHJpYnV0ZSxidWZmZXJUeXBlKXtpZihhdHRyaWJ1dGUuaXNHTEJ1ZmZlckF0dHJpYnV0ZSl7dmFyIGNhY2hlZD1idWZmZXJzLmdldChhdHRyaWJ1dGUpO2lmKCFjYWNoZWR8fGNhY2hlZC52ZXJzaW9uPGF0dHJpYnV0ZS52ZXJzaW9uKXtidWZmZXJzLnNldChhdHRyaWJ1dGUse2J1ZmZlcjphdHRyaWJ1dGUuYnVmZmVyLHR5cGU6YXR0cmlidXRlLnR5cGUsYnl0ZXNQZXJFbGVtZW50OmF0dHJpYnV0ZS5lbGVtZW50U2l6ZSx2ZXJzaW9uOmF0dHJpYnV0ZS52ZXJzaW9ufSk7fXJldHVybjt9aWYoYXR0cmlidXRlLmlzSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGUpYXR0cmlidXRlPWF0dHJpYnV0ZS5kYXRhO3ZhciBkYXRhPWJ1ZmZlcnMuZ2V0KGF0dHJpYnV0ZSk7aWYoZGF0YT09PXVuZGVmaW5lZCl7YnVmZmVycy5zZXQoYXR0cmlidXRlLGNyZWF0ZUJ1ZmZlcihhdHRyaWJ1dGUsYnVmZmVyVHlwZSkpO31lbHNlIGlmKGRhdGEudmVyc2lvbjxhdHRyaWJ1dGUudmVyc2lvbil7dXBkYXRlQnVmZmVyKGRhdGEuYnVmZmVyLGF0dHJpYnV0ZSxidWZmZXJUeXBlKTtkYXRhLnZlcnNpb249YXR0cmlidXRlLnZlcnNpb247fX1yZXR1cm57Z2V0OmdldCxyZW1vdmU6cmVtb3ZlLHVwZGF0ZTp1cGRhdGV9O312YXIgUGxhbmVHZW9tZXRyeT0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX0J1ZmZlckdlb21ldHJ5Mil7X2luaGVyaXRzKFBsYW5lR2VvbWV0cnksX0J1ZmZlckdlb21ldHJ5Mik7dmFyIF9zdXBlcjI3PV9jcmVhdGVTdXBlcihQbGFuZUdlb21ldHJ5KTtmdW5jdGlvbiBQbGFuZUdlb21ldHJ5KCl7dmFyIF90aGlzMTg7dmFyIHdpZHRoPWFyZ3VtZW50cy5sZW5ndGg+MCYmYXJndW1lbnRzWzBdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1swXToxO3ZhciBoZWlnaHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzFdOjE7dmFyIHdpZHRoU2VnbWVudHM9YXJndW1lbnRzLmxlbmd0aD4yJiZhcmd1bWVudHNbMl0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzJdOjE7dmFyIGhlaWdodFNlZ21lbnRzPWFyZ3VtZW50cy5sZW5ndGg+MyYmYXJndW1lbnRzWzNdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1szXToxO19jbGFzc0NhbGxDaGVjayh0aGlzLFBsYW5lR2VvbWV0cnkpO190aGlzMTg9X3N1cGVyMjcuY2FsbCh0aGlzKTtfdGhpczE4LnR5cGU9J1BsYW5lR2VvbWV0cnknO190aGlzMTgucGFyYW1ldGVycz17d2lkdGg6d2lkdGgsaGVpZ2h0OmhlaWdodCx3aWR0aFNlZ21lbnRzOndpZHRoU2VnbWVudHMsaGVpZ2h0U2VnbWVudHM6aGVpZ2h0U2VnbWVudHN9O3ZhciB3aWR0aF9oYWxmPXdpZHRoLzI7dmFyIGhlaWdodF9oYWxmPWhlaWdodC8yO3ZhciBncmlkWD1NYXRoLmZsb29yKHdpZHRoU2VnbWVudHMpO3ZhciBncmlkWT1NYXRoLmZsb29yKGhlaWdodFNlZ21lbnRzKTt2YXIgZ3JpZFgxPWdyaWRYKzE7dmFyIGdyaWRZMT1ncmlkWSsxO3ZhciBzZWdtZW50X3dpZHRoPXdpZHRoL2dyaWRYO3ZhciBzZWdtZW50X2hlaWdodD1oZWlnaHQvZ3JpZFk7Ly8KdmFyIGluZGljZXM9W107dmFyIHZlcnRpY2VzPVtdO3ZhciBub3JtYWxzPVtdO3ZhciB1dnM9W107Zm9yKHZhciBpeT0wO2l5PGdyaWRZMTtpeSsrKXt2YXIgeT1peSpzZWdtZW50X2hlaWdodC1oZWlnaHRfaGFsZjtmb3IodmFyIGl4PTA7aXg8Z3JpZFgxO2l4Kyspe3ZhciB4PWl4KnNlZ21lbnRfd2lkdGgtd2lkdGhfaGFsZjt2ZXJ0aWNlcy5wdXNoKHgsLXksMCk7bm9ybWFscy5wdXNoKDAsMCwxKTt1dnMucHVzaChpeC9ncmlkWCk7dXZzLnB1c2goMS1peS9ncmlkWSk7fX1mb3IodmFyIF9peTI9MDtfaXkyPGdyaWRZO19peTIrKyl7Zm9yKHZhciBfaXgyPTA7X2l4MjxncmlkWDtfaXgyKyspe3ZhciBhPV9peDIrZ3JpZFgxKl9peTI7dmFyIGI9X2l4MitncmlkWDEqKF9peTIrMSk7dmFyIGM9X2l4MisxK2dyaWRYMSooX2l5MisxKTt2YXIgZD1faXgyKzErZ3JpZFgxKl9peTI7aW5kaWNlcy5wdXNoKGEsYixkKTtpbmRpY2VzLnB1c2goYixjLGQpO319X3RoaXMxOC5zZXRJbmRleChpbmRpY2VzKTtfdGhpczE4LnNldEF0dHJpYnV0ZSgncG9zaXRpb24nLG5ldyBGbG9hdDMyQnVmZmVyQXR0cmlidXRlKHZlcnRpY2VzLDMpKTtfdGhpczE4LnNldEF0dHJpYnV0ZSgnbm9ybWFsJyxuZXcgRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZShub3JtYWxzLDMpKTtfdGhpczE4LnNldEF0dHJpYnV0ZSgndXYnLG5ldyBGbG9hdDMyQnVmZmVyQXR0cmlidXRlKHV2cywyKSk7cmV0dXJuIF90aGlzMTg7fV9jcmVhdGVDbGFzcyhQbGFuZUdlb21ldHJ5LG51bGwsW3trZXk6ImZyb21KU09OIix2YWx1ZTpmdW5jdGlvbiBmcm9tSlNPTihkYXRhKXtyZXR1cm4gbmV3IFBsYW5lR2VvbWV0cnkoZGF0YS53aWR0aCxkYXRhLmhlaWdodCxkYXRhLndpZHRoU2VnbWVudHMsZGF0YS5oZWlnaHRTZWdtZW50cyk7fX1dKTtyZXR1cm4gUGxhbmVHZW9tZXRyeTt9KEJ1ZmZlckdlb21ldHJ5KTt2YXIgYWxwaGFtYXBfZnJhZ21lbnQ9IiNpZmRlZiBVU0VfQUxQSEFNQVBcblx0ZGlmZnVzZUNvbG9yLmEgKj0gdGV4dHVyZTJEKCBhbHBoYU1hcCwgdlV2ICkuZztcbiNlbmRpZiI7dmFyIGFscGhhbWFwX3BhcnNfZnJhZ21lbnQ9IiNpZmRlZiBVU0VfQUxQSEFNQVBcblx0dW5pZm9ybSBzYW1wbGVyMkQgYWxwaGFNYXA7XG4jZW5kaWYiO3ZhciBhbHBoYXRlc3RfZnJhZ21lbnQ9IiNpZmRlZiBVU0VfQUxQSEFURVNUXG5cdGlmICggZGlmZnVzZUNvbG9yLmEgPCBhbHBoYVRlc3QgKSBkaXNjYXJkO1xuI2VuZGlmIjt2YXIgYWxwaGF0ZXN0X3BhcnNfZnJhZ21lbnQ9IiNpZmRlZiBVU0VfQUxQSEFURVNUXG5cdHVuaWZvcm0gZmxvYXQgYWxwaGFUZXN0O1xuI2VuZGlmIjt2YXIgYW9tYXBfZnJhZ21lbnQ9IiNpZmRlZiBVU0VfQU9NQVBcblx0ZmxvYXQgYW1iaWVudE9jY2x1c2lvbiA9ICggdGV4dHVyZTJEKCBhb01hcCwgdlV2MiApLnIgLSAxLjAgKSAqIGFvTWFwSW50ZW5zaXR5ICsgMS4wO1xuXHRyZWZsZWN0ZWRMaWdodC5pbmRpcmVjdERpZmZ1c2UgKj0gYW1iaWVudE9jY2x1c2lvbjtcblx0I2lmIGRlZmluZWQoIFVTRV9FTlZNQVAgKSAmJiBkZWZpbmVkKCBTVEFOREFSRCApXG5cdFx0ZmxvYXQgZG90TlYgPSBzYXR1cmF0ZSggZG90KCBnZW9tZXRyeS5ub3JtYWwsIGdlb21ldHJ5LnZpZXdEaXIgKSApO1xuXHRcdHJlZmxlY3RlZExpZ2h0LmluZGlyZWN0U3BlY3VsYXIgKj0gY29tcHV0ZVNwZWN1bGFyT2NjbHVzaW9uKCBkb3ROViwgYW1iaWVudE9jY2x1c2lvbiwgbWF0ZXJpYWwucm91Z2huZXNzICk7XG5cdCNlbmRpZlxuI2VuZGlmIjt2YXIgYW9tYXBfcGFyc19mcmFnbWVudD0iI2lmZGVmIFVTRV9BT01BUFxuXHR1bmlmb3JtIHNhbXBsZXIyRCBhb01hcDtcblx0dW5pZm9ybSBmbG9hdCBhb01hcEludGVuc2l0eTtcbiNlbmRpZiI7dmFyIGJlZ2luX3ZlcnRleD0idmVjMyB0cmFuc2Zvcm1lZCA9IHZlYzMoIHBvc2l0aW9uICk7Ijt2YXIgYmVnaW5ub3JtYWxfdmVydGV4PSJ2ZWMzIG9iamVjdE5vcm1hbCA9IHZlYzMoIG5vcm1hbCApO1xuI2lmZGVmIFVTRV9UQU5HRU5UXG5cdHZlYzMgb2JqZWN0VGFuZ2VudCA9IHZlYzMoIHRhbmdlbnQueHl6ICk7XG4jZW5kaWYiO3ZhciBic2Rmcz0idmVjMyBCUkRGX0xhbWJlcnQoIGNvbnN0IGluIHZlYzMgZGlmZnVzZUNvbG9yICkge1xuXHRyZXR1cm4gUkVDSVBST0NBTF9QSSAqIGRpZmZ1c2VDb2xvcjtcbn1cbnZlYzMgRl9TY2hsaWNrKCBjb25zdCBpbiB2ZWMzIGYwLCBjb25zdCBpbiBmbG9hdCBmOTAsIGNvbnN0IGluIGZsb2F0IGRvdFZIICkge1xuXHRmbG9hdCBmcmVzbmVsID0gZXhwMiggKCAtIDUuNTU0NzMgKiBkb3RWSCAtIDYuOTgzMTYgKSAqIGRvdFZIICk7XG5cdHJldHVybiBmMCAqICggMS4wIC0gZnJlc25lbCApICsgKCBmOTAgKiBmcmVzbmVsICk7XG59XG5mbG9hdCBWX0dHWF9TbWl0aENvcnJlbGF0ZWQoIGNvbnN0IGluIGZsb2F0IGFscGhhLCBjb25zdCBpbiBmbG9hdCBkb3ROTCwgY29uc3QgaW4gZmxvYXQgZG90TlYgKSB7XG5cdGZsb2F0IGEyID0gcG93MiggYWxwaGEgKTtcblx0ZmxvYXQgZ3YgPSBkb3ROTCAqIHNxcnQoIGEyICsgKCAxLjAgLSBhMiApICogcG93MiggZG90TlYgKSApO1xuXHRmbG9hdCBnbCA9IGRvdE5WICogc3FydCggYTIgKyAoIDEuMCAtIGEyICkgKiBwb3cyKCBkb3ROTCApICk7XG5cdHJldHVybiAwLjUgLyBtYXgoIGd2ICsgZ2wsIEVQU0lMT04gKTtcbn1cbmZsb2F0IERfR0dYKCBjb25zdCBpbiBmbG9hdCBhbHBoYSwgY29uc3QgaW4gZmxvYXQgZG90TkggKSB7XG5cdGZsb2F0IGEyID0gcG93MiggYWxwaGEgKTtcblx0ZmxvYXQgZGVub20gPSBwb3cyKCBkb3ROSCApICogKCBhMiAtIDEuMCApICsgMS4wO1xuXHRyZXR1cm4gUkVDSVBST0NBTF9QSSAqIGEyIC8gcG93MiggZGVub20gKTtcbn1cbnZlYzMgQlJERl9HR1goIGNvbnN0IGluIHZlYzMgbGlnaHREaXIsIGNvbnN0IGluIHZlYzMgdmlld0RpciwgY29uc3QgaW4gdmVjMyBub3JtYWwsIGNvbnN0IGluIHZlYzMgZjAsIGNvbnN0IGluIGZsb2F0IGY5MCwgY29uc3QgaW4gZmxvYXQgcm91Z2huZXNzICkge1xuXHRmbG9hdCBhbHBoYSA9IHBvdzIoIHJvdWdobmVzcyApO1xuXHR2ZWMzIGhhbGZEaXIgPSBub3JtYWxpemUoIGxpZ2h0RGlyICsgdmlld0RpciApO1xuXHRmbG9hdCBkb3ROTCA9IHNhdHVyYXRlKCBkb3QoIG5vcm1hbCwgbGlnaHREaXIgKSApO1xuXHRmbG9hdCBkb3ROViA9IHNhdHVyYXRlKCBkb3QoIG5vcm1hbCwgdmlld0RpciApICk7XG5cdGZsb2F0IGRvdE5IID0gc2F0dXJhdGUoIGRvdCggbm9ybWFsLCBoYWxmRGlyICkgKTtcblx0ZmxvYXQgZG90VkggPSBzYXR1cmF0ZSggZG90KCB2aWV3RGlyLCBoYWxmRGlyICkgKTtcblx0dmVjMyBGID0gRl9TY2hsaWNrKCBmMCwgZjkwLCBkb3RWSCApO1xuXHRmbG9hdCBWID0gVl9HR1hfU21pdGhDb3JyZWxhdGVkKCBhbHBoYSwgZG90TkwsIGRvdE5WICk7XG5cdGZsb2F0IEQgPSBEX0dHWCggYWxwaGEsIGRvdE5IICk7XG5cdHJldHVybiBGICogKCBWICogRCApO1xufVxudmVjMiBMVENfVXYoIGNvbnN0IGluIHZlYzMgTiwgY29uc3QgaW4gdmVjMyBWLCBjb25zdCBpbiBmbG9hdCByb3VnaG5lc3MgKSB7XG5cdGNvbnN0IGZsb2F0IExVVF9TSVpFID0gNjQuMDtcblx0Y29uc3QgZmxvYXQgTFVUX1NDQUxFID0gKCBMVVRfU0laRSAtIDEuMCApIC8gTFVUX1NJWkU7XG5cdGNvbnN0IGZsb2F0IExVVF9CSUFTID0gMC41IC8gTFVUX1NJWkU7XG5cdGZsb2F0IGRvdE5WID0gc2F0dXJhdGUoIGRvdCggTiwgViApICk7XG5cdHZlYzIgdXYgPSB2ZWMyKCByb3VnaG5lc3MsIHNxcnQoIDEuMCAtIGRvdE5WICkgKTtcblx0dXYgPSB1diAqIExVVF9TQ0FMRSArIExVVF9CSUFTO1xuXHRyZXR1cm4gdXY7XG59XG5mbG9hdCBMVENfQ2xpcHBlZFNwaGVyZUZvcm1GYWN0b3IoIGNvbnN0IGluIHZlYzMgZiApIHtcblx0ZmxvYXQgbCA9IGxlbmd0aCggZiApO1xuXHRyZXR1cm4gbWF4KCAoIGwgKiBsICsgZi56ICkgLyAoIGwgKyAxLjAgKSwgMC4wICk7XG59XG52ZWMzIExUQ19FZGdlVmVjdG9yRm9ybUZhY3RvciggY29uc3QgaW4gdmVjMyB2MSwgY29uc3QgaW4gdmVjMyB2MiApIHtcblx0ZmxvYXQgeCA9IGRvdCggdjEsIHYyICk7XG5cdGZsb2F0IHkgPSBhYnMoIHggKTtcblx0ZmxvYXQgYSA9IDAuODU0Mzk4NSArICggMC40OTY1MTU1ICsgMC4wMTQ1MjA2ICogeSApICogeTtcblx0ZmxvYXQgYiA9IDMuNDE3NTk0MCArICggNC4xNjE2NzI0ICsgeSApICogeTtcblx0ZmxvYXQgdiA9IGEgLyBiO1xuXHRmbG9hdCB0aGV0YV9zaW50aGV0YSA9ICggeCA+IDAuMCApID8gdiA6IDAuNSAqIGludmVyc2VzcXJ0KCBtYXgoIDEuMCAtIHggKiB4LCAxZS03ICkgKSAtIHY7XG5cdHJldHVybiBjcm9zcyggdjEsIHYyICkgKiB0aGV0YV9zaW50aGV0YTtcbn1cbnZlYzMgTFRDX0V2YWx1YXRlKCBjb25zdCBpbiB2ZWMzIE4sIGNvbnN0IGluIHZlYzMgViwgY29uc3QgaW4gdmVjMyBQLCBjb25zdCBpbiBtYXQzIG1JbnYsIGNvbnN0IGluIHZlYzMgcmVjdENvb3Jkc1sgNCBdICkge1xuXHR2ZWMzIHYxID0gcmVjdENvb3Jkc1sgMSBdIC0gcmVjdENvb3Jkc1sgMCBdO1xuXHR2ZWMzIHYyID0gcmVjdENvb3Jkc1sgMyBdIC0gcmVjdENvb3Jkc1sgMCBdO1xuXHR2ZWMzIGxpZ2h0Tm9ybWFsID0gY3Jvc3MoIHYxLCB2MiApO1xuXHRpZiggZG90KCBsaWdodE5vcm1hbCwgUCAtIHJlY3RDb29yZHNbIDAgXSApIDwgMC4wICkgcmV0dXJuIHZlYzMoIDAuMCApO1xuXHR2ZWMzIFQxLCBUMjtcblx0VDEgPSBub3JtYWxpemUoIFYgLSBOICogZG90KCBWLCBOICkgKTtcblx0VDIgPSAtIGNyb3NzKCBOLCBUMSApO1xuXHRtYXQzIG1hdCA9IG1JbnYgKiB0cmFuc3Bvc2VNYXQzKCBtYXQzKCBUMSwgVDIsIE4gKSApO1xuXHR2ZWMzIGNvb3Jkc1sgNCBdO1xuXHRjb29yZHNbIDAgXSA9IG1hdCAqICggcmVjdENvb3Jkc1sgMCBdIC0gUCApO1xuXHRjb29yZHNbIDEgXSA9IG1hdCAqICggcmVjdENvb3Jkc1sgMSBdIC0gUCApO1xuXHRjb29yZHNbIDIgXSA9IG1hdCAqICggcmVjdENvb3Jkc1sgMiBdIC0gUCApO1xuXHRjb29yZHNbIDMgXSA9IG1hdCAqICggcmVjdENvb3Jkc1sgMyBdIC0gUCApO1xuXHRjb29yZHNbIDAgXSA9IG5vcm1hbGl6ZSggY29vcmRzWyAwIF0gKTtcblx0Y29vcmRzWyAxIF0gPSBub3JtYWxpemUoIGNvb3Jkc1sgMSBdICk7XG5cdGNvb3Jkc1sgMiBdID0gbm9ybWFsaXplKCBjb29yZHNbIDIgXSApO1xuXHRjb29yZHNbIDMgXSA9IG5vcm1hbGl6ZSggY29vcmRzWyAzIF0gKTtcblx0dmVjMyB2ZWN0b3JGb3JtRmFjdG9yID0gdmVjMyggMC4wICk7XG5cdHZlY3RvckZvcm1GYWN0b3IgKz0gTFRDX0VkZ2VWZWN0b3JGb3JtRmFjdG9yKCBjb29yZHNbIDAgXSwgY29vcmRzWyAxIF0gKTtcblx0dmVjdG9yRm9ybUZhY3RvciArPSBMVENfRWRnZVZlY3RvckZvcm1GYWN0b3IoIGNvb3Jkc1sgMSBdLCBjb29yZHNbIDIgXSApO1xuXHR2ZWN0b3JGb3JtRmFjdG9yICs9IExUQ19FZGdlVmVjdG9yRm9ybUZhY3RvciggY29vcmRzWyAyIF0sIGNvb3Jkc1sgMyBdICk7XG5cdHZlY3RvckZvcm1GYWN0b3IgKz0gTFRDX0VkZ2VWZWN0b3JGb3JtRmFjdG9yKCBjb29yZHNbIDMgXSwgY29vcmRzWyAwIF0gKTtcblx0ZmxvYXQgcmVzdWx0ID0gTFRDX0NsaXBwZWRTcGhlcmVGb3JtRmFjdG9yKCB2ZWN0b3JGb3JtRmFjdG9yICk7XG5cdHJldHVybiB2ZWMzKCByZXN1bHQgKTtcbn1cbmZsb2F0IEdfQmxpbm5QaG9uZ19JbXBsaWNpdCggKSB7XG5cdHJldHVybiAwLjI1O1xufVxuZmxvYXQgRF9CbGlublBob25nKCBjb25zdCBpbiBmbG9hdCBzaGluaW5lc3MsIGNvbnN0IGluIGZsb2F0IGRvdE5IICkge1xuXHRyZXR1cm4gUkVDSVBST0NBTF9QSSAqICggc2hpbmluZXNzICogMC41ICsgMS4wICkgKiBwb3coIGRvdE5ILCBzaGluaW5lc3MgKTtcbn1cbnZlYzMgQlJERl9CbGlublBob25nKCBjb25zdCBpbiB2ZWMzIGxpZ2h0RGlyLCBjb25zdCBpbiB2ZWMzIHZpZXdEaXIsIGNvbnN0IGluIHZlYzMgbm9ybWFsLCBjb25zdCBpbiB2ZWMzIHNwZWN1bGFyQ29sb3IsIGNvbnN0IGluIGZsb2F0IHNoaW5pbmVzcyApIHtcblx0dmVjMyBoYWxmRGlyID0gbm9ybWFsaXplKCBsaWdodERpciArIHZpZXdEaXIgKTtcblx0ZmxvYXQgZG90TkggPSBzYXR1cmF0ZSggZG90KCBub3JtYWwsIGhhbGZEaXIgKSApO1xuXHRmbG9hdCBkb3RWSCA9IHNhdHVyYXRlKCBkb3QoIHZpZXdEaXIsIGhhbGZEaXIgKSApO1xuXHR2ZWMzIEYgPSBGX1NjaGxpY2soIHNwZWN1bGFyQ29sb3IsIDEuMCwgZG90VkggKTtcblx0ZmxvYXQgRyA9IEdfQmxpbm5QaG9uZ19JbXBsaWNpdCggKTtcblx0ZmxvYXQgRCA9IERfQmxpbm5QaG9uZyggc2hpbmluZXNzLCBkb3ROSCApO1xuXHRyZXR1cm4gRiAqICggRyAqIEQgKTtcbn1cbiNpZiBkZWZpbmVkKCBVU0VfU0hFRU4gKVxuZmxvYXQgRF9DaGFybGllKCBmbG9hdCByb3VnaG5lc3MsIGZsb2F0IGRvdE5IICkge1xuXHRmbG9hdCBhbHBoYSA9IHBvdzIoIHJvdWdobmVzcyApO1xuXHRmbG9hdCBpbnZBbHBoYSA9IDEuMCAvIGFscGhhO1xuXHRmbG9hdCBjb3MyaCA9IGRvdE5IICogZG90Tkg7XG5cdGZsb2F0IHNpbjJoID0gbWF4KCAxLjAgLSBjb3MyaCwgMC4wMDc4MTI1ICk7XG5cdHJldHVybiAoIDIuMCArIGludkFscGhhICkgKiBwb3coIHNpbjJoLCBpbnZBbHBoYSAqIDAuNSApIC8gKCAyLjAgKiBQSSApO1xufVxuZmxvYXQgVl9OZXViZWx0KCBmbG9hdCBkb3ROViwgZmxvYXQgZG90TkwgKSB7XG5cdHJldHVybiBzYXR1cmF0ZSggMS4wIC8gKCA0LjAgKiAoIGRvdE5MICsgZG90TlYgLSBkb3ROTCAqIGRvdE5WICkgKSApO1xufVxudmVjMyBCUkRGX1NoZWVuKCBjb25zdCBpbiB2ZWMzIGxpZ2h0RGlyLCBjb25zdCBpbiB2ZWMzIHZpZXdEaXIsIGNvbnN0IGluIHZlYzMgbm9ybWFsLCB2ZWMzIHNoZWVuQ29sb3IsIGNvbnN0IGluIGZsb2F0IHNoZWVuUm91Z2huZXNzICkge1xuXHR2ZWMzIGhhbGZEaXIgPSBub3JtYWxpemUoIGxpZ2h0RGlyICsgdmlld0RpciApO1xuXHRmbG9hdCBkb3ROTCA9IHNhdHVyYXRlKCBkb3QoIG5vcm1hbCwgbGlnaHREaXIgKSApO1xuXHRmbG9hdCBkb3ROViA9IHNhdHVyYXRlKCBkb3QoIG5vcm1hbCwgdmlld0RpciApICk7XG5cdGZsb2F0IGRvdE5IID0gc2F0dXJhdGUoIGRvdCggbm9ybWFsLCBoYWxmRGlyICkgKTtcblx0ZmxvYXQgRCA9IERfQ2hhcmxpZSggc2hlZW5Sb3VnaG5lc3MsIGRvdE5IICk7XG5cdGZsb2F0IFYgPSBWX05ldWJlbHQoIGRvdE5WLCBkb3ROTCApO1xuXHRyZXR1cm4gc2hlZW5Db2xvciAqICggRCAqIFYgKTtcbn1cbiNlbmRpZiI7dmFyIGJ1bXBtYXBfcGFyc19mcmFnbWVudD0iI2lmZGVmIFVTRV9CVU1QTUFQXG5cdHVuaWZvcm0gc2FtcGxlcjJEIGJ1bXBNYXA7XG5cdHVuaWZvcm0gZmxvYXQgYnVtcFNjYWxlO1xuXHR2ZWMyIGRIZHh5X2Z3ZCgpIHtcblx0XHR2ZWMyIGRTVGR4ID0gZEZkeCggdlV2ICk7XG5cdFx0dmVjMiBkU1RkeSA9IGRGZHkoIHZVdiApO1xuXHRcdGZsb2F0IEhsbCA9IGJ1bXBTY2FsZSAqIHRleHR1cmUyRCggYnVtcE1hcCwgdlV2ICkueDtcblx0XHRmbG9hdCBkQnggPSBidW1wU2NhbGUgKiB0ZXh0dXJlMkQoIGJ1bXBNYXAsIHZVdiArIGRTVGR4ICkueCAtIEhsbDtcblx0XHRmbG9hdCBkQnkgPSBidW1wU2NhbGUgKiB0ZXh0dXJlMkQoIGJ1bXBNYXAsIHZVdiArIGRTVGR5ICkueCAtIEhsbDtcblx0XHRyZXR1cm4gdmVjMiggZEJ4LCBkQnkgKTtcblx0fVxuXHR2ZWMzIHBlcnR1cmJOb3JtYWxBcmIoIHZlYzMgc3VyZl9wb3MsIHZlYzMgc3VyZl9ub3JtLCB2ZWMyIGRIZHh5LCBmbG9hdCBmYWNlRGlyZWN0aW9uICkge1xuXHRcdHZlYzMgdlNpZ21hWCA9IHZlYzMoIGRGZHgoIHN1cmZfcG9zLnggKSwgZEZkeCggc3VyZl9wb3MueSApLCBkRmR4KCBzdXJmX3Bvcy56ICkgKTtcblx0XHR2ZWMzIHZTaWdtYVkgPSB2ZWMzKCBkRmR5KCBzdXJmX3Bvcy54ICksIGRGZHkoIHN1cmZfcG9zLnkgKSwgZEZkeSggc3VyZl9wb3MueiApICk7XG5cdFx0dmVjMyB2TiA9IHN1cmZfbm9ybTtcblx0XHR2ZWMzIFIxID0gY3Jvc3MoIHZTaWdtYVksIHZOICk7XG5cdFx0dmVjMyBSMiA9IGNyb3NzKCB2TiwgdlNpZ21hWCApO1xuXHRcdGZsb2F0IGZEZXQgPSBkb3QoIHZTaWdtYVgsIFIxICkgKiBmYWNlRGlyZWN0aW9uO1xuXHRcdHZlYzMgdkdyYWQgPSBzaWduKCBmRGV0ICkgKiAoIGRIZHh5LnggKiBSMSArIGRIZHh5LnkgKiBSMiApO1xuXHRcdHJldHVybiBub3JtYWxpemUoIGFicyggZkRldCApICogc3VyZl9ub3JtIC0gdkdyYWQgKTtcblx0fVxuI2VuZGlmIjt2YXIgY2xpcHBpbmdfcGxhbmVzX2ZyYWdtZW50PSIjaWYgTlVNX0NMSVBQSU5HX1BMQU5FUyA+IDBcblx0dmVjNCBwbGFuZTtcblx0I3ByYWdtYSB1bnJvbGxfbG9vcF9zdGFydFxuXHRmb3IgKCBpbnQgaSA9IDA7IGkgPCBVTklPTl9DTElQUElOR19QTEFORVM7IGkgKysgKSB7XG5cdFx0cGxhbmUgPSBjbGlwcGluZ1BsYW5lc1sgaSBdO1xuXHRcdGlmICggZG90KCB2Q2xpcFBvc2l0aW9uLCBwbGFuZS54eXogKSA+IHBsYW5lLncgKSBkaXNjYXJkO1xuXHR9XG5cdCNwcmFnbWEgdW5yb2xsX2xvb3BfZW5kXG5cdCNpZiBVTklPTl9DTElQUElOR19QTEFORVMgPCBOVU1fQ0xJUFBJTkdfUExBTkVTXG5cdFx0Ym9vbCBjbGlwcGVkID0gdHJ1ZTtcblx0XHQjcHJhZ21hIHVucm9sbF9sb29wX3N0YXJ0XG5cdFx0Zm9yICggaW50IGkgPSBVTklPTl9DTElQUElOR19QTEFORVM7IGkgPCBOVU1fQ0xJUFBJTkdfUExBTkVTOyBpICsrICkge1xuXHRcdFx0cGxhbmUgPSBjbGlwcGluZ1BsYW5lc1sgaSBdO1xuXHRcdFx0Y2xpcHBlZCA9ICggZG90KCB2Q2xpcFBvc2l0aW9uLCBwbGFuZS54eXogKSA+IHBsYW5lLncgKSAmJiBjbGlwcGVkO1xuXHRcdH1cblx0XHQjcHJhZ21hIHVucm9sbF9sb29wX2VuZFxuXHRcdGlmICggY2xpcHBlZCApIGRpc2NhcmQ7XG5cdCNlbmRpZlxuI2VuZGlmIjt2YXIgY2xpcHBpbmdfcGxhbmVzX3BhcnNfZnJhZ21lbnQ9IiNpZiBOVU1fQ0xJUFBJTkdfUExBTkVTID4gMFxuXHR2YXJ5aW5nIHZlYzMgdkNsaXBQb3NpdGlvbjtcblx0dW5pZm9ybSB2ZWM0IGNsaXBwaW5nUGxhbmVzWyBOVU1fQ0xJUFBJTkdfUExBTkVTIF07XG4jZW5kaWYiO3ZhciBjbGlwcGluZ19wbGFuZXNfcGFyc192ZXJ0ZXg9IiNpZiBOVU1fQ0xJUFBJTkdfUExBTkVTID4gMFxuXHR2YXJ5aW5nIHZlYzMgdkNsaXBQb3NpdGlvbjtcbiNlbmRpZiI7dmFyIGNsaXBwaW5nX3BsYW5lc192ZXJ0ZXg9IiNpZiBOVU1fQ0xJUFBJTkdfUExBTkVTID4gMFxuXHR2Q2xpcFBvc2l0aW9uID0gLSBtdlBvc2l0aW9uLnh5ejtcbiNlbmRpZiI7dmFyIGNvbG9yX2ZyYWdtZW50PSIjaWYgZGVmaW5lZCggVVNFX0NPTE9SX0FMUEhBIClcblx0ZGlmZnVzZUNvbG9yICo9IHZDb2xvcjtcbiNlbGlmIGRlZmluZWQoIFVTRV9DT0xPUiApXG5cdGRpZmZ1c2VDb2xvci5yZ2IgKj0gdkNvbG9yO1xuI2VuZGlmIjt2YXIgY29sb3JfcGFyc19mcmFnbWVudD0iI2lmIGRlZmluZWQoIFVTRV9DT0xPUl9BTFBIQSApXG5cdHZhcnlpbmcgdmVjNCB2Q29sb3I7XG4jZWxpZiBkZWZpbmVkKCBVU0VfQ09MT1IgKVxuXHR2YXJ5aW5nIHZlYzMgdkNvbG9yO1xuI2VuZGlmIjt2YXIgY29sb3JfcGFyc192ZXJ0ZXg9IiNpZiBkZWZpbmVkKCBVU0VfQ09MT1JfQUxQSEEgKVxuXHR2YXJ5aW5nIHZlYzQgdkNvbG9yO1xuI2VsaWYgZGVmaW5lZCggVVNFX0NPTE9SICkgfHwgZGVmaW5lZCggVVNFX0lOU1RBTkNJTkdfQ09MT1IgKVxuXHR2YXJ5aW5nIHZlYzMgdkNvbG9yO1xuI2VuZGlmIjt2YXIgY29sb3JfdmVydGV4PSIjaWYgZGVmaW5lZCggVVNFX0NPTE9SX0FMUEhBIClcblx0dkNvbG9yID0gdmVjNCggMS4wICk7XG4jZWxpZiBkZWZpbmVkKCBVU0VfQ09MT1IgKSB8fCBkZWZpbmVkKCBVU0VfSU5TVEFOQ0lOR19DT0xPUiApXG5cdHZDb2xvciA9IHZlYzMoIDEuMCApO1xuI2VuZGlmXG4jaWZkZWYgVVNFX0NPTE9SXG5cdHZDb2xvciAqPSBjb2xvcjtcbiNlbmRpZlxuI2lmZGVmIFVTRV9JTlNUQU5DSU5HX0NPTE9SXG5cdHZDb2xvci54eXogKj0gaW5zdGFuY2VDb2xvci54eXo7XG4jZW5kaWYiO3ZhciBjb21tb249IiNkZWZpbmUgUEkgMy4xNDE1OTI2NTM1ODk3OTNcbiNkZWZpbmUgUEkyIDYuMjgzMTg1MzA3MTc5NTg2XG4jZGVmaW5lIFBJX0hBTEYgMS41NzA3OTYzMjY3OTQ4OTY2XG4jZGVmaW5lIFJFQ0lQUk9DQUxfUEkgMC4zMTgzMDk4ODYxODM3OTA3XG4jZGVmaW5lIFJFQ0lQUk9DQUxfUEkyIDAuMTU5MTU0OTQzMDkxODk1MzVcbiNkZWZpbmUgRVBTSUxPTiAxZS02XG4jaWZuZGVmIHNhdHVyYXRlXG4jZGVmaW5lIHNhdHVyYXRlKCBhICkgY2xhbXAoIGEsIDAuMCwgMS4wIClcbiNlbmRpZlxuI2RlZmluZSB3aGl0ZUNvbXBsZW1lbnQoIGEgKSAoIDEuMCAtIHNhdHVyYXRlKCBhICkgKVxuZmxvYXQgcG93MiggY29uc3QgaW4gZmxvYXQgeCApIHsgcmV0dXJuIHgqeDsgfVxuZmxvYXQgcG93MyggY29uc3QgaW4gZmxvYXQgeCApIHsgcmV0dXJuIHgqeCp4OyB9XG5mbG9hdCBwb3c0KCBjb25zdCBpbiBmbG9hdCB4ICkgeyBmbG9hdCB4MiA9IHgqeDsgcmV0dXJuIHgyKngyOyB9XG5mbG9hdCBtYXgzKCBjb25zdCBpbiB2ZWMzIHYgKSB7IHJldHVybiBtYXgoIG1heCggdi54LCB2LnkgKSwgdi56ICk7IH1cbmZsb2F0IGF2ZXJhZ2UoIGNvbnN0IGluIHZlYzMgY29sb3IgKSB7IHJldHVybiBkb3QoIGNvbG9yLCB2ZWMzKCAwLjMzMzMgKSApOyB9XG5oaWdocCBmbG9hdCByYW5kKCBjb25zdCBpbiB2ZWMyIHV2ICkge1xuXHRjb25zdCBoaWdocCBmbG9hdCBhID0gMTIuOTg5OCwgYiA9IDc4LjIzMywgYyA9IDQzNzU4LjU0NTM7XG5cdGhpZ2hwIGZsb2F0IGR0ID0gZG90KCB1di54eSwgdmVjMiggYSxiICkgKSwgc24gPSBtb2QoIGR0LCBQSSApO1xuXHRyZXR1cm4gZnJhY3QoIHNpbiggc24gKSAqIGMgKTtcbn1cbiNpZmRlZiBISUdIX1BSRUNJU0lPTlxuXHRmbG9hdCBwcmVjaXNpb25TYWZlTGVuZ3RoKCB2ZWMzIHYgKSB7IHJldHVybiBsZW5ndGgoIHYgKTsgfVxuI2Vsc2Vcblx0ZmxvYXQgcHJlY2lzaW9uU2FmZUxlbmd0aCggdmVjMyB2ICkge1xuXHRcdGZsb2F0IG1heENvbXBvbmVudCA9IG1heDMoIGFicyggdiApICk7XG5cdFx0cmV0dXJuIGxlbmd0aCggdiAvIG1heENvbXBvbmVudCApICogbWF4Q29tcG9uZW50O1xuXHR9XG4jZW5kaWZcbnN0cnVjdCBJbmNpZGVudExpZ2h0IHtcblx0dmVjMyBjb2xvcjtcblx0dmVjMyBkaXJlY3Rpb247XG5cdGJvb2wgdmlzaWJsZTtcbn07XG5zdHJ1Y3QgUmVmbGVjdGVkTGlnaHQge1xuXHR2ZWMzIGRpcmVjdERpZmZ1c2U7XG5cdHZlYzMgZGlyZWN0U3BlY3VsYXI7XG5cdHZlYzMgaW5kaXJlY3REaWZmdXNlO1xuXHR2ZWMzIGluZGlyZWN0U3BlY3VsYXI7XG59O1xuc3RydWN0IEdlb21ldHJpY0NvbnRleHQge1xuXHR2ZWMzIHBvc2l0aW9uO1xuXHR2ZWMzIG5vcm1hbDtcblx0dmVjMyB2aWV3RGlyO1xuI2lmZGVmIFVTRV9DTEVBUkNPQVRcblx0dmVjMyBjbGVhcmNvYXROb3JtYWw7XG4jZW5kaWZcbn07XG52ZWMzIHRyYW5zZm9ybURpcmVjdGlvbiggaW4gdmVjMyBkaXIsIGluIG1hdDQgbWF0cml4ICkge1xuXHRyZXR1cm4gbm9ybWFsaXplKCAoIG1hdHJpeCAqIHZlYzQoIGRpciwgMC4wICkgKS54eXogKTtcbn1cbnZlYzMgaW52ZXJzZVRyYW5zZm9ybURpcmVjdGlvbiggaW4gdmVjMyBkaXIsIGluIG1hdDQgbWF0cml4ICkge1xuXHRyZXR1cm4gbm9ybWFsaXplKCAoIHZlYzQoIGRpciwgMC4wICkgKiBtYXRyaXggKS54eXogKTtcbn1cbm1hdDMgdHJhbnNwb3NlTWF0MyggY29uc3QgaW4gbWF0MyBtICkge1xuXHRtYXQzIHRtcDtcblx0dG1wWyAwIF0gPSB2ZWMzKCBtWyAwIF0ueCwgbVsgMSBdLngsIG1bIDIgXS54ICk7XG5cdHRtcFsgMSBdID0gdmVjMyggbVsgMCBdLnksIG1bIDEgXS55LCBtWyAyIF0ueSApO1xuXHR0bXBbIDIgXSA9IHZlYzMoIG1bIDAgXS56LCBtWyAxIF0ueiwgbVsgMiBdLnogKTtcblx0cmV0dXJuIHRtcDtcbn1cbmZsb2F0IGxpbmVhclRvUmVsYXRpdmVMdW1pbmFuY2UoIGNvbnN0IGluIHZlYzMgY29sb3IgKSB7XG5cdHZlYzMgd2VpZ2h0cyA9IHZlYzMoIDAuMjEyNiwgMC43MTUyLCAwLjA3MjIgKTtcblx0cmV0dXJuIGRvdCggd2VpZ2h0cywgY29sb3IucmdiICk7XG59XG5ib29sIGlzUGVyc3BlY3RpdmVNYXRyaXgoIG1hdDQgbSApIHtcblx0cmV0dXJuIG1bIDIgXVsgMyBdID09IC0gMS4wO1xufVxudmVjMiBlcXVpcmVjdFV2KCBpbiB2ZWMzIGRpciApIHtcblx0ZmxvYXQgdSA9IGF0YW4oIGRpci56LCBkaXIueCApICogUkVDSVBST0NBTF9QSTIgKyAwLjU7XG5cdGZsb2F0IHYgPSBhc2luKCBjbGFtcCggZGlyLnksIC0gMS4wLCAxLjAgKSApICogUkVDSVBST0NBTF9QSSArIDAuNTtcblx0cmV0dXJuIHZlYzIoIHUsIHYgKTtcbn0iO3ZhciBjdWJlX3V2X3JlZmxlY3Rpb25fZnJhZ21lbnQ9IiNpZmRlZiBFTlZNQVBfVFlQRV9DVUJFX1VWXG5cdCNkZWZpbmUgY3ViZVVWX21heE1pcExldmVsIDguMFxuXHQjZGVmaW5lIGN1YmVVVl9taW5NaXBMZXZlbCA0LjBcblx0I2RlZmluZSBjdWJlVVZfbWF4VGlsZVNpemUgMjU2LjBcblx0I2RlZmluZSBjdWJlVVZfbWluVGlsZVNpemUgMTYuMFxuXHRmbG9hdCBnZXRGYWNlKCB2ZWMzIGRpcmVjdGlvbiApIHtcblx0XHR2ZWMzIGFic0RpcmVjdGlvbiA9IGFicyggZGlyZWN0aW9uICk7XG5cdFx0ZmxvYXQgZmFjZSA9IC0gMS4wO1xuXHRcdGlmICggYWJzRGlyZWN0aW9uLnggPiBhYnNEaXJlY3Rpb24ueiApIHtcblx0XHRcdGlmICggYWJzRGlyZWN0aW9uLnggPiBhYnNEaXJlY3Rpb24ueSApXG5cdFx0XHRcdGZhY2UgPSBkaXJlY3Rpb24ueCA+IDAuMCA/IDAuMCA6IDMuMDtcblx0XHRcdGVsc2Vcblx0XHRcdFx0ZmFjZSA9IGRpcmVjdGlvbi55ID4gMC4wID8gMS4wIDogNC4wO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRpZiAoIGFic0RpcmVjdGlvbi56ID4gYWJzRGlyZWN0aW9uLnkgKVxuXHRcdFx0XHRmYWNlID0gZGlyZWN0aW9uLnogPiAwLjAgPyAyLjAgOiA1LjA7XG5cdFx0XHRlbHNlXG5cdFx0XHRcdGZhY2UgPSBkaXJlY3Rpb24ueSA+IDAuMCA/IDEuMCA6IDQuMDtcblx0XHR9XG5cdFx0cmV0dXJuIGZhY2U7XG5cdH1cblx0dmVjMiBnZXRVViggdmVjMyBkaXJlY3Rpb24sIGZsb2F0IGZhY2UgKSB7XG5cdFx0dmVjMiB1djtcblx0XHRpZiAoIGZhY2UgPT0gMC4wICkge1xuXHRcdFx0dXYgPSB2ZWMyKCBkaXJlY3Rpb24ueiwgZGlyZWN0aW9uLnkgKSAvIGFicyggZGlyZWN0aW9uLnggKTtcblx0XHR9IGVsc2UgaWYgKCBmYWNlID09IDEuMCApIHtcblx0XHRcdHV2ID0gdmVjMiggLSBkaXJlY3Rpb24ueCwgLSBkaXJlY3Rpb24ueiApIC8gYWJzKCBkaXJlY3Rpb24ueSApO1xuXHRcdH0gZWxzZSBpZiAoIGZhY2UgPT0gMi4wICkge1xuXHRcdFx0dXYgPSB2ZWMyKCAtIGRpcmVjdGlvbi54LCBkaXJlY3Rpb24ueSApIC8gYWJzKCBkaXJlY3Rpb24ueiApO1xuXHRcdH0gZWxzZSBpZiAoIGZhY2UgPT0gMy4wICkge1xuXHRcdFx0dXYgPSB2ZWMyKCAtIGRpcmVjdGlvbi56LCBkaXJlY3Rpb24ueSApIC8gYWJzKCBkaXJlY3Rpb24ueCApO1xuXHRcdH0gZWxzZSBpZiAoIGZhY2UgPT0gNC4wICkge1xuXHRcdFx0dXYgPSB2ZWMyKCAtIGRpcmVjdGlvbi54LCBkaXJlY3Rpb24ueiApIC8gYWJzKCBkaXJlY3Rpb24ueSApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR1diA9IHZlYzIoIGRpcmVjdGlvbi54LCBkaXJlY3Rpb24ueSApIC8gYWJzKCBkaXJlY3Rpb24ueiApO1xuXHRcdH1cblx0XHRyZXR1cm4gMC41ICogKCB1diArIDEuMCApO1xuXHR9XG5cdHZlYzMgYmlsaW5lYXJDdWJlVVYoIHNhbXBsZXIyRCBlbnZNYXAsIHZlYzMgZGlyZWN0aW9uLCBmbG9hdCBtaXBJbnQgKSB7XG5cdFx0ZmxvYXQgZmFjZSA9IGdldEZhY2UoIGRpcmVjdGlvbiApO1xuXHRcdGZsb2F0IGZpbHRlckludCA9IG1heCggY3ViZVVWX21pbk1pcExldmVsIC0gbWlwSW50LCAwLjAgKTtcblx0XHRtaXBJbnQgPSBtYXgoIG1pcEludCwgY3ViZVVWX21pbk1pcExldmVsICk7XG5cdFx0ZmxvYXQgZmFjZVNpemUgPSBleHAyKCBtaXBJbnQgKTtcblx0XHRmbG9hdCB0ZXhlbFNpemUgPSAxLjAgLyAoIDMuMCAqIGN1YmVVVl9tYXhUaWxlU2l6ZSApO1xuXHRcdHZlYzIgdXYgPSBnZXRVViggZGlyZWN0aW9uLCBmYWNlICkgKiAoIGZhY2VTaXplIC0gMS4wICkgKyAwLjU7XG5cdFx0aWYgKCBmYWNlID4gMi4wICkge1xuXHRcdFx0dXYueSArPSBmYWNlU2l6ZTtcblx0XHRcdGZhY2UgLT0gMy4wO1xuXHRcdH1cblx0XHR1di54ICs9IGZhY2UgKiBmYWNlU2l6ZTtcblx0XHRpZiAoIG1pcEludCA8IGN1YmVVVl9tYXhNaXBMZXZlbCApIHtcblx0XHRcdHV2LnkgKz0gMi4wICogY3ViZVVWX21heFRpbGVTaXplO1xuXHRcdH1cblx0XHR1di55ICs9IGZpbHRlckludCAqIDIuMCAqIGN1YmVVVl9taW5UaWxlU2l6ZTtcblx0XHR1di54ICs9IDMuMCAqIG1heCggMC4wLCBjdWJlVVZfbWF4VGlsZVNpemUgLSAyLjAgKiBmYWNlU2l6ZSApO1xuXHRcdHV2ICo9IHRleGVsU2l6ZTtcblx0XHRyZXR1cm4gdGV4dHVyZTJEKCBlbnZNYXAsIHV2ICkucmdiO1xuXHR9XG5cdCNkZWZpbmUgcjAgMS4wXG5cdCNkZWZpbmUgdjAgMC4zMzlcblx0I2RlZmluZSBtMCAtIDIuMFxuXHQjZGVmaW5lIHIxIDAuOFxuXHQjZGVmaW5lIHYxIDAuMjc2XG5cdCNkZWZpbmUgbTEgLSAxLjBcblx0I2RlZmluZSByNCAwLjRcblx0I2RlZmluZSB2NCAwLjA0NlxuXHQjZGVmaW5lIG00IDIuMFxuXHQjZGVmaW5lIHI1IDAuMzA1XG5cdCNkZWZpbmUgdjUgMC4wMTZcblx0I2RlZmluZSBtNSAzLjBcblx0I2RlZmluZSByNiAwLjIxXG5cdCNkZWZpbmUgdjYgMC4wMDM4XG5cdCNkZWZpbmUgbTYgNC4wXG5cdGZsb2F0IHJvdWdobmVzc1RvTWlwKCBmbG9hdCByb3VnaG5lc3MgKSB7XG5cdFx0ZmxvYXQgbWlwID0gMC4wO1xuXHRcdGlmICggcm91Z2huZXNzID49IHIxICkge1xuXHRcdFx0bWlwID0gKCByMCAtIHJvdWdobmVzcyApICogKCBtMSAtIG0wICkgLyAoIHIwIC0gcjEgKSArIG0wO1xuXHRcdH0gZWxzZSBpZiAoIHJvdWdobmVzcyA+PSByNCApIHtcblx0XHRcdG1pcCA9ICggcjEgLSByb3VnaG5lc3MgKSAqICggbTQgLSBtMSApIC8gKCByMSAtIHI0ICkgKyBtMTtcblx0XHR9IGVsc2UgaWYgKCByb3VnaG5lc3MgPj0gcjUgKSB7XG5cdFx0XHRtaXAgPSAoIHI0IC0gcm91Z2huZXNzICkgKiAoIG01IC0gbTQgKSAvICggcjQgLSByNSApICsgbTQ7XG5cdFx0fSBlbHNlIGlmICggcm91Z2huZXNzID49IHI2ICkge1xuXHRcdFx0bWlwID0gKCByNSAtIHJvdWdobmVzcyApICogKCBtNiAtIG01ICkgLyAoIHI1IC0gcjYgKSArIG01O1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRtaXAgPSAtIDIuMCAqIGxvZzIoIDEuMTYgKiByb3VnaG5lc3MgKTtcdFx0fVxuXHRcdHJldHVybiBtaXA7XG5cdH1cblx0dmVjNCB0ZXh0dXJlQ3ViZVVWKCBzYW1wbGVyMkQgZW52TWFwLCB2ZWMzIHNhbXBsZURpciwgZmxvYXQgcm91Z2huZXNzICkge1xuXHRcdGZsb2F0IG1pcCA9IGNsYW1wKCByb3VnaG5lc3NUb01pcCggcm91Z2huZXNzICksIG0wLCBjdWJlVVZfbWF4TWlwTGV2ZWwgKTtcblx0XHRmbG9hdCBtaXBGID0gZnJhY3QoIG1pcCApO1xuXHRcdGZsb2F0IG1pcEludCA9IGZsb29yKCBtaXAgKTtcblx0XHR2ZWMzIGNvbG9yMCA9IGJpbGluZWFyQ3ViZVVWKCBlbnZNYXAsIHNhbXBsZURpciwgbWlwSW50ICk7XG5cdFx0aWYgKCBtaXBGID09IDAuMCApIHtcblx0XHRcdHJldHVybiB2ZWM0KCBjb2xvcjAsIDEuMCApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR2ZWMzIGNvbG9yMSA9IGJpbGluZWFyQ3ViZVVWKCBlbnZNYXAsIHNhbXBsZURpciwgbWlwSW50ICsgMS4wICk7XG5cdFx0XHRyZXR1cm4gdmVjNCggbWl4KCBjb2xvcjAsIGNvbG9yMSwgbWlwRiApLCAxLjAgKTtcblx0XHR9XG5cdH1cbiNlbmRpZiI7dmFyIGRlZmF1bHRub3JtYWxfdmVydGV4PSJ2ZWMzIHRyYW5zZm9ybWVkTm9ybWFsID0gb2JqZWN0Tm9ybWFsO1xuI2lmZGVmIFVTRV9JTlNUQU5DSU5HXG5cdG1hdDMgbSA9IG1hdDMoIGluc3RhbmNlTWF0cml4ICk7XG5cdHRyYW5zZm9ybWVkTm9ybWFsIC89IHZlYzMoIGRvdCggbVsgMCBdLCBtWyAwIF0gKSwgZG90KCBtWyAxIF0sIG1bIDEgXSApLCBkb3QoIG1bIDIgXSwgbVsgMiBdICkgKTtcblx0dHJhbnNmb3JtZWROb3JtYWwgPSBtICogdHJhbnNmb3JtZWROb3JtYWw7XG4jZW5kaWZcbnRyYW5zZm9ybWVkTm9ybWFsID0gbm9ybWFsTWF0cml4ICogdHJhbnNmb3JtZWROb3JtYWw7XG4jaWZkZWYgRkxJUF9TSURFRFxuXHR0cmFuc2Zvcm1lZE5vcm1hbCA9IC0gdHJhbnNmb3JtZWROb3JtYWw7XG4jZW5kaWZcbiNpZmRlZiBVU0VfVEFOR0VOVFxuXHR2ZWMzIHRyYW5zZm9ybWVkVGFuZ2VudCA9ICggbW9kZWxWaWV3TWF0cml4ICogdmVjNCggb2JqZWN0VGFuZ2VudCwgMC4wICkgKS54eXo7XG5cdCNpZmRlZiBGTElQX1NJREVEXG5cdFx0dHJhbnNmb3JtZWRUYW5nZW50ID0gLSB0cmFuc2Zvcm1lZFRhbmdlbnQ7XG5cdCNlbmRpZlxuI2VuZGlmIjt2YXIgZGlzcGxhY2VtZW50bWFwX3BhcnNfdmVydGV4PSIjaWZkZWYgVVNFX0RJU1BMQUNFTUVOVE1BUFxuXHR1bmlmb3JtIHNhbXBsZXIyRCBkaXNwbGFjZW1lbnRNYXA7XG5cdHVuaWZvcm0gZmxvYXQgZGlzcGxhY2VtZW50U2NhbGU7XG5cdHVuaWZvcm0gZmxvYXQgZGlzcGxhY2VtZW50QmlhcztcbiNlbmRpZiI7dmFyIGRpc3BsYWNlbWVudG1hcF92ZXJ0ZXg9IiNpZmRlZiBVU0VfRElTUExBQ0VNRU5UTUFQXG5cdHRyYW5zZm9ybWVkICs9IG5vcm1hbGl6ZSggb2JqZWN0Tm9ybWFsICkgKiAoIHRleHR1cmUyRCggZGlzcGxhY2VtZW50TWFwLCB2VXYgKS54ICogZGlzcGxhY2VtZW50U2NhbGUgKyBkaXNwbGFjZW1lbnRCaWFzICk7XG4jZW5kaWYiO3ZhciBlbWlzc2l2ZW1hcF9mcmFnbWVudD0iI2lmZGVmIFVTRV9FTUlTU0lWRU1BUFxuXHR2ZWM0IGVtaXNzaXZlQ29sb3IgPSB0ZXh0dXJlMkQoIGVtaXNzaXZlTWFwLCB2VXYgKTtcblx0dG90YWxFbWlzc2l2ZVJhZGlhbmNlICo9IGVtaXNzaXZlQ29sb3IucmdiO1xuI2VuZGlmIjt2YXIgZW1pc3NpdmVtYXBfcGFyc19mcmFnbWVudD0iI2lmZGVmIFVTRV9FTUlTU0lWRU1BUFxuXHR1bmlmb3JtIHNhbXBsZXIyRCBlbWlzc2l2ZU1hcDtcbiNlbmRpZiI7dmFyIGVuY29kaW5nc19mcmFnbWVudD0iZ2xfRnJhZ0NvbG9yID0gbGluZWFyVG9PdXRwdXRUZXhlbCggZ2xfRnJhZ0NvbG9yICk7Ijt2YXIgZW5jb2RpbmdzX3BhcnNfZnJhZ21lbnQ9InZlYzQgTGluZWFyVG9MaW5lYXIoIGluIHZlYzQgdmFsdWUgKSB7XG5cdHJldHVybiB2YWx1ZTtcbn1cbnZlYzQgTGluZWFyVG9zUkdCKCBpbiB2ZWM0IHZhbHVlICkge1xuXHRyZXR1cm4gdmVjNCggbWl4KCBwb3coIHZhbHVlLnJnYiwgdmVjMyggMC40MTY2NiApICkgKiAxLjA1NSAtIHZlYzMoIDAuMDU1ICksIHZhbHVlLnJnYiAqIDEyLjkyLCB2ZWMzKCBsZXNzVGhhbkVxdWFsKCB2YWx1ZS5yZ2IsIHZlYzMoIDAuMDAzMTMwOCApICkgKSApLCB2YWx1ZS5hICk7XG59Ijt2YXIgZW52bWFwX2ZyYWdtZW50PSIjaWZkZWYgVVNFX0VOVk1BUFxuXHQjaWZkZWYgRU5WX1dPUkxEUE9TXG5cdFx0dmVjMyBjYW1lcmFUb0ZyYWc7XG5cdFx0aWYgKCBpc09ydGhvZ3JhcGhpYyApIHtcblx0XHRcdGNhbWVyYVRvRnJhZyA9IG5vcm1hbGl6ZSggdmVjMyggLSB2aWV3TWF0cml4WyAwIF1bIDIgXSwgLSB2aWV3TWF0cml4WyAxIF1bIDIgXSwgLSB2aWV3TWF0cml4WyAyIF1bIDIgXSApICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNhbWVyYVRvRnJhZyA9IG5vcm1hbGl6ZSggdldvcmxkUG9zaXRpb24gLSBjYW1lcmFQb3NpdGlvbiApO1xuXHRcdH1cblx0XHR2ZWMzIHdvcmxkTm9ybWFsID0gaW52ZXJzZVRyYW5zZm9ybURpcmVjdGlvbiggbm9ybWFsLCB2aWV3TWF0cml4ICk7XG5cdFx0I2lmZGVmIEVOVk1BUF9NT0RFX1JFRkxFQ1RJT05cblx0XHRcdHZlYzMgcmVmbGVjdFZlYyA9IHJlZmxlY3QoIGNhbWVyYVRvRnJhZywgd29ybGROb3JtYWwgKTtcblx0XHQjZWxzZVxuXHRcdFx0dmVjMyByZWZsZWN0VmVjID0gcmVmcmFjdCggY2FtZXJhVG9GcmFnLCB3b3JsZE5vcm1hbCwgcmVmcmFjdGlvblJhdGlvICk7XG5cdFx0I2VuZGlmXG5cdCNlbHNlXG5cdFx0dmVjMyByZWZsZWN0VmVjID0gdlJlZmxlY3Q7XG5cdCNlbmRpZlxuXHQjaWZkZWYgRU5WTUFQX1RZUEVfQ1VCRVxuXHRcdHZlYzQgZW52Q29sb3IgPSB0ZXh0dXJlQ3ViZSggZW52TWFwLCB2ZWMzKCBmbGlwRW52TWFwICogcmVmbGVjdFZlYy54LCByZWZsZWN0VmVjLnl6ICkgKTtcblx0I2VsaWYgZGVmaW5lZCggRU5WTUFQX1RZUEVfQ1VCRV9VViApXG5cdFx0dmVjNCBlbnZDb2xvciA9IHRleHR1cmVDdWJlVVYoIGVudk1hcCwgcmVmbGVjdFZlYywgMC4wICk7XG5cdCNlbHNlXG5cdFx0dmVjNCBlbnZDb2xvciA9IHZlYzQoIDAuMCApO1xuXHQjZW5kaWZcblx0I2lmZGVmIEVOVk1BUF9CTEVORElOR19NVUxUSVBMWVxuXHRcdG91dGdvaW5nTGlnaHQgPSBtaXgoIG91dGdvaW5nTGlnaHQsIG91dGdvaW5nTGlnaHQgKiBlbnZDb2xvci54eXosIHNwZWN1bGFyU3RyZW5ndGggKiByZWZsZWN0aXZpdHkgKTtcblx0I2VsaWYgZGVmaW5lZCggRU5WTUFQX0JMRU5ESU5HX01JWCApXG5cdFx0b3V0Z29pbmdMaWdodCA9IG1peCggb3V0Z29pbmdMaWdodCwgZW52Q29sb3IueHl6LCBzcGVjdWxhclN0cmVuZ3RoICogcmVmbGVjdGl2aXR5ICk7XG5cdCNlbGlmIGRlZmluZWQoIEVOVk1BUF9CTEVORElOR19BREQgKVxuXHRcdG91dGdvaW5nTGlnaHQgKz0gZW52Q29sb3IueHl6ICogc3BlY3VsYXJTdHJlbmd0aCAqIHJlZmxlY3Rpdml0eTtcblx0I2VuZGlmXG4jZW5kaWYiO3ZhciBlbnZtYXBfY29tbW9uX3BhcnNfZnJhZ21lbnQ9IiNpZmRlZiBVU0VfRU5WTUFQXG5cdHVuaWZvcm0gZmxvYXQgZW52TWFwSW50ZW5zaXR5O1xuXHR1bmlmb3JtIGZsb2F0IGZsaXBFbnZNYXA7XG5cdCNpZmRlZiBFTlZNQVBfVFlQRV9DVUJFXG5cdFx0dW5pZm9ybSBzYW1wbGVyQ3ViZSBlbnZNYXA7XG5cdCNlbHNlXG5cdFx0dW5pZm9ybSBzYW1wbGVyMkQgZW52TWFwO1xuXHQjZW5kaWZcblx0XG4jZW5kaWYiO3ZhciBlbnZtYXBfcGFyc19mcmFnbWVudD0iI2lmZGVmIFVTRV9FTlZNQVBcblx0dW5pZm9ybSBmbG9hdCByZWZsZWN0aXZpdHk7XG5cdCNpZiBkZWZpbmVkKCBVU0VfQlVNUE1BUCApIHx8IGRlZmluZWQoIFVTRV9OT1JNQUxNQVAgKSB8fCBkZWZpbmVkKCBQSE9ORyApXG5cdFx0I2RlZmluZSBFTlZfV09STERQT1Ncblx0I2VuZGlmXG5cdCNpZmRlZiBFTlZfV09STERQT1Ncblx0XHR2YXJ5aW5nIHZlYzMgdldvcmxkUG9zaXRpb247XG5cdFx0dW5pZm9ybSBmbG9hdCByZWZyYWN0aW9uUmF0aW87XG5cdCNlbHNlXG5cdFx0dmFyeWluZyB2ZWMzIHZSZWZsZWN0O1xuXHQjZW5kaWZcbiNlbmRpZiI7dmFyIGVudm1hcF9wYXJzX3ZlcnRleD0iI2lmZGVmIFVTRV9FTlZNQVBcblx0I2lmIGRlZmluZWQoIFVTRV9CVU1QTUFQICkgfHwgZGVmaW5lZCggVVNFX05PUk1BTE1BUCApIHx8ZGVmaW5lZCggUEhPTkcgKVxuXHRcdCNkZWZpbmUgRU5WX1dPUkxEUE9TXG5cdCNlbmRpZlxuXHQjaWZkZWYgRU5WX1dPUkxEUE9TXG5cdFx0XG5cdFx0dmFyeWluZyB2ZWMzIHZXb3JsZFBvc2l0aW9uO1xuXHQjZWxzZVxuXHRcdHZhcnlpbmcgdmVjMyB2UmVmbGVjdDtcblx0XHR1bmlmb3JtIGZsb2F0IHJlZnJhY3Rpb25SYXRpbztcblx0I2VuZGlmXG4jZW5kaWYiO3ZhciBlbnZtYXBfdmVydGV4PSIjaWZkZWYgVVNFX0VOVk1BUFxuXHQjaWZkZWYgRU5WX1dPUkxEUE9TXG5cdFx0dldvcmxkUG9zaXRpb24gPSB3b3JsZFBvc2l0aW9uLnh5ejtcblx0I2Vsc2Vcblx0XHR2ZWMzIGNhbWVyYVRvVmVydGV4O1xuXHRcdGlmICggaXNPcnRob2dyYXBoaWMgKSB7XG5cdFx0XHRjYW1lcmFUb1ZlcnRleCA9IG5vcm1hbGl6ZSggdmVjMyggLSB2aWV3TWF0cml4WyAwIF1bIDIgXSwgLSB2aWV3TWF0cml4WyAxIF1bIDIgXSwgLSB2aWV3TWF0cml4WyAyIF1bIDIgXSApICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNhbWVyYVRvVmVydGV4ID0gbm9ybWFsaXplKCB3b3JsZFBvc2l0aW9uLnh5eiAtIGNhbWVyYVBvc2l0aW9uICk7XG5cdFx0fVxuXHRcdHZlYzMgd29ybGROb3JtYWwgPSBpbnZlcnNlVHJhbnNmb3JtRGlyZWN0aW9uKCB0cmFuc2Zvcm1lZE5vcm1hbCwgdmlld01hdHJpeCApO1xuXHRcdCNpZmRlZiBFTlZNQVBfTU9ERV9SRUZMRUNUSU9OXG5cdFx0XHR2UmVmbGVjdCA9IHJlZmxlY3QoIGNhbWVyYVRvVmVydGV4LCB3b3JsZE5vcm1hbCApO1xuXHRcdCNlbHNlXG5cdFx0XHR2UmVmbGVjdCA9IHJlZnJhY3QoIGNhbWVyYVRvVmVydGV4LCB3b3JsZE5vcm1hbCwgcmVmcmFjdGlvblJhdGlvICk7XG5cdFx0I2VuZGlmXG5cdCNlbmRpZlxuI2VuZGlmIjt2YXIgZm9nX3ZlcnRleD0iI2lmZGVmIFVTRV9GT0dcblx0dkZvZ0RlcHRoID0gLSBtdlBvc2l0aW9uLno7XG4jZW5kaWYiO3ZhciBmb2dfcGFyc192ZXJ0ZXg9IiNpZmRlZiBVU0VfRk9HXG5cdHZhcnlpbmcgZmxvYXQgdkZvZ0RlcHRoO1xuI2VuZGlmIjt2YXIgZm9nX2ZyYWdtZW50PSIjaWZkZWYgVVNFX0ZPR1xuXHQjaWZkZWYgRk9HX0VYUDJcblx0XHRmbG9hdCBmb2dGYWN0b3IgPSAxLjAgLSBleHAoIC0gZm9nRGVuc2l0eSAqIGZvZ0RlbnNpdHkgKiB2Rm9nRGVwdGggKiB2Rm9nRGVwdGggKTtcblx0I2Vsc2Vcblx0XHRmbG9hdCBmb2dGYWN0b3IgPSBzbW9vdGhzdGVwKCBmb2dOZWFyLCBmb2dGYXIsIHZGb2dEZXB0aCApO1xuXHQjZW5kaWZcblx0Z2xfRnJhZ0NvbG9yLnJnYiA9IG1peCggZ2xfRnJhZ0NvbG9yLnJnYiwgZm9nQ29sb3IsIGZvZ0ZhY3RvciApO1xuI2VuZGlmIjt2YXIgZm9nX3BhcnNfZnJhZ21lbnQ9IiNpZmRlZiBVU0VfRk9HXG5cdHVuaWZvcm0gdmVjMyBmb2dDb2xvcjtcblx0dmFyeWluZyBmbG9hdCB2Rm9nRGVwdGg7XG5cdCNpZmRlZiBGT0dfRVhQMlxuXHRcdHVuaWZvcm0gZmxvYXQgZm9nRGVuc2l0eTtcblx0I2Vsc2Vcblx0XHR1bmlmb3JtIGZsb2F0IGZvZ05lYXI7XG5cdFx0dW5pZm9ybSBmbG9hdCBmb2dGYXI7XG5cdCNlbmRpZlxuI2VuZGlmIjt2YXIgZ3JhZGllbnRtYXBfcGFyc19mcmFnbWVudD0iI2lmZGVmIFVTRV9HUkFESUVOVE1BUFxuXHR1bmlmb3JtIHNhbXBsZXIyRCBncmFkaWVudE1hcDtcbiNlbmRpZlxudmVjMyBnZXRHcmFkaWVudElycmFkaWFuY2UoIHZlYzMgbm9ybWFsLCB2ZWMzIGxpZ2h0RGlyZWN0aW9uICkge1xuXHRmbG9hdCBkb3ROTCA9IGRvdCggbm9ybWFsLCBsaWdodERpcmVjdGlvbiApO1xuXHR2ZWMyIGNvb3JkID0gdmVjMiggZG90TkwgKiAwLjUgKyAwLjUsIDAuMCApO1xuXHQjaWZkZWYgVVNFX0dSQURJRU5UTUFQXG5cdFx0cmV0dXJuIHZlYzMoIHRleHR1cmUyRCggZ3JhZGllbnRNYXAsIGNvb3JkICkuciApO1xuXHQjZWxzZVxuXHRcdHJldHVybiAoIGNvb3JkLnggPCAwLjcgKSA/IHZlYzMoIDAuNyApIDogdmVjMyggMS4wICk7XG5cdCNlbmRpZlxufSI7dmFyIGxpZ2h0bWFwX2ZyYWdtZW50PSIjaWZkZWYgVVNFX0xJR0hUTUFQXG5cdHZlYzQgbGlnaHRNYXBUZXhlbCA9IHRleHR1cmUyRCggbGlnaHRNYXAsIHZVdjIgKTtcblx0dmVjMyBsaWdodE1hcElycmFkaWFuY2UgPSBsaWdodE1hcFRleGVsLnJnYiAqIGxpZ2h0TWFwSW50ZW5zaXR5O1xuXHQjaWZuZGVmIFBIWVNJQ0FMTFlfQ09SUkVDVF9MSUdIVFNcblx0XHRsaWdodE1hcElycmFkaWFuY2UgKj0gUEk7XG5cdCNlbmRpZlxuXHRyZWZsZWN0ZWRMaWdodC5pbmRpcmVjdERpZmZ1c2UgKz0gbGlnaHRNYXBJcnJhZGlhbmNlO1xuI2VuZGlmIjt2YXIgbGlnaHRtYXBfcGFyc19mcmFnbWVudD0iI2lmZGVmIFVTRV9MSUdIVE1BUFxuXHR1bmlmb3JtIHNhbXBsZXIyRCBsaWdodE1hcDtcblx0dW5pZm9ybSBmbG9hdCBsaWdodE1hcEludGVuc2l0eTtcbiNlbmRpZiI7dmFyIGxpZ2h0c19sYW1iZXJ0X3ZlcnRleD0idmVjMyBkaWZmdXNlID0gdmVjMyggMS4wICk7XG5HZW9tZXRyaWNDb250ZXh0IGdlb21ldHJ5O1xuZ2VvbWV0cnkucG9zaXRpb24gPSBtdlBvc2l0aW9uLnh5ejtcbmdlb21ldHJ5Lm5vcm1hbCA9IG5vcm1hbGl6ZSggdHJhbnNmb3JtZWROb3JtYWwgKTtcbmdlb21ldHJ5LnZpZXdEaXIgPSAoIGlzT3J0aG9ncmFwaGljICkgPyB2ZWMzKCAwLCAwLCAxICkgOiBub3JtYWxpemUoIC1tdlBvc2l0aW9uLnh5eiApO1xuR2VvbWV0cmljQ29udGV4dCBiYWNrR2VvbWV0cnk7XG5iYWNrR2VvbWV0cnkucG9zaXRpb24gPSBnZW9tZXRyeS5wb3NpdGlvbjtcbmJhY2tHZW9tZXRyeS5ub3JtYWwgPSAtZ2VvbWV0cnkubm9ybWFsO1xuYmFja0dlb21ldHJ5LnZpZXdEaXIgPSBnZW9tZXRyeS52aWV3RGlyO1xudkxpZ2h0RnJvbnQgPSB2ZWMzKCAwLjAgKTtcbnZJbmRpcmVjdEZyb250ID0gdmVjMyggMC4wICk7XG4jaWZkZWYgRE9VQkxFX1NJREVEXG5cdHZMaWdodEJhY2sgPSB2ZWMzKCAwLjAgKTtcblx0dkluZGlyZWN0QmFjayA9IHZlYzMoIDAuMCApO1xuI2VuZGlmXG5JbmNpZGVudExpZ2h0IGRpcmVjdExpZ2h0O1xuZmxvYXQgZG90Tkw7XG52ZWMzIGRpcmVjdExpZ2h0Q29sb3JfRGlmZnVzZTtcbnZJbmRpcmVjdEZyb250ICs9IGdldEFtYmllbnRMaWdodElycmFkaWFuY2UoIGFtYmllbnRMaWdodENvbG9yICk7XG52SW5kaXJlY3RGcm9udCArPSBnZXRMaWdodFByb2JlSXJyYWRpYW5jZSggbGlnaHRQcm9iZSwgZ2VvbWV0cnkubm9ybWFsICk7XG4jaWZkZWYgRE9VQkxFX1NJREVEXG5cdHZJbmRpcmVjdEJhY2sgKz0gZ2V0QW1iaWVudExpZ2h0SXJyYWRpYW5jZSggYW1iaWVudExpZ2h0Q29sb3IgKTtcblx0dkluZGlyZWN0QmFjayArPSBnZXRMaWdodFByb2JlSXJyYWRpYW5jZSggbGlnaHRQcm9iZSwgYmFja0dlb21ldHJ5Lm5vcm1hbCApO1xuI2VuZGlmXG4jaWYgTlVNX1BPSU5UX0xJR0hUUyA+IDBcblx0I3ByYWdtYSB1bnJvbGxfbG9vcF9zdGFydFxuXHRmb3IgKCBpbnQgaSA9IDA7IGkgPCBOVU1fUE9JTlRfTElHSFRTOyBpICsrICkge1xuXHRcdGdldFBvaW50TGlnaHRJbmZvKCBwb2ludExpZ2h0c1sgaSBdLCBnZW9tZXRyeSwgZGlyZWN0TGlnaHQgKTtcblx0XHRkb3ROTCA9IGRvdCggZ2VvbWV0cnkubm9ybWFsLCBkaXJlY3RMaWdodC5kaXJlY3Rpb24gKTtcblx0XHRkaXJlY3RMaWdodENvbG9yX0RpZmZ1c2UgPSBkaXJlY3RMaWdodC5jb2xvcjtcblx0XHR2TGlnaHRGcm9udCArPSBzYXR1cmF0ZSggZG90TkwgKSAqIGRpcmVjdExpZ2h0Q29sb3JfRGlmZnVzZTtcblx0XHQjaWZkZWYgRE9VQkxFX1NJREVEXG5cdFx0XHR2TGlnaHRCYWNrICs9IHNhdHVyYXRlKCAtIGRvdE5MICkgKiBkaXJlY3RMaWdodENvbG9yX0RpZmZ1c2U7XG5cdFx0I2VuZGlmXG5cdH1cblx0I3ByYWdtYSB1bnJvbGxfbG9vcF9lbmRcbiNlbmRpZlxuI2lmIE5VTV9TUE9UX0xJR0hUUyA+IDBcblx0I3ByYWdtYSB1bnJvbGxfbG9vcF9zdGFydFxuXHRmb3IgKCBpbnQgaSA9IDA7IGkgPCBOVU1fU1BPVF9MSUdIVFM7IGkgKysgKSB7XG5cdFx0Z2V0U3BvdExpZ2h0SW5mbyggc3BvdExpZ2h0c1sgaSBdLCBnZW9tZXRyeSwgZGlyZWN0TGlnaHQgKTtcblx0XHRkb3ROTCA9IGRvdCggZ2VvbWV0cnkubm9ybWFsLCBkaXJlY3RMaWdodC5kaXJlY3Rpb24gKTtcblx0XHRkaXJlY3RMaWdodENvbG9yX0RpZmZ1c2UgPSBkaXJlY3RMaWdodC5jb2xvcjtcblx0XHR2TGlnaHRGcm9udCArPSBzYXR1cmF0ZSggZG90TkwgKSAqIGRpcmVjdExpZ2h0Q29sb3JfRGlmZnVzZTtcblx0XHQjaWZkZWYgRE9VQkxFX1NJREVEXG5cdFx0XHR2TGlnaHRCYWNrICs9IHNhdHVyYXRlKCAtIGRvdE5MICkgKiBkaXJlY3RMaWdodENvbG9yX0RpZmZ1c2U7XG5cdFx0I2VuZGlmXG5cdH1cblx0I3ByYWdtYSB1bnJvbGxfbG9vcF9lbmRcbiNlbmRpZlxuI2lmIE5VTV9ESVJfTElHSFRTID4gMFxuXHQjcHJhZ21hIHVucm9sbF9sb29wX3N0YXJ0XG5cdGZvciAoIGludCBpID0gMDsgaSA8IE5VTV9ESVJfTElHSFRTOyBpICsrICkge1xuXHRcdGdldERpcmVjdGlvbmFsTGlnaHRJbmZvKCBkaXJlY3Rpb25hbExpZ2h0c1sgaSBdLCBnZW9tZXRyeSwgZGlyZWN0TGlnaHQgKTtcblx0XHRkb3ROTCA9IGRvdCggZ2VvbWV0cnkubm9ybWFsLCBkaXJlY3RMaWdodC5kaXJlY3Rpb24gKTtcblx0XHRkaXJlY3RMaWdodENvbG9yX0RpZmZ1c2UgPSBkaXJlY3RMaWdodC5jb2xvcjtcblx0XHR2TGlnaHRGcm9udCArPSBzYXR1cmF0ZSggZG90TkwgKSAqIGRpcmVjdExpZ2h0Q29sb3JfRGlmZnVzZTtcblx0XHQjaWZkZWYgRE9VQkxFX1NJREVEXG5cdFx0XHR2TGlnaHRCYWNrICs9IHNhdHVyYXRlKCAtIGRvdE5MICkgKiBkaXJlY3RMaWdodENvbG9yX0RpZmZ1c2U7XG5cdFx0I2VuZGlmXG5cdH1cblx0I3ByYWdtYSB1bnJvbGxfbG9vcF9lbmRcbiNlbmRpZlxuI2lmIE5VTV9IRU1JX0xJR0hUUyA+IDBcblx0I3ByYWdtYSB1bnJvbGxfbG9vcF9zdGFydFxuXHRmb3IgKCBpbnQgaSA9IDA7IGkgPCBOVU1fSEVNSV9MSUdIVFM7IGkgKysgKSB7XG5cdFx0dkluZGlyZWN0RnJvbnQgKz0gZ2V0SGVtaXNwaGVyZUxpZ2h0SXJyYWRpYW5jZSggaGVtaXNwaGVyZUxpZ2h0c1sgaSBdLCBnZW9tZXRyeS5ub3JtYWwgKTtcblx0XHQjaWZkZWYgRE9VQkxFX1NJREVEXG5cdFx0XHR2SW5kaXJlY3RCYWNrICs9IGdldEhlbWlzcGhlcmVMaWdodElycmFkaWFuY2UoIGhlbWlzcGhlcmVMaWdodHNbIGkgXSwgYmFja0dlb21ldHJ5Lm5vcm1hbCApO1xuXHRcdCNlbmRpZlxuXHR9XG5cdCNwcmFnbWEgdW5yb2xsX2xvb3BfZW5kXG4jZW5kaWYiO3ZhciBsaWdodHNfcGFyc19iZWdpbj0idW5pZm9ybSBib29sIHJlY2VpdmVTaGFkb3c7XG51bmlmb3JtIHZlYzMgYW1iaWVudExpZ2h0Q29sb3I7XG51bmlmb3JtIHZlYzMgbGlnaHRQcm9iZVsgOSBdO1xudmVjMyBzaEdldElycmFkaWFuY2VBdCggaW4gdmVjMyBub3JtYWwsIGluIHZlYzMgc2hDb2VmZmljaWVudHNbIDkgXSApIHtcblx0ZmxvYXQgeCA9IG5vcm1hbC54LCB5ID0gbm9ybWFsLnksIHogPSBub3JtYWwuejtcblx0dmVjMyByZXN1bHQgPSBzaENvZWZmaWNpZW50c1sgMCBdICogMC44ODYyMjc7XG5cdHJlc3VsdCArPSBzaENvZWZmaWNpZW50c1sgMSBdICogMi4wICogMC41MTE2NjQgKiB5O1xuXHRyZXN1bHQgKz0gc2hDb2VmZmljaWVudHNbIDIgXSAqIDIuMCAqIDAuNTExNjY0ICogejtcblx0cmVzdWx0ICs9IHNoQ29lZmZpY2llbnRzWyAzIF0gKiAyLjAgKiAwLjUxMTY2NCAqIHg7XG5cdHJlc3VsdCArPSBzaENvZWZmaWNpZW50c1sgNCBdICogMi4wICogMC40MjkwNDMgKiB4ICogeTtcblx0cmVzdWx0ICs9IHNoQ29lZmZpY2llbnRzWyA1IF0gKiAyLjAgKiAwLjQyOTA0MyAqIHkgKiB6O1xuXHRyZXN1bHQgKz0gc2hDb2VmZmljaWVudHNbIDYgXSAqICggMC43NDMxMjUgKiB6ICogeiAtIDAuMjQ3NzA4ICk7XG5cdHJlc3VsdCArPSBzaENvZWZmaWNpZW50c1sgNyBdICogMi4wICogMC40MjkwNDMgKiB4ICogejtcblx0cmVzdWx0ICs9IHNoQ29lZmZpY2llbnRzWyA4IF0gKiAwLjQyOTA0MyAqICggeCAqIHggLSB5ICogeSApO1xuXHRyZXR1cm4gcmVzdWx0O1xufVxudmVjMyBnZXRMaWdodFByb2JlSXJyYWRpYW5jZSggY29uc3QgaW4gdmVjMyBsaWdodFByb2JlWyA5IF0sIGNvbnN0IGluIHZlYzMgbm9ybWFsICkge1xuXHR2ZWMzIHdvcmxkTm9ybWFsID0gaW52ZXJzZVRyYW5zZm9ybURpcmVjdGlvbiggbm9ybWFsLCB2aWV3TWF0cml4ICk7XG5cdHZlYzMgaXJyYWRpYW5jZSA9IHNoR2V0SXJyYWRpYW5jZUF0KCB3b3JsZE5vcm1hbCwgbGlnaHRQcm9iZSApO1xuXHRyZXR1cm4gaXJyYWRpYW5jZTtcbn1cbnZlYzMgZ2V0QW1iaWVudExpZ2h0SXJyYWRpYW5jZSggY29uc3QgaW4gdmVjMyBhbWJpZW50TGlnaHRDb2xvciApIHtcblx0dmVjMyBpcnJhZGlhbmNlID0gYW1iaWVudExpZ2h0Q29sb3I7XG5cdHJldHVybiBpcnJhZGlhbmNlO1xufVxuZmxvYXQgZ2V0RGlzdGFuY2VBdHRlbnVhdGlvbiggY29uc3QgaW4gZmxvYXQgbGlnaHREaXN0YW5jZSwgY29uc3QgaW4gZmxvYXQgY3V0b2ZmRGlzdGFuY2UsIGNvbnN0IGluIGZsb2F0IGRlY2F5RXhwb25lbnQgKSB7XG5cdCNpZiBkZWZpbmVkICggUEhZU0lDQUxMWV9DT1JSRUNUX0xJR0hUUyApXG5cdFx0ZmxvYXQgZGlzdGFuY2VGYWxsb2ZmID0gMS4wIC8gbWF4KCBwb3coIGxpZ2h0RGlzdGFuY2UsIGRlY2F5RXhwb25lbnQgKSwgMC4wMSApO1xuXHRcdGlmICggY3V0b2ZmRGlzdGFuY2UgPiAwLjAgKSB7XG5cdFx0XHRkaXN0YW5jZUZhbGxvZmYgKj0gcG93Miggc2F0dXJhdGUoIDEuMCAtIHBvdzQoIGxpZ2h0RGlzdGFuY2UgLyBjdXRvZmZEaXN0YW5jZSApICkgKTtcblx0XHR9XG5cdFx0cmV0dXJuIGRpc3RhbmNlRmFsbG9mZjtcblx0I2Vsc2Vcblx0XHRpZiAoIGN1dG9mZkRpc3RhbmNlID4gMC4wICYmIGRlY2F5RXhwb25lbnQgPiAwLjAgKSB7XG5cdFx0XHRyZXR1cm4gcG93KCBzYXR1cmF0ZSggLSBsaWdodERpc3RhbmNlIC8gY3V0b2ZmRGlzdGFuY2UgKyAxLjAgKSwgZGVjYXlFeHBvbmVudCApO1xuXHRcdH1cblx0XHRyZXR1cm4gMS4wO1xuXHQjZW5kaWZcbn1cbmZsb2F0IGdldFNwb3RBdHRlbnVhdGlvbiggY29uc3QgaW4gZmxvYXQgY29uZUNvc2luZSwgY29uc3QgaW4gZmxvYXQgcGVudW1icmFDb3NpbmUsIGNvbnN0IGluIGZsb2F0IGFuZ2xlQ29zaW5lICkge1xuXHRyZXR1cm4gc21vb3Roc3RlcCggY29uZUNvc2luZSwgcGVudW1icmFDb3NpbmUsIGFuZ2xlQ29zaW5lICk7XG59XG4jaWYgTlVNX0RJUl9MSUdIVFMgPiAwXG5cdHN0cnVjdCBEaXJlY3Rpb25hbExpZ2h0IHtcblx0XHR2ZWMzIGRpcmVjdGlvbjtcblx0XHR2ZWMzIGNvbG9yO1xuXHR9O1xuXHR1bmlmb3JtIERpcmVjdGlvbmFsTGlnaHQgZGlyZWN0aW9uYWxMaWdodHNbIE5VTV9ESVJfTElHSFRTIF07XG5cdHZvaWQgZ2V0RGlyZWN0aW9uYWxMaWdodEluZm8oIGNvbnN0IGluIERpcmVjdGlvbmFsTGlnaHQgZGlyZWN0aW9uYWxMaWdodCwgY29uc3QgaW4gR2VvbWV0cmljQ29udGV4dCBnZW9tZXRyeSwgb3V0IEluY2lkZW50TGlnaHQgbGlnaHQgKSB7XG5cdFx0bGlnaHQuY29sb3IgPSBkaXJlY3Rpb25hbExpZ2h0LmNvbG9yO1xuXHRcdGxpZ2h0LmRpcmVjdGlvbiA9IGRpcmVjdGlvbmFsTGlnaHQuZGlyZWN0aW9uO1xuXHRcdGxpZ2h0LnZpc2libGUgPSB0cnVlO1xuXHR9XG4jZW5kaWZcbiNpZiBOVU1fUE9JTlRfTElHSFRTID4gMFxuXHRzdHJ1Y3QgUG9pbnRMaWdodCB7XG5cdFx0dmVjMyBwb3NpdGlvbjtcblx0XHR2ZWMzIGNvbG9yO1xuXHRcdGZsb2F0IGRpc3RhbmNlO1xuXHRcdGZsb2F0IGRlY2F5O1xuXHR9O1xuXHR1bmlmb3JtIFBvaW50TGlnaHQgcG9pbnRMaWdodHNbIE5VTV9QT0lOVF9MSUdIVFMgXTtcblx0dm9pZCBnZXRQb2ludExpZ2h0SW5mbyggY29uc3QgaW4gUG9pbnRMaWdodCBwb2ludExpZ2h0LCBjb25zdCBpbiBHZW9tZXRyaWNDb250ZXh0IGdlb21ldHJ5LCBvdXQgSW5jaWRlbnRMaWdodCBsaWdodCApIHtcblx0XHR2ZWMzIGxWZWN0b3IgPSBwb2ludExpZ2h0LnBvc2l0aW9uIC0gZ2VvbWV0cnkucG9zaXRpb247XG5cdFx0bGlnaHQuZGlyZWN0aW9uID0gbm9ybWFsaXplKCBsVmVjdG9yICk7XG5cdFx0ZmxvYXQgbGlnaHREaXN0YW5jZSA9IGxlbmd0aCggbFZlY3RvciApO1xuXHRcdGxpZ2h0LmNvbG9yID0gcG9pbnRMaWdodC5jb2xvcjtcblx0XHRsaWdodC5jb2xvciAqPSBnZXREaXN0YW5jZUF0dGVudWF0aW9uKCBsaWdodERpc3RhbmNlLCBwb2ludExpZ2h0LmRpc3RhbmNlLCBwb2ludExpZ2h0LmRlY2F5ICk7XG5cdFx0bGlnaHQudmlzaWJsZSA9ICggbGlnaHQuY29sb3IgIT0gdmVjMyggMC4wICkgKTtcblx0fVxuI2VuZGlmXG4jaWYgTlVNX1NQT1RfTElHSFRTID4gMFxuXHRzdHJ1Y3QgU3BvdExpZ2h0IHtcblx0XHR2ZWMzIHBvc2l0aW9uO1xuXHRcdHZlYzMgZGlyZWN0aW9uO1xuXHRcdHZlYzMgY29sb3I7XG5cdFx0ZmxvYXQgZGlzdGFuY2U7XG5cdFx0ZmxvYXQgZGVjYXk7XG5cdFx0ZmxvYXQgY29uZUNvcztcblx0XHRmbG9hdCBwZW51bWJyYUNvcztcblx0fTtcblx0dW5pZm9ybSBTcG90TGlnaHQgc3BvdExpZ2h0c1sgTlVNX1NQT1RfTElHSFRTIF07XG5cdHZvaWQgZ2V0U3BvdExpZ2h0SW5mbyggY29uc3QgaW4gU3BvdExpZ2h0IHNwb3RMaWdodCwgY29uc3QgaW4gR2VvbWV0cmljQ29udGV4dCBnZW9tZXRyeSwgb3V0IEluY2lkZW50TGlnaHQgbGlnaHQgKSB7XG5cdFx0dmVjMyBsVmVjdG9yID0gc3BvdExpZ2h0LnBvc2l0aW9uIC0gZ2VvbWV0cnkucG9zaXRpb247XG5cdFx0bGlnaHQuZGlyZWN0aW9uID0gbm9ybWFsaXplKCBsVmVjdG9yICk7XG5cdFx0ZmxvYXQgYW5nbGVDb3MgPSBkb3QoIGxpZ2h0LmRpcmVjdGlvbiwgc3BvdExpZ2h0LmRpcmVjdGlvbiApO1xuXHRcdGZsb2F0IHNwb3RBdHRlbnVhdGlvbiA9IGdldFNwb3RBdHRlbnVhdGlvbiggc3BvdExpZ2h0LmNvbmVDb3MsIHNwb3RMaWdodC5wZW51bWJyYUNvcywgYW5nbGVDb3MgKTtcblx0XHRpZiAoIHNwb3RBdHRlbnVhdGlvbiA+IDAuMCApIHtcblx0XHRcdGZsb2F0IGxpZ2h0RGlzdGFuY2UgPSBsZW5ndGgoIGxWZWN0b3IgKTtcblx0XHRcdGxpZ2h0LmNvbG9yID0gc3BvdExpZ2h0LmNvbG9yICogc3BvdEF0dGVudWF0aW9uO1xuXHRcdFx0bGlnaHQuY29sb3IgKj0gZ2V0RGlzdGFuY2VBdHRlbnVhdGlvbiggbGlnaHREaXN0YW5jZSwgc3BvdExpZ2h0LmRpc3RhbmNlLCBzcG90TGlnaHQuZGVjYXkgKTtcblx0XHRcdGxpZ2h0LnZpc2libGUgPSAoIGxpZ2h0LmNvbG9yICE9IHZlYzMoIDAuMCApICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGxpZ2h0LmNvbG9yID0gdmVjMyggMC4wICk7XG5cdFx0XHRsaWdodC52aXNpYmxlID0gZmFsc2U7XG5cdFx0fVxuXHR9XG4jZW5kaWZcbiNpZiBOVU1fUkVDVF9BUkVBX0xJR0hUUyA+IDBcblx0c3RydWN0IFJlY3RBcmVhTGlnaHQge1xuXHRcdHZlYzMgY29sb3I7XG5cdFx0dmVjMyBwb3NpdGlvbjtcblx0XHR2ZWMzIGhhbGZXaWR0aDtcblx0XHR2ZWMzIGhhbGZIZWlnaHQ7XG5cdH07XG5cdHVuaWZvcm0gc2FtcGxlcjJEIGx0Y18xO1x0dW5pZm9ybSBzYW1wbGVyMkQgbHRjXzI7XG5cdHVuaWZvcm0gUmVjdEFyZWFMaWdodCByZWN0QXJlYUxpZ2h0c1sgTlVNX1JFQ1RfQVJFQV9MSUdIVFMgXTtcbiNlbmRpZlxuI2lmIE5VTV9IRU1JX0xJR0hUUyA+IDBcblx0c3RydWN0IEhlbWlzcGhlcmVMaWdodCB7XG5cdFx0dmVjMyBkaXJlY3Rpb247XG5cdFx0dmVjMyBza3lDb2xvcjtcblx0XHR2ZWMzIGdyb3VuZENvbG9yO1xuXHR9O1xuXHR1bmlmb3JtIEhlbWlzcGhlcmVMaWdodCBoZW1pc3BoZXJlTGlnaHRzWyBOVU1fSEVNSV9MSUdIVFMgXTtcblx0dmVjMyBnZXRIZW1pc3BoZXJlTGlnaHRJcnJhZGlhbmNlKCBjb25zdCBpbiBIZW1pc3BoZXJlTGlnaHQgaGVtaUxpZ2h0LCBjb25zdCBpbiB2ZWMzIG5vcm1hbCApIHtcblx0XHRmbG9hdCBkb3ROTCA9IGRvdCggbm9ybWFsLCBoZW1pTGlnaHQuZGlyZWN0aW9uICk7XG5cdFx0ZmxvYXQgaGVtaURpZmZ1c2VXZWlnaHQgPSAwLjUgKiBkb3ROTCArIDAuNTtcblx0XHR2ZWMzIGlycmFkaWFuY2UgPSBtaXgoIGhlbWlMaWdodC5ncm91bmRDb2xvciwgaGVtaUxpZ2h0LnNreUNvbG9yLCBoZW1pRGlmZnVzZVdlaWdodCApO1xuXHRcdHJldHVybiBpcnJhZGlhbmNlO1xuXHR9XG4jZW5kaWYiO3ZhciBlbnZtYXBfcGh5c2ljYWxfcGFyc19mcmFnbWVudD0iI2lmIGRlZmluZWQoIFVTRV9FTlZNQVAgKVxuXHQjaWZkZWYgRU5WTUFQX01PREVfUkVGUkFDVElPTlxuXHRcdHVuaWZvcm0gZmxvYXQgcmVmcmFjdGlvblJhdGlvO1xuXHQjZW5kaWZcblx0dmVjMyBnZXRJQkxJcnJhZGlhbmNlKCBjb25zdCBpbiB2ZWMzIG5vcm1hbCApIHtcblx0XHQjaWYgZGVmaW5lZCggRU5WTUFQX1RZUEVfQ1VCRV9VViApXG5cdFx0XHR2ZWMzIHdvcmxkTm9ybWFsID0gaW52ZXJzZVRyYW5zZm9ybURpcmVjdGlvbiggbm9ybWFsLCB2aWV3TWF0cml4ICk7XG5cdFx0XHR2ZWM0IGVudk1hcENvbG9yID0gdGV4dHVyZUN1YmVVViggZW52TWFwLCB3b3JsZE5vcm1hbCwgMS4wICk7XG5cdFx0XHRyZXR1cm4gUEkgKiBlbnZNYXBDb2xvci5yZ2IgKiBlbnZNYXBJbnRlbnNpdHk7XG5cdFx0I2Vsc2Vcblx0XHRcdHJldHVybiB2ZWMzKCAwLjAgKTtcblx0XHQjZW5kaWZcblx0fVxuXHR2ZWMzIGdldElCTFJhZGlhbmNlKCBjb25zdCBpbiB2ZWMzIHZpZXdEaXIsIGNvbnN0IGluIHZlYzMgbm9ybWFsLCBjb25zdCBpbiBmbG9hdCByb3VnaG5lc3MgKSB7XG5cdFx0I2lmIGRlZmluZWQoIEVOVk1BUF9UWVBFX0NVQkVfVVYgKVxuXHRcdFx0dmVjMyByZWZsZWN0VmVjO1xuXHRcdFx0I2lmZGVmIEVOVk1BUF9NT0RFX1JFRkxFQ1RJT05cblx0XHRcdFx0cmVmbGVjdFZlYyA9IHJlZmxlY3QoIC0gdmlld0Rpciwgbm9ybWFsICk7XG5cdFx0XHRcdHJlZmxlY3RWZWMgPSBub3JtYWxpemUoIG1peCggcmVmbGVjdFZlYywgbm9ybWFsLCByb3VnaG5lc3MgKiByb3VnaG5lc3MpICk7XG5cdFx0XHQjZWxzZVxuXHRcdFx0XHRyZWZsZWN0VmVjID0gcmVmcmFjdCggLSB2aWV3RGlyLCBub3JtYWwsIHJlZnJhY3Rpb25SYXRpbyApO1xuXHRcdFx0I2VuZGlmXG5cdFx0XHRyZWZsZWN0VmVjID0gaW52ZXJzZVRyYW5zZm9ybURpcmVjdGlvbiggcmVmbGVjdFZlYywgdmlld01hdHJpeCApO1xuXHRcdFx0dmVjNCBlbnZNYXBDb2xvciA9IHRleHR1cmVDdWJlVVYoIGVudk1hcCwgcmVmbGVjdFZlYywgcm91Z2huZXNzICk7XG5cdFx0XHRyZXR1cm4gZW52TWFwQ29sb3IucmdiICogZW52TWFwSW50ZW5zaXR5O1xuXHRcdCNlbHNlXG5cdFx0XHRyZXR1cm4gdmVjMyggMC4wICk7XG5cdFx0I2VuZGlmXG5cdH1cbiNlbmRpZiI7dmFyIGxpZ2h0c190b29uX2ZyYWdtZW50PSJUb29uTWF0ZXJpYWwgbWF0ZXJpYWw7XG5tYXRlcmlhbC5kaWZmdXNlQ29sb3IgPSBkaWZmdXNlQ29sb3IucmdiOyI7dmFyIGxpZ2h0c190b29uX3BhcnNfZnJhZ21lbnQ9InZhcnlpbmcgdmVjMyB2Vmlld1Bvc2l0aW9uO1xuc3RydWN0IFRvb25NYXRlcmlhbCB7XG5cdHZlYzMgZGlmZnVzZUNvbG9yO1xufTtcbnZvaWQgUkVfRGlyZWN0X1Rvb24oIGNvbnN0IGluIEluY2lkZW50TGlnaHQgZGlyZWN0TGlnaHQsIGNvbnN0IGluIEdlb21ldHJpY0NvbnRleHQgZ2VvbWV0cnksIGNvbnN0IGluIFRvb25NYXRlcmlhbCBtYXRlcmlhbCwgaW5vdXQgUmVmbGVjdGVkTGlnaHQgcmVmbGVjdGVkTGlnaHQgKSB7XG5cdHZlYzMgaXJyYWRpYW5jZSA9IGdldEdyYWRpZW50SXJyYWRpYW5jZSggZ2VvbWV0cnkubm9ybWFsLCBkaXJlY3RMaWdodC5kaXJlY3Rpb24gKSAqIGRpcmVjdExpZ2h0LmNvbG9yO1xuXHRyZWZsZWN0ZWRMaWdodC5kaXJlY3REaWZmdXNlICs9IGlycmFkaWFuY2UgKiBCUkRGX0xhbWJlcnQoIG1hdGVyaWFsLmRpZmZ1c2VDb2xvciApO1xufVxudm9pZCBSRV9JbmRpcmVjdERpZmZ1c2VfVG9vbiggY29uc3QgaW4gdmVjMyBpcnJhZGlhbmNlLCBjb25zdCBpbiBHZW9tZXRyaWNDb250ZXh0IGdlb21ldHJ5LCBjb25zdCBpbiBUb29uTWF0ZXJpYWwgbWF0ZXJpYWwsIGlub3V0IFJlZmxlY3RlZExpZ2h0IHJlZmxlY3RlZExpZ2h0ICkge1xuXHRyZWZsZWN0ZWRMaWdodC5pbmRpcmVjdERpZmZ1c2UgKz0gaXJyYWRpYW5jZSAqIEJSREZfTGFtYmVydCggbWF0ZXJpYWwuZGlmZnVzZUNvbG9yICk7XG59XG4jZGVmaW5lIFJFX0RpcmVjdFx0XHRcdFx0UkVfRGlyZWN0X1Rvb25cbiNkZWZpbmUgUkVfSW5kaXJlY3REaWZmdXNlXHRcdFJFX0luZGlyZWN0RGlmZnVzZV9Ub29uXG4jZGVmaW5lIE1hdGVyaWFsX0xpZ2h0UHJvYmVMT0QoIG1hdGVyaWFsIClcdCgwKSI7dmFyIGxpZ2h0c19waG9uZ19mcmFnbWVudD0iQmxpbm5QaG9uZ01hdGVyaWFsIG1hdGVyaWFsO1xubWF0ZXJpYWwuZGlmZnVzZUNvbG9yID0gZGlmZnVzZUNvbG9yLnJnYjtcbm1hdGVyaWFsLnNwZWN1bGFyQ29sb3IgPSBzcGVjdWxhcjtcbm1hdGVyaWFsLnNwZWN1bGFyU2hpbmluZXNzID0gc2hpbmluZXNzO1xubWF0ZXJpYWwuc3BlY3VsYXJTdHJlbmd0aCA9IHNwZWN1bGFyU3RyZW5ndGg7Ijt2YXIgbGlnaHRzX3Bob25nX3BhcnNfZnJhZ21lbnQ9InZhcnlpbmcgdmVjMyB2Vmlld1Bvc2l0aW9uO1xuc3RydWN0IEJsaW5uUGhvbmdNYXRlcmlhbCB7XG5cdHZlYzMgZGlmZnVzZUNvbG9yO1xuXHR2ZWMzIHNwZWN1bGFyQ29sb3I7XG5cdGZsb2F0IHNwZWN1bGFyU2hpbmluZXNzO1xuXHRmbG9hdCBzcGVjdWxhclN0cmVuZ3RoO1xufTtcbnZvaWQgUkVfRGlyZWN0X0JsaW5uUGhvbmcoIGNvbnN0IGluIEluY2lkZW50TGlnaHQgZGlyZWN0TGlnaHQsIGNvbnN0IGluIEdlb21ldHJpY0NvbnRleHQgZ2VvbWV0cnksIGNvbnN0IGluIEJsaW5uUGhvbmdNYXRlcmlhbCBtYXRlcmlhbCwgaW5vdXQgUmVmbGVjdGVkTGlnaHQgcmVmbGVjdGVkTGlnaHQgKSB7XG5cdGZsb2F0IGRvdE5MID0gc2F0dXJhdGUoIGRvdCggZ2VvbWV0cnkubm9ybWFsLCBkaXJlY3RMaWdodC5kaXJlY3Rpb24gKSApO1xuXHR2ZWMzIGlycmFkaWFuY2UgPSBkb3ROTCAqIGRpcmVjdExpZ2h0LmNvbG9yO1xuXHRyZWZsZWN0ZWRMaWdodC5kaXJlY3REaWZmdXNlICs9IGlycmFkaWFuY2UgKiBCUkRGX0xhbWJlcnQoIG1hdGVyaWFsLmRpZmZ1c2VDb2xvciApO1xuXHRyZWZsZWN0ZWRMaWdodC5kaXJlY3RTcGVjdWxhciArPSBpcnJhZGlhbmNlICogQlJERl9CbGlublBob25nKCBkaXJlY3RMaWdodC5kaXJlY3Rpb24sIGdlb21ldHJ5LnZpZXdEaXIsIGdlb21ldHJ5Lm5vcm1hbCwgbWF0ZXJpYWwuc3BlY3VsYXJDb2xvciwgbWF0ZXJpYWwuc3BlY3VsYXJTaGluaW5lc3MgKSAqIG1hdGVyaWFsLnNwZWN1bGFyU3RyZW5ndGg7XG59XG52b2lkIFJFX0luZGlyZWN0RGlmZnVzZV9CbGlublBob25nKCBjb25zdCBpbiB2ZWMzIGlycmFkaWFuY2UsIGNvbnN0IGluIEdlb21ldHJpY0NvbnRleHQgZ2VvbWV0cnksIGNvbnN0IGluIEJsaW5uUGhvbmdNYXRlcmlhbCBtYXRlcmlhbCwgaW5vdXQgUmVmbGVjdGVkTGlnaHQgcmVmbGVjdGVkTGlnaHQgKSB7XG5cdHJlZmxlY3RlZExpZ2h0LmluZGlyZWN0RGlmZnVzZSArPSBpcnJhZGlhbmNlICogQlJERl9MYW1iZXJ0KCBtYXRlcmlhbC5kaWZmdXNlQ29sb3IgKTtcbn1cbiNkZWZpbmUgUkVfRGlyZWN0XHRcdFx0XHRSRV9EaXJlY3RfQmxpbm5QaG9uZ1xuI2RlZmluZSBSRV9JbmRpcmVjdERpZmZ1c2VcdFx0UkVfSW5kaXJlY3REaWZmdXNlX0JsaW5uUGhvbmdcbiNkZWZpbmUgTWF0ZXJpYWxfTGlnaHRQcm9iZUxPRCggbWF0ZXJpYWwgKVx0KDApIjt2YXIgbGlnaHRzX3BoeXNpY2FsX2ZyYWdtZW50PSJQaHlzaWNhbE1hdGVyaWFsIG1hdGVyaWFsO1xubWF0ZXJpYWwuZGlmZnVzZUNvbG9yID0gZGlmZnVzZUNvbG9yLnJnYiAqICggMS4wIC0gbWV0YWxuZXNzRmFjdG9yICk7XG52ZWMzIGR4eSA9IG1heCggYWJzKCBkRmR4KCBnZW9tZXRyeU5vcm1hbCApICksIGFicyggZEZkeSggZ2VvbWV0cnlOb3JtYWwgKSApICk7XG5mbG9hdCBnZW9tZXRyeVJvdWdobmVzcyA9IG1heCggbWF4KCBkeHkueCwgZHh5LnkgKSwgZHh5LnogKTtcbm1hdGVyaWFsLnJvdWdobmVzcyA9IG1heCggcm91Z2huZXNzRmFjdG9yLCAwLjA1MjUgKTttYXRlcmlhbC5yb3VnaG5lc3MgKz0gZ2VvbWV0cnlSb3VnaG5lc3M7XG5tYXRlcmlhbC5yb3VnaG5lc3MgPSBtaW4oIG1hdGVyaWFsLnJvdWdobmVzcywgMS4wICk7XG4jaWZkZWYgSU9SXG5cdCNpZmRlZiBTUEVDVUxBUlxuXHRcdGZsb2F0IHNwZWN1bGFySW50ZW5zaXR5RmFjdG9yID0gc3BlY3VsYXJJbnRlbnNpdHk7XG5cdFx0dmVjMyBzcGVjdWxhckNvbG9yRmFjdG9yID0gc3BlY3VsYXJDb2xvcjtcblx0XHQjaWZkZWYgVVNFX1NQRUNVTEFSSU5URU5TSVRZTUFQXG5cdFx0XHRzcGVjdWxhckludGVuc2l0eUZhY3RvciAqPSB0ZXh0dXJlMkQoIHNwZWN1bGFySW50ZW5zaXR5TWFwLCB2VXYgKS5hO1xuXHRcdCNlbmRpZlxuXHRcdCNpZmRlZiBVU0VfU1BFQ1VMQVJDT0xPUk1BUFxuXHRcdFx0c3BlY3VsYXJDb2xvckZhY3RvciAqPSB0ZXh0dXJlMkQoIHNwZWN1bGFyQ29sb3JNYXAsIHZVdiApLnJnYjtcblx0XHQjZW5kaWZcblx0XHRtYXRlcmlhbC5zcGVjdWxhckY5MCA9IG1peCggc3BlY3VsYXJJbnRlbnNpdHlGYWN0b3IsIDEuMCwgbWV0YWxuZXNzRmFjdG9yICk7XG5cdCNlbHNlXG5cdFx0ZmxvYXQgc3BlY3VsYXJJbnRlbnNpdHlGYWN0b3IgPSAxLjA7XG5cdFx0dmVjMyBzcGVjdWxhckNvbG9yRmFjdG9yID0gdmVjMyggMS4wICk7XG5cdFx0bWF0ZXJpYWwuc3BlY3VsYXJGOTAgPSAxLjA7XG5cdCNlbmRpZlxuXHRtYXRlcmlhbC5zcGVjdWxhckNvbG9yID0gbWl4KCBtaW4oIHBvdzIoICggaW9yIC0gMS4wICkgLyAoIGlvciArIDEuMCApICkgKiBzcGVjdWxhckNvbG9yRmFjdG9yLCB2ZWMzKCAxLjAgKSApICogc3BlY3VsYXJJbnRlbnNpdHlGYWN0b3IsIGRpZmZ1c2VDb2xvci5yZ2IsIG1ldGFsbmVzc0ZhY3RvciApO1xuI2Vsc2Vcblx0bWF0ZXJpYWwuc3BlY3VsYXJDb2xvciA9IG1peCggdmVjMyggMC4wNCApLCBkaWZmdXNlQ29sb3IucmdiLCBtZXRhbG5lc3NGYWN0b3IgKTtcblx0bWF0ZXJpYWwuc3BlY3VsYXJGOTAgPSAxLjA7XG4jZW5kaWZcbiNpZmRlZiBVU0VfQ0xFQVJDT0FUXG5cdG1hdGVyaWFsLmNsZWFyY29hdCA9IGNsZWFyY29hdDtcblx0bWF0ZXJpYWwuY2xlYXJjb2F0Um91Z2huZXNzID0gY2xlYXJjb2F0Um91Z2huZXNzO1xuXHRtYXRlcmlhbC5jbGVhcmNvYXRGMCA9IHZlYzMoIDAuMDQgKTtcblx0bWF0ZXJpYWwuY2xlYXJjb2F0RjkwID0gMS4wO1xuXHQjaWZkZWYgVVNFX0NMRUFSQ09BVE1BUFxuXHRcdG1hdGVyaWFsLmNsZWFyY29hdCAqPSB0ZXh0dXJlMkQoIGNsZWFyY29hdE1hcCwgdlV2ICkueDtcblx0I2VuZGlmXG5cdCNpZmRlZiBVU0VfQ0xFQVJDT0FUX1JPVUdITkVTU01BUFxuXHRcdG1hdGVyaWFsLmNsZWFyY29hdFJvdWdobmVzcyAqPSB0ZXh0dXJlMkQoIGNsZWFyY29hdFJvdWdobmVzc01hcCwgdlV2ICkueTtcblx0I2VuZGlmXG5cdG1hdGVyaWFsLmNsZWFyY29hdCA9IHNhdHVyYXRlKCBtYXRlcmlhbC5jbGVhcmNvYXQgKTtcdG1hdGVyaWFsLmNsZWFyY29hdFJvdWdobmVzcyA9IG1heCggbWF0ZXJpYWwuY2xlYXJjb2F0Um91Z2huZXNzLCAwLjA1MjUgKTtcblx0bWF0ZXJpYWwuY2xlYXJjb2F0Um91Z2huZXNzICs9IGdlb21ldHJ5Um91Z2huZXNzO1xuXHRtYXRlcmlhbC5jbGVhcmNvYXRSb3VnaG5lc3MgPSBtaW4oIG1hdGVyaWFsLmNsZWFyY29hdFJvdWdobmVzcywgMS4wICk7XG4jZW5kaWZcbiNpZmRlZiBVU0VfU0hFRU5cblx0bWF0ZXJpYWwuc2hlZW5Db2xvciA9IHNoZWVuQ29sb3I7XG5cdCNpZmRlZiBVU0VfU0hFRU5DT0xPUk1BUFxuXHRcdG1hdGVyaWFsLnNoZWVuQ29sb3IgKj0gdGV4dHVyZTJEKCBzaGVlbkNvbG9yTWFwLCB2VXYgKS5yZ2I7XG5cdCNlbmRpZlxuXHRtYXRlcmlhbC5zaGVlblJvdWdobmVzcyA9IGNsYW1wKCBzaGVlblJvdWdobmVzcywgMC4wNywgMS4wICk7XG5cdCNpZmRlZiBVU0VfU0hFRU5ST1VHSE5FU1NNQVBcblx0XHRtYXRlcmlhbC5zaGVlblJvdWdobmVzcyAqPSB0ZXh0dXJlMkQoIHNoZWVuUm91Z2huZXNzTWFwLCB2VXYgKS5hO1xuXHQjZW5kaWZcbiNlbmRpZiI7dmFyIGxpZ2h0c19waHlzaWNhbF9wYXJzX2ZyYWdtZW50PSJzdHJ1Y3QgUGh5c2ljYWxNYXRlcmlhbCB7XG5cdHZlYzMgZGlmZnVzZUNvbG9yO1xuXHRmbG9hdCByb3VnaG5lc3M7XG5cdHZlYzMgc3BlY3VsYXJDb2xvcjtcblx0ZmxvYXQgc3BlY3VsYXJGOTA7XG5cdCNpZmRlZiBVU0VfQ0xFQVJDT0FUXG5cdFx0ZmxvYXQgY2xlYXJjb2F0O1xuXHRcdGZsb2F0IGNsZWFyY29hdFJvdWdobmVzcztcblx0XHR2ZWMzIGNsZWFyY29hdEYwO1xuXHRcdGZsb2F0IGNsZWFyY29hdEY5MDtcblx0I2VuZGlmXG5cdCNpZmRlZiBVU0VfU0hFRU5cblx0XHR2ZWMzIHNoZWVuQ29sb3I7XG5cdFx0ZmxvYXQgc2hlZW5Sb3VnaG5lc3M7XG5cdCNlbmRpZlxufTtcbnZlYzMgY2xlYXJjb2F0U3BlY3VsYXIgPSB2ZWMzKCAwLjAgKTtcbnZlYzMgc2hlZW5TcGVjdWxhciA9IHZlYzMoIDAuMCApO1xuZmxvYXQgSUJMU2hlZW5CUkRGKCBjb25zdCBpbiB2ZWMzIG5vcm1hbCwgY29uc3QgaW4gdmVjMyB2aWV3RGlyLCBjb25zdCBpbiBmbG9hdCByb3VnaG5lc3MpIHtcblx0ZmxvYXQgZG90TlYgPSBzYXR1cmF0ZSggZG90KCBub3JtYWwsIHZpZXdEaXIgKSApO1xuXHRmbG9hdCByMiA9IHJvdWdobmVzcyAqIHJvdWdobmVzcztcblx0ZmxvYXQgYSA9IHJvdWdobmVzcyA8IDAuMjUgPyAtMzM5LjIgKiByMiArIDE2MS40ICogcm91Z2huZXNzIC0gMjUuOSA6IC04LjQ4ICogcjIgKyAxNC4zICogcm91Z2huZXNzIC0gOS45NTtcblx0ZmxvYXQgYiA9IHJvdWdobmVzcyA8IDAuMjUgPyA0NC4wICogcjIgLSAyMy43ICogcm91Z2huZXNzICsgMy4yNiA6IDEuOTcgKiByMiAtIDMuMjcgKiByb3VnaG5lc3MgKyAwLjcyO1xuXHRmbG9hdCBERyA9IGV4cCggYSAqIGRvdE5WICsgYiApICsgKCByb3VnaG5lc3MgPCAwLjI1ID8gMC4wIDogMC4xICogKCByb3VnaG5lc3MgLSAwLjI1ICkgKTtcblx0cmV0dXJuIHNhdHVyYXRlKCBERyAqIFJFQ0lQUk9DQUxfUEkgKTtcbn1cbnZlYzIgREZHQXBwcm94KCBjb25zdCBpbiB2ZWMzIG5vcm1hbCwgY29uc3QgaW4gdmVjMyB2aWV3RGlyLCBjb25zdCBpbiBmbG9hdCByb3VnaG5lc3MgKSB7XG5cdGZsb2F0IGRvdE5WID0gc2F0dXJhdGUoIGRvdCggbm9ybWFsLCB2aWV3RGlyICkgKTtcblx0Y29uc3QgdmVjNCBjMCA9IHZlYzQoIC0gMSwgLSAwLjAyNzUsIC0gMC41NzIsIDAuMDIyICk7XG5cdGNvbnN0IHZlYzQgYzEgPSB2ZWM0KCAxLCAwLjA0MjUsIDEuMDQsIC0gMC4wNCApO1xuXHR2ZWM0IHIgPSByb3VnaG5lc3MgKiBjMCArIGMxO1xuXHRmbG9hdCBhMDA0ID0gbWluKCByLnggKiByLngsIGV4cDIoIC0gOS4yOCAqIGRvdE5WICkgKSAqIHIueCArIHIueTtcblx0dmVjMiBmYWIgPSB2ZWMyKCAtIDEuMDQsIDEuMDQgKSAqIGEwMDQgKyByLnp3O1xuXHRyZXR1cm4gZmFiO1xufVxudmVjMyBFbnZpcm9ubWVudEJSREYoIGNvbnN0IGluIHZlYzMgbm9ybWFsLCBjb25zdCBpbiB2ZWMzIHZpZXdEaXIsIGNvbnN0IGluIHZlYzMgc3BlY3VsYXJDb2xvciwgY29uc3QgaW4gZmxvYXQgc3BlY3VsYXJGOTAsIGNvbnN0IGluIGZsb2F0IHJvdWdobmVzcyApIHtcblx0dmVjMiBmYWIgPSBERkdBcHByb3goIG5vcm1hbCwgdmlld0Rpciwgcm91Z2huZXNzICk7XG5cdHJldHVybiBzcGVjdWxhckNvbG9yICogZmFiLnggKyBzcGVjdWxhckY5MCAqIGZhYi55O1xufVxudm9pZCBjb21wdXRlTXVsdGlzY2F0dGVyaW5nKCBjb25zdCBpbiB2ZWMzIG5vcm1hbCwgY29uc3QgaW4gdmVjMyB2aWV3RGlyLCBjb25zdCBpbiB2ZWMzIHNwZWN1bGFyQ29sb3IsIGNvbnN0IGluIGZsb2F0IHNwZWN1bGFyRjkwLCBjb25zdCBpbiBmbG9hdCByb3VnaG5lc3MsIGlub3V0IHZlYzMgc2luZ2xlU2NhdHRlciwgaW5vdXQgdmVjMyBtdWx0aVNjYXR0ZXIgKSB7XG5cdHZlYzIgZmFiID0gREZHQXBwcm94KCBub3JtYWwsIHZpZXdEaXIsIHJvdWdobmVzcyApO1xuXHR2ZWMzIEZzc0VzcyA9IHNwZWN1bGFyQ29sb3IgKiBmYWIueCArIHNwZWN1bGFyRjkwICogZmFiLnk7XG5cdGZsb2F0IEVzcyA9IGZhYi54ICsgZmFiLnk7XG5cdGZsb2F0IEVtcyA9IDEuMCAtIEVzcztcblx0dmVjMyBGYXZnID0gc3BlY3VsYXJDb2xvciArICggMS4wIC0gc3BlY3VsYXJDb2xvciApICogMC4wNDc2MTk7XHR2ZWMzIEZtcyA9IEZzc0VzcyAqIEZhdmcgLyAoIDEuMCAtIEVtcyAqIEZhdmcgKTtcblx0c2luZ2xlU2NhdHRlciArPSBGc3NFc3M7XG5cdG11bHRpU2NhdHRlciArPSBGbXMgKiBFbXM7XG59XG4jaWYgTlVNX1JFQ1RfQVJFQV9MSUdIVFMgPiAwXG5cdHZvaWQgUkVfRGlyZWN0X1JlY3RBcmVhX1BoeXNpY2FsKCBjb25zdCBpbiBSZWN0QXJlYUxpZ2h0IHJlY3RBcmVhTGlnaHQsIGNvbnN0IGluIEdlb21ldHJpY0NvbnRleHQgZ2VvbWV0cnksIGNvbnN0IGluIFBoeXNpY2FsTWF0ZXJpYWwgbWF0ZXJpYWwsIGlub3V0IFJlZmxlY3RlZExpZ2h0IHJlZmxlY3RlZExpZ2h0ICkge1xuXHRcdHZlYzMgbm9ybWFsID0gZ2VvbWV0cnkubm9ybWFsO1xuXHRcdHZlYzMgdmlld0RpciA9IGdlb21ldHJ5LnZpZXdEaXI7XG5cdFx0dmVjMyBwb3NpdGlvbiA9IGdlb21ldHJ5LnBvc2l0aW9uO1xuXHRcdHZlYzMgbGlnaHRQb3MgPSByZWN0QXJlYUxpZ2h0LnBvc2l0aW9uO1xuXHRcdHZlYzMgaGFsZldpZHRoID0gcmVjdEFyZWFMaWdodC5oYWxmV2lkdGg7XG5cdFx0dmVjMyBoYWxmSGVpZ2h0ID0gcmVjdEFyZWFMaWdodC5oYWxmSGVpZ2h0O1xuXHRcdHZlYzMgbGlnaHRDb2xvciA9IHJlY3RBcmVhTGlnaHQuY29sb3I7XG5cdFx0ZmxvYXQgcm91Z2huZXNzID0gbWF0ZXJpYWwucm91Z2huZXNzO1xuXHRcdHZlYzMgcmVjdENvb3Jkc1sgNCBdO1xuXHRcdHJlY3RDb29yZHNbIDAgXSA9IGxpZ2h0UG9zICsgaGFsZldpZHRoIC0gaGFsZkhlaWdodDtcdFx0cmVjdENvb3Jkc1sgMSBdID0gbGlnaHRQb3MgLSBoYWxmV2lkdGggLSBoYWxmSGVpZ2h0O1xuXHRcdHJlY3RDb29yZHNbIDIgXSA9IGxpZ2h0UG9zIC0gaGFsZldpZHRoICsgaGFsZkhlaWdodDtcblx0XHRyZWN0Q29vcmRzWyAzIF0gPSBsaWdodFBvcyArIGhhbGZXaWR0aCArIGhhbGZIZWlnaHQ7XG5cdFx0dmVjMiB1diA9IExUQ19Vdiggbm9ybWFsLCB2aWV3RGlyLCByb3VnaG5lc3MgKTtcblx0XHR2ZWM0IHQxID0gdGV4dHVyZTJEKCBsdGNfMSwgdXYgKTtcblx0XHR2ZWM0IHQyID0gdGV4dHVyZTJEKCBsdGNfMiwgdXYgKTtcblx0XHRtYXQzIG1JbnYgPSBtYXQzKFxuXHRcdFx0dmVjMyggdDEueCwgMCwgdDEueSApLFxuXHRcdFx0dmVjMyggICAgMCwgMSwgICAgMCApLFxuXHRcdFx0dmVjMyggdDEueiwgMCwgdDEudyApXG5cdFx0KTtcblx0XHR2ZWMzIGZyZXNuZWwgPSAoIG1hdGVyaWFsLnNwZWN1bGFyQ29sb3IgKiB0Mi54ICsgKCB2ZWMzKCAxLjAgKSAtIG1hdGVyaWFsLnNwZWN1bGFyQ29sb3IgKSAqIHQyLnkgKTtcblx0XHRyZWZsZWN0ZWRMaWdodC5kaXJlY3RTcGVjdWxhciArPSBsaWdodENvbG9yICogZnJlc25lbCAqIExUQ19FdmFsdWF0ZSggbm9ybWFsLCB2aWV3RGlyLCBwb3NpdGlvbiwgbUludiwgcmVjdENvb3JkcyApO1xuXHRcdHJlZmxlY3RlZExpZ2h0LmRpcmVjdERpZmZ1c2UgKz0gbGlnaHRDb2xvciAqIG1hdGVyaWFsLmRpZmZ1c2VDb2xvciAqIExUQ19FdmFsdWF0ZSggbm9ybWFsLCB2aWV3RGlyLCBwb3NpdGlvbiwgbWF0MyggMS4wICksIHJlY3RDb29yZHMgKTtcblx0fVxuI2VuZGlmXG52b2lkIFJFX0RpcmVjdF9QaHlzaWNhbCggY29uc3QgaW4gSW5jaWRlbnRMaWdodCBkaXJlY3RMaWdodCwgY29uc3QgaW4gR2VvbWV0cmljQ29udGV4dCBnZW9tZXRyeSwgY29uc3QgaW4gUGh5c2ljYWxNYXRlcmlhbCBtYXRlcmlhbCwgaW5vdXQgUmVmbGVjdGVkTGlnaHQgcmVmbGVjdGVkTGlnaHQgKSB7XG5cdGZsb2F0IGRvdE5MID0gc2F0dXJhdGUoIGRvdCggZ2VvbWV0cnkubm9ybWFsLCBkaXJlY3RMaWdodC5kaXJlY3Rpb24gKSApO1xuXHR2ZWMzIGlycmFkaWFuY2UgPSBkb3ROTCAqIGRpcmVjdExpZ2h0LmNvbG9yO1xuXHQjaWZkZWYgVVNFX0NMRUFSQ09BVFxuXHRcdGZsb2F0IGRvdE5MY2MgPSBzYXR1cmF0ZSggZG90KCBnZW9tZXRyeS5jbGVhcmNvYXROb3JtYWwsIGRpcmVjdExpZ2h0LmRpcmVjdGlvbiApICk7XG5cdFx0dmVjMyBjY0lycmFkaWFuY2UgPSBkb3ROTGNjICogZGlyZWN0TGlnaHQuY29sb3I7XG5cdFx0Y2xlYXJjb2F0U3BlY3VsYXIgKz0gY2NJcnJhZGlhbmNlICogQlJERl9HR1goIGRpcmVjdExpZ2h0LmRpcmVjdGlvbiwgZ2VvbWV0cnkudmlld0RpciwgZ2VvbWV0cnkuY2xlYXJjb2F0Tm9ybWFsLCBtYXRlcmlhbC5jbGVhcmNvYXRGMCwgbWF0ZXJpYWwuY2xlYXJjb2F0RjkwLCBtYXRlcmlhbC5jbGVhcmNvYXRSb3VnaG5lc3MgKTtcblx0I2VuZGlmXG5cdCNpZmRlZiBVU0VfU0hFRU5cblx0XHRzaGVlblNwZWN1bGFyICs9IGlycmFkaWFuY2UgKiBCUkRGX1NoZWVuKCBkaXJlY3RMaWdodC5kaXJlY3Rpb24sIGdlb21ldHJ5LnZpZXdEaXIsIGdlb21ldHJ5Lm5vcm1hbCwgbWF0ZXJpYWwuc2hlZW5Db2xvciwgbWF0ZXJpYWwuc2hlZW5Sb3VnaG5lc3MgKTtcblx0I2VuZGlmXG5cdHJlZmxlY3RlZExpZ2h0LmRpcmVjdFNwZWN1bGFyICs9IGlycmFkaWFuY2UgKiBCUkRGX0dHWCggZGlyZWN0TGlnaHQuZGlyZWN0aW9uLCBnZW9tZXRyeS52aWV3RGlyLCBnZW9tZXRyeS5ub3JtYWwsIG1hdGVyaWFsLnNwZWN1bGFyQ29sb3IsIG1hdGVyaWFsLnNwZWN1bGFyRjkwLCBtYXRlcmlhbC5yb3VnaG5lc3MgKTtcblx0cmVmbGVjdGVkTGlnaHQuZGlyZWN0RGlmZnVzZSArPSBpcnJhZGlhbmNlICogQlJERl9MYW1iZXJ0KCBtYXRlcmlhbC5kaWZmdXNlQ29sb3IgKTtcbn1cbnZvaWQgUkVfSW5kaXJlY3REaWZmdXNlX1BoeXNpY2FsKCBjb25zdCBpbiB2ZWMzIGlycmFkaWFuY2UsIGNvbnN0IGluIEdlb21ldHJpY0NvbnRleHQgZ2VvbWV0cnksIGNvbnN0IGluIFBoeXNpY2FsTWF0ZXJpYWwgbWF0ZXJpYWwsIGlub3V0IFJlZmxlY3RlZExpZ2h0IHJlZmxlY3RlZExpZ2h0ICkge1xuXHRyZWZsZWN0ZWRMaWdodC5pbmRpcmVjdERpZmZ1c2UgKz0gaXJyYWRpYW5jZSAqIEJSREZfTGFtYmVydCggbWF0ZXJpYWwuZGlmZnVzZUNvbG9yICk7XG59XG52b2lkIFJFX0luZGlyZWN0U3BlY3VsYXJfUGh5c2ljYWwoIGNvbnN0IGluIHZlYzMgcmFkaWFuY2UsIGNvbnN0IGluIHZlYzMgaXJyYWRpYW5jZSwgY29uc3QgaW4gdmVjMyBjbGVhcmNvYXRSYWRpYW5jZSwgY29uc3QgaW4gR2VvbWV0cmljQ29udGV4dCBnZW9tZXRyeSwgY29uc3QgaW4gUGh5c2ljYWxNYXRlcmlhbCBtYXRlcmlhbCwgaW5vdXQgUmVmbGVjdGVkTGlnaHQgcmVmbGVjdGVkTGlnaHQpIHtcblx0I2lmZGVmIFVTRV9DTEVBUkNPQVRcblx0XHRjbGVhcmNvYXRTcGVjdWxhciArPSBjbGVhcmNvYXRSYWRpYW5jZSAqIEVudmlyb25tZW50QlJERiggZ2VvbWV0cnkuY2xlYXJjb2F0Tm9ybWFsLCBnZW9tZXRyeS52aWV3RGlyLCBtYXRlcmlhbC5jbGVhcmNvYXRGMCwgbWF0ZXJpYWwuY2xlYXJjb2F0RjkwLCBtYXRlcmlhbC5jbGVhcmNvYXRSb3VnaG5lc3MgKTtcblx0I2VuZGlmXG5cdCNpZmRlZiBVU0VfU0hFRU5cblx0XHRzaGVlblNwZWN1bGFyICs9IGlycmFkaWFuY2UgKiBtYXRlcmlhbC5zaGVlbkNvbG9yICogSUJMU2hlZW5CUkRGKCBnZW9tZXRyeS5ub3JtYWwsIGdlb21ldHJ5LnZpZXdEaXIsIG1hdGVyaWFsLnNoZWVuUm91Z2huZXNzICk7XG5cdCNlbmRpZlxuXHR2ZWMzIHNpbmdsZVNjYXR0ZXJpbmcgPSB2ZWMzKCAwLjAgKTtcblx0dmVjMyBtdWx0aVNjYXR0ZXJpbmcgPSB2ZWMzKCAwLjAgKTtcblx0dmVjMyBjb3NpbmVXZWlnaHRlZElycmFkaWFuY2UgPSBpcnJhZGlhbmNlICogUkVDSVBST0NBTF9QSTtcblx0Y29tcHV0ZU11bHRpc2NhdHRlcmluZyggZ2VvbWV0cnkubm9ybWFsLCBnZW9tZXRyeS52aWV3RGlyLCBtYXRlcmlhbC5zcGVjdWxhckNvbG9yLCBtYXRlcmlhbC5zcGVjdWxhckY5MCwgbWF0ZXJpYWwucm91Z2huZXNzLCBzaW5nbGVTY2F0dGVyaW5nLCBtdWx0aVNjYXR0ZXJpbmcgKTtcblx0dmVjMyBkaWZmdXNlID0gbWF0ZXJpYWwuZGlmZnVzZUNvbG9yICogKCAxLjAgLSAoIHNpbmdsZVNjYXR0ZXJpbmcgKyBtdWx0aVNjYXR0ZXJpbmcgKSApO1xuXHRyZWZsZWN0ZWRMaWdodC5pbmRpcmVjdFNwZWN1bGFyICs9IHJhZGlhbmNlICogc2luZ2xlU2NhdHRlcmluZztcblx0cmVmbGVjdGVkTGlnaHQuaW5kaXJlY3RTcGVjdWxhciArPSBtdWx0aVNjYXR0ZXJpbmcgKiBjb3NpbmVXZWlnaHRlZElycmFkaWFuY2U7XG5cdHJlZmxlY3RlZExpZ2h0LmluZGlyZWN0RGlmZnVzZSArPSBkaWZmdXNlICogY29zaW5lV2VpZ2h0ZWRJcnJhZGlhbmNlO1xufVxuI2RlZmluZSBSRV9EaXJlY3RcdFx0XHRcdFJFX0RpcmVjdF9QaHlzaWNhbFxuI2RlZmluZSBSRV9EaXJlY3RfUmVjdEFyZWFcdFx0UkVfRGlyZWN0X1JlY3RBcmVhX1BoeXNpY2FsXG4jZGVmaW5lIFJFX0luZGlyZWN0RGlmZnVzZVx0XHRSRV9JbmRpcmVjdERpZmZ1c2VfUGh5c2ljYWxcbiNkZWZpbmUgUkVfSW5kaXJlY3RTcGVjdWxhclx0XHRSRV9JbmRpcmVjdFNwZWN1bGFyX1BoeXNpY2FsXG5mbG9hdCBjb21wdXRlU3BlY3VsYXJPY2NsdXNpb24oIGNvbnN0IGluIGZsb2F0IGRvdE5WLCBjb25zdCBpbiBmbG9hdCBhbWJpZW50T2NjbHVzaW9uLCBjb25zdCBpbiBmbG9hdCByb3VnaG5lc3MgKSB7XG5cdHJldHVybiBzYXR1cmF0ZSggcG93KCBkb3ROViArIGFtYmllbnRPY2NsdXNpb24sIGV4cDIoIC0gMTYuMCAqIHJvdWdobmVzcyAtIDEuMCApICkgLSAxLjAgKyBhbWJpZW50T2NjbHVzaW9uICk7XG59Ijt2YXIgbGlnaHRzX2ZyYWdtZW50X2JlZ2luPSJcbkdlb21ldHJpY0NvbnRleHQgZ2VvbWV0cnk7XG5nZW9tZXRyeS5wb3NpdGlvbiA9IC0gdlZpZXdQb3NpdGlvbjtcbmdlb21ldHJ5Lm5vcm1hbCA9IG5vcm1hbDtcbmdlb21ldHJ5LnZpZXdEaXIgPSAoIGlzT3J0aG9ncmFwaGljICkgPyB2ZWMzKCAwLCAwLCAxICkgOiBub3JtYWxpemUoIHZWaWV3UG9zaXRpb24gKTtcbiNpZmRlZiBVU0VfQ0xFQVJDT0FUXG5cdGdlb21ldHJ5LmNsZWFyY29hdE5vcm1hbCA9IGNsZWFyY29hdE5vcm1hbDtcbiNlbmRpZlxuSW5jaWRlbnRMaWdodCBkaXJlY3RMaWdodDtcbiNpZiAoIE5VTV9QT0lOVF9MSUdIVFMgPiAwICkgJiYgZGVmaW5lZCggUkVfRGlyZWN0IClcblx0UG9pbnRMaWdodCBwb2ludExpZ2h0O1xuXHQjaWYgZGVmaW5lZCggVVNFX1NIQURPV01BUCApICYmIE5VTV9QT0lOVF9MSUdIVF9TSEFET1dTID4gMFxuXHRQb2ludExpZ2h0U2hhZG93IHBvaW50TGlnaHRTaGFkb3c7XG5cdCNlbmRpZlxuXHQjcHJhZ21hIHVucm9sbF9sb29wX3N0YXJ0XG5cdGZvciAoIGludCBpID0gMDsgaSA8IE5VTV9QT0lOVF9MSUdIVFM7IGkgKysgKSB7XG5cdFx0cG9pbnRMaWdodCA9IHBvaW50TGlnaHRzWyBpIF07XG5cdFx0Z2V0UG9pbnRMaWdodEluZm8oIHBvaW50TGlnaHQsIGdlb21ldHJ5LCBkaXJlY3RMaWdodCApO1xuXHRcdCNpZiBkZWZpbmVkKCBVU0VfU0hBRE9XTUFQICkgJiYgKCBVTlJPTExFRF9MT09QX0lOREVYIDwgTlVNX1BPSU5UX0xJR0hUX1NIQURPV1MgKVxuXHRcdHBvaW50TGlnaHRTaGFkb3cgPSBwb2ludExpZ2h0U2hhZG93c1sgaSBdO1xuXHRcdGRpcmVjdExpZ2h0LmNvbG9yICo9IGFsbCggYnZlYzIoIGRpcmVjdExpZ2h0LnZpc2libGUsIHJlY2VpdmVTaGFkb3cgKSApID8gZ2V0UG9pbnRTaGFkb3coIHBvaW50U2hhZG93TWFwWyBpIF0sIHBvaW50TGlnaHRTaGFkb3cuc2hhZG93TWFwU2l6ZSwgcG9pbnRMaWdodFNoYWRvdy5zaGFkb3dCaWFzLCBwb2ludExpZ2h0U2hhZG93LnNoYWRvd1JhZGl1cywgdlBvaW50U2hhZG93Q29vcmRbIGkgXSwgcG9pbnRMaWdodFNoYWRvdy5zaGFkb3dDYW1lcmFOZWFyLCBwb2ludExpZ2h0U2hhZG93LnNoYWRvd0NhbWVyYUZhciApIDogMS4wO1xuXHRcdCNlbmRpZlxuXHRcdFJFX0RpcmVjdCggZGlyZWN0TGlnaHQsIGdlb21ldHJ5LCBtYXRlcmlhbCwgcmVmbGVjdGVkTGlnaHQgKTtcblx0fVxuXHQjcHJhZ21hIHVucm9sbF9sb29wX2VuZFxuI2VuZGlmXG4jaWYgKCBOVU1fU1BPVF9MSUdIVFMgPiAwICkgJiYgZGVmaW5lZCggUkVfRGlyZWN0IClcblx0U3BvdExpZ2h0IHNwb3RMaWdodDtcblx0I2lmIGRlZmluZWQoIFVTRV9TSEFET1dNQVAgKSAmJiBOVU1fU1BPVF9MSUdIVF9TSEFET1dTID4gMFxuXHRTcG90TGlnaHRTaGFkb3cgc3BvdExpZ2h0U2hhZG93O1xuXHQjZW5kaWZcblx0I3ByYWdtYSB1bnJvbGxfbG9vcF9zdGFydFxuXHRmb3IgKCBpbnQgaSA9IDA7IGkgPCBOVU1fU1BPVF9MSUdIVFM7IGkgKysgKSB7XG5cdFx0c3BvdExpZ2h0ID0gc3BvdExpZ2h0c1sgaSBdO1xuXHRcdGdldFNwb3RMaWdodEluZm8oIHNwb3RMaWdodCwgZ2VvbWV0cnksIGRpcmVjdExpZ2h0ICk7XG5cdFx0I2lmIGRlZmluZWQoIFVTRV9TSEFET1dNQVAgKSAmJiAoIFVOUk9MTEVEX0xPT1BfSU5ERVggPCBOVU1fU1BPVF9MSUdIVF9TSEFET1dTIClcblx0XHRzcG90TGlnaHRTaGFkb3cgPSBzcG90TGlnaHRTaGFkb3dzWyBpIF07XG5cdFx0ZGlyZWN0TGlnaHQuY29sb3IgKj0gYWxsKCBidmVjMiggZGlyZWN0TGlnaHQudmlzaWJsZSwgcmVjZWl2ZVNoYWRvdyApICkgPyBnZXRTaGFkb3coIHNwb3RTaGFkb3dNYXBbIGkgXSwgc3BvdExpZ2h0U2hhZG93LnNoYWRvd01hcFNpemUsIHNwb3RMaWdodFNoYWRvdy5zaGFkb3dCaWFzLCBzcG90TGlnaHRTaGFkb3cuc2hhZG93UmFkaXVzLCB2U3BvdFNoYWRvd0Nvb3JkWyBpIF0gKSA6IDEuMDtcblx0XHQjZW5kaWZcblx0XHRSRV9EaXJlY3QoIGRpcmVjdExpZ2h0LCBnZW9tZXRyeSwgbWF0ZXJpYWwsIHJlZmxlY3RlZExpZ2h0ICk7XG5cdH1cblx0I3ByYWdtYSB1bnJvbGxfbG9vcF9lbmRcbiNlbmRpZlxuI2lmICggTlVNX0RJUl9MSUdIVFMgPiAwICkgJiYgZGVmaW5lZCggUkVfRGlyZWN0IClcblx0RGlyZWN0aW9uYWxMaWdodCBkaXJlY3Rpb25hbExpZ2h0O1xuXHQjaWYgZGVmaW5lZCggVVNFX1NIQURPV01BUCApICYmIE5VTV9ESVJfTElHSFRfU0hBRE9XUyA+IDBcblx0RGlyZWN0aW9uYWxMaWdodFNoYWRvdyBkaXJlY3Rpb25hbExpZ2h0U2hhZG93O1xuXHQjZW5kaWZcblx0I3ByYWdtYSB1bnJvbGxfbG9vcF9zdGFydFxuXHRmb3IgKCBpbnQgaSA9IDA7IGkgPCBOVU1fRElSX0xJR0hUUzsgaSArKyApIHtcblx0XHRkaXJlY3Rpb25hbExpZ2h0ID0gZGlyZWN0aW9uYWxMaWdodHNbIGkgXTtcblx0XHRnZXREaXJlY3Rpb25hbExpZ2h0SW5mbyggZGlyZWN0aW9uYWxMaWdodCwgZ2VvbWV0cnksIGRpcmVjdExpZ2h0ICk7XG5cdFx0I2lmIGRlZmluZWQoIFVTRV9TSEFET1dNQVAgKSAmJiAoIFVOUk9MTEVEX0xPT1BfSU5ERVggPCBOVU1fRElSX0xJR0hUX1NIQURPV1MgKVxuXHRcdGRpcmVjdGlvbmFsTGlnaHRTaGFkb3cgPSBkaXJlY3Rpb25hbExpZ2h0U2hhZG93c1sgaSBdO1xuXHRcdGRpcmVjdExpZ2h0LmNvbG9yICo9IGFsbCggYnZlYzIoIGRpcmVjdExpZ2h0LnZpc2libGUsIHJlY2VpdmVTaGFkb3cgKSApID8gZ2V0U2hhZG93KCBkaXJlY3Rpb25hbFNoYWRvd01hcFsgaSBdLCBkaXJlY3Rpb25hbExpZ2h0U2hhZG93LnNoYWRvd01hcFNpemUsIGRpcmVjdGlvbmFsTGlnaHRTaGFkb3cuc2hhZG93QmlhcywgZGlyZWN0aW9uYWxMaWdodFNoYWRvdy5zaGFkb3dSYWRpdXMsIHZEaXJlY3Rpb25hbFNoYWRvd0Nvb3JkWyBpIF0gKSA6IDEuMDtcblx0XHQjZW5kaWZcblx0XHRSRV9EaXJlY3QoIGRpcmVjdExpZ2h0LCBnZW9tZXRyeSwgbWF0ZXJpYWwsIHJlZmxlY3RlZExpZ2h0ICk7XG5cdH1cblx0I3ByYWdtYSB1bnJvbGxfbG9vcF9lbmRcbiNlbmRpZlxuI2lmICggTlVNX1JFQ1RfQVJFQV9MSUdIVFMgPiAwICkgJiYgZGVmaW5lZCggUkVfRGlyZWN0X1JlY3RBcmVhIClcblx0UmVjdEFyZWFMaWdodCByZWN0QXJlYUxpZ2h0O1xuXHQjcHJhZ21hIHVucm9sbF9sb29wX3N0YXJ0XG5cdGZvciAoIGludCBpID0gMDsgaSA8IE5VTV9SRUNUX0FSRUFfTElHSFRTOyBpICsrICkge1xuXHRcdHJlY3RBcmVhTGlnaHQgPSByZWN0QXJlYUxpZ2h0c1sgaSBdO1xuXHRcdFJFX0RpcmVjdF9SZWN0QXJlYSggcmVjdEFyZWFMaWdodCwgZ2VvbWV0cnksIG1hdGVyaWFsLCByZWZsZWN0ZWRMaWdodCApO1xuXHR9XG5cdCNwcmFnbWEgdW5yb2xsX2xvb3BfZW5kXG4jZW5kaWZcbiNpZiBkZWZpbmVkKCBSRV9JbmRpcmVjdERpZmZ1c2UgKVxuXHR2ZWMzIGlibElycmFkaWFuY2UgPSB2ZWMzKCAwLjAgKTtcblx0dmVjMyBpcnJhZGlhbmNlID0gZ2V0QW1iaWVudExpZ2h0SXJyYWRpYW5jZSggYW1iaWVudExpZ2h0Q29sb3IgKTtcblx0aXJyYWRpYW5jZSArPSBnZXRMaWdodFByb2JlSXJyYWRpYW5jZSggbGlnaHRQcm9iZSwgZ2VvbWV0cnkubm9ybWFsICk7XG5cdCNpZiAoIE5VTV9IRU1JX0xJR0hUUyA+IDAgKVxuXHRcdCNwcmFnbWEgdW5yb2xsX2xvb3Bfc3RhcnRcblx0XHRmb3IgKCBpbnQgaSA9IDA7IGkgPCBOVU1fSEVNSV9MSUdIVFM7IGkgKysgKSB7XG5cdFx0XHRpcnJhZGlhbmNlICs9IGdldEhlbWlzcGhlcmVMaWdodElycmFkaWFuY2UoIGhlbWlzcGhlcmVMaWdodHNbIGkgXSwgZ2VvbWV0cnkubm9ybWFsICk7XG5cdFx0fVxuXHRcdCNwcmFnbWEgdW5yb2xsX2xvb3BfZW5kXG5cdCNlbmRpZlxuI2VuZGlmXG4jaWYgZGVmaW5lZCggUkVfSW5kaXJlY3RTcGVjdWxhciApXG5cdHZlYzMgcmFkaWFuY2UgPSB2ZWMzKCAwLjAgKTtcblx0dmVjMyBjbGVhcmNvYXRSYWRpYW5jZSA9IHZlYzMoIDAuMCApO1xuI2VuZGlmIjt2YXIgbGlnaHRzX2ZyYWdtZW50X21hcHM9IiNpZiBkZWZpbmVkKCBSRV9JbmRpcmVjdERpZmZ1c2UgKVxuXHQjaWZkZWYgVVNFX0xJR0hUTUFQXG5cdFx0dmVjNCBsaWdodE1hcFRleGVsID0gdGV4dHVyZTJEKCBsaWdodE1hcCwgdlV2MiApO1xuXHRcdHZlYzMgbGlnaHRNYXBJcnJhZGlhbmNlID0gbGlnaHRNYXBUZXhlbC5yZ2IgKiBsaWdodE1hcEludGVuc2l0eTtcblx0XHQjaWZuZGVmIFBIWVNJQ0FMTFlfQ09SUkVDVF9MSUdIVFNcblx0XHRcdGxpZ2h0TWFwSXJyYWRpYW5jZSAqPSBQSTtcblx0XHQjZW5kaWZcblx0XHRpcnJhZGlhbmNlICs9IGxpZ2h0TWFwSXJyYWRpYW5jZTtcblx0I2VuZGlmXG5cdCNpZiBkZWZpbmVkKCBVU0VfRU5WTUFQICkgJiYgZGVmaW5lZCggU1RBTkRBUkQgKSAmJiBkZWZpbmVkKCBFTlZNQVBfVFlQRV9DVUJFX1VWIClcblx0XHRpYmxJcnJhZGlhbmNlICs9IGdldElCTElycmFkaWFuY2UoIGdlb21ldHJ5Lm5vcm1hbCApO1xuXHQjZW5kaWZcbiNlbmRpZlxuI2lmIGRlZmluZWQoIFVTRV9FTlZNQVAgKSAmJiBkZWZpbmVkKCBSRV9JbmRpcmVjdFNwZWN1bGFyIClcblx0cmFkaWFuY2UgKz0gZ2V0SUJMUmFkaWFuY2UoIGdlb21ldHJ5LnZpZXdEaXIsIGdlb21ldHJ5Lm5vcm1hbCwgbWF0ZXJpYWwucm91Z2huZXNzICk7XG5cdCNpZmRlZiBVU0VfQ0xFQVJDT0FUXG5cdFx0Y2xlYXJjb2F0UmFkaWFuY2UgKz0gZ2V0SUJMUmFkaWFuY2UoIGdlb21ldHJ5LnZpZXdEaXIsIGdlb21ldHJ5LmNsZWFyY29hdE5vcm1hbCwgbWF0ZXJpYWwuY2xlYXJjb2F0Um91Z2huZXNzICk7XG5cdCNlbmRpZlxuI2VuZGlmIjt2YXIgbGlnaHRzX2ZyYWdtZW50X2VuZD0iI2lmIGRlZmluZWQoIFJFX0luZGlyZWN0RGlmZnVzZSApXG5cdFJFX0luZGlyZWN0RGlmZnVzZSggaXJyYWRpYW5jZSwgZ2VvbWV0cnksIG1hdGVyaWFsLCByZWZsZWN0ZWRMaWdodCApO1xuI2VuZGlmXG4jaWYgZGVmaW5lZCggUkVfSW5kaXJlY3RTcGVjdWxhciApXG5cdFJFX0luZGlyZWN0U3BlY3VsYXIoIHJhZGlhbmNlLCBpYmxJcnJhZGlhbmNlLCBjbGVhcmNvYXRSYWRpYW5jZSwgZ2VvbWV0cnksIG1hdGVyaWFsLCByZWZsZWN0ZWRMaWdodCApO1xuI2VuZGlmIjt2YXIgbG9nZGVwdGhidWZfZnJhZ21lbnQ9IiNpZiBkZWZpbmVkKCBVU0VfTE9HREVQVEhCVUYgKSAmJiBkZWZpbmVkKCBVU0VfTE9HREVQVEhCVUZfRVhUIClcblx0Z2xfRnJhZ0RlcHRoRVhUID0gdklzUGVyc3BlY3RpdmUgPT0gMC4wID8gZ2xfRnJhZ0Nvb3JkLnogOiBsb2cyKCB2RnJhZ0RlcHRoICkgKiBsb2dEZXB0aEJ1ZkZDICogMC41O1xuI2VuZGlmIjt2YXIgbG9nZGVwdGhidWZfcGFyc19mcmFnbWVudD0iI2lmIGRlZmluZWQoIFVTRV9MT0dERVBUSEJVRiApICYmIGRlZmluZWQoIFVTRV9MT0dERVBUSEJVRl9FWFQgKVxuXHR1bmlmb3JtIGZsb2F0IGxvZ0RlcHRoQnVmRkM7XG5cdHZhcnlpbmcgZmxvYXQgdkZyYWdEZXB0aDtcblx0dmFyeWluZyBmbG9hdCB2SXNQZXJzcGVjdGl2ZTtcbiNlbmRpZiI7dmFyIGxvZ2RlcHRoYnVmX3BhcnNfdmVydGV4PSIjaWZkZWYgVVNFX0xPR0RFUFRIQlVGXG5cdCNpZmRlZiBVU0VfTE9HREVQVEhCVUZfRVhUXG5cdFx0dmFyeWluZyBmbG9hdCB2RnJhZ0RlcHRoO1xuXHRcdHZhcnlpbmcgZmxvYXQgdklzUGVyc3BlY3RpdmU7XG5cdCNlbHNlXG5cdFx0dW5pZm9ybSBmbG9hdCBsb2dEZXB0aEJ1ZkZDO1xuXHQjZW5kaWZcbiNlbmRpZiI7dmFyIGxvZ2RlcHRoYnVmX3ZlcnRleD0iI2lmZGVmIFVTRV9MT0dERVBUSEJVRlxuXHQjaWZkZWYgVVNFX0xPR0RFUFRIQlVGX0VYVFxuXHRcdHZGcmFnRGVwdGggPSAxLjAgKyBnbF9Qb3NpdGlvbi53O1xuXHRcdHZJc1BlcnNwZWN0aXZlID0gZmxvYXQoIGlzUGVyc3BlY3RpdmVNYXRyaXgoIHByb2plY3Rpb25NYXRyaXggKSApO1xuXHQjZWxzZVxuXHRcdGlmICggaXNQZXJzcGVjdGl2ZU1hdHJpeCggcHJvamVjdGlvbk1hdHJpeCApICkge1xuXHRcdFx0Z2xfUG9zaXRpb24ueiA9IGxvZzIoIG1heCggRVBTSUxPTiwgZ2xfUG9zaXRpb24udyArIDEuMCApICkgKiBsb2dEZXB0aEJ1ZkZDIC0gMS4wO1xuXHRcdFx0Z2xfUG9zaXRpb24ueiAqPSBnbF9Qb3NpdGlvbi53O1xuXHRcdH1cblx0I2VuZGlmXG4jZW5kaWYiO3ZhciBtYXBfZnJhZ21lbnQ9IiNpZmRlZiBVU0VfTUFQXG5cdHZlYzQgc2FtcGxlZERpZmZ1c2VDb2xvciA9IHRleHR1cmUyRCggbWFwLCB2VXYgKTtcblx0I2lmZGVmIERFQ09ERV9WSURFT19URVhUVVJFXG5cdFx0c2FtcGxlZERpZmZ1c2VDb2xvciA9IHZlYzQoIG1peCggcG93KCBzYW1wbGVkRGlmZnVzZUNvbG9yLnJnYiAqIDAuOTQ3ODY3Mjk4NiArIHZlYzMoIDAuMDUyMTMyNzAxNCApLCB2ZWMzKCAyLjQgKSApLCBzYW1wbGVkRGlmZnVzZUNvbG9yLnJnYiAqIDAuMDc3Mzk5MzgwOCwgdmVjMyggbGVzc1RoYW5FcXVhbCggc2FtcGxlZERpZmZ1c2VDb2xvci5yZ2IsIHZlYzMoIDAuMDQwNDUgKSApICkgKSwgc2FtcGxlZERpZmZ1c2VDb2xvci53ICk7XG5cdCNlbmRpZlxuXHRkaWZmdXNlQ29sb3IgKj0gc2FtcGxlZERpZmZ1c2VDb2xvcjtcbiNlbmRpZiI7dmFyIG1hcF9wYXJzX2ZyYWdtZW50PSIjaWZkZWYgVVNFX01BUFxuXHR1bmlmb3JtIHNhbXBsZXIyRCBtYXA7XG4jZW5kaWYiO3ZhciBtYXBfcGFydGljbGVfZnJhZ21lbnQ9IiNpZiBkZWZpbmVkKCBVU0VfTUFQICkgfHwgZGVmaW5lZCggVVNFX0FMUEhBTUFQIClcblx0dmVjMiB1diA9ICggdXZUcmFuc2Zvcm0gKiB2ZWMzKCBnbF9Qb2ludENvb3JkLngsIDEuMCAtIGdsX1BvaW50Q29vcmQueSwgMSApICkueHk7XG4jZW5kaWZcbiNpZmRlZiBVU0VfTUFQXG5cdGRpZmZ1c2VDb2xvciAqPSB0ZXh0dXJlMkQoIG1hcCwgdXYgKTtcbiNlbmRpZlxuI2lmZGVmIFVTRV9BTFBIQU1BUFxuXHRkaWZmdXNlQ29sb3IuYSAqPSB0ZXh0dXJlMkQoIGFscGhhTWFwLCB1diApLmc7XG4jZW5kaWYiO3ZhciBtYXBfcGFydGljbGVfcGFyc19mcmFnbWVudD0iI2lmIGRlZmluZWQoIFVTRV9NQVAgKSB8fCBkZWZpbmVkKCBVU0VfQUxQSEFNQVAgKVxuXHR1bmlmb3JtIG1hdDMgdXZUcmFuc2Zvcm07XG4jZW5kaWZcbiNpZmRlZiBVU0VfTUFQXG5cdHVuaWZvcm0gc2FtcGxlcjJEIG1hcDtcbiNlbmRpZlxuI2lmZGVmIFVTRV9BTFBIQU1BUFxuXHR1bmlmb3JtIHNhbXBsZXIyRCBhbHBoYU1hcDtcbiNlbmRpZiI7dmFyIG1ldGFsbmVzc21hcF9mcmFnbWVudD0iZmxvYXQgbWV0YWxuZXNzRmFjdG9yID0gbWV0YWxuZXNzO1xuI2lmZGVmIFVTRV9NRVRBTE5FU1NNQVBcblx0dmVjNCB0ZXhlbE1ldGFsbmVzcyA9IHRleHR1cmUyRCggbWV0YWxuZXNzTWFwLCB2VXYgKTtcblx0bWV0YWxuZXNzRmFjdG9yICo9IHRleGVsTWV0YWxuZXNzLmI7XG4jZW5kaWYiO3ZhciBtZXRhbG5lc3NtYXBfcGFyc19mcmFnbWVudD0iI2lmZGVmIFVTRV9NRVRBTE5FU1NNQVBcblx0dW5pZm9ybSBzYW1wbGVyMkQgbWV0YWxuZXNzTWFwO1xuI2VuZGlmIjt2YXIgbW9ycGhub3JtYWxfdmVydGV4PSIjaWZkZWYgVVNFX01PUlBITk9STUFMU1xuXHRvYmplY3ROb3JtYWwgKj0gbW9ycGhUYXJnZXRCYXNlSW5mbHVlbmNlO1xuXHQjaWZkZWYgTU9SUEhUQVJHRVRTX1RFWFRVUkVcblx0XHRmb3IgKCBpbnQgaSA9IDA7IGkgPCBNT1JQSFRBUkdFVFNfQ09VTlQ7IGkgKysgKSB7XG5cdFx0XHRpZiAoIG1vcnBoVGFyZ2V0SW5mbHVlbmNlc1sgaSBdICE9IDAuMCApIG9iamVjdE5vcm1hbCArPSBnZXRNb3JwaCggZ2xfVmVydGV4SUQsIGksIDEsIDIgKSAqIG1vcnBoVGFyZ2V0SW5mbHVlbmNlc1sgaSBdO1xuXHRcdH1cblx0I2Vsc2Vcblx0XHRvYmplY3ROb3JtYWwgKz0gbW9ycGhOb3JtYWwwICogbW9ycGhUYXJnZXRJbmZsdWVuY2VzWyAwIF07XG5cdFx0b2JqZWN0Tm9ybWFsICs9IG1vcnBoTm9ybWFsMSAqIG1vcnBoVGFyZ2V0SW5mbHVlbmNlc1sgMSBdO1xuXHRcdG9iamVjdE5vcm1hbCArPSBtb3JwaE5vcm1hbDIgKiBtb3JwaFRhcmdldEluZmx1ZW5jZXNbIDIgXTtcblx0XHRvYmplY3ROb3JtYWwgKz0gbW9ycGhOb3JtYWwzICogbW9ycGhUYXJnZXRJbmZsdWVuY2VzWyAzIF07XG5cdCNlbmRpZlxuI2VuZGlmIjt2YXIgbW9ycGh0YXJnZXRfcGFyc192ZXJ0ZXg9IiNpZmRlZiBVU0VfTU9SUEhUQVJHRVRTXG5cdHVuaWZvcm0gZmxvYXQgbW9ycGhUYXJnZXRCYXNlSW5mbHVlbmNlO1xuXHQjaWZkZWYgTU9SUEhUQVJHRVRTX1RFWFRVUkVcblx0XHR1bmlmb3JtIGZsb2F0IG1vcnBoVGFyZ2V0SW5mbHVlbmNlc1sgTU9SUEhUQVJHRVRTX0NPVU5UIF07XG5cdFx0dW5pZm9ybSBzYW1wbGVyMkRBcnJheSBtb3JwaFRhcmdldHNUZXh0dXJlO1xuXHRcdHVuaWZvcm0gdmVjMiBtb3JwaFRhcmdldHNUZXh0dXJlU2l6ZTtcblx0XHR2ZWMzIGdldE1vcnBoKCBjb25zdCBpbiBpbnQgdmVydGV4SW5kZXgsIGNvbnN0IGluIGludCBtb3JwaFRhcmdldEluZGV4LCBjb25zdCBpbiBpbnQgb2Zmc2V0LCBjb25zdCBpbiBpbnQgc3RyaWRlICkge1xuXHRcdFx0ZmxvYXQgdGV4ZWxJbmRleCA9IGZsb2F0KCB2ZXJ0ZXhJbmRleCAqIHN0cmlkZSArIG9mZnNldCApO1xuXHRcdFx0ZmxvYXQgeSA9IGZsb29yKCB0ZXhlbEluZGV4IC8gbW9ycGhUYXJnZXRzVGV4dHVyZVNpemUueCApO1xuXHRcdFx0ZmxvYXQgeCA9IHRleGVsSW5kZXggLSB5ICogbW9ycGhUYXJnZXRzVGV4dHVyZVNpemUueDtcblx0XHRcdHZlYzMgbW9ycGhVViA9IHZlYzMoICggeCArIDAuNSApIC8gbW9ycGhUYXJnZXRzVGV4dHVyZVNpemUueCwgeSAvIG1vcnBoVGFyZ2V0c1RleHR1cmVTaXplLnksIG1vcnBoVGFyZ2V0SW5kZXggKTtcblx0XHRcdHJldHVybiB0ZXh0dXJlKCBtb3JwaFRhcmdldHNUZXh0dXJlLCBtb3JwaFVWICkueHl6O1xuXHRcdH1cblx0I2Vsc2Vcblx0XHQjaWZuZGVmIFVTRV9NT1JQSE5PUk1BTFNcblx0XHRcdHVuaWZvcm0gZmxvYXQgbW9ycGhUYXJnZXRJbmZsdWVuY2VzWyA4IF07XG5cdFx0I2Vsc2Vcblx0XHRcdHVuaWZvcm0gZmxvYXQgbW9ycGhUYXJnZXRJbmZsdWVuY2VzWyA0IF07XG5cdFx0I2VuZGlmXG5cdCNlbmRpZlxuI2VuZGlmIjt2YXIgbW9ycGh0YXJnZXRfdmVydGV4PSIjaWZkZWYgVVNFX01PUlBIVEFSR0VUU1xuXHR0cmFuc2Zvcm1lZCAqPSBtb3JwaFRhcmdldEJhc2VJbmZsdWVuY2U7XG5cdCNpZmRlZiBNT1JQSFRBUkdFVFNfVEVYVFVSRVxuXHRcdGZvciAoIGludCBpID0gMDsgaSA8IE1PUlBIVEFSR0VUU19DT1VOVDsgaSArKyApIHtcblx0XHRcdCNpZm5kZWYgVVNFX01PUlBITk9STUFMU1xuXHRcdFx0XHRpZiAoIG1vcnBoVGFyZ2V0SW5mbHVlbmNlc1sgaSBdICE9IDAuMCApIHRyYW5zZm9ybWVkICs9IGdldE1vcnBoKCBnbF9WZXJ0ZXhJRCwgaSwgMCwgMSApICogbW9ycGhUYXJnZXRJbmZsdWVuY2VzWyBpIF07XG5cdFx0XHQjZWxzZVxuXHRcdFx0XHRpZiAoIG1vcnBoVGFyZ2V0SW5mbHVlbmNlc1sgaSBdICE9IDAuMCApIHRyYW5zZm9ybWVkICs9IGdldE1vcnBoKCBnbF9WZXJ0ZXhJRCwgaSwgMCwgMiApICogbW9ycGhUYXJnZXRJbmZsdWVuY2VzWyBpIF07XG5cdFx0XHQjZW5kaWZcblx0XHR9XG5cdCNlbHNlXG5cdFx0dHJhbnNmb3JtZWQgKz0gbW9ycGhUYXJnZXQwICogbW9ycGhUYXJnZXRJbmZsdWVuY2VzWyAwIF07XG5cdFx0dHJhbnNmb3JtZWQgKz0gbW9ycGhUYXJnZXQxICogbW9ycGhUYXJnZXRJbmZsdWVuY2VzWyAxIF07XG5cdFx0dHJhbnNmb3JtZWQgKz0gbW9ycGhUYXJnZXQyICogbW9ycGhUYXJnZXRJbmZsdWVuY2VzWyAyIF07XG5cdFx0dHJhbnNmb3JtZWQgKz0gbW9ycGhUYXJnZXQzICogbW9ycGhUYXJnZXRJbmZsdWVuY2VzWyAzIF07XG5cdFx0I2lmbmRlZiBVU0VfTU9SUEhOT1JNQUxTXG5cdFx0XHR0cmFuc2Zvcm1lZCArPSBtb3JwaFRhcmdldDQgKiBtb3JwaFRhcmdldEluZmx1ZW5jZXNbIDQgXTtcblx0XHRcdHRyYW5zZm9ybWVkICs9IG1vcnBoVGFyZ2V0NSAqIG1vcnBoVGFyZ2V0SW5mbHVlbmNlc1sgNSBdO1xuXHRcdFx0dHJhbnNmb3JtZWQgKz0gbW9ycGhUYXJnZXQ2ICogbW9ycGhUYXJnZXRJbmZsdWVuY2VzWyA2IF07XG5cdFx0XHR0cmFuc2Zvcm1lZCArPSBtb3JwaFRhcmdldDcgKiBtb3JwaFRhcmdldEluZmx1ZW5jZXNbIDcgXTtcblx0XHQjZW5kaWZcblx0I2VuZGlmXG4jZW5kaWYiO3ZhciBub3JtYWxfZnJhZ21lbnRfYmVnaW49ImZsb2F0IGZhY2VEaXJlY3Rpb24gPSBnbF9Gcm9udEZhY2luZyA/IDEuMCA6IC0gMS4wO1xuI2lmZGVmIEZMQVRfU0hBREVEXG5cdHZlYzMgZmR4ID0gdmVjMyggZEZkeCggdlZpZXdQb3NpdGlvbi54ICksIGRGZHgoIHZWaWV3UG9zaXRpb24ueSApLCBkRmR4KCB2Vmlld1Bvc2l0aW9uLnogKSApO1xuXHR2ZWMzIGZkeSA9IHZlYzMoIGRGZHkoIHZWaWV3UG9zaXRpb24ueCApLCBkRmR5KCB2Vmlld1Bvc2l0aW9uLnkgKSwgZEZkeSggdlZpZXdQb3NpdGlvbi56ICkgKTtcblx0dmVjMyBub3JtYWwgPSBub3JtYWxpemUoIGNyb3NzKCBmZHgsIGZkeSApICk7XG4jZWxzZVxuXHR2ZWMzIG5vcm1hbCA9IG5vcm1hbGl6ZSggdk5vcm1hbCApO1xuXHQjaWZkZWYgRE9VQkxFX1NJREVEXG5cdFx0bm9ybWFsID0gbm9ybWFsICogZmFjZURpcmVjdGlvbjtcblx0I2VuZGlmXG5cdCNpZmRlZiBVU0VfVEFOR0VOVFxuXHRcdHZlYzMgdGFuZ2VudCA9IG5vcm1hbGl6ZSggdlRhbmdlbnQgKTtcblx0XHR2ZWMzIGJpdGFuZ2VudCA9IG5vcm1hbGl6ZSggdkJpdGFuZ2VudCApO1xuXHRcdCNpZmRlZiBET1VCTEVfU0lERURcblx0XHRcdHRhbmdlbnQgPSB0YW5nZW50ICogZmFjZURpcmVjdGlvbjtcblx0XHRcdGJpdGFuZ2VudCA9IGJpdGFuZ2VudCAqIGZhY2VEaXJlY3Rpb247XG5cdFx0I2VuZGlmXG5cdFx0I2lmIGRlZmluZWQoIFRBTkdFTlRTUEFDRV9OT1JNQUxNQVAgKSB8fCBkZWZpbmVkKCBVU0VfQ0xFQVJDT0FUX05PUk1BTE1BUCApXG5cdFx0XHRtYXQzIHZUQk4gPSBtYXQzKCB0YW5nZW50LCBiaXRhbmdlbnQsIG5vcm1hbCApO1xuXHRcdCNlbmRpZlxuXHQjZW5kaWZcbiNlbmRpZlxudmVjMyBnZW9tZXRyeU5vcm1hbCA9IG5vcm1hbDsiO3ZhciBub3JtYWxfZnJhZ21lbnRfbWFwcz0iI2lmZGVmIE9CSkVDVFNQQUNFX05PUk1BTE1BUFxuXHRub3JtYWwgPSB0ZXh0dXJlMkQoIG5vcm1hbE1hcCwgdlV2ICkueHl6ICogMi4wIC0gMS4wO1xuXHQjaWZkZWYgRkxJUF9TSURFRFxuXHRcdG5vcm1hbCA9IC0gbm9ybWFsO1xuXHQjZW5kaWZcblx0I2lmZGVmIERPVUJMRV9TSURFRFxuXHRcdG5vcm1hbCA9IG5vcm1hbCAqIGZhY2VEaXJlY3Rpb247XG5cdCNlbmRpZlxuXHRub3JtYWwgPSBub3JtYWxpemUoIG5vcm1hbE1hdHJpeCAqIG5vcm1hbCApO1xuI2VsaWYgZGVmaW5lZCggVEFOR0VOVFNQQUNFX05PUk1BTE1BUCApXG5cdHZlYzMgbWFwTiA9IHRleHR1cmUyRCggbm9ybWFsTWFwLCB2VXYgKS54eXogKiAyLjAgLSAxLjA7XG5cdG1hcE4ueHkgKj0gbm9ybWFsU2NhbGU7XG5cdCNpZmRlZiBVU0VfVEFOR0VOVFxuXHRcdG5vcm1hbCA9IG5vcm1hbGl6ZSggdlRCTiAqIG1hcE4gKTtcblx0I2Vsc2Vcblx0XHRub3JtYWwgPSBwZXJ0dXJiTm9ybWFsMkFyYiggLSB2Vmlld1Bvc2l0aW9uLCBub3JtYWwsIG1hcE4sIGZhY2VEaXJlY3Rpb24gKTtcblx0I2VuZGlmXG4jZWxpZiBkZWZpbmVkKCBVU0VfQlVNUE1BUCApXG5cdG5vcm1hbCA9IHBlcnR1cmJOb3JtYWxBcmIoIC0gdlZpZXdQb3NpdGlvbiwgbm9ybWFsLCBkSGR4eV9md2QoKSwgZmFjZURpcmVjdGlvbiApO1xuI2VuZGlmIjt2YXIgbm9ybWFsX3BhcnNfZnJhZ21lbnQ9IiNpZm5kZWYgRkxBVF9TSEFERURcblx0dmFyeWluZyB2ZWMzIHZOb3JtYWw7XG5cdCNpZmRlZiBVU0VfVEFOR0VOVFxuXHRcdHZhcnlpbmcgdmVjMyB2VGFuZ2VudDtcblx0XHR2YXJ5aW5nIHZlYzMgdkJpdGFuZ2VudDtcblx0I2VuZGlmXG4jZW5kaWYiO3ZhciBub3JtYWxfcGFyc192ZXJ0ZXg9IiNpZm5kZWYgRkxBVF9TSEFERURcblx0dmFyeWluZyB2ZWMzIHZOb3JtYWw7XG5cdCNpZmRlZiBVU0VfVEFOR0VOVFxuXHRcdHZhcnlpbmcgdmVjMyB2VGFuZ2VudDtcblx0XHR2YXJ5aW5nIHZlYzMgdkJpdGFuZ2VudDtcblx0I2VuZGlmXG4jZW5kaWYiO3ZhciBub3JtYWxfdmVydGV4PSIjaWZuZGVmIEZMQVRfU0hBREVEXG5cdHZOb3JtYWwgPSBub3JtYWxpemUoIHRyYW5zZm9ybWVkTm9ybWFsICk7XG5cdCNpZmRlZiBVU0VfVEFOR0VOVFxuXHRcdHZUYW5nZW50ID0gbm9ybWFsaXplKCB0cmFuc2Zvcm1lZFRhbmdlbnQgKTtcblx0XHR2Qml0YW5nZW50ID0gbm9ybWFsaXplKCBjcm9zcyggdk5vcm1hbCwgdlRhbmdlbnQgKSAqIHRhbmdlbnQudyApO1xuXHQjZW5kaWZcbiNlbmRpZiI7dmFyIG5vcm1hbG1hcF9wYXJzX2ZyYWdtZW50PSIjaWZkZWYgVVNFX05PUk1BTE1BUFxuXHR1bmlmb3JtIHNhbXBsZXIyRCBub3JtYWxNYXA7XG5cdHVuaWZvcm0gdmVjMiBub3JtYWxTY2FsZTtcbiNlbmRpZlxuI2lmZGVmIE9CSkVDVFNQQUNFX05PUk1BTE1BUFxuXHR1bmlmb3JtIG1hdDMgbm9ybWFsTWF0cml4O1xuI2VuZGlmXG4jaWYgISBkZWZpbmVkICggVVNFX1RBTkdFTlQgKSAmJiAoIGRlZmluZWQgKCBUQU5HRU5UU1BBQ0VfTk9STUFMTUFQICkgfHwgZGVmaW5lZCAoIFVTRV9DTEVBUkNPQVRfTk9STUFMTUFQICkgKVxuXHR2ZWMzIHBlcnR1cmJOb3JtYWwyQXJiKCB2ZWMzIGV5ZV9wb3MsIHZlYzMgc3VyZl9ub3JtLCB2ZWMzIG1hcE4sIGZsb2F0IGZhY2VEaXJlY3Rpb24gKSB7XG5cdFx0dmVjMyBxMCA9IHZlYzMoIGRGZHgoIGV5ZV9wb3MueCApLCBkRmR4KCBleWVfcG9zLnkgKSwgZEZkeCggZXllX3Bvcy56ICkgKTtcblx0XHR2ZWMzIHExID0gdmVjMyggZEZkeSggZXllX3Bvcy54ICksIGRGZHkoIGV5ZV9wb3MueSApLCBkRmR5KCBleWVfcG9zLnogKSApO1xuXHRcdHZlYzIgc3QwID0gZEZkeCggdlV2LnN0ICk7XG5cdFx0dmVjMiBzdDEgPSBkRmR5KCB2VXYuc3QgKTtcblx0XHR2ZWMzIE4gPSBzdXJmX25vcm07XG5cdFx0dmVjMyBxMXBlcnAgPSBjcm9zcyggcTEsIE4gKTtcblx0XHR2ZWMzIHEwcGVycCA9IGNyb3NzKCBOLCBxMCApO1xuXHRcdHZlYzMgVCA9IHExcGVycCAqIHN0MC54ICsgcTBwZXJwICogc3QxLng7XG5cdFx0dmVjMyBCID0gcTFwZXJwICogc3QwLnkgKyBxMHBlcnAgKiBzdDEueTtcblx0XHRmbG9hdCBkZXQgPSBtYXgoIGRvdCggVCwgVCApLCBkb3QoIEIsIEIgKSApO1xuXHRcdGZsb2F0IHNjYWxlID0gKCBkZXQgPT0gMC4wICkgPyAwLjAgOiBmYWNlRGlyZWN0aW9uICogaW52ZXJzZXNxcnQoIGRldCApO1xuXHRcdHJldHVybiBub3JtYWxpemUoIFQgKiAoIG1hcE4ueCAqIHNjYWxlICkgKyBCICogKCBtYXBOLnkgKiBzY2FsZSApICsgTiAqIG1hcE4ueiApO1xuXHR9XG4jZW5kaWYiO3ZhciBjbGVhcmNvYXRfbm9ybWFsX2ZyYWdtZW50X2JlZ2luPSIjaWZkZWYgVVNFX0NMRUFSQ09BVFxuXHR2ZWMzIGNsZWFyY29hdE5vcm1hbCA9IGdlb21ldHJ5Tm9ybWFsO1xuI2VuZGlmIjt2YXIgY2xlYXJjb2F0X25vcm1hbF9mcmFnbWVudF9tYXBzPSIjaWZkZWYgVVNFX0NMRUFSQ09BVF9OT1JNQUxNQVBcblx0dmVjMyBjbGVhcmNvYXRNYXBOID0gdGV4dHVyZTJEKCBjbGVhcmNvYXROb3JtYWxNYXAsIHZVdiApLnh5eiAqIDIuMCAtIDEuMDtcblx0Y2xlYXJjb2F0TWFwTi54eSAqPSBjbGVhcmNvYXROb3JtYWxTY2FsZTtcblx0I2lmZGVmIFVTRV9UQU5HRU5UXG5cdFx0Y2xlYXJjb2F0Tm9ybWFsID0gbm9ybWFsaXplKCB2VEJOICogY2xlYXJjb2F0TWFwTiApO1xuXHQjZWxzZVxuXHRcdGNsZWFyY29hdE5vcm1hbCA9IHBlcnR1cmJOb3JtYWwyQXJiKCAtIHZWaWV3UG9zaXRpb24sIGNsZWFyY29hdE5vcm1hbCwgY2xlYXJjb2F0TWFwTiwgZmFjZURpcmVjdGlvbiApO1xuXHQjZW5kaWZcbiNlbmRpZiI7dmFyIGNsZWFyY29hdF9wYXJzX2ZyYWdtZW50PSIjaWZkZWYgVVNFX0NMRUFSQ09BVE1BUFxuXHR1bmlmb3JtIHNhbXBsZXIyRCBjbGVhcmNvYXRNYXA7XG4jZW5kaWZcbiNpZmRlZiBVU0VfQ0xFQVJDT0FUX1JPVUdITkVTU01BUFxuXHR1bmlmb3JtIHNhbXBsZXIyRCBjbGVhcmNvYXRSb3VnaG5lc3NNYXA7XG4jZW5kaWZcbiNpZmRlZiBVU0VfQ0xFQVJDT0FUX05PUk1BTE1BUFxuXHR1bmlmb3JtIHNhbXBsZXIyRCBjbGVhcmNvYXROb3JtYWxNYXA7XG5cdHVuaWZvcm0gdmVjMiBjbGVhcmNvYXROb3JtYWxTY2FsZTtcbiNlbmRpZiI7dmFyIG91dHB1dF9mcmFnbWVudD0iI2lmZGVmIE9QQVFVRVxuZGlmZnVzZUNvbG9yLmEgPSAxLjA7XG4jZW5kaWZcbiNpZmRlZiBVU0VfVFJBTlNNSVNTSU9OXG5kaWZmdXNlQ29sb3IuYSAqPSB0cmFuc21pc3Npb25BbHBoYSArIDAuMTtcbiNlbmRpZlxuZ2xfRnJhZ0NvbG9yID0gdmVjNCggb3V0Z29pbmdMaWdodCwgZGlmZnVzZUNvbG9yLmEgKTsiO3ZhciBwYWNraW5nPSJ2ZWMzIHBhY2tOb3JtYWxUb1JHQiggY29uc3QgaW4gdmVjMyBub3JtYWwgKSB7XG5cdHJldHVybiBub3JtYWxpemUoIG5vcm1hbCApICogMC41ICsgMC41O1xufVxudmVjMyB1bnBhY2tSR0JUb05vcm1hbCggY29uc3QgaW4gdmVjMyByZ2IgKSB7XG5cdHJldHVybiAyLjAgKiByZ2IueHl6IC0gMS4wO1xufVxuY29uc3QgZmxvYXQgUGFja1Vwc2NhbGUgPSAyNTYuIC8gMjU1Ljtjb25zdCBmbG9hdCBVbnBhY2tEb3duc2NhbGUgPSAyNTUuIC8gMjU2LjtcbmNvbnN0IHZlYzMgUGFja0ZhY3RvcnMgPSB2ZWMzKCAyNTYuICogMjU2LiAqIDI1Ni4sIDI1Ni4gKiAyNTYuLCAyNTYuICk7XG5jb25zdCB2ZWM0IFVucGFja0ZhY3RvcnMgPSBVbnBhY2tEb3duc2NhbGUgLyB2ZWM0KCBQYWNrRmFjdG9ycywgMS4gKTtcbmNvbnN0IGZsb2F0IFNoaWZ0UmlnaHQ4ID0gMS4gLyAyNTYuO1xudmVjNCBwYWNrRGVwdGhUb1JHQkEoIGNvbnN0IGluIGZsb2F0IHYgKSB7XG5cdHZlYzQgciA9IHZlYzQoIGZyYWN0KCB2ICogUGFja0ZhY3RvcnMgKSwgdiApO1xuXHRyLnl6dyAtPSByLnh5eiAqIFNoaWZ0UmlnaHQ4O1x0cmV0dXJuIHIgKiBQYWNrVXBzY2FsZTtcbn1cbmZsb2F0IHVucGFja1JHQkFUb0RlcHRoKCBjb25zdCBpbiB2ZWM0IHYgKSB7XG5cdHJldHVybiBkb3QoIHYsIFVucGFja0ZhY3RvcnMgKTtcbn1cbnZlYzQgcGFjazJIYWxmVG9SR0JBKCB2ZWMyIHYgKSB7XG5cdHZlYzQgciA9IHZlYzQoIHYueCwgZnJhY3QoIHYueCAqIDI1NS4wICksIHYueSwgZnJhY3QoIHYueSAqIDI1NS4wICkgKTtcblx0cmV0dXJuIHZlYzQoIHIueCAtIHIueSAvIDI1NS4wLCByLnksIHIueiAtIHIudyAvIDI1NS4wLCByLncgKTtcbn1cbnZlYzIgdW5wYWNrUkdCQVRvMkhhbGYoIHZlYzQgdiApIHtcblx0cmV0dXJuIHZlYzIoIHYueCArICggdi55IC8gMjU1LjAgKSwgdi56ICsgKCB2LncgLyAyNTUuMCApICk7XG59XG5mbG9hdCB2aWV3WlRvT3J0aG9ncmFwaGljRGVwdGgoIGNvbnN0IGluIGZsb2F0IHZpZXdaLCBjb25zdCBpbiBmbG9hdCBuZWFyLCBjb25zdCBpbiBmbG9hdCBmYXIgKSB7XG5cdHJldHVybiAoIHZpZXdaICsgbmVhciApIC8gKCBuZWFyIC0gZmFyICk7XG59XG5mbG9hdCBvcnRob2dyYXBoaWNEZXB0aFRvVmlld1ooIGNvbnN0IGluIGZsb2F0IGxpbmVhckNsaXBaLCBjb25zdCBpbiBmbG9hdCBuZWFyLCBjb25zdCBpbiBmbG9hdCBmYXIgKSB7XG5cdHJldHVybiBsaW5lYXJDbGlwWiAqICggbmVhciAtIGZhciApIC0gbmVhcjtcbn1cbmZsb2F0IHZpZXdaVG9QZXJzcGVjdGl2ZURlcHRoKCBjb25zdCBpbiBmbG9hdCB2aWV3WiwgY29uc3QgaW4gZmxvYXQgbmVhciwgY29uc3QgaW4gZmxvYXQgZmFyICkge1xuXHRyZXR1cm4gKCAoIG5lYXIgKyB2aWV3WiApICogZmFyICkgLyAoICggZmFyIC0gbmVhciApICogdmlld1ogKTtcbn1cbmZsb2F0IHBlcnNwZWN0aXZlRGVwdGhUb1ZpZXdaKCBjb25zdCBpbiBmbG9hdCBpbnZDbGlwWiwgY29uc3QgaW4gZmxvYXQgbmVhciwgY29uc3QgaW4gZmxvYXQgZmFyICkge1xuXHRyZXR1cm4gKCBuZWFyICogZmFyICkgLyAoICggZmFyIC0gbmVhciApICogaW52Q2xpcFogLSBmYXIgKTtcbn0iO3ZhciBwcmVtdWx0aXBsaWVkX2FscGhhX2ZyYWdtZW50PSIjaWZkZWYgUFJFTVVMVElQTElFRF9BTFBIQVxuXHRnbF9GcmFnQ29sb3IucmdiICo9IGdsX0ZyYWdDb2xvci5hO1xuI2VuZGlmIjt2YXIgcHJvamVjdF92ZXJ0ZXg9InZlYzQgbXZQb3NpdGlvbiA9IHZlYzQoIHRyYW5zZm9ybWVkLCAxLjAgKTtcbiNpZmRlZiBVU0VfSU5TVEFOQ0lOR1xuXHRtdlBvc2l0aW9uID0gaW5zdGFuY2VNYXRyaXggKiBtdlBvc2l0aW9uO1xuI2VuZGlmXG5tdlBvc2l0aW9uID0gbW9kZWxWaWV3TWF0cml4ICogbXZQb3NpdGlvbjtcbmdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIG12UG9zaXRpb247Ijt2YXIgZGl0aGVyaW5nX2ZyYWdtZW50PSIjaWZkZWYgRElUSEVSSU5HXG5cdGdsX0ZyYWdDb2xvci5yZ2IgPSBkaXRoZXJpbmcoIGdsX0ZyYWdDb2xvci5yZ2IgKTtcbiNlbmRpZiI7dmFyIGRpdGhlcmluZ19wYXJzX2ZyYWdtZW50PSIjaWZkZWYgRElUSEVSSU5HXG5cdHZlYzMgZGl0aGVyaW5nKCB2ZWMzIGNvbG9yICkge1xuXHRcdGZsb2F0IGdyaWRfcG9zaXRpb24gPSByYW5kKCBnbF9GcmFnQ29vcmQueHkgKTtcblx0XHR2ZWMzIGRpdGhlcl9zaGlmdF9SR0IgPSB2ZWMzKCAwLjI1IC8gMjU1LjAsIC0wLjI1IC8gMjU1LjAsIDAuMjUgLyAyNTUuMCApO1xuXHRcdGRpdGhlcl9zaGlmdF9SR0IgPSBtaXgoIDIuMCAqIGRpdGhlcl9zaGlmdF9SR0IsIC0yLjAgKiBkaXRoZXJfc2hpZnRfUkdCLCBncmlkX3Bvc2l0aW9uICk7XG5cdFx0cmV0dXJuIGNvbG9yICsgZGl0aGVyX3NoaWZ0X1JHQjtcblx0fVxuI2VuZGlmIjt2YXIgcm91Z2huZXNzbWFwX2ZyYWdtZW50PSJmbG9hdCByb3VnaG5lc3NGYWN0b3IgPSByb3VnaG5lc3M7XG4jaWZkZWYgVVNFX1JPVUdITkVTU01BUFxuXHR2ZWM0IHRleGVsUm91Z2huZXNzID0gdGV4dHVyZTJEKCByb3VnaG5lc3NNYXAsIHZVdiApO1xuXHRyb3VnaG5lc3NGYWN0b3IgKj0gdGV4ZWxSb3VnaG5lc3MuZztcbiNlbmRpZiI7dmFyIHJvdWdobmVzc21hcF9wYXJzX2ZyYWdtZW50PSIjaWZkZWYgVVNFX1JPVUdITkVTU01BUFxuXHR1bmlmb3JtIHNhbXBsZXIyRCByb3VnaG5lc3NNYXA7XG4jZW5kaWYiO3ZhciBzaGFkb3dtYXBfcGFyc19mcmFnbWVudD0iI2lmZGVmIFVTRV9TSEFET1dNQVBcblx0I2lmIE5VTV9ESVJfTElHSFRfU0hBRE9XUyA+IDBcblx0XHR1bmlmb3JtIHNhbXBsZXIyRCBkaXJlY3Rpb25hbFNoYWRvd01hcFsgTlVNX0RJUl9MSUdIVF9TSEFET1dTIF07XG5cdFx0dmFyeWluZyB2ZWM0IHZEaXJlY3Rpb25hbFNoYWRvd0Nvb3JkWyBOVU1fRElSX0xJR0hUX1NIQURPV1MgXTtcblx0XHRzdHJ1Y3QgRGlyZWN0aW9uYWxMaWdodFNoYWRvdyB7XG5cdFx0XHRmbG9hdCBzaGFkb3dCaWFzO1xuXHRcdFx0ZmxvYXQgc2hhZG93Tm9ybWFsQmlhcztcblx0XHRcdGZsb2F0IHNoYWRvd1JhZGl1cztcblx0XHRcdHZlYzIgc2hhZG93TWFwU2l6ZTtcblx0XHR9O1xuXHRcdHVuaWZvcm0gRGlyZWN0aW9uYWxMaWdodFNoYWRvdyBkaXJlY3Rpb25hbExpZ2h0U2hhZG93c1sgTlVNX0RJUl9MSUdIVF9TSEFET1dTIF07XG5cdCNlbmRpZlxuXHQjaWYgTlVNX1NQT1RfTElHSFRfU0hBRE9XUyA+IDBcblx0XHR1bmlmb3JtIHNhbXBsZXIyRCBzcG90U2hhZG93TWFwWyBOVU1fU1BPVF9MSUdIVF9TSEFET1dTIF07XG5cdFx0dmFyeWluZyB2ZWM0IHZTcG90U2hhZG93Q29vcmRbIE5VTV9TUE9UX0xJR0hUX1NIQURPV1MgXTtcblx0XHRzdHJ1Y3QgU3BvdExpZ2h0U2hhZG93IHtcblx0XHRcdGZsb2F0IHNoYWRvd0JpYXM7XG5cdFx0XHRmbG9hdCBzaGFkb3dOb3JtYWxCaWFzO1xuXHRcdFx0ZmxvYXQgc2hhZG93UmFkaXVzO1xuXHRcdFx0dmVjMiBzaGFkb3dNYXBTaXplO1xuXHRcdH07XG5cdFx0dW5pZm9ybSBTcG90TGlnaHRTaGFkb3cgc3BvdExpZ2h0U2hhZG93c1sgTlVNX1NQT1RfTElHSFRfU0hBRE9XUyBdO1xuXHQjZW5kaWZcblx0I2lmIE5VTV9QT0lOVF9MSUdIVF9TSEFET1dTID4gMFxuXHRcdHVuaWZvcm0gc2FtcGxlcjJEIHBvaW50U2hhZG93TWFwWyBOVU1fUE9JTlRfTElHSFRfU0hBRE9XUyBdO1xuXHRcdHZhcnlpbmcgdmVjNCB2UG9pbnRTaGFkb3dDb29yZFsgTlVNX1BPSU5UX0xJR0hUX1NIQURPV1MgXTtcblx0XHRzdHJ1Y3QgUG9pbnRMaWdodFNoYWRvdyB7XG5cdFx0XHRmbG9hdCBzaGFkb3dCaWFzO1xuXHRcdFx0ZmxvYXQgc2hhZG93Tm9ybWFsQmlhcztcblx0XHRcdGZsb2F0IHNoYWRvd1JhZGl1cztcblx0XHRcdHZlYzIgc2hhZG93TWFwU2l6ZTtcblx0XHRcdGZsb2F0IHNoYWRvd0NhbWVyYU5lYXI7XG5cdFx0XHRmbG9hdCBzaGFkb3dDYW1lcmFGYXI7XG5cdFx0fTtcblx0XHR1bmlmb3JtIFBvaW50TGlnaHRTaGFkb3cgcG9pbnRMaWdodFNoYWRvd3NbIE5VTV9QT0lOVF9MSUdIVF9TSEFET1dTIF07XG5cdCNlbmRpZlxuXHRmbG9hdCB0ZXh0dXJlMkRDb21wYXJlKCBzYW1wbGVyMkQgZGVwdGhzLCB2ZWMyIHV2LCBmbG9hdCBjb21wYXJlICkge1xuXHRcdHJldHVybiBzdGVwKCBjb21wYXJlLCB1bnBhY2tSR0JBVG9EZXB0aCggdGV4dHVyZTJEKCBkZXB0aHMsIHV2ICkgKSApO1xuXHR9XG5cdHZlYzIgdGV4dHVyZTJERGlzdHJpYnV0aW9uKCBzYW1wbGVyMkQgc2hhZG93LCB2ZWMyIHV2ICkge1xuXHRcdHJldHVybiB1bnBhY2tSR0JBVG8ySGFsZiggdGV4dHVyZTJEKCBzaGFkb3csIHV2ICkgKTtcblx0fVxuXHRmbG9hdCBWU01TaGFkb3cgKHNhbXBsZXIyRCBzaGFkb3csIHZlYzIgdXYsIGZsb2F0IGNvbXBhcmUgKXtcblx0XHRmbG9hdCBvY2NsdXNpb24gPSAxLjA7XG5cdFx0dmVjMiBkaXN0cmlidXRpb24gPSB0ZXh0dXJlMkREaXN0cmlidXRpb24oIHNoYWRvdywgdXYgKTtcblx0XHRmbG9hdCBoYXJkX3NoYWRvdyA9IHN0ZXAoIGNvbXBhcmUgLCBkaXN0cmlidXRpb24ueCApO1xuXHRcdGlmIChoYXJkX3NoYWRvdyAhPSAxLjAgKSB7XG5cdFx0XHRmbG9hdCBkaXN0YW5jZSA9IGNvbXBhcmUgLSBkaXN0cmlidXRpb24ueCA7XG5cdFx0XHRmbG9hdCB2YXJpYW5jZSA9IG1heCggMC4wMDAwMCwgZGlzdHJpYnV0aW9uLnkgKiBkaXN0cmlidXRpb24ueSApO1xuXHRcdFx0ZmxvYXQgc29mdG5lc3NfcHJvYmFiaWxpdHkgPSB2YXJpYW5jZSAvICh2YXJpYW5jZSArIGRpc3RhbmNlICogZGlzdGFuY2UgKTtcdFx0XHRzb2Z0bmVzc19wcm9iYWJpbGl0eSA9IGNsYW1wKCAoIHNvZnRuZXNzX3Byb2JhYmlsaXR5IC0gMC4zICkgLyAoIDAuOTUgLSAwLjMgKSwgMC4wLCAxLjAgKTtcdFx0XHRvY2NsdXNpb24gPSBjbGFtcCggbWF4KCBoYXJkX3NoYWRvdywgc29mdG5lc3NfcHJvYmFiaWxpdHkgKSwgMC4wLCAxLjAgKTtcblx0XHR9XG5cdFx0cmV0dXJuIG9jY2x1c2lvbjtcblx0fVxuXHRmbG9hdCBnZXRTaGFkb3coIHNhbXBsZXIyRCBzaGFkb3dNYXAsIHZlYzIgc2hhZG93TWFwU2l6ZSwgZmxvYXQgc2hhZG93QmlhcywgZmxvYXQgc2hhZG93UmFkaXVzLCB2ZWM0IHNoYWRvd0Nvb3JkICkge1xuXHRcdGZsb2F0IHNoYWRvdyA9IDEuMDtcblx0XHRzaGFkb3dDb29yZC54eXogLz0gc2hhZG93Q29vcmQudztcblx0XHRzaGFkb3dDb29yZC56ICs9IHNoYWRvd0JpYXM7XG5cdFx0YnZlYzQgaW5GcnVzdHVtVmVjID0gYnZlYzQgKCBzaGFkb3dDb29yZC54ID49IDAuMCwgc2hhZG93Q29vcmQueCA8PSAxLjAsIHNoYWRvd0Nvb3JkLnkgPj0gMC4wLCBzaGFkb3dDb29yZC55IDw9IDEuMCApO1xuXHRcdGJvb2wgaW5GcnVzdHVtID0gYWxsKCBpbkZydXN0dW1WZWMgKTtcblx0XHRidmVjMiBmcnVzdHVtVGVzdFZlYyA9IGJ2ZWMyKCBpbkZydXN0dW0sIHNoYWRvd0Nvb3JkLnogPD0gMS4wICk7XG5cdFx0Ym9vbCBmcnVzdHVtVGVzdCA9IGFsbCggZnJ1c3R1bVRlc3RWZWMgKTtcblx0XHRpZiAoIGZydXN0dW1UZXN0ICkge1xuXHRcdCNpZiBkZWZpbmVkKCBTSEFET1dNQVBfVFlQRV9QQ0YgKVxuXHRcdFx0dmVjMiB0ZXhlbFNpemUgPSB2ZWMyKCAxLjAgKSAvIHNoYWRvd01hcFNpemU7XG5cdFx0XHRmbG9hdCBkeDAgPSAtIHRleGVsU2l6ZS54ICogc2hhZG93UmFkaXVzO1xuXHRcdFx0ZmxvYXQgZHkwID0gLSB0ZXhlbFNpemUueSAqIHNoYWRvd1JhZGl1cztcblx0XHRcdGZsb2F0IGR4MSA9ICsgdGV4ZWxTaXplLnggKiBzaGFkb3dSYWRpdXM7XG5cdFx0XHRmbG9hdCBkeTEgPSArIHRleGVsU2l6ZS55ICogc2hhZG93UmFkaXVzO1xuXHRcdFx0ZmxvYXQgZHgyID0gZHgwIC8gMi4wO1xuXHRcdFx0ZmxvYXQgZHkyID0gZHkwIC8gMi4wO1xuXHRcdFx0ZmxvYXQgZHgzID0gZHgxIC8gMi4wO1xuXHRcdFx0ZmxvYXQgZHkzID0gZHkxIC8gMi4wO1xuXHRcdFx0c2hhZG93ID0gKFxuXHRcdFx0XHR0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHNoYWRvd0Nvb3JkLnh5ICsgdmVjMiggZHgwLCBkeTAgKSwgc2hhZG93Q29vcmQueiApICtcblx0XHRcdFx0dGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBzaGFkb3dDb29yZC54eSArIHZlYzIoIDAuMCwgZHkwICksIHNoYWRvd0Nvb3JkLnogKSArXG5cdFx0XHRcdHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgc2hhZG93Q29vcmQueHkgKyB2ZWMyKCBkeDEsIGR5MCApLCBzaGFkb3dDb29yZC56ICkgK1xuXHRcdFx0XHR0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHNoYWRvd0Nvb3JkLnh5ICsgdmVjMiggZHgyLCBkeTIgKSwgc2hhZG93Q29vcmQueiApICtcblx0XHRcdFx0dGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBzaGFkb3dDb29yZC54eSArIHZlYzIoIDAuMCwgZHkyICksIHNoYWRvd0Nvb3JkLnogKSArXG5cdFx0XHRcdHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgc2hhZG93Q29vcmQueHkgKyB2ZWMyKCBkeDMsIGR5MiApLCBzaGFkb3dDb29yZC56ICkgK1xuXHRcdFx0XHR0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHNoYWRvd0Nvb3JkLnh5ICsgdmVjMiggZHgwLCAwLjAgKSwgc2hhZG93Q29vcmQueiApICtcblx0XHRcdFx0dGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBzaGFkb3dDb29yZC54eSArIHZlYzIoIGR4MiwgMC4wICksIHNoYWRvd0Nvb3JkLnogKSArXG5cdFx0XHRcdHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgc2hhZG93Q29vcmQueHksIHNoYWRvd0Nvb3JkLnogKSArXG5cdFx0XHRcdHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgc2hhZG93Q29vcmQueHkgKyB2ZWMyKCBkeDMsIDAuMCApLCBzaGFkb3dDb29yZC56ICkgK1xuXHRcdFx0XHR0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHNoYWRvd0Nvb3JkLnh5ICsgdmVjMiggZHgxLCAwLjAgKSwgc2hhZG93Q29vcmQueiApICtcblx0XHRcdFx0dGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBzaGFkb3dDb29yZC54eSArIHZlYzIoIGR4MiwgZHkzICksIHNoYWRvd0Nvb3JkLnogKSArXG5cdFx0XHRcdHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgc2hhZG93Q29vcmQueHkgKyB2ZWMyKCAwLjAsIGR5MyApLCBzaGFkb3dDb29yZC56ICkgK1xuXHRcdFx0XHR0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHNoYWRvd0Nvb3JkLnh5ICsgdmVjMiggZHgzLCBkeTMgKSwgc2hhZG93Q29vcmQueiApICtcblx0XHRcdFx0dGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBzaGFkb3dDb29yZC54eSArIHZlYzIoIGR4MCwgZHkxICksIHNoYWRvd0Nvb3JkLnogKSArXG5cdFx0XHRcdHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgc2hhZG93Q29vcmQueHkgKyB2ZWMyKCAwLjAsIGR5MSApLCBzaGFkb3dDb29yZC56ICkgK1xuXHRcdFx0XHR0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHNoYWRvd0Nvb3JkLnh5ICsgdmVjMiggZHgxLCBkeTEgKSwgc2hhZG93Q29vcmQueiApXG5cdFx0XHQpICogKCAxLjAgLyAxNy4wICk7XG5cdFx0I2VsaWYgZGVmaW5lZCggU0hBRE9XTUFQX1RZUEVfUENGX1NPRlQgKVxuXHRcdFx0dmVjMiB0ZXhlbFNpemUgPSB2ZWMyKCAxLjAgKSAvIHNoYWRvd01hcFNpemU7XG5cdFx0XHRmbG9hdCBkeCA9IHRleGVsU2l6ZS54O1xuXHRcdFx0ZmxvYXQgZHkgPSB0ZXhlbFNpemUueTtcblx0XHRcdHZlYzIgdXYgPSBzaGFkb3dDb29yZC54eTtcblx0XHRcdHZlYzIgZiA9IGZyYWN0KCB1diAqIHNoYWRvd01hcFNpemUgKyAwLjUgKTtcblx0XHRcdHV2IC09IGYgKiB0ZXhlbFNpemU7XG5cdFx0XHRzaGFkb3cgPSAoXG5cdFx0XHRcdHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgdXYsIHNoYWRvd0Nvb3JkLnogKSArXG5cdFx0XHRcdHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgdXYgKyB2ZWMyKCBkeCwgMC4wICksIHNoYWRvd0Nvb3JkLnogKSArXG5cdFx0XHRcdHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgdXYgKyB2ZWMyKCAwLjAsIGR5ICksIHNoYWRvd0Nvb3JkLnogKSArXG5cdFx0XHRcdHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgdXYgKyB0ZXhlbFNpemUsIHNoYWRvd0Nvb3JkLnogKSArXG5cdFx0XHRcdG1peCggdGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCB1diArIHZlYzIoIC1keCwgMC4wICksIHNoYWRvd0Nvb3JkLnogKSwgXG5cdFx0XHRcdFx0IHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgdXYgKyB2ZWMyKCAyLjAgKiBkeCwgMC4wICksIHNoYWRvd0Nvb3JkLnogKSxcblx0XHRcdFx0XHQgZi54ICkgK1xuXHRcdFx0XHRtaXgoIHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgdXYgKyB2ZWMyKCAtZHgsIGR5ICksIHNoYWRvd0Nvb3JkLnogKSwgXG5cdFx0XHRcdFx0IHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgdXYgKyB2ZWMyKCAyLjAgKiBkeCwgZHkgKSwgc2hhZG93Q29vcmQueiApLFxuXHRcdFx0XHRcdCBmLnggKSArXG5cdFx0XHRcdG1peCggdGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCB1diArIHZlYzIoIDAuMCwgLWR5ICksIHNoYWRvd0Nvb3JkLnogKSwgXG5cdFx0XHRcdFx0IHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgdXYgKyB2ZWMyKCAwLjAsIDIuMCAqIGR5ICksIHNoYWRvd0Nvb3JkLnogKSxcblx0XHRcdFx0XHQgZi55ICkgK1xuXHRcdFx0XHRtaXgoIHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgdXYgKyB2ZWMyKCBkeCwgLWR5ICksIHNoYWRvd0Nvb3JkLnogKSwgXG5cdFx0XHRcdFx0IHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgdXYgKyB2ZWMyKCBkeCwgMi4wICogZHkgKSwgc2hhZG93Q29vcmQueiApLFxuXHRcdFx0XHRcdCBmLnkgKSArXG5cdFx0XHRcdG1peCggbWl4KCB0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHV2ICsgdmVjMiggLWR4LCAtZHkgKSwgc2hhZG93Q29vcmQueiApLCBcblx0XHRcdFx0XHRcdCAgdGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCB1diArIHZlYzIoIDIuMCAqIGR4LCAtZHkgKSwgc2hhZG93Q29vcmQueiApLFxuXHRcdFx0XHRcdFx0ICBmLnggKSxcblx0XHRcdFx0XHQgbWl4KCB0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHV2ICsgdmVjMiggLWR4LCAyLjAgKiBkeSApLCBzaGFkb3dDb29yZC56ICksIFxuXHRcdFx0XHRcdFx0ICB0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIHV2ICsgdmVjMiggMi4wICogZHgsIDIuMCAqIGR5ICksIHNoYWRvd0Nvb3JkLnogKSxcblx0XHRcdFx0XHRcdCAgZi54ICksXG5cdFx0XHRcdFx0IGYueSApXG5cdFx0XHQpICogKCAxLjAgLyA5LjAgKTtcblx0XHQjZWxpZiBkZWZpbmVkKCBTSEFET1dNQVBfVFlQRV9WU00gKVxuXHRcdFx0c2hhZG93ID0gVlNNU2hhZG93KCBzaGFkb3dNYXAsIHNoYWRvd0Nvb3JkLnh5LCBzaGFkb3dDb29yZC56ICk7XG5cdFx0I2Vsc2Vcblx0XHRcdHNoYWRvdyA9IHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgc2hhZG93Q29vcmQueHksIHNoYWRvd0Nvb3JkLnogKTtcblx0XHQjZW5kaWZcblx0XHR9XG5cdFx0cmV0dXJuIHNoYWRvdztcblx0fVxuXHR2ZWMyIGN1YmVUb1VWKCB2ZWMzIHYsIGZsb2F0IHRleGVsU2l6ZVkgKSB7XG5cdFx0dmVjMyBhYnNWID0gYWJzKCB2ICk7XG5cdFx0ZmxvYXQgc2NhbGVUb0N1YmUgPSAxLjAgLyBtYXgoIGFic1YueCwgbWF4KCBhYnNWLnksIGFic1YueiApICk7XG5cdFx0YWJzViAqPSBzY2FsZVRvQ3ViZTtcblx0XHR2ICo9IHNjYWxlVG9DdWJlICogKCAxLjAgLSAyLjAgKiB0ZXhlbFNpemVZICk7XG5cdFx0dmVjMiBwbGFuYXIgPSB2Lnh5O1xuXHRcdGZsb2F0IGFsbW9zdEFUZXhlbCA9IDEuNSAqIHRleGVsU2l6ZVk7XG5cdFx0ZmxvYXQgYWxtb3N0T25lID0gMS4wIC0gYWxtb3N0QVRleGVsO1xuXHRcdGlmICggYWJzVi56ID49IGFsbW9zdE9uZSApIHtcblx0XHRcdGlmICggdi56ID4gMC4wIClcblx0XHRcdFx0cGxhbmFyLnggPSA0LjAgLSB2Lng7XG5cdFx0fSBlbHNlIGlmICggYWJzVi54ID49IGFsbW9zdE9uZSApIHtcblx0XHRcdGZsb2F0IHNpZ25YID0gc2lnbiggdi54ICk7XG5cdFx0XHRwbGFuYXIueCA9IHYueiAqIHNpZ25YICsgMi4wICogc2lnblg7XG5cdFx0fSBlbHNlIGlmICggYWJzVi55ID49IGFsbW9zdE9uZSApIHtcblx0XHRcdGZsb2F0IHNpZ25ZID0gc2lnbiggdi55ICk7XG5cdFx0XHRwbGFuYXIueCA9IHYueCArIDIuMCAqIHNpZ25ZICsgMi4wO1xuXHRcdFx0cGxhbmFyLnkgPSB2LnogKiBzaWduWSAtIDIuMDtcblx0XHR9XG5cdFx0cmV0dXJuIHZlYzIoIDAuMTI1LCAwLjI1ICkgKiBwbGFuYXIgKyB2ZWMyKCAwLjM3NSwgMC43NSApO1xuXHR9XG5cdGZsb2F0IGdldFBvaW50U2hhZG93KCBzYW1wbGVyMkQgc2hhZG93TWFwLCB2ZWMyIHNoYWRvd01hcFNpemUsIGZsb2F0IHNoYWRvd0JpYXMsIGZsb2F0IHNoYWRvd1JhZGl1cywgdmVjNCBzaGFkb3dDb29yZCwgZmxvYXQgc2hhZG93Q2FtZXJhTmVhciwgZmxvYXQgc2hhZG93Q2FtZXJhRmFyICkge1xuXHRcdHZlYzIgdGV4ZWxTaXplID0gdmVjMiggMS4wICkgLyAoIHNoYWRvd01hcFNpemUgKiB2ZWMyKCA0LjAsIDIuMCApICk7XG5cdFx0dmVjMyBsaWdodFRvUG9zaXRpb24gPSBzaGFkb3dDb29yZC54eXo7XG5cdFx0ZmxvYXQgZHAgPSAoIGxlbmd0aCggbGlnaHRUb1Bvc2l0aW9uICkgLSBzaGFkb3dDYW1lcmFOZWFyICkgLyAoIHNoYWRvd0NhbWVyYUZhciAtIHNoYWRvd0NhbWVyYU5lYXIgKTtcdFx0ZHAgKz0gc2hhZG93Qmlhcztcblx0XHR2ZWMzIGJkM0QgPSBub3JtYWxpemUoIGxpZ2h0VG9Qb3NpdGlvbiApO1xuXHRcdCNpZiBkZWZpbmVkKCBTSEFET1dNQVBfVFlQRV9QQ0YgKSB8fCBkZWZpbmVkKCBTSEFET1dNQVBfVFlQRV9QQ0ZfU09GVCApIHx8IGRlZmluZWQoIFNIQURPV01BUF9UWVBFX1ZTTSApXG5cdFx0XHR2ZWMyIG9mZnNldCA9IHZlYzIoIC0gMSwgMSApICogc2hhZG93UmFkaXVzICogdGV4ZWxTaXplLnk7XG5cdFx0XHRyZXR1cm4gKFxuXHRcdFx0XHR0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIGN1YmVUb1VWKCBiZDNEICsgb2Zmc2V0Lnh5eSwgdGV4ZWxTaXplLnkgKSwgZHAgKSArXG5cdFx0XHRcdHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgY3ViZVRvVVYoIGJkM0QgKyBvZmZzZXQueXl5LCB0ZXhlbFNpemUueSApLCBkcCApICtcblx0XHRcdFx0dGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBjdWJlVG9VViggYmQzRCArIG9mZnNldC54eXgsIHRleGVsU2l6ZS55ICksIGRwICkgK1xuXHRcdFx0XHR0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIGN1YmVUb1VWKCBiZDNEICsgb2Zmc2V0Lnl5eCwgdGV4ZWxTaXplLnkgKSwgZHAgKSArXG5cdFx0XHRcdHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgY3ViZVRvVVYoIGJkM0QsIHRleGVsU2l6ZS55ICksIGRwICkgK1xuXHRcdFx0XHR0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIGN1YmVUb1VWKCBiZDNEICsgb2Zmc2V0Lnh4eSwgdGV4ZWxTaXplLnkgKSwgZHAgKSArXG5cdFx0XHRcdHRleHR1cmUyRENvbXBhcmUoIHNoYWRvd01hcCwgY3ViZVRvVVYoIGJkM0QgKyBvZmZzZXQueXh5LCB0ZXhlbFNpemUueSApLCBkcCApICtcblx0XHRcdFx0dGV4dHVyZTJEQ29tcGFyZSggc2hhZG93TWFwLCBjdWJlVG9VViggYmQzRCArIG9mZnNldC54eHgsIHRleGVsU2l6ZS55ICksIGRwICkgK1xuXHRcdFx0XHR0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIGN1YmVUb1VWKCBiZDNEICsgb2Zmc2V0Lnl4eCwgdGV4ZWxTaXplLnkgKSwgZHAgKVxuXHRcdFx0KSAqICggMS4wIC8gOS4wICk7XG5cdFx0I2Vsc2Vcblx0XHRcdHJldHVybiB0ZXh0dXJlMkRDb21wYXJlKCBzaGFkb3dNYXAsIGN1YmVUb1VWKCBiZDNELCB0ZXhlbFNpemUueSApLCBkcCApO1xuXHRcdCNlbmRpZlxuXHR9XG4jZW5kaWYiO3ZhciBzaGFkb3dtYXBfcGFyc192ZXJ0ZXg9IiNpZmRlZiBVU0VfU0hBRE9XTUFQXG5cdCNpZiBOVU1fRElSX0xJR0hUX1NIQURPV1MgPiAwXG5cdFx0dW5pZm9ybSBtYXQ0IGRpcmVjdGlvbmFsU2hhZG93TWF0cml4WyBOVU1fRElSX0xJR0hUX1NIQURPV1MgXTtcblx0XHR2YXJ5aW5nIHZlYzQgdkRpcmVjdGlvbmFsU2hhZG93Q29vcmRbIE5VTV9ESVJfTElHSFRfU0hBRE9XUyBdO1xuXHRcdHN0cnVjdCBEaXJlY3Rpb25hbExpZ2h0U2hhZG93IHtcblx0XHRcdGZsb2F0IHNoYWRvd0JpYXM7XG5cdFx0XHRmbG9hdCBzaGFkb3dOb3JtYWxCaWFzO1xuXHRcdFx0ZmxvYXQgc2hhZG93UmFkaXVzO1xuXHRcdFx0dmVjMiBzaGFkb3dNYXBTaXplO1xuXHRcdH07XG5cdFx0dW5pZm9ybSBEaXJlY3Rpb25hbExpZ2h0U2hhZG93IGRpcmVjdGlvbmFsTGlnaHRTaGFkb3dzWyBOVU1fRElSX0xJR0hUX1NIQURPV1MgXTtcblx0I2VuZGlmXG5cdCNpZiBOVU1fU1BPVF9MSUdIVF9TSEFET1dTID4gMFxuXHRcdHVuaWZvcm0gbWF0NCBzcG90U2hhZG93TWF0cml4WyBOVU1fU1BPVF9MSUdIVF9TSEFET1dTIF07XG5cdFx0dmFyeWluZyB2ZWM0IHZTcG90U2hhZG93Q29vcmRbIE5VTV9TUE9UX0xJR0hUX1NIQURPV1MgXTtcblx0XHRzdHJ1Y3QgU3BvdExpZ2h0U2hhZG93IHtcblx0XHRcdGZsb2F0IHNoYWRvd0JpYXM7XG5cdFx0XHRmbG9hdCBzaGFkb3dOb3JtYWxCaWFzO1xuXHRcdFx0ZmxvYXQgc2hhZG93UmFkaXVzO1xuXHRcdFx0dmVjMiBzaGFkb3dNYXBTaXplO1xuXHRcdH07XG5cdFx0dW5pZm9ybSBTcG90TGlnaHRTaGFkb3cgc3BvdExpZ2h0U2hhZG93c1sgTlVNX1NQT1RfTElHSFRfU0hBRE9XUyBdO1xuXHQjZW5kaWZcblx0I2lmIE5VTV9QT0lOVF9MSUdIVF9TSEFET1dTID4gMFxuXHRcdHVuaWZvcm0gbWF0NCBwb2ludFNoYWRvd01hdHJpeFsgTlVNX1BPSU5UX0xJR0hUX1NIQURPV1MgXTtcblx0XHR2YXJ5aW5nIHZlYzQgdlBvaW50U2hhZG93Q29vcmRbIE5VTV9QT0lOVF9MSUdIVF9TSEFET1dTIF07XG5cdFx0c3RydWN0IFBvaW50TGlnaHRTaGFkb3cge1xuXHRcdFx0ZmxvYXQgc2hhZG93Qmlhcztcblx0XHRcdGZsb2F0IHNoYWRvd05vcm1hbEJpYXM7XG5cdFx0XHRmbG9hdCBzaGFkb3dSYWRpdXM7XG5cdFx0XHR2ZWMyIHNoYWRvd01hcFNpemU7XG5cdFx0XHRmbG9hdCBzaGFkb3dDYW1lcmFOZWFyO1xuXHRcdFx0ZmxvYXQgc2hhZG93Q2FtZXJhRmFyO1xuXHRcdH07XG5cdFx0dW5pZm9ybSBQb2ludExpZ2h0U2hhZG93IHBvaW50TGlnaHRTaGFkb3dzWyBOVU1fUE9JTlRfTElHSFRfU0hBRE9XUyBdO1xuXHQjZW5kaWZcbiNlbmRpZiI7dmFyIHNoYWRvd21hcF92ZXJ0ZXg9IiNpZmRlZiBVU0VfU0hBRE9XTUFQXG5cdCNpZiBOVU1fRElSX0xJR0hUX1NIQURPV1MgPiAwIHx8IE5VTV9TUE9UX0xJR0hUX1NIQURPV1MgPiAwIHx8IE5VTV9QT0lOVF9MSUdIVF9TSEFET1dTID4gMFxuXHRcdHZlYzMgc2hhZG93V29ybGROb3JtYWwgPSBpbnZlcnNlVHJhbnNmb3JtRGlyZWN0aW9uKCB0cmFuc2Zvcm1lZE5vcm1hbCwgdmlld01hdHJpeCApO1xuXHRcdHZlYzQgc2hhZG93V29ybGRQb3NpdGlvbjtcblx0I2VuZGlmXG5cdCNpZiBOVU1fRElSX0xJR0hUX1NIQURPV1MgPiAwXG5cdCNwcmFnbWEgdW5yb2xsX2xvb3Bfc3RhcnRcblx0Zm9yICggaW50IGkgPSAwOyBpIDwgTlVNX0RJUl9MSUdIVF9TSEFET1dTOyBpICsrICkge1xuXHRcdHNoYWRvd1dvcmxkUG9zaXRpb24gPSB3b3JsZFBvc2l0aW9uICsgdmVjNCggc2hhZG93V29ybGROb3JtYWwgKiBkaXJlY3Rpb25hbExpZ2h0U2hhZG93c1sgaSBdLnNoYWRvd05vcm1hbEJpYXMsIDAgKTtcblx0XHR2RGlyZWN0aW9uYWxTaGFkb3dDb29yZFsgaSBdID0gZGlyZWN0aW9uYWxTaGFkb3dNYXRyaXhbIGkgXSAqIHNoYWRvd1dvcmxkUG9zaXRpb247XG5cdH1cblx0I3ByYWdtYSB1bnJvbGxfbG9vcF9lbmRcblx0I2VuZGlmXG5cdCNpZiBOVU1fU1BPVF9MSUdIVF9TSEFET1dTID4gMFxuXHQjcHJhZ21hIHVucm9sbF9sb29wX3N0YXJ0XG5cdGZvciAoIGludCBpID0gMDsgaSA8IE5VTV9TUE9UX0xJR0hUX1NIQURPV1M7IGkgKysgKSB7XG5cdFx0c2hhZG93V29ybGRQb3NpdGlvbiA9IHdvcmxkUG9zaXRpb24gKyB2ZWM0KCBzaGFkb3dXb3JsZE5vcm1hbCAqIHNwb3RMaWdodFNoYWRvd3NbIGkgXS5zaGFkb3dOb3JtYWxCaWFzLCAwICk7XG5cdFx0dlNwb3RTaGFkb3dDb29yZFsgaSBdID0gc3BvdFNoYWRvd01hdHJpeFsgaSBdICogc2hhZG93V29ybGRQb3NpdGlvbjtcblx0fVxuXHQjcHJhZ21hIHVucm9sbF9sb29wX2VuZFxuXHQjZW5kaWZcblx0I2lmIE5VTV9QT0lOVF9MSUdIVF9TSEFET1dTID4gMFxuXHQjcHJhZ21hIHVucm9sbF9sb29wX3N0YXJ0XG5cdGZvciAoIGludCBpID0gMDsgaSA8IE5VTV9QT0lOVF9MSUdIVF9TSEFET1dTOyBpICsrICkge1xuXHRcdHNoYWRvd1dvcmxkUG9zaXRpb24gPSB3b3JsZFBvc2l0aW9uICsgdmVjNCggc2hhZG93V29ybGROb3JtYWwgKiBwb2ludExpZ2h0U2hhZG93c1sgaSBdLnNoYWRvd05vcm1hbEJpYXMsIDAgKTtcblx0XHR2UG9pbnRTaGFkb3dDb29yZFsgaSBdID0gcG9pbnRTaGFkb3dNYXRyaXhbIGkgXSAqIHNoYWRvd1dvcmxkUG9zaXRpb247XG5cdH1cblx0I3ByYWdtYSB1bnJvbGxfbG9vcF9lbmRcblx0I2VuZGlmXG4jZW5kaWYiO3ZhciBzaGFkb3dtYXNrX3BhcnNfZnJhZ21lbnQ9ImZsb2F0IGdldFNoYWRvd01hc2soKSB7XG5cdGZsb2F0IHNoYWRvdyA9IDEuMDtcblx0I2lmZGVmIFVTRV9TSEFET1dNQVBcblx0I2lmIE5VTV9ESVJfTElHSFRfU0hBRE9XUyA+IDBcblx0RGlyZWN0aW9uYWxMaWdodFNoYWRvdyBkaXJlY3Rpb25hbExpZ2h0O1xuXHQjcHJhZ21hIHVucm9sbF9sb29wX3N0YXJ0XG5cdGZvciAoIGludCBpID0gMDsgaSA8IE5VTV9ESVJfTElHSFRfU0hBRE9XUzsgaSArKyApIHtcblx0XHRkaXJlY3Rpb25hbExpZ2h0ID0gZGlyZWN0aW9uYWxMaWdodFNoYWRvd3NbIGkgXTtcblx0XHRzaGFkb3cgKj0gcmVjZWl2ZVNoYWRvdyA/IGdldFNoYWRvdyggZGlyZWN0aW9uYWxTaGFkb3dNYXBbIGkgXSwgZGlyZWN0aW9uYWxMaWdodC5zaGFkb3dNYXBTaXplLCBkaXJlY3Rpb25hbExpZ2h0LnNoYWRvd0JpYXMsIGRpcmVjdGlvbmFsTGlnaHQuc2hhZG93UmFkaXVzLCB2RGlyZWN0aW9uYWxTaGFkb3dDb29yZFsgaSBdICkgOiAxLjA7XG5cdH1cblx0I3ByYWdtYSB1bnJvbGxfbG9vcF9lbmRcblx0I2VuZGlmXG5cdCNpZiBOVU1fU1BPVF9MSUdIVF9TSEFET1dTID4gMFxuXHRTcG90TGlnaHRTaGFkb3cgc3BvdExpZ2h0O1xuXHQjcHJhZ21hIHVucm9sbF9sb29wX3N0YXJ0XG5cdGZvciAoIGludCBpID0gMDsgaSA8IE5VTV9TUE9UX0xJR0hUX1NIQURPV1M7IGkgKysgKSB7XG5cdFx0c3BvdExpZ2h0ID0gc3BvdExpZ2h0U2hhZG93c1sgaSBdO1xuXHRcdHNoYWRvdyAqPSByZWNlaXZlU2hhZG93ID8gZ2V0U2hhZG93KCBzcG90U2hhZG93TWFwWyBpIF0sIHNwb3RMaWdodC5zaGFkb3dNYXBTaXplLCBzcG90TGlnaHQuc2hhZG93Qmlhcywgc3BvdExpZ2h0LnNoYWRvd1JhZGl1cywgdlNwb3RTaGFkb3dDb29yZFsgaSBdICkgOiAxLjA7XG5cdH1cblx0I3ByYWdtYSB1bnJvbGxfbG9vcF9lbmRcblx0I2VuZGlmXG5cdCNpZiBOVU1fUE9JTlRfTElHSFRfU0hBRE9XUyA+IDBcblx0UG9pbnRMaWdodFNoYWRvdyBwb2ludExpZ2h0O1xuXHQjcHJhZ21hIHVucm9sbF9sb29wX3N0YXJ0XG5cdGZvciAoIGludCBpID0gMDsgaSA8IE5VTV9QT0lOVF9MSUdIVF9TSEFET1dTOyBpICsrICkge1xuXHRcdHBvaW50TGlnaHQgPSBwb2ludExpZ2h0U2hhZG93c1sgaSBdO1xuXHRcdHNoYWRvdyAqPSByZWNlaXZlU2hhZG93ID8gZ2V0UG9pbnRTaGFkb3coIHBvaW50U2hhZG93TWFwWyBpIF0sIHBvaW50TGlnaHQuc2hhZG93TWFwU2l6ZSwgcG9pbnRMaWdodC5zaGFkb3dCaWFzLCBwb2ludExpZ2h0LnNoYWRvd1JhZGl1cywgdlBvaW50U2hhZG93Q29vcmRbIGkgXSwgcG9pbnRMaWdodC5zaGFkb3dDYW1lcmFOZWFyLCBwb2ludExpZ2h0LnNoYWRvd0NhbWVyYUZhciApIDogMS4wO1xuXHR9XG5cdCNwcmFnbWEgdW5yb2xsX2xvb3BfZW5kXG5cdCNlbmRpZlxuXHQjZW5kaWZcblx0cmV0dXJuIHNoYWRvdztcbn0iO3ZhciBza2luYmFzZV92ZXJ0ZXg9IiNpZmRlZiBVU0VfU0tJTk5JTkdcblx0bWF0NCBib25lTWF0WCA9IGdldEJvbmVNYXRyaXgoIHNraW5JbmRleC54ICk7XG5cdG1hdDQgYm9uZU1hdFkgPSBnZXRCb25lTWF0cml4KCBza2luSW5kZXgueSApO1xuXHRtYXQ0IGJvbmVNYXRaID0gZ2V0Qm9uZU1hdHJpeCggc2tpbkluZGV4LnogKTtcblx0bWF0NCBib25lTWF0VyA9IGdldEJvbmVNYXRyaXgoIHNraW5JbmRleC53ICk7XG4jZW5kaWYiO3ZhciBza2lubmluZ19wYXJzX3ZlcnRleD0iI2lmZGVmIFVTRV9TS0lOTklOR1xuXHR1bmlmb3JtIG1hdDQgYmluZE1hdHJpeDtcblx0dW5pZm9ybSBtYXQ0IGJpbmRNYXRyaXhJbnZlcnNlO1xuXHQjaWZkZWYgQk9ORV9URVhUVVJFXG5cdFx0dW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgYm9uZVRleHR1cmU7XG5cdFx0dW5pZm9ybSBpbnQgYm9uZVRleHR1cmVTaXplO1xuXHRcdG1hdDQgZ2V0Qm9uZU1hdHJpeCggY29uc3QgaW4gZmxvYXQgaSApIHtcblx0XHRcdGZsb2F0IGogPSBpICogNC4wO1xuXHRcdFx0ZmxvYXQgeCA9IG1vZCggaiwgZmxvYXQoIGJvbmVUZXh0dXJlU2l6ZSApICk7XG5cdFx0XHRmbG9hdCB5ID0gZmxvb3IoIGogLyBmbG9hdCggYm9uZVRleHR1cmVTaXplICkgKTtcblx0XHRcdGZsb2F0IGR4ID0gMS4wIC8gZmxvYXQoIGJvbmVUZXh0dXJlU2l6ZSApO1xuXHRcdFx0ZmxvYXQgZHkgPSAxLjAgLyBmbG9hdCggYm9uZVRleHR1cmVTaXplICk7XG5cdFx0XHR5ID0gZHkgKiAoIHkgKyAwLjUgKTtcblx0XHRcdHZlYzQgdjEgPSB0ZXh0dXJlMkQoIGJvbmVUZXh0dXJlLCB2ZWMyKCBkeCAqICggeCArIDAuNSApLCB5ICkgKTtcblx0XHRcdHZlYzQgdjIgPSB0ZXh0dXJlMkQoIGJvbmVUZXh0dXJlLCB2ZWMyKCBkeCAqICggeCArIDEuNSApLCB5ICkgKTtcblx0XHRcdHZlYzQgdjMgPSB0ZXh0dXJlMkQoIGJvbmVUZXh0dXJlLCB2ZWMyKCBkeCAqICggeCArIDIuNSApLCB5ICkgKTtcblx0XHRcdHZlYzQgdjQgPSB0ZXh0dXJlMkQoIGJvbmVUZXh0dXJlLCB2ZWMyKCBkeCAqICggeCArIDMuNSApLCB5ICkgKTtcblx0XHRcdG1hdDQgYm9uZSA9IG1hdDQoIHYxLCB2MiwgdjMsIHY0ICk7XG5cdFx0XHRyZXR1cm4gYm9uZTtcblx0XHR9XG5cdCNlbHNlXG5cdFx0dW5pZm9ybSBtYXQ0IGJvbmVNYXRyaWNlc1sgTUFYX0JPTkVTIF07XG5cdFx0bWF0NCBnZXRCb25lTWF0cml4KCBjb25zdCBpbiBmbG9hdCBpICkge1xuXHRcdFx0bWF0NCBib25lID0gYm9uZU1hdHJpY2VzWyBpbnQoaSkgXTtcblx0XHRcdHJldHVybiBib25lO1xuXHRcdH1cblx0I2VuZGlmXG4jZW5kaWYiO3ZhciBza2lubmluZ192ZXJ0ZXg9IiNpZmRlZiBVU0VfU0tJTk5JTkdcblx0dmVjNCBza2luVmVydGV4ID0gYmluZE1hdHJpeCAqIHZlYzQoIHRyYW5zZm9ybWVkLCAxLjAgKTtcblx0dmVjNCBza2lubmVkID0gdmVjNCggMC4wICk7XG5cdHNraW5uZWQgKz0gYm9uZU1hdFggKiBza2luVmVydGV4ICogc2tpbldlaWdodC54O1xuXHRza2lubmVkICs9IGJvbmVNYXRZICogc2tpblZlcnRleCAqIHNraW5XZWlnaHQueTtcblx0c2tpbm5lZCArPSBib25lTWF0WiAqIHNraW5WZXJ0ZXggKiBza2luV2VpZ2h0Lno7XG5cdHNraW5uZWQgKz0gYm9uZU1hdFcgKiBza2luVmVydGV4ICogc2tpbldlaWdodC53O1xuXHR0cmFuc2Zvcm1lZCA9ICggYmluZE1hdHJpeEludmVyc2UgKiBza2lubmVkICkueHl6O1xuI2VuZGlmIjt2YXIgc2tpbm5vcm1hbF92ZXJ0ZXg9IiNpZmRlZiBVU0VfU0tJTk5JTkdcblx0bWF0NCBza2luTWF0cml4ID0gbWF0NCggMC4wICk7XG5cdHNraW5NYXRyaXggKz0gc2tpbldlaWdodC54ICogYm9uZU1hdFg7XG5cdHNraW5NYXRyaXggKz0gc2tpbldlaWdodC55ICogYm9uZU1hdFk7XG5cdHNraW5NYXRyaXggKz0gc2tpbldlaWdodC56ICogYm9uZU1hdFo7XG5cdHNraW5NYXRyaXggKz0gc2tpbldlaWdodC53ICogYm9uZU1hdFc7XG5cdHNraW5NYXRyaXggPSBiaW5kTWF0cml4SW52ZXJzZSAqIHNraW5NYXRyaXggKiBiaW5kTWF0cml4O1xuXHRvYmplY3ROb3JtYWwgPSB2ZWM0KCBza2luTWF0cml4ICogdmVjNCggb2JqZWN0Tm9ybWFsLCAwLjAgKSApLnh5ejtcblx0I2lmZGVmIFVTRV9UQU5HRU5UXG5cdFx0b2JqZWN0VGFuZ2VudCA9IHZlYzQoIHNraW5NYXRyaXggKiB2ZWM0KCBvYmplY3RUYW5nZW50LCAwLjAgKSApLnh5ejtcblx0I2VuZGlmXG4jZW5kaWYiO3ZhciBzcGVjdWxhcm1hcF9mcmFnbWVudD0iZmxvYXQgc3BlY3VsYXJTdHJlbmd0aDtcbiNpZmRlZiBVU0VfU1BFQ1VMQVJNQVBcblx0dmVjNCB0ZXhlbFNwZWN1bGFyID0gdGV4dHVyZTJEKCBzcGVjdWxhck1hcCwgdlV2ICk7XG5cdHNwZWN1bGFyU3RyZW5ndGggPSB0ZXhlbFNwZWN1bGFyLnI7XG4jZWxzZVxuXHRzcGVjdWxhclN0cmVuZ3RoID0gMS4wO1xuI2VuZGlmIjt2YXIgc3BlY3VsYXJtYXBfcGFyc19mcmFnbWVudD0iI2lmZGVmIFVTRV9TUEVDVUxBUk1BUFxuXHR1bmlmb3JtIHNhbXBsZXIyRCBzcGVjdWxhck1hcDtcbiNlbmRpZiI7dmFyIHRvbmVtYXBwaW5nX2ZyYWdtZW50PSIjaWYgZGVmaW5lZCggVE9ORV9NQVBQSU5HIClcblx0Z2xfRnJhZ0NvbG9yLnJnYiA9IHRvbmVNYXBwaW5nKCBnbF9GcmFnQ29sb3IucmdiICk7XG4jZW5kaWYiO3ZhciB0b25lbWFwcGluZ19wYXJzX2ZyYWdtZW50PSIjaWZuZGVmIHNhdHVyYXRlXG4jZGVmaW5lIHNhdHVyYXRlKCBhICkgY2xhbXAoIGEsIDAuMCwgMS4wIClcbiNlbmRpZlxudW5pZm9ybSBmbG9hdCB0b25lTWFwcGluZ0V4cG9zdXJlO1xudmVjMyBMaW5lYXJUb25lTWFwcGluZyggdmVjMyBjb2xvciApIHtcblx0cmV0dXJuIHRvbmVNYXBwaW5nRXhwb3N1cmUgKiBjb2xvcjtcbn1cbnZlYzMgUmVpbmhhcmRUb25lTWFwcGluZyggdmVjMyBjb2xvciApIHtcblx0Y29sb3IgKj0gdG9uZU1hcHBpbmdFeHBvc3VyZTtcblx0cmV0dXJuIHNhdHVyYXRlKCBjb2xvciAvICggdmVjMyggMS4wICkgKyBjb2xvciApICk7XG59XG52ZWMzIE9wdGltaXplZENpbmVvblRvbmVNYXBwaW5nKCB2ZWMzIGNvbG9yICkge1xuXHRjb2xvciAqPSB0b25lTWFwcGluZ0V4cG9zdXJlO1xuXHRjb2xvciA9IG1heCggdmVjMyggMC4wICksIGNvbG9yIC0gMC4wMDQgKTtcblx0cmV0dXJuIHBvdyggKCBjb2xvciAqICggNi4yICogY29sb3IgKyAwLjUgKSApIC8gKCBjb2xvciAqICggNi4yICogY29sb3IgKyAxLjcgKSArIDAuMDYgKSwgdmVjMyggMi4yICkgKTtcbn1cbnZlYzMgUlJUQW5kT0RURml0KCB2ZWMzIHYgKSB7XG5cdHZlYzMgYSA9IHYgKiAoIHYgKyAwLjAyNDU3ODYgKSAtIDAuMDAwMDkwNTM3O1xuXHR2ZWMzIGIgPSB2ICogKCAwLjk4MzcyOSAqIHYgKyAwLjQzMjk1MTAgKSArIDAuMjM4MDgxO1xuXHRyZXR1cm4gYSAvIGI7XG59XG52ZWMzIEFDRVNGaWxtaWNUb25lTWFwcGluZyggdmVjMyBjb2xvciApIHtcblx0Y29uc3QgbWF0MyBBQ0VTSW5wdXRNYXQgPSBtYXQzKFxuXHRcdHZlYzMoIDAuNTk3MTksIDAuMDc2MDAsIDAuMDI4NDAgKSxcdFx0dmVjMyggMC4zNTQ1OCwgMC45MDgzNCwgMC4xMzM4MyApLFxuXHRcdHZlYzMoIDAuMDQ4MjMsIDAuMDE1NjYsIDAuODM3NzcgKVxuXHQpO1xuXHRjb25zdCBtYXQzIEFDRVNPdXRwdXRNYXQgPSBtYXQzKFxuXHRcdHZlYzMoICAxLjYwNDc1LCAtMC4xMDIwOCwgLTAuMDAzMjcgKSxcdFx0dmVjMyggLTAuNTMxMDgsICAxLjEwODEzLCAtMC4wNzI3NiApLFxuXHRcdHZlYzMoIC0wLjA3MzY3LCAtMC4wMDYwNSwgIDEuMDc2MDIgKVxuXHQpO1xuXHRjb2xvciAqPSB0b25lTWFwcGluZ0V4cG9zdXJlIC8gMC42O1xuXHRjb2xvciA9IEFDRVNJbnB1dE1hdCAqIGNvbG9yO1xuXHRjb2xvciA9IFJSVEFuZE9EVEZpdCggY29sb3IgKTtcblx0Y29sb3IgPSBBQ0VTT3V0cHV0TWF0ICogY29sb3I7XG5cdHJldHVybiBzYXR1cmF0ZSggY29sb3IgKTtcbn1cbnZlYzMgQ3VzdG9tVG9uZU1hcHBpbmcoIHZlYzMgY29sb3IgKSB7IHJldHVybiBjb2xvcjsgfSI7dmFyIHRyYW5zbWlzc2lvbl9mcmFnbWVudD0iI2lmZGVmIFVTRV9UUkFOU01JU1NJT05cblx0ZmxvYXQgdHJhbnNtaXNzaW9uQWxwaGEgPSAxLjA7XG5cdGZsb2F0IHRyYW5zbWlzc2lvbkZhY3RvciA9IHRyYW5zbWlzc2lvbjtcblx0ZmxvYXQgdGhpY2tuZXNzRmFjdG9yID0gdGhpY2tuZXNzO1xuXHQjaWZkZWYgVVNFX1RSQU5TTUlTU0lPTk1BUFxuXHRcdHRyYW5zbWlzc2lvbkZhY3RvciAqPSB0ZXh0dXJlMkQoIHRyYW5zbWlzc2lvbk1hcCwgdlV2ICkucjtcblx0I2VuZGlmXG5cdCNpZmRlZiBVU0VfVEhJQ0tORVNTTUFQXG5cdFx0dGhpY2tuZXNzRmFjdG9yICo9IHRleHR1cmUyRCggdGhpY2tuZXNzTWFwLCB2VXYgKS5nO1xuXHQjZW5kaWZcblx0dmVjMyBwb3MgPSB2V29ybGRQb3NpdGlvbjtcblx0dmVjMyB2ID0gbm9ybWFsaXplKCBjYW1lcmFQb3NpdGlvbiAtIHBvcyApO1xuXHR2ZWMzIG4gPSBpbnZlcnNlVHJhbnNmb3JtRGlyZWN0aW9uKCBub3JtYWwsIHZpZXdNYXRyaXggKTtcblx0dmVjNCB0cmFuc21pc3Npb24gPSBnZXRJQkxWb2x1bWVSZWZyYWN0aW9uKFxuXHRcdG4sIHYsIHJvdWdobmVzc0ZhY3RvciwgbWF0ZXJpYWwuZGlmZnVzZUNvbG9yLCBtYXRlcmlhbC5zcGVjdWxhckNvbG9yLCBtYXRlcmlhbC5zcGVjdWxhckY5MCxcblx0XHRwb3MsIG1vZGVsTWF0cml4LCB2aWV3TWF0cml4LCBwcm9qZWN0aW9uTWF0cml4LCBpb3IsIHRoaWNrbmVzc0ZhY3Rvcixcblx0XHRhdHRlbnVhdGlvbkNvbG9yLCBhdHRlbnVhdGlvbkRpc3RhbmNlICk7XG5cdHRvdGFsRGlmZnVzZSA9IG1peCggdG90YWxEaWZmdXNlLCB0cmFuc21pc3Npb24ucmdiLCB0cmFuc21pc3Npb25GYWN0b3IgKTtcblx0dHJhbnNtaXNzaW9uQWxwaGEgPSBtaXgoIHRyYW5zbWlzc2lvbkFscGhhLCB0cmFuc21pc3Npb24uYSwgdHJhbnNtaXNzaW9uRmFjdG9yICk7XG4jZW5kaWYiO3ZhciB0cmFuc21pc3Npb25fcGFyc19mcmFnbWVudD0iI2lmZGVmIFVTRV9UUkFOU01JU1NJT05cblx0dW5pZm9ybSBmbG9hdCB0cmFuc21pc3Npb247XG5cdHVuaWZvcm0gZmxvYXQgdGhpY2tuZXNzO1xuXHR1bmlmb3JtIGZsb2F0IGF0dGVudWF0aW9uRGlzdGFuY2U7XG5cdHVuaWZvcm0gdmVjMyBhdHRlbnVhdGlvbkNvbG9yO1xuXHQjaWZkZWYgVVNFX1RSQU5TTUlTU0lPTk1BUFxuXHRcdHVuaWZvcm0gc2FtcGxlcjJEIHRyYW5zbWlzc2lvbk1hcDtcblx0I2VuZGlmXG5cdCNpZmRlZiBVU0VfVEhJQ0tORVNTTUFQXG5cdFx0dW5pZm9ybSBzYW1wbGVyMkQgdGhpY2tuZXNzTWFwO1xuXHQjZW5kaWZcblx0dW5pZm9ybSB2ZWMyIHRyYW5zbWlzc2lvblNhbXBsZXJTaXplO1xuXHR1bmlmb3JtIHNhbXBsZXIyRCB0cmFuc21pc3Npb25TYW1wbGVyTWFwO1xuXHR1bmlmb3JtIG1hdDQgbW9kZWxNYXRyaXg7XG5cdHVuaWZvcm0gbWF0NCBwcm9qZWN0aW9uTWF0cml4O1xuXHR2YXJ5aW5nIHZlYzMgdldvcmxkUG9zaXRpb247XG5cdHZlYzMgZ2V0Vm9sdW1lVHJhbnNtaXNzaW9uUmF5KCBjb25zdCBpbiB2ZWMzIG4sIGNvbnN0IGluIHZlYzMgdiwgY29uc3QgaW4gZmxvYXQgdGhpY2tuZXNzLCBjb25zdCBpbiBmbG9hdCBpb3IsIGNvbnN0IGluIG1hdDQgbW9kZWxNYXRyaXggKSB7XG5cdFx0dmVjMyByZWZyYWN0aW9uVmVjdG9yID0gcmVmcmFjdCggLSB2LCBub3JtYWxpemUoIG4gKSwgMS4wIC8gaW9yICk7XG5cdFx0dmVjMyBtb2RlbFNjYWxlO1xuXHRcdG1vZGVsU2NhbGUueCA9IGxlbmd0aCggdmVjMyggbW9kZWxNYXRyaXhbIDAgXS54eXogKSApO1xuXHRcdG1vZGVsU2NhbGUueSA9IGxlbmd0aCggdmVjMyggbW9kZWxNYXRyaXhbIDEgXS54eXogKSApO1xuXHRcdG1vZGVsU2NhbGUueiA9IGxlbmd0aCggdmVjMyggbW9kZWxNYXRyaXhbIDIgXS54eXogKSApO1xuXHRcdHJldHVybiBub3JtYWxpemUoIHJlZnJhY3Rpb25WZWN0b3IgKSAqIHRoaWNrbmVzcyAqIG1vZGVsU2NhbGU7XG5cdH1cblx0ZmxvYXQgYXBwbHlJb3JUb1JvdWdobmVzcyggY29uc3QgaW4gZmxvYXQgcm91Z2huZXNzLCBjb25zdCBpbiBmbG9hdCBpb3IgKSB7XG5cdFx0cmV0dXJuIHJvdWdobmVzcyAqIGNsYW1wKCBpb3IgKiAyLjAgLSAyLjAsIDAuMCwgMS4wICk7XG5cdH1cblx0dmVjNCBnZXRUcmFuc21pc3Npb25TYW1wbGUoIGNvbnN0IGluIHZlYzIgZnJhZ0Nvb3JkLCBjb25zdCBpbiBmbG9hdCByb3VnaG5lc3MsIGNvbnN0IGluIGZsb2F0IGlvciApIHtcblx0XHRmbG9hdCBmcmFtZWJ1ZmZlckxvZCA9IGxvZzIoIHRyYW5zbWlzc2lvblNhbXBsZXJTaXplLnggKSAqIGFwcGx5SW9yVG9Sb3VnaG5lc3MoIHJvdWdobmVzcywgaW9yICk7XG5cdFx0I2lmZGVmIFRFWFRVUkVfTE9EX0VYVFxuXHRcdFx0cmV0dXJuIHRleHR1cmUyRExvZEVYVCggdHJhbnNtaXNzaW9uU2FtcGxlck1hcCwgZnJhZ0Nvb3JkLnh5LCBmcmFtZWJ1ZmZlckxvZCApO1xuXHRcdCNlbHNlXG5cdFx0XHRyZXR1cm4gdGV4dHVyZTJEKCB0cmFuc21pc3Npb25TYW1wbGVyTWFwLCBmcmFnQ29vcmQueHksIGZyYW1lYnVmZmVyTG9kICk7XG5cdFx0I2VuZGlmXG5cdH1cblx0dmVjMyBhcHBseVZvbHVtZUF0dGVudWF0aW9uKCBjb25zdCBpbiB2ZWMzIHJhZGlhbmNlLCBjb25zdCBpbiBmbG9hdCB0cmFuc21pc3Npb25EaXN0YW5jZSwgY29uc3QgaW4gdmVjMyBhdHRlbnVhdGlvbkNvbG9yLCBjb25zdCBpbiBmbG9hdCBhdHRlbnVhdGlvbkRpc3RhbmNlICkge1xuXHRcdGlmICggYXR0ZW51YXRpb25EaXN0YW5jZSA9PSAwLjAgKSB7XG5cdFx0XHRyZXR1cm4gcmFkaWFuY2U7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHZlYzMgYXR0ZW51YXRpb25Db2VmZmljaWVudCA9IC1sb2coIGF0dGVudWF0aW9uQ29sb3IgKSAvIGF0dGVudWF0aW9uRGlzdGFuY2U7XG5cdFx0XHR2ZWMzIHRyYW5zbWl0dGFuY2UgPSBleHAoIC0gYXR0ZW51YXRpb25Db2VmZmljaWVudCAqIHRyYW5zbWlzc2lvbkRpc3RhbmNlICk7XHRcdFx0cmV0dXJuIHRyYW5zbWl0dGFuY2UgKiByYWRpYW5jZTtcblx0XHR9XG5cdH1cblx0dmVjNCBnZXRJQkxWb2x1bWVSZWZyYWN0aW9uKCBjb25zdCBpbiB2ZWMzIG4sIGNvbnN0IGluIHZlYzMgdiwgY29uc3QgaW4gZmxvYXQgcm91Z2huZXNzLCBjb25zdCBpbiB2ZWMzIGRpZmZ1c2VDb2xvcixcblx0XHRjb25zdCBpbiB2ZWMzIHNwZWN1bGFyQ29sb3IsIGNvbnN0IGluIGZsb2F0IHNwZWN1bGFyRjkwLCBjb25zdCBpbiB2ZWMzIHBvc2l0aW9uLCBjb25zdCBpbiBtYXQ0IG1vZGVsTWF0cml4LFxuXHRcdGNvbnN0IGluIG1hdDQgdmlld01hdHJpeCwgY29uc3QgaW4gbWF0NCBwcm9qTWF0cml4LCBjb25zdCBpbiBmbG9hdCBpb3IsIGNvbnN0IGluIGZsb2F0IHRoaWNrbmVzcyxcblx0XHRjb25zdCBpbiB2ZWMzIGF0dGVudWF0aW9uQ29sb3IsIGNvbnN0IGluIGZsb2F0IGF0dGVudWF0aW9uRGlzdGFuY2UgKSB7XG5cdFx0dmVjMyB0cmFuc21pc3Npb25SYXkgPSBnZXRWb2x1bWVUcmFuc21pc3Npb25SYXkoIG4sIHYsIHRoaWNrbmVzcywgaW9yLCBtb2RlbE1hdHJpeCApO1xuXHRcdHZlYzMgcmVmcmFjdGVkUmF5RXhpdCA9IHBvc2l0aW9uICsgdHJhbnNtaXNzaW9uUmF5O1xuXHRcdHZlYzQgbmRjUG9zID0gcHJvak1hdHJpeCAqIHZpZXdNYXRyaXggKiB2ZWM0KCByZWZyYWN0ZWRSYXlFeGl0LCAxLjAgKTtcblx0XHR2ZWMyIHJlZnJhY3Rpb25Db29yZHMgPSBuZGNQb3MueHkgLyBuZGNQb3Mudztcblx0XHRyZWZyYWN0aW9uQ29vcmRzICs9IDEuMDtcblx0XHRyZWZyYWN0aW9uQ29vcmRzIC89IDIuMDtcblx0XHR2ZWM0IHRyYW5zbWl0dGVkTGlnaHQgPSBnZXRUcmFuc21pc3Npb25TYW1wbGUoIHJlZnJhY3Rpb25Db29yZHMsIHJvdWdobmVzcywgaW9yICk7XG5cdFx0dmVjMyBhdHRlbnVhdGVkQ29sb3IgPSBhcHBseVZvbHVtZUF0dGVudWF0aW9uKCB0cmFuc21pdHRlZExpZ2h0LnJnYiwgbGVuZ3RoKCB0cmFuc21pc3Npb25SYXkgKSwgYXR0ZW51YXRpb25Db2xvciwgYXR0ZW51YXRpb25EaXN0YW5jZSApO1xuXHRcdHZlYzMgRiA9IEVudmlyb25tZW50QlJERiggbiwgdiwgc3BlY3VsYXJDb2xvciwgc3BlY3VsYXJGOTAsIHJvdWdobmVzcyApO1xuXHRcdHJldHVybiB2ZWM0KCAoIDEuMCAtIEYgKSAqIGF0dGVudWF0ZWRDb2xvciAqIGRpZmZ1c2VDb2xvciwgdHJhbnNtaXR0ZWRMaWdodC5hICk7XG5cdH1cbiNlbmRpZiI7dmFyIHV2X3BhcnNfZnJhZ21lbnQ9IiNpZiAoIGRlZmluZWQoIFVTRV9VViApICYmICEgZGVmaW5lZCggVVZTX1ZFUlRFWF9PTkxZICkgKVxuXHR2YXJ5aW5nIHZlYzIgdlV2O1xuI2VuZGlmIjt2YXIgdXZfcGFyc192ZXJ0ZXg9IiNpZmRlZiBVU0VfVVZcblx0I2lmZGVmIFVWU19WRVJURVhfT05MWVxuXHRcdHZlYzIgdlV2O1xuXHQjZWxzZVxuXHRcdHZhcnlpbmcgdmVjMiB2VXY7XG5cdCNlbmRpZlxuXHR1bmlmb3JtIG1hdDMgdXZUcmFuc2Zvcm07XG4jZW5kaWYiO3ZhciB1dl92ZXJ0ZXg9IiNpZmRlZiBVU0VfVVZcblx0dlV2ID0gKCB1dlRyYW5zZm9ybSAqIHZlYzMoIHV2LCAxICkgKS54eTtcbiNlbmRpZiI7dmFyIHV2Ml9wYXJzX2ZyYWdtZW50PSIjaWYgZGVmaW5lZCggVVNFX0xJR0hUTUFQICkgfHwgZGVmaW5lZCggVVNFX0FPTUFQIClcblx0dmFyeWluZyB2ZWMyIHZVdjI7XG4jZW5kaWYiO3ZhciB1djJfcGFyc192ZXJ0ZXg9IiNpZiBkZWZpbmVkKCBVU0VfTElHSFRNQVAgKSB8fCBkZWZpbmVkKCBVU0VfQU9NQVAgKVxuXHRhdHRyaWJ1dGUgdmVjMiB1djI7XG5cdHZhcnlpbmcgdmVjMiB2VXYyO1xuXHR1bmlmb3JtIG1hdDMgdXYyVHJhbnNmb3JtO1xuI2VuZGlmIjt2YXIgdXYyX3ZlcnRleD0iI2lmIGRlZmluZWQoIFVTRV9MSUdIVE1BUCApIHx8IGRlZmluZWQoIFVTRV9BT01BUCApXG5cdHZVdjIgPSAoIHV2MlRyYW5zZm9ybSAqIHZlYzMoIHV2MiwgMSApICkueHk7XG4jZW5kaWYiO3ZhciB3b3JsZHBvc192ZXJ0ZXg9IiNpZiBkZWZpbmVkKCBVU0VfRU5WTUFQICkgfHwgZGVmaW5lZCggRElTVEFOQ0UgKSB8fCBkZWZpbmVkICggVVNFX1NIQURPV01BUCApIHx8IGRlZmluZWQgKCBVU0VfVFJBTlNNSVNTSU9OIClcblx0dmVjNCB3b3JsZFBvc2l0aW9uID0gdmVjNCggdHJhbnNmb3JtZWQsIDEuMCApO1xuXHQjaWZkZWYgVVNFX0lOU1RBTkNJTkdcblx0XHR3b3JsZFBvc2l0aW9uID0gaW5zdGFuY2VNYXRyaXggKiB3b3JsZFBvc2l0aW9uO1xuXHQjZW5kaWZcblx0d29ybGRQb3NpdGlvbiA9IG1vZGVsTWF0cml4ICogd29ybGRQb3NpdGlvbjtcbiNlbmRpZiI7dmFyIHZlcnRleCRnPSJ2YXJ5aW5nIHZlYzIgdlV2O1xudW5pZm9ybSBtYXQzIHV2VHJhbnNmb3JtO1xudm9pZCBtYWluKCkge1xuXHR2VXYgPSAoIHV2VHJhbnNmb3JtICogdmVjMyggdXYsIDEgKSApLnh5O1xuXHRnbF9Qb3NpdGlvbiA9IHZlYzQoIHBvc2l0aW9uLnh5LCAxLjAsIDEuMCApO1xufSI7dmFyIGZyYWdtZW50JGc9InVuaWZvcm0gc2FtcGxlcjJEIHQyRDtcbnZhcnlpbmcgdmVjMiB2VXY7XG52b2lkIG1haW4oKSB7XG5cdGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCggdDJELCB2VXYgKTtcblx0I2luY2x1ZGUgPHRvbmVtYXBwaW5nX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8ZW5jb2RpbmdzX2ZyYWdtZW50PlxufSI7dmFyIHZlcnRleCRmPSJ2YXJ5aW5nIHZlYzMgdldvcmxkRGlyZWN0aW9uO1xuI2luY2x1ZGUgPGNvbW1vbj5cbnZvaWQgbWFpbigpIHtcblx0dldvcmxkRGlyZWN0aW9uID0gdHJhbnNmb3JtRGlyZWN0aW9uKCBwb3NpdGlvbiwgbW9kZWxNYXRyaXggKTtcblx0I2luY2x1ZGUgPGJlZ2luX3ZlcnRleD5cblx0I2luY2x1ZGUgPHByb2plY3RfdmVydGV4PlxuXHRnbF9Qb3NpdGlvbi56ID0gZ2xfUG9zaXRpb24udztcbn0iO3ZhciBmcmFnbWVudCRmPSIjaW5jbHVkZSA8ZW52bWFwX2NvbW1vbl9wYXJzX2ZyYWdtZW50PlxudW5pZm9ybSBmbG9hdCBvcGFjaXR5O1xudmFyeWluZyB2ZWMzIHZXb3JsZERpcmVjdGlvbjtcbiNpbmNsdWRlIDxjdWJlX3V2X3JlZmxlY3Rpb25fZnJhZ21lbnQ+XG52b2lkIG1haW4oKSB7XG5cdHZlYzMgdlJlZmxlY3QgPSB2V29ybGREaXJlY3Rpb247XG5cdCNpbmNsdWRlIDxlbnZtYXBfZnJhZ21lbnQ+XG5cdGdsX0ZyYWdDb2xvciA9IGVudkNvbG9yO1xuXHRnbF9GcmFnQ29sb3IuYSAqPSBvcGFjaXR5O1xuXHQjaW5jbHVkZSA8dG9uZW1hcHBpbmdfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxlbmNvZGluZ3NfZnJhZ21lbnQ+XG59Ijt2YXIgdmVydGV4JGU9IiNpbmNsdWRlIDxjb21tb24+XG4jaW5jbHVkZSA8dXZfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8ZGlzcGxhY2VtZW50bWFwX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPG1vcnBodGFyZ2V0X3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPHNraW5uaW5nX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX3ZlcnRleD5cbnZhcnlpbmcgdmVjMiB2SGlnaFByZWNpc2lvblpXO1xudm9pZCBtYWluKCkge1xuXHQjaW5jbHVkZSA8dXZfdmVydGV4PlxuXHQjaW5jbHVkZSA8c2tpbmJhc2VfdmVydGV4PlxuXHQjaWZkZWYgVVNFX0RJU1BMQUNFTUVOVE1BUFxuXHRcdCNpbmNsdWRlIDxiZWdpbm5vcm1hbF92ZXJ0ZXg+XG5cdFx0I2luY2x1ZGUgPG1vcnBobm9ybWFsX3ZlcnRleD5cblx0XHQjaW5jbHVkZSA8c2tpbm5vcm1hbF92ZXJ0ZXg+XG5cdCNlbmRpZlxuXHQjaW5jbHVkZSA8YmVnaW5fdmVydGV4PlxuXHQjaW5jbHVkZSA8bW9ycGh0YXJnZXRfdmVydGV4PlxuXHQjaW5jbHVkZSA8c2tpbm5pbmdfdmVydGV4PlxuXHQjaW5jbHVkZSA8ZGlzcGxhY2VtZW50bWFwX3ZlcnRleD5cblx0I2luY2x1ZGUgPHByb2plY3RfdmVydGV4PlxuXHQjaW5jbHVkZSA8bG9nZGVwdGhidWZfdmVydGV4PlxuXHQjaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3ZlcnRleD5cblx0dkhpZ2hQcmVjaXNpb25aVyA9IGdsX1Bvc2l0aW9uLnp3O1xufSI7dmFyIGZyYWdtZW50JGU9IiNpZiBERVBUSF9QQUNLSU5HID09IDMyMDBcblx0dW5pZm9ybSBmbG9hdCBvcGFjaXR5O1xuI2VuZGlmXG4jaW5jbHVkZSA8Y29tbW9uPlxuI2luY2x1ZGUgPHBhY2tpbmc+XG4jaW5jbHVkZSA8dXZfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxtYXBfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxhbHBoYW1hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGFscGhhdGVzdF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3BhcnNfZnJhZ21lbnQ+XG52YXJ5aW5nIHZlYzIgdkhpZ2hQcmVjaXNpb25aVztcbnZvaWQgbWFpbigpIHtcblx0I2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19mcmFnbWVudD5cblx0dmVjNCBkaWZmdXNlQ29sb3IgPSB2ZWM0KCAxLjAgKTtcblx0I2lmIERFUFRIX1BBQ0tJTkcgPT0gMzIwMFxuXHRcdGRpZmZ1c2VDb2xvci5hID0gb3BhY2l0eTtcblx0I2VuZGlmXG5cdCNpbmNsdWRlIDxtYXBfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxhbHBoYW1hcF9mcmFnbWVudD5cblx0I2luY2x1ZGUgPGFscGhhdGVzdF9mcmFnbWVudD5cblx0I2luY2x1ZGUgPGxvZ2RlcHRoYnVmX2ZyYWdtZW50PlxuXHRmbG9hdCBmcmFnQ29vcmRaID0gMC41ICogdkhpZ2hQcmVjaXNpb25aV1swXSAvIHZIaWdoUHJlY2lzaW9uWldbMV0gKyAwLjU7XG5cdCNpZiBERVBUSF9QQUNLSU5HID09IDMyMDBcblx0XHRnbF9GcmFnQ29sb3IgPSB2ZWM0KCB2ZWMzKCAxLjAgLSBmcmFnQ29vcmRaICksIG9wYWNpdHkgKTtcblx0I2VsaWYgREVQVEhfUEFDS0lORyA9PSAzMjAxXG5cdFx0Z2xfRnJhZ0NvbG9yID0gcGFja0RlcHRoVG9SR0JBKCBmcmFnQ29vcmRaICk7XG5cdCNlbmRpZlxufSI7dmFyIHZlcnRleCRkPSIjZGVmaW5lIERJU1RBTkNFXG52YXJ5aW5nIHZlYzMgdldvcmxkUG9zaXRpb247XG4jaW5jbHVkZSA8Y29tbW9uPlxuI2luY2x1ZGUgPHV2X3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGRpc3BsYWNlbWVudG1hcF9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxtb3JwaHRhcmdldF9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxza2lubmluZ19wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc192ZXJ0ZXg+XG52b2lkIG1haW4oKSB7XG5cdCNpbmNsdWRlIDx1dl92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxza2luYmFzZV92ZXJ0ZXg+XG5cdCNpZmRlZiBVU0VfRElTUExBQ0VNRU5UTUFQXG5cdFx0I2luY2x1ZGUgPGJlZ2lubm9ybWFsX3ZlcnRleD5cblx0XHQjaW5jbHVkZSA8bW9ycGhub3JtYWxfdmVydGV4PlxuXHRcdCNpbmNsdWRlIDxza2lubm9ybWFsX3ZlcnRleD5cblx0I2VuZGlmXG5cdCNpbmNsdWRlIDxiZWdpbl92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxtb3JwaHRhcmdldF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxza2lubmluZ192ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxkaXNwbGFjZW1lbnRtYXBfdmVydGV4PlxuXHQjaW5jbHVkZSA8cHJvamVjdF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDx3b3JsZHBvc192ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfdmVydGV4PlxuXHR2V29ybGRQb3NpdGlvbiA9IHdvcmxkUG9zaXRpb24ueHl6O1xufSI7dmFyIGZyYWdtZW50JGQ9IiNkZWZpbmUgRElTVEFOQ0VcbnVuaWZvcm0gdmVjMyByZWZlcmVuY2VQb3NpdGlvbjtcbnVuaWZvcm0gZmxvYXQgbmVhckRpc3RhbmNlO1xudW5pZm9ybSBmbG9hdCBmYXJEaXN0YW5jZTtcbnZhcnlpbmcgdmVjMyB2V29ybGRQb3NpdGlvbjtcbiNpbmNsdWRlIDxjb21tb24+XG4jaW5jbHVkZSA8cGFja2luZz5cbiNpbmNsdWRlIDx1dl9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPG1hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGFscGhhbWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8YWxwaGF0ZXN0X3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3BhcnNfZnJhZ21lbnQ+XG52b2lkIG1haW4gKCkge1xuXHQjaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX2ZyYWdtZW50PlxuXHR2ZWM0IGRpZmZ1c2VDb2xvciA9IHZlYzQoIDEuMCApO1xuXHQjaW5jbHVkZSA8bWFwX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8YWxwaGFtYXBfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxhbHBoYXRlc3RfZnJhZ21lbnQ+XG5cdGZsb2F0IGRpc3QgPSBsZW5ndGgoIHZXb3JsZFBvc2l0aW9uIC0gcmVmZXJlbmNlUG9zaXRpb24gKTtcblx0ZGlzdCA9ICggZGlzdCAtIG5lYXJEaXN0YW5jZSApIC8gKCBmYXJEaXN0YW5jZSAtIG5lYXJEaXN0YW5jZSApO1xuXHRkaXN0ID0gc2F0dXJhdGUoIGRpc3QgKTtcblx0Z2xfRnJhZ0NvbG9yID0gcGFja0RlcHRoVG9SR0JBKCBkaXN0ICk7XG59Ijt2YXIgdmVydGV4JGM9InZhcnlpbmcgdmVjMyB2V29ybGREaXJlY3Rpb247XG4jaW5jbHVkZSA8Y29tbW9uPlxudm9pZCBtYWluKCkge1xuXHR2V29ybGREaXJlY3Rpb24gPSB0cmFuc2Zvcm1EaXJlY3Rpb24oIHBvc2l0aW9uLCBtb2RlbE1hdHJpeCApO1xuXHQjaW5jbHVkZSA8YmVnaW5fdmVydGV4PlxuXHQjaW5jbHVkZSA8cHJvamVjdF92ZXJ0ZXg+XG59Ijt2YXIgZnJhZ21lbnQkYz0idW5pZm9ybSBzYW1wbGVyMkQgdEVxdWlyZWN0O1xudmFyeWluZyB2ZWMzIHZXb3JsZERpcmVjdGlvbjtcbiNpbmNsdWRlIDxjb21tb24+XG52b2lkIG1haW4oKSB7XG5cdHZlYzMgZGlyZWN0aW9uID0gbm9ybWFsaXplKCB2V29ybGREaXJlY3Rpb24gKTtcblx0dmVjMiBzYW1wbGVVViA9IGVxdWlyZWN0VXYoIGRpcmVjdGlvbiApO1xuXHRnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQoIHRFcXVpcmVjdCwgc2FtcGxlVVYgKTtcblx0I2luY2x1ZGUgPHRvbmVtYXBwaW5nX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8ZW5jb2RpbmdzX2ZyYWdtZW50PlxufSI7dmFyIHZlcnRleCRiPSJ1bmlmb3JtIGZsb2F0IHNjYWxlO1xuYXR0cmlidXRlIGZsb2F0IGxpbmVEaXN0YW5jZTtcbnZhcnlpbmcgZmxvYXQgdkxpbmVEaXN0YW5jZTtcbiNpbmNsdWRlIDxjb21tb24+XG4jaW5jbHVkZSA8Y29sb3JfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8Zm9nX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPG1vcnBodGFyZ2V0X3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX3ZlcnRleD5cbnZvaWQgbWFpbigpIHtcblx0dkxpbmVEaXN0YW5jZSA9IHNjYWxlICogbGluZURpc3RhbmNlO1xuXHQjaW5jbHVkZSA8Y29sb3JfdmVydGV4PlxuXHQjaW5jbHVkZSA8YmVnaW5fdmVydGV4PlxuXHQjaW5jbHVkZSA8bW9ycGh0YXJnZXRfdmVydGV4PlxuXHQjaW5jbHVkZSA8cHJvamVjdF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfdmVydGV4PlxuXHQjaW5jbHVkZSA8Zm9nX3ZlcnRleD5cbn0iO3ZhciBmcmFnbWVudCRiPSJ1bmlmb3JtIHZlYzMgZGlmZnVzZTtcbnVuaWZvcm0gZmxvYXQgb3BhY2l0eTtcbnVuaWZvcm0gZmxvYXQgZGFzaFNpemU7XG51bmlmb3JtIGZsb2F0IHRvdGFsU2l6ZTtcbnZhcnlpbmcgZmxvYXQgdkxpbmVEaXN0YW5jZTtcbiNpbmNsdWRlIDxjb21tb24+XG4jaW5jbHVkZSA8Y29sb3JfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxmb2dfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX2ZyYWdtZW50Plxudm9pZCBtYWluKCkge1xuXHQjaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX2ZyYWdtZW50PlxuXHRpZiAoIG1vZCggdkxpbmVEaXN0YW5jZSwgdG90YWxTaXplICkgPiBkYXNoU2l6ZSApIHtcblx0XHRkaXNjYXJkO1xuXHR9XG5cdHZlYzMgb3V0Z29pbmdMaWdodCA9IHZlYzMoIDAuMCApO1xuXHR2ZWM0IGRpZmZ1c2VDb2xvciA9IHZlYzQoIGRpZmZ1c2UsIG9wYWNpdHkgKTtcblx0I2luY2x1ZGUgPGxvZ2RlcHRoYnVmX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8Y29sb3JfZnJhZ21lbnQ+XG5cdG91dGdvaW5nTGlnaHQgPSBkaWZmdXNlQ29sb3IucmdiO1xuXHQjaW5jbHVkZSA8b3V0cHV0X2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8dG9uZW1hcHBpbmdfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxlbmNvZGluZ3NfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxmb2dfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxwcmVtdWx0aXBsaWVkX2FscGhhX2ZyYWdtZW50PlxufSI7dmFyIHZlcnRleCRhPSIjaW5jbHVkZSA8Y29tbW9uPlxuI2luY2x1ZGUgPHV2X3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPHV2Ml9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxlbnZtYXBfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8Y29sb3JfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8Zm9nX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPG1vcnBodGFyZ2V0X3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPHNraW5uaW5nX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX3ZlcnRleD5cbnZvaWQgbWFpbigpIHtcblx0I2luY2x1ZGUgPHV2X3ZlcnRleD5cblx0I2luY2x1ZGUgPHV2Ml92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxjb2xvcl92ZXJ0ZXg+XG5cdCNpZiBkZWZpbmVkICggVVNFX0VOVk1BUCApIHx8IGRlZmluZWQgKCBVU0VfU0tJTk5JTkcgKVxuXHRcdCNpbmNsdWRlIDxiZWdpbm5vcm1hbF92ZXJ0ZXg+XG5cdFx0I2luY2x1ZGUgPG1vcnBobm9ybWFsX3ZlcnRleD5cblx0XHQjaW5jbHVkZSA8c2tpbmJhc2VfdmVydGV4PlxuXHRcdCNpbmNsdWRlIDxza2lubm9ybWFsX3ZlcnRleD5cblx0XHQjaW5jbHVkZSA8ZGVmYXVsdG5vcm1hbF92ZXJ0ZXg+XG5cdCNlbmRpZlxuXHQjaW5jbHVkZSA8YmVnaW5fdmVydGV4PlxuXHQjaW5jbHVkZSA8bW9ycGh0YXJnZXRfdmVydGV4PlxuXHQjaW5jbHVkZSA8c2tpbm5pbmdfdmVydGV4PlxuXHQjaW5jbHVkZSA8cHJvamVjdF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfdmVydGV4PlxuXHQjaW5jbHVkZSA8d29ybGRwb3NfdmVydGV4PlxuXHQjaW5jbHVkZSA8ZW52bWFwX3ZlcnRleD5cblx0I2luY2x1ZGUgPGZvZ192ZXJ0ZXg+XG59Ijt2YXIgZnJhZ21lbnQkYT0idW5pZm9ybSB2ZWMzIGRpZmZ1c2U7XG51bmlmb3JtIGZsb2F0IG9wYWNpdHk7XG4jaWZuZGVmIEZMQVRfU0hBREVEXG5cdHZhcnlpbmcgdmVjMyB2Tm9ybWFsO1xuI2VuZGlmXG4jaW5jbHVkZSA8Y29tbW9uPlxuI2luY2x1ZGUgPGRpdGhlcmluZ19wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGNvbG9yX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8dXZfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDx1djJfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxtYXBfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxhbHBoYW1hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGFscGhhdGVzdF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGFvbWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8bGlnaHRtYXBfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxlbnZtYXBfY29tbW9uX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8ZW52bWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8Y3ViZV91dl9yZWZsZWN0aW9uX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGZvZ19wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPHNwZWN1bGFybWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc19mcmFnbWVudD5cbnZvaWQgbWFpbigpIHtcblx0I2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19mcmFnbWVudD5cblx0dmVjNCBkaWZmdXNlQ29sb3IgPSB2ZWM0KCBkaWZmdXNlLCBvcGFjaXR5ICk7XG5cdCNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9mcmFnbWVudD5cblx0I2luY2x1ZGUgPG1hcF9mcmFnbWVudD5cblx0I2luY2x1ZGUgPGNvbG9yX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8YWxwaGFtYXBfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxhbHBoYXRlc3RfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxzcGVjdWxhcm1hcF9mcmFnbWVudD5cblx0UmVmbGVjdGVkTGlnaHQgcmVmbGVjdGVkTGlnaHQgPSBSZWZsZWN0ZWRMaWdodCggdmVjMyggMC4wICksIHZlYzMoIDAuMCApLCB2ZWMzKCAwLjAgKSwgdmVjMyggMC4wICkgKTtcblx0I2lmZGVmIFVTRV9MSUdIVE1BUFxuXHRcdHZlYzQgbGlnaHRNYXBUZXhlbD0gdGV4dHVyZTJEKCBsaWdodE1hcCwgdlV2MiApO1xuXHRcdHJlZmxlY3RlZExpZ2h0LmluZGlyZWN0RGlmZnVzZSArPSBsaWdodE1hcFRleGVsLnJnYiAqIGxpZ2h0TWFwSW50ZW5zaXR5O1xuXHQjZWxzZVxuXHRcdHJlZmxlY3RlZExpZ2h0LmluZGlyZWN0RGlmZnVzZSArPSB2ZWMzKCAxLjAgKTtcblx0I2VuZGlmXG5cdCNpbmNsdWRlIDxhb21hcF9mcmFnbWVudD5cblx0cmVmbGVjdGVkTGlnaHQuaW5kaXJlY3REaWZmdXNlICo9IGRpZmZ1c2VDb2xvci5yZ2I7XG5cdHZlYzMgb3V0Z29pbmdMaWdodCA9IHJlZmxlY3RlZExpZ2h0LmluZGlyZWN0RGlmZnVzZTtcblx0I2luY2x1ZGUgPGVudm1hcF9mcmFnbWVudD5cblx0I2luY2x1ZGUgPG91dHB1dF9mcmFnbWVudD5cblx0I2luY2x1ZGUgPHRvbmVtYXBwaW5nX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8ZW5jb2RpbmdzX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8Zm9nX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8cHJlbXVsdGlwbGllZF9hbHBoYV9mcmFnbWVudD5cblx0I2luY2x1ZGUgPGRpdGhlcmluZ19mcmFnbWVudD5cbn0iO3ZhciB2ZXJ0ZXgkOT0iI2RlZmluZSBMQU1CRVJUXG52YXJ5aW5nIHZlYzMgdkxpZ2h0RnJvbnQ7XG52YXJ5aW5nIHZlYzMgdkluZGlyZWN0RnJvbnQ7XG4jaWZkZWYgRE9VQkxFX1NJREVEXG5cdHZhcnlpbmcgdmVjMyB2TGlnaHRCYWNrO1xuXHR2YXJ5aW5nIHZlYzMgdkluZGlyZWN0QmFjaztcbiNlbmRpZlxuI2luY2x1ZGUgPGNvbW1vbj5cbiNpbmNsdWRlIDx1dl9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDx1djJfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8ZW52bWFwX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGJzZGZzPlxuI2luY2x1ZGUgPGxpZ2h0c19wYXJzX2JlZ2luPlxuI2luY2x1ZGUgPGNvbG9yX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGZvZ19wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxtb3JwaHRhcmdldF9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxza2lubmluZ19wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxzaGFkb3dtYXBfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3BhcnNfdmVydGV4Plxudm9pZCBtYWluKCkge1xuXHQjaW5jbHVkZSA8dXZfdmVydGV4PlxuXHQjaW5jbHVkZSA8dXYyX3ZlcnRleD5cblx0I2luY2x1ZGUgPGNvbG9yX3ZlcnRleD5cblx0I2luY2x1ZGUgPGJlZ2lubm9ybWFsX3ZlcnRleD5cblx0I2luY2x1ZGUgPG1vcnBobm9ybWFsX3ZlcnRleD5cblx0I2luY2x1ZGUgPHNraW5iYXNlX3ZlcnRleD5cblx0I2luY2x1ZGUgPHNraW5ub3JtYWxfdmVydGV4PlxuXHQjaW5jbHVkZSA8ZGVmYXVsdG5vcm1hbF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxiZWdpbl92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxtb3JwaHRhcmdldF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxza2lubmluZ192ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxwcm9qZWN0X3ZlcnRleD5cblx0I2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3ZlcnRleD5cblx0I2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc192ZXJ0ZXg+XG5cdCNpbmNsdWRlIDx3b3JsZHBvc192ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxlbnZtYXBfdmVydGV4PlxuXHQjaW5jbHVkZSA8bGlnaHRzX2xhbWJlcnRfdmVydGV4PlxuXHQjaW5jbHVkZSA8c2hhZG93bWFwX3ZlcnRleD5cblx0I2luY2x1ZGUgPGZvZ192ZXJ0ZXg+XG59Ijt2YXIgZnJhZ21lbnQkOT0idW5pZm9ybSB2ZWMzIGRpZmZ1c2U7XG51bmlmb3JtIHZlYzMgZW1pc3NpdmU7XG51bmlmb3JtIGZsb2F0IG9wYWNpdHk7XG52YXJ5aW5nIHZlYzMgdkxpZ2h0RnJvbnQ7XG52YXJ5aW5nIHZlYzMgdkluZGlyZWN0RnJvbnQ7XG4jaWZkZWYgRE9VQkxFX1NJREVEXG5cdHZhcnlpbmcgdmVjMyB2TGlnaHRCYWNrO1xuXHR2YXJ5aW5nIHZlYzMgdkluZGlyZWN0QmFjaztcbiNlbmRpZlxuI2luY2x1ZGUgPGNvbW1vbj5cbiNpbmNsdWRlIDxwYWNraW5nPlxuI2luY2x1ZGUgPGRpdGhlcmluZ19wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGNvbG9yX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8dXZfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDx1djJfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxtYXBfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxhbHBoYW1hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGFscGhhdGVzdF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGFvbWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8bGlnaHRtYXBfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxlbWlzc2l2ZW1hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGVudm1hcF9jb21tb25fcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxlbnZtYXBfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxjdWJlX3V2X3JlZmxlY3Rpb25fZnJhZ21lbnQ+XG4jaW5jbHVkZSA8YnNkZnM+XG4jaW5jbHVkZSA8bGlnaHRzX3BhcnNfYmVnaW4+XG4jaW5jbHVkZSA8Zm9nX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8c2hhZG93bWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8c2hhZG93bWFza19wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPHNwZWN1bGFybWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc19mcmFnbWVudD5cbnZvaWQgbWFpbigpIHtcblx0I2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19mcmFnbWVudD5cblx0dmVjNCBkaWZmdXNlQ29sb3IgPSB2ZWM0KCBkaWZmdXNlLCBvcGFjaXR5ICk7XG5cdFJlZmxlY3RlZExpZ2h0IHJlZmxlY3RlZExpZ2h0ID0gUmVmbGVjdGVkTGlnaHQoIHZlYzMoIDAuMCApLCB2ZWMzKCAwLjAgKSwgdmVjMyggMC4wICksIHZlYzMoIDAuMCApICk7XG5cdHZlYzMgdG90YWxFbWlzc2l2ZVJhZGlhbmNlID0gZW1pc3NpdmU7XG5cdCNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9mcmFnbWVudD5cblx0I2luY2x1ZGUgPG1hcF9mcmFnbWVudD5cblx0I2luY2x1ZGUgPGNvbG9yX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8YWxwaGFtYXBfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxhbHBoYXRlc3RfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxzcGVjdWxhcm1hcF9mcmFnbWVudD5cblx0I2luY2x1ZGUgPGVtaXNzaXZlbWFwX2ZyYWdtZW50PlxuXHQjaWZkZWYgRE9VQkxFX1NJREVEXG5cdFx0cmVmbGVjdGVkTGlnaHQuaW5kaXJlY3REaWZmdXNlICs9ICggZ2xfRnJvbnRGYWNpbmcgKSA/IHZJbmRpcmVjdEZyb250IDogdkluZGlyZWN0QmFjaztcblx0I2Vsc2Vcblx0XHRyZWZsZWN0ZWRMaWdodC5pbmRpcmVjdERpZmZ1c2UgKz0gdkluZGlyZWN0RnJvbnQ7XG5cdCNlbmRpZlxuXHQjaW5jbHVkZSA8bGlnaHRtYXBfZnJhZ21lbnQ+XG5cdHJlZmxlY3RlZExpZ2h0LmluZGlyZWN0RGlmZnVzZSAqPSBCUkRGX0xhbWJlcnQoIGRpZmZ1c2VDb2xvci5yZ2IgKTtcblx0I2lmZGVmIERPVUJMRV9TSURFRFxuXHRcdHJlZmxlY3RlZExpZ2h0LmRpcmVjdERpZmZ1c2UgPSAoIGdsX0Zyb250RmFjaW5nICkgPyB2TGlnaHRGcm9udCA6IHZMaWdodEJhY2s7XG5cdCNlbHNlXG5cdFx0cmVmbGVjdGVkTGlnaHQuZGlyZWN0RGlmZnVzZSA9IHZMaWdodEZyb250O1xuXHQjZW5kaWZcblx0cmVmbGVjdGVkTGlnaHQuZGlyZWN0RGlmZnVzZSAqPSBCUkRGX0xhbWJlcnQoIGRpZmZ1c2VDb2xvci5yZ2IgKSAqIGdldFNoYWRvd01hc2soKTtcblx0I2luY2x1ZGUgPGFvbWFwX2ZyYWdtZW50PlxuXHR2ZWMzIG91dGdvaW5nTGlnaHQgPSByZWZsZWN0ZWRMaWdodC5kaXJlY3REaWZmdXNlICsgcmVmbGVjdGVkTGlnaHQuaW5kaXJlY3REaWZmdXNlICsgdG90YWxFbWlzc2l2ZVJhZGlhbmNlO1xuXHQjaW5jbHVkZSA8ZW52bWFwX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8b3V0cHV0X2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8dG9uZW1hcHBpbmdfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxlbmNvZGluZ3NfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxmb2dfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxwcmVtdWx0aXBsaWVkX2FscGhhX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8ZGl0aGVyaW5nX2ZyYWdtZW50PlxufSI7dmFyIHZlcnRleCQ4PSIjZGVmaW5lIE1BVENBUFxudmFyeWluZyB2ZWMzIHZWaWV3UG9zaXRpb247XG4jaW5jbHVkZSA8Y29tbW9uPlxuI2luY2x1ZGUgPHV2X3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGNvbG9yX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGRpc3BsYWNlbWVudG1hcF9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxmb2dfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8bm9ybWFsX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPG1vcnBodGFyZ2V0X3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPHNraW5uaW5nX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX3ZlcnRleD5cbnZvaWQgbWFpbigpIHtcblx0I2luY2x1ZGUgPHV2X3ZlcnRleD5cblx0I2luY2x1ZGUgPGNvbG9yX3ZlcnRleD5cblx0I2luY2x1ZGUgPGJlZ2lubm9ybWFsX3ZlcnRleD5cblx0I2luY2x1ZGUgPG1vcnBobm9ybWFsX3ZlcnRleD5cblx0I2luY2x1ZGUgPHNraW5iYXNlX3ZlcnRleD5cblx0I2luY2x1ZGUgPHNraW5ub3JtYWxfdmVydGV4PlxuXHQjaW5jbHVkZSA8ZGVmYXVsdG5vcm1hbF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxub3JtYWxfdmVydGV4PlxuXHQjaW5jbHVkZSA8YmVnaW5fdmVydGV4PlxuXHQjaW5jbHVkZSA8bW9ycGh0YXJnZXRfdmVydGV4PlxuXHQjaW5jbHVkZSA8c2tpbm5pbmdfdmVydGV4PlxuXHQjaW5jbHVkZSA8ZGlzcGxhY2VtZW50bWFwX3ZlcnRleD5cblx0I2luY2x1ZGUgPHByb2plY3RfdmVydGV4PlxuXHQjaW5jbHVkZSA8bG9nZGVwdGhidWZfdmVydGV4PlxuXHQjaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3ZlcnRleD5cblx0I2luY2x1ZGUgPGZvZ192ZXJ0ZXg+XG5cdHZWaWV3UG9zaXRpb24gPSAtIG12UG9zaXRpb24ueHl6O1xufSI7dmFyIGZyYWdtZW50JDg9IiNkZWZpbmUgTUFUQ0FQXG51bmlmb3JtIHZlYzMgZGlmZnVzZTtcbnVuaWZvcm0gZmxvYXQgb3BhY2l0eTtcbnVuaWZvcm0gc2FtcGxlcjJEIG1hdGNhcDtcbnZhcnlpbmcgdmVjMyB2Vmlld1Bvc2l0aW9uO1xuI2luY2x1ZGUgPGNvbW1vbj5cbiNpbmNsdWRlIDxkaXRoZXJpbmdfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxjb2xvcl9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPHV2X3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8bWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8YWxwaGFtYXBfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxhbHBoYXRlc3RfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxmb2dfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxub3JtYWxfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxidW1wbWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8bm9ybWFsbWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc19mcmFnbWVudD5cbnZvaWQgbWFpbigpIHtcblx0I2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19mcmFnbWVudD5cblx0dmVjNCBkaWZmdXNlQ29sb3IgPSB2ZWM0KCBkaWZmdXNlLCBvcGFjaXR5ICk7XG5cdCNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9mcmFnbWVudD5cblx0I2luY2x1ZGUgPG1hcF9mcmFnbWVudD5cblx0I2luY2x1ZGUgPGNvbG9yX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8YWxwaGFtYXBfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxhbHBoYXRlc3RfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxub3JtYWxfZnJhZ21lbnRfYmVnaW4+XG5cdCNpbmNsdWRlIDxub3JtYWxfZnJhZ21lbnRfbWFwcz5cblx0dmVjMyB2aWV3RGlyID0gbm9ybWFsaXplKCB2Vmlld1Bvc2l0aW9uICk7XG5cdHZlYzMgeCA9IG5vcm1hbGl6ZSggdmVjMyggdmlld0Rpci56LCAwLjAsIC0gdmlld0Rpci54ICkgKTtcblx0dmVjMyB5ID0gY3Jvc3MoIHZpZXdEaXIsIHggKTtcblx0dmVjMiB1diA9IHZlYzIoIGRvdCggeCwgbm9ybWFsICksIGRvdCggeSwgbm9ybWFsICkgKSAqIDAuNDk1ICsgMC41O1xuXHQjaWZkZWYgVVNFX01BVENBUFxuXHRcdHZlYzQgbWF0Y2FwQ29sb3IgPSB0ZXh0dXJlMkQoIG1hdGNhcCwgdXYgKTtcblx0I2Vsc2Vcblx0XHR2ZWM0IG1hdGNhcENvbG9yID0gdmVjNCggdmVjMyggbWl4KCAwLjIsIDAuOCwgdXYueSApICksIDEuMCApO1xuXHQjZW5kaWZcblx0dmVjMyBvdXRnb2luZ0xpZ2h0ID0gZGlmZnVzZUNvbG9yLnJnYiAqIG1hdGNhcENvbG9yLnJnYjtcblx0I2luY2x1ZGUgPG91dHB1dF9mcmFnbWVudD5cblx0I2luY2x1ZGUgPHRvbmVtYXBwaW5nX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8ZW5jb2RpbmdzX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8Zm9nX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8cHJlbXVsdGlwbGllZF9hbHBoYV9mcmFnbWVudD5cblx0I2luY2x1ZGUgPGRpdGhlcmluZ19mcmFnbWVudD5cbn0iO3ZhciB2ZXJ0ZXgkNz0iI2RlZmluZSBOT1JNQUxcbiNpZiBkZWZpbmVkKCBGTEFUX1NIQURFRCApIHx8IGRlZmluZWQoIFVTRV9CVU1QTUFQICkgfHwgZGVmaW5lZCggVEFOR0VOVFNQQUNFX05PUk1BTE1BUCApXG5cdHZhcnlpbmcgdmVjMyB2Vmlld1Bvc2l0aW9uO1xuI2VuZGlmXG4jaW5jbHVkZSA8Y29tbW9uPlxuI2luY2x1ZGUgPHV2X3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGRpc3BsYWNlbWVudG1hcF9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxub3JtYWxfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8bW9ycGh0YXJnZXRfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8c2tpbm5pbmdfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3BhcnNfdmVydGV4Plxudm9pZCBtYWluKCkge1xuXHQjaW5jbHVkZSA8dXZfdmVydGV4PlxuXHQjaW5jbHVkZSA8YmVnaW5ub3JtYWxfdmVydGV4PlxuXHQjaW5jbHVkZSA8bW9ycGhub3JtYWxfdmVydGV4PlxuXHQjaW5jbHVkZSA8c2tpbmJhc2VfdmVydGV4PlxuXHQjaW5jbHVkZSA8c2tpbm5vcm1hbF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxkZWZhdWx0bm9ybWFsX3ZlcnRleD5cblx0I2luY2x1ZGUgPG5vcm1hbF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxiZWdpbl92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxtb3JwaHRhcmdldF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxza2lubmluZ192ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxkaXNwbGFjZW1lbnRtYXBfdmVydGV4PlxuXHQjaW5jbHVkZSA8cHJvamVjdF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfdmVydGV4PlxuI2lmIGRlZmluZWQoIEZMQVRfU0hBREVEICkgfHwgZGVmaW5lZCggVVNFX0JVTVBNQVAgKSB8fCBkZWZpbmVkKCBUQU5HRU5UU1BBQ0VfTk9STUFMTUFQIClcblx0dlZpZXdQb3NpdGlvbiA9IC0gbXZQb3NpdGlvbi54eXo7XG4jZW5kaWZcbn0iO3ZhciBmcmFnbWVudCQ3PSIjZGVmaW5lIE5PUk1BTFxudW5pZm9ybSBmbG9hdCBvcGFjaXR5O1xuI2lmIGRlZmluZWQoIEZMQVRfU0hBREVEICkgfHwgZGVmaW5lZCggVVNFX0JVTVBNQVAgKSB8fCBkZWZpbmVkKCBUQU5HRU5UU1BBQ0VfTk9STUFMTUFQIClcblx0dmFyeWluZyB2ZWMzIHZWaWV3UG9zaXRpb247XG4jZW5kaWZcbiNpbmNsdWRlIDxwYWNraW5nPlxuI2luY2x1ZGUgPHV2X3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8bm9ybWFsX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8YnVtcG1hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPG5vcm1hbG1hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3BhcnNfZnJhZ21lbnQ+XG52b2lkIG1haW4oKSB7XG5cdCNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9mcmFnbWVudD5cblx0I2luY2x1ZGUgPG5vcm1hbF9mcmFnbWVudF9iZWdpbj5cblx0I2luY2x1ZGUgPG5vcm1hbF9mcmFnbWVudF9tYXBzPlxuXHRnbF9GcmFnQ29sb3IgPSB2ZWM0KCBwYWNrTm9ybWFsVG9SR0IoIG5vcm1hbCApLCBvcGFjaXR5ICk7XG5cdCNpZmRlZiBPUEFRVUVcblx0XHRnbF9GcmFnQ29sb3IuYSA9IDEuMDtcblx0I2VuZGlmXG59Ijt2YXIgdmVydGV4JDY9IiNkZWZpbmUgUEhPTkdcbnZhcnlpbmcgdmVjMyB2Vmlld1Bvc2l0aW9uO1xuI2luY2x1ZGUgPGNvbW1vbj5cbiNpbmNsdWRlIDx1dl9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDx1djJfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8ZGlzcGxhY2VtZW50bWFwX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGVudm1hcF9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxjb2xvcl9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxmb2dfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8bm9ybWFsX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPG1vcnBodGFyZ2V0X3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPHNraW5uaW5nX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPHNoYWRvd21hcF9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc192ZXJ0ZXg+XG52b2lkIG1haW4oKSB7XG5cdCNpbmNsdWRlIDx1dl92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDx1djJfdmVydGV4PlxuXHQjaW5jbHVkZSA8Y29sb3JfdmVydGV4PlxuXHQjaW5jbHVkZSA8YmVnaW5ub3JtYWxfdmVydGV4PlxuXHQjaW5jbHVkZSA8bW9ycGhub3JtYWxfdmVydGV4PlxuXHQjaW5jbHVkZSA8c2tpbmJhc2VfdmVydGV4PlxuXHQjaW5jbHVkZSA8c2tpbm5vcm1hbF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxkZWZhdWx0bm9ybWFsX3ZlcnRleD5cblx0I2luY2x1ZGUgPG5vcm1hbF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxiZWdpbl92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxtb3JwaHRhcmdldF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxza2lubmluZ192ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxkaXNwbGFjZW1lbnRtYXBfdmVydGV4PlxuXHQjaW5jbHVkZSA8cHJvamVjdF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfdmVydGV4PlxuXHR2Vmlld1Bvc2l0aW9uID0gLSBtdlBvc2l0aW9uLnh5ejtcblx0I2luY2x1ZGUgPHdvcmxkcG9zX3ZlcnRleD5cblx0I2luY2x1ZGUgPGVudm1hcF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxzaGFkb3dtYXBfdmVydGV4PlxuXHQjaW5jbHVkZSA8Zm9nX3ZlcnRleD5cbn0iO3ZhciBmcmFnbWVudCQ2PSIjZGVmaW5lIFBIT05HXG51bmlmb3JtIHZlYzMgZGlmZnVzZTtcbnVuaWZvcm0gdmVjMyBlbWlzc2l2ZTtcbnVuaWZvcm0gdmVjMyBzcGVjdWxhcjtcbnVuaWZvcm0gZmxvYXQgc2hpbmluZXNzO1xudW5pZm9ybSBmbG9hdCBvcGFjaXR5O1xuI2luY2x1ZGUgPGNvbW1vbj5cbiNpbmNsdWRlIDxwYWNraW5nPlxuI2luY2x1ZGUgPGRpdGhlcmluZ19wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGNvbG9yX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8dXZfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDx1djJfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxtYXBfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxhbHBoYW1hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGFscGhhdGVzdF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGFvbWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8bGlnaHRtYXBfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxlbWlzc2l2ZW1hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGVudm1hcF9jb21tb25fcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxlbnZtYXBfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxjdWJlX3V2X3JlZmxlY3Rpb25fZnJhZ21lbnQ+XG4jaW5jbHVkZSA8Zm9nX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8YnNkZnM+XG4jaW5jbHVkZSA8bGlnaHRzX3BhcnNfYmVnaW4+XG4jaW5jbHVkZSA8bm9ybWFsX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8bGlnaHRzX3Bob25nX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8c2hhZG93bWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8YnVtcG1hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPG5vcm1hbG1hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPHNwZWN1bGFybWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc19mcmFnbWVudD5cbnZvaWQgbWFpbigpIHtcblx0I2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19mcmFnbWVudD5cblx0dmVjNCBkaWZmdXNlQ29sb3IgPSB2ZWM0KCBkaWZmdXNlLCBvcGFjaXR5ICk7XG5cdFJlZmxlY3RlZExpZ2h0IHJlZmxlY3RlZExpZ2h0ID0gUmVmbGVjdGVkTGlnaHQoIHZlYzMoIDAuMCApLCB2ZWMzKCAwLjAgKSwgdmVjMyggMC4wICksIHZlYzMoIDAuMCApICk7XG5cdHZlYzMgdG90YWxFbWlzc2l2ZVJhZGlhbmNlID0gZW1pc3NpdmU7XG5cdCNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9mcmFnbWVudD5cblx0I2luY2x1ZGUgPG1hcF9mcmFnbWVudD5cblx0I2luY2x1ZGUgPGNvbG9yX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8YWxwaGFtYXBfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxhbHBoYXRlc3RfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxzcGVjdWxhcm1hcF9mcmFnbWVudD5cblx0I2luY2x1ZGUgPG5vcm1hbF9mcmFnbWVudF9iZWdpbj5cblx0I2luY2x1ZGUgPG5vcm1hbF9mcmFnbWVudF9tYXBzPlxuXHQjaW5jbHVkZSA8ZW1pc3NpdmVtYXBfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxsaWdodHNfcGhvbmdfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxsaWdodHNfZnJhZ21lbnRfYmVnaW4+XG5cdCNpbmNsdWRlIDxsaWdodHNfZnJhZ21lbnRfbWFwcz5cblx0I2luY2x1ZGUgPGxpZ2h0c19mcmFnbWVudF9lbmQ+XG5cdCNpbmNsdWRlIDxhb21hcF9mcmFnbWVudD5cblx0dmVjMyBvdXRnb2luZ0xpZ2h0ID0gcmVmbGVjdGVkTGlnaHQuZGlyZWN0RGlmZnVzZSArIHJlZmxlY3RlZExpZ2h0LmluZGlyZWN0RGlmZnVzZSArIHJlZmxlY3RlZExpZ2h0LmRpcmVjdFNwZWN1bGFyICsgcmVmbGVjdGVkTGlnaHQuaW5kaXJlY3RTcGVjdWxhciArIHRvdGFsRW1pc3NpdmVSYWRpYW5jZTtcblx0I2luY2x1ZGUgPGVudm1hcF9mcmFnbWVudD5cblx0I2luY2x1ZGUgPG91dHB1dF9mcmFnbWVudD5cblx0I2luY2x1ZGUgPHRvbmVtYXBwaW5nX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8ZW5jb2RpbmdzX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8Zm9nX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8cHJlbXVsdGlwbGllZF9hbHBoYV9mcmFnbWVudD5cblx0I2luY2x1ZGUgPGRpdGhlcmluZ19mcmFnbWVudD5cbn0iO3ZhciB2ZXJ0ZXgkNT0iI2RlZmluZSBTVEFOREFSRFxudmFyeWluZyB2ZWMzIHZWaWV3UG9zaXRpb247XG4jaWZkZWYgVVNFX1RSQU5TTUlTU0lPTlxuXHR2YXJ5aW5nIHZlYzMgdldvcmxkUG9zaXRpb247XG4jZW5kaWZcbiNpbmNsdWRlIDxjb21tb24+XG4jaW5jbHVkZSA8dXZfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8dXYyX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGRpc3BsYWNlbWVudG1hcF9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxjb2xvcl9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxmb2dfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8bm9ybWFsX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPG1vcnBodGFyZ2V0X3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPHNraW5uaW5nX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPHNoYWRvd21hcF9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc192ZXJ0ZXg+XG52b2lkIG1haW4oKSB7XG5cdCNpbmNsdWRlIDx1dl92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDx1djJfdmVydGV4PlxuXHQjaW5jbHVkZSA8Y29sb3JfdmVydGV4PlxuXHQjaW5jbHVkZSA8YmVnaW5ub3JtYWxfdmVydGV4PlxuXHQjaW5jbHVkZSA8bW9ycGhub3JtYWxfdmVydGV4PlxuXHQjaW5jbHVkZSA8c2tpbmJhc2VfdmVydGV4PlxuXHQjaW5jbHVkZSA8c2tpbm5vcm1hbF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxkZWZhdWx0bm9ybWFsX3ZlcnRleD5cblx0I2luY2x1ZGUgPG5vcm1hbF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxiZWdpbl92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxtb3JwaHRhcmdldF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxza2lubmluZ192ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxkaXNwbGFjZW1lbnRtYXBfdmVydGV4PlxuXHQjaW5jbHVkZSA8cHJvamVjdF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfdmVydGV4PlxuXHR2Vmlld1Bvc2l0aW9uID0gLSBtdlBvc2l0aW9uLnh5ejtcblx0I2luY2x1ZGUgPHdvcmxkcG9zX3ZlcnRleD5cblx0I2luY2x1ZGUgPHNoYWRvd21hcF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxmb2dfdmVydGV4PlxuI2lmZGVmIFVTRV9UUkFOU01JU1NJT05cblx0dldvcmxkUG9zaXRpb24gPSB3b3JsZFBvc2l0aW9uLnh5ejtcbiNlbmRpZlxufSI7dmFyIGZyYWdtZW50JDU9IiNkZWZpbmUgU1RBTkRBUkRcbiNpZmRlZiBQSFlTSUNBTFxuXHQjZGVmaW5lIElPUlxuXHQjZGVmaW5lIFNQRUNVTEFSXG4jZW5kaWZcbnVuaWZvcm0gdmVjMyBkaWZmdXNlO1xudW5pZm9ybSB2ZWMzIGVtaXNzaXZlO1xudW5pZm9ybSBmbG9hdCByb3VnaG5lc3M7XG51bmlmb3JtIGZsb2F0IG1ldGFsbmVzcztcbnVuaWZvcm0gZmxvYXQgb3BhY2l0eTtcbiNpZmRlZiBJT1Jcblx0dW5pZm9ybSBmbG9hdCBpb3I7XG4jZW5kaWZcbiNpZmRlZiBTUEVDVUxBUlxuXHR1bmlmb3JtIGZsb2F0IHNwZWN1bGFySW50ZW5zaXR5O1xuXHR1bmlmb3JtIHZlYzMgc3BlY3VsYXJDb2xvcjtcblx0I2lmZGVmIFVTRV9TUEVDVUxBUklOVEVOU0lUWU1BUFxuXHRcdHVuaWZvcm0gc2FtcGxlcjJEIHNwZWN1bGFySW50ZW5zaXR5TWFwO1xuXHQjZW5kaWZcblx0I2lmZGVmIFVTRV9TUEVDVUxBUkNPTE9STUFQXG5cdFx0dW5pZm9ybSBzYW1wbGVyMkQgc3BlY3VsYXJDb2xvck1hcDtcblx0I2VuZGlmXG4jZW5kaWZcbiNpZmRlZiBVU0VfQ0xFQVJDT0FUXG5cdHVuaWZvcm0gZmxvYXQgY2xlYXJjb2F0O1xuXHR1bmlmb3JtIGZsb2F0IGNsZWFyY29hdFJvdWdobmVzcztcbiNlbmRpZlxuI2lmZGVmIFVTRV9TSEVFTlxuXHR1bmlmb3JtIHZlYzMgc2hlZW5Db2xvcjtcblx0dW5pZm9ybSBmbG9hdCBzaGVlblJvdWdobmVzcztcblx0I2lmZGVmIFVTRV9TSEVFTkNPTE9STUFQXG5cdFx0dW5pZm9ybSBzYW1wbGVyMkQgc2hlZW5Db2xvck1hcDtcblx0I2VuZGlmXG5cdCNpZmRlZiBVU0VfU0hFRU5ST1VHSE5FU1NNQVBcblx0XHR1bmlmb3JtIHNhbXBsZXIyRCBzaGVlblJvdWdobmVzc01hcDtcblx0I2VuZGlmXG4jZW5kaWZcbnZhcnlpbmcgdmVjMyB2Vmlld1Bvc2l0aW9uO1xuI2luY2x1ZGUgPGNvbW1vbj5cbiNpbmNsdWRlIDxwYWNraW5nPlxuI2luY2x1ZGUgPGRpdGhlcmluZ19wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGNvbG9yX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8dXZfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDx1djJfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxtYXBfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxhbHBoYW1hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGFscGhhdGVzdF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGFvbWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8bGlnaHRtYXBfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxlbWlzc2l2ZW1hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGJzZGZzPlxuI2luY2x1ZGUgPGN1YmVfdXZfcmVmbGVjdGlvbl9mcmFnbWVudD5cbiNpbmNsdWRlIDxlbnZtYXBfY29tbW9uX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8ZW52bWFwX3BoeXNpY2FsX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8Zm9nX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8bGlnaHRzX3BhcnNfYmVnaW4+XG4jaW5jbHVkZSA8bm9ybWFsX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8bGlnaHRzX3BoeXNpY2FsX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8dHJhbnNtaXNzaW9uX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8c2hhZG93bWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8YnVtcG1hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPG5vcm1hbG1hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGNsZWFyY29hdF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPHJvdWdobmVzc21hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPG1ldGFsbmVzc21hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3BhcnNfZnJhZ21lbnQ+XG52b2lkIG1haW4oKSB7XG5cdCNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfZnJhZ21lbnQ+XG5cdHZlYzQgZGlmZnVzZUNvbG9yID0gdmVjNCggZGlmZnVzZSwgb3BhY2l0eSApO1xuXHRSZWZsZWN0ZWRMaWdodCByZWZsZWN0ZWRMaWdodCA9IFJlZmxlY3RlZExpZ2h0KCB2ZWMzKCAwLjAgKSwgdmVjMyggMC4wICksIHZlYzMoIDAuMCApLCB2ZWMzKCAwLjAgKSApO1xuXHR2ZWMzIHRvdGFsRW1pc3NpdmVSYWRpYW5jZSA9IGVtaXNzaXZlO1xuXHQjaW5jbHVkZSA8bG9nZGVwdGhidWZfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxtYXBfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxjb2xvcl9mcmFnbWVudD5cblx0I2luY2x1ZGUgPGFscGhhbWFwX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8YWxwaGF0ZXN0X2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8cm91Z2huZXNzbWFwX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8bWV0YWxuZXNzbWFwX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8bm9ybWFsX2ZyYWdtZW50X2JlZ2luPlxuXHQjaW5jbHVkZSA8bm9ybWFsX2ZyYWdtZW50X21hcHM+XG5cdCNpbmNsdWRlIDxjbGVhcmNvYXRfbm9ybWFsX2ZyYWdtZW50X2JlZ2luPlxuXHQjaW5jbHVkZSA8Y2xlYXJjb2F0X25vcm1hbF9mcmFnbWVudF9tYXBzPlxuXHQjaW5jbHVkZSA8ZW1pc3NpdmVtYXBfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxsaWdodHNfcGh5c2ljYWxfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxsaWdodHNfZnJhZ21lbnRfYmVnaW4+XG5cdCNpbmNsdWRlIDxsaWdodHNfZnJhZ21lbnRfbWFwcz5cblx0I2luY2x1ZGUgPGxpZ2h0c19mcmFnbWVudF9lbmQ+XG5cdCNpbmNsdWRlIDxhb21hcF9mcmFnbWVudD5cblx0dmVjMyB0b3RhbERpZmZ1c2UgPSByZWZsZWN0ZWRMaWdodC5kaXJlY3REaWZmdXNlICsgcmVmbGVjdGVkTGlnaHQuaW5kaXJlY3REaWZmdXNlO1xuXHR2ZWMzIHRvdGFsU3BlY3VsYXIgPSByZWZsZWN0ZWRMaWdodC5kaXJlY3RTcGVjdWxhciArIHJlZmxlY3RlZExpZ2h0LmluZGlyZWN0U3BlY3VsYXI7XG5cdCNpbmNsdWRlIDx0cmFuc21pc3Npb25fZnJhZ21lbnQ+XG5cdHZlYzMgb3V0Z29pbmdMaWdodCA9IHRvdGFsRGlmZnVzZSArIHRvdGFsU3BlY3VsYXIgKyB0b3RhbEVtaXNzaXZlUmFkaWFuY2U7XG5cdCNpZmRlZiBVU0VfU0hFRU5cblx0XHRmbG9hdCBzaGVlbkVuZXJneUNvbXAgPSAxLjAgLSAwLjE1NyAqIG1heDMoIG1hdGVyaWFsLnNoZWVuQ29sb3IgKTtcblx0XHRvdXRnb2luZ0xpZ2h0ID0gb3V0Z29pbmdMaWdodCAqIHNoZWVuRW5lcmd5Q29tcCArIHNoZWVuU3BlY3VsYXI7XG5cdCNlbmRpZlxuXHQjaWZkZWYgVVNFX0NMRUFSQ09BVFxuXHRcdGZsb2F0IGRvdE5WY2MgPSBzYXR1cmF0ZSggZG90KCBnZW9tZXRyeS5jbGVhcmNvYXROb3JtYWwsIGdlb21ldHJ5LnZpZXdEaXIgKSApO1xuXHRcdHZlYzMgRmNjID0gRl9TY2hsaWNrKCBtYXRlcmlhbC5jbGVhcmNvYXRGMCwgbWF0ZXJpYWwuY2xlYXJjb2F0RjkwLCBkb3ROVmNjICk7XG5cdFx0b3V0Z29pbmdMaWdodCA9IG91dGdvaW5nTGlnaHQgKiAoIDEuMCAtIG1hdGVyaWFsLmNsZWFyY29hdCAqIEZjYyApICsgY2xlYXJjb2F0U3BlY3VsYXIgKiBtYXRlcmlhbC5jbGVhcmNvYXQ7XG5cdCNlbmRpZlxuXHQjaW5jbHVkZSA8b3V0cHV0X2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8dG9uZW1hcHBpbmdfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxlbmNvZGluZ3NfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxmb2dfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxwcmVtdWx0aXBsaWVkX2FscGhhX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8ZGl0aGVyaW5nX2ZyYWdtZW50PlxufSI7dmFyIHZlcnRleCQ0PSIjZGVmaW5lIFRPT05cbnZhcnlpbmcgdmVjMyB2Vmlld1Bvc2l0aW9uO1xuI2luY2x1ZGUgPGNvbW1vbj5cbiNpbmNsdWRlIDx1dl9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDx1djJfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8ZGlzcGxhY2VtZW50bWFwX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGNvbG9yX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGZvZ19wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxub3JtYWxfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8bW9ycGh0YXJnZXRfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8c2tpbm5pbmdfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8c2hhZG93bWFwX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX3ZlcnRleD5cbnZvaWQgbWFpbigpIHtcblx0I2luY2x1ZGUgPHV2X3ZlcnRleD5cblx0I2luY2x1ZGUgPHV2Ml92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxjb2xvcl92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxiZWdpbm5vcm1hbF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxtb3JwaG5vcm1hbF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxza2luYmFzZV92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxza2lubm9ybWFsX3ZlcnRleD5cblx0I2luY2x1ZGUgPGRlZmF1bHRub3JtYWxfdmVydGV4PlxuXHQjaW5jbHVkZSA8bm9ybWFsX3ZlcnRleD5cblx0I2luY2x1ZGUgPGJlZ2luX3ZlcnRleD5cblx0I2luY2x1ZGUgPG1vcnBodGFyZ2V0X3ZlcnRleD5cblx0I2luY2x1ZGUgPHNraW5uaW5nX3ZlcnRleD5cblx0I2luY2x1ZGUgPGRpc3BsYWNlbWVudG1hcF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxwcm9qZWN0X3ZlcnRleD5cblx0I2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3ZlcnRleD5cblx0I2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc192ZXJ0ZXg+XG5cdHZWaWV3UG9zaXRpb24gPSAtIG12UG9zaXRpb24ueHl6O1xuXHQjaW5jbHVkZSA8d29ybGRwb3NfdmVydGV4PlxuXHQjaW5jbHVkZSA8c2hhZG93bWFwX3ZlcnRleD5cblx0I2luY2x1ZGUgPGZvZ192ZXJ0ZXg+XG59Ijt2YXIgZnJhZ21lbnQkND0iI2RlZmluZSBUT09OXG51bmlmb3JtIHZlYzMgZGlmZnVzZTtcbnVuaWZvcm0gdmVjMyBlbWlzc2l2ZTtcbnVuaWZvcm0gZmxvYXQgb3BhY2l0eTtcbiNpbmNsdWRlIDxjb21tb24+XG4jaW5jbHVkZSA8cGFja2luZz5cbiNpbmNsdWRlIDxkaXRoZXJpbmdfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxjb2xvcl9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPHV2X3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8dXYyX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8bWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8YWxwaGFtYXBfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxhbHBoYXRlc3RfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxhb21hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGxpZ2h0bWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8ZW1pc3NpdmVtYXBfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxncmFkaWVudG1hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGZvZ19wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGJzZGZzPlxuI2luY2x1ZGUgPGxpZ2h0c19wYXJzX2JlZ2luPlxuI2luY2x1ZGUgPG5vcm1hbF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGxpZ2h0c190b29uX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8c2hhZG93bWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8YnVtcG1hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPG5vcm1hbG1hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3BhcnNfZnJhZ21lbnQ+XG52b2lkIG1haW4oKSB7XG5cdCNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfZnJhZ21lbnQ+XG5cdHZlYzQgZGlmZnVzZUNvbG9yID0gdmVjNCggZGlmZnVzZSwgb3BhY2l0eSApO1xuXHRSZWZsZWN0ZWRMaWdodCByZWZsZWN0ZWRMaWdodCA9IFJlZmxlY3RlZExpZ2h0KCB2ZWMzKCAwLjAgKSwgdmVjMyggMC4wICksIHZlYzMoIDAuMCApLCB2ZWMzKCAwLjAgKSApO1xuXHR2ZWMzIHRvdGFsRW1pc3NpdmVSYWRpYW5jZSA9IGVtaXNzaXZlO1xuXHQjaW5jbHVkZSA8bG9nZGVwdGhidWZfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxtYXBfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxjb2xvcl9mcmFnbWVudD5cblx0I2luY2x1ZGUgPGFscGhhbWFwX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8YWxwaGF0ZXN0X2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8bm9ybWFsX2ZyYWdtZW50X2JlZ2luPlxuXHQjaW5jbHVkZSA8bm9ybWFsX2ZyYWdtZW50X21hcHM+XG5cdCNpbmNsdWRlIDxlbWlzc2l2ZW1hcF9mcmFnbWVudD5cblx0I2luY2x1ZGUgPGxpZ2h0c190b29uX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8bGlnaHRzX2ZyYWdtZW50X2JlZ2luPlxuXHQjaW5jbHVkZSA8bGlnaHRzX2ZyYWdtZW50X21hcHM+XG5cdCNpbmNsdWRlIDxsaWdodHNfZnJhZ21lbnRfZW5kPlxuXHQjaW5jbHVkZSA8YW9tYXBfZnJhZ21lbnQ+XG5cdHZlYzMgb3V0Z29pbmdMaWdodCA9IHJlZmxlY3RlZExpZ2h0LmRpcmVjdERpZmZ1c2UgKyByZWZsZWN0ZWRMaWdodC5pbmRpcmVjdERpZmZ1c2UgKyB0b3RhbEVtaXNzaXZlUmFkaWFuY2U7XG5cdCNpbmNsdWRlIDxvdXRwdXRfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDx0b25lbWFwcGluZ19mcmFnbWVudD5cblx0I2luY2x1ZGUgPGVuY29kaW5nc19mcmFnbWVudD5cblx0I2luY2x1ZGUgPGZvZ19mcmFnbWVudD5cblx0I2luY2x1ZGUgPHByZW11bHRpcGxpZWRfYWxwaGFfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxkaXRoZXJpbmdfZnJhZ21lbnQ+XG59Ijt2YXIgdmVydGV4JDM9InVuaWZvcm0gZmxvYXQgc2l6ZTtcbnVuaWZvcm0gZmxvYXQgc2NhbGU7XG4jaW5jbHVkZSA8Y29tbW9uPlxuI2luY2x1ZGUgPGNvbG9yX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGZvZ19wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxtb3JwaHRhcmdldF9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxsb2dkZXB0aGJ1Zl9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc192ZXJ0ZXg+XG52b2lkIG1haW4oKSB7XG5cdCNpbmNsdWRlIDxjb2xvcl92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxiZWdpbl92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxtb3JwaHRhcmdldF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxwcm9qZWN0X3ZlcnRleD5cblx0Z2xfUG9pbnRTaXplID0gc2l6ZTtcblx0I2lmZGVmIFVTRV9TSVpFQVRURU5VQVRJT05cblx0XHRib29sIGlzUGVyc3BlY3RpdmUgPSBpc1BlcnNwZWN0aXZlTWF0cml4KCBwcm9qZWN0aW9uTWF0cml4ICk7XG5cdFx0aWYgKCBpc1BlcnNwZWN0aXZlICkgZ2xfUG9pbnRTaXplICo9ICggc2NhbGUgLyAtIG12UG9zaXRpb24ueiApO1xuXHQjZW5kaWZcblx0I2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3ZlcnRleD5cblx0I2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc192ZXJ0ZXg+XG5cdCNpbmNsdWRlIDx3b3JsZHBvc192ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxmb2dfdmVydGV4PlxufSI7dmFyIGZyYWdtZW50JDM9InVuaWZvcm0gdmVjMyBkaWZmdXNlO1xudW5pZm9ybSBmbG9hdCBvcGFjaXR5O1xuI2luY2x1ZGUgPGNvbW1vbj5cbiNpbmNsdWRlIDxjb2xvcl9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPG1hcF9wYXJ0aWNsZV9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGFscGhhdGVzdF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGZvZ19wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8Y2xpcHBpbmdfcGxhbmVzX3BhcnNfZnJhZ21lbnQ+XG52b2lkIG1haW4oKSB7XG5cdCNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfZnJhZ21lbnQ+XG5cdHZlYzMgb3V0Z29pbmdMaWdodCA9IHZlYzMoIDAuMCApO1xuXHR2ZWM0IGRpZmZ1c2VDb2xvciA9IHZlYzQoIGRpZmZ1c2UsIG9wYWNpdHkgKTtcblx0I2luY2x1ZGUgPGxvZ2RlcHRoYnVmX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8bWFwX3BhcnRpY2xlX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8Y29sb3JfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxhbHBoYXRlc3RfZnJhZ21lbnQ+XG5cdG91dGdvaW5nTGlnaHQgPSBkaWZmdXNlQ29sb3IucmdiO1xuXHQjaW5jbHVkZSA8b3V0cHV0X2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8dG9uZW1hcHBpbmdfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxlbmNvZGluZ3NfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxmb2dfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxwcmVtdWx0aXBsaWVkX2FscGhhX2ZyYWdtZW50PlxufSI7dmFyIHZlcnRleCQyPSIjaW5jbHVkZSA8Y29tbW9uPlxuI2luY2x1ZGUgPGZvZ19wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxtb3JwaHRhcmdldF9wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxza2lubmluZ19wYXJzX3ZlcnRleD5cbiNpbmNsdWRlIDxzaGFkb3dtYXBfcGFyc192ZXJ0ZXg+XG52b2lkIG1haW4oKSB7XG5cdCNpbmNsdWRlIDxiZWdpbm5vcm1hbF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxtb3JwaG5vcm1hbF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxza2luYmFzZV92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxza2lubm9ybWFsX3ZlcnRleD5cblx0I2luY2x1ZGUgPGRlZmF1bHRub3JtYWxfdmVydGV4PlxuXHQjaW5jbHVkZSA8YmVnaW5fdmVydGV4PlxuXHQjaW5jbHVkZSA8bW9ycGh0YXJnZXRfdmVydGV4PlxuXHQjaW5jbHVkZSA8c2tpbm5pbmdfdmVydGV4PlxuXHQjaW5jbHVkZSA8cHJvamVjdF92ZXJ0ZXg+XG5cdCNpbmNsdWRlIDx3b3JsZHBvc192ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxzaGFkb3dtYXBfdmVydGV4PlxuXHQjaW5jbHVkZSA8Zm9nX3ZlcnRleD5cbn0iO3ZhciBmcmFnbWVudCQyPSJ1bmlmb3JtIHZlYzMgY29sb3I7XG51bmlmb3JtIGZsb2F0IG9wYWNpdHk7XG4jaW5jbHVkZSA8Y29tbW9uPlxuI2luY2x1ZGUgPHBhY2tpbmc+XG4jaW5jbHVkZSA8Zm9nX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8YnNkZnM+XG4jaW5jbHVkZSA8bGlnaHRzX3BhcnNfYmVnaW4+XG4jaW5jbHVkZSA8c2hhZG93bWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8c2hhZG93bWFza19wYXJzX2ZyYWdtZW50Plxudm9pZCBtYWluKCkge1xuXHRnbF9GcmFnQ29sb3IgPSB2ZWM0KCBjb2xvciwgb3BhY2l0eSAqICggMS4wIC0gZ2V0U2hhZG93TWFzaygpICkgKTtcblx0I2luY2x1ZGUgPHRvbmVtYXBwaW5nX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8ZW5jb2RpbmdzX2ZyYWdtZW50PlxuXHQjaW5jbHVkZSA8Zm9nX2ZyYWdtZW50PlxufSI7dmFyIHZlcnRleCQxPSJ1bmlmb3JtIGZsb2F0IHJvdGF0aW9uO1xudW5pZm9ybSB2ZWMyIGNlbnRlcjtcbiNpbmNsdWRlIDxjb21tb24+XG4jaW5jbHVkZSA8dXZfcGFyc192ZXJ0ZXg+XG4jaW5jbHVkZSA8Zm9nX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3BhcnNfdmVydGV4PlxuI2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19wYXJzX3ZlcnRleD5cbnZvaWQgbWFpbigpIHtcblx0I2luY2x1ZGUgPHV2X3ZlcnRleD5cblx0dmVjNCBtdlBvc2l0aW9uID0gbW9kZWxWaWV3TWF0cml4ICogdmVjNCggMC4wLCAwLjAsIDAuMCwgMS4wICk7XG5cdHZlYzIgc2NhbGU7XG5cdHNjYWxlLnggPSBsZW5ndGgoIHZlYzMoIG1vZGVsTWF0cml4WyAwIF0ueCwgbW9kZWxNYXRyaXhbIDAgXS55LCBtb2RlbE1hdHJpeFsgMCBdLnogKSApO1xuXHRzY2FsZS55ID0gbGVuZ3RoKCB2ZWMzKCBtb2RlbE1hdHJpeFsgMSBdLngsIG1vZGVsTWF0cml4WyAxIF0ueSwgbW9kZWxNYXRyaXhbIDEgXS56ICkgKTtcblx0I2lmbmRlZiBVU0VfU0laRUFUVEVOVUFUSU9OXG5cdFx0Ym9vbCBpc1BlcnNwZWN0aXZlID0gaXNQZXJzcGVjdGl2ZU1hdHJpeCggcHJvamVjdGlvbk1hdHJpeCApO1xuXHRcdGlmICggaXNQZXJzcGVjdGl2ZSApIHNjYWxlICo9IC0gbXZQb3NpdGlvbi56O1xuXHQjZW5kaWZcblx0dmVjMiBhbGlnbmVkUG9zaXRpb24gPSAoIHBvc2l0aW9uLnh5IC0gKCBjZW50ZXIgLSB2ZWMyKCAwLjUgKSApICkgKiBzY2FsZTtcblx0dmVjMiByb3RhdGVkUG9zaXRpb247XG5cdHJvdGF0ZWRQb3NpdGlvbi54ID0gY29zKCByb3RhdGlvbiApICogYWxpZ25lZFBvc2l0aW9uLnggLSBzaW4oIHJvdGF0aW9uICkgKiBhbGlnbmVkUG9zaXRpb24ueTtcblx0cm90YXRlZFBvc2l0aW9uLnkgPSBzaW4oIHJvdGF0aW9uICkgKiBhbGlnbmVkUG9zaXRpb24ueCArIGNvcyggcm90YXRpb24gKSAqIGFsaWduZWRQb3NpdGlvbi55O1xuXHRtdlBvc2l0aW9uLnh5ICs9IHJvdGF0ZWRQb3NpdGlvbjtcblx0Z2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogbXZQb3NpdGlvbjtcblx0I2luY2x1ZGUgPGxvZ2RlcHRoYnVmX3ZlcnRleD5cblx0I2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc192ZXJ0ZXg+XG5cdCNpbmNsdWRlIDxmb2dfdmVydGV4PlxufSI7dmFyIGZyYWdtZW50JDE9InVuaWZvcm0gdmVjMyBkaWZmdXNlO1xudW5pZm9ybSBmbG9hdCBvcGFjaXR5O1xuI2luY2x1ZGUgPGNvbW1vbj5cbiNpbmNsdWRlIDx1dl9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPG1hcF9wYXJzX2ZyYWdtZW50PlxuI2luY2x1ZGUgPGFscGhhbWFwX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8YWxwaGF0ZXN0X3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8Zm9nX3BhcnNfZnJhZ21lbnQ+XG4jaW5jbHVkZSA8bG9nZGVwdGhidWZfcGFyc19mcmFnbWVudD5cbiNpbmNsdWRlIDxjbGlwcGluZ19wbGFuZXNfcGFyc19mcmFnbWVudD5cbnZvaWQgbWFpbigpIHtcblx0I2luY2x1ZGUgPGNsaXBwaW5nX3BsYW5lc19mcmFnbWVudD5cblx0dmVjMyBvdXRnb2luZ0xpZ2h0ID0gdmVjMyggMC4wICk7XG5cdHZlYzQgZGlmZnVzZUNvbG9yID0gdmVjNCggZGlmZnVzZSwgb3BhY2l0eSApO1xuXHQjaW5jbHVkZSA8bG9nZGVwdGhidWZfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxtYXBfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDxhbHBoYW1hcF9mcmFnbWVudD5cblx0I2luY2x1ZGUgPGFscGhhdGVzdF9mcmFnbWVudD5cblx0b3V0Z29pbmdMaWdodCA9IGRpZmZ1c2VDb2xvci5yZ2I7XG5cdCNpbmNsdWRlIDxvdXRwdXRfZnJhZ21lbnQ+XG5cdCNpbmNsdWRlIDx0b25lbWFwcGluZ19mcmFnbWVudD5cblx0I2luY2x1ZGUgPGVuY29kaW5nc19mcmFnbWVudD5cblx0I2luY2x1ZGUgPGZvZ19mcmFnbWVudD5cbn0iO3ZhciBTaGFkZXJDaHVuaz17YWxwaGFtYXBfZnJhZ21lbnQ6YWxwaGFtYXBfZnJhZ21lbnQsYWxwaGFtYXBfcGFyc19mcmFnbWVudDphbHBoYW1hcF9wYXJzX2ZyYWdtZW50LGFscGhhdGVzdF9mcmFnbWVudDphbHBoYXRlc3RfZnJhZ21lbnQsYWxwaGF0ZXN0X3BhcnNfZnJhZ21lbnQ6YWxwaGF0ZXN0X3BhcnNfZnJhZ21lbnQsYW9tYXBfZnJhZ21lbnQ6YW9tYXBfZnJhZ21lbnQsYW9tYXBfcGFyc19mcmFnbWVudDphb21hcF9wYXJzX2ZyYWdtZW50LGJlZ2luX3ZlcnRleDpiZWdpbl92ZXJ0ZXgsYmVnaW5ub3JtYWxfdmVydGV4OmJlZ2lubm9ybWFsX3ZlcnRleCxic2Rmczpic2RmcyxidW1wbWFwX3BhcnNfZnJhZ21lbnQ6YnVtcG1hcF9wYXJzX2ZyYWdtZW50LGNsaXBwaW5nX3BsYW5lc19mcmFnbWVudDpjbGlwcGluZ19wbGFuZXNfZnJhZ21lbnQsY2xpcHBpbmdfcGxhbmVzX3BhcnNfZnJhZ21lbnQ6Y2xpcHBpbmdfcGxhbmVzX3BhcnNfZnJhZ21lbnQsY2xpcHBpbmdfcGxhbmVzX3BhcnNfdmVydGV4OmNsaXBwaW5nX3BsYW5lc19wYXJzX3ZlcnRleCxjbGlwcGluZ19wbGFuZXNfdmVydGV4OmNsaXBwaW5nX3BsYW5lc192ZXJ0ZXgsY29sb3JfZnJhZ21lbnQ6Y29sb3JfZnJhZ21lbnQsY29sb3JfcGFyc19mcmFnbWVudDpjb2xvcl9wYXJzX2ZyYWdtZW50LGNvbG9yX3BhcnNfdmVydGV4OmNvbG9yX3BhcnNfdmVydGV4LGNvbG9yX3ZlcnRleDpjb2xvcl92ZXJ0ZXgsY29tbW9uOmNvbW1vbixjdWJlX3V2X3JlZmxlY3Rpb25fZnJhZ21lbnQ6Y3ViZV91dl9yZWZsZWN0aW9uX2ZyYWdtZW50LGRlZmF1bHRub3JtYWxfdmVydGV4OmRlZmF1bHRub3JtYWxfdmVydGV4LGRpc3BsYWNlbWVudG1hcF9wYXJzX3ZlcnRleDpkaXNwbGFjZW1lbnRtYXBfcGFyc192ZXJ0ZXgsZGlzcGxhY2VtZW50bWFwX3ZlcnRleDpkaXNwbGFjZW1lbnRtYXBfdmVydGV4LGVtaXNzaXZlbWFwX2ZyYWdtZW50OmVtaXNzaXZlbWFwX2ZyYWdtZW50LGVtaXNzaXZlbWFwX3BhcnNfZnJhZ21lbnQ6ZW1pc3NpdmVtYXBfcGFyc19mcmFnbWVudCxlbmNvZGluZ3NfZnJhZ21lbnQ6ZW5jb2RpbmdzX2ZyYWdtZW50LGVuY29kaW5nc19wYXJzX2ZyYWdtZW50OmVuY29kaW5nc19wYXJzX2ZyYWdtZW50LGVudm1hcF9mcmFnbWVudDplbnZtYXBfZnJhZ21lbnQsZW52bWFwX2NvbW1vbl9wYXJzX2ZyYWdtZW50OmVudm1hcF9jb21tb25fcGFyc19mcmFnbWVudCxlbnZtYXBfcGFyc19mcmFnbWVudDplbnZtYXBfcGFyc19mcmFnbWVudCxlbnZtYXBfcGFyc192ZXJ0ZXg6ZW52bWFwX3BhcnNfdmVydGV4LGVudm1hcF9waHlzaWNhbF9wYXJzX2ZyYWdtZW50OmVudm1hcF9waHlzaWNhbF9wYXJzX2ZyYWdtZW50LGVudm1hcF92ZXJ0ZXg6ZW52bWFwX3ZlcnRleCxmb2dfdmVydGV4OmZvZ192ZXJ0ZXgsZm9nX3BhcnNfdmVydGV4OmZvZ19wYXJzX3ZlcnRleCxmb2dfZnJhZ21lbnQ6Zm9nX2ZyYWdtZW50LGZvZ19wYXJzX2ZyYWdtZW50OmZvZ19wYXJzX2ZyYWdtZW50LGdyYWRpZW50bWFwX3BhcnNfZnJhZ21lbnQ6Z3JhZGllbnRtYXBfcGFyc19mcmFnbWVudCxsaWdodG1hcF9mcmFnbWVudDpsaWdodG1hcF9mcmFnbWVudCxsaWdodG1hcF9wYXJzX2ZyYWdtZW50OmxpZ2h0bWFwX3BhcnNfZnJhZ21lbnQsbGlnaHRzX2xhbWJlcnRfdmVydGV4OmxpZ2h0c19sYW1iZXJ0X3ZlcnRleCxsaWdodHNfcGFyc19iZWdpbjpsaWdodHNfcGFyc19iZWdpbixsaWdodHNfdG9vbl9mcmFnbWVudDpsaWdodHNfdG9vbl9mcmFnbWVudCxsaWdodHNfdG9vbl9wYXJzX2ZyYWdtZW50OmxpZ2h0c190b29uX3BhcnNfZnJhZ21lbnQsbGlnaHRzX3Bob25nX2ZyYWdtZW50OmxpZ2h0c19waG9uZ19mcmFnbWVudCxsaWdodHNfcGhvbmdfcGFyc19mcmFnbWVudDpsaWdodHNfcGhvbmdfcGFyc19mcmFnbWVudCxsaWdodHNfcGh5c2ljYWxfZnJhZ21lbnQ6bGlnaHRzX3BoeXNpY2FsX2ZyYWdtZW50LGxpZ2h0c19waHlzaWNhbF9wYXJzX2ZyYWdtZW50OmxpZ2h0c19waHlzaWNhbF9wYXJzX2ZyYWdtZW50LGxpZ2h0c19mcmFnbWVudF9iZWdpbjpsaWdodHNfZnJhZ21lbnRfYmVnaW4sbGlnaHRzX2ZyYWdtZW50X21hcHM6bGlnaHRzX2ZyYWdtZW50X21hcHMsbGlnaHRzX2ZyYWdtZW50X2VuZDpsaWdodHNfZnJhZ21lbnRfZW5kLGxvZ2RlcHRoYnVmX2ZyYWdtZW50OmxvZ2RlcHRoYnVmX2ZyYWdtZW50LGxvZ2RlcHRoYnVmX3BhcnNfZnJhZ21lbnQ6bG9nZGVwdGhidWZfcGFyc19mcmFnbWVudCxsb2dkZXB0aGJ1Zl9wYXJzX3ZlcnRleDpsb2dkZXB0aGJ1Zl9wYXJzX3ZlcnRleCxsb2dkZXB0aGJ1Zl92ZXJ0ZXg6bG9nZGVwdGhidWZfdmVydGV4LG1hcF9mcmFnbWVudDptYXBfZnJhZ21lbnQsbWFwX3BhcnNfZnJhZ21lbnQ6bWFwX3BhcnNfZnJhZ21lbnQsbWFwX3BhcnRpY2xlX2ZyYWdtZW50Om1hcF9wYXJ0aWNsZV9mcmFnbWVudCxtYXBfcGFydGljbGVfcGFyc19mcmFnbWVudDptYXBfcGFydGljbGVfcGFyc19mcmFnbWVudCxtZXRhbG5lc3NtYXBfZnJhZ21lbnQ6bWV0YWxuZXNzbWFwX2ZyYWdtZW50LG1ldGFsbmVzc21hcF9wYXJzX2ZyYWdtZW50Om1ldGFsbmVzc21hcF9wYXJzX2ZyYWdtZW50LG1vcnBobm9ybWFsX3ZlcnRleDptb3JwaG5vcm1hbF92ZXJ0ZXgsbW9ycGh0YXJnZXRfcGFyc192ZXJ0ZXg6bW9ycGh0YXJnZXRfcGFyc192ZXJ0ZXgsbW9ycGh0YXJnZXRfdmVydGV4Om1vcnBodGFyZ2V0X3ZlcnRleCxub3JtYWxfZnJhZ21lbnRfYmVnaW46bm9ybWFsX2ZyYWdtZW50X2JlZ2luLG5vcm1hbF9mcmFnbWVudF9tYXBzOm5vcm1hbF9mcmFnbWVudF9tYXBzLG5vcm1hbF9wYXJzX2ZyYWdtZW50Om5vcm1hbF9wYXJzX2ZyYWdtZW50LG5vcm1hbF9wYXJzX3ZlcnRleDpub3JtYWxfcGFyc192ZXJ0ZXgsbm9ybWFsX3ZlcnRleDpub3JtYWxfdmVydGV4LG5vcm1hbG1hcF9wYXJzX2ZyYWdtZW50Om5vcm1hbG1hcF9wYXJzX2ZyYWdtZW50LGNsZWFyY29hdF9ub3JtYWxfZnJhZ21lbnRfYmVnaW46Y2xlYXJjb2F0X25vcm1hbF9mcmFnbWVudF9iZWdpbixjbGVhcmNvYXRfbm9ybWFsX2ZyYWdtZW50X21hcHM6Y2xlYXJjb2F0X25vcm1hbF9mcmFnbWVudF9tYXBzLGNsZWFyY29hdF9wYXJzX2ZyYWdtZW50OmNsZWFyY29hdF9wYXJzX2ZyYWdtZW50LG91dHB1dF9mcmFnbWVudDpvdXRwdXRfZnJhZ21lbnQscGFja2luZzpwYWNraW5nLHByZW11bHRpcGxpZWRfYWxwaGFfZnJhZ21lbnQ6cHJlbXVsdGlwbGllZF9hbHBoYV9mcmFnbWVudCxwcm9qZWN0X3ZlcnRleDpwcm9qZWN0X3ZlcnRleCxkaXRoZXJpbmdfZnJhZ21lbnQ6ZGl0aGVyaW5nX2ZyYWdtZW50LGRpdGhlcmluZ19wYXJzX2ZyYWdtZW50OmRpdGhlcmluZ19wYXJzX2ZyYWdtZW50LHJvdWdobmVzc21hcF9mcmFnbWVudDpyb3VnaG5lc3NtYXBfZnJhZ21lbnQscm91Z2huZXNzbWFwX3BhcnNfZnJhZ21lbnQ6cm91Z2huZXNzbWFwX3BhcnNfZnJhZ21lbnQsc2hhZG93bWFwX3BhcnNfZnJhZ21lbnQ6c2hhZG93bWFwX3BhcnNfZnJhZ21lbnQsc2hhZG93bWFwX3BhcnNfdmVydGV4OnNoYWRvd21hcF9wYXJzX3ZlcnRleCxzaGFkb3dtYXBfdmVydGV4OnNoYWRvd21hcF92ZXJ0ZXgsc2hhZG93bWFza19wYXJzX2ZyYWdtZW50OnNoYWRvd21hc2tfcGFyc19mcmFnbWVudCxza2luYmFzZV92ZXJ0ZXg6c2tpbmJhc2VfdmVydGV4LHNraW5uaW5nX3BhcnNfdmVydGV4OnNraW5uaW5nX3BhcnNfdmVydGV4LHNraW5uaW5nX3ZlcnRleDpza2lubmluZ192ZXJ0ZXgsc2tpbm5vcm1hbF92ZXJ0ZXg6c2tpbm5vcm1hbF92ZXJ0ZXgsc3BlY3VsYXJtYXBfZnJhZ21lbnQ6c3BlY3VsYXJtYXBfZnJhZ21lbnQsc3BlY3VsYXJtYXBfcGFyc19mcmFnbWVudDpzcGVjdWxhcm1hcF9wYXJzX2ZyYWdtZW50LHRvbmVtYXBwaW5nX2ZyYWdtZW50OnRvbmVtYXBwaW5nX2ZyYWdtZW50LHRvbmVtYXBwaW5nX3BhcnNfZnJhZ21lbnQ6dG9uZW1hcHBpbmdfcGFyc19mcmFnbWVudCx0cmFuc21pc3Npb25fZnJhZ21lbnQ6dHJhbnNtaXNzaW9uX2ZyYWdtZW50LHRyYW5zbWlzc2lvbl9wYXJzX2ZyYWdtZW50OnRyYW5zbWlzc2lvbl9wYXJzX2ZyYWdtZW50LHV2X3BhcnNfZnJhZ21lbnQ6dXZfcGFyc19mcmFnbWVudCx1dl9wYXJzX3ZlcnRleDp1dl9wYXJzX3ZlcnRleCx1dl92ZXJ0ZXg6dXZfdmVydGV4LHV2Ml9wYXJzX2ZyYWdtZW50OnV2Ml9wYXJzX2ZyYWdtZW50LHV2Ml9wYXJzX3ZlcnRleDp1djJfcGFyc192ZXJ0ZXgsdXYyX3ZlcnRleDp1djJfdmVydGV4LHdvcmxkcG9zX3ZlcnRleDp3b3JsZHBvc192ZXJ0ZXgsYmFja2dyb3VuZF92ZXJ0OnZlcnRleCRnLGJhY2tncm91bmRfZnJhZzpmcmFnbWVudCRnLGN1YmVfdmVydDp2ZXJ0ZXgkZixjdWJlX2ZyYWc6ZnJhZ21lbnQkZixkZXB0aF92ZXJ0OnZlcnRleCRlLGRlcHRoX2ZyYWc6ZnJhZ21lbnQkZSxkaXN0YW5jZVJHQkFfdmVydDp2ZXJ0ZXgkZCxkaXN0YW5jZVJHQkFfZnJhZzpmcmFnbWVudCRkLGVxdWlyZWN0X3ZlcnQ6dmVydGV4JGMsZXF1aXJlY3RfZnJhZzpmcmFnbWVudCRjLGxpbmVkYXNoZWRfdmVydDp2ZXJ0ZXgkYixsaW5lZGFzaGVkX2ZyYWc6ZnJhZ21lbnQkYixtZXNoYmFzaWNfdmVydDp2ZXJ0ZXgkYSxtZXNoYmFzaWNfZnJhZzpmcmFnbWVudCRhLG1lc2hsYW1iZXJ0X3ZlcnQ6dmVydGV4JDksbWVzaGxhbWJlcnRfZnJhZzpmcmFnbWVudCQ5LG1lc2htYXRjYXBfdmVydDp2ZXJ0ZXgkOCxtZXNobWF0Y2FwX2ZyYWc6ZnJhZ21lbnQkOCxtZXNobm9ybWFsX3ZlcnQ6dmVydGV4JDcsbWVzaG5vcm1hbF9mcmFnOmZyYWdtZW50JDcsbWVzaHBob25nX3ZlcnQ6dmVydGV4JDYsbWVzaHBob25nX2ZyYWc6ZnJhZ21lbnQkNixtZXNocGh5c2ljYWxfdmVydDp2ZXJ0ZXgkNSxtZXNocGh5c2ljYWxfZnJhZzpmcmFnbWVudCQ1LG1lc2h0b29uX3ZlcnQ6dmVydGV4JDQsbWVzaHRvb25fZnJhZzpmcmFnbWVudCQ0LHBvaW50c192ZXJ0OnZlcnRleCQzLHBvaW50c19mcmFnOmZyYWdtZW50JDMsc2hhZG93X3ZlcnQ6dmVydGV4JDIsc2hhZG93X2ZyYWc6ZnJhZ21lbnQkMixzcHJpdGVfdmVydDp2ZXJ0ZXgkMSxzcHJpdGVfZnJhZzpmcmFnbWVudCQxfTsvKioKICogVW5pZm9ybXMgbGlicmFyeSBmb3Igc2hhcmVkIHdlYmdsIHNoYWRlcnMKICovdmFyIFVuaWZvcm1zTGliPXtjb21tb246e2RpZmZ1c2U6e3ZhbHVlOm5ldyBDb2xvcigweGZmZmZmZil9LG9wYWNpdHk6e3ZhbHVlOjEuMH0sbWFwOnt2YWx1ZTpudWxsfSx1dlRyYW5zZm9ybTp7dmFsdWU6bmV3IE1hdHJpeDMoKX0sdXYyVHJhbnNmb3JtOnt2YWx1ZTpuZXcgTWF0cml4MygpfSxhbHBoYU1hcDp7dmFsdWU6bnVsbH0sYWxwaGFUZXN0Ont2YWx1ZTowfX0sc3BlY3VsYXJtYXA6e3NwZWN1bGFyTWFwOnt2YWx1ZTpudWxsfX0sZW52bWFwOntlbnZNYXA6e3ZhbHVlOm51bGx9LGZsaXBFbnZNYXA6e3ZhbHVlOi0xfSxyZWZsZWN0aXZpdHk6e3ZhbHVlOjEuMH0sLy8gYmFzaWMsIGxhbWJlcnQsIHBob25nCmlvcjp7dmFsdWU6MS41fSwvLyBzdGFuZGFyZCwgcGh5c2ljYWwKcmVmcmFjdGlvblJhdGlvOnt2YWx1ZTowLjk4fX0sYW9tYXA6e2FvTWFwOnt2YWx1ZTpudWxsfSxhb01hcEludGVuc2l0eTp7dmFsdWU6MX19LGxpZ2h0bWFwOntsaWdodE1hcDp7dmFsdWU6bnVsbH0sbGlnaHRNYXBJbnRlbnNpdHk6e3ZhbHVlOjF9fSxlbWlzc2l2ZW1hcDp7ZW1pc3NpdmVNYXA6e3ZhbHVlOm51bGx9fSxidW1wbWFwOntidW1wTWFwOnt2YWx1ZTpudWxsfSxidW1wU2NhbGU6e3ZhbHVlOjF9fSxub3JtYWxtYXA6e25vcm1hbE1hcDp7dmFsdWU6bnVsbH0sbm9ybWFsU2NhbGU6e3ZhbHVlOm5ldyBWZWN0b3IyKDEsMSl9fSxkaXNwbGFjZW1lbnRtYXA6e2Rpc3BsYWNlbWVudE1hcDp7dmFsdWU6bnVsbH0sZGlzcGxhY2VtZW50U2NhbGU6e3ZhbHVlOjF9LGRpc3BsYWNlbWVudEJpYXM6e3ZhbHVlOjB9fSxyb3VnaG5lc3NtYXA6e3JvdWdobmVzc01hcDp7dmFsdWU6bnVsbH19LG1ldGFsbmVzc21hcDp7bWV0YWxuZXNzTWFwOnt2YWx1ZTpudWxsfX0sZ3JhZGllbnRtYXA6e2dyYWRpZW50TWFwOnt2YWx1ZTpudWxsfX0sZm9nOntmb2dEZW5zaXR5Ont2YWx1ZTowLjAwMDI1fSxmb2dOZWFyOnt2YWx1ZToxfSxmb2dGYXI6e3ZhbHVlOjIwMDB9LGZvZ0NvbG9yOnt2YWx1ZTpuZXcgQ29sb3IoMHhmZmZmZmYpfX0sbGlnaHRzOnthbWJpZW50TGlnaHRDb2xvcjp7dmFsdWU6W119LGxpZ2h0UHJvYmU6e3ZhbHVlOltdfSxkaXJlY3Rpb25hbExpZ2h0czp7dmFsdWU6W10scHJvcGVydGllczp7ZGlyZWN0aW9uOnt9LGNvbG9yOnt9fX0sZGlyZWN0aW9uYWxMaWdodFNoYWRvd3M6e3ZhbHVlOltdLHByb3BlcnRpZXM6e3NoYWRvd0JpYXM6e30sc2hhZG93Tm9ybWFsQmlhczp7fSxzaGFkb3dSYWRpdXM6e30sc2hhZG93TWFwU2l6ZTp7fX19LGRpcmVjdGlvbmFsU2hhZG93TWFwOnt2YWx1ZTpbXX0sZGlyZWN0aW9uYWxTaGFkb3dNYXRyaXg6e3ZhbHVlOltdfSxzcG90TGlnaHRzOnt2YWx1ZTpbXSxwcm9wZXJ0aWVzOntjb2xvcjp7fSxwb3NpdGlvbjp7fSxkaXJlY3Rpb246e30sZGlzdGFuY2U6e30sY29uZUNvczp7fSxwZW51bWJyYUNvczp7fSxkZWNheTp7fX19LHNwb3RMaWdodFNoYWRvd3M6e3ZhbHVlOltdLHByb3BlcnRpZXM6e3NoYWRvd0JpYXM6e30sc2hhZG93Tm9ybWFsQmlhczp7fSxzaGFkb3dSYWRpdXM6e30sc2hhZG93TWFwU2l6ZTp7fX19LHNwb3RTaGFkb3dNYXA6e3ZhbHVlOltdfSxzcG90U2hhZG93TWF0cml4Ont2YWx1ZTpbXX0scG9pbnRMaWdodHM6e3ZhbHVlOltdLHByb3BlcnRpZXM6e2NvbG9yOnt9LHBvc2l0aW9uOnt9LGRlY2F5Ont9LGRpc3RhbmNlOnt9fX0scG9pbnRMaWdodFNoYWRvd3M6e3ZhbHVlOltdLHByb3BlcnRpZXM6e3NoYWRvd0JpYXM6e30sc2hhZG93Tm9ybWFsQmlhczp7fSxzaGFkb3dSYWRpdXM6e30sc2hhZG93TWFwU2l6ZTp7fSxzaGFkb3dDYW1lcmFOZWFyOnt9LHNoYWRvd0NhbWVyYUZhcjp7fX19LHBvaW50U2hhZG93TWFwOnt2YWx1ZTpbXX0scG9pbnRTaGFkb3dNYXRyaXg6e3ZhbHVlOltdfSxoZW1pc3BoZXJlTGlnaHRzOnt2YWx1ZTpbXSxwcm9wZXJ0aWVzOntkaXJlY3Rpb246e30sc2t5Q29sb3I6e30sZ3JvdW5kQ29sb3I6e319fSwvLyBUT0RPIChhYmVsbmF0aW9uKTogUmVjdEFyZWFMaWdodCBCUkRGIGRhdGEgbmVlZHMgdG8gYmUgbW92ZWQgZnJvbSBleGFtcGxlIHRvIG1haW4gc3JjCnJlY3RBcmVhTGlnaHRzOnt2YWx1ZTpbXSxwcm9wZXJ0aWVzOntjb2xvcjp7fSxwb3NpdGlvbjp7fSx3aWR0aDp7fSxoZWlnaHQ6e319fSxsdGNfMTp7dmFsdWU6bnVsbH0sbHRjXzI6e3ZhbHVlOm51bGx9fSxwb2ludHM6e2RpZmZ1c2U6e3ZhbHVlOm5ldyBDb2xvcigweGZmZmZmZil9LG9wYWNpdHk6e3ZhbHVlOjEuMH0sc2l6ZTp7dmFsdWU6MS4wfSxzY2FsZTp7dmFsdWU6MS4wfSxtYXA6e3ZhbHVlOm51bGx9LGFscGhhTWFwOnt2YWx1ZTpudWxsfSxhbHBoYVRlc3Q6e3ZhbHVlOjB9LHV2VHJhbnNmb3JtOnt2YWx1ZTpuZXcgTWF0cml4MygpfX0sc3ByaXRlOntkaWZmdXNlOnt2YWx1ZTpuZXcgQ29sb3IoMHhmZmZmZmYpfSxvcGFjaXR5Ont2YWx1ZToxLjB9LGNlbnRlcjp7dmFsdWU6bmV3IFZlY3RvcjIoMC41LDAuNSl9LHJvdGF0aW9uOnt2YWx1ZTowLjB9LG1hcDp7dmFsdWU6bnVsbH0sYWxwaGFNYXA6e3ZhbHVlOm51bGx9LGFscGhhVGVzdDp7dmFsdWU6MH0sdXZUcmFuc2Zvcm06e3ZhbHVlOm5ldyBNYXRyaXgzKCl9fX07dmFyIFNoYWRlckxpYj17YmFzaWM6e3VuaWZvcm1zOm1lcmdlVW5pZm9ybXMoW1VuaWZvcm1zTGliLmNvbW1vbixVbmlmb3Jtc0xpYi5zcGVjdWxhcm1hcCxVbmlmb3Jtc0xpYi5lbnZtYXAsVW5pZm9ybXNMaWIuYW9tYXAsVW5pZm9ybXNMaWIubGlnaHRtYXAsVW5pZm9ybXNMaWIuZm9nXSksdmVydGV4U2hhZGVyOlNoYWRlckNodW5rLm1lc2hiYXNpY192ZXJ0LGZyYWdtZW50U2hhZGVyOlNoYWRlckNodW5rLm1lc2hiYXNpY19mcmFnfSxsYW1iZXJ0Ont1bmlmb3JtczptZXJnZVVuaWZvcm1zKFtVbmlmb3Jtc0xpYi5jb21tb24sVW5pZm9ybXNMaWIuc3BlY3VsYXJtYXAsVW5pZm9ybXNMaWIuZW52bWFwLFVuaWZvcm1zTGliLmFvbWFwLFVuaWZvcm1zTGliLmxpZ2h0bWFwLFVuaWZvcm1zTGliLmVtaXNzaXZlbWFwLFVuaWZvcm1zTGliLmZvZyxVbmlmb3Jtc0xpYi5saWdodHMse2VtaXNzaXZlOnt2YWx1ZTpuZXcgQ29sb3IoMHgwMDAwMDApfX1dKSx2ZXJ0ZXhTaGFkZXI6U2hhZGVyQ2h1bmsubWVzaGxhbWJlcnRfdmVydCxmcmFnbWVudFNoYWRlcjpTaGFkZXJDaHVuay5tZXNobGFtYmVydF9mcmFnfSxwaG9uZzp7dW5pZm9ybXM6bWVyZ2VVbmlmb3JtcyhbVW5pZm9ybXNMaWIuY29tbW9uLFVuaWZvcm1zTGliLnNwZWN1bGFybWFwLFVuaWZvcm1zTGliLmVudm1hcCxVbmlmb3Jtc0xpYi5hb21hcCxVbmlmb3Jtc0xpYi5saWdodG1hcCxVbmlmb3Jtc0xpYi5lbWlzc2l2ZW1hcCxVbmlmb3Jtc0xpYi5idW1wbWFwLFVuaWZvcm1zTGliLm5vcm1hbG1hcCxVbmlmb3Jtc0xpYi5kaXNwbGFjZW1lbnRtYXAsVW5pZm9ybXNMaWIuZm9nLFVuaWZvcm1zTGliLmxpZ2h0cyx7ZW1pc3NpdmU6e3ZhbHVlOm5ldyBDb2xvcigweDAwMDAwMCl9LHNwZWN1bGFyOnt2YWx1ZTpuZXcgQ29sb3IoMHgxMTExMTEpfSxzaGluaW5lc3M6e3ZhbHVlOjMwfX1dKSx2ZXJ0ZXhTaGFkZXI6U2hhZGVyQ2h1bmsubWVzaHBob25nX3ZlcnQsZnJhZ21lbnRTaGFkZXI6U2hhZGVyQ2h1bmsubWVzaHBob25nX2ZyYWd9LHN0YW5kYXJkOnt1bmlmb3JtczptZXJnZVVuaWZvcm1zKFtVbmlmb3Jtc0xpYi5jb21tb24sVW5pZm9ybXNMaWIuZW52bWFwLFVuaWZvcm1zTGliLmFvbWFwLFVuaWZvcm1zTGliLmxpZ2h0bWFwLFVuaWZvcm1zTGliLmVtaXNzaXZlbWFwLFVuaWZvcm1zTGliLmJ1bXBtYXAsVW5pZm9ybXNMaWIubm9ybWFsbWFwLFVuaWZvcm1zTGliLmRpc3BsYWNlbWVudG1hcCxVbmlmb3Jtc0xpYi5yb3VnaG5lc3NtYXAsVW5pZm9ybXNMaWIubWV0YWxuZXNzbWFwLFVuaWZvcm1zTGliLmZvZyxVbmlmb3Jtc0xpYi5saWdodHMse2VtaXNzaXZlOnt2YWx1ZTpuZXcgQ29sb3IoMHgwMDAwMDApfSxyb3VnaG5lc3M6e3ZhbHVlOjEuMH0sbWV0YWxuZXNzOnt2YWx1ZTowLjB9LGVudk1hcEludGVuc2l0eTp7dmFsdWU6MX0vLyB0ZW1wb3JhcnkKfV0pLHZlcnRleFNoYWRlcjpTaGFkZXJDaHVuay5tZXNocGh5c2ljYWxfdmVydCxmcmFnbWVudFNoYWRlcjpTaGFkZXJDaHVuay5tZXNocGh5c2ljYWxfZnJhZ30sdG9vbjp7dW5pZm9ybXM6bWVyZ2VVbmlmb3JtcyhbVW5pZm9ybXNMaWIuY29tbW9uLFVuaWZvcm1zTGliLmFvbWFwLFVuaWZvcm1zTGliLmxpZ2h0bWFwLFVuaWZvcm1zTGliLmVtaXNzaXZlbWFwLFVuaWZvcm1zTGliLmJ1bXBtYXAsVW5pZm9ybXNMaWIubm9ybWFsbWFwLFVuaWZvcm1zTGliLmRpc3BsYWNlbWVudG1hcCxVbmlmb3Jtc0xpYi5ncmFkaWVudG1hcCxVbmlmb3Jtc0xpYi5mb2csVW5pZm9ybXNMaWIubGlnaHRzLHtlbWlzc2l2ZTp7dmFsdWU6bmV3IENvbG9yKDB4MDAwMDAwKX19XSksdmVydGV4U2hhZGVyOlNoYWRlckNodW5rLm1lc2h0b29uX3ZlcnQsZnJhZ21lbnRTaGFkZXI6U2hhZGVyQ2h1bmsubWVzaHRvb25fZnJhZ30sbWF0Y2FwOnt1bmlmb3JtczptZXJnZVVuaWZvcm1zKFtVbmlmb3Jtc0xpYi5jb21tb24sVW5pZm9ybXNMaWIuYnVtcG1hcCxVbmlmb3Jtc0xpYi5ub3JtYWxtYXAsVW5pZm9ybXNMaWIuZGlzcGxhY2VtZW50bWFwLFVuaWZvcm1zTGliLmZvZyx7bWF0Y2FwOnt2YWx1ZTpudWxsfX1dKSx2ZXJ0ZXhTaGFkZXI6U2hhZGVyQ2h1bmsubWVzaG1hdGNhcF92ZXJ0LGZyYWdtZW50U2hhZGVyOlNoYWRlckNodW5rLm1lc2htYXRjYXBfZnJhZ30scG9pbnRzOnt1bmlmb3JtczptZXJnZVVuaWZvcm1zKFtVbmlmb3Jtc0xpYi5wb2ludHMsVW5pZm9ybXNMaWIuZm9nXSksdmVydGV4U2hhZGVyOlNoYWRlckNodW5rLnBvaW50c192ZXJ0LGZyYWdtZW50U2hhZGVyOlNoYWRlckNodW5rLnBvaW50c19mcmFnfSxkYXNoZWQ6e3VuaWZvcm1zOm1lcmdlVW5pZm9ybXMoW1VuaWZvcm1zTGliLmNvbW1vbixVbmlmb3Jtc0xpYi5mb2cse3NjYWxlOnt2YWx1ZToxfSxkYXNoU2l6ZTp7dmFsdWU6MX0sdG90YWxTaXplOnt2YWx1ZToyfX1dKSx2ZXJ0ZXhTaGFkZXI6U2hhZGVyQ2h1bmsubGluZWRhc2hlZF92ZXJ0LGZyYWdtZW50U2hhZGVyOlNoYWRlckNodW5rLmxpbmVkYXNoZWRfZnJhZ30sZGVwdGg6e3VuaWZvcm1zOm1lcmdlVW5pZm9ybXMoW1VuaWZvcm1zTGliLmNvbW1vbixVbmlmb3Jtc0xpYi5kaXNwbGFjZW1lbnRtYXBdKSx2ZXJ0ZXhTaGFkZXI6U2hhZGVyQ2h1bmsuZGVwdGhfdmVydCxmcmFnbWVudFNoYWRlcjpTaGFkZXJDaHVuay5kZXB0aF9mcmFnfSxub3JtYWw6e3VuaWZvcm1zOm1lcmdlVW5pZm9ybXMoW1VuaWZvcm1zTGliLmNvbW1vbixVbmlmb3Jtc0xpYi5idW1wbWFwLFVuaWZvcm1zTGliLm5vcm1hbG1hcCxVbmlmb3Jtc0xpYi5kaXNwbGFjZW1lbnRtYXAse29wYWNpdHk6e3ZhbHVlOjEuMH19XSksdmVydGV4U2hhZGVyOlNoYWRlckNodW5rLm1lc2hub3JtYWxfdmVydCxmcmFnbWVudFNoYWRlcjpTaGFkZXJDaHVuay5tZXNobm9ybWFsX2ZyYWd9LHNwcml0ZTp7dW5pZm9ybXM6bWVyZ2VVbmlmb3JtcyhbVW5pZm9ybXNMaWIuc3ByaXRlLFVuaWZvcm1zTGliLmZvZ10pLHZlcnRleFNoYWRlcjpTaGFkZXJDaHVuay5zcHJpdGVfdmVydCxmcmFnbWVudFNoYWRlcjpTaGFkZXJDaHVuay5zcHJpdGVfZnJhZ30sYmFja2dyb3VuZDp7dW5pZm9ybXM6e3V2VHJhbnNmb3JtOnt2YWx1ZTpuZXcgTWF0cml4MygpfSx0MkQ6e3ZhbHVlOm51bGx9fSx2ZXJ0ZXhTaGFkZXI6U2hhZGVyQ2h1bmsuYmFja2dyb3VuZF92ZXJ0LGZyYWdtZW50U2hhZGVyOlNoYWRlckNodW5rLmJhY2tncm91bmRfZnJhZ30sLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoJLy8JQ3ViZSBtYXAgc2hhZGVyCgkgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL2N1YmU6e3VuaWZvcm1zOm1lcmdlVW5pZm9ybXMoW1VuaWZvcm1zTGliLmVudm1hcCx7b3BhY2l0eTp7dmFsdWU6MS4wfX1dKSx2ZXJ0ZXhTaGFkZXI6U2hhZGVyQ2h1bmsuY3ViZV92ZXJ0LGZyYWdtZW50U2hhZGVyOlNoYWRlckNodW5rLmN1YmVfZnJhZ30sZXF1aXJlY3Q6e3VuaWZvcm1zOnt0RXF1aXJlY3Q6e3ZhbHVlOm51bGx9fSx2ZXJ0ZXhTaGFkZXI6U2hhZGVyQ2h1bmsuZXF1aXJlY3RfdmVydCxmcmFnbWVudFNoYWRlcjpTaGFkZXJDaHVuay5lcXVpcmVjdF9mcmFnfSxkaXN0YW5jZVJHQkE6e3VuaWZvcm1zOm1lcmdlVW5pZm9ybXMoW1VuaWZvcm1zTGliLmNvbW1vbixVbmlmb3Jtc0xpYi5kaXNwbGFjZW1lbnRtYXAse3JlZmVyZW5jZVBvc2l0aW9uOnt2YWx1ZTpuZXcgVmVjdG9yMygpfSxuZWFyRGlzdGFuY2U6e3ZhbHVlOjF9LGZhckRpc3RhbmNlOnt2YWx1ZToxMDAwfX1dKSx2ZXJ0ZXhTaGFkZXI6U2hhZGVyQ2h1bmsuZGlzdGFuY2VSR0JBX3ZlcnQsZnJhZ21lbnRTaGFkZXI6U2hhZGVyQ2h1bmsuZGlzdGFuY2VSR0JBX2ZyYWd9LHNoYWRvdzp7dW5pZm9ybXM6bWVyZ2VVbmlmb3JtcyhbVW5pZm9ybXNMaWIubGlnaHRzLFVuaWZvcm1zTGliLmZvZyx7Y29sb3I6e3ZhbHVlOm5ldyBDb2xvcigweDAwMDAwKX0sb3BhY2l0eTp7dmFsdWU6MS4wfX1dKSx2ZXJ0ZXhTaGFkZXI6U2hhZGVyQ2h1bmsuc2hhZG93X3ZlcnQsZnJhZ21lbnRTaGFkZXI6U2hhZGVyQ2h1bmsuc2hhZG93X2ZyYWd9fTtTaGFkZXJMaWIucGh5c2ljYWw9e3VuaWZvcm1zOm1lcmdlVW5pZm9ybXMoW1NoYWRlckxpYi5zdGFuZGFyZC51bmlmb3Jtcyx7Y2xlYXJjb2F0Ont2YWx1ZTowfSxjbGVhcmNvYXRNYXA6e3ZhbHVlOm51bGx9LGNsZWFyY29hdFJvdWdobmVzczp7dmFsdWU6MH0sY2xlYXJjb2F0Um91Z2huZXNzTWFwOnt2YWx1ZTpudWxsfSxjbGVhcmNvYXROb3JtYWxTY2FsZTp7dmFsdWU6bmV3IFZlY3RvcjIoMSwxKX0sY2xlYXJjb2F0Tm9ybWFsTWFwOnt2YWx1ZTpudWxsfSxzaGVlbjp7dmFsdWU6MH0sc2hlZW5Db2xvcjp7dmFsdWU6bmV3IENvbG9yKDB4MDAwMDAwKX0sc2hlZW5Db2xvck1hcDp7dmFsdWU6bnVsbH0sc2hlZW5Sb3VnaG5lc3M6e3ZhbHVlOjF9LHNoZWVuUm91Z2huZXNzTWFwOnt2YWx1ZTpudWxsfSx0cmFuc21pc3Npb246e3ZhbHVlOjB9LHRyYW5zbWlzc2lvbk1hcDp7dmFsdWU6bnVsbH0sdHJhbnNtaXNzaW9uU2FtcGxlclNpemU6e3ZhbHVlOm5ldyBWZWN0b3IyKCl9LHRyYW5zbWlzc2lvblNhbXBsZXJNYXA6e3ZhbHVlOm51bGx9LHRoaWNrbmVzczp7dmFsdWU6MH0sdGhpY2tuZXNzTWFwOnt2YWx1ZTpudWxsfSxhdHRlbnVhdGlvbkRpc3RhbmNlOnt2YWx1ZTowfSxhdHRlbnVhdGlvbkNvbG9yOnt2YWx1ZTpuZXcgQ29sb3IoMHgwMDAwMDApfSxzcGVjdWxhckludGVuc2l0eTp7dmFsdWU6MX0sc3BlY3VsYXJJbnRlbnNpdHlNYXA6e3ZhbHVlOm51bGx9LHNwZWN1bGFyQ29sb3I6e3ZhbHVlOm5ldyBDb2xvcigxLDEsMSl9LHNwZWN1bGFyQ29sb3JNYXA6e3ZhbHVlOm51bGx9fV0pLHZlcnRleFNoYWRlcjpTaGFkZXJDaHVuay5tZXNocGh5c2ljYWxfdmVydCxmcmFnbWVudFNoYWRlcjpTaGFkZXJDaHVuay5tZXNocGh5c2ljYWxfZnJhZ307ZnVuY3Rpb24gV2ViR0xCYWNrZ3JvdW5kKHJlbmRlcmVyLGN1YmVtYXBzLHN0YXRlLG9iamVjdHMsYWxwaGEscHJlbXVsdGlwbGllZEFscGhhKXt2YXIgY2xlYXJDb2xvcj1uZXcgQ29sb3IoMHgwMDAwMDApO3ZhciBjbGVhckFscGhhPWFscGhhPT09dHJ1ZT8wOjE7dmFyIHBsYW5lTWVzaDt2YXIgYm94TWVzaDt2YXIgY3VycmVudEJhY2tncm91bmQ9bnVsbDt2YXIgY3VycmVudEJhY2tncm91bmRWZXJzaW9uPTA7dmFyIGN1cnJlbnRUb25lbWFwcGluZz1udWxsO2Z1bmN0aW9uIHJlbmRlcihyZW5kZXJMaXN0LHNjZW5lKXt2YXIgZm9yY2VDbGVhcj1mYWxzZTt2YXIgYmFja2dyb3VuZD1zY2VuZS5pc1NjZW5lPT09dHJ1ZT9zY2VuZS5iYWNrZ3JvdW5kOm51bGw7aWYoYmFja2dyb3VuZCYmYmFja2dyb3VuZC5pc1RleHR1cmUpe2JhY2tncm91bmQ9Y3ViZW1hcHMuZ2V0KGJhY2tncm91bmQpO30vLyBJZ25vcmUgYmFja2dyb3VuZCBpbiBBUgovLyBUT0RPOiBSZWNvbnNpZGVyIHRoaXMuCnZhciB4cj1yZW5kZXJlci54cjt2YXIgc2Vzc2lvbj14ci5nZXRTZXNzaW9uJiZ4ci5nZXRTZXNzaW9uKCk7aWYoc2Vzc2lvbiYmc2Vzc2lvbi5lbnZpcm9ubWVudEJsZW5kTW9kZT09PSdhZGRpdGl2ZScpe2JhY2tncm91bmQ9bnVsbDt9aWYoYmFja2dyb3VuZD09PW51bGwpe3NldENsZWFyKGNsZWFyQ29sb3IsY2xlYXJBbHBoYSk7fWVsc2UgaWYoYmFja2dyb3VuZCYmYmFja2dyb3VuZC5pc0NvbG9yKXtzZXRDbGVhcihiYWNrZ3JvdW5kLDEpO2ZvcmNlQ2xlYXI9dHJ1ZTt9aWYocmVuZGVyZXIuYXV0b0NsZWFyfHxmb3JjZUNsZWFyKXtyZW5kZXJlci5jbGVhcihyZW5kZXJlci5hdXRvQ2xlYXJDb2xvcixyZW5kZXJlci5hdXRvQ2xlYXJEZXB0aCxyZW5kZXJlci5hdXRvQ2xlYXJTdGVuY2lsKTt9aWYoYmFja2dyb3VuZCYmKGJhY2tncm91bmQuaXNDdWJlVGV4dHVyZXx8YmFja2dyb3VuZC5tYXBwaW5nPT09Q3ViZVVWUmVmbGVjdGlvbk1hcHBpbmcpKXtpZihib3hNZXNoPT09dW5kZWZpbmVkKXtib3hNZXNoPW5ldyBNZXNoKG5ldyBCb3hHZW9tZXRyeSgxLDEsMSksbmV3IFNoYWRlck1hdGVyaWFsKHtuYW1lOidCYWNrZ3JvdW5kQ3ViZU1hdGVyaWFsJyx1bmlmb3JtczpjbG9uZVVuaWZvcm1zKFNoYWRlckxpYi5jdWJlLnVuaWZvcm1zKSx2ZXJ0ZXhTaGFkZXI6U2hhZGVyTGliLmN1YmUudmVydGV4U2hhZGVyLGZyYWdtZW50U2hhZGVyOlNoYWRlckxpYi5jdWJlLmZyYWdtZW50U2hhZGVyLHNpZGU6QmFja1NpZGUsZGVwdGhUZXN0OmZhbHNlLGRlcHRoV3JpdGU6ZmFsc2UsZm9nOmZhbHNlfSkpO2JveE1lc2guZ2VvbWV0cnkuZGVsZXRlQXR0cmlidXRlKCdub3JtYWwnKTtib3hNZXNoLmdlb21ldHJ5LmRlbGV0ZUF0dHJpYnV0ZSgndXYnKTtib3hNZXNoLm9uQmVmb3JlUmVuZGVyPWZ1bmN0aW9uKHJlbmRlcmVyLHNjZW5lLGNhbWVyYSl7dGhpcy5tYXRyaXhXb3JsZC5jb3B5UG9zaXRpb24oY2FtZXJhLm1hdHJpeFdvcmxkKTt9Oy8vIGVuYWJsZSBjb2RlIGluamVjdGlvbiBmb3Igbm9uLWJ1aWx0LWluIG1hdGVyaWFsCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShib3hNZXNoLm1hdGVyaWFsLCdlbnZNYXAnLHtnZXQ6ZnVuY3Rpb24gZ2V0KCl7cmV0dXJuIHRoaXMudW5pZm9ybXMuZW52TWFwLnZhbHVlO319KTtvYmplY3RzLnVwZGF0ZShib3hNZXNoKTt9Ym94TWVzaC5tYXRlcmlhbC51bmlmb3Jtcy5lbnZNYXAudmFsdWU9YmFja2dyb3VuZDtib3hNZXNoLm1hdGVyaWFsLnVuaWZvcm1zLmZsaXBFbnZNYXAudmFsdWU9YmFja2dyb3VuZC5pc0N1YmVUZXh0dXJlJiZiYWNrZ3JvdW5kLmlzUmVuZGVyVGFyZ2V0VGV4dHVyZT09PWZhbHNlPy0xOjE7aWYoY3VycmVudEJhY2tncm91bmQhPT1iYWNrZ3JvdW5kfHxjdXJyZW50QmFja2dyb3VuZFZlcnNpb24hPT1iYWNrZ3JvdW5kLnZlcnNpb258fGN1cnJlbnRUb25lbWFwcGluZyE9PXJlbmRlcmVyLnRvbmVNYXBwaW5nKXtib3hNZXNoLm1hdGVyaWFsLm5lZWRzVXBkYXRlPXRydWU7Y3VycmVudEJhY2tncm91bmQ9YmFja2dyb3VuZDtjdXJyZW50QmFja2dyb3VuZFZlcnNpb249YmFja2dyb3VuZC52ZXJzaW9uO2N1cnJlbnRUb25lbWFwcGluZz1yZW5kZXJlci50b25lTWFwcGluZzt9Ly8gcHVzaCB0byB0aGUgcHJlLXNvcnRlZCBvcGFxdWUgcmVuZGVyIGxpc3QKcmVuZGVyTGlzdC51bnNoaWZ0KGJveE1lc2gsYm94TWVzaC5nZW9tZXRyeSxib3hNZXNoLm1hdGVyaWFsLDAsMCxudWxsKTt9ZWxzZSBpZihiYWNrZ3JvdW5kJiZiYWNrZ3JvdW5kLmlzVGV4dHVyZSl7aWYocGxhbmVNZXNoPT09dW5kZWZpbmVkKXtwbGFuZU1lc2g9bmV3IE1lc2gobmV3IFBsYW5lR2VvbWV0cnkoMiwyKSxuZXcgU2hhZGVyTWF0ZXJpYWwoe25hbWU6J0JhY2tncm91bmRNYXRlcmlhbCcsdW5pZm9ybXM6Y2xvbmVVbmlmb3JtcyhTaGFkZXJMaWIuYmFja2dyb3VuZC51bmlmb3JtcyksdmVydGV4U2hhZGVyOlNoYWRlckxpYi5iYWNrZ3JvdW5kLnZlcnRleFNoYWRlcixmcmFnbWVudFNoYWRlcjpTaGFkZXJMaWIuYmFja2dyb3VuZC5mcmFnbWVudFNoYWRlcixzaWRlOkZyb250U2lkZSxkZXB0aFRlc3Q6ZmFsc2UsZGVwdGhXcml0ZTpmYWxzZSxmb2c6ZmFsc2V9KSk7cGxhbmVNZXNoLmdlb21ldHJ5LmRlbGV0ZUF0dHJpYnV0ZSgnbm9ybWFsJyk7Ly8gZW5hYmxlIGNvZGUgaW5qZWN0aW9uIGZvciBub24tYnVpbHQtaW4gbWF0ZXJpYWwKT2JqZWN0LmRlZmluZVByb3BlcnR5KHBsYW5lTWVzaC5tYXRlcmlhbCwnbWFwJyx7Z2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiB0aGlzLnVuaWZvcm1zLnQyRC52YWx1ZTt9fSk7b2JqZWN0cy51cGRhdGUocGxhbmVNZXNoKTt9cGxhbmVNZXNoLm1hdGVyaWFsLnVuaWZvcm1zLnQyRC52YWx1ZT1iYWNrZ3JvdW5kO2lmKGJhY2tncm91bmQubWF0cml4QXV0b1VwZGF0ZT09PXRydWUpe2JhY2tncm91bmQudXBkYXRlTWF0cml4KCk7fXBsYW5lTWVzaC5tYXRlcmlhbC51bmlmb3Jtcy51dlRyYW5zZm9ybS52YWx1ZS5jb3B5KGJhY2tncm91bmQubWF0cml4KTtpZihjdXJyZW50QmFja2dyb3VuZCE9PWJhY2tncm91bmR8fGN1cnJlbnRCYWNrZ3JvdW5kVmVyc2lvbiE9PWJhY2tncm91bmQudmVyc2lvbnx8Y3VycmVudFRvbmVtYXBwaW5nIT09cmVuZGVyZXIudG9uZU1hcHBpbmcpe3BsYW5lTWVzaC5tYXRlcmlhbC5uZWVkc1VwZGF0ZT10cnVlO2N1cnJlbnRCYWNrZ3JvdW5kPWJhY2tncm91bmQ7Y3VycmVudEJhY2tncm91bmRWZXJzaW9uPWJhY2tncm91bmQudmVyc2lvbjtjdXJyZW50VG9uZW1hcHBpbmc9cmVuZGVyZXIudG9uZU1hcHBpbmc7fS8vIHB1c2ggdG8gdGhlIHByZS1zb3J0ZWQgb3BhcXVlIHJlbmRlciBsaXN0CnJlbmRlckxpc3QudW5zaGlmdChwbGFuZU1lc2gscGxhbmVNZXNoLmdlb21ldHJ5LHBsYW5lTWVzaC5tYXRlcmlhbCwwLDAsbnVsbCk7fX1mdW5jdGlvbiBzZXRDbGVhcihjb2xvcixhbHBoYSl7c3RhdGUuYnVmZmVycy5jb2xvci5zZXRDbGVhcihjb2xvci5yLGNvbG9yLmcsY29sb3IuYixhbHBoYSxwcmVtdWx0aXBsaWVkQWxwaGEpO31yZXR1cm57Z2V0Q2xlYXJDb2xvcjpmdW5jdGlvbiBnZXRDbGVhckNvbG9yKCl7cmV0dXJuIGNsZWFyQ29sb3I7fSxzZXRDbGVhckNvbG9yOmZ1bmN0aW9uIHNldENsZWFyQ29sb3IoY29sb3Ipe3ZhciBhbHBoYT1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMV06MTtjbGVhckNvbG9yLnNldChjb2xvcik7Y2xlYXJBbHBoYT1hbHBoYTtzZXRDbGVhcihjbGVhckNvbG9yLGNsZWFyQWxwaGEpO30sZ2V0Q2xlYXJBbHBoYTpmdW5jdGlvbiBnZXRDbGVhckFscGhhKCl7cmV0dXJuIGNsZWFyQWxwaGE7fSxzZXRDbGVhckFscGhhOmZ1bmN0aW9uIHNldENsZWFyQWxwaGEoYWxwaGEpe2NsZWFyQWxwaGE9YWxwaGE7c2V0Q2xlYXIoY2xlYXJDb2xvcixjbGVhckFscGhhKTt9LHJlbmRlcjpyZW5kZXJ9O31mdW5jdGlvbiBXZWJHTEJpbmRpbmdTdGF0ZXMoZ2wsZXh0ZW5zaW9ucyxhdHRyaWJ1dGVzLGNhcGFiaWxpdGllcyl7dmFyIG1heFZlcnRleEF0dHJpYnV0ZXM9Z2wuZ2V0UGFyYW1ldGVyKDM0OTIxKTt2YXIgZXh0ZW5zaW9uPWNhcGFiaWxpdGllcy5pc1dlYkdMMj9udWxsOmV4dGVuc2lvbnMuZ2V0KCdPRVNfdmVydGV4X2FycmF5X29iamVjdCcpO3ZhciB2YW9BdmFpbGFibGU9Y2FwYWJpbGl0aWVzLmlzV2ViR0wyfHxleHRlbnNpb24hPT1udWxsO3ZhciBiaW5kaW5nU3RhdGVzPXt9O3ZhciBkZWZhdWx0U3RhdGU9Y3JlYXRlQmluZGluZ1N0YXRlKG51bGwpO3ZhciBjdXJyZW50U3RhdGU9ZGVmYXVsdFN0YXRlO2Z1bmN0aW9uIHNldHVwKG9iamVjdCxtYXRlcmlhbCxwcm9ncmFtLGdlb21ldHJ5LGluZGV4KXt2YXIgdXBkYXRlQnVmZmVycz1mYWxzZTtpZih2YW9BdmFpbGFibGUpe3ZhciBzdGF0ZT1nZXRCaW5kaW5nU3RhdGUoZ2VvbWV0cnkscHJvZ3JhbSxtYXRlcmlhbCk7aWYoY3VycmVudFN0YXRlIT09c3RhdGUpe2N1cnJlbnRTdGF0ZT1zdGF0ZTtiaW5kVmVydGV4QXJyYXlPYmplY3QoY3VycmVudFN0YXRlLm9iamVjdCk7fXVwZGF0ZUJ1ZmZlcnM9bmVlZHNVcGRhdGUoZ2VvbWV0cnksaW5kZXgpO2lmKHVwZGF0ZUJ1ZmZlcnMpc2F2ZUNhY2hlKGdlb21ldHJ5LGluZGV4KTt9ZWxzZXt2YXIgd2lyZWZyYW1lPW1hdGVyaWFsLndpcmVmcmFtZT09PXRydWU7aWYoY3VycmVudFN0YXRlLmdlb21ldHJ5IT09Z2VvbWV0cnkuaWR8fGN1cnJlbnRTdGF0ZS5wcm9ncmFtIT09cHJvZ3JhbS5pZHx8Y3VycmVudFN0YXRlLndpcmVmcmFtZSE9PXdpcmVmcmFtZSl7Y3VycmVudFN0YXRlLmdlb21ldHJ5PWdlb21ldHJ5LmlkO2N1cnJlbnRTdGF0ZS5wcm9ncmFtPXByb2dyYW0uaWQ7Y3VycmVudFN0YXRlLndpcmVmcmFtZT13aXJlZnJhbWU7dXBkYXRlQnVmZmVycz10cnVlO319aWYob2JqZWN0LmlzSW5zdGFuY2VkTWVzaD09PXRydWUpe3VwZGF0ZUJ1ZmZlcnM9dHJ1ZTt9aWYoaW5kZXghPT1udWxsKXthdHRyaWJ1dGVzLnVwZGF0ZShpbmRleCwzNDk2Myk7fWlmKHVwZGF0ZUJ1ZmZlcnMpe3NldHVwVmVydGV4QXR0cmlidXRlcyhvYmplY3QsbWF0ZXJpYWwscHJvZ3JhbSxnZW9tZXRyeSk7aWYoaW5kZXghPT1udWxsKXtnbC5iaW5kQnVmZmVyKDM0OTYzLGF0dHJpYnV0ZXMuZ2V0KGluZGV4KS5idWZmZXIpO319fWZ1bmN0aW9uIGNyZWF0ZVZlcnRleEFycmF5T2JqZWN0KCl7aWYoY2FwYWJpbGl0aWVzLmlzV2ViR0wyKXJldHVybiBnbC5jcmVhdGVWZXJ0ZXhBcnJheSgpO3JldHVybiBleHRlbnNpb24uY3JlYXRlVmVydGV4QXJyYXlPRVMoKTt9ZnVuY3Rpb24gYmluZFZlcnRleEFycmF5T2JqZWN0KHZhbyl7aWYoY2FwYWJpbGl0aWVzLmlzV2ViR0wyKXJldHVybiBnbC5iaW5kVmVydGV4QXJyYXkodmFvKTtyZXR1cm4gZXh0ZW5zaW9uLmJpbmRWZXJ0ZXhBcnJheU9FUyh2YW8pO31mdW5jdGlvbiBkZWxldGVWZXJ0ZXhBcnJheU9iamVjdCh2YW8pe2lmKGNhcGFiaWxpdGllcy5pc1dlYkdMMilyZXR1cm4gZ2wuZGVsZXRlVmVydGV4QXJyYXkodmFvKTtyZXR1cm4gZXh0ZW5zaW9uLmRlbGV0ZVZlcnRleEFycmF5T0VTKHZhbyk7fWZ1bmN0aW9uIGdldEJpbmRpbmdTdGF0ZShnZW9tZXRyeSxwcm9ncmFtLG1hdGVyaWFsKXt2YXIgd2lyZWZyYW1lPW1hdGVyaWFsLndpcmVmcmFtZT09PXRydWU7dmFyIHByb2dyYW1NYXA9YmluZGluZ1N0YXRlc1tnZW9tZXRyeS5pZF07aWYocHJvZ3JhbU1hcD09PXVuZGVmaW5lZCl7cHJvZ3JhbU1hcD17fTtiaW5kaW5nU3RhdGVzW2dlb21ldHJ5LmlkXT1wcm9ncmFtTWFwO312YXIgc3RhdGVNYXA9cHJvZ3JhbU1hcFtwcm9ncmFtLmlkXTtpZihzdGF0ZU1hcD09PXVuZGVmaW5lZCl7c3RhdGVNYXA9e307cHJvZ3JhbU1hcFtwcm9ncmFtLmlkXT1zdGF0ZU1hcDt9dmFyIHN0YXRlPXN0YXRlTWFwW3dpcmVmcmFtZV07aWYoc3RhdGU9PT11bmRlZmluZWQpe3N0YXRlPWNyZWF0ZUJpbmRpbmdTdGF0ZShjcmVhdGVWZXJ0ZXhBcnJheU9iamVjdCgpKTtzdGF0ZU1hcFt3aXJlZnJhbWVdPXN0YXRlO31yZXR1cm4gc3RhdGU7fWZ1bmN0aW9uIGNyZWF0ZUJpbmRpbmdTdGF0ZSh2YW8pe3ZhciBuZXdBdHRyaWJ1dGVzPVtdO3ZhciBlbmFibGVkQXR0cmlidXRlcz1bXTt2YXIgYXR0cmlidXRlRGl2aXNvcnM9W107Zm9yKHZhciBfaTcyPTA7X2k3MjxtYXhWZXJ0ZXhBdHRyaWJ1dGVzO19pNzIrKyl7bmV3QXR0cmlidXRlc1tfaTcyXT0wO2VuYWJsZWRBdHRyaWJ1dGVzW19pNzJdPTA7YXR0cmlidXRlRGl2aXNvcnNbX2k3Ml09MDt9cmV0dXJuey8vIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5IG9uIG5vbi1WQU8gc3VwcG9ydCBicm93c2VyCmdlb21ldHJ5Om51bGwscHJvZ3JhbTpudWxsLHdpcmVmcmFtZTpmYWxzZSxuZXdBdHRyaWJ1dGVzOm5ld0F0dHJpYnV0ZXMsZW5hYmxlZEF0dHJpYnV0ZXM6ZW5hYmxlZEF0dHJpYnV0ZXMsYXR0cmlidXRlRGl2aXNvcnM6YXR0cmlidXRlRGl2aXNvcnMsb2JqZWN0OnZhbyxhdHRyaWJ1dGVzOnt9LGluZGV4Om51bGx9O31mdW5jdGlvbiBuZWVkc1VwZGF0ZShnZW9tZXRyeSxpbmRleCl7dmFyIGNhY2hlZEF0dHJpYnV0ZXM9Y3VycmVudFN0YXRlLmF0dHJpYnV0ZXM7dmFyIGdlb21ldHJ5QXR0cmlidXRlcz1nZW9tZXRyeS5hdHRyaWJ1dGVzO3ZhciBhdHRyaWJ1dGVzTnVtPTA7Zm9yKHZhciBrZXkgaW4gZ2VvbWV0cnlBdHRyaWJ1dGVzKXt2YXIgY2FjaGVkQXR0cmlidXRlPWNhY2hlZEF0dHJpYnV0ZXNba2V5XTt2YXIgZ2VvbWV0cnlBdHRyaWJ1dGU9Z2VvbWV0cnlBdHRyaWJ1dGVzW2tleV07aWYoY2FjaGVkQXR0cmlidXRlPT09dW5kZWZpbmVkKXJldHVybiB0cnVlO2lmKGNhY2hlZEF0dHJpYnV0ZS5hdHRyaWJ1dGUhPT1nZW9tZXRyeUF0dHJpYnV0ZSlyZXR1cm4gdHJ1ZTtpZihjYWNoZWRBdHRyaWJ1dGUuZGF0YSE9PWdlb21ldHJ5QXR0cmlidXRlLmRhdGEpcmV0dXJuIHRydWU7YXR0cmlidXRlc051bSsrO31pZihjdXJyZW50U3RhdGUuYXR0cmlidXRlc051bSE9PWF0dHJpYnV0ZXNOdW0pcmV0dXJuIHRydWU7aWYoY3VycmVudFN0YXRlLmluZGV4IT09aW5kZXgpcmV0dXJuIHRydWU7cmV0dXJuIGZhbHNlO31mdW5jdGlvbiBzYXZlQ2FjaGUoZ2VvbWV0cnksaW5kZXgpe3ZhciBjYWNoZT17fTt2YXIgYXR0cmlidXRlcz1nZW9tZXRyeS5hdHRyaWJ1dGVzO3ZhciBhdHRyaWJ1dGVzTnVtPTA7Zm9yKHZhciBrZXkgaW4gYXR0cmlidXRlcyl7dmFyIGF0dHJpYnV0ZT1hdHRyaWJ1dGVzW2tleV07dmFyIGRhdGE9e307ZGF0YS5hdHRyaWJ1dGU9YXR0cmlidXRlO2lmKGF0dHJpYnV0ZS5kYXRhKXtkYXRhLmRhdGE9YXR0cmlidXRlLmRhdGE7fWNhY2hlW2tleV09ZGF0YTthdHRyaWJ1dGVzTnVtKys7fWN1cnJlbnRTdGF0ZS5hdHRyaWJ1dGVzPWNhY2hlO2N1cnJlbnRTdGF0ZS5hdHRyaWJ1dGVzTnVtPWF0dHJpYnV0ZXNOdW07Y3VycmVudFN0YXRlLmluZGV4PWluZGV4O31mdW5jdGlvbiBpbml0QXR0cmlidXRlcygpe3ZhciBuZXdBdHRyaWJ1dGVzPWN1cnJlbnRTdGF0ZS5uZXdBdHRyaWJ1dGVzO2Zvcih2YXIgX2k3Mz0wLGlsPW5ld0F0dHJpYnV0ZXMubGVuZ3RoO19pNzM8aWw7X2k3MysrKXtuZXdBdHRyaWJ1dGVzW19pNzNdPTA7fX1mdW5jdGlvbiBlbmFibGVBdHRyaWJ1dGUoYXR0cmlidXRlKXtlbmFibGVBdHRyaWJ1dGVBbmREaXZpc29yKGF0dHJpYnV0ZSwwKTt9ZnVuY3Rpb24gZW5hYmxlQXR0cmlidXRlQW5kRGl2aXNvcihhdHRyaWJ1dGUsbWVzaFBlckF0dHJpYnV0ZSl7dmFyIG5ld0F0dHJpYnV0ZXM9Y3VycmVudFN0YXRlLm5ld0F0dHJpYnV0ZXM7dmFyIGVuYWJsZWRBdHRyaWJ1dGVzPWN1cnJlbnRTdGF0ZS5lbmFibGVkQXR0cmlidXRlczt2YXIgYXR0cmlidXRlRGl2aXNvcnM9Y3VycmVudFN0YXRlLmF0dHJpYnV0ZURpdmlzb3JzO25ld0F0dHJpYnV0ZXNbYXR0cmlidXRlXT0xO2lmKGVuYWJsZWRBdHRyaWJ1dGVzW2F0dHJpYnV0ZV09PT0wKXtnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShhdHRyaWJ1dGUpO2VuYWJsZWRBdHRyaWJ1dGVzW2F0dHJpYnV0ZV09MTt9aWYoYXR0cmlidXRlRGl2aXNvcnNbYXR0cmlidXRlXSE9PW1lc2hQZXJBdHRyaWJ1dGUpe3ZhciBfZXh0ZW5zaW9uPWNhcGFiaWxpdGllcy5pc1dlYkdMMj9nbDpleHRlbnNpb25zLmdldCgnQU5HTEVfaW5zdGFuY2VkX2FycmF5cycpO19leHRlbnNpb25bY2FwYWJpbGl0aWVzLmlzV2ViR0wyPyd2ZXJ0ZXhBdHRyaWJEaXZpc29yJzondmVydGV4QXR0cmliRGl2aXNvckFOR0xFJ10oYXR0cmlidXRlLG1lc2hQZXJBdHRyaWJ1dGUpO2F0dHJpYnV0ZURpdmlzb3JzW2F0dHJpYnV0ZV09bWVzaFBlckF0dHJpYnV0ZTt9fWZ1bmN0aW9uIGRpc2FibGVVbnVzZWRBdHRyaWJ1dGVzKCl7dmFyIG5ld0F0dHJpYnV0ZXM9Y3VycmVudFN0YXRlLm5ld0F0dHJpYnV0ZXM7dmFyIGVuYWJsZWRBdHRyaWJ1dGVzPWN1cnJlbnRTdGF0ZS5lbmFibGVkQXR0cmlidXRlcztmb3IodmFyIF9pNzQ9MCxpbD1lbmFibGVkQXR0cmlidXRlcy5sZW5ndGg7X2k3NDxpbDtfaTc0Kyspe2lmKGVuYWJsZWRBdHRyaWJ1dGVzW19pNzRdIT09bmV3QXR0cmlidXRlc1tfaTc0XSl7Z2wuZGlzYWJsZVZlcnRleEF0dHJpYkFycmF5KF9pNzQpO2VuYWJsZWRBdHRyaWJ1dGVzW19pNzRdPTA7fX19ZnVuY3Rpb24gdmVydGV4QXR0cmliUG9pbnRlcihpbmRleCxzaXplLHR5cGUsbm9ybWFsaXplZCxzdHJpZGUsb2Zmc2V0KXtpZihjYXBhYmlsaXRpZXMuaXNXZWJHTDI9PT10cnVlJiYodHlwZT09PTUxMjR8fHR5cGU9PT01MTI1KSl7Z2wudmVydGV4QXR0cmliSVBvaW50ZXIoaW5kZXgsc2l6ZSx0eXBlLHN0cmlkZSxvZmZzZXQpO31lbHNle2dsLnZlcnRleEF0dHJpYlBvaW50ZXIoaW5kZXgsc2l6ZSx0eXBlLG5vcm1hbGl6ZWQsc3RyaWRlLG9mZnNldCk7fX1mdW5jdGlvbiBzZXR1cFZlcnRleEF0dHJpYnV0ZXMob2JqZWN0LG1hdGVyaWFsLHByb2dyYW0sZ2VvbWV0cnkpe2lmKGNhcGFiaWxpdGllcy5pc1dlYkdMMj09PWZhbHNlJiYob2JqZWN0LmlzSW5zdGFuY2VkTWVzaHx8Z2VvbWV0cnkuaXNJbnN0YW5jZWRCdWZmZXJHZW9tZXRyeSkpe2lmKGV4dGVuc2lvbnMuZ2V0KCdBTkdMRV9pbnN0YW5jZWRfYXJyYXlzJyk9PT1udWxsKXJldHVybjt9aW5pdEF0dHJpYnV0ZXMoKTt2YXIgZ2VvbWV0cnlBdHRyaWJ1dGVzPWdlb21ldHJ5LmF0dHJpYnV0ZXM7dmFyIHByb2dyYW1BdHRyaWJ1dGVzPXByb2dyYW0uZ2V0QXR0cmlidXRlcygpO3ZhciBtYXRlcmlhbERlZmF1bHRBdHRyaWJ1dGVWYWx1ZXM9bWF0ZXJpYWwuZGVmYXVsdEF0dHJpYnV0ZVZhbHVlcztmb3IodmFyIG5hbWUgaW4gcHJvZ3JhbUF0dHJpYnV0ZXMpe3ZhciBwcm9ncmFtQXR0cmlidXRlPXByb2dyYW1BdHRyaWJ1dGVzW25hbWVdO2lmKHByb2dyYW1BdHRyaWJ1dGUubG9jYXRpb24+PTApe3ZhciBnZW9tZXRyeUF0dHJpYnV0ZT1nZW9tZXRyeUF0dHJpYnV0ZXNbbmFtZV07aWYoZ2VvbWV0cnlBdHRyaWJ1dGU9PT11bmRlZmluZWQpe2lmKG5hbWU9PT0naW5zdGFuY2VNYXRyaXgnJiZvYmplY3QuaW5zdGFuY2VNYXRyaXgpZ2VvbWV0cnlBdHRyaWJ1dGU9b2JqZWN0Lmluc3RhbmNlTWF0cml4O2lmKG5hbWU9PT0naW5zdGFuY2VDb2xvcicmJm9iamVjdC5pbnN0YW5jZUNvbG9yKWdlb21ldHJ5QXR0cmlidXRlPW9iamVjdC5pbnN0YW5jZUNvbG9yO31pZihnZW9tZXRyeUF0dHJpYnV0ZSE9PXVuZGVmaW5lZCl7dmFyIG5vcm1hbGl6ZWQ9Z2VvbWV0cnlBdHRyaWJ1dGUubm9ybWFsaXplZDt2YXIgc2l6ZT1nZW9tZXRyeUF0dHJpYnV0ZS5pdGVtU2l6ZTt2YXIgYXR0cmlidXRlPWF0dHJpYnV0ZXMuZ2V0KGdlb21ldHJ5QXR0cmlidXRlKTsvLyBUT0RPIEF0dHJpYnV0ZSBtYXkgbm90IGJlIGF2YWlsYWJsZSBvbiBjb250ZXh0IHJlc3RvcmUKaWYoYXR0cmlidXRlPT09dW5kZWZpbmVkKWNvbnRpbnVlO3ZhciBidWZmZXI9YXR0cmlidXRlLmJ1ZmZlcjt2YXIgdHlwZT1hdHRyaWJ1dGUudHlwZTt2YXIgYnl0ZXNQZXJFbGVtZW50PWF0dHJpYnV0ZS5ieXRlc1BlckVsZW1lbnQ7aWYoZ2VvbWV0cnlBdHRyaWJ1dGUuaXNJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZSl7dmFyIGRhdGE9Z2VvbWV0cnlBdHRyaWJ1dGUuZGF0YTt2YXIgc3RyaWRlPWRhdGEuc3RyaWRlO3ZhciBvZmZzZXQ9Z2VvbWV0cnlBdHRyaWJ1dGUub2Zmc2V0O2lmKGRhdGEmJmRhdGEuaXNJbnN0YW5jZWRJbnRlcmxlYXZlZEJ1ZmZlcil7Zm9yKHZhciBfaTc1PTA7X2k3NTxwcm9ncmFtQXR0cmlidXRlLmxvY2F0aW9uU2l6ZTtfaTc1Kyspe2VuYWJsZUF0dHJpYnV0ZUFuZERpdmlzb3IocHJvZ3JhbUF0dHJpYnV0ZS5sb2NhdGlvbitfaTc1LGRhdGEubWVzaFBlckF0dHJpYnV0ZSk7fWlmKG9iamVjdC5pc0luc3RhbmNlZE1lc2ghPT10cnVlJiZnZW9tZXRyeS5fbWF4SW5zdGFuY2VDb3VudD09PXVuZGVmaW5lZCl7Z2VvbWV0cnkuX21heEluc3RhbmNlQ291bnQ9ZGF0YS5tZXNoUGVyQXR0cmlidXRlKmRhdGEuY291bnQ7fX1lbHNle2Zvcih2YXIgX2k3Nj0wO19pNzY8cHJvZ3JhbUF0dHJpYnV0ZS5sb2NhdGlvblNpemU7X2k3NisrKXtlbmFibGVBdHRyaWJ1dGUocHJvZ3JhbUF0dHJpYnV0ZS5sb2NhdGlvbitfaTc2KTt9fWdsLmJpbmRCdWZmZXIoMzQ5NjIsYnVmZmVyKTtmb3IodmFyIF9pNzc9MDtfaTc3PHByb2dyYW1BdHRyaWJ1dGUubG9jYXRpb25TaXplO19pNzcrKyl7dmVydGV4QXR0cmliUG9pbnRlcihwcm9ncmFtQXR0cmlidXRlLmxvY2F0aW9uK19pNzcsc2l6ZS9wcm9ncmFtQXR0cmlidXRlLmxvY2F0aW9uU2l6ZSx0eXBlLG5vcm1hbGl6ZWQsc3RyaWRlKmJ5dGVzUGVyRWxlbWVudCwob2Zmc2V0K3NpemUvcHJvZ3JhbUF0dHJpYnV0ZS5sb2NhdGlvblNpemUqX2k3NykqYnl0ZXNQZXJFbGVtZW50KTt9fWVsc2V7aWYoZ2VvbWV0cnlBdHRyaWJ1dGUuaXNJbnN0YW5jZWRCdWZmZXJBdHRyaWJ1dGUpe2Zvcih2YXIgX2k3OD0wO19pNzg8cHJvZ3JhbUF0dHJpYnV0ZS5sb2NhdGlvblNpemU7X2k3OCsrKXtlbmFibGVBdHRyaWJ1dGVBbmREaXZpc29yKHByb2dyYW1BdHRyaWJ1dGUubG9jYXRpb24rX2k3OCxnZW9tZXRyeUF0dHJpYnV0ZS5tZXNoUGVyQXR0cmlidXRlKTt9aWYob2JqZWN0LmlzSW5zdGFuY2VkTWVzaCE9PXRydWUmJmdlb21ldHJ5Ll9tYXhJbnN0YW5jZUNvdW50PT09dW5kZWZpbmVkKXtnZW9tZXRyeS5fbWF4SW5zdGFuY2VDb3VudD1nZW9tZXRyeUF0dHJpYnV0ZS5tZXNoUGVyQXR0cmlidXRlKmdlb21ldHJ5QXR0cmlidXRlLmNvdW50O319ZWxzZXtmb3IodmFyIF9pNzk9MDtfaTc5PHByb2dyYW1BdHRyaWJ1dGUubG9jYXRpb25TaXplO19pNzkrKyl7ZW5hYmxlQXR0cmlidXRlKHByb2dyYW1BdHRyaWJ1dGUubG9jYXRpb24rX2k3OSk7fX1nbC5iaW5kQnVmZmVyKDM0OTYyLGJ1ZmZlcik7Zm9yKHZhciBfaTgwPTA7X2k4MDxwcm9ncmFtQXR0cmlidXRlLmxvY2F0aW9uU2l6ZTtfaTgwKyspe3ZlcnRleEF0dHJpYlBvaW50ZXIocHJvZ3JhbUF0dHJpYnV0ZS5sb2NhdGlvbitfaTgwLHNpemUvcHJvZ3JhbUF0dHJpYnV0ZS5sb2NhdGlvblNpemUsdHlwZSxub3JtYWxpemVkLHNpemUqYnl0ZXNQZXJFbGVtZW50LHNpemUvcHJvZ3JhbUF0dHJpYnV0ZS5sb2NhdGlvblNpemUqX2k4MCpieXRlc1BlckVsZW1lbnQpO319fWVsc2UgaWYobWF0ZXJpYWxEZWZhdWx0QXR0cmlidXRlVmFsdWVzIT09dW5kZWZpbmVkKXt2YXIgX3ZhbHVlMj1tYXRlcmlhbERlZmF1bHRBdHRyaWJ1dGVWYWx1ZXNbbmFtZV07aWYoX3ZhbHVlMiE9PXVuZGVmaW5lZCl7c3dpdGNoKF92YWx1ZTIubGVuZ3RoKXtjYXNlIDI6Z2wudmVydGV4QXR0cmliMmZ2KHByb2dyYW1BdHRyaWJ1dGUubG9jYXRpb24sX3ZhbHVlMik7YnJlYWs7Y2FzZSAzOmdsLnZlcnRleEF0dHJpYjNmdihwcm9ncmFtQXR0cmlidXRlLmxvY2F0aW9uLF92YWx1ZTIpO2JyZWFrO2Nhc2UgNDpnbC52ZXJ0ZXhBdHRyaWI0ZnYocHJvZ3JhbUF0dHJpYnV0ZS5sb2NhdGlvbixfdmFsdWUyKTticmVhaztkZWZhdWx0OmdsLnZlcnRleEF0dHJpYjFmdihwcm9ncmFtQXR0cmlidXRlLmxvY2F0aW9uLF92YWx1ZTIpO319fX19ZGlzYWJsZVVudXNlZEF0dHJpYnV0ZXMoKTt9ZnVuY3Rpb24gZGlzcG9zZSgpe3Jlc2V0KCk7Zm9yKHZhciBnZW9tZXRyeUlkIGluIGJpbmRpbmdTdGF0ZXMpe3ZhciBwcm9ncmFtTWFwPWJpbmRpbmdTdGF0ZXNbZ2VvbWV0cnlJZF07Zm9yKHZhciBwcm9ncmFtSWQgaW4gcHJvZ3JhbU1hcCl7dmFyIHN0YXRlTWFwPXByb2dyYW1NYXBbcHJvZ3JhbUlkXTtmb3IodmFyIHdpcmVmcmFtZSBpbiBzdGF0ZU1hcCl7ZGVsZXRlVmVydGV4QXJyYXlPYmplY3Qoc3RhdGVNYXBbd2lyZWZyYW1lXS5vYmplY3QpO2RlbGV0ZSBzdGF0ZU1hcFt3aXJlZnJhbWVdO31kZWxldGUgcHJvZ3JhbU1hcFtwcm9ncmFtSWRdO31kZWxldGUgYmluZGluZ1N0YXRlc1tnZW9tZXRyeUlkXTt9fWZ1bmN0aW9uIHJlbGVhc2VTdGF0ZXNPZkdlb21ldHJ5KGdlb21ldHJ5KXtpZihiaW5kaW5nU3RhdGVzW2dlb21ldHJ5LmlkXT09PXVuZGVmaW5lZClyZXR1cm47dmFyIHByb2dyYW1NYXA9YmluZGluZ1N0YXRlc1tnZW9tZXRyeS5pZF07Zm9yKHZhciBwcm9ncmFtSWQgaW4gcHJvZ3JhbU1hcCl7dmFyIHN0YXRlTWFwPXByb2dyYW1NYXBbcHJvZ3JhbUlkXTtmb3IodmFyIHdpcmVmcmFtZSBpbiBzdGF0ZU1hcCl7ZGVsZXRlVmVydGV4QXJyYXlPYmplY3Qoc3RhdGVNYXBbd2lyZWZyYW1lXS5vYmplY3QpO2RlbGV0ZSBzdGF0ZU1hcFt3aXJlZnJhbWVdO31kZWxldGUgcHJvZ3JhbU1hcFtwcm9ncmFtSWRdO31kZWxldGUgYmluZGluZ1N0YXRlc1tnZW9tZXRyeS5pZF07fWZ1bmN0aW9uIHJlbGVhc2VTdGF0ZXNPZlByb2dyYW0ocHJvZ3JhbSl7Zm9yKHZhciBnZW9tZXRyeUlkIGluIGJpbmRpbmdTdGF0ZXMpe3ZhciBwcm9ncmFtTWFwPWJpbmRpbmdTdGF0ZXNbZ2VvbWV0cnlJZF07aWYocHJvZ3JhbU1hcFtwcm9ncmFtLmlkXT09PXVuZGVmaW5lZCljb250aW51ZTt2YXIgc3RhdGVNYXA9cHJvZ3JhbU1hcFtwcm9ncmFtLmlkXTtmb3IodmFyIHdpcmVmcmFtZSBpbiBzdGF0ZU1hcCl7ZGVsZXRlVmVydGV4QXJyYXlPYmplY3Qoc3RhdGVNYXBbd2lyZWZyYW1lXS5vYmplY3QpO2RlbGV0ZSBzdGF0ZU1hcFt3aXJlZnJhbWVdO31kZWxldGUgcHJvZ3JhbU1hcFtwcm9ncmFtLmlkXTt9fWZ1bmN0aW9uIHJlc2V0KCl7cmVzZXREZWZhdWx0U3RhdGUoKTtpZihjdXJyZW50U3RhdGU9PT1kZWZhdWx0U3RhdGUpcmV0dXJuO2N1cnJlbnRTdGF0ZT1kZWZhdWx0U3RhdGU7YmluZFZlcnRleEFycmF5T2JqZWN0KGN1cnJlbnRTdGF0ZS5vYmplY3QpO30vLyBmb3IgYmFja3dhcmQtY29tcGF0aWxpYml0eQpmdW5jdGlvbiByZXNldERlZmF1bHRTdGF0ZSgpe2RlZmF1bHRTdGF0ZS5nZW9tZXRyeT1udWxsO2RlZmF1bHRTdGF0ZS5wcm9ncmFtPW51bGw7ZGVmYXVsdFN0YXRlLndpcmVmcmFtZT1mYWxzZTt9cmV0dXJue3NldHVwOnNldHVwLHJlc2V0OnJlc2V0LHJlc2V0RGVmYXVsdFN0YXRlOnJlc2V0RGVmYXVsdFN0YXRlLGRpc3Bvc2U6ZGlzcG9zZSxyZWxlYXNlU3RhdGVzT2ZHZW9tZXRyeTpyZWxlYXNlU3RhdGVzT2ZHZW9tZXRyeSxyZWxlYXNlU3RhdGVzT2ZQcm9ncmFtOnJlbGVhc2VTdGF0ZXNPZlByb2dyYW0saW5pdEF0dHJpYnV0ZXM6aW5pdEF0dHJpYnV0ZXMsZW5hYmxlQXR0cmlidXRlOmVuYWJsZUF0dHJpYnV0ZSxkaXNhYmxlVW51c2VkQXR0cmlidXRlczpkaXNhYmxlVW51c2VkQXR0cmlidXRlc307fWZ1bmN0aW9uIFdlYkdMQnVmZmVyUmVuZGVyZXIoZ2wsZXh0ZW5zaW9ucyxpbmZvLGNhcGFiaWxpdGllcyl7dmFyIGlzV2ViR0wyPWNhcGFiaWxpdGllcy5pc1dlYkdMMjt2YXIgbW9kZTtmdW5jdGlvbiBzZXRNb2RlKHZhbHVlKXttb2RlPXZhbHVlO31mdW5jdGlvbiByZW5kZXIoc3RhcnQsY291bnQpe2dsLmRyYXdBcnJheXMobW9kZSxzdGFydCxjb3VudCk7aW5mby51cGRhdGUoY291bnQsbW9kZSwxKTt9ZnVuY3Rpb24gcmVuZGVySW5zdGFuY2VzKHN0YXJ0LGNvdW50LHByaW1jb3VudCl7aWYocHJpbWNvdW50PT09MClyZXR1cm47dmFyIGV4dGVuc2lvbixtZXRob2ROYW1lO2lmKGlzV2ViR0wyKXtleHRlbnNpb249Z2w7bWV0aG9kTmFtZT0nZHJhd0FycmF5c0luc3RhbmNlZCc7fWVsc2V7ZXh0ZW5zaW9uPWV4dGVuc2lvbnMuZ2V0KCdBTkdMRV9pbnN0YW5jZWRfYXJyYXlzJyk7bWV0aG9kTmFtZT0nZHJhd0FycmF5c0luc3RhbmNlZEFOR0xFJztpZihleHRlbnNpb249PT1udWxsKXtjb25zb2xlLmVycm9yKCdUSFJFRS5XZWJHTEJ1ZmZlclJlbmRlcmVyOiB1c2luZyBUSFJFRS5JbnN0YW5jZWRCdWZmZXJHZW9tZXRyeSBidXQgaGFyZHdhcmUgZG9lcyBub3Qgc3VwcG9ydCBleHRlbnNpb24gQU5HTEVfaW5zdGFuY2VkX2FycmF5cy4nKTtyZXR1cm47fX1leHRlbnNpb25bbWV0aG9kTmFtZV0obW9kZSxzdGFydCxjb3VudCxwcmltY291bnQpO2luZm8udXBkYXRlKGNvdW50LG1vZGUscHJpbWNvdW50KTt9Ly8KdGhpcy5zZXRNb2RlPXNldE1vZGU7dGhpcy5yZW5kZXI9cmVuZGVyO3RoaXMucmVuZGVySW5zdGFuY2VzPXJlbmRlckluc3RhbmNlczt9ZnVuY3Rpb24gV2ViR0xDYXBhYmlsaXRpZXMoZ2wsZXh0ZW5zaW9ucyxwYXJhbWV0ZXJzKXt2YXIgbWF4QW5pc290cm9weTtmdW5jdGlvbiBnZXRNYXhBbmlzb3Ryb3B5KCl7aWYobWF4QW5pc290cm9weSE9PXVuZGVmaW5lZClyZXR1cm4gbWF4QW5pc290cm9weTtpZihleHRlbnNpb25zLmhhcygnRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljJyk9PT10cnVlKXt2YXIgZXh0ZW5zaW9uPWV4dGVuc2lvbnMuZ2V0KCdFWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWMnKTttYXhBbmlzb3Ryb3B5PWdsLmdldFBhcmFtZXRlcihleHRlbnNpb24uTUFYX1RFWFRVUkVfTUFYX0FOSVNPVFJPUFlfRVhUKTt9ZWxzZXttYXhBbmlzb3Ryb3B5PTA7fXJldHVybiBtYXhBbmlzb3Ryb3B5O31mdW5jdGlvbiBnZXRNYXhQcmVjaXNpb24ocHJlY2lzaW9uKXtpZihwcmVjaXNpb249PT0naGlnaHAnKXtpZihnbC5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQoMzU2MzMsMzYzMzgpLnByZWNpc2lvbj4wJiZnbC5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQoMzU2MzIsMzYzMzgpLnByZWNpc2lvbj4wKXtyZXR1cm4naGlnaHAnO31wcmVjaXNpb249J21lZGl1bXAnO31pZihwcmVjaXNpb249PT0nbWVkaXVtcCcpe2lmKGdsLmdldFNoYWRlclByZWNpc2lvbkZvcm1hdCgzNTYzMywzNjMzNykucHJlY2lzaW9uPjAmJmdsLmdldFNoYWRlclByZWNpc2lvbkZvcm1hdCgzNTYzMiwzNjMzNykucHJlY2lzaW9uPjApe3JldHVybidtZWRpdW1wJzt9fXJldHVybidsb3dwJzt9dmFyIGlzV2ViR0wyPXR5cGVvZiBXZWJHTDJSZW5kZXJpbmdDb250ZXh0IT09J3VuZGVmaW5lZCcmJmdsIGluc3RhbmNlb2YgV2ViR0wyUmVuZGVyaW5nQ29udGV4dHx8dHlwZW9mIFdlYkdMMkNvbXB1dGVSZW5kZXJpbmdDb250ZXh0IT09J3VuZGVmaW5lZCcmJmdsIGluc3RhbmNlb2YgV2ViR0wyQ29tcHV0ZVJlbmRlcmluZ0NvbnRleHQ7dmFyIHByZWNpc2lvbj1wYXJhbWV0ZXJzLnByZWNpc2lvbiE9PXVuZGVmaW5lZD9wYXJhbWV0ZXJzLnByZWNpc2lvbjonaGlnaHAnO3ZhciBtYXhQcmVjaXNpb249Z2V0TWF4UHJlY2lzaW9uKHByZWNpc2lvbik7aWYobWF4UHJlY2lzaW9uIT09cHJlY2lzaW9uKXtjb25zb2xlLndhcm4oJ1RIUkVFLldlYkdMUmVuZGVyZXI6JyxwcmVjaXNpb24sJ25vdCBzdXBwb3J0ZWQsIHVzaW5nJyxtYXhQcmVjaXNpb24sJ2luc3RlYWQuJyk7cHJlY2lzaW9uPW1heFByZWNpc2lvbjt9dmFyIGRyYXdCdWZmZXJzPWlzV2ViR0wyfHxleHRlbnNpb25zLmhhcygnV0VCR0xfZHJhd19idWZmZXJzJyk7dmFyIGxvZ2FyaXRobWljRGVwdGhCdWZmZXI9cGFyYW1ldGVycy5sb2dhcml0aG1pY0RlcHRoQnVmZmVyPT09dHJ1ZTt2YXIgbWF4VGV4dHVyZXM9Z2wuZ2V0UGFyYW1ldGVyKDM0OTMwKTt2YXIgbWF4VmVydGV4VGV4dHVyZXM9Z2wuZ2V0UGFyYW1ldGVyKDM1NjYwKTt2YXIgbWF4VGV4dHVyZVNpemU9Z2wuZ2V0UGFyYW1ldGVyKDMzNzkpO3ZhciBtYXhDdWJlbWFwU2l6ZT1nbC5nZXRQYXJhbWV0ZXIoMzQwNzYpO3ZhciBtYXhBdHRyaWJ1dGVzPWdsLmdldFBhcmFtZXRlcigzNDkyMSk7dmFyIG1heFZlcnRleFVuaWZvcm1zPWdsLmdldFBhcmFtZXRlcigzNjM0Nyk7dmFyIG1heFZhcnlpbmdzPWdsLmdldFBhcmFtZXRlcigzNjM0OCk7dmFyIG1heEZyYWdtZW50VW5pZm9ybXM9Z2wuZ2V0UGFyYW1ldGVyKDM2MzQ5KTt2YXIgdmVydGV4VGV4dHVyZXM9bWF4VmVydGV4VGV4dHVyZXM+MDt2YXIgZmxvYXRGcmFnbWVudFRleHR1cmVzPWlzV2ViR0wyfHxleHRlbnNpb25zLmhhcygnT0VTX3RleHR1cmVfZmxvYXQnKTt2YXIgZmxvYXRWZXJ0ZXhUZXh0dXJlcz12ZXJ0ZXhUZXh0dXJlcyYmZmxvYXRGcmFnbWVudFRleHR1cmVzO3ZhciBtYXhTYW1wbGVzPWlzV2ViR0wyP2dsLmdldFBhcmFtZXRlcigzNjE4Myk6MDtyZXR1cm57aXNXZWJHTDI6aXNXZWJHTDIsZHJhd0J1ZmZlcnM6ZHJhd0J1ZmZlcnMsZ2V0TWF4QW5pc290cm9weTpnZXRNYXhBbmlzb3Ryb3B5LGdldE1heFByZWNpc2lvbjpnZXRNYXhQcmVjaXNpb24scHJlY2lzaW9uOnByZWNpc2lvbixsb2dhcml0aG1pY0RlcHRoQnVmZmVyOmxvZ2FyaXRobWljRGVwdGhCdWZmZXIsbWF4VGV4dHVyZXM6bWF4VGV4dHVyZXMsbWF4VmVydGV4VGV4dHVyZXM6bWF4VmVydGV4VGV4dHVyZXMsbWF4VGV4dHVyZVNpemU6bWF4VGV4dHVyZVNpemUsbWF4Q3ViZW1hcFNpemU6bWF4Q3ViZW1hcFNpemUsbWF4QXR0cmlidXRlczptYXhBdHRyaWJ1dGVzLG1heFZlcnRleFVuaWZvcm1zOm1heFZlcnRleFVuaWZvcm1zLG1heFZhcnlpbmdzOm1heFZhcnlpbmdzLG1heEZyYWdtZW50VW5pZm9ybXM6bWF4RnJhZ21lbnRVbmlmb3Jtcyx2ZXJ0ZXhUZXh0dXJlczp2ZXJ0ZXhUZXh0dXJlcyxmbG9hdEZyYWdtZW50VGV4dHVyZXM6ZmxvYXRGcmFnbWVudFRleHR1cmVzLGZsb2F0VmVydGV4VGV4dHVyZXM6ZmxvYXRWZXJ0ZXhUZXh0dXJlcyxtYXhTYW1wbGVzOm1heFNhbXBsZXN9O31mdW5jdGlvbiBXZWJHTENsaXBwaW5nKHByb3BlcnRpZXMpe3ZhciBzY29wZT10aGlzO3ZhciBnbG9iYWxTdGF0ZT1udWxsLG51bUdsb2JhbFBsYW5lcz0wLGxvY2FsQ2xpcHBpbmdFbmFibGVkPWZhbHNlLHJlbmRlcmluZ1NoYWRvd3M9ZmFsc2U7dmFyIHBsYW5lPW5ldyBQbGFuZSgpLHZpZXdOb3JtYWxNYXRyaXg9bmV3IE1hdHJpeDMoKSx1bmlmb3JtPXt2YWx1ZTpudWxsLG5lZWRzVXBkYXRlOmZhbHNlfTt0aGlzLnVuaWZvcm09dW5pZm9ybTt0aGlzLm51bVBsYW5lcz0wO3RoaXMubnVtSW50ZXJzZWN0aW9uPTA7dGhpcy5pbml0PWZ1bmN0aW9uKHBsYW5lcyxlbmFibGVMb2NhbENsaXBwaW5nLGNhbWVyYSl7dmFyIGVuYWJsZWQ9cGxhbmVzLmxlbmd0aCE9PTB8fGVuYWJsZUxvY2FsQ2xpcHBpbmd8fC8vIGVuYWJsZSBzdGF0ZSBvZiBwcmV2aW91cyBmcmFtZSAtIHRoZSBjbGlwcGluZyBjb2RlIGhhcyB0bwovLyBydW4gYW5vdGhlciBmcmFtZSBpbiBvcmRlciB0byByZXNldCB0aGUgc3RhdGU6Cm51bUdsb2JhbFBsYW5lcyE9PTB8fGxvY2FsQ2xpcHBpbmdFbmFibGVkO2xvY2FsQ2xpcHBpbmdFbmFibGVkPWVuYWJsZUxvY2FsQ2xpcHBpbmc7Z2xvYmFsU3RhdGU9cHJvamVjdFBsYW5lcyhwbGFuZXMsY2FtZXJhLDApO251bUdsb2JhbFBsYW5lcz1wbGFuZXMubGVuZ3RoO3JldHVybiBlbmFibGVkO307dGhpcy5iZWdpblNoYWRvd3M9ZnVuY3Rpb24oKXtyZW5kZXJpbmdTaGFkb3dzPXRydWU7cHJvamVjdFBsYW5lcyhudWxsKTt9O3RoaXMuZW5kU2hhZG93cz1mdW5jdGlvbigpe3JlbmRlcmluZ1NoYWRvd3M9ZmFsc2U7cmVzZXRHbG9iYWxTdGF0ZSgpO307dGhpcy5zZXRTdGF0ZT1mdW5jdGlvbihtYXRlcmlhbCxjYW1lcmEsdXNlQ2FjaGUpe3ZhciBwbGFuZXM9bWF0ZXJpYWwuY2xpcHBpbmdQbGFuZXMsY2xpcEludGVyc2VjdGlvbj1tYXRlcmlhbC5jbGlwSW50ZXJzZWN0aW9uLGNsaXBTaGFkb3dzPW1hdGVyaWFsLmNsaXBTaGFkb3dzO3ZhciBtYXRlcmlhbFByb3BlcnRpZXM9cHJvcGVydGllcy5nZXQobWF0ZXJpYWwpO2lmKCFsb2NhbENsaXBwaW5nRW5hYmxlZHx8cGxhbmVzPT09bnVsbHx8cGxhbmVzLmxlbmd0aD09PTB8fHJlbmRlcmluZ1NoYWRvd3MmJiFjbGlwU2hhZG93cyl7Ly8gdGhlcmUncyBubyBsb2NhbCBjbGlwcGluZwppZihyZW5kZXJpbmdTaGFkb3dzKXsvLyB0aGVyZSdzIG5vIGdsb2JhbCBjbGlwcGluZwpwcm9qZWN0UGxhbmVzKG51bGwpO31lbHNle3Jlc2V0R2xvYmFsU3RhdGUoKTt9fWVsc2V7dmFyIG5HbG9iYWw9cmVuZGVyaW5nU2hhZG93cz8wOm51bUdsb2JhbFBsYW5lcyxsR2xvYmFsPW5HbG9iYWwqNDt2YXIgZHN0QXJyYXk9bWF0ZXJpYWxQcm9wZXJ0aWVzLmNsaXBwaW5nU3RhdGV8fG51bGw7dW5pZm9ybS52YWx1ZT1kc3RBcnJheTsvLyBlbnN1cmUgdW5pcXVlIHN0YXRlCmRzdEFycmF5PXByb2plY3RQbGFuZXMocGxhbmVzLGNhbWVyYSxsR2xvYmFsLHVzZUNhY2hlKTtmb3IodmFyIF9pODE9MDtfaTgxIT09bEdsb2JhbDsrK19pODEpe2RzdEFycmF5W19pODFdPWdsb2JhbFN0YXRlW19pODFdO31tYXRlcmlhbFByb3BlcnRpZXMuY2xpcHBpbmdTdGF0ZT1kc3RBcnJheTt0aGlzLm51bUludGVyc2VjdGlvbj1jbGlwSW50ZXJzZWN0aW9uP3RoaXMubnVtUGxhbmVzOjA7dGhpcy5udW1QbGFuZXMrPW5HbG9iYWw7fX07ZnVuY3Rpb24gcmVzZXRHbG9iYWxTdGF0ZSgpe2lmKHVuaWZvcm0udmFsdWUhPT1nbG9iYWxTdGF0ZSl7dW5pZm9ybS52YWx1ZT1nbG9iYWxTdGF0ZTt1bmlmb3JtLm5lZWRzVXBkYXRlPW51bUdsb2JhbFBsYW5lcz4wO31zY29wZS5udW1QbGFuZXM9bnVtR2xvYmFsUGxhbmVzO3Njb3BlLm51bUludGVyc2VjdGlvbj0wO31mdW5jdGlvbiBwcm9qZWN0UGxhbmVzKHBsYW5lcyxjYW1lcmEsZHN0T2Zmc2V0LHNraXBUcmFuc2Zvcm0pe3ZhciBuUGxhbmVzPXBsYW5lcyE9PW51bGw/cGxhbmVzLmxlbmd0aDowO3ZhciBkc3RBcnJheT1udWxsO2lmKG5QbGFuZXMhPT0wKXtkc3RBcnJheT11bmlmb3JtLnZhbHVlO2lmKHNraXBUcmFuc2Zvcm0hPT10cnVlfHxkc3RBcnJheT09PW51bGwpe3ZhciBmbGF0U2l6ZT1kc3RPZmZzZXQrblBsYW5lcyo0LHZpZXdNYXRyaXg9Y2FtZXJhLm1hdHJpeFdvcmxkSW52ZXJzZTt2aWV3Tm9ybWFsTWF0cml4LmdldE5vcm1hbE1hdHJpeCh2aWV3TWF0cml4KTtpZihkc3RBcnJheT09PW51bGx8fGRzdEFycmF5Lmxlbmd0aDxmbGF0U2l6ZSl7ZHN0QXJyYXk9bmV3IEZsb2F0MzJBcnJheShmbGF0U2l6ZSk7fWZvcih2YXIgX2k4Mj0wLGk0PWRzdE9mZnNldDtfaTgyIT09blBsYW5lczsrK19pODIsaTQrPTQpe3BsYW5lLmNvcHkocGxhbmVzW19pODJdKS5hcHBseU1hdHJpeDQodmlld01hdHJpeCx2aWV3Tm9ybWFsTWF0cml4KTtwbGFuZS5ub3JtYWwudG9BcnJheShkc3RBcnJheSxpNCk7ZHN0QXJyYXlbaTQrM109cGxhbmUuY29uc3RhbnQ7fX11bmlmb3JtLnZhbHVlPWRzdEFycmF5O3VuaWZvcm0ubmVlZHNVcGRhdGU9dHJ1ZTt9c2NvcGUubnVtUGxhbmVzPW5QbGFuZXM7c2NvcGUubnVtSW50ZXJzZWN0aW9uPTA7cmV0dXJuIGRzdEFycmF5O319ZnVuY3Rpb24gV2ViR0xDdWJlTWFwcyhyZW5kZXJlcil7dmFyIGN1YmVtYXBzPW5ldyBXZWFrTWFwKCk7ZnVuY3Rpb24gbWFwVGV4dHVyZU1hcHBpbmcodGV4dHVyZSxtYXBwaW5nKXtpZihtYXBwaW5nPT09RXF1aXJlY3Rhbmd1bGFyUmVmbGVjdGlvbk1hcHBpbmcpe3RleHR1cmUubWFwcGluZz1DdWJlUmVmbGVjdGlvbk1hcHBpbmc7fWVsc2UgaWYobWFwcGluZz09PUVxdWlyZWN0YW5ndWxhclJlZnJhY3Rpb25NYXBwaW5nKXt0ZXh0dXJlLm1hcHBpbmc9Q3ViZVJlZnJhY3Rpb25NYXBwaW5nO31yZXR1cm4gdGV4dHVyZTt9ZnVuY3Rpb24gZ2V0KHRleHR1cmUpe2lmKHRleHR1cmUmJnRleHR1cmUuaXNUZXh0dXJlJiZ0ZXh0dXJlLmlzUmVuZGVyVGFyZ2V0VGV4dHVyZT09PWZhbHNlKXt2YXIgbWFwcGluZz10ZXh0dXJlLm1hcHBpbmc7aWYobWFwcGluZz09PUVxdWlyZWN0YW5ndWxhclJlZmxlY3Rpb25NYXBwaW5nfHxtYXBwaW5nPT09RXF1aXJlY3Rhbmd1bGFyUmVmcmFjdGlvbk1hcHBpbmcpe2lmKGN1YmVtYXBzLmhhcyh0ZXh0dXJlKSl7dmFyIGN1YmVtYXA9Y3ViZW1hcHMuZ2V0KHRleHR1cmUpLnRleHR1cmU7cmV0dXJuIG1hcFRleHR1cmVNYXBwaW5nKGN1YmVtYXAsdGV4dHVyZS5tYXBwaW5nKTt9ZWxzZXt2YXIgaW1hZ2U9dGV4dHVyZS5pbWFnZTtpZihpbWFnZSYmaW1hZ2UuaGVpZ2h0PjApe3ZhciByZW5kZXJUYXJnZXQ9bmV3IFdlYkdMQ3ViZVJlbmRlclRhcmdldChpbWFnZS5oZWlnaHQvMik7cmVuZGVyVGFyZ2V0LmZyb21FcXVpcmVjdGFuZ3VsYXJUZXh0dXJlKHJlbmRlcmVyLHRleHR1cmUpO2N1YmVtYXBzLnNldCh0ZXh0dXJlLHJlbmRlclRhcmdldCk7dGV4dHVyZS5hZGRFdmVudExpc3RlbmVyKCdkaXNwb3NlJyxvblRleHR1cmVEaXNwb3NlKTtyZXR1cm4gbWFwVGV4dHVyZU1hcHBpbmcocmVuZGVyVGFyZ2V0LnRleHR1cmUsdGV4dHVyZS5tYXBwaW5nKTt9ZWxzZXsvLyBpbWFnZSBub3QgeWV0IHJlYWR5LiB0cnkgdGhlIGNvbnZlcnNpb24gbmV4dCBmcmFtZQpyZXR1cm4gbnVsbDt9fX19cmV0dXJuIHRleHR1cmU7fWZ1bmN0aW9uIG9uVGV4dHVyZURpc3Bvc2UoZXZlbnQpe3ZhciB0ZXh0dXJlPWV2ZW50LnRhcmdldDt0ZXh0dXJlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Rpc3Bvc2UnLG9uVGV4dHVyZURpc3Bvc2UpO3ZhciBjdWJlbWFwPWN1YmVtYXBzLmdldCh0ZXh0dXJlKTtpZihjdWJlbWFwIT09dW5kZWZpbmVkKXtjdWJlbWFwcy5kZWxldGUodGV4dHVyZSk7Y3ViZW1hcC5kaXNwb3NlKCk7fX1mdW5jdGlvbiBkaXNwb3NlKCl7Y3ViZW1hcHM9bmV3IFdlYWtNYXAoKTt9cmV0dXJue2dldDpnZXQsZGlzcG9zZTpkaXNwb3NlfTt9dmFyIE9ydGhvZ3JhcGhpY0NhbWVyYT0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX0NhbWVyYTIpe19pbmhlcml0cyhPcnRob2dyYXBoaWNDYW1lcmEsX0NhbWVyYTIpO3ZhciBfc3VwZXIyOD1fY3JlYXRlU3VwZXIoT3J0aG9ncmFwaGljQ2FtZXJhKTtmdW5jdGlvbiBPcnRob2dyYXBoaWNDYW1lcmEoKXt2YXIgX3RoaXMxOTt2YXIgbGVmdD1hcmd1bWVudHMubGVuZ3RoPjAmJmFyZ3VtZW50c1swXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMF06LTE7dmFyIHJpZ2h0PWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1sxXToxO3ZhciB0b3A9YXJndW1lbnRzLmxlbmd0aD4yJiZhcmd1bWVudHNbMl0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzJdOjE7dmFyIGJvdHRvbT1hcmd1bWVudHMubGVuZ3RoPjMmJmFyZ3VtZW50c1szXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbM106LTE7dmFyIG5lYXI9YXJndW1lbnRzLmxlbmd0aD40JiZhcmd1bWVudHNbNF0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzRdOjAuMTt2YXIgZmFyPWFyZ3VtZW50cy5sZW5ndGg+NSYmYXJndW1lbnRzWzVdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1s1XToyMDAwO19jbGFzc0NhbGxDaGVjayh0aGlzLE9ydGhvZ3JhcGhpY0NhbWVyYSk7X3RoaXMxOT1fc3VwZXIyOC5jYWxsKHRoaXMpO190aGlzMTkudHlwZT0nT3J0aG9ncmFwaGljQ2FtZXJhJztfdGhpczE5Lnpvb209MTtfdGhpczE5LnZpZXc9bnVsbDtfdGhpczE5LmxlZnQ9bGVmdDtfdGhpczE5LnJpZ2h0PXJpZ2h0O190aGlzMTkudG9wPXRvcDtfdGhpczE5LmJvdHRvbT1ib3R0b207X3RoaXMxOS5uZWFyPW5lYXI7X3RoaXMxOS5mYXI9ZmFyO190aGlzMTkudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO3JldHVybiBfdGhpczE5O31fY3JlYXRlQ2xhc3MoT3J0aG9ncmFwaGljQ2FtZXJhLFt7a2V5OiJjb3B5Iix2YWx1ZTpmdW5jdGlvbiBjb3B5KHNvdXJjZSxyZWN1cnNpdmUpe19nZXQoX2dldFByb3RvdHlwZU9mKE9ydGhvZ3JhcGhpY0NhbWVyYS5wcm90b3R5cGUpLCJjb3B5Iix0aGlzKS5jYWxsKHRoaXMsc291cmNlLHJlY3Vyc2l2ZSk7dGhpcy5sZWZ0PXNvdXJjZS5sZWZ0O3RoaXMucmlnaHQ9c291cmNlLnJpZ2h0O3RoaXMudG9wPXNvdXJjZS50b3A7dGhpcy5ib3R0b209c291cmNlLmJvdHRvbTt0aGlzLm5lYXI9c291cmNlLm5lYXI7dGhpcy5mYXI9c291cmNlLmZhcjt0aGlzLnpvb209c291cmNlLnpvb207dGhpcy52aWV3PXNvdXJjZS52aWV3PT09bnVsbD9udWxsOk9iamVjdC5hc3NpZ24oe30sc291cmNlLnZpZXcpO3JldHVybiB0aGlzO319LHtrZXk6InNldFZpZXdPZmZzZXQiLHZhbHVlOmZ1bmN0aW9uIHNldFZpZXdPZmZzZXQoZnVsbFdpZHRoLGZ1bGxIZWlnaHQseCx5LHdpZHRoLGhlaWdodCl7aWYodGhpcy52aWV3PT09bnVsbCl7dGhpcy52aWV3PXtlbmFibGVkOnRydWUsZnVsbFdpZHRoOjEsZnVsbEhlaWdodDoxLG9mZnNldFg6MCxvZmZzZXRZOjAsd2lkdGg6MSxoZWlnaHQ6MX07fXRoaXMudmlldy5lbmFibGVkPXRydWU7dGhpcy52aWV3LmZ1bGxXaWR0aD1mdWxsV2lkdGg7dGhpcy52aWV3LmZ1bGxIZWlnaHQ9ZnVsbEhlaWdodDt0aGlzLnZpZXcub2Zmc2V0WD14O3RoaXMudmlldy5vZmZzZXRZPXk7dGhpcy52aWV3LndpZHRoPXdpZHRoO3RoaXMudmlldy5oZWlnaHQ9aGVpZ2h0O3RoaXMudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO319LHtrZXk6ImNsZWFyVmlld09mZnNldCIsdmFsdWU6ZnVuY3Rpb24gY2xlYXJWaWV3T2Zmc2V0KCl7aWYodGhpcy52aWV3IT09bnVsbCl7dGhpcy52aWV3LmVuYWJsZWQ9ZmFsc2U7fXRoaXMudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO319LHtrZXk6InVwZGF0ZVByb2plY3Rpb25NYXRyaXgiLHZhbHVlOmZ1bmN0aW9uIHVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKXt2YXIgZHg9KHRoaXMucmlnaHQtdGhpcy5sZWZ0KS8oMip0aGlzLnpvb20pO3ZhciBkeT0odGhpcy50b3AtdGhpcy5ib3R0b20pLygyKnRoaXMuem9vbSk7dmFyIGN4PSh0aGlzLnJpZ2h0K3RoaXMubGVmdCkvMjt2YXIgY3k9KHRoaXMudG9wK3RoaXMuYm90dG9tKS8yO3ZhciBsZWZ0PWN4LWR4O3ZhciByaWdodD1jeCtkeDt2YXIgdG9wPWN5K2R5O3ZhciBib3R0b209Y3ktZHk7aWYodGhpcy52aWV3IT09bnVsbCYmdGhpcy52aWV3LmVuYWJsZWQpe3ZhciBzY2FsZVc9KHRoaXMucmlnaHQtdGhpcy5sZWZ0KS90aGlzLnZpZXcuZnVsbFdpZHRoL3RoaXMuem9vbTt2YXIgc2NhbGVIPSh0aGlzLnRvcC10aGlzLmJvdHRvbSkvdGhpcy52aWV3LmZ1bGxIZWlnaHQvdGhpcy56b29tO2xlZnQrPXNjYWxlVyp0aGlzLnZpZXcub2Zmc2V0WDtyaWdodD1sZWZ0K3NjYWxlVyp0aGlzLnZpZXcud2lkdGg7dG9wLT1zY2FsZUgqdGhpcy52aWV3Lm9mZnNldFk7Ym90dG9tPXRvcC1zY2FsZUgqdGhpcy52aWV3LmhlaWdodDt9dGhpcy5wcm9qZWN0aW9uTWF0cml4Lm1ha2VPcnRob2dyYXBoaWMobGVmdCxyaWdodCx0b3AsYm90dG9tLHRoaXMubmVhcix0aGlzLmZhcik7dGhpcy5wcm9qZWN0aW9uTWF0cml4SW52ZXJzZS5jb3B5KHRoaXMucHJvamVjdGlvbk1hdHJpeCkuaW52ZXJ0KCk7fX0se2tleToidG9KU09OIix2YWx1ZTpmdW5jdGlvbiB0b0pTT04obWV0YSl7dmFyIGRhdGE9X2dldChfZ2V0UHJvdG90eXBlT2YoT3J0aG9ncmFwaGljQ2FtZXJhLnByb3RvdHlwZSksInRvSlNPTiIsdGhpcykuY2FsbCh0aGlzLG1ldGEpO2RhdGEub2JqZWN0Lnpvb209dGhpcy56b29tO2RhdGEub2JqZWN0LmxlZnQ9dGhpcy5sZWZ0O2RhdGEub2JqZWN0LnJpZ2h0PXRoaXMucmlnaHQ7ZGF0YS5vYmplY3QudG9wPXRoaXMudG9wO2RhdGEub2JqZWN0LmJvdHRvbT10aGlzLmJvdHRvbTtkYXRhLm9iamVjdC5uZWFyPXRoaXMubmVhcjtkYXRhLm9iamVjdC5mYXI9dGhpcy5mYXI7aWYodGhpcy52aWV3IT09bnVsbClkYXRhLm9iamVjdC52aWV3PU9iamVjdC5hc3NpZ24oe30sdGhpcy52aWV3KTtyZXR1cm4gZGF0YTt9fV0pO3JldHVybiBPcnRob2dyYXBoaWNDYW1lcmE7fShDYW1lcmEpO09ydGhvZ3JhcGhpY0NhbWVyYS5wcm90b3R5cGUuaXNPcnRob2dyYXBoaWNDYW1lcmE9dHJ1ZTt2YXIgUmF3U2hhZGVyTWF0ZXJpYWw9LyojX19QVVJFX18qL2Z1bmN0aW9uKF9TaGFkZXJNYXRlcmlhbCl7X2luaGVyaXRzKFJhd1NoYWRlck1hdGVyaWFsLF9TaGFkZXJNYXRlcmlhbCk7dmFyIF9zdXBlcjI5PV9jcmVhdGVTdXBlcihSYXdTaGFkZXJNYXRlcmlhbCk7ZnVuY3Rpb24gUmF3U2hhZGVyTWF0ZXJpYWwocGFyYW1ldGVycyl7dmFyIF90aGlzMjA7X2NsYXNzQ2FsbENoZWNrKHRoaXMsUmF3U2hhZGVyTWF0ZXJpYWwpO190aGlzMjA9X3N1cGVyMjkuY2FsbCh0aGlzLHBhcmFtZXRlcnMpO190aGlzMjAudHlwZT0nUmF3U2hhZGVyTWF0ZXJpYWwnO3JldHVybiBfdGhpczIwO31yZXR1cm4gX2NyZWF0ZUNsYXNzKFJhd1NoYWRlck1hdGVyaWFsKTt9KFNoYWRlck1hdGVyaWFsKTtSYXdTaGFkZXJNYXRlcmlhbC5wcm90b3R5cGUuaXNSYXdTaGFkZXJNYXRlcmlhbD10cnVlO3ZhciBMT0RfTUlOPTQ7dmFyIExPRF9NQVg9ODt2YXIgU0laRV9NQVg9TWF0aC5wb3coMixMT0RfTUFYKTsvLyBUaGUgc3RhbmRhcmQgZGV2aWF0aW9ucyAocmFkaWFucykgYXNzb2NpYXRlZCB3aXRoIHRoZSBleHRyYSBtaXBzLiBUaGVzZSBhcmUKLy8gY2hvc2VuIHRvIGFwcHJveGltYXRlIGEgVHJvd2JyaWRnZS1SZWl0eiBkaXN0cmlidXRpb24gZnVuY3Rpb24gdGltZXMgdGhlCi8vIGdlb21ldHJpYyBzaGFkb3dpbmcgZnVuY3Rpb24uIFRoZXNlIHNpZ21hIHZhbHVlcyBzcXVhcmVkIG11c3QgbWF0Y2ggdGhlCi8vIHZhcmlhbmNlICNkZWZpbmVzIGluIGN1YmVfdXZfcmVmbGVjdGlvbl9mcmFnbWVudC5nbHNsLmpzLgp2YXIgRVhUUkFfTE9EX1NJR01BPVswLjEyNSwwLjIxNSwwLjM1LDAuNDQ2LDAuNTI2LDAuNTgyXTt2YXIgVE9UQUxfTE9EUz1MT0RfTUFYLUxPRF9NSU4rMStFWFRSQV9MT0RfU0lHTUEubGVuZ3RoOy8vIFRoZSBtYXhpbXVtIGxlbmd0aCBvZiB0aGUgYmx1ciBmb3IgbG9vcC4gU21hbGxlciBzaWdtYXMgd2lsbCB1c2UgZmV3ZXIKLy8gc2FtcGxlcyBhbmQgZXhpdCBlYXJseSwgYnV0IG5vdCByZWNvbXBpbGUgdGhlIHNoYWRlci4KdmFyIE1BWF9TQU1QTEVTPTIwO3ZhciBfZmxhdENhbWVyYT0vKkBfX1BVUkVfXyovbmV3IE9ydGhvZ3JhcGhpY0NhbWVyYSgpO3ZhciBfY3JlYXRlUGxhbmVzMj0vKkBfX1BVUkVfXyovX2NyZWF0ZVBsYW5lcygpLF9sb2RQbGFuZXM9X2NyZWF0ZVBsYW5lczIuX2xvZFBsYW5lcyxfc2l6ZUxvZHM9X2NyZWF0ZVBsYW5lczIuX3NpemVMb2RzLF9zaWdtYXM9X2NyZWF0ZVBsYW5lczIuX3NpZ21hczt2YXIgX2NsZWFyQ29sb3I9LypAX19QVVJFX18qL25ldyBDb2xvcigpO3ZhciBfb2xkVGFyZ2V0PW51bGw7Ly8gR29sZGVuIFJhdGlvCnZhciBQSEk9KDErTWF0aC5zcXJ0KDUpKS8yO3ZhciBJTlZfUEhJPTEvUEhJOy8vIFZlcnRpY2VzIG9mIGEgZG9kZWNhaGVkcm9uIChleGNlcHQgdGhlIG9wcG9zaXRlcywgd2hpY2ggcmVwcmVzZW50IHRoZQovLyBzYW1lIGF4aXMpLCB1c2VkIGFzIGF4aXMgZGlyZWN0aW9ucyBldmVubHkgc3ByZWFkIG9uIGEgc3BoZXJlLgp2YXIgX2F4aXNEaXJlY3Rpb25zPVsvKkBfX1BVUkVfXyovbmV3IFZlY3RvcjMoMSwxLDEpLC8qQF9fUFVSRV9fKi9uZXcgVmVjdG9yMygtMSwxLDEpLC8qQF9fUFVSRV9fKi9uZXcgVmVjdG9yMygxLDEsLTEpLC8qQF9fUFVSRV9fKi9uZXcgVmVjdG9yMygtMSwxLC0xKSwvKkBfX1BVUkVfXyovbmV3IFZlY3RvcjMoMCxQSEksSU5WX1BISSksLypAX19QVVJFX18qL25ldyBWZWN0b3IzKDAsUEhJLC1JTlZfUEhJKSwvKkBfX1BVUkVfXyovbmV3IFZlY3RvcjMoSU5WX1BISSwwLFBISSksLypAX19QVVJFX18qL25ldyBWZWN0b3IzKC1JTlZfUEhJLDAsUEhJKSwvKkBfX1BVUkVfXyovbmV3IFZlY3RvcjMoUEhJLElOVl9QSEksMCksLypAX19QVVJFX18qL25ldyBWZWN0b3IzKC1QSEksSU5WX1BISSwwKV07LyoqCiAqIFRoaXMgY2xhc3MgZ2VuZXJhdGVzIGEgUHJlZmlsdGVyZWQsIE1pcG1hcHBlZCBSYWRpYW5jZSBFbnZpcm9ubWVudCBNYXAKICogKFBNUkVNKSBmcm9tIGEgY3ViZU1hcCBlbnZpcm9ubWVudCB0ZXh0dXJlLiBUaGlzIGFsbG93cyBkaWZmZXJlbnQgbGV2ZWxzIG9mCiAqIGJsdXIgdG8gYmUgcXVpY2tseSBhY2Nlc3NlZCBiYXNlZCBvbiBtYXRlcmlhbCByb3VnaG5lc3MuIEl0IGlzIHBhY2tlZCBpbnRvIGEKICogc3BlY2lhbCBDdWJlVVYgZm9ybWF0IHRoYXQgYWxsb3dzIHVzIHRvIHBlcmZvcm0gY3VzdG9tIGludGVycG9sYXRpb24gc28gdGhhdAogKiB3ZSBjYW4gc3VwcG9ydCBub25saW5lYXIgZm9ybWF0cyBzdWNoIGFzIFJHQkUuIFVubGlrZSBhIHRyYWRpdGlvbmFsIG1pcG1hcAogKiBjaGFpbiwgaXQgb25seSBnb2VzIGRvd24gdG8gdGhlIExPRF9NSU4gbGV2ZWwgKGFib3ZlKSwgYW5kIHRoZW4gY3JlYXRlcyBleHRyYQogKiBldmVuIG1vcmUgZmlsdGVyZWQgJ21pcHMnIGF0IHRoZSBzYW1lIExPRF9NSU4gcmVzb2x1dGlvbiwgYXNzb2NpYXRlZCB3aXRoCiAqIGhpZ2hlciByb3VnaG5lc3MgbGV2ZWxzLiBJbiB0aGlzIHdheSB3ZSBtYWludGFpbiByZXNvbHV0aW9uIHRvIHNtb290aGx5CiAqIGludGVycG9sYXRlIGRpZmZ1c2UgbGlnaHRpbmcgd2hpbGUgbGltaXRpbmcgc2FtcGxpbmcgY29tcHV0YXRpb24uCiAqCiAqIFBhcGVyOiBGYXN0LCBBY2N1cmF0ZSBJbWFnZS1CYXNlZCBMaWdodGluZwogKiBodHRwczovL2RyaXZlLmdvb2dsZS5jb20vZmlsZS9kLzE1eThyX1VwS2xVOVN2VjRJTGIwQzNxQ1BlY1M4cHZMei92aWV3CiovdmFyIFBNUkVNR2VuZXJhdG9yPS8qI19fUFVSRV9fKi9mdW5jdGlvbigpe2Z1bmN0aW9uIFBNUkVNR2VuZXJhdG9yKHJlbmRlcmVyKXtfY2xhc3NDYWxsQ2hlY2sodGhpcyxQTVJFTUdlbmVyYXRvcik7dGhpcy5fcmVuZGVyZXI9cmVuZGVyZXI7dGhpcy5fcGluZ1BvbmdSZW5kZXJUYXJnZXQ9bnVsbDt0aGlzLl9ibHVyTWF0ZXJpYWw9X2dldEJsdXJTaGFkZXIoTUFYX1NBTVBMRVMpO3RoaXMuX2VxdWlyZWN0U2hhZGVyPW51bGw7dGhpcy5fY3ViZW1hcFNoYWRlcj1udWxsO3RoaXMuX2NvbXBpbGVNYXRlcmlhbCh0aGlzLl9ibHVyTWF0ZXJpYWwpO30vKioKCSAqIEdlbmVyYXRlcyBhIFBNUkVNIGZyb20gYSBzdXBwbGllZCBTY2VuZSwgd2hpY2ggY2FuIGJlIGZhc3RlciB0aGFuIHVzaW5nIGFuCgkgKiBpbWFnZSBpZiBuZXR3b3JraW5nIGJhbmR3aWR0aCBpcyBsb3cuIE9wdGlvbmFsIHNpZ21hIHNwZWNpZmllcyBhIGJsdXIgcmFkaXVzCgkgKiBpbiByYWRpYW5zIHRvIGJlIGFwcGxpZWQgdG8gdGhlIHNjZW5lIGJlZm9yZSBQTVJFTSBnZW5lcmF0aW9uLiBPcHRpb25hbCBuZWFyCgkgKiBhbmQgZmFyIHBsYW5lcyBlbnN1cmUgdGhlIHNjZW5lIGlzIHJlbmRlcmVkIGluIGl0cyBlbnRpcmV0eSAodGhlIGN1YmVDYW1lcmEKCSAqIGlzIHBsYWNlZCBhdCB0aGUgb3JpZ2luKS4KCSAqL19jcmVhdGVDbGFzcyhQTVJFTUdlbmVyYXRvcixbe2tleToiZnJvbVNjZW5lIix2YWx1ZTpmdW5jdGlvbiBmcm9tU2NlbmUoc2NlbmUpe3ZhciBzaWdtYT1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMV06MDt2YXIgbmVhcj1hcmd1bWVudHMubGVuZ3RoPjImJmFyZ3VtZW50c1syXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMl06MC4xO3ZhciBmYXI9YXJndW1lbnRzLmxlbmd0aD4zJiZhcmd1bWVudHNbM10hPT11bmRlZmluZWQ/YXJndW1lbnRzWzNdOjEwMDtfb2xkVGFyZ2V0PXRoaXMuX3JlbmRlcmVyLmdldFJlbmRlclRhcmdldCgpO3ZhciBjdWJlVVZSZW5kZXJUYXJnZXQ9dGhpcy5fYWxsb2NhdGVUYXJnZXRzKCk7dGhpcy5fc2NlbmVUb0N1YmVVVihzY2VuZSxuZWFyLGZhcixjdWJlVVZSZW5kZXJUYXJnZXQpO2lmKHNpZ21hPjApe3RoaXMuX2JsdXIoY3ViZVVWUmVuZGVyVGFyZ2V0LDAsMCxzaWdtYSk7fXRoaXMuX2FwcGx5UE1SRU0oY3ViZVVWUmVuZGVyVGFyZ2V0KTt0aGlzLl9jbGVhbnVwKGN1YmVVVlJlbmRlclRhcmdldCk7cmV0dXJuIGN1YmVVVlJlbmRlclRhcmdldDt9LyoqCgkgKiBHZW5lcmF0ZXMgYSBQTVJFTSBmcm9tIGFuIGVxdWlyZWN0YW5ndWxhciB0ZXh0dXJlLCB3aGljaCBjYW4gYmUgZWl0aGVyIExEUgoJICogb3IgSERSLiBUaGUgaWRlYWwgaW5wdXQgaW1hZ2Ugc2l6ZSBpcyAxayAoMTAyNCB4IDUxMiksCgkgKiBhcyB0aGlzIG1hdGNoZXMgYmVzdCB3aXRoIHRoZSAyNTYgeCAyNTYgY3ViZW1hcCBvdXRwdXQuCgkgKi99LHtrZXk6ImZyb21FcXVpcmVjdGFuZ3VsYXIiLHZhbHVlOmZ1bmN0aW9uIGZyb21FcXVpcmVjdGFuZ3VsYXIoZXF1aXJlY3Rhbmd1bGFyKXt2YXIgcmVuZGVyVGFyZ2V0PWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1sxXTpudWxsO3JldHVybiB0aGlzLl9mcm9tVGV4dHVyZShlcXVpcmVjdGFuZ3VsYXIscmVuZGVyVGFyZ2V0KTt9LyoqCgkgKiBHZW5lcmF0ZXMgYSBQTVJFTSBmcm9tIGFuIGN1YmVtYXAgdGV4dHVyZSwgd2hpY2ggY2FuIGJlIGVpdGhlciBMRFIKCSAqIG9yIEhEUi4gVGhlIGlkZWFsIGlucHV0IGN1YmUgc2l6ZSBpcyAyNTYgeCAyNTYsCgkgKiBhcyB0aGlzIG1hdGNoZXMgYmVzdCB3aXRoIHRoZSAyNTYgeCAyNTYgY3ViZW1hcCBvdXRwdXQuCgkgKi99LHtrZXk6ImZyb21DdWJlbWFwIix2YWx1ZTpmdW5jdGlvbiBmcm9tQ3ViZW1hcChjdWJlbWFwKXt2YXIgcmVuZGVyVGFyZ2V0PWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1sxXTpudWxsO3JldHVybiB0aGlzLl9mcm9tVGV4dHVyZShjdWJlbWFwLHJlbmRlclRhcmdldCk7fS8qKgoJICogUHJlLWNvbXBpbGVzIHRoZSBjdWJlbWFwIHNoYWRlci4gWW91IGNhbiBnZXQgZmFzdGVyIHN0YXJ0LXVwIGJ5IGludm9raW5nIHRoaXMgbWV0aG9kIGR1cmluZwoJICogeW91ciB0ZXh0dXJlJ3MgbmV0d29yayBmZXRjaCBmb3IgaW5jcmVhc2VkIGNvbmN1cnJlbmN5LgoJICovfSx7a2V5OiJjb21waWxlQ3ViZW1hcFNoYWRlciIsdmFsdWU6ZnVuY3Rpb24gY29tcGlsZUN1YmVtYXBTaGFkZXIoKXtpZih0aGlzLl9jdWJlbWFwU2hhZGVyPT09bnVsbCl7dGhpcy5fY3ViZW1hcFNoYWRlcj1fZ2V0Q3ViZW1hcFNoYWRlcigpO3RoaXMuX2NvbXBpbGVNYXRlcmlhbCh0aGlzLl9jdWJlbWFwU2hhZGVyKTt9fS8qKgoJICogUHJlLWNvbXBpbGVzIHRoZSBlcXVpcmVjdGFuZ3VsYXIgc2hhZGVyLiBZb3UgY2FuIGdldCBmYXN0ZXIgc3RhcnQtdXAgYnkgaW52b2tpbmcgdGhpcyBtZXRob2QgZHVyaW5nCgkgKiB5b3VyIHRleHR1cmUncyBuZXR3b3JrIGZldGNoIGZvciBpbmNyZWFzZWQgY29uY3VycmVuY3kuCgkgKi99LHtrZXk6ImNvbXBpbGVFcXVpcmVjdGFuZ3VsYXJTaGFkZXIiLHZhbHVlOmZ1bmN0aW9uIGNvbXBpbGVFcXVpcmVjdGFuZ3VsYXJTaGFkZXIoKXtpZih0aGlzLl9lcXVpcmVjdFNoYWRlcj09PW51bGwpe3RoaXMuX2VxdWlyZWN0U2hhZGVyPV9nZXRFcXVpcmVjdFNoYWRlcigpO3RoaXMuX2NvbXBpbGVNYXRlcmlhbCh0aGlzLl9lcXVpcmVjdFNoYWRlcik7fX0vKioKCSAqIERpc3Bvc2VzIG9mIHRoZSBQTVJFTUdlbmVyYXRvcidzIGludGVybmFsIG1lbW9yeS4gTm90ZSB0aGF0IFBNUkVNR2VuZXJhdG9yIGlzIGEgc3RhdGljIGNsYXNzLAoJICogc28geW91IHNob3VsZCBub3QgbmVlZCBtb3JlIHRoYW4gb25lIFBNUkVNR2VuZXJhdG9yIG9iamVjdC4gSWYgeW91IGRvLCBjYWxsaW5nIGRpc3Bvc2UoKSBvbgoJICogb25lIG9mIHRoZW0gd2lsbCBjYXVzZSBhbnkgb3RoZXJzIHRvIGFsc28gYmVjb21lIHVudXNhYmxlLgoJICovfSx7a2V5OiJkaXNwb3NlIix2YWx1ZTpmdW5jdGlvbiBkaXNwb3NlKCl7dGhpcy5fYmx1ck1hdGVyaWFsLmRpc3Bvc2UoKTtpZih0aGlzLl9waW5nUG9uZ1JlbmRlclRhcmdldCE9PW51bGwpdGhpcy5fcGluZ1BvbmdSZW5kZXJUYXJnZXQuZGlzcG9zZSgpO2lmKHRoaXMuX2N1YmVtYXBTaGFkZXIhPT1udWxsKXRoaXMuX2N1YmVtYXBTaGFkZXIuZGlzcG9zZSgpO2lmKHRoaXMuX2VxdWlyZWN0U2hhZGVyIT09bnVsbCl0aGlzLl9lcXVpcmVjdFNoYWRlci5kaXNwb3NlKCk7Zm9yKHZhciBfaTgzPTA7X2k4MzxfbG9kUGxhbmVzLmxlbmd0aDtfaTgzKyspe19sb2RQbGFuZXNbX2k4M10uZGlzcG9zZSgpO319Ly8gcHJpdmF0ZSBpbnRlcmZhY2UKfSx7a2V5OiJfY2xlYW51cCIsdmFsdWU6ZnVuY3Rpb24gX2NsZWFudXAob3V0cHV0VGFyZ2V0KXt0aGlzLl9yZW5kZXJlci5zZXRSZW5kZXJUYXJnZXQoX29sZFRhcmdldCk7b3V0cHV0VGFyZ2V0LnNjaXNzb3JUZXN0PWZhbHNlO19zZXRWaWV3cG9ydChvdXRwdXRUYXJnZXQsMCwwLG91dHB1dFRhcmdldC53aWR0aCxvdXRwdXRUYXJnZXQuaGVpZ2h0KTt9fSx7a2V5OiJfZnJvbVRleHR1cmUiLHZhbHVlOmZ1bmN0aW9uIF9mcm9tVGV4dHVyZSh0ZXh0dXJlLHJlbmRlclRhcmdldCl7X29sZFRhcmdldD10aGlzLl9yZW5kZXJlci5nZXRSZW5kZXJUYXJnZXQoKTt2YXIgY3ViZVVWUmVuZGVyVGFyZ2V0PXJlbmRlclRhcmdldHx8dGhpcy5fYWxsb2NhdGVUYXJnZXRzKHRleHR1cmUpO3RoaXMuX3RleHR1cmVUb0N1YmVVVih0ZXh0dXJlLGN1YmVVVlJlbmRlclRhcmdldCk7dGhpcy5fYXBwbHlQTVJFTShjdWJlVVZSZW5kZXJUYXJnZXQpO3RoaXMuX2NsZWFudXAoY3ViZVVWUmVuZGVyVGFyZ2V0KTtyZXR1cm4gY3ViZVVWUmVuZGVyVGFyZ2V0O319LHtrZXk6Il9hbGxvY2F0ZVRhcmdldHMiLHZhbHVlOmZ1bmN0aW9uIF9hbGxvY2F0ZVRhcmdldHModGV4dHVyZSl7Ly8gd2FybmluZzogbnVsbCB0ZXh0dXJlIGlzIHZhbGlkCnZhciBwYXJhbXM9e21hZ0ZpbHRlcjpMaW5lYXJGaWx0ZXIsbWluRmlsdGVyOkxpbmVhckZpbHRlcixnZW5lcmF0ZU1pcG1hcHM6ZmFsc2UsdHlwZTpIYWxmRmxvYXRUeXBlLGZvcm1hdDpSR0JBRm9ybWF0LGVuY29kaW5nOkxpbmVhckVuY29kaW5nLGRlcHRoQnVmZmVyOmZhbHNlfTt2YXIgY3ViZVVWUmVuZGVyVGFyZ2V0PV9jcmVhdGVSZW5kZXJUYXJnZXQocGFyYW1zKTtjdWJlVVZSZW5kZXJUYXJnZXQuZGVwdGhCdWZmZXI9dGV4dHVyZT9mYWxzZTp0cnVlO2lmKHRoaXMuX3BpbmdQb25nUmVuZGVyVGFyZ2V0PT09bnVsbCl7dGhpcy5fcGluZ1BvbmdSZW5kZXJUYXJnZXQ9X2NyZWF0ZVJlbmRlclRhcmdldChwYXJhbXMpO31yZXR1cm4gY3ViZVVWUmVuZGVyVGFyZ2V0O319LHtrZXk6Il9jb21waWxlTWF0ZXJpYWwiLHZhbHVlOmZ1bmN0aW9uIF9jb21waWxlTWF0ZXJpYWwobWF0ZXJpYWwpe3ZhciB0bXBNZXNoPW5ldyBNZXNoKF9sb2RQbGFuZXNbMF0sbWF0ZXJpYWwpO3RoaXMuX3JlbmRlcmVyLmNvbXBpbGUodG1wTWVzaCxfZmxhdENhbWVyYSk7fX0se2tleToiX3NjZW5lVG9DdWJlVVYiLHZhbHVlOmZ1bmN0aW9uIF9zY2VuZVRvQ3ViZVVWKHNjZW5lLG5lYXIsZmFyLGN1YmVVVlJlbmRlclRhcmdldCl7dmFyIGZvdj05MDt2YXIgYXNwZWN0PTE7dmFyIGN1YmVDYW1lcmE9bmV3IFBlcnNwZWN0aXZlQ2FtZXJhKGZvdixhc3BlY3QsbmVhcixmYXIpO3ZhciB1cFNpZ249WzEsLTEsMSwxLDEsMV07dmFyIGZvcndhcmRTaWduPVsxLDEsMSwtMSwtMSwtMV07dmFyIHJlbmRlcmVyPXRoaXMuX3JlbmRlcmVyO3ZhciBvcmlnaW5hbEF1dG9DbGVhcj1yZW5kZXJlci5hdXRvQ2xlYXI7dmFyIHRvbmVNYXBwaW5nPXJlbmRlcmVyLnRvbmVNYXBwaW5nO3JlbmRlcmVyLmdldENsZWFyQ29sb3IoX2NsZWFyQ29sb3IpO3JlbmRlcmVyLnRvbmVNYXBwaW5nPU5vVG9uZU1hcHBpbmc7cmVuZGVyZXIuYXV0b0NsZWFyPWZhbHNlO3ZhciBiYWNrZ3JvdW5kTWF0ZXJpYWw9bmV3IE1lc2hCYXNpY01hdGVyaWFsKHtuYW1lOidQTVJFTS5CYWNrZ3JvdW5kJyxzaWRlOkJhY2tTaWRlLGRlcHRoV3JpdGU6ZmFsc2UsZGVwdGhUZXN0OmZhbHNlfSk7dmFyIGJhY2tncm91bmRCb3g9bmV3IE1lc2gobmV3IEJveEdlb21ldHJ5KCksYmFja2dyb3VuZE1hdGVyaWFsKTt2YXIgdXNlU29saWRDb2xvcj1mYWxzZTt2YXIgYmFja2dyb3VuZD1zY2VuZS5iYWNrZ3JvdW5kO2lmKGJhY2tncm91bmQpe2lmKGJhY2tncm91bmQuaXNDb2xvcil7YmFja2dyb3VuZE1hdGVyaWFsLmNvbG9yLmNvcHkoYmFja2dyb3VuZCk7c2NlbmUuYmFja2dyb3VuZD1udWxsO3VzZVNvbGlkQ29sb3I9dHJ1ZTt9fWVsc2V7YmFja2dyb3VuZE1hdGVyaWFsLmNvbG9yLmNvcHkoX2NsZWFyQ29sb3IpO3VzZVNvbGlkQ29sb3I9dHJ1ZTt9Zm9yKHZhciBfaTg0PTA7X2k4NDw2O19pODQrKyl7dmFyIGNvbD1faTg0JTM7aWYoY29sPT09MCl7Y3ViZUNhbWVyYS51cC5zZXQoMCx1cFNpZ25bX2k4NF0sMCk7Y3ViZUNhbWVyYS5sb29rQXQoZm9yd2FyZFNpZ25bX2k4NF0sMCwwKTt9ZWxzZSBpZihjb2w9PT0xKXtjdWJlQ2FtZXJhLnVwLnNldCgwLDAsdXBTaWduW19pODRdKTtjdWJlQ2FtZXJhLmxvb2tBdCgwLGZvcndhcmRTaWduW19pODRdLDApO31lbHNle2N1YmVDYW1lcmEudXAuc2V0KDAsdXBTaWduW19pODRdLDApO2N1YmVDYW1lcmEubG9va0F0KDAsMCxmb3J3YXJkU2lnbltfaTg0XSk7fV9zZXRWaWV3cG9ydChjdWJlVVZSZW5kZXJUYXJnZXQsY29sKlNJWkVfTUFYLF9pODQ+Mj9TSVpFX01BWDowLFNJWkVfTUFYLFNJWkVfTUFYKTtyZW5kZXJlci5zZXRSZW5kZXJUYXJnZXQoY3ViZVVWUmVuZGVyVGFyZ2V0KTtpZih1c2VTb2xpZENvbG9yKXtyZW5kZXJlci5yZW5kZXIoYmFja2dyb3VuZEJveCxjdWJlQ2FtZXJhKTt9cmVuZGVyZXIucmVuZGVyKHNjZW5lLGN1YmVDYW1lcmEpO31iYWNrZ3JvdW5kQm94Lmdlb21ldHJ5LmRpc3Bvc2UoKTtiYWNrZ3JvdW5kQm94Lm1hdGVyaWFsLmRpc3Bvc2UoKTtyZW5kZXJlci50b25lTWFwcGluZz10b25lTWFwcGluZztyZW5kZXJlci5hdXRvQ2xlYXI9b3JpZ2luYWxBdXRvQ2xlYXI7c2NlbmUuYmFja2dyb3VuZD1iYWNrZ3JvdW5kO319LHtrZXk6Il90ZXh0dXJlVG9DdWJlVVYiLHZhbHVlOmZ1bmN0aW9uIF90ZXh0dXJlVG9DdWJlVVYodGV4dHVyZSxjdWJlVVZSZW5kZXJUYXJnZXQpe3ZhciByZW5kZXJlcj10aGlzLl9yZW5kZXJlcjt2YXIgaXNDdWJlVGV4dHVyZT10ZXh0dXJlLm1hcHBpbmc9PT1DdWJlUmVmbGVjdGlvbk1hcHBpbmd8fHRleHR1cmUubWFwcGluZz09PUN1YmVSZWZyYWN0aW9uTWFwcGluZztpZihpc0N1YmVUZXh0dXJlKXtpZih0aGlzLl9jdWJlbWFwU2hhZGVyPT09bnVsbCl7dGhpcy5fY3ViZW1hcFNoYWRlcj1fZ2V0Q3ViZW1hcFNoYWRlcigpO310aGlzLl9jdWJlbWFwU2hhZGVyLnVuaWZvcm1zLmZsaXBFbnZNYXAudmFsdWU9dGV4dHVyZS5pc1JlbmRlclRhcmdldFRleHR1cmU9PT1mYWxzZT8tMToxO31lbHNle2lmKHRoaXMuX2VxdWlyZWN0U2hhZGVyPT09bnVsbCl7dGhpcy5fZXF1aXJlY3RTaGFkZXI9X2dldEVxdWlyZWN0U2hhZGVyKCk7fX12YXIgbWF0ZXJpYWw9aXNDdWJlVGV4dHVyZT90aGlzLl9jdWJlbWFwU2hhZGVyOnRoaXMuX2VxdWlyZWN0U2hhZGVyO3ZhciBtZXNoPW5ldyBNZXNoKF9sb2RQbGFuZXNbMF0sbWF0ZXJpYWwpO3ZhciB1bmlmb3Jtcz1tYXRlcmlhbC51bmlmb3Jtczt1bmlmb3Jtc1snZW52TWFwJ10udmFsdWU9dGV4dHVyZTtpZighaXNDdWJlVGV4dHVyZSl7dW5pZm9ybXNbJ3RleGVsU2l6ZSddLnZhbHVlLnNldCgxLjAvdGV4dHVyZS5pbWFnZS53aWR0aCwxLjAvdGV4dHVyZS5pbWFnZS5oZWlnaHQpO31fc2V0Vmlld3BvcnQoY3ViZVVWUmVuZGVyVGFyZ2V0LDAsMCwzKlNJWkVfTUFYLDIqU0laRV9NQVgpO3JlbmRlcmVyLnNldFJlbmRlclRhcmdldChjdWJlVVZSZW5kZXJUYXJnZXQpO3JlbmRlcmVyLnJlbmRlcihtZXNoLF9mbGF0Q2FtZXJhKTt9fSx7a2V5OiJfYXBwbHlQTVJFTSIsdmFsdWU6ZnVuY3Rpb24gX2FwcGx5UE1SRU0oY3ViZVVWUmVuZGVyVGFyZ2V0KXt2YXIgcmVuZGVyZXI9dGhpcy5fcmVuZGVyZXI7dmFyIGF1dG9DbGVhcj1yZW5kZXJlci5hdXRvQ2xlYXI7cmVuZGVyZXIuYXV0b0NsZWFyPWZhbHNlO2Zvcih2YXIgX2k4NT0xO19pODU8VE9UQUxfTE9EUztfaTg1Kyspe3ZhciBzaWdtYT1NYXRoLnNxcnQoX3NpZ21hc1tfaTg1XSpfc2lnbWFzW19pODVdLV9zaWdtYXNbX2k4NS0xXSpfc2lnbWFzW19pODUtMV0pO3ZhciBwb2xlQXhpcz1fYXhpc0RpcmVjdGlvbnNbKF9pODUtMSklX2F4aXNEaXJlY3Rpb25zLmxlbmd0aF07dGhpcy5fYmx1cihjdWJlVVZSZW5kZXJUYXJnZXQsX2k4NS0xLF9pODUsc2lnbWEscG9sZUF4aXMpO31yZW5kZXJlci5hdXRvQ2xlYXI9YXV0b0NsZWFyO30vKioKCSAqIFRoaXMgaXMgYSB0d28tcGFzcyBHYXVzc2lhbiBibHVyIGZvciBhIGN1YmVtYXAuIE5vcm1hbGx5IHRoaXMgaXMgZG9uZQoJICogdmVydGljYWxseSBhbmQgaG9yaXpvbnRhbGx5LCBidXQgdGhpcyBicmVha3MgZG93biBvbiBhIGN1YmUuIEhlcmUgd2UgYXBwbHkKCSAqIHRoZSBibHVyIGxhdGl0dWRpbmFsbHkgKGFyb3VuZCB0aGUgcG9sZXMpLCBhbmQgdGhlbiBsb25naXR1ZGluYWxseSAodG93YXJkcwoJICogdGhlIHBvbGVzKSB0byBhcHByb3hpbWF0ZSB0aGUgb3J0aG9nb25hbGx5LXNlcGFyYWJsZSBibHVyLiBJdCBpcyBsZWFzdAoJICogYWNjdXJhdGUgYXQgdGhlIHBvbGVzLCBidXQgc3RpbGwgZG9lcyBhIGRlY2VudCBqb2IuCgkgKi99LHtrZXk6Il9ibHVyIix2YWx1ZTpmdW5jdGlvbiBfYmx1cihjdWJlVVZSZW5kZXJUYXJnZXQsbG9kSW4sbG9kT3V0LHNpZ21hLHBvbGVBeGlzKXt2YXIgcGluZ1BvbmdSZW5kZXJUYXJnZXQ9dGhpcy5fcGluZ1BvbmdSZW5kZXJUYXJnZXQ7dGhpcy5faGFsZkJsdXIoY3ViZVVWUmVuZGVyVGFyZ2V0LHBpbmdQb25nUmVuZGVyVGFyZ2V0LGxvZEluLGxvZE91dCxzaWdtYSwnbGF0aXR1ZGluYWwnLHBvbGVBeGlzKTt0aGlzLl9oYWxmQmx1cihwaW5nUG9uZ1JlbmRlclRhcmdldCxjdWJlVVZSZW5kZXJUYXJnZXQsbG9kT3V0LGxvZE91dCxzaWdtYSwnbG9uZ2l0dWRpbmFsJyxwb2xlQXhpcyk7fX0se2tleToiX2hhbGZCbHVyIix2YWx1ZTpmdW5jdGlvbiBfaGFsZkJsdXIodGFyZ2V0SW4sdGFyZ2V0T3V0LGxvZEluLGxvZE91dCxzaWdtYVJhZGlhbnMsZGlyZWN0aW9uLHBvbGVBeGlzKXt2YXIgcmVuZGVyZXI9dGhpcy5fcmVuZGVyZXI7dmFyIGJsdXJNYXRlcmlhbD10aGlzLl9ibHVyTWF0ZXJpYWw7aWYoZGlyZWN0aW9uIT09J2xhdGl0dWRpbmFsJyYmZGlyZWN0aW9uIT09J2xvbmdpdHVkaW5hbCcpe2NvbnNvbGUuZXJyb3IoJ2JsdXIgZGlyZWN0aW9uIG11c3QgYmUgZWl0aGVyIGxhdGl0dWRpbmFsIG9yIGxvbmdpdHVkaW5hbCEnKTt9Ly8gTnVtYmVyIG9mIHN0YW5kYXJkIGRldmlhdGlvbnMgYXQgd2hpY2ggdG8gY3V0IG9mZiB0aGUgZGlzY3JldGUgYXBwcm94aW1hdGlvbi4KdmFyIFNUQU5EQVJEX0RFVklBVElPTlM9Mzt2YXIgYmx1ck1lc2g9bmV3IE1lc2goX2xvZFBsYW5lc1tsb2RPdXRdLGJsdXJNYXRlcmlhbCk7dmFyIGJsdXJVbmlmb3Jtcz1ibHVyTWF0ZXJpYWwudW5pZm9ybXM7dmFyIHBpeGVscz1fc2l6ZUxvZHNbbG9kSW5dLTE7dmFyIHJhZGlhbnNQZXJQaXhlbD1pc0Zpbml0ZShzaWdtYVJhZGlhbnMpP01hdGguUEkvKDIqcGl4ZWxzKToyKk1hdGguUEkvKDIqTUFYX1NBTVBMRVMtMSk7dmFyIHNpZ21hUGl4ZWxzPXNpZ21hUmFkaWFucy9yYWRpYW5zUGVyUGl4ZWw7dmFyIHNhbXBsZXM9aXNGaW5pdGUoc2lnbWFSYWRpYW5zKT8xK01hdGguZmxvb3IoU1RBTkRBUkRfREVWSUFUSU9OUypzaWdtYVBpeGVscyk6TUFYX1NBTVBMRVM7aWYoc2FtcGxlcz5NQVhfU0FNUExFUyl7Y29uc29sZS53YXJuKCJzaWdtYVJhZGlhbnMsICIuY29uY2F0KHNpZ21hUmFkaWFucywiLCBpcyB0b28gbGFyZ2UgYW5kIHdpbGwgY2xpcCwgYXMgaXQgcmVxdWVzdGVkICIpLmNvbmNhdChzYW1wbGVzLCIgc2FtcGxlcyB3aGVuIHRoZSBtYXhpbXVtIGlzIHNldCB0byAiKS5jb25jYXQoTUFYX1NBTVBMRVMpKTt9dmFyIHdlaWdodHM9W107dmFyIHN1bT0wO2Zvcih2YXIgX2k4Nj0wO19pODY8TUFYX1NBTVBMRVM7KytfaTg2KXt2YXIgX3gyPV9pODYvc2lnbWFQaXhlbHM7dmFyIHdlaWdodD1NYXRoLmV4cCgtX3gyKl94Mi8yKTt3ZWlnaHRzLnB1c2god2VpZ2h0KTtpZihfaTg2PT09MCl7c3VtKz13ZWlnaHQ7fWVsc2UgaWYoX2k4NjxzYW1wbGVzKXtzdW0rPTIqd2VpZ2h0O319Zm9yKHZhciBfaTg3PTA7X2k4Nzx3ZWlnaHRzLmxlbmd0aDtfaTg3Kyspe3dlaWdodHNbX2k4N109d2VpZ2h0c1tfaTg3XS9zdW07fWJsdXJVbmlmb3Jtc1snZW52TWFwJ10udmFsdWU9dGFyZ2V0SW4udGV4dHVyZTtibHVyVW5pZm9ybXNbJ3NhbXBsZXMnXS52YWx1ZT1zYW1wbGVzO2JsdXJVbmlmb3Jtc1snd2VpZ2h0cyddLnZhbHVlPXdlaWdodHM7Ymx1clVuaWZvcm1zWydsYXRpdHVkaW5hbCddLnZhbHVlPWRpcmVjdGlvbj09PSdsYXRpdHVkaW5hbCc7aWYocG9sZUF4aXMpe2JsdXJVbmlmb3Jtc1sncG9sZUF4aXMnXS52YWx1ZT1wb2xlQXhpczt9Ymx1clVuaWZvcm1zWydkVGhldGEnXS52YWx1ZT1yYWRpYW5zUGVyUGl4ZWw7Ymx1clVuaWZvcm1zWydtaXBJbnQnXS52YWx1ZT1MT0RfTUFYLWxvZEluO3ZhciBvdXRwdXRTaXplPV9zaXplTG9kc1tsb2RPdXRdO3ZhciB4PTMqTWF0aC5tYXgoMCxTSVpFX01BWC0yKm91dHB1dFNpemUpO3ZhciB5PShsb2RPdXQ9PT0wPzA6MipTSVpFX01BWCkrMipvdXRwdXRTaXplKihsb2RPdXQ+TE9EX01BWC1MT0RfTUlOP2xvZE91dC1MT0RfTUFYK0xPRF9NSU46MCk7X3NldFZpZXdwb3J0KHRhcmdldE91dCx4LHksMypvdXRwdXRTaXplLDIqb3V0cHV0U2l6ZSk7cmVuZGVyZXIuc2V0UmVuZGVyVGFyZ2V0KHRhcmdldE91dCk7cmVuZGVyZXIucmVuZGVyKGJsdXJNZXNoLF9mbGF0Q2FtZXJhKTt9fV0pO3JldHVybiBQTVJFTUdlbmVyYXRvcjt9KCk7ZnVuY3Rpb24gX2NyZWF0ZVBsYW5lcygpe3ZhciBfbG9kUGxhbmVzPVtdO3ZhciBfc2l6ZUxvZHM9W107dmFyIF9zaWdtYXM9W107dmFyIGxvZD1MT0RfTUFYO2Zvcih2YXIgX2k4OD0wO19pODg8VE9UQUxfTE9EUztfaTg4Kyspe3ZhciBzaXplTG9kPU1hdGgucG93KDIsbG9kKTtfc2l6ZUxvZHMucHVzaChzaXplTG9kKTt2YXIgc2lnbWE9MS4wL3NpemVMb2Q7aWYoX2k4OD5MT0RfTUFYLUxPRF9NSU4pe3NpZ21hPUVYVFJBX0xPRF9TSUdNQVtfaTg4LUxPRF9NQVgrTE9EX01JTi0xXTt9ZWxzZSBpZihfaTg4PT09MCl7c2lnbWE9MDt9X3NpZ21hcy5wdXNoKHNpZ21hKTt2YXIgdGV4ZWxTaXplPTEuMC8oc2l6ZUxvZC0xKTt2YXIgbWluPS10ZXhlbFNpemUvMjt2YXIgbWF4PTErdGV4ZWxTaXplLzI7dmFyIHV2MT1bbWluLG1pbixtYXgsbWluLG1heCxtYXgsbWluLG1pbixtYXgsbWF4LG1pbixtYXhdO3ZhciBjdWJlRmFjZXM9Njt2YXIgdmVydGljZXM9Njt2YXIgcG9zaXRpb25TaXplPTM7dmFyIHV2U2l6ZT0yO3ZhciBmYWNlSW5kZXhTaXplPTE7dmFyIHBvc2l0aW9uPW5ldyBGbG9hdDMyQXJyYXkocG9zaXRpb25TaXplKnZlcnRpY2VzKmN1YmVGYWNlcyk7dmFyIHV2PW5ldyBGbG9hdDMyQXJyYXkodXZTaXplKnZlcnRpY2VzKmN1YmVGYWNlcyk7dmFyIGZhY2VJbmRleD1uZXcgRmxvYXQzMkFycmF5KGZhY2VJbmRleFNpemUqdmVydGljZXMqY3ViZUZhY2VzKTtmb3IodmFyIGZhY2U9MDtmYWNlPGN1YmVGYWNlcztmYWNlKyspe3ZhciB4PWZhY2UlMyoyLzMtMTt2YXIgeT1mYWNlPjI/MDotMTt2YXIgY29vcmRpbmF0ZXM9W3gseSwwLHgrMi8zLHksMCx4KzIvMyx5KzEsMCx4LHksMCx4KzIvMyx5KzEsMCx4LHkrMSwwXTtwb3NpdGlvbi5zZXQoY29vcmRpbmF0ZXMscG9zaXRpb25TaXplKnZlcnRpY2VzKmZhY2UpO3V2LnNldCh1djEsdXZTaXplKnZlcnRpY2VzKmZhY2UpO3ZhciBmaWxsPVtmYWNlLGZhY2UsZmFjZSxmYWNlLGZhY2UsZmFjZV07ZmFjZUluZGV4LnNldChmaWxsLGZhY2VJbmRleFNpemUqdmVydGljZXMqZmFjZSk7fXZhciBwbGFuZXM9bmV3IEJ1ZmZlckdlb21ldHJ5KCk7cGxhbmVzLnNldEF0dHJpYnV0ZSgncG9zaXRpb24nLG5ldyBCdWZmZXJBdHRyaWJ1dGUocG9zaXRpb24scG9zaXRpb25TaXplKSk7cGxhbmVzLnNldEF0dHJpYnV0ZSgndXYnLG5ldyBCdWZmZXJBdHRyaWJ1dGUodXYsdXZTaXplKSk7cGxhbmVzLnNldEF0dHJpYnV0ZSgnZmFjZUluZGV4JyxuZXcgQnVmZmVyQXR0cmlidXRlKGZhY2VJbmRleCxmYWNlSW5kZXhTaXplKSk7X2xvZFBsYW5lcy5wdXNoKHBsYW5lcyk7aWYobG9kPkxPRF9NSU4pe2xvZC0tO319cmV0dXJue19sb2RQbGFuZXM6X2xvZFBsYW5lcyxfc2l6ZUxvZHM6X3NpemVMb2RzLF9zaWdtYXM6X3NpZ21hc307fWZ1bmN0aW9uIF9jcmVhdGVSZW5kZXJUYXJnZXQocGFyYW1zKXt2YXIgY3ViZVVWUmVuZGVyVGFyZ2V0PW5ldyBXZWJHTFJlbmRlclRhcmdldCgzKlNJWkVfTUFYLDMqU0laRV9NQVgscGFyYW1zKTtjdWJlVVZSZW5kZXJUYXJnZXQudGV4dHVyZS5tYXBwaW5nPUN1YmVVVlJlZmxlY3Rpb25NYXBwaW5nO2N1YmVVVlJlbmRlclRhcmdldC50ZXh0dXJlLm5hbWU9J1BNUkVNLmN1YmVVdic7Y3ViZVVWUmVuZGVyVGFyZ2V0LnNjaXNzb3JUZXN0PXRydWU7cmV0dXJuIGN1YmVVVlJlbmRlclRhcmdldDt9ZnVuY3Rpb24gX3NldFZpZXdwb3J0KHRhcmdldCx4LHksd2lkdGgsaGVpZ2h0KXt0YXJnZXQudmlld3BvcnQuc2V0KHgseSx3aWR0aCxoZWlnaHQpO3RhcmdldC5zY2lzc29yLnNldCh4LHksd2lkdGgsaGVpZ2h0KTt9ZnVuY3Rpb24gX2dldEJsdXJTaGFkZXIobWF4U2FtcGxlcyl7dmFyIHdlaWdodHM9bmV3IEZsb2F0MzJBcnJheShtYXhTYW1wbGVzKTt2YXIgcG9sZUF4aXM9bmV3IFZlY3RvcjMoMCwxLDApO3ZhciBzaGFkZXJNYXRlcmlhbD1uZXcgUmF3U2hhZGVyTWF0ZXJpYWwoe25hbWU6J1NwaGVyaWNhbEdhdXNzaWFuQmx1cicsZGVmaW5lczp7J24nOm1heFNhbXBsZXN9LHVuaWZvcm1zOnsnZW52TWFwJzp7dmFsdWU6bnVsbH0sJ3NhbXBsZXMnOnt2YWx1ZToxfSwnd2VpZ2h0cyc6e3ZhbHVlOndlaWdodHN9LCdsYXRpdHVkaW5hbCc6e3ZhbHVlOmZhbHNlfSwnZFRoZXRhJzp7dmFsdWU6MH0sJ21pcEludCc6e3ZhbHVlOjB9LCdwb2xlQXhpcyc6e3ZhbHVlOnBvbGVBeGlzfX0sdmVydGV4U2hhZGVyOl9nZXRDb21tb25WZXJ0ZXhTaGFkZXIoKSxmcmFnbWVudFNoYWRlcjovKiBnbHNsICovIlxuXG5cdFx0XHRwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcblx0XHRcdHByZWNpc2lvbiBtZWRpdW1wIGludDtcblxuXHRcdFx0dmFyeWluZyB2ZWMzIHZPdXRwdXREaXJlY3Rpb247XG5cblx0XHRcdHVuaWZvcm0gc2FtcGxlcjJEIGVudk1hcDtcblx0XHRcdHVuaWZvcm0gaW50IHNhbXBsZXM7XG5cdFx0XHR1bmlmb3JtIGZsb2F0IHdlaWdodHNbIG4gXTtcblx0XHRcdHVuaWZvcm0gYm9vbCBsYXRpdHVkaW5hbDtcblx0XHRcdHVuaWZvcm0gZmxvYXQgZFRoZXRhO1xuXHRcdFx0dW5pZm9ybSBmbG9hdCBtaXBJbnQ7XG5cdFx0XHR1bmlmb3JtIHZlYzMgcG9sZUF4aXM7XG5cblx0XHRcdCNkZWZpbmUgRU5WTUFQX1RZUEVfQ1VCRV9VVlxuXHRcdFx0I2luY2x1ZGUgPGN1YmVfdXZfcmVmbGVjdGlvbl9mcmFnbWVudD5cblxuXHRcdFx0dmVjMyBnZXRTYW1wbGUoIGZsb2F0IHRoZXRhLCB2ZWMzIGF4aXMgKSB7XG5cblx0XHRcdFx0ZmxvYXQgY29zVGhldGEgPSBjb3MoIHRoZXRhICk7XG5cdFx0XHRcdC8vIFJvZHJpZ3VlcycgYXhpcy1hbmdsZSByb3RhdGlvblxuXHRcdFx0XHR2ZWMzIHNhbXBsZURpcmVjdGlvbiA9IHZPdXRwdXREaXJlY3Rpb24gKiBjb3NUaGV0YVxuXHRcdFx0XHRcdCsgY3Jvc3MoIGF4aXMsIHZPdXRwdXREaXJlY3Rpb24gKSAqIHNpbiggdGhldGEgKVxuXHRcdFx0XHRcdCsgYXhpcyAqIGRvdCggYXhpcywgdk91dHB1dERpcmVjdGlvbiApICogKCAxLjAgLSBjb3NUaGV0YSApO1xuXG5cdFx0XHRcdHJldHVybiBiaWxpbmVhckN1YmVVViggZW52TWFwLCBzYW1wbGVEaXJlY3Rpb24sIG1pcEludCApO1xuXG5cdFx0XHR9XG5cblx0XHRcdHZvaWQgbWFpbigpIHtcblxuXHRcdFx0XHR2ZWMzIGF4aXMgPSBsYXRpdHVkaW5hbCA/IHBvbGVBeGlzIDogY3Jvc3MoIHBvbGVBeGlzLCB2T3V0cHV0RGlyZWN0aW9uICk7XG5cblx0XHRcdFx0aWYgKCBhbGwoIGVxdWFsKCBheGlzLCB2ZWMzKCAwLjAgKSApICkgKSB7XG5cblx0XHRcdFx0XHRheGlzID0gdmVjMyggdk91dHB1dERpcmVjdGlvbi56LCAwLjAsIC0gdk91dHB1dERpcmVjdGlvbi54ICk7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGF4aXMgPSBub3JtYWxpemUoIGF4aXMgKTtcblxuXHRcdFx0XHRnbF9GcmFnQ29sb3IgPSB2ZWM0KCAwLjAsIDAuMCwgMC4wLCAxLjAgKTtcblx0XHRcdFx0Z2xfRnJhZ0NvbG9yLnJnYiArPSB3ZWlnaHRzWyAwIF0gKiBnZXRTYW1wbGUoIDAuMCwgYXhpcyApO1xuXG5cdFx0XHRcdGZvciAoIGludCBpID0gMTsgaSA8IG47IGkrKyApIHtcblxuXHRcdFx0XHRcdGlmICggaSA+PSBzYW1wbGVzICkge1xuXG5cdFx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGZsb2F0IHRoZXRhID0gZFRoZXRhICogZmxvYXQoIGkgKTtcblx0XHRcdFx0XHRnbF9GcmFnQ29sb3IucmdiICs9IHdlaWdodHNbIGkgXSAqIGdldFNhbXBsZSggLTEuMCAqIHRoZXRhLCBheGlzICk7XG5cdFx0XHRcdFx0Z2xfRnJhZ0NvbG9yLnJnYiArPSB3ZWlnaHRzWyBpIF0gKiBnZXRTYW1wbGUoIHRoZXRhLCBheGlzICk7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHR9XG5cdFx0IixibGVuZGluZzpOb0JsZW5kaW5nLGRlcHRoVGVzdDpmYWxzZSxkZXB0aFdyaXRlOmZhbHNlfSk7cmV0dXJuIHNoYWRlck1hdGVyaWFsO31mdW5jdGlvbiBfZ2V0RXF1aXJlY3RTaGFkZXIoKXt2YXIgdGV4ZWxTaXplPW5ldyBWZWN0b3IyKDEsMSk7dmFyIHNoYWRlck1hdGVyaWFsPW5ldyBSYXdTaGFkZXJNYXRlcmlhbCh7bmFtZTonRXF1aXJlY3Rhbmd1bGFyVG9DdWJlVVYnLHVuaWZvcm1zOnsnZW52TWFwJzp7dmFsdWU6bnVsbH0sJ3RleGVsU2l6ZSc6e3ZhbHVlOnRleGVsU2l6ZX19LHZlcnRleFNoYWRlcjpfZ2V0Q29tbW9uVmVydGV4U2hhZGVyKCksZnJhZ21lbnRTaGFkZXI6LyogZ2xzbCAqLyJcblxuXHRcdFx0cHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XG5cdFx0XHRwcmVjaXNpb24gbWVkaXVtcCBpbnQ7XG5cblx0XHRcdHZhcnlpbmcgdmVjMyB2T3V0cHV0RGlyZWN0aW9uO1xuXG5cdFx0XHR1bmlmb3JtIHNhbXBsZXIyRCBlbnZNYXA7XG5cdFx0XHR1bmlmb3JtIHZlYzIgdGV4ZWxTaXplO1xuXG5cdFx0XHQjaW5jbHVkZSA8Y29tbW9uPlxuXG5cdFx0XHR2b2lkIG1haW4oKSB7XG5cblx0XHRcdFx0Z2xfRnJhZ0NvbG9yID0gdmVjNCggMC4wLCAwLjAsIDAuMCwgMS4wICk7XG5cblx0XHRcdFx0dmVjMyBvdXRwdXREaXJlY3Rpb24gPSBub3JtYWxpemUoIHZPdXRwdXREaXJlY3Rpb24gKTtcblx0XHRcdFx0dmVjMiB1diA9IGVxdWlyZWN0VXYoIG91dHB1dERpcmVjdGlvbiApO1xuXG5cdFx0XHRcdHZlYzIgZiA9IGZyYWN0KCB1diAvIHRleGVsU2l6ZSAtIDAuNSApO1xuXHRcdFx0XHR1diAtPSBmICogdGV4ZWxTaXplO1xuXHRcdFx0XHR2ZWMzIHRsID0gdGV4dHVyZTJEICggZW52TWFwLCB1diApLnJnYjtcblx0XHRcdFx0dXYueCArPSB0ZXhlbFNpemUueDtcblx0XHRcdFx0dmVjMyB0ciA9IHRleHR1cmUyRCAoIGVudk1hcCwgdXYgKS5yZ2I7XG5cdFx0XHRcdHV2LnkgKz0gdGV4ZWxTaXplLnk7XG5cdFx0XHRcdHZlYzMgYnIgPSB0ZXh0dXJlMkQgKCBlbnZNYXAsIHV2ICkucmdiO1xuXHRcdFx0XHR1di54IC09IHRleGVsU2l6ZS54O1xuXHRcdFx0XHR2ZWMzIGJsID0gdGV4dHVyZTJEICggZW52TWFwLCB1diApLnJnYjtcblxuXHRcdFx0XHR2ZWMzIHRtID0gbWl4KCB0bCwgdHIsIGYueCApO1xuXHRcdFx0XHR2ZWMzIGJtID0gbWl4KCBibCwgYnIsIGYueCApO1xuXHRcdFx0XHRnbF9GcmFnQ29sb3IucmdiID0gbWl4KCB0bSwgYm0sIGYueSApO1xuXG5cdFx0XHR9XG5cdFx0IixibGVuZGluZzpOb0JsZW5kaW5nLGRlcHRoVGVzdDpmYWxzZSxkZXB0aFdyaXRlOmZhbHNlfSk7cmV0dXJuIHNoYWRlck1hdGVyaWFsO31mdW5jdGlvbiBfZ2V0Q3ViZW1hcFNoYWRlcigpe3ZhciBzaGFkZXJNYXRlcmlhbD1uZXcgUmF3U2hhZGVyTWF0ZXJpYWwoe25hbWU6J0N1YmVtYXBUb0N1YmVVVicsdW5pZm9ybXM6eydlbnZNYXAnOnt2YWx1ZTpudWxsfSwnZmxpcEVudk1hcCc6e3ZhbHVlOi0xfX0sdmVydGV4U2hhZGVyOl9nZXRDb21tb25WZXJ0ZXhTaGFkZXIoKSxmcmFnbWVudFNoYWRlcjovKiBnbHNsICovIlxuXG5cdFx0XHRwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcblx0XHRcdHByZWNpc2lvbiBtZWRpdW1wIGludDtcblxuXHRcdFx0dW5pZm9ybSBmbG9hdCBmbGlwRW52TWFwO1xuXG5cdFx0XHR2YXJ5aW5nIHZlYzMgdk91dHB1dERpcmVjdGlvbjtcblxuXHRcdFx0dW5pZm9ybSBzYW1wbGVyQ3ViZSBlbnZNYXA7XG5cblx0XHRcdHZvaWQgbWFpbigpIHtcblxuXHRcdFx0XHRnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlQ3ViZSggZW52TWFwLCB2ZWMzKCBmbGlwRW52TWFwICogdk91dHB1dERpcmVjdGlvbi54LCB2T3V0cHV0RGlyZWN0aW9uLnl6ICkgKTtcblxuXHRcdFx0fVxuXHRcdCIsYmxlbmRpbmc6Tm9CbGVuZGluZyxkZXB0aFRlc3Q6ZmFsc2UsZGVwdGhXcml0ZTpmYWxzZX0pO3JldHVybiBzaGFkZXJNYXRlcmlhbDt9ZnVuY3Rpb24gX2dldENvbW1vblZlcnRleFNoYWRlcigpe3JldHVybigvKiBnbHNsICovIlxuXG5cdFx0cHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XG5cdFx0cHJlY2lzaW9uIG1lZGl1bXAgaW50O1xuXG5cdFx0YXR0cmlidXRlIHZlYzMgcG9zaXRpb247XG5cdFx0YXR0cmlidXRlIHZlYzIgdXY7XG5cdFx0YXR0cmlidXRlIGZsb2F0IGZhY2VJbmRleDtcblxuXHRcdHZhcnlpbmcgdmVjMyB2T3V0cHV0RGlyZWN0aW9uO1xuXG5cdFx0Ly8gUkggY29vcmRpbmF0ZSBzeXN0ZW07IFBNUkVNIGZhY2UtaW5kZXhpbmcgY29udmVudGlvblxuXHRcdHZlYzMgZ2V0RGlyZWN0aW9uKCB2ZWMyIHV2LCBmbG9hdCBmYWNlICkge1xuXG5cdFx0XHR1diA9IDIuMCAqIHV2IC0gMS4wO1xuXG5cdFx0XHR2ZWMzIGRpcmVjdGlvbiA9IHZlYzMoIHV2LCAxLjAgKTtcblxuXHRcdFx0aWYgKCBmYWNlID09IDAuMCApIHtcblxuXHRcdFx0XHRkaXJlY3Rpb24gPSBkaXJlY3Rpb24uenl4OyAvLyAoIDEsIHYsIHUgKSBwb3MgeFxuXG5cdFx0XHR9IGVsc2UgaWYgKCBmYWNlID09IDEuMCApIHtcblxuXHRcdFx0XHRkaXJlY3Rpb24gPSBkaXJlY3Rpb24ueHp5O1xuXHRcdFx0XHRkaXJlY3Rpb24ueHogKj0gLTEuMDsgLy8gKCAtdSwgMSwgLXYgKSBwb3MgeVxuXG5cdFx0XHR9IGVsc2UgaWYgKCBmYWNlID09IDIuMCApIHtcblxuXHRcdFx0XHRkaXJlY3Rpb24ueCAqPSAtMS4wOyAvLyAoIC11LCB2LCAxICkgcG9zIHpcblxuXHRcdFx0fSBlbHNlIGlmICggZmFjZSA9PSAzLjAgKSB7XG5cblx0XHRcdFx0ZGlyZWN0aW9uID0gZGlyZWN0aW9uLnp5eDtcblx0XHRcdFx0ZGlyZWN0aW9uLnh6ICo9IC0xLjA7IC8vICggLTEsIHYsIC11ICkgbmVnIHhcblxuXHRcdFx0fSBlbHNlIGlmICggZmFjZSA9PSA0LjAgKSB7XG5cblx0XHRcdFx0ZGlyZWN0aW9uID0gZGlyZWN0aW9uLnh6eTtcblx0XHRcdFx0ZGlyZWN0aW9uLnh5ICo9IC0xLjA7IC8vICggLXUsIC0xLCB2ICkgbmVnIHlcblxuXHRcdFx0fSBlbHNlIGlmICggZmFjZSA9PSA1LjAgKSB7XG5cblx0XHRcdFx0ZGlyZWN0aW9uLnogKj0gLTEuMDsgLy8gKCB1LCB2LCAtMSApIG5lZyB6XG5cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGRpcmVjdGlvbjtcblxuXHRcdH1cblxuXHRcdHZvaWQgbWFpbigpIHtcblxuXHRcdFx0dk91dHB1dERpcmVjdGlvbiA9IGdldERpcmVjdGlvbiggdXYsIGZhY2VJbmRleCApO1xuXHRcdFx0Z2xfUG9zaXRpb24gPSB2ZWM0KCBwb3NpdGlvbiwgMS4wICk7XG5cblx0XHR9XG5cdCIpO31mdW5jdGlvbiBXZWJHTEN1YmVVVk1hcHMocmVuZGVyZXIpe3ZhciBjdWJlVVZtYXBzPW5ldyBXZWFrTWFwKCk7dmFyIHBtcmVtR2VuZXJhdG9yPW51bGw7ZnVuY3Rpb24gZ2V0KHRleHR1cmUpe2lmKHRleHR1cmUmJnRleHR1cmUuaXNUZXh0dXJlKXt2YXIgbWFwcGluZz10ZXh0dXJlLm1hcHBpbmc7dmFyIGlzRXF1aXJlY3RNYXA9bWFwcGluZz09PUVxdWlyZWN0YW5ndWxhclJlZmxlY3Rpb25NYXBwaW5nfHxtYXBwaW5nPT09RXF1aXJlY3Rhbmd1bGFyUmVmcmFjdGlvbk1hcHBpbmc7dmFyIGlzQ3ViZU1hcD1tYXBwaW5nPT09Q3ViZVJlZmxlY3Rpb25NYXBwaW5nfHxtYXBwaW5nPT09Q3ViZVJlZnJhY3Rpb25NYXBwaW5nOy8vIGVxdWlyZWN0L2N1YmUgbWFwIHRvIGN1YmVVViBjb252ZXJzaW9uCmlmKGlzRXF1aXJlY3RNYXB8fGlzQ3ViZU1hcCl7aWYodGV4dHVyZS5pc1JlbmRlclRhcmdldFRleHR1cmUmJnRleHR1cmUubmVlZHNQTVJFTVVwZGF0ZT09PXRydWUpe3RleHR1cmUubmVlZHNQTVJFTVVwZGF0ZT1mYWxzZTt2YXIgcmVuZGVyVGFyZ2V0PWN1YmVVVm1hcHMuZ2V0KHRleHR1cmUpO2lmKHBtcmVtR2VuZXJhdG9yPT09bnVsbClwbXJlbUdlbmVyYXRvcj1uZXcgUE1SRU1HZW5lcmF0b3IocmVuZGVyZXIpO3JlbmRlclRhcmdldD1pc0VxdWlyZWN0TWFwP3BtcmVtR2VuZXJhdG9yLmZyb21FcXVpcmVjdGFuZ3VsYXIodGV4dHVyZSxyZW5kZXJUYXJnZXQpOnBtcmVtR2VuZXJhdG9yLmZyb21DdWJlbWFwKHRleHR1cmUscmVuZGVyVGFyZ2V0KTtjdWJlVVZtYXBzLnNldCh0ZXh0dXJlLHJlbmRlclRhcmdldCk7cmV0dXJuIHJlbmRlclRhcmdldC50ZXh0dXJlO31lbHNle2lmKGN1YmVVVm1hcHMuaGFzKHRleHR1cmUpKXtyZXR1cm4gY3ViZVVWbWFwcy5nZXQodGV4dHVyZSkudGV4dHVyZTt9ZWxzZXt2YXIgaW1hZ2U9dGV4dHVyZS5pbWFnZTtpZihpc0VxdWlyZWN0TWFwJiZpbWFnZSYmaW1hZ2UuaGVpZ2h0PjB8fGlzQ3ViZU1hcCYmaW1hZ2UmJmlzQ3ViZVRleHR1cmVDb21wbGV0ZShpbWFnZSkpe2lmKHBtcmVtR2VuZXJhdG9yPT09bnVsbClwbXJlbUdlbmVyYXRvcj1uZXcgUE1SRU1HZW5lcmF0b3IocmVuZGVyZXIpO3ZhciBfcmVuZGVyVGFyZ2V0PWlzRXF1aXJlY3RNYXA/cG1yZW1HZW5lcmF0b3IuZnJvbUVxdWlyZWN0YW5ndWxhcih0ZXh0dXJlKTpwbXJlbUdlbmVyYXRvci5mcm9tQ3ViZW1hcCh0ZXh0dXJlKTtjdWJlVVZtYXBzLnNldCh0ZXh0dXJlLF9yZW5kZXJUYXJnZXQpO3RleHR1cmUuYWRkRXZlbnRMaXN0ZW5lcignZGlzcG9zZScsb25UZXh0dXJlRGlzcG9zZSk7cmV0dXJuIF9yZW5kZXJUYXJnZXQudGV4dHVyZTt9ZWxzZXsvLyBpbWFnZSBub3QgeWV0IHJlYWR5LiB0cnkgdGhlIGNvbnZlcnNpb24gbmV4dCBmcmFtZQpyZXR1cm4gbnVsbDt9fX19fXJldHVybiB0ZXh0dXJlO31mdW5jdGlvbiBpc0N1YmVUZXh0dXJlQ29tcGxldGUoaW1hZ2Upe3ZhciBjb3VudD0wO3ZhciBsZW5ndGg9Njtmb3IodmFyIF9pODk9MDtfaTg5PGxlbmd0aDtfaTg5Kyspe2lmKGltYWdlW19pODldIT09dW5kZWZpbmVkKWNvdW50Kys7fXJldHVybiBjb3VudD09PWxlbmd0aDt9ZnVuY3Rpb24gb25UZXh0dXJlRGlzcG9zZShldmVudCl7dmFyIHRleHR1cmU9ZXZlbnQudGFyZ2V0O3RleHR1cmUucmVtb3ZlRXZlbnRMaXN0ZW5lcignZGlzcG9zZScsb25UZXh0dXJlRGlzcG9zZSk7dmFyIGN1YmVtYXBVVj1jdWJlVVZtYXBzLmdldCh0ZXh0dXJlKTtpZihjdWJlbWFwVVYhPT11bmRlZmluZWQpe2N1YmVVVm1hcHMuZGVsZXRlKHRleHR1cmUpO2N1YmVtYXBVVi5kaXNwb3NlKCk7fX1mdW5jdGlvbiBkaXNwb3NlKCl7Y3ViZVVWbWFwcz1uZXcgV2Vha01hcCgpO2lmKHBtcmVtR2VuZXJhdG9yIT09bnVsbCl7cG1yZW1HZW5lcmF0b3IuZGlzcG9zZSgpO3BtcmVtR2VuZXJhdG9yPW51bGw7fX1yZXR1cm57Z2V0OmdldCxkaXNwb3NlOmRpc3Bvc2V9O31mdW5jdGlvbiBXZWJHTEV4dGVuc2lvbnMoZ2wpe3ZhciBleHRlbnNpb25zPXt9O2Z1bmN0aW9uIGdldEV4dGVuc2lvbihuYW1lKXtpZihleHRlbnNpb25zW25hbWVdIT09dW5kZWZpbmVkKXtyZXR1cm4gZXh0ZW5zaW9uc1tuYW1lXTt9dmFyIGV4dGVuc2lvbjtzd2l0Y2gobmFtZSl7Y2FzZSdXRUJHTF9kZXB0aF90ZXh0dXJlJzpleHRlbnNpb249Z2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9kZXB0aF90ZXh0dXJlJyl8fGdsLmdldEV4dGVuc2lvbignTU9aX1dFQkdMX2RlcHRoX3RleHR1cmUnKXx8Z2wuZ2V0RXh0ZW5zaW9uKCdXRUJLSVRfV0VCR0xfZGVwdGhfdGV4dHVyZScpO2JyZWFrO2Nhc2UnRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljJzpleHRlbnNpb249Z2wuZ2V0RXh0ZW5zaW9uKCdFWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWMnKXx8Z2wuZ2V0RXh0ZW5zaW9uKCdNT1pfRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljJyl8fGdsLmdldEV4dGVuc2lvbignV0VCS0lUX0VYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYycpO2JyZWFrO2Nhc2UnV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3MzdGMnOmV4dGVuc2lvbj1nbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjJyl8fGdsLmdldEV4dGVuc2lvbignTU9aX1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjJyl8fGdsLmdldEV4dGVuc2lvbignV0VCS0lUX1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjJyk7YnJlYWs7Y2FzZSdXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfcHZydGMnOmV4dGVuc2lvbj1nbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9wdnJ0YycpfHxnbC5nZXRFeHRlbnNpb24oJ1dFQktJVF9XRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfcHZydGMnKTticmVhaztkZWZhdWx0OmV4dGVuc2lvbj1nbC5nZXRFeHRlbnNpb24obmFtZSk7fWV4dGVuc2lvbnNbbmFtZV09ZXh0ZW5zaW9uO3JldHVybiBleHRlbnNpb247fXJldHVybntoYXM6ZnVuY3Rpb24gaGFzKG5hbWUpe3JldHVybiBnZXRFeHRlbnNpb24obmFtZSkhPT1udWxsO30saW5pdDpmdW5jdGlvbiBpbml0KGNhcGFiaWxpdGllcyl7aWYoY2FwYWJpbGl0aWVzLmlzV2ViR0wyKXtnZXRFeHRlbnNpb24oJ0VYVF9jb2xvcl9idWZmZXJfZmxvYXQnKTt9ZWxzZXtnZXRFeHRlbnNpb24oJ1dFQkdMX2RlcHRoX3RleHR1cmUnKTtnZXRFeHRlbnNpb24oJ09FU190ZXh0dXJlX2Zsb2F0Jyk7Z2V0RXh0ZW5zaW9uKCdPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0Jyk7Z2V0RXh0ZW5zaW9uKCdPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0X2xpbmVhcicpO2dldEV4dGVuc2lvbignT0VTX3N0YW5kYXJkX2Rlcml2YXRpdmVzJyk7Z2V0RXh0ZW5zaW9uKCdPRVNfZWxlbWVudF9pbmRleF91aW50Jyk7Z2V0RXh0ZW5zaW9uKCdPRVNfdmVydGV4X2FycmF5X29iamVjdCcpO2dldEV4dGVuc2lvbignQU5HTEVfaW5zdGFuY2VkX2FycmF5cycpO31nZXRFeHRlbnNpb24oJ09FU190ZXh0dXJlX2Zsb2F0X2xpbmVhcicpO2dldEV4dGVuc2lvbignRVhUX2NvbG9yX2J1ZmZlcl9oYWxmX2Zsb2F0Jyk7Z2V0RXh0ZW5zaW9uKCdXRUJHTF9tdWx0aXNhbXBsZWRfcmVuZGVyX3RvX3RleHR1cmUnKTt9LGdldDpmdW5jdGlvbiBnZXQobmFtZSl7dmFyIGV4dGVuc2lvbj1nZXRFeHRlbnNpb24obmFtZSk7aWYoZXh0ZW5zaW9uPT09bnVsbCl7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFJlbmRlcmVyOiAnK25hbWUrJyBleHRlbnNpb24gbm90IHN1cHBvcnRlZC4nKTt9cmV0dXJuIGV4dGVuc2lvbjt9fTt9ZnVuY3Rpb24gV2ViR0xHZW9tZXRyaWVzKGdsLGF0dHJpYnV0ZXMsaW5mbyxiaW5kaW5nU3RhdGVzKXt2YXIgZ2VvbWV0cmllcz17fTt2YXIgd2lyZWZyYW1lQXR0cmlidXRlcz1uZXcgV2Vha01hcCgpO2Z1bmN0aW9uIG9uR2VvbWV0cnlEaXNwb3NlKGV2ZW50KXt2YXIgZ2VvbWV0cnk9ZXZlbnQudGFyZ2V0O2lmKGdlb21ldHJ5LmluZGV4IT09bnVsbCl7YXR0cmlidXRlcy5yZW1vdmUoZ2VvbWV0cnkuaW5kZXgpO31mb3IodmFyIG5hbWUgaW4gZ2VvbWV0cnkuYXR0cmlidXRlcyl7YXR0cmlidXRlcy5yZW1vdmUoZ2VvbWV0cnkuYXR0cmlidXRlc1tuYW1lXSk7fWdlb21ldHJ5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Rpc3Bvc2UnLG9uR2VvbWV0cnlEaXNwb3NlKTtkZWxldGUgZ2VvbWV0cmllc1tnZW9tZXRyeS5pZF07dmFyIGF0dHJpYnV0ZT13aXJlZnJhbWVBdHRyaWJ1dGVzLmdldChnZW9tZXRyeSk7aWYoYXR0cmlidXRlKXthdHRyaWJ1dGVzLnJlbW92ZShhdHRyaWJ1dGUpO3dpcmVmcmFtZUF0dHJpYnV0ZXMuZGVsZXRlKGdlb21ldHJ5KTt9YmluZGluZ1N0YXRlcy5yZWxlYXNlU3RhdGVzT2ZHZW9tZXRyeShnZW9tZXRyeSk7aWYoZ2VvbWV0cnkuaXNJbnN0YW5jZWRCdWZmZXJHZW9tZXRyeT09PXRydWUpe2RlbGV0ZSBnZW9tZXRyeS5fbWF4SW5zdGFuY2VDb3VudDt9Ly8KaW5mby5tZW1vcnkuZ2VvbWV0cmllcy0tO31mdW5jdGlvbiBnZXQob2JqZWN0LGdlb21ldHJ5KXtpZihnZW9tZXRyaWVzW2dlb21ldHJ5LmlkXT09PXRydWUpcmV0dXJuIGdlb21ldHJ5O2dlb21ldHJ5LmFkZEV2ZW50TGlzdGVuZXIoJ2Rpc3Bvc2UnLG9uR2VvbWV0cnlEaXNwb3NlKTtnZW9tZXRyaWVzW2dlb21ldHJ5LmlkXT10cnVlO2luZm8ubWVtb3J5Lmdlb21ldHJpZXMrKztyZXR1cm4gZ2VvbWV0cnk7fWZ1bmN0aW9uIHVwZGF0ZShnZW9tZXRyeSl7dmFyIGdlb21ldHJ5QXR0cmlidXRlcz1nZW9tZXRyeS5hdHRyaWJ1dGVzOy8vIFVwZGF0aW5nIGluZGV4IGJ1ZmZlciBpbiBWQU8gbm93LiBTZWUgV2ViR0xCaW5kaW5nU3RhdGVzLgpmb3IodmFyIG5hbWUgaW4gZ2VvbWV0cnlBdHRyaWJ1dGVzKXthdHRyaWJ1dGVzLnVwZGF0ZShnZW9tZXRyeUF0dHJpYnV0ZXNbbmFtZV0sMzQ5NjIpO30vLyBtb3JwaCB0YXJnZXRzCnZhciBtb3JwaEF0dHJpYnV0ZXM9Z2VvbWV0cnkubW9ycGhBdHRyaWJ1dGVzO2Zvcih2YXIgX25hbWUzIGluIG1vcnBoQXR0cmlidXRlcyl7dmFyIGFycmF5PW1vcnBoQXR0cmlidXRlc1tfbmFtZTNdO2Zvcih2YXIgX2k5MD0wLGw9YXJyYXkubGVuZ3RoO19pOTA8bDtfaTkwKyspe2F0dHJpYnV0ZXMudXBkYXRlKGFycmF5W19pOTBdLDM0OTYyKTt9fX1mdW5jdGlvbiB1cGRhdGVXaXJlZnJhbWVBdHRyaWJ1dGUoZ2VvbWV0cnkpe3ZhciBpbmRpY2VzPVtdO3ZhciBnZW9tZXRyeUluZGV4PWdlb21ldHJ5LmluZGV4O3ZhciBnZW9tZXRyeVBvc2l0aW9uPWdlb21ldHJ5LmF0dHJpYnV0ZXMucG9zaXRpb247dmFyIHZlcnNpb249MDtpZihnZW9tZXRyeUluZGV4IT09bnVsbCl7dmFyIGFycmF5PWdlb21ldHJ5SW5kZXguYXJyYXk7dmVyc2lvbj1nZW9tZXRyeUluZGV4LnZlcnNpb247Zm9yKHZhciBfaTkxPTAsbD1hcnJheS5sZW5ndGg7X2k5MTxsO19pOTErPTMpe3ZhciBhPWFycmF5W19pOTErMF07dmFyIGI9YXJyYXlbX2k5MSsxXTt2YXIgYz1hcnJheVtfaTkxKzJdO2luZGljZXMucHVzaChhLGIsYixjLGMsYSk7fX1lbHNle3ZhciBfYXJyYXk9Z2VvbWV0cnlQb3NpdGlvbi5hcnJheTt2ZXJzaW9uPWdlb21ldHJ5UG9zaXRpb24udmVyc2lvbjtmb3IodmFyIF9pOTI9MCxfbDU9X2FycmF5Lmxlbmd0aC8zLTE7X2k5MjxfbDU7X2k5Mis9Myl7dmFyIF9hND1faTkyKzA7dmFyIF9iND1faTkyKzE7dmFyIF9jND1faTkyKzI7aW5kaWNlcy5wdXNoKF9hNCxfYjQsX2I0LF9jNCxfYzQsX2E0KTt9fXZhciBhdHRyaWJ1dGU9bmV3KGFycmF5TmVlZHNVaW50MzIoaW5kaWNlcyk/VWludDMyQnVmZmVyQXR0cmlidXRlOlVpbnQxNkJ1ZmZlckF0dHJpYnV0ZSkoaW5kaWNlcywxKTthdHRyaWJ1dGUudmVyc2lvbj12ZXJzaW9uOy8vIFVwZGF0aW5nIGluZGV4IGJ1ZmZlciBpbiBWQU8gbm93LiBTZWUgV2ViR0xCaW5kaW5nU3RhdGVzCi8vCnZhciBwcmV2aW91c0F0dHJpYnV0ZT13aXJlZnJhbWVBdHRyaWJ1dGVzLmdldChnZW9tZXRyeSk7aWYocHJldmlvdXNBdHRyaWJ1dGUpYXR0cmlidXRlcy5yZW1vdmUocHJldmlvdXNBdHRyaWJ1dGUpOy8vCndpcmVmcmFtZUF0dHJpYnV0ZXMuc2V0KGdlb21ldHJ5LGF0dHJpYnV0ZSk7fWZ1bmN0aW9uIGdldFdpcmVmcmFtZUF0dHJpYnV0ZShnZW9tZXRyeSl7dmFyIGN1cnJlbnRBdHRyaWJ1dGU9d2lyZWZyYW1lQXR0cmlidXRlcy5nZXQoZ2VvbWV0cnkpO2lmKGN1cnJlbnRBdHRyaWJ1dGUpe3ZhciBnZW9tZXRyeUluZGV4PWdlb21ldHJ5LmluZGV4O2lmKGdlb21ldHJ5SW5kZXghPT1udWxsKXsvLyBpZiB0aGUgYXR0cmlidXRlIGlzIG9ic29sZXRlLCBjcmVhdGUgYSBuZXcgb25lCmlmKGN1cnJlbnRBdHRyaWJ1dGUudmVyc2lvbjxnZW9tZXRyeUluZGV4LnZlcnNpb24pe3VwZGF0ZVdpcmVmcmFtZUF0dHJpYnV0ZShnZW9tZXRyeSk7fX19ZWxzZXt1cGRhdGVXaXJlZnJhbWVBdHRyaWJ1dGUoZ2VvbWV0cnkpO31yZXR1cm4gd2lyZWZyYW1lQXR0cmlidXRlcy5nZXQoZ2VvbWV0cnkpO31yZXR1cm57Z2V0OmdldCx1cGRhdGU6dXBkYXRlLGdldFdpcmVmcmFtZUF0dHJpYnV0ZTpnZXRXaXJlZnJhbWVBdHRyaWJ1dGV9O31mdW5jdGlvbiBXZWJHTEluZGV4ZWRCdWZmZXJSZW5kZXJlcihnbCxleHRlbnNpb25zLGluZm8sY2FwYWJpbGl0aWVzKXt2YXIgaXNXZWJHTDI9Y2FwYWJpbGl0aWVzLmlzV2ViR0wyO3ZhciBtb2RlO2Z1bmN0aW9uIHNldE1vZGUodmFsdWUpe21vZGU9dmFsdWU7fXZhciB0eXBlLGJ5dGVzUGVyRWxlbWVudDtmdW5jdGlvbiBzZXRJbmRleCh2YWx1ZSl7dHlwZT12YWx1ZS50eXBlO2J5dGVzUGVyRWxlbWVudD12YWx1ZS5ieXRlc1BlckVsZW1lbnQ7fWZ1bmN0aW9uIHJlbmRlcihzdGFydCxjb3VudCl7Z2wuZHJhd0VsZW1lbnRzKG1vZGUsY291bnQsdHlwZSxzdGFydCpieXRlc1BlckVsZW1lbnQpO2luZm8udXBkYXRlKGNvdW50LG1vZGUsMSk7fWZ1bmN0aW9uIHJlbmRlckluc3RhbmNlcyhzdGFydCxjb3VudCxwcmltY291bnQpe2lmKHByaW1jb3VudD09PTApcmV0dXJuO3ZhciBleHRlbnNpb24sbWV0aG9kTmFtZTtpZihpc1dlYkdMMil7ZXh0ZW5zaW9uPWdsO21ldGhvZE5hbWU9J2RyYXdFbGVtZW50c0luc3RhbmNlZCc7fWVsc2V7ZXh0ZW5zaW9uPWV4dGVuc2lvbnMuZ2V0KCdBTkdMRV9pbnN0YW5jZWRfYXJyYXlzJyk7bWV0aG9kTmFtZT0nZHJhd0VsZW1lbnRzSW5zdGFuY2VkQU5HTEUnO2lmKGV4dGVuc2lvbj09PW51bGwpe2NvbnNvbGUuZXJyb3IoJ1RIUkVFLldlYkdMSW5kZXhlZEJ1ZmZlclJlbmRlcmVyOiB1c2luZyBUSFJFRS5JbnN0YW5jZWRCdWZmZXJHZW9tZXRyeSBidXQgaGFyZHdhcmUgZG9lcyBub3Qgc3VwcG9ydCBleHRlbnNpb24gQU5HTEVfaW5zdGFuY2VkX2FycmF5cy4nKTtyZXR1cm47fX1leHRlbnNpb25bbWV0aG9kTmFtZV0obW9kZSxjb3VudCx0eXBlLHN0YXJ0KmJ5dGVzUGVyRWxlbWVudCxwcmltY291bnQpO2luZm8udXBkYXRlKGNvdW50LG1vZGUscHJpbWNvdW50KTt9Ly8KdGhpcy5zZXRNb2RlPXNldE1vZGU7dGhpcy5zZXRJbmRleD1zZXRJbmRleDt0aGlzLnJlbmRlcj1yZW5kZXI7dGhpcy5yZW5kZXJJbnN0YW5jZXM9cmVuZGVySW5zdGFuY2VzO31mdW5jdGlvbiBXZWJHTEluZm8oZ2wpe3ZhciBtZW1vcnk9e2dlb21ldHJpZXM6MCx0ZXh0dXJlczowfTt2YXIgcmVuZGVyPXtmcmFtZTowLGNhbGxzOjAsdHJpYW5nbGVzOjAscG9pbnRzOjAsbGluZXM6MH07ZnVuY3Rpb24gdXBkYXRlKGNvdW50LG1vZGUsaW5zdGFuY2VDb3VudCl7cmVuZGVyLmNhbGxzKys7c3dpdGNoKG1vZGUpe2Nhc2UgNDpyZW5kZXIudHJpYW5nbGVzKz1pbnN0YW5jZUNvdW50Kihjb3VudC8zKTticmVhaztjYXNlIDE6cmVuZGVyLmxpbmVzKz1pbnN0YW5jZUNvdW50Kihjb3VudC8yKTticmVhaztjYXNlIDM6cmVuZGVyLmxpbmVzKz1pbnN0YW5jZUNvdW50Kihjb3VudC0xKTticmVhaztjYXNlIDI6cmVuZGVyLmxpbmVzKz1pbnN0YW5jZUNvdW50KmNvdW50O2JyZWFrO2Nhc2UgMDpyZW5kZXIucG9pbnRzKz1pbnN0YW5jZUNvdW50KmNvdW50O2JyZWFrO2RlZmF1bHQ6Y29uc29sZS5lcnJvcignVEhSRUUuV2ViR0xJbmZvOiBVbmtub3duIGRyYXcgbW9kZTonLG1vZGUpO2JyZWFrO319ZnVuY3Rpb24gcmVzZXQoKXtyZW5kZXIuZnJhbWUrKztyZW5kZXIuY2FsbHM9MDtyZW5kZXIudHJpYW5nbGVzPTA7cmVuZGVyLnBvaW50cz0wO3JlbmRlci5saW5lcz0wO31yZXR1cm57bWVtb3J5Om1lbW9yeSxyZW5kZXI6cmVuZGVyLHByb2dyYW1zOm51bGwsYXV0b1Jlc2V0OnRydWUscmVzZXQ6cmVzZXQsdXBkYXRlOnVwZGF0ZX07fXZhciBEYXRhVGV4dHVyZTJEQXJyYXk9LyojX19QVVJFX18qL2Z1bmN0aW9uKF9UZXh0dXJlMil7X2luaGVyaXRzKERhdGFUZXh0dXJlMkRBcnJheSxfVGV4dHVyZTIpO3ZhciBfc3VwZXIzMD1fY3JlYXRlU3VwZXIoRGF0YVRleHR1cmUyREFycmF5KTtmdW5jdGlvbiBEYXRhVGV4dHVyZTJEQXJyYXkoKXt2YXIgX3RoaXMyMTt2YXIgZGF0YT1hcmd1bWVudHMubGVuZ3RoPjAmJmFyZ3VtZW50c1swXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMF06bnVsbDt2YXIgd2lkdGg9YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzFdOjE7dmFyIGhlaWdodD1hcmd1bWVudHMubGVuZ3RoPjImJmFyZ3VtZW50c1syXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMl06MTt2YXIgZGVwdGg9YXJndW1lbnRzLmxlbmd0aD4zJiZhcmd1bWVudHNbM10hPT11bmRlZmluZWQ/YXJndW1lbnRzWzNdOjE7X2NsYXNzQ2FsbENoZWNrKHRoaXMsRGF0YVRleHR1cmUyREFycmF5KTtfdGhpczIxPV9zdXBlcjMwLmNhbGwodGhpcyxudWxsKTtfdGhpczIxLmltYWdlPXtkYXRhOmRhdGEsd2lkdGg6d2lkdGgsaGVpZ2h0OmhlaWdodCxkZXB0aDpkZXB0aH07X3RoaXMyMS5tYWdGaWx0ZXI9TmVhcmVzdEZpbHRlcjtfdGhpczIxLm1pbkZpbHRlcj1OZWFyZXN0RmlsdGVyO190aGlzMjEud3JhcFI9Q2xhbXBUb0VkZ2VXcmFwcGluZztfdGhpczIxLmdlbmVyYXRlTWlwbWFwcz1mYWxzZTtfdGhpczIxLmZsaXBZPWZhbHNlO190aGlzMjEudW5wYWNrQWxpZ25tZW50PTE7cmV0dXJuIF90aGlzMjE7fXJldHVybiBfY3JlYXRlQ2xhc3MoRGF0YVRleHR1cmUyREFycmF5KTt9KFRleHR1cmUpO0RhdGFUZXh0dXJlMkRBcnJheS5wcm90b3R5cGUuaXNEYXRhVGV4dHVyZTJEQXJyYXk9dHJ1ZTtmdW5jdGlvbiBudW1lcmljYWxTb3J0KGEsYil7cmV0dXJuIGFbMF0tYlswXTt9ZnVuY3Rpb24gYWJzTnVtZXJpY2FsU29ydChhLGIpe3JldHVybiBNYXRoLmFicyhiWzFdKS1NYXRoLmFicyhhWzFdKTt9ZnVuY3Rpb24gZGVub3JtYWxpemUobW9ycGgsYXR0cmlidXRlKXt2YXIgZGVub21pbmF0b3I9MTt2YXIgYXJyYXk9YXR0cmlidXRlLmlzSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGU/YXR0cmlidXRlLmRhdGEuYXJyYXk6YXR0cmlidXRlLmFycmF5O2lmKGFycmF5IGluc3RhbmNlb2YgSW50OEFycmF5KWRlbm9taW5hdG9yPTEyNztlbHNlIGlmKGFycmF5IGluc3RhbmNlb2YgSW50MTZBcnJheSlkZW5vbWluYXRvcj0zMjc2NztlbHNlIGlmKGFycmF5IGluc3RhbmNlb2YgSW50MzJBcnJheSlkZW5vbWluYXRvcj0yMTQ3NDgzNjQ3O2Vsc2UgY29uc29sZS5lcnJvcignVEhSRUUuV2ViR0xNb3JwaHRhcmdldHM6IFVuc3VwcG9ydGVkIG1vcnBoIGF0dHJpYnV0ZSBkYXRhIHR5cGU6ICcsYXJyYXkpO21vcnBoLmRpdmlkZVNjYWxhcihkZW5vbWluYXRvcik7fWZ1bmN0aW9uIFdlYkdMTW9ycGh0YXJnZXRzKGdsLGNhcGFiaWxpdGllcyx0ZXh0dXJlcyl7dmFyIGluZmx1ZW5jZXNMaXN0PXt9O3ZhciBtb3JwaEluZmx1ZW5jZXM9bmV3IEZsb2F0MzJBcnJheSg4KTt2YXIgbW9ycGhUZXh0dXJlcz1uZXcgV2Vha01hcCgpO3ZhciBtb3JwaD1uZXcgVmVjdG9yMygpO3ZhciB3b3JrSW5mbHVlbmNlcz1bXTtmb3IodmFyIF9pOTM9MDtfaTkzPDg7X2k5MysrKXt3b3JrSW5mbHVlbmNlc1tfaTkzXT1bX2k5MywwXTt9ZnVuY3Rpb24gdXBkYXRlKG9iamVjdCxnZW9tZXRyeSxtYXRlcmlhbCxwcm9ncmFtKXt2YXIgb2JqZWN0SW5mbHVlbmNlcz1vYmplY3QubW9ycGhUYXJnZXRJbmZsdWVuY2VzO2lmKGNhcGFiaWxpdGllcy5pc1dlYkdMMj09PXRydWUpey8vIGluc3RlYWQgb2YgdXNpbmcgYXR0cmlidXRlcywgdGhlIFdlYkdMIDIgY29kZSBwYXRoIGVuY29kZXMgbW9ycGggdGFyZ2V0cwovLyBpbnRvIGFuIGFycmF5IG9mIGRhdGEgdGV4dHVyZXMuIEVhY2ggbGF5ZXIgcmVwcmVzZW50cyBhIHNpbmdsZSBtb3JwaCB0YXJnZXQuCnZhciBudW1iZXJPZk1vcnBoVGFyZ2V0cz1nZW9tZXRyeS5tb3JwaEF0dHJpYnV0ZXMucG9zaXRpb24ubGVuZ3RoO3ZhciBlbnRyeT1tb3JwaFRleHR1cmVzLmdldChnZW9tZXRyeSk7aWYoZW50cnk9PT11bmRlZmluZWR8fGVudHJ5LmNvdW50IT09bnVtYmVyT2ZNb3JwaFRhcmdldHMpe3ZhciBkaXNwb3NlVGV4dHVyZT1mdW5jdGlvbiBkaXNwb3NlVGV4dHVyZSgpe3RleHR1cmUuZGlzcG9zZSgpO21vcnBoVGV4dHVyZXMuZGVsZXRlKGdlb21ldHJ5KTtnZW9tZXRyeS5yZW1vdmVFdmVudExpc3RlbmVyKCdkaXNwb3NlJyxkaXNwb3NlVGV4dHVyZSk7fTtpZihlbnRyeSE9PXVuZGVmaW5lZCllbnRyeS50ZXh0dXJlLmRpc3Bvc2UoKTt2YXIgaGFzTW9ycGhOb3JtYWxzPWdlb21ldHJ5Lm1vcnBoQXR0cmlidXRlcy5ub3JtYWwhPT11bmRlZmluZWQ7dmFyIG1vcnBoVGFyZ2V0cz1nZW9tZXRyeS5tb3JwaEF0dHJpYnV0ZXMucG9zaXRpb247dmFyIG1vcnBoTm9ybWFscz1nZW9tZXRyeS5tb3JwaEF0dHJpYnV0ZXMubm9ybWFsfHxbXTt2YXIgbnVtYmVyT2ZWZXJ0aWNlcz1nZW9tZXRyeS5hdHRyaWJ1dGVzLnBvc2l0aW9uLmNvdW50O3ZhciBudW1iZXJPZlZlcnRleERhdGE9aGFzTW9ycGhOb3JtYWxzPT09dHJ1ZT8yOjE7Ly8gKHYsbikgdnMuICh2KQp2YXIgd2lkdGg9bnVtYmVyT2ZWZXJ0aWNlcypudW1iZXJPZlZlcnRleERhdGE7dmFyIGhlaWdodD0xO2lmKHdpZHRoPmNhcGFiaWxpdGllcy5tYXhUZXh0dXJlU2l6ZSl7aGVpZ2h0PU1hdGguY2VpbCh3aWR0aC9jYXBhYmlsaXRpZXMubWF4VGV4dHVyZVNpemUpO3dpZHRoPWNhcGFiaWxpdGllcy5tYXhUZXh0dXJlU2l6ZTt9dmFyIGJ1ZmZlcj1uZXcgRmxvYXQzMkFycmF5KHdpZHRoKmhlaWdodCo0Km51bWJlck9mTW9ycGhUYXJnZXRzKTt2YXIgdGV4dHVyZT1uZXcgRGF0YVRleHR1cmUyREFycmF5KGJ1ZmZlcix3aWR0aCxoZWlnaHQsbnVtYmVyT2ZNb3JwaFRhcmdldHMpO3RleHR1cmUuZm9ybWF0PVJHQkFGb3JtYXQ7Ly8gdXNpbmcgUkdCQSBzaW5jZSBSR0IgbWlnaHQgYmUgZW11bGF0ZWQgKGFuZCBpcyB0aHVzIHNsb3dlcikKdGV4dHVyZS50eXBlPUZsb2F0VHlwZTt0ZXh0dXJlLm5lZWRzVXBkYXRlPXRydWU7Ly8gZmlsbCBidWZmZXIKdmFyIHZlcnRleERhdGFTdHJpZGU9bnVtYmVyT2ZWZXJ0ZXhEYXRhKjQ7Zm9yKHZhciBfaTk0PTA7X2k5NDxudW1iZXJPZk1vcnBoVGFyZ2V0cztfaTk0Kyspe3ZhciBtb3JwaFRhcmdldD1tb3JwaFRhcmdldHNbX2k5NF07dmFyIG1vcnBoTm9ybWFsPW1vcnBoTm9ybWFsc1tfaTk0XTt2YXIgb2Zmc2V0PXdpZHRoKmhlaWdodCo0Kl9pOTQ7Zm9yKHZhciBqPTA7ajxtb3JwaFRhcmdldC5jb3VudDtqKyspe21vcnBoLmZyb21CdWZmZXJBdHRyaWJ1dGUobW9ycGhUYXJnZXQsaik7aWYobW9ycGhUYXJnZXQubm9ybWFsaXplZD09PXRydWUpZGVub3JtYWxpemUobW9ycGgsbW9ycGhUYXJnZXQpO3ZhciBzdHJpZGU9aip2ZXJ0ZXhEYXRhU3RyaWRlO2J1ZmZlcltvZmZzZXQrc3RyaWRlKzBdPW1vcnBoLng7YnVmZmVyW29mZnNldCtzdHJpZGUrMV09bW9ycGgueTtidWZmZXJbb2Zmc2V0K3N0cmlkZSsyXT1tb3JwaC56O2J1ZmZlcltvZmZzZXQrc3RyaWRlKzNdPTA7aWYoaGFzTW9ycGhOb3JtYWxzPT09dHJ1ZSl7bW9ycGguZnJvbUJ1ZmZlckF0dHJpYnV0ZShtb3JwaE5vcm1hbCxqKTtpZihtb3JwaE5vcm1hbC5ub3JtYWxpemVkPT09dHJ1ZSlkZW5vcm1hbGl6ZShtb3JwaCxtb3JwaE5vcm1hbCk7YnVmZmVyW29mZnNldCtzdHJpZGUrNF09bW9ycGgueDtidWZmZXJbb2Zmc2V0K3N0cmlkZSs1XT1tb3JwaC55O2J1ZmZlcltvZmZzZXQrc3RyaWRlKzZdPW1vcnBoLno7YnVmZmVyW29mZnNldCtzdHJpZGUrN109MDt9fX1lbnRyeT17Y291bnQ6bnVtYmVyT2ZNb3JwaFRhcmdldHMsdGV4dHVyZTp0ZXh0dXJlLHNpemU6bmV3IFZlY3RvcjIod2lkdGgsaGVpZ2h0KX07bW9ycGhUZXh0dXJlcy5zZXQoZ2VvbWV0cnksZW50cnkpO2dlb21ldHJ5LmFkZEV2ZW50TGlzdGVuZXIoJ2Rpc3Bvc2UnLGRpc3Bvc2VUZXh0dXJlKTt9Ly8KdmFyIG1vcnBoSW5mbHVlbmNlc1N1bT0wO2Zvcih2YXIgX2k5NT0wO19pOTU8b2JqZWN0SW5mbHVlbmNlcy5sZW5ndGg7X2k5NSsrKXttb3JwaEluZmx1ZW5jZXNTdW0rPW9iamVjdEluZmx1ZW5jZXNbX2k5NV07fXZhciBtb3JwaEJhc2VJbmZsdWVuY2U9Z2VvbWV0cnkubW9ycGhUYXJnZXRzUmVsYXRpdmU/MToxLW1vcnBoSW5mbHVlbmNlc1N1bTtwcm9ncmFtLmdldFVuaWZvcm1zKCkuc2V0VmFsdWUoZ2wsJ21vcnBoVGFyZ2V0QmFzZUluZmx1ZW5jZScsbW9ycGhCYXNlSW5mbHVlbmNlKTtwcm9ncmFtLmdldFVuaWZvcm1zKCkuc2V0VmFsdWUoZ2wsJ21vcnBoVGFyZ2V0SW5mbHVlbmNlcycsb2JqZWN0SW5mbHVlbmNlcyk7cHJvZ3JhbS5nZXRVbmlmb3JtcygpLnNldFZhbHVlKGdsLCdtb3JwaFRhcmdldHNUZXh0dXJlJyxlbnRyeS50ZXh0dXJlLHRleHR1cmVzKTtwcm9ncmFtLmdldFVuaWZvcm1zKCkuc2V0VmFsdWUoZ2wsJ21vcnBoVGFyZ2V0c1RleHR1cmVTaXplJyxlbnRyeS5zaXplKTt9ZWxzZXsvLyBXaGVuIG9iamVjdCBkb2Vzbid0IGhhdmUgbW9ycGggdGFyZ2V0IGluZmx1ZW5jZXMgZGVmaW5lZCwgd2UgdHJlYXQgaXQgYXMgYSAwLWxlbmd0aCBhcnJheQovLyBUaGlzIGlzIGltcG9ydGFudCB0byBtYWtlIHN1cmUgd2Ugc2V0IHVwIG1vcnBoVGFyZ2V0QmFzZUluZmx1ZW5jZSAvIG1vcnBoVGFyZ2V0SW5mbHVlbmNlcwp2YXIgbGVuZ3RoPW9iamVjdEluZmx1ZW5jZXM9PT11bmRlZmluZWQ/MDpvYmplY3RJbmZsdWVuY2VzLmxlbmd0aDt2YXIgaW5mbHVlbmNlcz1pbmZsdWVuY2VzTGlzdFtnZW9tZXRyeS5pZF07aWYoaW5mbHVlbmNlcz09PXVuZGVmaW5lZHx8aW5mbHVlbmNlcy5sZW5ndGghPT1sZW5ndGgpey8vIGluaXRpYWxpc2UgbGlzdAppbmZsdWVuY2VzPVtdO2Zvcih2YXIgX2k5Nj0wO19pOTY8bGVuZ3RoO19pOTYrKyl7aW5mbHVlbmNlc1tfaTk2XT1bX2k5NiwwXTt9aW5mbHVlbmNlc0xpc3RbZ2VvbWV0cnkuaWRdPWluZmx1ZW5jZXM7fS8vIENvbGxlY3QgaW5mbHVlbmNlcwpmb3IodmFyIF9pOTc9MDtfaTk3PGxlbmd0aDtfaTk3Kyspe3ZhciBpbmZsdWVuY2U9aW5mbHVlbmNlc1tfaTk3XTtpbmZsdWVuY2VbMF09X2k5NztpbmZsdWVuY2VbMV09b2JqZWN0SW5mbHVlbmNlc1tfaTk3XTt9aW5mbHVlbmNlcy5zb3J0KGFic051bWVyaWNhbFNvcnQpO2Zvcih2YXIgX2k5OD0wO19pOTg8ODtfaTk4Kyspe2lmKF9pOTg8bGVuZ3RoJiZpbmZsdWVuY2VzW19pOThdWzFdKXt3b3JrSW5mbHVlbmNlc1tfaTk4XVswXT1pbmZsdWVuY2VzW19pOThdWzBdO3dvcmtJbmZsdWVuY2VzW19pOThdWzFdPWluZmx1ZW5jZXNbX2k5OF1bMV07fWVsc2V7d29ya0luZmx1ZW5jZXNbX2k5OF1bMF09TnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7d29ya0luZmx1ZW5jZXNbX2k5OF1bMV09MDt9fXdvcmtJbmZsdWVuY2VzLnNvcnQobnVtZXJpY2FsU29ydCk7dmFyIF9tb3JwaFRhcmdldHM9Z2VvbWV0cnkubW9ycGhBdHRyaWJ1dGVzLnBvc2l0aW9uO3ZhciBfbW9ycGhOb3JtYWxzPWdlb21ldHJ5Lm1vcnBoQXR0cmlidXRlcy5ub3JtYWw7dmFyIF9tb3JwaEluZmx1ZW5jZXNTdW09MDtmb3IodmFyIF9pOTk9MDtfaTk5PDg7X2k5OSsrKXt2YXIgX2luZmx1ZW5jZT13b3JrSW5mbHVlbmNlc1tfaTk5XTt2YXIgaW5kZXg9X2luZmx1ZW5jZVswXTt2YXIgX3ZhbHVlMz1faW5mbHVlbmNlWzFdO2lmKGluZGV4IT09TnVtYmVyLk1BWF9TQUZFX0lOVEVHRVImJl92YWx1ZTMpe2lmKF9tb3JwaFRhcmdldHMmJmdlb21ldHJ5LmdldEF0dHJpYnV0ZSgnbW9ycGhUYXJnZXQnK19pOTkpIT09X21vcnBoVGFyZ2V0c1tpbmRleF0pe2dlb21ldHJ5LnNldEF0dHJpYnV0ZSgnbW9ycGhUYXJnZXQnK19pOTksX21vcnBoVGFyZ2V0c1tpbmRleF0pO31pZihfbW9ycGhOb3JtYWxzJiZnZW9tZXRyeS5nZXRBdHRyaWJ1dGUoJ21vcnBoTm9ybWFsJytfaTk5KSE9PV9tb3JwaE5vcm1hbHNbaW5kZXhdKXtnZW9tZXRyeS5zZXRBdHRyaWJ1dGUoJ21vcnBoTm9ybWFsJytfaTk5LF9tb3JwaE5vcm1hbHNbaW5kZXhdKTt9bW9ycGhJbmZsdWVuY2VzW19pOTldPV92YWx1ZTM7X21vcnBoSW5mbHVlbmNlc1N1bSs9X3ZhbHVlMzt9ZWxzZXtpZihfbW9ycGhUYXJnZXRzJiZnZW9tZXRyeS5oYXNBdHRyaWJ1dGUoJ21vcnBoVGFyZ2V0JytfaTk5KT09PXRydWUpe2dlb21ldHJ5LmRlbGV0ZUF0dHJpYnV0ZSgnbW9ycGhUYXJnZXQnK19pOTkpO31pZihfbW9ycGhOb3JtYWxzJiZnZW9tZXRyeS5oYXNBdHRyaWJ1dGUoJ21vcnBoTm9ybWFsJytfaTk5KT09PXRydWUpe2dlb21ldHJ5LmRlbGV0ZUF0dHJpYnV0ZSgnbW9ycGhOb3JtYWwnK19pOTkpO31tb3JwaEluZmx1ZW5jZXNbX2k5OV09MDt9fS8vIEdMU0wgc2hhZGVyIHVzZXMgZm9ybXVsYSBiYXNlaW5mbHVlbmNlICogYmFzZSArIHN1bSh0YXJnZXQgKiBpbmZsdWVuY2UpCi8vIFRoaXMgYWxsb3dzIHVzIHRvIHN3aXRjaCBiZXR3ZWVuIGFic29sdXRlIG1vcnBocyBhbmQgcmVsYXRpdmUgbW9ycGhzIHdpdGhvdXQgY2hhbmdpbmcgc2hhZGVyIGNvZGUKLy8gV2hlbiBiYXNlaW5mbHVlbmNlID0gMSAtIHN1bShpbmZsdWVuY2UpLCB0aGUgYWJvdmUgaXMgZXF1aXZhbGVudCB0byBzdW0oKHRhcmdldCAtIGJhc2UpICogaW5mbHVlbmNlKQp2YXIgX21vcnBoQmFzZUluZmx1ZW5jZT1nZW9tZXRyeS5tb3JwaFRhcmdldHNSZWxhdGl2ZT8xOjEtX21vcnBoSW5mbHVlbmNlc1N1bTtwcm9ncmFtLmdldFVuaWZvcm1zKCkuc2V0VmFsdWUoZ2wsJ21vcnBoVGFyZ2V0QmFzZUluZmx1ZW5jZScsX21vcnBoQmFzZUluZmx1ZW5jZSk7cHJvZ3JhbS5nZXRVbmlmb3JtcygpLnNldFZhbHVlKGdsLCdtb3JwaFRhcmdldEluZmx1ZW5jZXMnLG1vcnBoSW5mbHVlbmNlcyk7fX1yZXR1cm57dXBkYXRlOnVwZGF0ZX07fWZ1bmN0aW9uIFdlYkdMT2JqZWN0cyhnbCxnZW9tZXRyaWVzLGF0dHJpYnV0ZXMsaW5mbyl7dmFyIHVwZGF0ZU1hcD1uZXcgV2Vha01hcCgpO2Z1bmN0aW9uIHVwZGF0ZShvYmplY3Qpe3ZhciBmcmFtZT1pbmZvLnJlbmRlci5mcmFtZTt2YXIgZ2VvbWV0cnk9b2JqZWN0Lmdlb21ldHJ5O3ZhciBidWZmZXJnZW9tZXRyeT1nZW9tZXRyaWVzLmdldChvYmplY3QsZ2VvbWV0cnkpOy8vIFVwZGF0ZSBvbmNlIHBlciBmcmFtZQppZih1cGRhdGVNYXAuZ2V0KGJ1ZmZlcmdlb21ldHJ5KSE9PWZyYW1lKXtnZW9tZXRyaWVzLnVwZGF0ZShidWZmZXJnZW9tZXRyeSk7dXBkYXRlTWFwLnNldChidWZmZXJnZW9tZXRyeSxmcmFtZSk7fWlmKG9iamVjdC5pc0luc3RhbmNlZE1lc2gpe2lmKG9iamVjdC5oYXNFdmVudExpc3RlbmVyKCdkaXNwb3NlJyxvbkluc3RhbmNlZE1lc2hEaXNwb3NlKT09PWZhbHNlKXtvYmplY3QuYWRkRXZlbnRMaXN0ZW5lcignZGlzcG9zZScsb25JbnN0YW5jZWRNZXNoRGlzcG9zZSk7fWF0dHJpYnV0ZXMudXBkYXRlKG9iamVjdC5pbnN0YW5jZU1hdHJpeCwzNDk2Mik7aWYob2JqZWN0Lmluc3RhbmNlQ29sb3IhPT1udWxsKXthdHRyaWJ1dGVzLnVwZGF0ZShvYmplY3QuaW5zdGFuY2VDb2xvciwzNDk2Mik7fX1yZXR1cm4gYnVmZmVyZ2VvbWV0cnk7fWZ1bmN0aW9uIGRpc3Bvc2UoKXt1cGRhdGVNYXA9bmV3IFdlYWtNYXAoKTt9ZnVuY3Rpb24gb25JbnN0YW5jZWRNZXNoRGlzcG9zZShldmVudCl7dmFyIGluc3RhbmNlZE1lc2g9ZXZlbnQudGFyZ2V0O2luc3RhbmNlZE1lc2gucmVtb3ZlRXZlbnRMaXN0ZW5lcignZGlzcG9zZScsb25JbnN0YW5jZWRNZXNoRGlzcG9zZSk7YXR0cmlidXRlcy5yZW1vdmUoaW5zdGFuY2VkTWVzaC5pbnN0YW5jZU1hdHJpeCk7aWYoaW5zdGFuY2VkTWVzaC5pbnN0YW5jZUNvbG9yIT09bnVsbClhdHRyaWJ1dGVzLnJlbW92ZShpbnN0YW5jZWRNZXNoLmluc3RhbmNlQ29sb3IpO31yZXR1cm57dXBkYXRlOnVwZGF0ZSxkaXNwb3NlOmRpc3Bvc2V9O312YXIgRGF0YVRleHR1cmUzRD0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX1RleHR1cmUzKXtfaW5oZXJpdHMoRGF0YVRleHR1cmUzRCxfVGV4dHVyZTMpO3ZhciBfc3VwZXIzMT1fY3JlYXRlU3VwZXIoRGF0YVRleHR1cmUzRCk7ZnVuY3Rpb24gRGF0YVRleHR1cmUzRCgpe3ZhciBfdGhpczIyO3ZhciBkYXRhPWFyZ3VtZW50cy5sZW5ndGg+MCYmYXJndW1lbnRzWzBdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1swXTpudWxsO3ZhciB3aWR0aD1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMV06MTt2YXIgaGVpZ2h0PWFyZ3VtZW50cy5sZW5ndGg+MiYmYXJndW1lbnRzWzJdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1syXToxO3ZhciBkZXB0aD1hcmd1bWVudHMubGVuZ3RoPjMmJmFyZ3VtZW50c1szXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbM106MTtfY2xhc3NDYWxsQ2hlY2sodGhpcyxEYXRhVGV4dHVyZTNEKTsvLyBXZSdyZSBnb2luZyB0byBhZGQgLnNldFhYWCgpIG1ldGhvZHMgZm9yIHNldHRpbmcgcHJvcGVydGllcyBsYXRlci4KLy8gVXNlcnMgY2FuIHN0aWxsIHNldCBpbiBEYXRhVGV4dHVyZTNEIGRpcmVjdGx5LgovLwovLwljb25zdCB0ZXh0dXJlID0gbmV3IFRIUkVFLkRhdGFUZXh0dXJlM0QoIGRhdGEsIHdpZHRoLCBoZWlnaHQsIGRlcHRoICk7Ci8vIAl0ZXh0dXJlLmFuaXNvdHJvcHkgPSAxNjsKLy8KLy8gU2VlICMxNDgzOQpfdGhpczIyPV9zdXBlcjMxLmNhbGwodGhpcyxudWxsKTtfdGhpczIyLmltYWdlPXtkYXRhOmRhdGEsd2lkdGg6d2lkdGgsaGVpZ2h0OmhlaWdodCxkZXB0aDpkZXB0aH07X3RoaXMyMi5tYWdGaWx0ZXI9TmVhcmVzdEZpbHRlcjtfdGhpczIyLm1pbkZpbHRlcj1OZWFyZXN0RmlsdGVyO190aGlzMjIud3JhcFI9Q2xhbXBUb0VkZ2VXcmFwcGluZztfdGhpczIyLmdlbmVyYXRlTWlwbWFwcz1mYWxzZTtfdGhpczIyLmZsaXBZPWZhbHNlO190aGlzMjIudW5wYWNrQWxpZ25tZW50PTE7cmV0dXJuIF90aGlzMjI7fXJldHVybiBfY3JlYXRlQ2xhc3MoRGF0YVRleHR1cmUzRCk7fShUZXh0dXJlKTtEYXRhVGV4dHVyZTNELnByb3RvdHlwZS5pc0RhdGFUZXh0dXJlM0Q9dHJ1ZTsvKioKICogVW5pZm9ybXMgb2YgYSBwcm9ncmFtLgogKiBUaG9zZSBmb3JtIGEgdHJlZSBzdHJ1Y3R1cmUgd2l0aCBhIHNwZWNpYWwgdG9wLWxldmVsIGNvbnRhaW5lciBmb3IgdGhlIHJvb3QsCiAqIHdoaWNoIHlvdSBnZXQgYnkgY2FsbGluZyAnbmV3IFdlYkdMVW5pZm9ybXMoIGdsLCBwcm9ncmFtICknLgogKgogKgogKiBQcm9wZXJ0aWVzIG9mIGlubmVyIG5vZGVzIGluY2x1ZGluZyB0aGUgdG9wLWxldmVsIGNvbnRhaW5lcjoKICoKICogLnNlcSAtIGFycmF5IG9mIG5lc3RlZCB1bmlmb3JtcwogKiAubWFwIC0gbmVzdGVkIHVuaWZvcm1zIGJ5IG5hbWUKICoKICoKICogTWV0aG9kcyBvZiBhbGwgbm9kZXMgZXhjZXB0IHRoZSB0b3AtbGV2ZWwgY29udGFpbmVyOgogKgogKiAuc2V0VmFsdWUoIGdsLCB2YWx1ZSwgW3RleHR1cmVzXSApCiAqCiAqIAkJdXBsb2FkcyBhIHVuaWZvcm0gdmFsdWUocykKICogIAl0aGUgJ3RleHR1cmVzJyBwYXJhbWV0ZXIgaXMgbmVlZGVkIGZvciBzYW1wbGVyIHVuaWZvcm1zCiAqCiAqCiAqIFN0YXRpYyBtZXRob2RzIG9mIHRoZSB0b3AtbGV2ZWwgY29udGFpbmVyICh0ZXh0dXJlcyBmYWN0b3JpemF0aW9ucyk6CiAqCiAqIC51cGxvYWQoIGdsLCBzZXEsIHZhbHVlcywgdGV4dHVyZXMgKQogKgogKiAJCXNldHMgdW5pZm9ybXMgaW4gJ3NlcScgdG8gJ3ZhbHVlc1tpZF0udmFsdWUnCiAqCiAqIC5zZXFXaXRoVmFsdWUoIHNlcSwgdmFsdWVzICkgOiBmaWx0ZXJlZFNlcQogKgogKiAJCWZpbHRlcnMgJ3NlcScgZW50cmllcyB3aXRoIGNvcnJlc3BvbmRpbmcgZW50cnkgaW4gdmFsdWVzCiAqCiAqCiAqIE1ldGhvZHMgb2YgdGhlIHRvcC1sZXZlbCBjb250YWluZXIgKHRleHR1cmVzIGZhY3Rvcml6YXRpb25zKToKICoKICogLnNldFZhbHVlKCBnbCwgbmFtZSwgdmFsdWUsIHRleHR1cmVzICkKICoKICogCQlzZXRzIHVuaWZvcm0gd2l0aCAgbmFtZSAnbmFtZScgdG8gJ3ZhbHVlJwogKgogKiAuc2V0T3B0aW9uYWwoIGdsLCBvYmosIHByb3AgKQogKgogKiAJCWxpa2UgLnNldCBmb3IgYW4gb3B0aW9uYWwgcHJvcGVydHkgb2YgdGhlIG9iamVjdAogKgogKi92YXIgZW1wdHlUZXh0dXJlPW5ldyBUZXh0dXJlKCk7dmFyIGVtcHR5VGV4dHVyZTJkQXJyYXk9bmV3IERhdGFUZXh0dXJlMkRBcnJheSgpO3ZhciBlbXB0eVRleHR1cmUzZD1uZXcgRGF0YVRleHR1cmUzRCgpO3ZhciBlbXB0eUN1YmVUZXh0dXJlPW5ldyBDdWJlVGV4dHVyZSgpOy8vIC0tLSBVdGlsaXRpZXMgLS0tCi8vIEFycmF5IENhY2hlcyAocHJvdmlkZSB0eXBlZCBhcnJheXMgZm9yIHRlbXBvcmFyeSBieSBzaXplKQp2YXIgYXJyYXlDYWNoZUYzMj1bXTt2YXIgYXJyYXlDYWNoZUkzMj1bXTsvLyBGbG9hdDMyQXJyYXkgY2FjaGVzIHVzZWQgZm9yIHVwbG9hZGluZyBNYXRyaXggdW5pZm9ybXMKdmFyIG1hdDRhcnJheT1uZXcgRmxvYXQzMkFycmF5KDE2KTt2YXIgbWF0M2FycmF5PW5ldyBGbG9hdDMyQXJyYXkoOSk7dmFyIG1hdDJhcnJheT1uZXcgRmxvYXQzMkFycmF5KDQpOy8vIEZsYXR0ZW5pbmcgZm9yIGFycmF5cyBvZiB2ZWN0b3JzIGFuZCBtYXRyaWNlcwpmdW5jdGlvbiBmbGF0dGVuKGFycmF5LG5CbG9ja3MsYmxvY2tTaXplKXt2YXIgZmlyc3RFbGVtPWFycmF5WzBdO2lmKGZpcnN0RWxlbTw9MHx8Zmlyc3RFbGVtPjApcmV0dXJuIGFycmF5Oy8vIHVub3B0aW1pemVkOiAhIGlzTmFOKCBmaXJzdEVsZW0gKQovLyBzZWUgaHR0cDovL2phY2tzb25kdW5zdGFuLmNvbS9hcnRpY2xlcy85ODMKdmFyIG49bkJsb2NrcypibG9ja1NpemU7dmFyIHI9YXJyYXlDYWNoZUYzMltuXTtpZihyPT09dW5kZWZpbmVkKXtyPW5ldyBGbG9hdDMyQXJyYXkobik7YXJyYXlDYWNoZUYzMltuXT1yO31pZihuQmxvY2tzIT09MCl7Zmlyc3RFbGVtLnRvQXJyYXkociwwKTtmb3IodmFyIF9pMTAwPTEsb2Zmc2V0PTA7X2kxMDAhPT1uQmxvY2tzOysrX2kxMDApe29mZnNldCs9YmxvY2tTaXplO2FycmF5W19pMTAwXS50b0FycmF5KHIsb2Zmc2V0KTt9fXJldHVybiByO31mdW5jdGlvbiBhcnJheXNFcXVhbChhLGIpe2lmKGEubGVuZ3RoIT09Yi5sZW5ndGgpcmV0dXJuIGZhbHNlO2Zvcih2YXIgX2kxMDE9MCxsPWEubGVuZ3RoO19pMTAxPGw7X2kxMDErKyl7aWYoYVtfaTEwMV0hPT1iW19pMTAxXSlyZXR1cm4gZmFsc2U7fXJldHVybiB0cnVlO31mdW5jdGlvbiBjb3B5QXJyYXkoYSxiKXtmb3IodmFyIF9pMTAyPTAsbD1iLmxlbmd0aDtfaTEwMjxsO19pMTAyKyspe2FbX2kxMDJdPWJbX2kxMDJdO319Ly8gVGV4dHVyZSB1bml0IGFsbG9jYXRpb24KZnVuY3Rpb24gYWxsb2NUZXhVbml0cyh0ZXh0dXJlcyxuKXt2YXIgcj1hcnJheUNhY2hlSTMyW25dO2lmKHI9PT11bmRlZmluZWQpe3I9bmV3IEludDMyQXJyYXkobik7YXJyYXlDYWNoZUkzMltuXT1yO31mb3IodmFyIF9pMTAzPTA7X2kxMDMhPT1uOysrX2kxMDMpe3JbX2kxMDNdPXRleHR1cmVzLmFsbG9jYXRlVGV4dHVyZVVuaXQoKTt9cmV0dXJuIHI7fS8vIC0tLSBTZXR0ZXJzIC0tLQovLyBOb3RlOiBEZWZpbmluZyB0aGVzZSBtZXRob2RzIGV4dGVybmFsbHksIGJlY2F1c2UgdGhleSBjb21lIGluIGEgYnVuY2gKLy8gYW5kIHRoaXMgd2F5IHRoZWlyIG5hbWVzIG1pbmlmeS4KLy8gU2luZ2xlIHNjYWxhcgpmdW5jdGlvbiBzZXRWYWx1ZVYxZihnbCx2KXt2YXIgY2FjaGU9dGhpcy5jYWNoZTtpZihjYWNoZVswXT09PXYpcmV0dXJuO2dsLnVuaWZvcm0xZih0aGlzLmFkZHIsdik7Y2FjaGVbMF09djt9Ly8gU2luZ2xlIGZsb2F0IHZlY3RvciAoZnJvbSBmbGF0IGFycmF5IG9yIFRIUkVFLlZlY3Rvck4pCmZ1bmN0aW9uIHNldFZhbHVlVjJmKGdsLHYpe3ZhciBjYWNoZT10aGlzLmNhY2hlO2lmKHYueCE9PXVuZGVmaW5lZCl7aWYoY2FjaGVbMF0hPT12Lnh8fGNhY2hlWzFdIT09di55KXtnbC51bmlmb3JtMmYodGhpcy5hZGRyLHYueCx2LnkpO2NhY2hlWzBdPXYueDtjYWNoZVsxXT12Lnk7fX1lbHNle2lmKGFycmF5c0VxdWFsKGNhY2hlLHYpKXJldHVybjtnbC51bmlmb3JtMmZ2KHRoaXMuYWRkcix2KTtjb3B5QXJyYXkoY2FjaGUsdik7fX1mdW5jdGlvbiBzZXRWYWx1ZVYzZihnbCx2KXt2YXIgY2FjaGU9dGhpcy5jYWNoZTtpZih2LnghPT11bmRlZmluZWQpe2lmKGNhY2hlWzBdIT09di54fHxjYWNoZVsxXSE9PXYueXx8Y2FjaGVbMl0hPT12Lnope2dsLnVuaWZvcm0zZih0aGlzLmFkZHIsdi54LHYueSx2LnopO2NhY2hlWzBdPXYueDtjYWNoZVsxXT12Lnk7Y2FjaGVbMl09di56O319ZWxzZSBpZih2LnIhPT11bmRlZmluZWQpe2lmKGNhY2hlWzBdIT09di5yfHxjYWNoZVsxXSE9PXYuZ3x8Y2FjaGVbMl0hPT12LmIpe2dsLnVuaWZvcm0zZih0aGlzLmFkZHIsdi5yLHYuZyx2LmIpO2NhY2hlWzBdPXYucjtjYWNoZVsxXT12Lmc7Y2FjaGVbMl09di5iO319ZWxzZXtpZihhcnJheXNFcXVhbChjYWNoZSx2KSlyZXR1cm47Z2wudW5pZm9ybTNmdih0aGlzLmFkZHIsdik7Y29weUFycmF5KGNhY2hlLHYpO319ZnVuY3Rpb24gc2V0VmFsdWVWNGYoZ2wsdil7dmFyIGNhY2hlPXRoaXMuY2FjaGU7aWYodi54IT09dW5kZWZpbmVkKXtpZihjYWNoZVswXSE9PXYueHx8Y2FjaGVbMV0hPT12Lnl8fGNhY2hlWzJdIT09di56fHxjYWNoZVszXSE9PXYudyl7Z2wudW5pZm9ybTRmKHRoaXMuYWRkcix2Lngsdi55LHYueix2LncpO2NhY2hlWzBdPXYueDtjYWNoZVsxXT12Lnk7Y2FjaGVbMl09di56O2NhY2hlWzNdPXYudzt9fWVsc2V7aWYoYXJyYXlzRXF1YWwoY2FjaGUsdikpcmV0dXJuO2dsLnVuaWZvcm00ZnYodGhpcy5hZGRyLHYpO2NvcHlBcnJheShjYWNoZSx2KTt9fS8vIFNpbmdsZSBtYXRyaXggKGZyb20gZmxhdCBhcnJheSBvciBUSFJFRS5NYXRyaXhOKQpmdW5jdGlvbiBzZXRWYWx1ZU0yKGdsLHYpe3ZhciBjYWNoZT10aGlzLmNhY2hlO3ZhciBlbGVtZW50cz12LmVsZW1lbnRzO2lmKGVsZW1lbnRzPT09dW5kZWZpbmVkKXtpZihhcnJheXNFcXVhbChjYWNoZSx2KSlyZXR1cm47Z2wudW5pZm9ybU1hdHJpeDJmdih0aGlzLmFkZHIsZmFsc2Usdik7Y29weUFycmF5KGNhY2hlLHYpO31lbHNle2lmKGFycmF5c0VxdWFsKGNhY2hlLGVsZW1lbnRzKSlyZXR1cm47bWF0MmFycmF5LnNldChlbGVtZW50cyk7Z2wudW5pZm9ybU1hdHJpeDJmdih0aGlzLmFkZHIsZmFsc2UsbWF0MmFycmF5KTtjb3B5QXJyYXkoY2FjaGUsZWxlbWVudHMpO319ZnVuY3Rpb24gc2V0VmFsdWVNMyhnbCx2KXt2YXIgY2FjaGU9dGhpcy5jYWNoZTt2YXIgZWxlbWVudHM9di5lbGVtZW50cztpZihlbGVtZW50cz09PXVuZGVmaW5lZCl7aWYoYXJyYXlzRXF1YWwoY2FjaGUsdikpcmV0dXJuO2dsLnVuaWZvcm1NYXRyaXgzZnYodGhpcy5hZGRyLGZhbHNlLHYpO2NvcHlBcnJheShjYWNoZSx2KTt9ZWxzZXtpZihhcnJheXNFcXVhbChjYWNoZSxlbGVtZW50cykpcmV0dXJuO21hdDNhcnJheS5zZXQoZWxlbWVudHMpO2dsLnVuaWZvcm1NYXRyaXgzZnYodGhpcy5hZGRyLGZhbHNlLG1hdDNhcnJheSk7Y29weUFycmF5KGNhY2hlLGVsZW1lbnRzKTt9fWZ1bmN0aW9uIHNldFZhbHVlTTQoZ2wsdil7dmFyIGNhY2hlPXRoaXMuY2FjaGU7dmFyIGVsZW1lbnRzPXYuZWxlbWVudHM7aWYoZWxlbWVudHM9PT11bmRlZmluZWQpe2lmKGFycmF5c0VxdWFsKGNhY2hlLHYpKXJldHVybjtnbC51bmlmb3JtTWF0cml4NGZ2KHRoaXMuYWRkcixmYWxzZSx2KTtjb3B5QXJyYXkoY2FjaGUsdik7fWVsc2V7aWYoYXJyYXlzRXF1YWwoY2FjaGUsZWxlbWVudHMpKXJldHVybjttYXQ0YXJyYXkuc2V0KGVsZW1lbnRzKTtnbC51bmlmb3JtTWF0cml4NGZ2KHRoaXMuYWRkcixmYWxzZSxtYXQ0YXJyYXkpO2NvcHlBcnJheShjYWNoZSxlbGVtZW50cyk7fX0vLyBTaW5nbGUgaW50ZWdlciAvIGJvb2xlYW4KZnVuY3Rpb24gc2V0VmFsdWVWMWkoZ2wsdil7dmFyIGNhY2hlPXRoaXMuY2FjaGU7aWYoY2FjaGVbMF09PT12KXJldHVybjtnbC51bmlmb3JtMWkodGhpcy5hZGRyLHYpO2NhY2hlWzBdPXY7fS8vIFNpbmdsZSBpbnRlZ2VyIC8gYm9vbGVhbiB2ZWN0b3IgKGZyb20gZmxhdCBhcnJheSkKZnVuY3Rpb24gc2V0VmFsdWVWMmkoZ2wsdil7dmFyIGNhY2hlPXRoaXMuY2FjaGU7aWYoYXJyYXlzRXF1YWwoY2FjaGUsdikpcmV0dXJuO2dsLnVuaWZvcm0yaXYodGhpcy5hZGRyLHYpO2NvcHlBcnJheShjYWNoZSx2KTt9ZnVuY3Rpb24gc2V0VmFsdWVWM2koZ2wsdil7dmFyIGNhY2hlPXRoaXMuY2FjaGU7aWYoYXJyYXlzRXF1YWwoY2FjaGUsdikpcmV0dXJuO2dsLnVuaWZvcm0zaXYodGhpcy5hZGRyLHYpO2NvcHlBcnJheShjYWNoZSx2KTt9ZnVuY3Rpb24gc2V0VmFsdWVWNGkoZ2wsdil7dmFyIGNhY2hlPXRoaXMuY2FjaGU7aWYoYXJyYXlzRXF1YWwoY2FjaGUsdikpcmV0dXJuO2dsLnVuaWZvcm00aXYodGhpcy5hZGRyLHYpO2NvcHlBcnJheShjYWNoZSx2KTt9Ly8gU2luZ2xlIHVuc2lnbmVkIGludGVnZXIKZnVuY3Rpb24gc2V0VmFsdWVWMXVpKGdsLHYpe3ZhciBjYWNoZT10aGlzLmNhY2hlO2lmKGNhY2hlWzBdPT09dilyZXR1cm47Z2wudW5pZm9ybTF1aSh0aGlzLmFkZHIsdik7Y2FjaGVbMF09djt9Ly8gU2luZ2xlIHVuc2lnbmVkIGludGVnZXIgdmVjdG9yIChmcm9tIGZsYXQgYXJyYXkpCmZ1bmN0aW9uIHNldFZhbHVlVjJ1aShnbCx2KXt2YXIgY2FjaGU9dGhpcy5jYWNoZTtpZihhcnJheXNFcXVhbChjYWNoZSx2KSlyZXR1cm47Z2wudW5pZm9ybTJ1aXYodGhpcy5hZGRyLHYpO2NvcHlBcnJheShjYWNoZSx2KTt9ZnVuY3Rpb24gc2V0VmFsdWVWM3VpKGdsLHYpe3ZhciBjYWNoZT10aGlzLmNhY2hlO2lmKGFycmF5c0VxdWFsKGNhY2hlLHYpKXJldHVybjtnbC51bmlmb3JtM3Vpdih0aGlzLmFkZHIsdik7Y29weUFycmF5KGNhY2hlLHYpO31mdW5jdGlvbiBzZXRWYWx1ZVY0dWkoZ2wsdil7dmFyIGNhY2hlPXRoaXMuY2FjaGU7aWYoYXJyYXlzRXF1YWwoY2FjaGUsdikpcmV0dXJuO2dsLnVuaWZvcm00dWl2KHRoaXMuYWRkcix2KTtjb3B5QXJyYXkoY2FjaGUsdik7fS8vIFNpbmdsZSB0ZXh0dXJlICgyRCAvIEN1YmUpCmZ1bmN0aW9uIHNldFZhbHVlVDEoZ2wsdix0ZXh0dXJlcyl7dmFyIGNhY2hlPXRoaXMuY2FjaGU7dmFyIHVuaXQ9dGV4dHVyZXMuYWxsb2NhdGVUZXh0dXJlVW5pdCgpO2lmKGNhY2hlWzBdIT09dW5pdCl7Z2wudW5pZm9ybTFpKHRoaXMuYWRkcix1bml0KTtjYWNoZVswXT11bml0O310ZXh0dXJlcy5zYWZlU2V0VGV4dHVyZTJEKHZ8fGVtcHR5VGV4dHVyZSx1bml0KTt9ZnVuY3Rpb24gc2V0VmFsdWVUM0QxKGdsLHYsdGV4dHVyZXMpe3ZhciBjYWNoZT10aGlzLmNhY2hlO3ZhciB1bml0PXRleHR1cmVzLmFsbG9jYXRlVGV4dHVyZVVuaXQoKTtpZihjYWNoZVswXSE9PXVuaXQpe2dsLnVuaWZvcm0xaSh0aGlzLmFkZHIsdW5pdCk7Y2FjaGVbMF09dW5pdDt9dGV4dHVyZXMuc2V0VGV4dHVyZTNEKHZ8fGVtcHR5VGV4dHVyZTNkLHVuaXQpO31mdW5jdGlvbiBzZXRWYWx1ZVQ2KGdsLHYsdGV4dHVyZXMpe3ZhciBjYWNoZT10aGlzLmNhY2hlO3ZhciB1bml0PXRleHR1cmVzLmFsbG9jYXRlVGV4dHVyZVVuaXQoKTtpZihjYWNoZVswXSE9PXVuaXQpe2dsLnVuaWZvcm0xaSh0aGlzLmFkZHIsdW5pdCk7Y2FjaGVbMF09dW5pdDt9dGV4dHVyZXMuc2FmZVNldFRleHR1cmVDdWJlKHZ8fGVtcHR5Q3ViZVRleHR1cmUsdW5pdCk7fWZ1bmN0aW9uIHNldFZhbHVlVDJEQXJyYXkxKGdsLHYsdGV4dHVyZXMpe3ZhciBjYWNoZT10aGlzLmNhY2hlO3ZhciB1bml0PXRleHR1cmVzLmFsbG9jYXRlVGV4dHVyZVVuaXQoKTtpZihjYWNoZVswXSE9PXVuaXQpe2dsLnVuaWZvcm0xaSh0aGlzLmFkZHIsdW5pdCk7Y2FjaGVbMF09dW5pdDt9dGV4dHVyZXMuc2V0VGV4dHVyZTJEQXJyYXkodnx8ZW1wdHlUZXh0dXJlMmRBcnJheSx1bml0KTt9Ly8gSGVscGVyIHRvIHBpY2sgdGhlIHJpZ2h0IHNldHRlciBmb3IgdGhlIHNpbmd1bGFyIGNhc2UKZnVuY3Rpb24gZ2V0U2luZ3VsYXJTZXR0ZXIodHlwZSl7c3dpdGNoKHR5cGUpe2Nhc2UgMHgxNDA2OnJldHVybiBzZXRWYWx1ZVYxZjsvLyBGTE9BVApjYXNlIDB4OGI1MDpyZXR1cm4gc2V0VmFsdWVWMmY7Ly8gX1ZFQzIKY2FzZSAweDhiNTE6cmV0dXJuIHNldFZhbHVlVjNmOy8vIF9WRUMzCmNhc2UgMHg4YjUyOnJldHVybiBzZXRWYWx1ZVY0ZjsvLyBfVkVDNApjYXNlIDB4OGI1YTpyZXR1cm4gc2V0VmFsdWVNMjsvLyBfTUFUMgpjYXNlIDB4OGI1YjpyZXR1cm4gc2V0VmFsdWVNMzsvLyBfTUFUMwpjYXNlIDB4OGI1YzpyZXR1cm4gc2V0VmFsdWVNNDsvLyBfTUFUNApjYXNlIDB4MTQwNDpjYXNlIDB4OGI1NjpyZXR1cm4gc2V0VmFsdWVWMWk7Ly8gSU5ULCBCT09MCmNhc2UgMHg4YjUzOmNhc2UgMHg4YjU3OnJldHVybiBzZXRWYWx1ZVYyaTsvLyBfVkVDMgpjYXNlIDB4OGI1NDpjYXNlIDB4OGI1ODpyZXR1cm4gc2V0VmFsdWVWM2k7Ly8gX1ZFQzMKY2FzZSAweDhiNTU6Y2FzZSAweDhiNTk6cmV0dXJuIHNldFZhbHVlVjRpOy8vIF9WRUM0CmNhc2UgMHgxNDA1OnJldHVybiBzZXRWYWx1ZVYxdWk7Ly8gVUlOVApjYXNlIDB4OGRjNjpyZXR1cm4gc2V0VmFsdWVWMnVpOy8vIF9WRUMyCmNhc2UgMHg4ZGM3OnJldHVybiBzZXRWYWx1ZVYzdWk7Ly8gX1ZFQzMKY2FzZSAweDhkYzg6cmV0dXJuIHNldFZhbHVlVjR1aTsvLyBfVkVDNApjYXNlIDB4OGI1ZTovLyBTQU1QTEVSXzJECmNhc2UgMHg4ZDY2Oi8vIFNBTVBMRVJfRVhURVJOQUxfT0VTCmNhc2UgMHg4ZGNhOi8vIElOVF9TQU1QTEVSXzJECmNhc2UgMHg4ZGQyOi8vIFVOU0lHTkVEX0lOVF9TQU1QTEVSXzJECmNhc2UgMHg4YjYyOi8vIFNBTVBMRVJfMkRfU0hBRE9XCnJldHVybiBzZXRWYWx1ZVQxO2Nhc2UgMHg4YjVmOi8vIFNBTVBMRVJfM0QKY2FzZSAweDhkY2I6Ly8gSU5UX1NBTVBMRVJfM0QKY2FzZSAweDhkZDM6Ly8gVU5TSUdORURfSU5UX1NBTVBMRVJfM0QKcmV0dXJuIHNldFZhbHVlVDNEMTtjYXNlIDB4OGI2MDovLyBTQU1QTEVSX0NVQkUKY2FzZSAweDhkY2M6Ly8gSU5UX1NBTVBMRVJfQ1VCRQpjYXNlIDB4OGRkNDovLyBVTlNJR05FRF9JTlRfU0FNUExFUl9DVUJFCmNhc2UgMHg4ZGM1Oi8vIFNBTVBMRVJfQ1VCRV9TSEFET1cKcmV0dXJuIHNldFZhbHVlVDY7Y2FzZSAweDhkYzE6Ly8gU0FNUExFUl8yRF9BUlJBWQpjYXNlIDB4OGRjZjovLyBJTlRfU0FNUExFUl8yRF9BUlJBWQpjYXNlIDB4OGRkNzovLyBVTlNJR05FRF9JTlRfU0FNUExFUl8yRF9BUlJBWQpjYXNlIDB4OGRjNDovLyBTQU1QTEVSXzJEX0FSUkFZX1NIQURPVwpyZXR1cm4gc2V0VmFsdWVUMkRBcnJheTE7fX0vLyBBcnJheSBvZiBzY2FsYXJzCmZ1bmN0aW9uIHNldFZhbHVlVjFmQXJyYXkoZ2wsdil7Z2wudW5pZm9ybTFmdih0aGlzLmFkZHIsdik7fS8vIEFycmF5IG9mIHZlY3RvcnMgKGZyb20gZmxhdCBhcnJheSBvciBhcnJheSBvZiBUSFJFRS5WZWN0b3JOKQpmdW5jdGlvbiBzZXRWYWx1ZVYyZkFycmF5KGdsLHYpe3ZhciBkYXRhPWZsYXR0ZW4odix0aGlzLnNpemUsMik7Z2wudW5pZm9ybTJmdih0aGlzLmFkZHIsZGF0YSk7fWZ1bmN0aW9uIHNldFZhbHVlVjNmQXJyYXkoZ2wsdil7dmFyIGRhdGE9ZmxhdHRlbih2LHRoaXMuc2l6ZSwzKTtnbC51bmlmb3JtM2Z2KHRoaXMuYWRkcixkYXRhKTt9ZnVuY3Rpb24gc2V0VmFsdWVWNGZBcnJheShnbCx2KXt2YXIgZGF0YT1mbGF0dGVuKHYsdGhpcy5zaXplLDQpO2dsLnVuaWZvcm00ZnYodGhpcy5hZGRyLGRhdGEpO30vLyBBcnJheSBvZiBtYXRyaWNlcyAoZnJvbSBmbGF0IGFycmF5IG9yIGFycmF5IG9mIFRIUkVFLk1hdHJpeE4pCmZ1bmN0aW9uIHNldFZhbHVlTTJBcnJheShnbCx2KXt2YXIgZGF0YT1mbGF0dGVuKHYsdGhpcy5zaXplLDQpO2dsLnVuaWZvcm1NYXRyaXgyZnYodGhpcy5hZGRyLGZhbHNlLGRhdGEpO31mdW5jdGlvbiBzZXRWYWx1ZU0zQXJyYXkoZ2wsdil7dmFyIGRhdGE9ZmxhdHRlbih2LHRoaXMuc2l6ZSw5KTtnbC51bmlmb3JtTWF0cml4M2Z2KHRoaXMuYWRkcixmYWxzZSxkYXRhKTt9ZnVuY3Rpb24gc2V0VmFsdWVNNEFycmF5KGdsLHYpe3ZhciBkYXRhPWZsYXR0ZW4odix0aGlzLnNpemUsMTYpO2dsLnVuaWZvcm1NYXRyaXg0ZnYodGhpcy5hZGRyLGZhbHNlLGRhdGEpO30vLyBBcnJheSBvZiBpbnRlZ2VyIC8gYm9vbGVhbgpmdW5jdGlvbiBzZXRWYWx1ZVYxaUFycmF5KGdsLHYpe2dsLnVuaWZvcm0xaXYodGhpcy5hZGRyLHYpO30vLyBBcnJheSBvZiBpbnRlZ2VyIC8gYm9vbGVhbiB2ZWN0b3JzIChmcm9tIGZsYXQgYXJyYXkpCmZ1bmN0aW9uIHNldFZhbHVlVjJpQXJyYXkoZ2wsdil7Z2wudW5pZm9ybTJpdih0aGlzLmFkZHIsdik7fWZ1bmN0aW9uIHNldFZhbHVlVjNpQXJyYXkoZ2wsdil7Z2wudW5pZm9ybTNpdih0aGlzLmFkZHIsdik7fWZ1bmN0aW9uIHNldFZhbHVlVjRpQXJyYXkoZ2wsdil7Z2wudW5pZm9ybTRpdih0aGlzLmFkZHIsdik7fS8vIEFycmF5IG9mIHVuc2lnbmVkIGludGVnZXIKZnVuY3Rpb24gc2V0VmFsdWVWMXVpQXJyYXkoZ2wsdil7Z2wudW5pZm9ybTF1aXYodGhpcy5hZGRyLHYpO30vLyBBcnJheSBvZiB1bnNpZ25lZCBpbnRlZ2VyIHZlY3RvcnMgKGZyb20gZmxhdCBhcnJheSkKZnVuY3Rpb24gc2V0VmFsdWVWMnVpQXJyYXkoZ2wsdil7Z2wudW5pZm9ybTJ1aXYodGhpcy5hZGRyLHYpO31mdW5jdGlvbiBzZXRWYWx1ZVYzdWlBcnJheShnbCx2KXtnbC51bmlmb3JtM3Vpdih0aGlzLmFkZHIsdik7fWZ1bmN0aW9uIHNldFZhbHVlVjR1aUFycmF5KGdsLHYpe2dsLnVuaWZvcm00dWl2KHRoaXMuYWRkcix2KTt9Ly8gQXJyYXkgb2YgdGV4dHVyZXMgKDJEIC8gM0QgLyBDdWJlIC8gMkRBcnJheSkKZnVuY3Rpb24gc2V0VmFsdWVUMUFycmF5KGdsLHYsdGV4dHVyZXMpe3ZhciBuPXYubGVuZ3RoO3ZhciB1bml0cz1hbGxvY1RleFVuaXRzKHRleHR1cmVzLG4pO2dsLnVuaWZvcm0xaXYodGhpcy5hZGRyLHVuaXRzKTtmb3IodmFyIF9pMTA0PTA7X2kxMDQhPT1uOysrX2kxMDQpe3RleHR1cmVzLnNhZmVTZXRUZXh0dXJlMkQodltfaTEwNF18fGVtcHR5VGV4dHVyZSx1bml0c1tfaTEwNF0pO319ZnVuY3Rpb24gc2V0VmFsdWVUM0RBcnJheShnbCx2LHRleHR1cmVzKXt2YXIgbj12Lmxlbmd0aDt2YXIgdW5pdHM9YWxsb2NUZXhVbml0cyh0ZXh0dXJlcyxuKTtnbC51bmlmb3JtMWl2KHRoaXMuYWRkcix1bml0cyk7Zm9yKHZhciBfaTEwNT0wO19pMTA1IT09bjsrK19pMTA1KXt0ZXh0dXJlcy5zZXRUZXh0dXJlM0QodltfaTEwNV18fGVtcHR5VGV4dHVyZTNkLHVuaXRzW19pMTA1XSk7fX1mdW5jdGlvbiBzZXRWYWx1ZVQ2QXJyYXkoZ2wsdix0ZXh0dXJlcyl7dmFyIG49di5sZW5ndGg7dmFyIHVuaXRzPWFsbG9jVGV4VW5pdHModGV4dHVyZXMsbik7Z2wudW5pZm9ybTFpdih0aGlzLmFkZHIsdW5pdHMpO2Zvcih2YXIgX2kxMDY9MDtfaTEwNiE9PW47KytfaTEwNil7dGV4dHVyZXMuc2FmZVNldFRleHR1cmVDdWJlKHZbX2kxMDZdfHxlbXB0eUN1YmVUZXh0dXJlLHVuaXRzW19pMTA2XSk7fX1mdW5jdGlvbiBzZXRWYWx1ZVQyREFycmF5QXJyYXkoZ2wsdix0ZXh0dXJlcyl7dmFyIG49di5sZW5ndGg7dmFyIHVuaXRzPWFsbG9jVGV4VW5pdHModGV4dHVyZXMsbik7Z2wudW5pZm9ybTFpdih0aGlzLmFkZHIsdW5pdHMpO2Zvcih2YXIgX2kxMDc9MDtfaTEwNyE9PW47KytfaTEwNyl7dGV4dHVyZXMuc2V0VGV4dHVyZTJEQXJyYXkodltfaTEwN118fGVtcHR5VGV4dHVyZTJkQXJyYXksdW5pdHNbX2kxMDddKTt9fS8vIEhlbHBlciB0byBwaWNrIHRoZSByaWdodCBzZXR0ZXIgZm9yIGEgcHVyZSAoYm90dG9tLWxldmVsKSBhcnJheQpmdW5jdGlvbiBnZXRQdXJlQXJyYXlTZXR0ZXIodHlwZSl7c3dpdGNoKHR5cGUpe2Nhc2UgMHgxNDA2OnJldHVybiBzZXRWYWx1ZVYxZkFycmF5Oy8vIEZMT0FUCmNhc2UgMHg4YjUwOnJldHVybiBzZXRWYWx1ZVYyZkFycmF5Oy8vIF9WRUMyCmNhc2UgMHg4YjUxOnJldHVybiBzZXRWYWx1ZVYzZkFycmF5Oy8vIF9WRUMzCmNhc2UgMHg4YjUyOnJldHVybiBzZXRWYWx1ZVY0ZkFycmF5Oy8vIF9WRUM0CmNhc2UgMHg4YjVhOnJldHVybiBzZXRWYWx1ZU0yQXJyYXk7Ly8gX01BVDIKY2FzZSAweDhiNWI6cmV0dXJuIHNldFZhbHVlTTNBcnJheTsvLyBfTUFUMwpjYXNlIDB4OGI1YzpyZXR1cm4gc2V0VmFsdWVNNEFycmF5Oy8vIF9NQVQ0CmNhc2UgMHgxNDA0OmNhc2UgMHg4YjU2OnJldHVybiBzZXRWYWx1ZVYxaUFycmF5Oy8vIElOVCwgQk9PTApjYXNlIDB4OGI1MzpjYXNlIDB4OGI1NzpyZXR1cm4gc2V0VmFsdWVWMmlBcnJheTsvLyBfVkVDMgpjYXNlIDB4OGI1NDpjYXNlIDB4OGI1ODpyZXR1cm4gc2V0VmFsdWVWM2lBcnJheTsvLyBfVkVDMwpjYXNlIDB4OGI1NTpjYXNlIDB4OGI1OTpyZXR1cm4gc2V0VmFsdWVWNGlBcnJheTsvLyBfVkVDNApjYXNlIDB4MTQwNTpyZXR1cm4gc2V0VmFsdWVWMXVpQXJyYXk7Ly8gVUlOVApjYXNlIDB4OGRjNjpyZXR1cm4gc2V0VmFsdWVWMnVpQXJyYXk7Ly8gX1ZFQzIKY2FzZSAweDhkYzc6cmV0dXJuIHNldFZhbHVlVjN1aUFycmF5Oy8vIF9WRUMzCmNhc2UgMHg4ZGM4OnJldHVybiBzZXRWYWx1ZVY0dWlBcnJheTsvLyBfVkVDNApjYXNlIDB4OGI1ZTovLyBTQU1QTEVSXzJECmNhc2UgMHg4ZDY2Oi8vIFNBTVBMRVJfRVhURVJOQUxfT0VTCmNhc2UgMHg4ZGNhOi8vIElOVF9TQU1QTEVSXzJECmNhc2UgMHg4ZGQyOi8vIFVOU0lHTkVEX0lOVF9TQU1QTEVSXzJECmNhc2UgMHg4YjYyOi8vIFNBTVBMRVJfMkRfU0hBRE9XCnJldHVybiBzZXRWYWx1ZVQxQXJyYXk7Y2FzZSAweDhiNWY6Ly8gU0FNUExFUl8zRApjYXNlIDB4OGRjYjovLyBJTlRfU0FNUExFUl8zRApjYXNlIDB4OGRkMzovLyBVTlNJR05FRF9JTlRfU0FNUExFUl8zRApyZXR1cm4gc2V0VmFsdWVUM0RBcnJheTtjYXNlIDB4OGI2MDovLyBTQU1QTEVSX0NVQkUKY2FzZSAweDhkY2M6Ly8gSU5UX1NBTVBMRVJfQ1VCRQpjYXNlIDB4OGRkNDovLyBVTlNJR05FRF9JTlRfU0FNUExFUl9DVUJFCmNhc2UgMHg4ZGM1Oi8vIFNBTVBMRVJfQ1VCRV9TSEFET1cKcmV0dXJuIHNldFZhbHVlVDZBcnJheTtjYXNlIDB4OGRjMTovLyBTQU1QTEVSXzJEX0FSUkFZCmNhc2UgMHg4ZGNmOi8vIElOVF9TQU1QTEVSXzJEX0FSUkFZCmNhc2UgMHg4ZGQ3Oi8vIFVOU0lHTkVEX0lOVF9TQU1QTEVSXzJEX0FSUkFZCmNhc2UgMHg4ZGM0Oi8vIFNBTVBMRVJfMkRfQVJSQVlfU0hBRE9XCnJldHVybiBzZXRWYWx1ZVQyREFycmF5QXJyYXk7fX0vLyAtLS0gVW5pZm9ybSBDbGFzc2VzIC0tLQpmdW5jdGlvbiBTaW5nbGVVbmlmb3JtKGlkLGFjdGl2ZUluZm8sYWRkcil7dGhpcy5pZD1pZDt0aGlzLmFkZHI9YWRkcjt0aGlzLmNhY2hlPVtdO3RoaXMuc2V0VmFsdWU9Z2V0U2luZ3VsYXJTZXR0ZXIoYWN0aXZlSW5mby50eXBlKTsvLyB0aGlzLnBhdGggPSBhY3RpdmVJbmZvLm5hbWU7IC8vIERFQlVHCn1mdW5jdGlvbiBQdXJlQXJyYXlVbmlmb3JtKGlkLGFjdGl2ZUluZm8sYWRkcil7dGhpcy5pZD1pZDt0aGlzLmFkZHI9YWRkcjt0aGlzLmNhY2hlPVtdO3RoaXMuc2l6ZT1hY3RpdmVJbmZvLnNpemU7dGhpcy5zZXRWYWx1ZT1nZXRQdXJlQXJyYXlTZXR0ZXIoYWN0aXZlSW5mby50eXBlKTsvLyB0aGlzLnBhdGggPSBhY3RpdmVJbmZvLm5hbWU7IC8vIERFQlVHCn1QdXJlQXJyYXlVbmlmb3JtLnByb3RvdHlwZS51cGRhdGVDYWNoZT1mdW5jdGlvbihkYXRhKXt2YXIgY2FjaGU9dGhpcy5jYWNoZTtpZihkYXRhIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5JiZjYWNoZS5sZW5ndGghPT1kYXRhLmxlbmd0aCl7dGhpcy5jYWNoZT1uZXcgRmxvYXQzMkFycmF5KGRhdGEubGVuZ3RoKTt9Y29weUFycmF5KGNhY2hlLGRhdGEpO307ZnVuY3Rpb24gU3RydWN0dXJlZFVuaWZvcm0oaWQpe3RoaXMuaWQ9aWQ7dGhpcy5zZXE9W107dGhpcy5tYXA9e307fVN0cnVjdHVyZWRVbmlmb3JtLnByb3RvdHlwZS5zZXRWYWx1ZT1mdW5jdGlvbihnbCx2YWx1ZSx0ZXh0dXJlcyl7dmFyIHNlcT10aGlzLnNlcTtmb3IodmFyIF9pMTA4PTAsbj1zZXEubGVuZ3RoO19pMTA4IT09bjsrK19pMTA4KXt2YXIgdT1zZXFbX2kxMDhdO3Uuc2V0VmFsdWUoZ2wsdmFsdWVbdS5pZF0sdGV4dHVyZXMpO319Oy8vIC0tLSBUb3AtbGV2ZWwgLS0tCi8vIFBhcnNlciAtIGJ1aWxkcyB1cCB0aGUgcHJvcGVydHkgdHJlZSBmcm9tIHRoZSBwYXRoIHN0cmluZ3MKdmFyIFJlUGF0aFBhcnQ9LyhcdyspKFxdKT8oXFt8XC4pPy9nOy8vIGV4dHJhY3RzCi8vIAktIHRoZSBpZGVudGlmaWVyIChtZW1iZXIgbmFtZSBvciBhcnJheSBpbmRleCkKLy8gIC0gZm9sbG93ZWQgYnkgYW4gb3B0aW9uYWwgcmlnaHQgYnJhY2tldCAoZm91bmQgd2hlbiBhcnJheSBpbmRleCkKLy8gIC0gZm9sbG93ZWQgYnkgYW4gb3B0aW9uYWwgbGVmdCBicmFja2V0IG9yIGRvdCAodHlwZSBvZiBzdWJzY3JpcHQpCi8vCi8vIE5vdGU6IFRoZXNlIHBvcnRpb25zIGNhbiBiZSByZWFkIGluIGEgbm9uLW92ZXJsYXBwaW5nIGZhc2hpb24gYW5kCi8vIGFsbG93IHN0cmFpZ2h0Zm9yd2FyZCBwYXJzaW5nIG9mIHRoZSBoaWVyYXJjaHkgdGhhdCBXZWJHTCBlbmNvZGVzCi8vIGluIHRoZSB1bmlmb3JtIG5hbWVzLgpmdW5jdGlvbiBhZGRVbmlmb3JtKGNvbnRhaW5lcix1bmlmb3JtT2JqZWN0KXtjb250YWluZXIuc2VxLnB1c2godW5pZm9ybU9iamVjdCk7Y29udGFpbmVyLm1hcFt1bmlmb3JtT2JqZWN0LmlkXT11bmlmb3JtT2JqZWN0O31mdW5jdGlvbiBwYXJzZVVuaWZvcm0oYWN0aXZlSW5mbyxhZGRyLGNvbnRhaW5lcil7dmFyIHBhdGg9YWN0aXZlSW5mby5uYW1lLHBhdGhMZW5ndGg9cGF0aC5sZW5ndGg7Ly8gcmVzZXQgUmVnRXhwIG9iamVjdCwgYmVjYXVzZSBvZiB0aGUgZWFybHkgZXhpdCBvZiBhIHByZXZpb3VzIHJ1bgpSZVBhdGhQYXJ0Lmxhc3RJbmRleD0wO3doaWxlKHRydWUpe3ZhciBtYXRjaD1SZVBhdGhQYXJ0LmV4ZWMocGF0aCksbWF0Y2hFbmQ9UmVQYXRoUGFydC5sYXN0SW5kZXg7dmFyIGlkPW1hdGNoWzFdO3ZhciBpZElzSW5kZXg9bWF0Y2hbMl09PT0nXScsc3Vic2NyaXB0PW1hdGNoWzNdO2lmKGlkSXNJbmRleClpZD1pZHwwOy8vIGNvbnZlcnQgdG8gaW50ZWdlcgppZihzdWJzY3JpcHQ9PT11bmRlZmluZWR8fHN1YnNjcmlwdD09PSdbJyYmbWF0Y2hFbmQrMj09PXBhdGhMZW5ndGgpey8vIGJhcmUgbmFtZSBvciAicHVyZSIgYm90dG9tLWxldmVsIGFycmF5ICJbMF0iIHN1ZmZpeAphZGRVbmlmb3JtKGNvbnRhaW5lcixzdWJzY3JpcHQ9PT11bmRlZmluZWQ/bmV3IFNpbmdsZVVuaWZvcm0oaWQsYWN0aXZlSW5mbyxhZGRyKTpuZXcgUHVyZUFycmF5VW5pZm9ybShpZCxhY3RpdmVJbmZvLGFkZHIpKTticmVhazt9ZWxzZXsvLyBzdGVwIGludG8gaW5uZXIgbm9kZSAvIGNyZWF0ZSBpdCBpbiBjYXNlIGl0IGRvZXNuJ3QgZXhpc3QKdmFyIG1hcD1jb250YWluZXIubWFwO3ZhciBuZXh0PW1hcFtpZF07aWYobmV4dD09PXVuZGVmaW5lZCl7bmV4dD1uZXcgU3RydWN0dXJlZFVuaWZvcm0oaWQpO2FkZFVuaWZvcm0oY29udGFpbmVyLG5leHQpO31jb250YWluZXI9bmV4dDt9fX0vLyBSb290IENvbnRhaW5lcgpmdW5jdGlvbiBXZWJHTFVuaWZvcm1zKGdsLHByb2dyYW0pe3RoaXMuc2VxPVtdO3RoaXMubWFwPXt9O3ZhciBuPWdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSwzNTcxOCk7Zm9yKHZhciBfaTEwOT0wO19pMTA5PG47KytfaTEwOSl7dmFyIGluZm89Z2wuZ2V0QWN0aXZlVW5pZm9ybShwcm9ncmFtLF9pMTA5KSxhZGRyPWdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLGluZm8ubmFtZSk7cGFyc2VVbmlmb3JtKGluZm8sYWRkcix0aGlzKTt9fVdlYkdMVW5pZm9ybXMucHJvdG90eXBlLnNldFZhbHVlPWZ1bmN0aW9uKGdsLG5hbWUsdmFsdWUsdGV4dHVyZXMpe3ZhciB1PXRoaXMubWFwW25hbWVdO2lmKHUhPT11bmRlZmluZWQpdS5zZXRWYWx1ZShnbCx2YWx1ZSx0ZXh0dXJlcyk7fTtXZWJHTFVuaWZvcm1zLnByb3RvdHlwZS5zZXRPcHRpb25hbD1mdW5jdGlvbihnbCxvYmplY3QsbmFtZSl7dmFyIHY9b2JqZWN0W25hbWVdO2lmKHYhPT11bmRlZmluZWQpdGhpcy5zZXRWYWx1ZShnbCxuYW1lLHYpO307Ly8gU3RhdGljIGludGVyZmFjZQpXZWJHTFVuaWZvcm1zLnVwbG9hZD1mdW5jdGlvbihnbCxzZXEsdmFsdWVzLHRleHR1cmVzKXtmb3IodmFyIF9pMTEwPTAsbj1zZXEubGVuZ3RoO19pMTEwIT09bjsrK19pMTEwKXt2YXIgdT1zZXFbX2kxMTBdLHY9dmFsdWVzW3UuaWRdO2lmKHYubmVlZHNVcGRhdGUhPT1mYWxzZSl7Ly8gbm90ZTogYWx3YXlzIHVwZGF0aW5nIHdoZW4gLm5lZWRzVXBkYXRlIGlzIHVuZGVmaW5lZAp1LnNldFZhbHVlKGdsLHYudmFsdWUsdGV4dHVyZXMpO319fTtXZWJHTFVuaWZvcm1zLnNlcVdpdGhWYWx1ZT1mdW5jdGlvbihzZXEsdmFsdWVzKXt2YXIgcj1bXTtmb3IodmFyIF9pMTExPTAsbj1zZXEubGVuZ3RoO19pMTExIT09bjsrK19pMTExKXt2YXIgdT1zZXFbX2kxMTFdO2lmKHUuaWQgaW4gdmFsdWVzKXIucHVzaCh1KTt9cmV0dXJuIHI7fTtmdW5jdGlvbiBXZWJHTFNoYWRlcihnbCx0eXBlLHN0cmluZyl7dmFyIHNoYWRlcj1nbC5jcmVhdGVTaGFkZXIodHlwZSk7Z2wuc2hhZGVyU291cmNlKHNoYWRlcixzdHJpbmcpO2dsLmNvbXBpbGVTaGFkZXIoc2hhZGVyKTtyZXR1cm4gc2hhZGVyO312YXIgcHJvZ3JhbUlkQ291bnQ9MDtmdW5jdGlvbiBhZGRMaW5lTnVtYmVycyhzdHJpbmcpe3ZhciBsaW5lcz1zdHJpbmcuc3BsaXQoJ1xuJyk7Zm9yKHZhciBfaTExMj0wO19pMTEyPGxpbmVzLmxlbmd0aDtfaTExMisrKXtsaW5lc1tfaTExMl09X2kxMTIrMSsnOiAnK2xpbmVzW19pMTEyXTt9cmV0dXJuIGxpbmVzLmpvaW4oJ1xuJyk7fWZ1bmN0aW9uIGdldEVuY29kaW5nQ29tcG9uZW50cyhlbmNvZGluZyl7c3dpdGNoKGVuY29kaW5nKXtjYXNlIExpbmVhckVuY29kaW5nOnJldHVyblsnTGluZWFyJywnKCB2YWx1ZSApJ107Y2FzZSBzUkdCRW5jb2Rpbmc6cmV0dXJuWydzUkdCJywnKCB2YWx1ZSApJ107ZGVmYXVsdDpjb25zb2xlLndhcm4oJ1RIUkVFLldlYkdMUHJvZ3JhbTogVW5zdXBwb3J0ZWQgZW5jb2Rpbmc6JyxlbmNvZGluZyk7cmV0dXJuWydMaW5lYXInLCcoIHZhbHVlICknXTt9fWZ1bmN0aW9uIGdldFNoYWRlckVycm9ycyhnbCxzaGFkZXIsdHlwZSl7dmFyIHN0YXR1cz1nbC5nZXRTaGFkZXJQYXJhbWV0ZXIoc2hhZGVyLDM1NzEzKTt2YXIgZXJyb3JzPWdsLmdldFNoYWRlckluZm9Mb2coc2hhZGVyKS50cmltKCk7aWYoc3RhdHVzJiZlcnJvcnM9PT0nJylyZXR1cm4nJzsvLyAtLWVuYWJsZS1wcml2aWxlZ2VkLXdlYmdsLWV4dGVuc2lvbgovLyBjb25zb2xlLmxvZyggJyoqJyArIHR5cGUgKyAnKionLCBnbC5nZXRFeHRlbnNpb24oICdXRUJHTF9kZWJ1Z19zaGFkZXJzJyApLmdldFRyYW5zbGF0ZWRTaGFkZXJTb3VyY2UoIHNoYWRlciApICk7CnJldHVybiB0eXBlLnRvVXBwZXJDYXNlKCkrJ1xuXG4nK2Vycm9ycysnXG5cbicrYWRkTGluZU51bWJlcnMoZ2wuZ2V0U2hhZGVyU291cmNlKHNoYWRlcikpO31mdW5jdGlvbiBnZXRUZXhlbEVuY29kaW5nRnVuY3Rpb24oZnVuY3Rpb25OYW1lLGVuY29kaW5nKXt2YXIgY29tcG9uZW50cz1nZXRFbmNvZGluZ0NvbXBvbmVudHMoZW5jb2RpbmcpO3JldHVybid2ZWM0ICcrZnVuY3Rpb25OYW1lKycoIHZlYzQgdmFsdWUgKSB7IHJldHVybiBMaW5lYXJUbycrY29tcG9uZW50c1swXStjb21wb25lbnRzWzFdKyc7IH0nO31mdW5jdGlvbiBnZXRUb25lTWFwcGluZ0Z1bmN0aW9uKGZ1bmN0aW9uTmFtZSx0b25lTWFwcGluZyl7dmFyIHRvbmVNYXBwaW5nTmFtZTtzd2l0Y2godG9uZU1hcHBpbmcpe2Nhc2UgTGluZWFyVG9uZU1hcHBpbmc6dG9uZU1hcHBpbmdOYW1lPSdMaW5lYXInO2JyZWFrO2Nhc2UgUmVpbmhhcmRUb25lTWFwcGluZzp0b25lTWFwcGluZ05hbWU9J1JlaW5oYXJkJzticmVhaztjYXNlIENpbmVvblRvbmVNYXBwaW5nOnRvbmVNYXBwaW5nTmFtZT0nT3B0aW1pemVkQ2luZW9uJzticmVhaztjYXNlIEFDRVNGaWxtaWNUb25lTWFwcGluZzp0b25lTWFwcGluZ05hbWU9J0FDRVNGaWxtaWMnO2JyZWFrO2Nhc2UgQ3VzdG9tVG9uZU1hcHBpbmc6dG9uZU1hcHBpbmdOYW1lPSdDdXN0b20nO2JyZWFrO2RlZmF1bHQ6Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFByb2dyYW06IFVuc3VwcG9ydGVkIHRvbmVNYXBwaW5nOicsdG9uZU1hcHBpbmcpO3RvbmVNYXBwaW5nTmFtZT0nTGluZWFyJzt9cmV0dXJuJ3ZlYzMgJytmdW5jdGlvbk5hbWUrJyggdmVjMyBjb2xvciApIHsgcmV0dXJuICcrdG9uZU1hcHBpbmdOYW1lKydUb25lTWFwcGluZyggY29sb3IgKTsgfSc7fWZ1bmN0aW9uIGdlbmVyYXRlRXh0ZW5zaW9ucyhwYXJhbWV0ZXJzKXt2YXIgY2h1bmtzPVtwYXJhbWV0ZXJzLmV4dGVuc2lvbkRlcml2YXRpdmVzfHxwYXJhbWV0ZXJzLmVudk1hcEN1YmVVVnx8cGFyYW1ldGVycy5idW1wTWFwfHxwYXJhbWV0ZXJzLnRhbmdlbnRTcGFjZU5vcm1hbE1hcHx8cGFyYW1ldGVycy5jbGVhcmNvYXROb3JtYWxNYXB8fHBhcmFtZXRlcnMuZmxhdFNoYWRpbmd8fHBhcmFtZXRlcnMuc2hhZGVySUQ9PT0ncGh5c2ljYWwnPycjZXh0ZW5zaW9uIEdMX09FU19zdGFuZGFyZF9kZXJpdmF0aXZlcyA6IGVuYWJsZSc6JycsKHBhcmFtZXRlcnMuZXh0ZW5zaW9uRnJhZ0RlcHRofHxwYXJhbWV0ZXJzLmxvZ2FyaXRobWljRGVwdGhCdWZmZXIpJiZwYXJhbWV0ZXJzLnJlbmRlcmVyRXh0ZW5zaW9uRnJhZ0RlcHRoPycjZXh0ZW5zaW9uIEdMX0VYVF9mcmFnX2RlcHRoIDogZW5hYmxlJzonJyxwYXJhbWV0ZXJzLmV4dGVuc2lvbkRyYXdCdWZmZXJzJiZwYXJhbWV0ZXJzLnJlbmRlcmVyRXh0ZW5zaW9uRHJhd0J1ZmZlcnM/JyNleHRlbnNpb24gR0xfRVhUX2RyYXdfYnVmZmVycyA6IHJlcXVpcmUnOicnLChwYXJhbWV0ZXJzLmV4dGVuc2lvblNoYWRlclRleHR1cmVMT0R8fHBhcmFtZXRlcnMuZW52TWFwfHxwYXJhbWV0ZXJzLnRyYW5zbWlzc2lvbikmJnBhcmFtZXRlcnMucmVuZGVyZXJFeHRlbnNpb25TaGFkZXJUZXh0dXJlTG9kPycjZXh0ZW5zaW9uIEdMX0VYVF9zaGFkZXJfdGV4dHVyZV9sb2QgOiBlbmFibGUnOicnXTtyZXR1cm4gY2h1bmtzLmZpbHRlcihmaWx0ZXJFbXB0eUxpbmUpLmpvaW4oJ1xuJyk7fWZ1bmN0aW9uIGdlbmVyYXRlRGVmaW5lcyhkZWZpbmVzKXt2YXIgY2h1bmtzPVtdO2Zvcih2YXIgbmFtZSBpbiBkZWZpbmVzKXt2YXIgX3ZhbHVlND1kZWZpbmVzW25hbWVdO2lmKF92YWx1ZTQ9PT1mYWxzZSljb250aW51ZTtjaHVua3MucHVzaCgnI2RlZmluZSAnK25hbWUrJyAnK192YWx1ZTQpO31yZXR1cm4gY2h1bmtzLmpvaW4oJ1xuJyk7fWZ1bmN0aW9uIGZldGNoQXR0cmlidXRlTG9jYXRpb25zKGdsLHByb2dyYW0pe3ZhciBhdHRyaWJ1dGVzPXt9O3ZhciBuPWdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSwzNTcyMSk7Zm9yKHZhciBfaTExMz0wO19pMTEzPG47X2kxMTMrKyl7dmFyIGluZm89Z2wuZ2V0QWN0aXZlQXR0cmliKHByb2dyYW0sX2kxMTMpO3ZhciBuYW1lPWluZm8ubmFtZTt2YXIgbG9jYXRpb25TaXplPTE7aWYoaW5mby50eXBlPT09MzU2NzQpbG9jYXRpb25TaXplPTI7aWYoaW5mby50eXBlPT09MzU2NzUpbG9jYXRpb25TaXplPTM7aWYoaW5mby50eXBlPT09MzU2NzYpbG9jYXRpb25TaXplPTQ7Ly8gY29uc29sZS5sb2coICdUSFJFRS5XZWJHTFByb2dyYW06IEFDVElWRSBWRVJURVggQVRUUklCVVRFOicsIG5hbWUsIGkgKTsKYXR0cmlidXRlc1tuYW1lXT17dHlwZTppbmZvLnR5cGUsbG9jYXRpb246Z2wuZ2V0QXR0cmliTG9jYXRpb24ocHJvZ3JhbSxuYW1lKSxsb2NhdGlvblNpemU6bG9jYXRpb25TaXplfTt9cmV0dXJuIGF0dHJpYnV0ZXM7fWZ1bmN0aW9uIGZpbHRlckVtcHR5TGluZShzdHJpbmcpe3JldHVybiBzdHJpbmchPT0nJzt9ZnVuY3Rpb24gcmVwbGFjZUxpZ2h0TnVtcyhzdHJpbmcscGFyYW1ldGVycyl7cmV0dXJuIHN0cmluZy5yZXBsYWNlKC9OVU1fRElSX0xJR0hUUy9nLHBhcmFtZXRlcnMubnVtRGlyTGlnaHRzKS5yZXBsYWNlKC9OVU1fU1BPVF9MSUdIVFMvZyxwYXJhbWV0ZXJzLm51bVNwb3RMaWdodHMpLnJlcGxhY2UoL05VTV9SRUNUX0FSRUFfTElHSFRTL2cscGFyYW1ldGVycy5udW1SZWN0QXJlYUxpZ2h0cykucmVwbGFjZSgvTlVNX1BPSU5UX0xJR0hUUy9nLHBhcmFtZXRlcnMubnVtUG9pbnRMaWdodHMpLnJlcGxhY2UoL05VTV9IRU1JX0xJR0hUUy9nLHBhcmFtZXRlcnMubnVtSGVtaUxpZ2h0cykucmVwbGFjZSgvTlVNX0RJUl9MSUdIVF9TSEFET1dTL2cscGFyYW1ldGVycy5udW1EaXJMaWdodFNoYWRvd3MpLnJlcGxhY2UoL05VTV9TUE9UX0xJR0hUX1NIQURPV1MvZyxwYXJhbWV0ZXJzLm51bVNwb3RMaWdodFNoYWRvd3MpLnJlcGxhY2UoL05VTV9QT0lOVF9MSUdIVF9TSEFET1dTL2cscGFyYW1ldGVycy5udW1Qb2ludExpZ2h0U2hhZG93cyk7fWZ1bmN0aW9uIHJlcGxhY2VDbGlwcGluZ1BsYW5lTnVtcyhzdHJpbmcscGFyYW1ldGVycyl7cmV0dXJuIHN0cmluZy5yZXBsYWNlKC9OVU1fQ0xJUFBJTkdfUExBTkVTL2cscGFyYW1ldGVycy5udW1DbGlwcGluZ1BsYW5lcykucmVwbGFjZSgvVU5JT05fQ0xJUFBJTkdfUExBTkVTL2cscGFyYW1ldGVycy5udW1DbGlwcGluZ1BsYW5lcy1wYXJhbWV0ZXJzLm51bUNsaXBJbnRlcnNlY3Rpb24pO30vLyBSZXNvbHZlIEluY2x1ZGVzCnZhciBpbmNsdWRlUGF0dGVybj0vXlsgXHRdKiNpbmNsdWRlICs8KFtcd1xkLi9dKyk+L2dtO2Z1bmN0aW9uIHJlc29sdmVJbmNsdWRlcyhzdHJpbmcpe3JldHVybiBzdHJpbmcucmVwbGFjZShpbmNsdWRlUGF0dGVybixpbmNsdWRlUmVwbGFjZXIpO31mdW5jdGlvbiBpbmNsdWRlUmVwbGFjZXIobWF0Y2gsaW5jbHVkZSl7dmFyIHN0cmluZz1TaGFkZXJDaHVua1tpbmNsdWRlXTtpZihzdHJpbmc9PT11bmRlZmluZWQpe3Rocm93IG5ldyBFcnJvcignQ2FuIG5vdCByZXNvbHZlICNpbmNsdWRlIDwnK2luY2x1ZGUrJz4nKTt9cmV0dXJuIHJlc29sdmVJbmNsdWRlcyhzdHJpbmcpO30vLyBVbnJvbGwgTG9vcHMKdmFyIGRlcHJlY2F0ZWRVbnJvbGxMb29wUGF0dGVybj0vI3ByYWdtYSB1bnJvbGxfbG9vcFtcc10rP2ZvciBcKCBpbnQgaSBcPSAoXGQrKVw7IGkgPCAoXGQrKVw7IGkgXCtcKyBcKSBceyhbXHNcU10rPykoPz1cfSlcfS9nO3ZhciB1bnJvbGxMb29wUGF0dGVybj0vI3ByYWdtYSB1bnJvbGxfbG9vcF9zdGFydFxzK2ZvclxzKlwoXHMqaW50XHMraVxzKj1ccyooXGQrKVxzKjtccyppXHMqPFxzKihcZCspXHMqO1xzKmlccypcK1wrXHMqXClccyp7KFtcc1xTXSs/KX1ccysjcHJhZ21hIHVucm9sbF9sb29wX2VuZC9nO2Z1bmN0aW9uIHVucm9sbExvb3BzKHN0cmluZyl7cmV0dXJuIHN0cmluZy5yZXBsYWNlKHVucm9sbExvb3BQYXR0ZXJuLGxvb3BSZXBsYWNlcikucmVwbGFjZShkZXByZWNhdGVkVW5yb2xsTG9vcFBhdHRlcm4sZGVwcmVjYXRlZExvb3BSZXBsYWNlcik7fWZ1bmN0aW9uIGRlcHJlY2F0ZWRMb29wUmVwbGFjZXIobWF0Y2gsc3RhcnQsZW5kLHNuaXBwZXQpe2NvbnNvbGUud2FybignV2ViR0xQcm9ncmFtOiAjcHJhZ21hIHVucm9sbF9sb29wIHNoYWRlciBzeW50YXggaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSAjcHJhZ21hIHVucm9sbF9sb29wX3N0YXJ0IHN5bnRheCBpbnN0ZWFkLicpO3JldHVybiBsb29wUmVwbGFjZXIobWF0Y2gsc3RhcnQsZW5kLHNuaXBwZXQpO31mdW5jdGlvbiBsb29wUmVwbGFjZXIobWF0Y2gsc3RhcnQsZW5kLHNuaXBwZXQpe3ZhciBzdHJpbmc9Jyc7Zm9yKHZhciBfaTExND1wYXJzZUludChzdGFydCk7X2kxMTQ8cGFyc2VJbnQoZW5kKTtfaTExNCsrKXtzdHJpbmcrPXNuaXBwZXQucmVwbGFjZSgvXFtccyppXHMqXF0vZywnWyAnK19pMTE0KycgXScpLnJlcGxhY2UoL1VOUk9MTEVEX0xPT1BfSU5ERVgvZyxfaTExNCk7fXJldHVybiBzdHJpbmc7fS8vCmZ1bmN0aW9uIGdlbmVyYXRlUHJlY2lzaW9uKHBhcmFtZXRlcnMpe3ZhciBwcmVjaXNpb25zdHJpbmc9J3ByZWNpc2lvbiAnK3BhcmFtZXRlcnMucHJlY2lzaW9uKycgZmxvYXQ7XG5wcmVjaXNpb24gJytwYXJhbWV0ZXJzLnByZWNpc2lvbisnIGludDsnO2lmKHBhcmFtZXRlcnMucHJlY2lzaW9uPT09J2hpZ2hwJyl7cHJlY2lzaW9uc3RyaW5nKz0nXG4jZGVmaW5lIEhJR0hfUFJFQ0lTSU9OJzt9ZWxzZSBpZihwYXJhbWV0ZXJzLnByZWNpc2lvbj09PSdtZWRpdW1wJyl7cHJlY2lzaW9uc3RyaW5nKz0nXG4jZGVmaW5lIE1FRElVTV9QUkVDSVNJT04nO31lbHNlIGlmKHBhcmFtZXRlcnMucHJlY2lzaW9uPT09J2xvd3AnKXtwcmVjaXNpb25zdHJpbmcrPSdcbiNkZWZpbmUgTE9XX1BSRUNJU0lPTic7fXJldHVybiBwcmVjaXNpb25zdHJpbmc7fWZ1bmN0aW9uIGdlbmVyYXRlU2hhZG93TWFwVHlwZURlZmluZShwYXJhbWV0ZXJzKXt2YXIgc2hhZG93TWFwVHlwZURlZmluZT0nU0hBRE9XTUFQX1RZUEVfQkFTSUMnO2lmKHBhcmFtZXRlcnMuc2hhZG93TWFwVHlwZT09PVBDRlNoYWRvd01hcCl7c2hhZG93TWFwVHlwZURlZmluZT0nU0hBRE9XTUFQX1RZUEVfUENGJzt9ZWxzZSBpZihwYXJhbWV0ZXJzLnNoYWRvd01hcFR5cGU9PT1QQ0ZTb2Z0U2hhZG93TWFwKXtzaGFkb3dNYXBUeXBlRGVmaW5lPSdTSEFET1dNQVBfVFlQRV9QQ0ZfU09GVCc7fWVsc2UgaWYocGFyYW1ldGVycy5zaGFkb3dNYXBUeXBlPT09VlNNU2hhZG93TWFwKXtzaGFkb3dNYXBUeXBlRGVmaW5lPSdTSEFET1dNQVBfVFlQRV9WU00nO31yZXR1cm4gc2hhZG93TWFwVHlwZURlZmluZTt9ZnVuY3Rpb24gZ2VuZXJhdGVFbnZNYXBUeXBlRGVmaW5lKHBhcmFtZXRlcnMpe3ZhciBlbnZNYXBUeXBlRGVmaW5lPSdFTlZNQVBfVFlQRV9DVUJFJztpZihwYXJhbWV0ZXJzLmVudk1hcCl7c3dpdGNoKHBhcmFtZXRlcnMuZW52TWFwTW9kZSl7Y2FzZSBDdWJlUmVmbGVjdGlvbk1hcHBpbmc6Y2FzZSBDdWJlUmVmcmFjdGlvbk1hcHBpbmc6ZW52TWFwVHlwZURlZmluZT0nRU5WTUFQX1RZUEVfQ1VCRSc7YnJlYWs7Y2FzZSBDdWJlVVZSZWZsZWN0aW9uTWFwcGluZzpjYXNlIEN1YmVVVlJlZnJhY3Rpb25NYXBwaW5nOmVudk1hcFR5cGVEZWZpbmU9J0VOVk1BUF9UWVBFX0NVQkVfVVYnO2JyZWFrO319cmV0dXJuIGVudk1hcFR5cGVEZWZpbmU7fWZ1bmN0aW9uIGdlbmVyYXRlRW52TWFwTW9kZURlZmluZShwYXJhbWV0ZXJzKXt2YXIgZW52TWFwTW9kZURlZmluZT0nRU5WTUFQX01PREVfUkVGTEVDVElPTic7aWYocGFyYW1ldGVycy5lbnZNYXApe3N3aXRjaChwYXJhbWV0ZXJzLmVudk1hcE1vZGUpe2Nhc2UgQ3ViZVJlZnJhY3Rpb25NYXBwaW5nOmNhc2UgQ3ViZVVWUmVmcmFjdGlvbk1hcHBpbmc6ZW52TWFwTW9kZURlZmluZT0nRU5WTUFQX01PREVfUkVGUkFDVElPTic7YnJlYWs7fX1yZXR1cm4gZW52TWFwTW9kZURlZmluZTt9ZnVuY3Rpb24gZ2VuZXJhdGVFbnZNYXBCbGVuZGluZ0RlZmluZShwYXJhbWV0ZXJzKXt2YXIgZW52TWFwQmxlbmRpbmdEZWZpbmU9J0VOVk1BUF9CTEVORElOR19OT05FJztpZihwYXJhbWV0ZXJzLmVudk1hcCl7c3dpdGNoKHBhcmFtZXRlcnMuY29tYmluZSl7Y2FzZSBNdWx0aXBseU9wZXJhdGlvbjplbnZNYXBCbGVuZGluZ0RlZmluZT0nRU5WTUFQX0JMRU5ESU5HX01VTFRJUExZJzticmVhaztjYXNlIE1peE9wZXJhdGlvbjplbnZNYXBCbGVuZGluZ0RlZmluZT0nRU5WTUFQX0JMRU5ESU5HX01JWCc7YnJlYWs7Y2FzZSBBZGRPcGVyYXRpb246ZW52TWFwQmxlbmRpbmdEZWZpbmU9J0VOVk1BUF9CTEVORElOR19BREQnO2JyZWFrO319cmV0dXJuIGVudk1hcEJsZW5kaW5nRGVmaW5lO31mdW5jdGlvbiBXZWJHTFByb2dyYW0ocmVuZGVyZXIsY2FjaGVLZXkscGFyYW1ldGVycyxiaW5kaW5nU3RhdGVzKXsvLyBUT0RPIFNlbmQgdGhpcyBldmVudCB0byBUaHJlZS5qcyBEZXZUb29scwovLyBjb25zb2xlLmxvZyggJ1dlYkdMUHJvZ3JhbScsIGNhY2hlS2V5ICk7CnZhciBnbD1yZW5kZXJlci5nZXRDb250ZXh0KCk7dmFyIGRlZmluZXM9cGFyYW1ldGVycy5kZWZpbmVzO3ZhciB2ZXJ0ZXhTaGFkZXI9cGFyYW1ldGVycy52ZXJ0ZXhTaGFkZXI7dmFyIGZyYWdtZW50U2hhZGVyPXBhcmFtZXRlcnMuZnJhZ21lbnRTaGFkZXI7dmFyIHNoYWRvd01hcFR5cGVEZWZpbmU9Z2VuZXJhdGVTaGFkb3dNYXBUeXBlRGVmaW5lKHBhcmFtZXRlcnMpO3ZhciBlbnZNYXBUeXBlRGVmaW5lPWdlbmVyYXRlRW52TWFwVHlwZURlZmluZShwYXJhbWV0ZXJzKTt2YXIgZW52TWFwTW9kZURlZmluZT1nZW5lcmF0ZUVudk1hcE1vZGVEZWZpbmUocGFyYW1ldGVycyk7dmFyIGVudk1hcEJsZW5kaW5nRGVmaW5lPWdlbmVyYXRlRW52TWFwQmxlbmRpbmdEZWZpbmUocGFyYW1ldGVycyk7dmFyIGN1c3RvbUV4dGVuc2lvbnM9cGFyYW1ldGVycy5pc1dlYkdMMj8nJzpnZW5lcmF0ZUV4dGVuc2lvbnMocGFyYW1ldGVycyk7dmFyIGN1c3RvbURlZmluZXM9Z2VuZXJhdGVEZWZpbmVzKGRlZmluZXMpO3ZhciBwcm9ncmFtPWdsLmNyZWF0ZVByb2dyYW0oKTt2YXIgcHJlZml4VmVydGV4LHByZWZpeEZyYWdtZW50O3ZhciB2ZXJzaW9uU3RyaW5nPXBhcmFtZXRlcnMuZ2xzbFZlcnNpb24/JyN2ZXJzaW9uICcrcGFyYW1ldGVycy5nbHNsVmVyc2lvbisnXG4nOicnO2lmKHBhcmFtZXRlcnMuaXNSYXdTaGFkZXJNYXRlcmlhbCl7cHJlZml4VmVydGV4PVtjdXN0b21EZWZpbmVzXS5maWx0ZXIoZmlsdGVyRW1wdHlMaW5lKS5qb2luKCdcbicpO2lmKHByZWZpeFZlcnRleC5sZW5ndGg+MCl7cHJlZml4VmVydGV4Kz0nXG4nO31wcmVmaXhGcmFnbWVudD1bY3VzdG9tRXh0ZW5zaW9ucyxjdXN0b21EZWZpbmVzXS5maWx0ZXIoZmlsdGVyRW1wdHlMaW5lKS5qb2luKCdcbicpO2lmKHByZWZpeEZyYWdtZW50Lmxlbmd0aD4wKXtwcmVmaXhGcmFnbWVudCs9J1xuJzt9fWVsc2V7cHJlZml4VmVydGV4PVtnZW5lcmF0ZVByZWNpc2lvbihwYXJhbWV0ZXJzKSwnI2RlZmluZSBTSEFERVJfTkFNRSAnK3BhcmFtZXRlcnMuc2hhZGVyTmFtZSxjdXN0b21EZWZpbmVzLHBhcmFtZXRlcnMuaW5zdGFuY2luZz8nI2RlZmluZSBVU0VfSU5TVEFOQ0lORyc6JycscGFyYW1ldGVycy5pbnN0YW5jaW5nQ29sb3I/JyNkZWZpbmUgVVNFX0lOU1RBTkNJTkdfQ09MT1InOicnLHBhcmFtZXRlcnMuc3VwcG9ydHNWZXJ0ZXhUZXh0dXJlcz8nI2RlZmluZSBWRVJURVhfVEVYVFVSRVMnOicnLCcjZGVmaW5lIE1BWF9CT05FUyAnK3BhcmFtZXRlcnMubWF4Qm9uZXMscGFyYW1ldGVycy51c2VGb2cmJnBhcmFtZXRlcnMuZm9nPycjZGVmaW5lIFVTRV9GT0cnOicnLHBhcmFtZXRlcnMudXNlRm9nJiZwYXJhbWV0ZXJzLmZvZ0V4cDI/JyNkZWZpbmUgRk9HX0VYUDInOicnLHBhcmFtZXRlcnMubWFwPycjZGVmaW5lIFVTRV9NQVAnOicnLHBhcmFtZXRlcnMuZW52TWFwPycjZGVmaW5lIFVTRV9FTlZNQVAnOicnLHBhcmFtZXRlcnMuZW52TWFwPycjZGVmaW5lICcrZW52TWFwTW9kZURlZmluZTonJyxwYXJhbWV0ZXJzLmxpZ2h0TWFwPycjZGVmaW5lIFVTRV9MSUdIVE1BUCc6JycscGFyYW1ldGVycy5hb01hcD8nI2RlZmluZSBVU0VfQU9NQVAnOicnLHBhcmFtZXRlcnMuZW1pc3NpdmVNYXA/JyNkZWZpbmUgVVNFX0VNSVNTSVZFTUFQJzonJyxwYXJhbWV0ZXJzLmJ1bXBNYXA/JyNkZWZpbmUgVVNFX0JVTVBNQVAnOicnLHBhcmFtZXRlcnMubm9ybWFsTWFwPycjZGVmaW5lIFVTRV9OT1JNQUxNQVAnOicnLHBhcmFtZXRlcnMubm9ybWFsTWFwJiZwYXJhbWV0ZXJzLm9iamVjdFNwYWNlTm9ybWFsTWFwPycjZGVmaW5lIE9CSkVDVFNQQUNFX05PUk1BTE1BUCc6JycscGFyYW1ldGVycy5ub3JtYWxNYXAmJnBhcmFtZXRlcnMudGFuZ2VudFNwYWNlTm9ybWFsTWFwPycjZGVmaW5lIFRBTkdFTlRTUEFDRV9OT1JNQUxNQVAnOicnLHBhcmFtZXRlcnMuY2xlYXJjb2F0TWFwPycjZGVmaW5lIFVTRV9DTEVBUkNPQVRNQVAnOicnLHBhcmFtZXRlcnMuY2xlYXJjb2F0Um91Z2huZXNzTWFwPycjZGVmaW5lIFVTRV9DTEVBUkNPQVRfUk9VR0hORVNTTUFQJzonJyxwYXJhbWV0ZXJzLmNsZWFyY29hdE5vcm1hbE1hcD8nI2RlZmluZSBVU0VfQ0xFQVJDT0FUX05PUk1BTE1BUCc6JycscGFyYW1ldGVycy5kaXNwbGFjZW1lbnRNYXAmJnBhcmFtZXRlcnMuc3VwcG9ydHNWZXJ0ZXhUZXh0dXJlcz8nI2RlZmluZSBVU0VfRElTUExBQ0VNRU5UTUFQJzonJyxwYXJhbWV0ZXJzLnNwZWN1bGFyTWFwPycjZGVmaW5lIFVTRV9TUEVDVUxBUk1BUCc6JycscGFyYW1ldGVycy5zcGVjdWxhckludGVuc2l0eU1hcD8nI2RlZmluZSBVU0VfU1BFQ1VMQVJJTlRFTlNJVFlNQVAnOicnLHBhcmFtZXRlcnMuc3BlY3VsYXJDb2xvck1hcD8nI2RlZmluZSBVU0VfU1BFQ1VMQVJDT0xPUk1BUCc6JycscGFyYW1ldGVycy5yb3VnaG5lc3NNYXA/JyNkZWZpbmUgVVNFX1JPVUdITkVTU01BUCc6JycscGFyYW1ldGVycy5tZXRhbG5lc3NNYXA/JyNkZWZpbmUgVVNFX01FVEFMTkVTU01BUCc6JycscGFyYW1ldGVycy5hbHBoYU1hcD8nI2RlZmluZSBVU0VfQUxQSEFNQVAnOicnLHBhcmFtZXRlcnMudHJhbnNtaXNzaW9uPycjZGVmaW5lIFVTRV9UUkFOU01JU1NJT04nOicnLHBhcmFtZXRlcnMudHJhbnNtaXNzaW9uTWFwPycjZGVmaW5lIFVTRV9UUkFOU01JU1NJT05NQVAnOicnLHBhcmFtZXRlcnMudGhpY2tuZXNzTWFwPycjZGVmaW5lIFVTRV9USElDS05FU1NNQVAnOicnLHBhcmFtZXRlcnMuc2hlZW5Db2xvck1hcD8nI2RlZmluZSBVU0VfU0hFRU5DT0xPUk1BUCc6JycscGFyYW1ldGVycy5zaGVlblJvdWdobmVzc01hcD8nI2RlZmluZSBVU0VfU0hFRU5ST1VHSE5FU1NNQVAnOicnLHBhcmFtZXRlcnMudmVydGV4VGFuZ2VudHM/JyNkZWZpbmUgVVNFX1RBTkdFTlQnOicnLHBhcmFtZXRlcnMudmVydGV4Q29sb3JzPycjZGVmaW5lIFVTRV9DT0xPUic6JycscGFyYW1ldGVycy52ZXJ0ZXhBbHBoYXM/JyNkZWZpbmUgVVNFX0NPTE9SX0FMUEhBJzonJyxwYXJhbWV0ZXJzLnZlcnRleFV2cz8nI2RlZmluZSBVU0VfVVYnOicnLHBhcmFtZXRlcnMudXZzVmVydGV4T25seT8nI2RlZmluZSBVVlNfVkVSVEVYX09OTFknOicnLHBhcmFtZXRlcnMuZmxhdFNoYWRpbmc/JyNkZWZpbmUgRkxBVF9TSEFERUQnOicnLHBhcmFtZXRlcnMuc2tpbm5pbmc/JyNkZWZpbmUgVVNFX1NLSU5OSU5HJzonJyxwYXJhbWV0ZXJzLnVzZVZlcnRleFRleHR1cmU/JyNkZWZpbmUgQk9ORV9URVhUVVJFJzonJyxwYXJhbWV0ZXJzLm1vcnBoVGFyZ2V0cz8nI2RlZmluZSBVU0VfTU9SUEhUQVJHRVRTJzonJyxwYXJhbWV0ZXJzLm1vcnBoTm9ybWFscyYmcGFyYW1ldGVycy5mbGF0U2hhZGluZz09PWZhbHNlPycjZGVmaW5lIFVTRV9NT1JQSE5PUk1BTFMnOicnLHBhcmFtZXRlcnMubW9ycGhUYXJnZXRzJiZwYXJhbWV0ZXJzLmlzV2ViR0wyPycjZGVmaW5lIE1PUlBIVEFSR0VUU19URVhUVVJFJzonJyxwYXJhbWV0ZXJzLm1vcnBoVGFyZ2V0cyYmcGFyYW1ldGVycy5pc1dlYkdMMj8nI2RlZmluZSBNT1JQSFRBUkdFVFNfQ09VTlQgJytwYXJhbWV0ZXJzLm1vcnBoVGFyZ2V0c0NvdW50OicnLHBhcmFtZXRlcnMuZG91YmxlU2lkZWQ/JyNkZWZpbmUgRE9VQkxFX1NJREVEJzonJyxwYXJhbWV0ZXJzLmZsaXBTaWRlZD8nI2RlZmluZSBGTElQX1NJREVEJzonJyxwYXJhbWV0ZXJzLnNoYWRvd01hcEVuYWJsZWQ/JyNkZWZpbmUgVVNFX1NIQURPV01BUCc6JycscGFyYW1ldGVycy5zaGFkb3dNYXBFbmFibGVkPycjZGVmaW5lICcrc2hhZG93TWFwVHlwZURlZmluZTonJyxwYXJhbWV0ZXJzLnNpemVBdHRlbnVhdGlvbj8nI2RlZmluZSBVU0VfU0laRUFUVEVOVUFUSU9OJzonJyxwYXJhbWV0ZXJzLmxvZ2FyaXRobWljRGVwdGhCdWZmZXI/JyNkZWZpbmUgVVNFX0xPR0RFUFRIQlVGJzonJyxwYXJhbWV0ZXJzLmxvZ2FyaXRobWljRGVwdGhCdWZmZXImJnBhcmFtZXRlcnMucmVuZGVyZXJFeHRlbnNpb25GcmFnRGVwdGg/JyNkZWZpbmUgVVNFX0xPR0RFUFRIQlVGX0VYVCc6JycsJ3VuaWZvcm0gbWF0NCBtb2RlbE1hdHJpeDsnLCd1bmlmb3JtIG1hdDQgbW9kZWxWaWV3TWF0cml4OycsJ3VuaWZvcm0gbWF0NCBwcm9qZWN0aW9uTWF0cml4OycsJ3VuaWZvcm0gbWF0NCB2aWV3TWF0cml4OycsJ3VuaWZvcm0gbWF0MyBub3JtYWxNYXRyaXg7JywndW5pZm9ybSB2ZWMzIGNhbWVyYVBvc2l0aW9uOycsJ3VuaWZvcm0gYm9vbCBpc09ydGhvZ3JhcGhpYzsnLCcjaWZkZWYgVVNFX0lOU1RBTkNJTkcnLCcJYXR0cmlidXRlIG1hdDQgaW5zdGFuY2VNYXRyaXg7JywnI2VuZGlmJywnI2lmZGVmIFVTRV9JTlNUQU5DSU5HX0NPTE9SJywnCWF0dHJpYnV0ZSB2ZWMzIGluc3RhbmNlQ29sb3I7JywnI2VuZGlmJywnYXR0cmlidXRlIHZlYzMgcG9zaXRpb247JywnYXR0cmlidXRlIHZlYzMgbm9ybWFsOycsJ2F0dHJpYnV0ZSB2ZWMyIHV2OycsJyNpZmRlZiBVU0VfVEFOR0VOVCcsJwlhdHRyaWJ1dGUgdmVjNCB0YW5nZW50OycsJyNlbmRpZicsJyNpZiBkZWZpbmVkKCBVU0VfQ09MT1JfQUxQSEEgKScsJwlhdHRyaWJ1dGUgdmVjNCBjb2xvcjsnLCcjZWxpZiBkZWZpbmVkKCBVU0VfQ09MT1IgKScsJwlhdHRyaWJ1dGUgdmVjMyBjb2xvcjsnLCcjZW5kaWYnLCcjaWYgKCBkZWZpbmVkKCBVU0VfTU9SUEhUQVJHRVRTICkgJiYgISBkZWZpbmVkKCBNT1JQSFRBUkdFVFNfVEVYVFVSRSApICknLCcJYXR0cmlidXRlIHZlYzMgbW9ycGhUYXJnZXQwOycsJwlhdHRyaWJ1dGUgdmVjMyBtb3JwaFRhcmdldDE7JywnCWF0dHJpYnV0ZSB2ZWMzIG1vcnBoVGFyZ2V0MjsnLCcJYXR0cmlidXRlIHZlYzMgbW9ycGhUYXJnZXQzOycsJwkjaWZkZWYgVVNFX01PUlBITk9STUFMUycsJwkJYXR0cmlidXRlIHZlYzMgbW9ycGhOb3JtYWwwOycsJwkJYXR0cmlidXRlIHZlYzMgbW9ycGhOb3JtYWwxOycsJwkJYXR0cmlidXRlIHZlYzMgbW9ycGhOb3JtYWwyOycsJwkJYXR0cmlidXRlIHZlYzMgbW9ycGhOb3JtYWwzOycsJwkjZWxzZScsJwkJYXR0cmlidXRlIHZlYzMgbW9ycGhUYXJnZXQ0OycsJwkJYXR0cmlidXRlIHZlYzMgbW9ycGhUYXJnZXQ1OycsJwkJYXR0cmlidXRlIHZlYzMgbW9ycGhUYXJnZXQ2OycsJwkJYXR0cmlidXRlIHZlYzMgbW9ycGhUYXJnZXQ3OycsJwkjZW5kaWYnLCcjZW5kaWYnLCcjaWZkZWYgVVNFX1NLSU5OSU5HJywnCWF0dHJpYnV0ZSB2ZWM0IHNraW5JbmRleDsnLCcJYXR0cmlidXRlIHZlYzQgc2tpbldlaWdodDsnLCcjZW5kaWYnLCdcbiddLmZpbHRlcihmaWx0ZXJFbXB0eUxpbmUpLmpvaW4oJ1xuJyk7cHJlZml4RnJhZ21lbnQ9W2N1c3RvbUV4dGVuc2lvbnMsZ2VuZXJhdGVQcmVjaXNpb24ocGFyYW1ldGVycyksJyNkZWZpbmUgU0hBREVSX05BTUUgJytwYXJhbWV0ZXJzLnNoYWRlck5hbWUsY3VzdG9tRGVmaW5lcyxwYXJhbWV0ZXJzLnVzZUZvZyYmcGFyYW1ldGVycy5mb2c/JyNkZWZpbmUgVVNFX0ZPRyc6JycscGFyYW1ldGVycy51c2VGb2cmJnBhcmFtZXRlcnMuZm9nRXhwMj8nI2RlZmluZSBGT0dfRVhQMic6JycscGFyYW1ldGVycy5tYXA/JyNkZWZpbmUgVVNFX01BUCc6JycscGFyYW1ldGVycy5tYXRjYXA/JyNkZWZpbmUgVVNFX01BVENBUCc6JycscGFyYW1ldGVycy5lbnZNYXA/JyNkZWZpbmUgVVNFX0VOVk1BUCc6JycscGFyYW1ldGVycy5lbnZNYXA/JyNkZWZpbmUgJytlbnZNYXBUeXBlRGVmaW5lOicnLHBhcmFtZXRlcnMuZW52TWFwPycjZGVmaW5lICcrZW52TWFwTW9kZURlZmluZTonJyxwYXJhbWV0ZXJzLmVudk1hcD8nI2RlZmluZSAnK2Vudk1hcEJsZW5kaW5nRGVmaW5lOicnLHBhcmFtZXRlcnMubGlnaHRNYXA/JyNkZWZpbmUgVVNFX0xJR0hUTUFQJzonJyxwYXJhbWV0ZXJzLmFvTWFwPycjZGVmaW5lIFVTRV9BT01BUCc6JycscGFyYW1ldGVycy5lbWlzc2l2ZU1hcD8nI2RlZmluZSBVU0VfRU1JU1NJVkVNQVAnOicnLHBhcmFtZXRlcnMuYnVtcE1hcD8nI2RlZmluZSBVU0VfQlVNUE1BUCc6JycscGFyYW1ldGVycy5ub3JtYWxNYXA/JyNkZWZpbmUgVVNFX05PUk1BTE1BUCc6JycscGFyYW1ldGVycy5ub3JtYWxNYXAmJnBhcmFtZXRlcnMub2JqZWN0U3BhY2VOb3JtYWxNYXA/JyNkZWZpbmUgT0JKRUNUU1BBQ0VfTk9STUFMTUFQJzonJyxwYXJhbWV0ZXJzLm5vcm1hbE1hcCYmcGFyYW1ldGVycy50YW5nZW50U3BhY2VOb3JtYWxNYXA/JyNkZWZpbmUgVEFOR0VOVFNQQUNFX05PUk1BTE1BUCc6JycscGFyYW1ldGVycy5jbGVhcmNvYXQ/JyNkZWZpbmUgVVNFX0NMRUFSQ09BVCc6JycscGFyYW1ldGVycy5jbGVhcmNvYXRNYXA/JyNkZWZpbmUgVVNFX0NMRUFSQ09BVE1BUCc6JycscGFyYW1ldGVycy5jbGVhcmNvYXRSb3VnaG5lc3NNYXA/JyNkZWZpbmUgVVNFX0NMRUFSQ09BVF9ST1VHSE5FU1NNQVAnOicnLHBhcmFtZXRlcnMuY2xlYXJjb2F0Tm9ybWFsTWFwPycjZGVmaW5lIFVTRV9DTEVBUkNPQVRfTk9STUFMTUFQJzonJyxwYXJhbWV0ZXJzLnNwZWN1bGFyTWFwPycjZGVmaW5lIFVTRV9TUEVDVUxBUk1BUCc6JycscGFyYW1ldGVycy5zcGVjdWxhckludGVuc2l0eU1hcD8nI2RlZmluZSBVU0VfU1BFQ1VMQVJJTlRFTlNJVFlNQVAnOicnLHBhcmFtZXRlcnMuc3BlY3VsYXJDb2xvck1hcD8nI2RlZmluZSBVU0VfU1BFQ1VMQVJDT0xPUk1BUCc6JycscGFyYW1ldGVycy5yb3VnaG5lc3NNYXA/JyNkZWZpbmUgVVNFX1JPVUdITkVTU01BUCc6JycscGFyYW1ldGVycy5tZXRhbG5lc3NNYXA/JyNkZWZpbmUgVVNFX01FVEFMTkVTU01BUCc6JycscGFyYW1ldGVycy5hbHBoYU1hcD8nI2RlZmluZSBVU0VfQUxQSEFNQVAnOicnLHBhcmFtZXRlcnMuYWxwaGFUZXN0PycjZGVmaW5lIFVTRV9BTFBIQVRFU1QnOicnLHBhcmFtZXRlcnMuc2hlZW4/JyNkZWZpbmUgVVNFX1NIRUVOJzonJyxwYXJhbWV0ZXJzLnNoZWVuQ29sb3JNYXA/JyNkZWZpbmUgVVNFX1NIRUVOQ09MT1JNQVAnOicnLHBhcmFtZXRlcnMuc2hlZW5Sb3VnaG5lc3NNYXA/JyNkZWZpbmUgVVNFX1NIRUVOUk9VR0hORVNTTUFQJzonJyxwYXJhbWV0ZXJzLnRyYW5zbWlzc2lvbj8nI2RlZmluZSBVU0VfVFJBTlNNSVNTSU9OJzonJyxwYXJhbWV0ZXJzLnRyYW5zbWlzc2lvbk1hcD8nI2RlZmluZSBVU0VfVFJBTlNNSVNTSU9OTUFQJzonJyxwYXJhbWV0ZXJzLnRoaWNrbmVzc01hcD8nI2RlZmluZSBVU0VfVEhJQ0tORVNTTUFQJzonJyxwYXJhbWV0ZXJzLmRlY29kZVZpZGVvVGV4dHVyZT8nI2RlZmluZSBERUNPREVfVklERU9fVEVYVFVSRSc6JycscGFyYW1ldGVycy52ZXJ0ZXhUYW5nZW50cz8nI2RlZmluZSBVU0VfVEFOR0VOVCc6JycscGFyYW1ldGVycy52ZXJ0ZXhDb2xvcnN8fHBhcmFtZXRlcnMuaW5zdGFuY2luZ0NvbG9yPycjZGVmaW5lIFVTRV9DT0xPUic6JycscGFyYW1ldGVycy52ZXJ0ZXhBbHBoYXM/JyNkZWZpbmUgVVNFX0NPTE9SX0FMUEhBJzonJyxwYXJhbWV0ZXJzLnZlcnRleFV2cz8nI2RlZmluZSBVU0VfVVYnOicnLHBhcmFtZXRlcnMudXZzVmVydGV4T25seT8nI2RlZmluZSBVVlNfVkVSVEVYX09OTFknOicnLHBhcmFtZXRlcnMuZ3JhZGllbnRNYXA/JyNkZWZpbmUgVVNFX0dSQURJRU5UTUFQJzonJyxwYXJhbWV0ZXJzLmZsYXRTaGFkaW5nPycjZGVmaW5lIEZMQVRfU0hBREVEJzonJyxwYXJhbWV0ZXJzLmRvdWJsZVNpZGVkPycjZGVmaW5lIERPVUJMRV9TSURFRCc6JycscGFyYW1ldGVycy5mbGlwU2lkZWQ/JyNkZWZpbmUgRkxJUF9TSURFRCc6JycscGFyYW1ldGVycy5zaGFkb3dNYXBFbmFibGVkPycjZGVmaW5lIFVTRV9TSEFET1dNQVAnOicnLHBhcmFtZXRlcnMuc2hhZG93TWFwRW5hYmxlZD8nI2RlZmluZSAnK3NoYWRvd01hcFR5cGVEZWZpbmU6JycscGFyYW1ldGVycy5wcmVtdWx0aXBsaWVkQWxwaGE/JyNkZWZpbmUgUFJFTVVMVElQTElFRF9BTFBIQSc6JycscGFyYW1ldGVycy5waHlzaWNhbGx5Q29ycmVjdExpZ2h0cz8nI2RlZmluZSBQSFlTSUNBTExZX0NPUlJFQ1RfTElHSFRTJzonJyxwYXJhbWV0ZXJzLmxvZ2FyaXRobWljRGVwdGhCdWZmZXI/JyNkZWZpbmUgVVNFX0xPR0RFUFRIQlVGJzonJyxwYXJhbWV0ZXJzLmxvZ2FyaXRobWljRGVwdGhCdWZmZXImJnBhcmFtZXRlcnMucmVuZGVyZXJFeHRlbnNpb25GcmFnRGVwdGg/JyNkZWZpbmUgVVNFX0xPR0RFUFRIQlVGX0VYVCc6JycsKHBhcmFtZXRlcnMuZXh0ZW5zaW9uU2hhZGVyVGV4dHVyZUxPRHx8cGFyYW1ldGVycy5lbnZNYXApJiZwYXJhbWV0ZXJzLnJlbmRlcmVyRXh0ZW5zaW9uU2hhZGVyVGV4dHVyZUxvZD8nI2RlZmluZSBURVhUVVJFX0xPRF9FWFQnOicnLCd1bmlmb3JtIG1hdDQgdmlld01hdHJpeDsnLCd1bmlmb3JtIHZlYzMgY2FtZXJhUG9zaXRpb247JywndW5pZm9ybSBib29sIGlzT3J0aG9ncmFwaGljOycscGFyYW1ldGVycy50b25lTWFwcGluZyE9PU5vVG9uZU1hcHBpbmc/JyNkZWZpbmUgVE9ORV9NQVBQSU5HJzonJyxwYXJhbWV0ZXJzLnRvbmVNYXBwaW5nIT09Tm9Ub25lTWFwcGluZz9TaGFkZXJDaHVua1sndG9uZW1hcHBpbmdfcGFyc19mcmFnbWVudCddOicnLC8vIHRoaXMgY29kZSBpcyByZXF1aXJlZCBoZXJlIGJlY2F1c2UgaXQgaXMgdXNlZCBieSB0aGUgdG9uZU1hcHBpbmcoKSBmdW5jdGlvbiBkZWZpbmVkIGJlbG93CnBhcmFtZXRlcnMudG9uZU1hcHBpbmchPT1Ob1RvbmVNYXBwaW5nP2dldFRvbmVNYXBwaW5nRnVuY3Rpb24oJ3RvbmVNYXBwaW5nJyxwYXJhbWV0ZXJzLnRvbmVNYXBwaW5nKTonJyxwYXJhbWV0ZXJzLmRpdGhlcmluZz8nI2RlZmluZSBESVRIRVJJTkcnOicnLHBhcmFtZXRlcnMudHJhbnNwYXJlbnQ/Jyc6JyNkZWZpbmUgT1BBUVVFJyxTaGFkZXJDaHVua1snZW5jb2RpbmdzX3BhcnNfZnJhZ21lbnQnXSwvLyB0aGlzIGNvZGUgaXMgcmVxdWlyZWQgaGVyZSBiZWNhdXNlIGl0IGlzIHVzZWQgYnkgdGhlIHZhcmlvdXMgZW5jb2RpbmcvZGVjb2RpbmcgZnVuY3Rpb24gZGVmaW5lZCBiZWxvdwpnZXRUZXhlbEVuY29kaW5nRnVuY3Rpb24oJ2xpbmVhclRvT3V0cHV0VGV4ZWwnLHBhcmFtZXRlcnMub3V0cHV0RW5jb2RpbmcpLHBhcmFtZXRlcnMuZGVwdGhQYWNraW5nPycjZGVmaW5lIERFUFRIX1BBQ0tJTkcgJytwYXJhbWV0ZXJzLmRlcHRoUGFja2luZzonJywnXG4nXS5maWx0ZXIoZmlsdGVyRW1wdHlMaW5lKS5qb2luKCdcbicpO312ZXJ0ZXhTaGFkZXI9cmVzb2x2ZUluY2x1ZGVzKHZlcnRleFNoYWRlcik7dmVydGV4U2hhZGVyPXJlcGxhY2VMaWdodE51bXModmVydGV4U2hhZGVyLHBhcmFtZXRlcnMpO3ZlcnRleFNoYWRlcj1yZXBsYWNlQ2xpcHBpbmdQbGFuZU51bXModmVydGV4U2hhZGVyLHBhcmFtZXRlcnMpO2ZyYWdtZW50U2hhZGVyPXJlc29sdmVJbmNsdWRlcyhmcmFnbWVudFNoYWRlcik7ZnJhZ21lbnRTaGFkZXI9cmVwbGFjZUxpZ2h0TnVtcyhmcmFnbWVudFNoYWRlcixwYXJhbWV0ZXJzKTtmcmFnbWVudFNoYWRlcj1yZXBsYWNlQ2xpcHBpbmdQbGFuZU51bXMoZnJhZ21lbnRTaGFkZXIscGFyYW1ldGVycyk7dmVydGV4U2hhZGVyPXVucm9sbExvb3BzKHZlcnRleFNoYWRlcik7ZnJhZ21lbnRTaGFkZXI9dW5yb2xsTG9vcHMoZnJhZ21lbnRTaGFkZXIpO2lmKHBhcmFtZXRlcnMuaXNXZWJHTDImJnBhcmFtZXRlcnMuaXNSYXdTaGFkZXJNYXRlcmlhbCE9PXRydWUpey8vIEdMU0wgMy4wIGNvbnZlcnNpb24gZm9yIGJ1aWx0LWluIG1hdGVyaWFscyBhbmQgU2hhZGVyTWF0ZXJpYWwKdmVyc2lvblN0cmluZz0nI3ZlcnNpb24gMzAwIGVzXG4nO3ByZWZpeFZlcnRleD1bJ3ByZWNpc2lvbiBtZWRpdW1wIHNhbXBsZXIyREFycmF5OycsJyNkZWZpbmUgYXR0cmlidXRlIGluJywnI2RlZmluZSB2YXJ5aW5nIG91dCcsJyNkZWZpbmUgdGV4dHVyZTJEIHRleHR1cmUnXS5qb2luKCdcbicpKydcbicrcHJlZml4VmVydGV4O3ByZWZpeEZyYWdtZW50PVsnI2RlZmluZSB2YXJ5aW5nIGluJyxwYXJhbWV0ZXJzLmdsc2xWZXJzaW9uPT09R0xTTDM/Jyc6J2xheW91dChsb2NhdGlvbiA9IDApIG91dCBoaWdocCB2ZWM0IHBjX2ZyYWdDb2xvcjsnLHBhcmFtZXRlcnMuZ2xzbFZlcnNpb249PT1HTFNMMz8nJzonI2RlZmluZSBnbF9GcmFnQ29sb3IgcGNfZnJhZ0NvbG9yJywnI2RlZmluZSBnbF9GcmFnRGVwdGhFWFQgZ2xfRnJhZ0RlcHRoJywnI2RlZmluZSB0ZXh0dXJlMkQgdGV4dHVyZScsJyNkZWZpbmUgdGV4dHVyZUN1YmUgdGV4dHVyZScsJyNkZWZpbmUgdGV4dHVyZTJEUHJvaiB0ZXh0dXJlUHJvaicsJyNkZWZpbmUgdGV4dHVyZTJETG9kRVhUIHRleHR1cmVMb2QnLCcjZGVmaW5lIHRleHR1cmUyRFByb2pMb2RFWFQgdGV4dHVyZVByb2pMb2QnLCcjZGVmaW5lIHRleHR1cmVDdWJlTG9kRVhUIHRleHR1cmVMb2QnLCcjZGVmaW5lIHRleHR1cmUyREdyYWRFWFQgdGV4dHVyZUdyYWQnLCcjZGVmaW5lIHRleHR1cmUyRFByb2pHcmFkRVhUIHRleHR1cmVQcm9qR3JhZCcsJyNkZWZpbmUgdGV4dHVyZUN1YmVHcmFkRVhUIHRleHR1cmVHcmFkJ10uam9pbignXG4nKSsnXG4nK3ByZWZpeEZyYWdtZW50O312YXIgdmVydGV4R2xzbD12ZXJzaW9uU3RyaW5nK3ByZWZpeFZlcnRleCt2ZXJ0ZXhTaGFkZXI7dmFyIGZyYWdtZW50R2xzbD12ZXJzaW9uU3RyaW5nK3ByZWZpeEZyYWdtZW50K2ZyYWdtZW50U2hhZGVyOy8vIGNvbnNvbGUubG9nKCAnKlZFUlRFWConLCB2ZXJ0ZXhHbHNsICk7Ci8vIGNvbnNvbGUubG9nKCAnKkZSQUdNRU5UKicsIGZyYWdtZW50R2xzbCApOwp2YXIgZ2xWZXJ0ZXhTaGFkZXI9V2ViR0xTaGFkZXIoZ2wsMzU2MzMsdmVydGV4R2xzbCk7dmFyIGdsRnJhZ21lbnRTaGFkZXI9V2ViR0xTaGFkZXIoZ2wsMzU2MzIsZnJhZ21lbnRHbHNsKTtnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSxnbFZlcnRleFNoYWRlcik7Z2wuYXR0YWNoU2hhZGVyKHByb2dyYW0sZ2xGcmFnbWVudFNoYWRlcik7Ly8gRm9yY2UgYSBwYXJ0aWN1bGFyIGF0dHJpYnV0ZSB0byBpbmRleCAwLgppZihwYXJhbWV0ZXJzLmluZGV4MEF0dHJpYnV0ZU5hbWUhPT11bmRlZmluZWQpe2dsLmJpbmRBdHRyaWJMb2NhdGlvbihwcm9ncmFtLDAscGFyYW1ldGVycy5pbmRleDBBdHRyaWJ1dGVOYW1lKTt9ZWxzZSBpZihwYXJhbWV0ZXJzLm1vcnBoVGFyZ2V0cz09PXRydWUpey8vIHByb2dyYW1zIHdpdGggbW9ycGhUYXJnZXRzIGRpc3BsYWNlIHBvc2l0aW9uIG91dCBvZiBhdHRyaWJ1dGUgMApnbC5iaW5kQXR0cmliTG9jYXRpb24ocHJvZ3JhbSwwLCdwb3NpdGlvbicpO31nbC5saW5rUHJvZ3JhbShwcm9ncmFtKTsvLyBjaGVjayBmb3IgbGluayBlcnJvcnMKaWYocmVuZGVyZXIuZGVidWcuY2hlY2tTaGFkZXJFcnJvcnMpe3ZhciBwcm9ncmFtTG9nPWdsLmdldFByb2dyYW1JbmZvTG9nKHByb2dyYW0pLnRyaW0oKTt2YXIgdmVydGV4TG9nPWdsLmdldFNoYWRlckluZm9Mb2coZ2xWZXJ0ZXhTaGFkZXIpLnRyaW0oKTt2YXIgZnJhZ21lbnRMb2c9Z2wuZ2V0U2hhZGVySW5mb0xvZyhnbEZyYWdtZW50U2hhZGVyKS50cmltKCk7dmFyIHJ1bm5hYmxlPXRydWU7dmFyIGhhdmVEaWFnbm9zdGljcz10cnVlO2lmKGdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSwzNTcxNCk9PT1mYWxzZSl7cnVubmFibGU9ZmFsc2U7dmFyIHZlcnRleEVycm9ycz1nZXRTaGFkZXJFcnJvcnMoZ2wsZ2xWZXJ0ZXhTaGFkZXIsJ3ZlcnRleCcpO3ZhciBmcmFnbWVudEVycm9ycz1nZXRTaGFkZXJFcnJvcnMoZ2wsZ2xGcmFnbWVudFNoYWRlciwnZnJhZ21lbnQnKTtjb25zb2xlLmVycm9yKCdUSFJFRS5XZWJHTFByb2dyYW06IFNoYWRlciBFcnJvciAnK2dsLmdldEVycm9yKCkrJyAtICcrJ1ZBTElEQVRFX1NUQVRVUyAnK2dsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSwzNTcxNSkrJ1xuXG4nKydQcm9ncmFtIEluZm8gTG9nOiAnK3Byb2dyYW1Mb2crJ1xuJyt2ZXJ0ZXhFcnJvcnMrJ1xuJytmcmFnbWVudEVycm9ycyk7fWVsc2UgaWYocHJvZ3JhbUxvZyE9PScnKXtjb25zb2xlLndhcm4oJ1RIUkVFLldlYkdMUHJvZ3JhbTogUHJvZ3JhbSBJbmZvIExvZzonLHByb2dyYW1Mb2cpO31lbHNlIGlmKHZlcnRleExvZz09PScnfHxmcmFnbWVudExvZz09PScnKXtoYXZlRGlhZ25vc3RpY3M9ZmFsc2U7fWlmKGhhdmVEaWFnbm9zdGljcyl7dGhpcy5kaWFnbm9zdGljcz17cnVubmFibGU6cnVubmFibGUscHJvZ3JhbUxvZzpwcm9ncmFtTG9nLHZlcnRleFNoYWRlcjp7bG9nOnZlcnRleExvZyxwcmVmaXg6cHJlZml4VmVydGV4fSxmcmFnbWVudFNoYWRlcjp7bG9nOmZyYWdtZW50TG9nLHByZWZpeDpwcmVmaXhGcmFnbWVudH19O319Ly8gQ2xlYW4gdXAKLy8gQ3Jhc2hlcyBpbiBpT1M5IGFuZCBpT1MxMC4gIzE4NDAyCi8vIGdsLmRldGFjaFNoYWRlciggcHJvZ3JhbSwgZ2xWZXJ0ZXhTaGFkZXIgKTsKLy8gZ2wuZGV0YWNoU2hhZGVyKCBwcm9ncmFtLCBnbEZyYWdtZW50U2hhZGVyICk7CmdsLmRlbGV0ZVNoYWRlcihnbFZlcnRleFNoYWRlcik7Z2wuZGVsZXRlU2hhZGVyKGdsRnJhZ21lbnRTaGFkZXIpOy8vIHNldCB1cCBjYWNoaW5nIGZvciB1bmlmb3JtIGxvY2F0aW9ucwp2YXIgY2FjaGVkVW5pZm9ybXM7dGhpcy5nZXRVbmlmb3Jtcz1mdW5jdGlvbigpe2lmKGNhY2hlZFVuaWZvcm1zPT09dW5kZWZpbmVkKXtjYWNoZWRVbmlmb3Jtcz1uZXcgV2ViR0xVbmlmb3JtcyhnbCxwcm9ncmFtKTt9cmV0dXJuIGNhY2hlZFVuaWZvcm1zO307Ly8gc2V0IHVwIGNhY2hpbmcgZm9yIGF0dHJpYnV0ZSBsb2NhdGlvbnMKdmFyIGNhY2hlZEF0dHJpYnV0ZXM7dGhpcy5nZXRBdHRyaWJ1dGVzPWZ1bmN0aW9uKCl7aWYoY2FjaGVkQXR0cmlidXRlcz09PXVuZGVmaW5lZCl7Y2FjaGVkQXR0cmlidXRlcz1mZXRjaEF0dHJpYnV0ZUxvY2F0aW9ucyhnbCxwcm9ncmFtKTt9cmV0dXJuIGNhY2hlZEF0dHJpYnV0ZXM7fTsvLyBmcmVlIHJlc291cmNlCnRoaXMuZGVzdHJveT1mdW5jdGlvbigpe2JpbmRpbmdTdGF0ZXMucmVsZWFzZVN0YXRlc09mUHJvZ3JhbSh0aGlzKTtnbC5kZWxldGVQcm9ncmFtKHByb2dyYW0pO3RoaXMucHJvZ3JhbT11bmRlZmluZWQ7fTsvLwp0aGlzLm5hbWU9cGFyYW1ldGVycy5zaGFkZXJOYW1lO3RoaXMuaWQ9cHJvZ3JhbUlkQ291bnQrKzt0aGlzLmNhY2hlS2V5PWNhY2hlS2V5O3RoaXMudXNlZFRpbWVzPTE7dGhpcy5wcm9ncmFtPXByb2dyYW07dGhpcy52ZXJ0ZXhTaGFkZXI9Z2xWZXJ0ZXhTaGFkZXI7dGhpcy5mcmFnbWVudFNoYWRlcj1nbEZyYWdtZW50U2hhZGVyO3JldHVybiB0aGlzO312YXIgX2lkPTA7dmFyIFdlYkdMU2hhZGVyQ2FjaGU9LyojX19QVVJFX18qL2Z1bmN0aW9uKCl7ZnVuY3Rpb24gV2ViR0xTaGFkZXJDYWNoZSgpe19jbGFzc0NhbGxDaGVjayh0aGlzLFdlYkdMU2hhZGVyQ2FjaGUpO3RoaXMuc2hhZGVyQ2FjaGU9bmV3IE1hcCgpO3RoaXMubWF0ZXJpYWxDYWNoZT1uZXcgTWFwKCk7fV9jcmVhdGVDbGFzcyhXZWJHTFNoYWRlckNhY2hlLFt7a2V5OiJ1cGRhdGUiLHZhbHVlOmZ1bmN0aW9uIHVwZGF0ZShtYXRlcmlhbCl7dmFyIHZlcnRleFNoYWRlcj1tYXRlcmlhbC52ZXJ0ZXhTaGFkZXI7dmFyIGZyYWdtZW50U2hhZGVyPW1hdGVyaWFsLmZyYWdtZW50U2hhZGVyO3ZhciB2ZXJ0ZXhTaGFkZXJTdGFnZT10aGlzLl9nZXRTaGFkZXJTdGFnZSh2ZXJ0ZXhTaGFkZXIpO3ZhciBmcmFnbWVudFNoYWRlclN0YWdlPXRoaXMuX2dldFNoYWRlclN0YWdlKGZyYWdtZW50U2hhZGVyKTt2YXIgbWF0ZXJpYWxTaGFkZXJzPXRoaXMuX2dldFNoYWRlckNhY2hlRm9yTWF0ZXJpYWwobWF0ZXJpYWwpO2lmKG1hdGVyaWFsU2hhZGVycy5oYXModmVydGV4U2hhZGVyU3RhZ2UpPT09ZmFsc2Upe21hdGVyaWFsU2hhZGVycy5hZGQodmVydGV4U2hhZGVyU3RhZ2UpO3ZlcnRleFNoYWRlclN0YWdlLnVzZWRUaW1lcysrO31pZihtYXRlcmlhbFNoYWRlcnMuaGFzKGZyYWdtZW50U2hhZGVyU3RhZ2UpPT09ZmFsc2Upe21hdGVyaWFsU2hhZGVycy5hZGQoZnJhZ21lbnRTaGFkZXJTdGFnZSk7ZnJhZ21lbnRTaGFkZXJTdGFnZS51c2VkVGltZXMrKzt9cmV0dXJuIHRoaXM7fX0se2tleToicmVtb3ZlIix2YWx1ZTpmdW5jdGlvbiByZW1vdmUobWF0ZXJpYWwpe3ZhciBtYXRlcmlhbFNoYWRlcnM9dGhpcy5tYXRlcmlhbENhY2hlLmdldChtYXRlcmlhbCk7dmFyIF9pdGVyYXRvcj1fY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihtYXRlcmlhbFNoYWRlcnMpLF9zdGVwO3RyeXtmb3IoX2l0ZXJhdG9yLnMoKTshKF9zdGVwPV9pdGVyYXRvci5uKCkpLmRvbmU7KXt2YXIgc2hhZGVyU3RhZ2U9X3N0ZXAudmFsdWU7c2hhZGVyU3RhZ2UudXNlZFRpbWVzLS07aWYoc2hhZGVyU3RhZ2UudXNlZFRpbWVzPT09MCl0aGlzLnNoYWRlckNhY2hlLmRlbGV0ZShzaGFkZXJTdGFnZSk7fX1jYXRjaChlcnIpe19pdGVyYXRvci5lKGVycik7fWZpbmFsbHl7X2l0ZXJhdG9yLmYoKTt9dGhpcy5tYXRlcmlhbENhY2hlLmRlbGV0ZShtYXRlcmlhbCk7cmV0dXJuIHRoaXM7fX0se2tleToiZ2V0VmVydGV4U2hhZGVySUQiLHZhbHVlOmZ1bmN0aW9uIGdldFZlcnRleFNoYWRlcklEKG1hdGVyaWFsKXtyZXR1cm4gdGhpcy5fZ2V0U2hhZGVyU3RhZ2UobWF0ZXJpYWwudmVydGV4U2hhZGVyKS5pZDt9fSx7a2V5OiJnZXRGcmFnbWVudFNoYWRlcklEIix2YWx1ZTpmdW5jdGlvbiBnZXRGcmFnbWVudFNoYWRlcklEKG1hdGVyaWFsKXtyZXR1cm4gdGhpcy5fZ2V0U2hhZGVyU3RhZ2UobWF0ZXJpYWwuZnJhZ21lbnRTaGFkZXIpLmlkO319LHtrZXk6ImRpc3Bvc2UiLHZhbHVlOmZ1bmN0aW9uIGRpc3Bvc2UoKXt0aGlzLnNoYWRlckNhY2hlLmNsZWFyKCk7dGhpcy5tYXRlcmlhbENhY2hlLmNsZWFyKCk7fX0se2tleToiX2dldFNoYWRlckNhY2hlRm9yTWF0ZXJpYWwiLHZhbHVlOmZ1bmN0aW9uIF9nZXRTaGFkZXJDYWNoZUZvck1hdGVyaWFsKG1hdGVyaWFsKXt2YXIgY2FjaGU9dGhpcy5tYXRlcmlhbENhY2hlO2lmKGNhY2hlLmhhcyhtYXRlcmlhbCk9PT1mYWxzZSl7Y2FjaGUuc2V0KG1hdGVyaWFsLG5ldyBTZXQoKSk7fXJldHVybiBjYWNoZS5nZXQobWF0ZXJpYWwpO319LHtrZXk6Il9nZXRTaGFkZXJTdGFnZSIsdmFsdWU6ZnVuY3Rpb24gX2dldFNoYWRlclN0YWdlKGNvZGUpe3ZhciBjYWNoZT10aGlzLnNoYWRlckNhY2hlO2lmKGNhY2hlLmhhcyhjb2RlKT09PWZhbHNlKXt2YXIgc3RhZ2U9bmV3IFdlYkdMU2hhZGVyU3RhZ2UoKTtjYWNoZS5zZXQoY29kZSxzdGFnZSk7fXJldHVybiBjYWNoZS5nZXQoY29kZSk7fX1dKTtyZXR1cm4gV2ViR0xTaGFkZXJDYWNoZTt9KCk7dmFyIFdlYkdMU2hhZGVyU3RhZ2U9LyojX19QVVJFX18qL19jcmVhdGVDbGFzcyhmdW5jdGlvbiBXZWJHTFNoYWRlclN0YWdlKCl7X2NsYXNzQ2FsbENoZWNrKHRoaXMsV2ViR0xTaGFkZXJTdGFnZSk7dGhpcy5pZD1faWQrKzt0aGlzLnVzZWRUaW1lcz0wO30pO2Z1bmN0aW9uIFdlYkdMUHJvZ3JhbXMocmVuZGVyZXIsY3ViZW1hcHMsY3ViZXV2bWFwcyxleHRlbnNpb25zLGNhcGFiaWxpdGllcyxiaW5kaW5nU3RhdGVzLGNsaXBwaW5nKXt2YXIgX3Byb2dyYW1MYXllcnM9bmV3IExheWVycygpO3ZhciBfY3VzdG9tU2hhZGVycz1uZXcgV2ViR0xTaGFkZXJDYWNoZSgpO3ZhciBwcm9ncmFtcz1bXTt2YXIgaXNXZWJHTDI9Y2FwYWJpbGl0aWVzLmlzV2ViR0wyO3ZhciBsb2dhcml0aG1pY0RlcHRoQnVmZmVyPWNhcGFiaWxpdGllcy5sb2dhcml0aG1pY0RlcHRoQnVmZmVyO3ZhciBmbG9hdFZlcnRleFRleHR1cmVzPWNhcGFiaWxpdGllcy5mbG9hdFZlcnRleFRleHR1cmVzO3ZhciBtYXhWZXJ0ZXhVbmlmb3Jtcz1jYXBhYmlsaXRpZXMubWF4VmVydGV4VW5pZm9ybXM7dmFyIHZlcnRleFRleHR1cmVzPWNhcGFiaWxpdGllcy52ZXJ0ZXhUZXh0dXJlczt2YXIgcHJlY2lzaW9uPWNhcGFiaWxpdGllcy5wcmVjaXNpb247dmFyIHNoYWRlcklEcz17TWVzaERlcHRoTWF0ZXJpYWw6J2RlcHRoJyxNZXNoRGlzdGFuY2VNYXRlcmlhbDonZGlzdGFuY2VSR0JBJyxNZXNoTm9ybWFsTWF0ZXJpYWw6J25vcm1hbCcsTWVzaEJhc2ljTWF0ZXJpYWw6J2Jhc2ljJyxNZXNoTGFtYmVydE1hdGVyaWFsOidsYW1iZXJ0JyxNZXNoUGhvbmdNYXRlcmlhbDoncGhvbmcnLE1lc2hUb29uTWF0ZXJpYWw6J3Rvb24nLE1lc2hTdGFuZGFyZE1hdGVyaWFsOidwaHlzaWNhbCcsTWVzaFBoeXNpY2FsTWF0ZXJpYWw6J3BoeXNpY2FsJyxNZXNoTWF0Y2FwTWF0ZXJpYWw6J21hdGNhcCcsTGluZUJhc2ljTWF0ZXJpYWw6J2Jhc2ljJyxMaW5lRGFzaGVkTWF0ZXJpYWw6J2Rhc2hlZCcsUG9pbnRzTWF0ZXJpYWw6J3BvaW50cycsU2hhZG93TWF0ZXJpYWw6J3NoYWRvdycsU3ByaXRlTWF0ZXJpYWw6J3Nwcml0ZSd9O2Z1bmN0aW9uIGdldE1heEJvbmVzKG9iamVjdCl7dmFyIHNrZWxldG9uPW9iamVjdC5za2VsZXRvbjt2YXIgYm9uZXM9c2tlbGV0b24uYm9uZXM7aWYoZmxvYXRWZXJ0ZXhUZXh0dXJlcyl7cmV0dXJuIDEwMjQ7fWVsc2V7Ly8gZGVmYXVsdCBmb3Igd2hlbiBvYmplY3QgaXMgbm90IHNwZWNpZmllZAovLyAoIGZvciBleGFtcGxlIHdoZW4gcHJlYnVpbGRpbmcgc2hhZGVyIHRvIGJlIHVzZWQgd2l0aCBtdWx0aXBsZSBvYmplY3RzICkKLy8KLy8gIC0gbGVhdmUgc29tZSBleHRyYSBzcGFjZSBmb3Igb3RoZXIgdW5pZm9ybXMKLy8gIC0gbGltaXQgaGVyZSBpcyBBTkdMRSdzIDI1NCBtYXggdW5pZm9ybSB2ZWN0b3JzCi8vICAgICh1cCB0byA1NCBzaG91bGQgYmUgc2FmZSkKdmFyIG5WZXJ0ZXhVbmlmb3Jtcz1tYXhWZXJ0ZXhVbmlmb3Jtczt2YXIgblZlcnRleE1hdHJpY2VzPU1hdGguZmxvb3IoKG5WZXJ0ZXhVbmlmb3Jtcy0yMCkvNCk7dmFyIG1heEJvbmVzPU1hdGgubWluKG5WZXJ0ZXhNYXRyaWNlcyxib25lcy5sZW5ndGgpO2lmKG1heEJvbmVzPGJvbmVzLmxlbmd0aCl7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFJlbmRlcmVyOiBTa2VsZXRvbiBoYXMgJytib25lcy5sZW5ndGgrJyBib25lcy4gVGhpcyBHUFUgc3VwcG9ydHMgJyttYXhCb25lcysnLicpO3JldHVybiAwO31yZXR1cm4gbWF4Qm9uZXM7fX1mdW5jdGlvbiBnZXRQYXJhbWV0ZXJzKG1hdGVyaWFsLGxpZ2h0cyxzaGFkb3dzLHNjZW5lLG9iamVjdCl7dmFyIGZvZz1zY2VuZS5mb2c7dmFyIGVudmlyb25tZW50PW1hdGVyaWFsLmlzTWVzaFN0YW5kYXJkTWF0ZXJpYWw/c2NlbmUuZW52aXJvbm1lbnQ6bnVsbDt2YXIgZW52TWFwPShtYXRlcmlhbC5pc01lc2hTdGFuZGFyZE1hdGVyaWFsP2N1YmV1dm1hcHM6Y3ViZW1hcHMpLmdldChtYXRlcmlhbC5lbnZNYXB8fGVudmlyb25tZW50KTt2YXIgc2hhZGVySUQ9c2hhZGVySURzW21hdGVyaWFsLnR5cGVdOy8vIGhldXJpc3RpY3MgdG8gY3JlYXRlIHNoYWRlciBwYXJhbWV0ZXJzIGFjY29yZGluZyB0byBsaWdodHMgaW4gdGhlIHNjZW5lCi8vIChub3QgdG8gYmxvdyBvdmVyIG1heExpZ2h0cyBidWRnZXQpCnZhciBtYXhCb25lcz1vYmplY3QuaXNTa2lubmVkTWVzaD9nZXRNYXhCb25lcyhvYmplY3QpOjA7aWYobWF0ZXJpYWwucHJlY2lzaW9uIT09bnVsbCl7cHJlY2lzaW9uPWNhcGFiaWxpdGllcy5nZXRNYXhQcmVjaXNpb24obWF0ZXJpYWwucHJlY2lzaW9uKTtpZihwcmVjaXNpb24hPT1tYXRlcmlhbC5wcmVjaXNpb24pe2NvbnNvbGUud2FybignVEhSRUUuV2ViR0xQcm9ncmFtLmdldFBhcmFtZXRlcnM6JyxtYXRlcmlhbC5wcmVjaXNpb24sJ25vdCBzdXBwb3J0ZWQsIHVzaW5nJyxwcmVjaXNpb24sJ2luc3RlYWQuJyk7fX12YXIgdmVydGV4U2hhZGVyLGZyYWdtZW50U2hhZGVyO3ZhciBjdXN0b21WZXJ0ZXhTaGFkZXJJRCxjdXN0b21GcmFnbWVudFNoYWRlcklEO2lmKHNoYWRlcklEKXt2YXIgc2hhZGVyPVNoYWRlckxpYltzaGFkZXJJRF07dmVydGV4U2hhZGVyPXNoYWRlci52ZXJ0ZXhTaGFkZXI7ZnJhZ21lbnRTaGFkZXI9c2hhZGVyLmZyYWdtZW50U2hhZGVyO31lbHNle3ZlcnRleFNoYWRlcj1tYXRlcmlhbC52ZXJ0ZXhTaGFkZXI7ZnJhZ21lbnRTaGFkZXI9bWF0ZXJpYWwuZnJhZ21lbnRTaGFkZXI7X2N1c3RvbVNoYWRlcnMudXBkYXRlKG1hdGVyaWFsKTtjdXN0b21WZXJ0ZXhTaGFkZXJJRD1fY3VzdG9tU2hhZGVycy5nZXRWZXJ0ZXhTaGFkZXJJRChtYXRlcmlhbCk7Y3VzdG9tRnJhZ21lbnRTaGFkZXJJRD1fY3VzdG9tU2hhZGVycy5nZXRGcmFnbWVudFNoYWRlcklEKG1hdGVyaWFsKTt9dmFyIGN1cnJlbnRSZW5kZXJUYXJnZXQ9cmVuZGVyZXIuZ2V0UmVuZGVyVGFyZ2V0KCk7dmFyIHVzZUFscGhhVGVzdD1tYXRlcmlhbC5hbHBoYVRlc3Q+MDt2YXIgdXNlQ2xlYXJjb2F0PW1hdGVyaWFsLmNsZWFyY29hdD4wO3ZhciBwYXJhbWV0ZXJzPXtpc1dlYkdMMjppc1dlYkdMMixzaGFkZXJJRDpzaGFkZXJJRCxzaGFkZXJOYW1lOm1hdGVyaWFsLnR5cGUsdmVydGV4U2hhZGVyOnZlcnRleFNoYWRlcixmcmFnbWVudFNoYWRlcjpmcmFnbWVudFNoYWRlcixkZWZpbmVzOm1hdGVyaWFsLmRlZmluZXMsY3VzdG9tVmVydGV4U2hhZGVySUQ6Y3VzdG9tVmVydGV4U2hhZGVySUQsY3VzdG9tRnJhZ21lbnRTaGFkZXJJRDpjdXN0b21GcmFnbWVudFNoYWRlcklELGlzUmF3U2hhZGVyTWF0ZXJpYWw6bWF0ZXJpYWwuaXNSYXdTaGFkZXJNYXRlcmlhbD09PXRydWUsZ2xzbFZlcnNpb246bWF0ZXJpYWwuZ2xzbFZlcnNpb24scHJlY2lzaW9uOnByZWNpc2lvbixpbnN0YW5jaW5nOm9iamVjdC5pc0luc3RhbmNlZE1lc2g9PT10cnVlLGluc3RhbmNpbmdDb2xvcjpvYmplY3QuaXNJbnN0YW5jZWRNZXNoPT09dHJ1ZSYmb2JqZWN0Lmluc3RhbmNlQ29sb3IhPT1udWxsLHN1cHBvcnRzVmVydGV4VGV4dHVyZXM6dmVydGV4VGV4dHVyZXMsb3V0cHV0RW5jb2Rpbmc6Y3VycmVudFJlbmRlclRhcmdldD09PW51bGw/cmVuZGVyZXIub3V0cHV0RW5jb2Rpbmc6Y3VycmVudFJlbmRlclRhcmdldC5pc1hSUmVuZGVyVGFyZ2V0PT09dHJ1ZT9jdXJyZW50UmVuZGVyVGFyZ2V0LnRleHR1cmUuZW5jb2Rpbmc6TGluZWFyRW5jb2RpbmcsbWFwOiEhbWF0ZXJpYWwubWFwLG1hdGNhcDohIW1hdGVyaWFsLm1hdGNhcCxlbnZNYXA6ISFlbnZNYXAsZW52TWFwTW9kZTplbnZNYXAmJmVudk1hcC5tYXBwaW5nLGVudk1hcEN1YmVVVjohIWVudk1hcCYmKGVudk1hcC5tYXBwaW5nPT09Q3ViZVVWUmVmbGVjdGlvbk1hcHBpbmd8fGVudk1hcC5tYXBwaW5nPT09Q3ViZVVWUmVmcmFjdGlvbk1hcHBpbmcpLGxpZ2h0TWFwOiEhbWF0ZXJpYWwubGlnaHRNYXAsYW9NYXA6ISFtYXRlcmlhbC5hb01hcCxlbWlzc2l2ZU1hcDohIW1hdGVyaWFsLmVtaXNzaXZlTWFwLGJ1bXBNYXA6ISFtYXRlcmlhbC5idW1wTWFwLG5vcm1hbE1hcDohIW1hdGVyaWFsLm5vcm1hbE1hcCxvYmplY3RTcGFjZU5vcm1hbE1hcDptYXRlcmlhbC5ub3JtYWxNYXBUeXBlPT09T2JqZWN0U3BhY2VOb3JtYWxNYXAsdGFuZ2VudFNwYWNlTm9ybWFsTWFwOm1hdGVyaWFsLm5vcm1hbE1hcFR5cGU9PT1UYW5nZW50U3BhY2VOb3JtYWxNYXAsZGVjb2RlVmlkZW9UZXh0dXJlOiEhbWF0ZXJpYWwubWFwJiZtYXRlcmlhbC5tYXAuaXNWaWRlb1RleHR1cmU9PT10cnVlJiZtYXRlcmlhbC5tYXAuZW5jb2Rpbmc9PT1zUkdCRW5jb2RpbmcsY2xlYXJjb2F0OnVzZUNsZWFyY29hdCxjbGVhcmNvYXRNYXA6dXNlQ2xlYXJjb2F0JiYhIW1hdGVyaWFsLmNsZWFyY29hdE1hcCxjbGVhcmNvYXRSb3VnaG5lc3NNYXA6dXNlQ2xlYXJjb2F0JiYhIW1hdGVyaWFsLmNsZWFyY29hdFJvdWdobmVzc01hcCxjbGVhcmNvYXROb3JtYWxNYXA6dXNlQ2xlYXJjb2F0JiYhIW1hdGVyaWFsLmNsZWFyY29hdE5vcm1hbE1hcCxkaXNwbGFjZW1lbnRNYXA6ISFtYXRlcmlhbC5kaXNwbGFjZW1lbnRNYXAscm91Z2huZXNzTWFwOiEhbWF0ZXJpYWwucm91Z2huZXNzTWFwLG1ldGFsbmVzc01hcDohIW1hdGVyaWFsLm1ldGFsbmVzc01hcCxzcGVjdWxhck1hcDohIW1hdGVyaWFsLnNwZWN1bGFyTWFwLHNwZWN1bGFySW50ZW5zaXR5TWFwOiEhbWF0ZXJpYWwuc3BlY3VsYXJJbnRlbnNpdHlNYXAsc3BlY3VsYXJDb2xvck1hcDohIW1hdGVyaWFsLnNwZWN1bGFyQ29sb3JNYXAsdHJhbnNwYXJlbnQ6bWF0ZXJpYWwudHJhbnNwYXJlbnQsYWxwaGFNYXA6ISFtYXRlcmlhbC5hbHBoYU1hcCxhbHBoYVRlc3Q6dXNlQWxwaGFUZXN0LGdyYWRpZW50TWFwOiEhbWF0ZXJpYWwuZ3JhZGllbnRNYXAsc2hlZW46bWF0ZXJpYWwuc2hlZW4+MCxzaGVlbkNvbG9yTWFwOiEhbWF0ZXJpYWwuc2hlZW5Db2xvck1hcCxzaGVlblJvdWdobmVzc01hcDohIW1hdGVyaWFsLnNoZWVuUm91Z2huZXNzTWFwLHRyYW5zbWlzc2lvbjptYXRlcmlhbC50cmFuc21pc3Npb24+MCx0cmFuc21pc3Npb25NYXA6ISFtYXRlcmlhbC50cmFuc21pc3Npb25NYXAsdGhpY2tuZXNzTWFwOiEhbWF0ZXJpYWwudGhpY2tuZXNzTWFwLGNvbWJpbmU6bWF0ZXJpYWwuY29tYmluZSx2ZXJ0ZXhUYW5nZW50czohIW1hdGVyaWFsLm5vcm1hbE1hcCYmISFvYmplY3QuZ2VvbWV0cnkmJiEhb2JqZWN0Lmdlb21ldHJ5LmF0dHJpYnV0ZXMudGFuZ2VudCx2ZXJ0ZXhDb2xvcnM6bWF0ZXJpYWwudmVydGV4Q29sb3JzLHZlcnRleEFscGhhczptYXRlcmlhbC52ZXJ0ZXhDb2xvcnM9PT10cnVlJiYhIW9iamVjdC5nZW9tZXRyeSYmISFvYmplY3QuZ2VvbWV0cnkuYXR0cmlidXRlcy5jb2xvciYmb2JqZWN0Lmdlb21ldHJ5LmF0dHJpYnV0ZXMuY29sb3IuaXRlbVNpemU9PT00LHZlcnRleFV2czohIW1hdGVyaWFsLm1hcHx8ISFtYXRlcmlhbC5idW1wTWFwfHwhIW1hdGVyaWFsLm5vcm1hbE1hcHx8ISFtYXRlcmlhbC5zcGVjdWxhck1hcHx8ISFtYXRlcmlhbC5hbHBoYU1hcHx8ISFtYXRlcmlhbC5lbWlzc2l2ZU1hcHx8ISFtYXRlcmlhbC5yb3VnaG5lc3NNYXB8fCEhbWF0ZXJpYWwubWV0YWxuZXNzTWFwfHwhIW1hdGVyaWFsLmNsZWFyY29hdE1hcHx8ISFtYXRlcmlhbC5jbGVhcmNvYXRSb3VnaG5lc3NNYXB8fCEhbWF0ZXJpYWwuY2xlYXJjb2F0Tm9ybWFsTWFwfHwhIW1hdGVyaWFsLmRpc3BsYWNlbWVudE1hcHx8ISFtYXRlcmlhbC50cmFuc21pc3Npb25NYXB8fCEhbWF0ZXJpYWwudGhpY2tuZXNzTWFwfHwhIW1hdGVyaWFsLnNwZWN1bGFySW50ZW5zaXR5TWFwfHwhIW1hdGVyaWFsLnNwZWN1bGFyQ29sb3JNYXB8fCEhbWF0ZXJpYWwuc2hlZW5Db2xvck1hcHx8ISFtYXRlcmlhbC5zaGVlblJvdWdobmVzc01hcCx1dnNWZXJ0ZXhPbmx5OiEoISFtYXRlcmlhbC5tYXB8fCEhbWF0ZXJpYWwuYnVtcE1hcHx8ISFtYXRlcmlhbC5ub3JtYWxNYXB8fCEhbWF0ZXJpYWwuc3BlY3VsYXJNYXB8fCEhbWF0ZXJpYWwuYWxwaGFNYXB8fCEhbWF0ZXJpYWwuZW1pc3NpdmVNYXB8fCEhbWF0ZXJpYWwucm91Z2huZXNzTWFwfHwhIW1hdGVyaWFsLm1ldGFsbmVzc01hcHx8ISFtYXRlcmlhbC5jbGVhcmNvYXROb3JtYWxNYXB8fG1hdGVyaWFsLnRyYW5zbWlzc2lvbj4wfHwhIW1hdGVyaWFsLnRyYW5zbWlzc2lvbk1hcHx8ISFtYXRlcmlhbC50aGlja25lc3NNYXB8fCEhbWF0ZXJpYWwuc3BlY3VsYXJJbnRlbnNpdHlNYXB8fCEhbWF0ZXJpYWwuc3BlY3VsYXJDb2xvck1hcHx8bWF0ZXJpYWwuc2hlZW4+MHx8ISFtYXRlcmlhbC5zaGVlbkNvbG9yTWFwfHwhIW1hdGVyaWFsLnNoZWVuUm91Z2huZXNzTWFwKSYmISFtYXRlcmlhbC5kaXNwbGFjZW1lbnRNYXAsZm9nOiEhZm9nLHVzZUZvZzptYXRlcmlhbC5mb2csZm9nRXhwMjpmb2cmJmZvZy5pc0ZvZ0V4cDIsZmxhdFNoYWRpbmc6ISFtYXRlcmlhbC5mbGF0U2hhZGluZyxzaXplQXR0ZW51YXRpb246bWF0ZXJpYWwuc2l6ZUF0dGVudWF0aW9uLGxvZ2FyaXRobWljRGVwdGhCdWZmZXI6bG9nYXJpdGhtaWNEZXB0aEJ1ZmZlcixza2lubmluZzpvYmplY3QuaXNTa2lubmVkTWVzaD09PXRydWUmJm1heEJvbmVzPjAsbWF4Qm9uZXM6bWF4Qm9uZXMsdXNlVmVydGV4VGV4dHVyZTpmbG9hdFZlcnRleFRleHR1cmVzLG1vcnBoVGFyZ2V0czohIW9iamVjdC5nZW9tZXRyeSYmISFvYmplY3QuZ2VvbWV0cnkubW9ycGhBdHRyaWJ1dGVzLnBvc2l0aW9uLG1vcnBoTm9ybWFsczohIW9iamVjdC5nZW9tZXRyeSYmISFvYmplY3QuZ2VvbWV0cnkubW9ycGhBdHRyaWJ1dGVzLm5vcm1hbCxtb3JwaFRhcmdldHNDb3VudDohIW9iamVjdC5nZW9tZXRyeSYmISFvYmplY3QuZ2VvbWV0cnkubW9ycGhBdHRyaWJ1dGVzLnBvc2l0aW9uP29iamVjdC5nZW9tZXRyeS5tb3JwaEF0dHJpYnV0ZXMucG9zaXRpb24ubGVuZ3RoOjAsbnVtRGlyTGlnaHRzOmxpZ2h0cy5kaXJlY3Rpb25hbC5sZW5ndGgsbnVtUG9pbnRMaWdodHM6bGlnaHRzLnBvaW50Lmxlbmd0aCxudW1TcG90TGlnaHRzOmxpZ2h0cy5zcG90Lmxlbmd0aCxudW1SZWN0QXJlYUxpZ2h0czpsaWdodHMucmVjdEFyZWEubGVuZ3RoLG51bUhlbWlMaWdodHM6bGlnaHRzLmhlbWkubGVuZ3RoLG51bURpckxpZ2h0U2hhZG93czpsaWdodHMuZGlyZWN0aW9uYWxTaGFkb3dNYXAubGVuZ3RoLG51bVBvaW50TGlnaHRTaGFkb3dzOmxpZ2h0cy5wb2ludFNoYWRvd01hcC5sZW5ndGgsbnVtU3BvdExpZ2h0U2hhZG93czpsaWdodHMuc3BvdFNoYWRvd01hcC5sZW5ndGgsbnVtQ2xpcHBpbmdQbGFuZXM6Y2xpcHBpbmcubnVtUGxhbmVzLG51bUNsaXBJbnRlcnNlY3Rpb246Y2xpcHBpbmcubnVtSW50ZXJzZWN0aW9uLGRpdGhlcmluZzptYXRlcmlhbC5kaXRoZXJpbmcsc2hhZG93TWFwRW5hYmxlZDpyZW5kZXJlci5zaGFkb3dNYXAuZW5hYmxlZCYmc2hhZG93cy5sZW5ndGg+MCxzaGFkb3dNYXBUeXBlOnJlbmRlcmVyLnNoYWRvd01hcC50eXBlLHRvbmVNYXBwaW5nOm1hdGVyaWFsLnRvbmVNYXBwZWQ/cmVuZGVyZXIudG9uZU1hcHBpbmc6Tm9Ub25lTWFwcGluZyxwaHlzaWNhbGx5Q29ycmVjdExpZ2h0czpyZW5kZXJlci5waHlzaWNhbGx5Q29ycmVjdExpZ2h0cyxwcmVtdWx0aXBsaWVkQWxwaGE6bWF0ZXJpYWwucHJlbXVsdGlwbGllZEFscGhhLGRvdWJsZVNpZGVkOm1hdGVyaWFsLnNpZGU9PT1Eb3VibGVTaWRlLGZsaXBTaWRlZDptYXRlcmlhbC5zaWRlPT09QmFja1NpZGUsZGVwdGhQYWNraW5nOm1hdGVyaWFsLmRlcHRoUGFja2luZyE9PXVuZGVmaW5lZD9tYXRlcmlhbC5kZXB0aFBhY2tpbmc6ZmFsc2UsaW5kZXgwQXR0cmlidXRlTmFtZTptYXRlcmlhbC5pbmRleDBBdHRyaWJ1dGVOYW1lLGV4dGVuc2lvbkRlcml2YXRpdmVzOm1hdGVyaWFsLmV4dGVuc2lvbnMmJm1hdGVyaWFsLmV4dGVuc2lvbnMuZGVyaXZhdGl2ZXMsZXh0ZW5zaW9uRnJhZ0RlcHRoOm1hdGVyaWFsLmV4dGVuc2lvbnMmJm1hdGVyaWFsLmV4dGVuc2lvbnMuZnJhZ0RlcHRoLGV4dGVuc2lvbkRyYXdCdWZmZXJzOm1hdGVyaWFsLmV4dGVuc2lvbnMmJm1hdGVyaWFsLmV4dGVuc2lvbnMuZHJhd0J1ZmZlcnMsZXh0ZW5zaW9uU2hhZGVyVGV4dHVyZUxPRDptYXRlcmlhbC5leHRlbnNpb25zJiZtYXRlcmlhbC5leHRlbnNpb25zLnNoYWRlclRleHR1cmVMT0QscmVuZGVyZXJFeHRlbnNpb25GcmFnRGVwdGg6aXNXZWJHTDJ8fGV4dGVuc2lvbnMuaGFzKCdFWFRfZnJhZ19kZXB0aCcpLHJlbmRlcmVyRXh0ZW5zaW9uRHJhd0J1ZmZlcnM6aXNXZWJHTDJ8fGV4dGVuc2lvbnMuaGFzKCdXRUJHTF9kcmF3X2J1ZmZlcnMnKSxyZW5kZXJlckV4dGVuc2lvblNoYWRlclRleHR1cmVMb2Q6aXNXZWJHTDJ8fGV4dGVuc2lvbnMuaGFzKCdFWFRfc2hhZGVyX3RleHR1cmVfbG9kJyksY3VzdG9tUHJvZ3JhbUNhY2hlS2V5Om1hdGVyaWFsLmN1c3RvbVByb2dyYW1DYWNoZUtleSgpfTtyZXR1cm4gcGFyYW1ldGVyczt9ZnVuY3Rpb24gZ2V0UHJvZ3JhbUNhY2hlS2V5KHBhcmFtZXRlcnMpe3ZhciBhcnJheT1bXTtpZihwYXJhbWV0ZXJzLnNoYWRlcklEKXthcnJheS5wdXNoKHBhcmFtZXRlcnMuc2hhZGVySUQpO31lbHNle2FycmF5LnB1c2gocGFyYW1ldGVycy5jdXN0b21WZXJ0ZXhTaGFkZXJJRCk7YXJyYXkucHVzaChwYXJhbWV0ZXJzLmN1c3RvbUZyYWdtZW50U2hhZGVySUQpO31pZihwYXJhbWV0ZXJzLmRlZmluZXMhPT11bmRlZmluZWQpe2Zvcih2YXIgbmFtZSBpbiBwYXJhbWV0ZXJzLmRlZmluZXMpe2FycmF5LnB1c2gobmFtZSk7YXJyYXkucHVzaChwYXJhbWV0ZXJzLmRlZmluZXNbbmFtZV0pO319aWYocGFyYW1ldGVycy5pc1Jhd1NoYWRlck1hdGVyaWFsPT09ZmFsc2Upe2dldFByb2dyYW1DYWNoZUtleVBhcmFtZXRlcnMoYXJyYXkscGFyYW1ldGVycyk7Z2V0UHJvZ3JhbUNhY2hlS2V5Qm9vbGVhbnMoYXJyYXkscGFyYW1ldGVycyk7YXJyYXkucHVzaChyZW5kZXJlci5vdXRwdXRFbmNvZGluZyk7fWFycmF5LnB1c2gocGFyYW1ldGVycy5jdXN0b21Qcm9ncmFtQ2FjaGVLZXkpO3JldHVybiBhcnJheS5qb2luKCk7fWZ1bmN0aW9uIGdldFByb2dyYW1DYWNoZUtleVBhcmFtZXRlcnMoYXJyYXkscGFyYW1ldGVycyl7YXJyYXkucHVzaChwYXJhbWV0ZXJzLnByZWNpc2lvbik7YXJyYXkucHVzaChwYXJhbWV0ZXJzLm91dHB1dEVuY29kaW5nKTthcnJheS5wdXNoKHBhcmFtZXRlcnMuZW52TWFwTW9kZSk7YXJyYXkucHVzaChwYXJhbWV0ZXJzLmNvbWJpbmUpO2FycmF5LnB1c2gocGFyYW1ldGVycy52ZXJ0ZXhVdnMpO2FycmF5LnB1c2gocGFyYW1ldGVycy5mb2dFeHAyKTthcnJheS5wdXNoKHBhcmFtZXRlcnMuc2l6ZUF0dGVudWF0aW9uKTthcnJheS5wdXNoKHBhcmFtZXRlcnMubWF4Qm9uZXMpO2FycmF5LnB1c2gocGFyYW1ldGVycy5tb3JwaFRhcmdldHNDb3VudCk7YXJyYXkucHVzaChwYXJhbWV0ZXJzLm51bURpckxpZ2h0cyk7YXJyYXkucHVzaChwYXJhbWV0ZXJzLm51bVBvaW50TGlnaHRzKTthcnJheS5wdXNoKHBhcmFtZXRlcnMubnVtU3BvdExpZ2h0cyk7YXJyYXkucHVzaChwYXJhbWV0ZXJzLm51bUhlbWlMaWdodHMpO2FycmF5LnB1c2gocGFyYW1ldGVycy5udW1SZWN0QXJlYUxpZ2h0cyk7YXJyYXkucHVzaChwYXJhbWV0ZXJzLm51bURpckxpZ2h0U2hhZG93cyk7YXJyYXkucHVzaChwYXJhbWV0ZXJzLm51bVBvaW50TGlnaHRTaGFkb3dzKTthcnJheS5wdXNoKHBhcmFtZXRlcnMubnVtU3BvdExpZ2h0U2hhZG93cyk7YXJyYXkucHVzaChwYXJhbWV0ZXJzLnNoYWRvd01hcFR5cGUpO2FycmF5LnB1c2gocGFyYW1ldGVycy50b25lTWFwcGluZyk7YXJyYXkucHVzaChwYXJhbWV0ZXJzLm51bUNsaXBwaW5nUGxhbmVzKTthcnJheS5wdXNoKHBhcmFtZXRlcnMubnVtQ2xpcEludGVyc2VjdGlvbik7fWZ1bmN0aW9uIGdldFByb2dyYW1DYWNoZUtleUJvb2xlYW5zKGFycmF5LHBhcmFtZXRlcnMpe19wcm9ncmFtTGF5ZXJzLmRpc2FibGVBbGwoKTtpZihwYXJhbWV0ZXJzLmlzV2ViR0wyKV9wcm9ncmFtTGF5ZXJzLmVuYWJsZSgwKTtpZihwYXJhbWV0ZXJzLnN1cHBvcnRzVmVydGV4VGV4dHVyZXMpX3Byb2dyYW1MYXllcnMuZW5hYmxlKDEpO2lmKHBhcmFtZXRlcnMuaW5zdGFuY2luZylfcHJvZ3JhbUxheWVycy5lbmFibGUoMik7aWYocGFyYW1ldGVycy5pbnN0YW5jaW5nQ29sb3IpX3Byb2dyYW1MYXllcnMuZW5hYmxlKDMpO2lmKHBhcmFtZXRlcnMubWFwKV9wcm9ncmFtTGF5ZXJzLmVuYWJsZSg0KTtpZihwYXJhbWV0ZXJzLm1hdGNhcClfcHJvZ3JhbUxheWVycy5lbmFibGUoNSk7aWYocGFyYW1ldGVycy5lbnZNYXApX3Byb2dyYW1MYXllcnMuZW5hYmxlKDYpO2lmKHBhcmFtZXRlcnMuZW52TWFwQ3ViZVVWKV9wcm9ncmFtTGF5ZXJzLmVuYWJsZSg3KTtpZihwYXJhbWV0ZXJzLmxpZ2h0TWFwKV9wcm9ncmFtTGF5ZXJzLmVuYWJsZSg4KTtpZihwYXJhbWV0ZXJzLmFvTWFwKV9wcm9ncmFtTGF5ZXJzLmVuYWJsZSg5KTtpZihwYXJhbWV0ZXJzLmVtaXNzaXZlTWFwKV9wcm9ncmFtTGF5ZXJzLmVuYWJsZSgxMCk7aWYocGFyYW1ldGVycy5idW1wTWFwKV9wcm9ncmFtTGF5ZXJzLmVuYWJsZSgxMSk7aWYocGFyYW1ldGVycy5ub3JtYWxNYXApX3Byb2dyYW1MYXllcnMuZW5hYmxlKDEyKTtpZihwYXJhbWV0ZXJzLm9iamVjdFNwYWNlTm9ybWFsTWFwKV9wcm9ncmFtTGF5ZXJzLmVuYWJsZSgxMyk7aWYocGFyYW1ldGVycy50YW5nZW50U3BhY2VOb3JtYWxNYXApX3Byb2dyYW1MYXllcnMuZW5hYmxlKDE0KTtpZihwYXJhbWV0ZXJzLmNsZWFyY29hdClfcHJvZ3JhbUxheWVycy5lbmFibGUoMTUpO2lmKHBhcmFtZXRlcnMuY2xlYXJjb2F0TWFwKV9wcm9ncmFtTGF5ZXJzLmVuYWJsZSgxNik7aWYocGFyYW1ldGVycy5jbGVhcmNvYXRSb3VnaG5lc3NNYXApX3Byb2dyYW1MYXllcnMuZW5hYmxlKDE3KTtpZihwYXJhbWV0ZXJzLmNsZWFyY29hdE5vcm1hbE1hcClfcHJvZ3JhbUxheWVycy5lbmFibGUoMTgpO2lmKHBhcmFtZXRlcnMuZGlzcGxhY2VtZW50TWFwKV9wcm9ncmFtTGF5ZXJzLmVuYWJsZSgxOSk7aWYocGFyYW1ldGVycy5zcGVjdWxhck1hcClfcHJvZ3JhbUxheWVycy5lbmFibGUoMjApO2lmKHBhcmFtZXRlcnMucm91Z2huZXNzTWFwKV9wcm9ncmFtTGF5ZXJzLmVuYWJsZSgyMSk7aWYocGFyYW1ldGVycy5tZXRhbG5lc3NNYXApX3Byb2dyYW1MYXllcnMuZW5hYmxlKDIyKTtpZihwYXJhbWV0ZXJzLmdyYWRpZW50TWFwKV9wcm9ncmFtTGF5ZXJzLmVuYWJsZSgyMyk7aWYocGFyYW1ldGVycy5hbHBoYU1hcClfcHJvZ3JhbUxheWVycy5lbmFibGUoMjQpO2lmKHBhcmFtZXRlcnMuYWxwaGFUZXN0KV9wcm9ncmFtTGF5ZXJzLmVuYWJsZSgyNSk7aWYocGFyYW1ldGVycy52ZXJ0ZXhDb2xvcnMpX3Byb2dyYW1MYXllcnMuZW5hYmxlKDI2KTtpZihwYXJhbWV0ZXJzLnZlcnRleEFscGhhcylfcHJvZ3JhbUxheWVycy5lbmFibGUoMjcpO2lmKHBhcmFtZXRlcnMudmVydGV4VXZzKV9wcm9ncmFtTGF5ZXJzLmVuYWJsZSgyOCk7aWYocGFyYW1ldGVycy52ZXJ0ZXhUYW5nZW50cylfcHJvZ3JhbUxheWVycy5lbmFibGUoMjkpO2lmKHBhcmFtZXRlcnMudXZzVmVydGV4T25seSlfcHJvZ3JhbUxheWVycy5lbmFibGUoMzApO2lmKHBhcmFtZXRlcnMuZm9nKV9wcm9ncmFtTGF5ZXJzLmVuYWJsZSgzMSk7YXJyYXkucHVzaChfcHJvZ3JhbUxheWVycy5tYXNrKTtfcHJvZ3JhbUxheWVycy5kaXNhYmxlQWxsKCk7aWYocGFyYW1ldGVycy51c2VGb2cpX3Byb2dyYW1MYXllcnMuZW5hYmxlKDApO2lmKHBhcmFtZXRlcnMuZmxhdFNoYWRpbmcpX3Byb2dyYW1MYXllcnMuZW5hYmxlKDEpO2lmKHBhcmFtZXRlcnMubG9nYXJpdGhtaWNEZXB0aEJ1ZmZlcilfcHJvZ3JhbUxheWVycy5lbmFibGUoMik7aWYocGFyYW1ldGVycy5za2lubmluZylfcHJvZ3JhbUxheWVycy5lbmFibGUoMyk7aWYocGFyYW1ldGVycy51c2VWZXJ0ZXhUZXh0dXJlKV9wcm9ncmFtTGF5ZXJzLmVuYWJsZSg0KTtpZihwYXJhbWV0ZXJzLm1vcnBoVGFyZ2V0cylfcHJvZ3JhbUxheWVycy5lbmFibGUoNSk7aWYocGFyYW1ldGVycy5tb3JwaE5vcm1hbHMpX3Byb2dyYW1MYXllcnMuZW5hYmxlKDYpO2lmKHBhcmFtZXRlcnMucHJlbXVsdGlwbGllZEFscGhhKV9wcm9ncmFtTGF5ZXJzLmVuYWJsZSg3KTtpZihwYXJhbWV0ZXJzLnNoYWRvd01hcEVuYWJsZWQpX3Byb2dyYW1MYXllcnMuZW5hYmxlKDgpO2lmKHBhcmFtZXRlcnMucGh5c2ljYWxseUNvcnJlY3RMaWdodHMpX3Byb2dyYW1MYXllcnMuZW5hYmxlKDkpO2lmKHBhcmFtZXRlcnMuZG91YmxlU2lkZWQpX3Byb2dyYW1MYXllcnMuZW5hYmxlKDEwKTtpZihwYXJhbWV0ZXJzLmZsaXBTaWRlZClfcHJvZ3JhbUxheWVycy5lbmFibGUoMTEpO2lmKHBhcmFtZXRlcnMuZGVwdGhQYWNraW5nKV9wcm9ncmFtTGF5ZXJzLmVuYWJsZSgxMik7aWYocGFyYW1ldGVycy5kaXRoZXJpbmcpX3Byb2dyYW1MYXllcnMuZW5hYmxlKDEzKTtpZihwYXJhbWV0ZXJzLnNwZWN1bGFySW50ZW5zaXR5TWFwKV9wcm9ncmFtTGF5ZXJzLmVuYWJsZSgxNCk7aWYocGFyYW1ldGVycy5zcGVjdWxhckNvbG9yTWFwKV9wcm9ncmFtTGF5ZXJzLmVuYWJsZSgxNSk7aWYocGFyYW1ldGVycy50cmFuc21pc3Npb24pX3Byb2dyYW1MYXllcnMuZW5hYmxlKDE2KTtpZihwYXJhbWV0ZXJzLnRyYW5zbWlzc2lvbk1hcClfcHJvZ3JhbUxheWVycy5lbmFibGUoMTcpO2lmKHBhcmFtZXRlcnMudGhpY2tuZXNzTWFwKV9wcm9ncmFtTGF5ZXJzLmVuYWJsZSgxOCk7aWYocGFyYW1ldGVycy5zaGVlbilfcHJvZ3JhbUxheWVycy5lbmFibGUoMTkpO2lmKHBhcmFtZXRlcnMuc2hlZW5Db2xvck1hcClfcHJvZ3JhbUxheWVycy5lbmFibGUoMjApO2lmKHBhcmFtZXRlcnMuc2hlZW5Sb3VnaG5lc3NNYXApX3Byb2dyYW1MYXllcnMuZW5hYmxlKDIxKTtpZihwYXJhbWV0ZXJzLmRlY29kZVZpZGVvVGV4dHVyZSlfcHJvZ3JhbUxheWVycy5lbmFibGUoMjIpO2lmKHBhcmFtZXRlcnMudHJhbnNwYXJlbnQpX3Byb2dyYW1MYXllcnMuZW5hYmxlKDIzKTthcnJheS5wdXNoKF9wcm9ncmFtTGF5ZXJzLm1hc2spO31mdW5jdGlvbiBnZXRVbmlmb3JtcyhtYXRlcmlhbCl7dmFyIHNoYWRlcklEPXNoYWRlcklEc1ttYXRlcmlhbC50eXBlXTt2YXIgdW5pZm9ybXM7aWYoc2hhZGVySUQpe3ZhciBzaGFkZXI9U2hhZGVyTGliW3NoYWRlcklEXTt1bmlmb3Jtcz1Vbmlmb3Jtc1V0aWxzLmNsb25lKHNoYWRlci51bmlmb3Jtcyk7fWVsc2V7dW5pZm9ybXM9bWF0ZXJpYWwudW5pZm9ybXM7fXJldHVybiB1bmlmb3Jtczt9ZnVuY3Rpb24gYWNxdWlyZVByb2dyYW0ocGFyYW1ldGVycyxjYWNoZUtleSl7dmFyIHByb2dyYW07Ly8gQ2hlY2sgaWYgY29kZSBoYXMgYmVlbiBhbHJlYWR5IGNvbXBpbGVkCmZvcih2YXIgcD0wLHBsPXByb2dyYW1zLmxlbmd0aDtwPHBsO3ArKyl7dmFyIHByZWV4aXN0aW5nUHJvZ3JhbT1wcm9ncmFtc1twXTtpZihwcmVleGlzdGluZ1Byb2dyYW0uY2FjaGVLZXk9PT1jYWNoZUtleSl7cHJvZ3JhbT1wcmVleGlzdGluZ1Byb2dyYW07Kytwcm9ncmFtLnVzZWRUaW1lczticmVhazt9fWlmKHByb2dyYW09PT11bmRlZmluZWQpe3Byb2dyYW09bmV3IFdlYkdMUHJvZ3JhbShyZW5kZXJlcixjYWNoZUtleSxwYXJhbWV0ZXJzLGJpbmRpbmdTdGF0ZXMpO3Byb2dyYW1zLnB1c2gocHJvZ3JhbSk7fXJldHVybiBwcm9ncmFtO31mdW5jdGlvbiByZWxlYXNlUHJvZ3JhbShwcm9ncmFtKXtpZigtLXByb2dyYW0udXNlZFRpbWVzPT09MCl7Ly8gUmVtb3ZlIGZyb20gdW5vcmRlcmVkIHNldAp2YXIgX2kxMTU9cHJvZ3JhbXMuaW5kZXhPZihwcm9ncmFtKTtwcm9ncmFtc1tfaTExNV09cHJvZ3JhbXNbcHJvZ3JhbXMubGVuZ3RoLTFdO3Byb2dyYW1zLnBvcCgpOy8vIEZyZWUgV2ViR0wgcmVzb3VyY2VzCnByb2dyYW0uZGVzdHJveSgpO319ZnVuY3Rpb24gcmVsZWFzZVNoYWRlckNhY2hlKG1hdGVyaWFsKXtfY3VzdG9tU2hhZGVycy5yZW1vdmUobWF0ZXJpYWwpO31mdW5jdGlvbiBkaXNwb3NlKCl7X2N1c3RvbVNoYWRlcnMuZGlzcG9zZSgpO31yZXR1cm57Z2V0UGFyYW1ldGVyczpnZXRQYXJhbWV0ZXJzLGdldFByb2dyYW1DYWNoZUtleTpnZXRQcm9ncmFtQ2FjaGVLZXksZ2V0VW5pZm9ybXM6Z2V0VW5pZm9ybXMsYWNxdWlyZVByb2dyYW06YWNxdWlyZVByb2dyYW0scmVsZWFzZVByb2dyYW06cmVsZWFzZVByb2dyYW0scmVsZWFzZVNoYWRlckNhY2hlOnJlbGVhc2VTaGFkZXJDYWNoZSwvLyBFeHBvc2VkIGZvciByZXNvdXJjZSBtb25pdG9yaW5nICYgZXJyb3IgZmVlZGJhY2sgdmlhIHJlbmRlcmVyLmluZm86CnByb2dyYW1zOnByb2dyYW1zLGRpc3Bvc2U6ZGlzcG9zZX07fWZ1bmN0aW9uIFdlYkdMUHJvcGVydGllcygpe3ZhciBwcm9wZXJ0aWVzPW5ldyBXZWFrTWFwKCk7ZnVuY3Rpb24gZ2V0KG9iamVjdCl7dmFyIG1hcD1wcm9wZXJ0aWVzLmdldChvYmplY3QpO2lmKG1hcD09PXVuZGVmaW5lZCl7bWFwPXt9O3Byb3BlcnRpZXMuc2V0KG9iamVjdCxtYXApO31yZXR1cm4gbWFwO31mdW5jdGlvbiByZW1vdmUob2JqZWN0KXtwcm9wZXJ0aWVzLmRlbGV0ZShvYmplY3QpO31mdW5jdGlvbiB1cGRhdGUob2JqZWN0LGtleSx2YWx1ZSl7cHJvcGVydGllcy5nZXQob2JqZWN0KVtrZXldPXZhbHVlO31mdW5jdGlvbiBkaXNwb3NlKCl7cHJvcGVydGllcz1uZXcgV2Vha01hcCgpO31yZXR1cm57Z2V0OmdldCxyZW1vdmU6cmVtb3ZlLHVwZGF0ZTp1cGRhdGUsZGlzcG9zZTpkaXNwb3NlfTt9ZnVuY3Rpb24gcGFpbnRlclNvcnRTdGFibGUoYSxiKXtpZihhLmdyb3VwT3JkZXIhPT1iLmdyb3VwT3JkZXIpe3JldHVybiBhLmdyb3VwT3JkZXItYi5ncm91cE9yZGVyO31lbHNlIGlmKGEucmVuZGVyT3JkZXIhPT1iLnJlbmRlck9yZGVyKXtyZXR1cm4gYS5yZW5kZXJPcmRlci1iLnJlbmRlck9yZGVyO31lbHNlIGlmKGEubWF0ZXJpYWwuaWQhPT1iLm1hdGVyaWFsLmlkKXtyZXR1cm4gYS5tYXRlcmlhbC5pZC1iLm1hdGVyaWFsLmlkO31lbHNlIGlmKGEueiE9PWIueil7cmV0dXJuIGEuei1iLno7fWVsc2V7cmV0dXJuIGEuaWQtYi5pZDt9fWZ1bmN0aW9uIHJldmVyc2VQYWludGVyU29ydFN0YWJsZShhLGIpe2lmKGEuZ3JvdXBPcmRlciE9PWIuZ3JvdXBPcmRlcil7cmV0dXJuIGEuZ3JvdXBPcmRlci1iLmdyb3VwT3JkZXI7fWVsc2UgaWYoYS5yZW5kZXJPcmRlciE9PWIucmVuZGVyT3JkZXIpe3JldHVybiBhLnJlbmRlck9yZGVyLWIucmVuZGVyT3JkZXI7fWVsc2UgaWYoYS56IT09Yi56KXtyZXR1cm4gYi56LWEuejt9ZWxzZXtyZXR1cm4gYS5pZC1iLmlkO319ZnVuY3Rpb24gV2ViR0xSZW5kZXJMaXN0KCl7dmFyIHJlbmRlckl0ZW1zPVtdO3ZhciByZW5kZXJJdGVtc0luZGV4PTA7dmFyIG9wYXF1ZT1bXTt2YXIgdHJhbnNtaXNzaXZlPVtdO3ZhciB0cmFuc3BhcmVudD1bXTtmdW5jdGlvbiBpbml0KCl7cmVuZGVySXRlbXNJbmRleD0wO29wYXF1ZS5sZW5ndGg9MDt0cmFuc21pc3NpdmUubGVuZ3RoPTA7dHJhbnNwYXJlbnQubGVuZ3RoPTA7fWZ1bmN0aW9uIGdldE5leHRSZW5kZXJJdGVtKG9iamVjdCxnZW9tZXRyeSxtYXRlcmlhbCxncm91cE9yZGVyLHosZ3JvdXApe3ZhciByZW5kZXJJdGVtPXJlbmRlckl0ZW1zW3JlbmRlckl0ZW1zSW5kZXhdO2lmKHJlbmRlckl0ZW09PT11bmRlZmluZWQpe3JlbmRlckl0ZW09e2lkOm9iamVjdC5pZCxvYmplY3Q6b2JqZWN0LGdlb21ldHJ5Omdlb21ldHJ5LG1hdGVyaWFsOm1hdGVyaWFsLGdyb3VwT3JkZXI6Z3JvdXBPcmRlcixyZW5kZXJPcmRlcjpvYmplY3QucmVuZGVyT3JkZXIsejp6LGdyb3VwOmdyb3VwfTtyZW5kZXJJdGVtc1tyZW5kZXJJdGVtc0luZGV4XT1yZW5kZXJJdGVtO31lbHNle3JlbmRlckl0ZW0uaWQ9b2JqZWN0LmlkO3JlbmRlckl0ZW0ub2JqZWN0PW9iamVjdDtyZW5kZXJJdGVtLmdlb21ldHJ5PWdlb21ldHJ5O3JlbmRlckl0ZW0ubWF0ZXJpYWw9bWF0ZXJpYWw7cmVuZGVySXRlbS5ncm91cE9yZGVyPWdyb3VwT3JkZXI7cmVuZGVySXRlbS5yZW5kZXJPcmRlcj1vYmplY3QucmVuZGVyT3JkZXI7cmVuZGVySXRlbS56PXo7cmVuZGVySXRlbS5ncm91cD1ncm91cDt9cmVuZGVySXRlbXNJbmRleCsrO3JldHVybiByZW5kZXJJdGVtO31mdW5jdGlvbiBwdXNoKG9iamVjdCxnZW9tZXRyeSxtYXRlcmlhbCxncm91cE9yZGVyLHosZ3JvdXApe3ZhciByZW5kZXJJdGVtPWdldE5leHRSZW5kZXJJdGVtKG9iamVjdCxnZW9tZXRyeSxtYXRlcmlhbCxncm91cE9yZGVyLHosZ3JvdXApO2lmKG1hdGVyaWFsLnRyYW5zbWlzc2lvbj4wLjApe3RyYW5zbWlzc2l2ZS5wdXNoKHJlbmRlckl0ZW0pO31lbHNlIGlmKG1hdGVyaWFsLnRyYW5zcGFyZW50PT09dHJ1ZSl7dHJhbnNwYXJlbnQucHVzaChyZW5kZXJJdGVtKTt9ZWxzZXtvcGFxdWUucHVzaChyZW5kZXJJdGVtKTt9fWZ1bmN0aW9uIHVuc2hpZnQob2JqZWN0LGdlb21ldHJ5LG1hdGVyaWFsLGdyb3VwT3JkZXIseixncm91cCl7dmFyIHJlbmRlckl0ZW09Z2V0TmV4dFJlbmRlckl0ZW0ob2JqZWN0LGdlb21ldHJ5LG1hdGVyaWFsLGdyb3VwT3JkZXIseixncm91cCk7aWYobWF0ZXJpYWwudHJhbnNtaXNzaW9uPjAuMCl7dHJhbnNtaXNzaXZlLnVuc2hpZnQocmVuZGVySXRlbSk7fWVsc2UgaWYobWF0ZXJpYWwudHJhbnNwYXJlbnQ9PT10cnVlKXt0cmFuc3BhcmVudC51bnNoaWZ0KHJlbmRlckl0ZW0pO31lbHNle29wYXF1ZS51bnNoaWZ0KHJlbmRlckl0ZW0pO319ZnVuY3Rpb24gc29ydChjdXN0b21PcGFxdWVTb3J0LGN1c3RvbVRyYW5zcGFyZW50U29ydCl7aWYob3BhcXVlLmxlbmd0aD4xKW9wYXF1ZS5zb3J0KGN1c3RvbU9wYXF1ZVNvcnR8fHBhaW50ZXJTb3J0U3RhYmxlKTtpZih0cmFuc21pc3NpdmUubGVuZ3RoPjEpdHJhbnNtaXNzaXZlLnNvcnQoY3VzdG9tVHJhbnNwYXJlbnRTb3J0fHxyZXZlcnNlUGFpbnRlclNvcnRTdGFibGUpO2lmKHRyYW5zcGFyZW50Lmxlbmd0aD4xKXRyYW5zcGFyZW50LnNvcnQoY3VzdG9tVHJhbnNwYXJlbnRTb3J0fHxyZXZlcnNlUGFpbnRlclNvcnRTdGFibGUpO31mdW5jdGlvbiBmaW5pc2goKXsvLyBDbGVhciByZWZlcmVuY2VzIGZyb20gaW5hY3RpdmUgcmVuZGVySXRlbXMgaW4gdGhlIGxpc3QKZm9yKHZhciBfaTExNj1yZW5kZXJJdGVtc0luZGV4LGlsPXJlbmRlckl0ZW1zLmxlbmd0aDtfaTExNjxpbDtfaTExNisrKXt2YXIgcmVuZGVySXRlbT1yZW5kZXJJdGVtc1tfaTExNl07aWYocmVuZGVySXRlbS5pZD09PW51bGwpYnJlYWs7cmVuZGVySXRlbS5pZD1udWxsO3JlbmRlckl0ZW0ub2JqZWN0PW51bGw7cmVuZGVySXRlbS5nZW9tZXRyeT1udWxsO3JlbmRlckl0ZW0ubWF0ZXJpYWw9bnVsbDtyZW5kZXJJdGVtLmdyb3VwPW51bGw7fX1yZXR1cm57b3BhcXVlOm9wYXF1ZSx0cmFuc21pc3NpdmU6dHJhbnNtaXNzaXZlLHRyYW5zcGFyZW50OnRyYW5zcGFyZW50LGluaXQ6aW5pdCxwdXNoOnB1c2gsdW5zaGlmdDp1bnNoaWZ0LGZpbmlzaDpmaW5pc2gsc29ydDpzb3J0fTt9ZnVuY3Rpb24gV2ViR0xSZW5kZXJMaXN0cygpe3ZhciBsaXN0cz1uZXcgV2Vha01hcCgpO2Z1bmN0aW9uIGdldChzY2VuZSxyZW5kZXJDYWxsRGVwdGgpe3ZhciBsaXN0O2lmKGxpc3RzLmhhcyhzY2VuZSk9PT1mYWxzZSl7bGlzdD1uZXcgV2ViR0xSZW5kZXJMaXN0KCk7bGlzdHMuc2V0KHNjZW5lLFtsaXN0XSk7fWVsc2V7aWYocmVuZGVyQ2FsbERlcHRoPj1saXN0cy5nZXQoc2NlbmUpLmxlbmd0aCl7bGlzdD1uZXcgV2ViR0xSZW5kZXJMaXN0KCk7bGlzdHMuZ2V0KHNjZW5lKS5wdXNoKGxpc3QpO31lbHNle2xpc3Q9bGlzdHMuZ2V0KHNjZW5lKVtyZW5kZXJDYWxsRGVwdGhdO319cmV0dXJuIGxpc3Q7fWZ1bmN0aW9uIGRpc3Bvc2UoKXtsaXN0cz1uZXcgV2Vha01hcCgpO31yZXR1cm57Z2V0OmdldCxkaXNwb3NlOmRpc3Bvc2V9O31mdW5jdGlvbiBVbmlmb3Jtc0NhY2hlKCl7dmFyIGxpZ2h0cz17fTtyZXR1cm57Z2V0OmZ1bmN0aW9uIGdldChsaWdodCl7aWYobGlnaHRzW2xpZ2h0LmlkXSE9PXVuZGVmaW5lZCl7cmV0dXJuIGxpZ2h0c1tsaWdodC5pZF07fXZhciB1bmlmb3Jtcztzd2l0Y2gobGlnaHQudHlwZSl7Y2FzZSdEaXJlY3Rpb25hbExpZ2h0Jzp1bmlmb3Jtcz17ZGlyZWN0aW9uOm5ldyBWZWN0b3IzKCksY29sb3I6bmV3IENvbG9yKCl9O2JyZWFrO2Nhc2UnU3BvdExpZ2h0Jzp1bmlmb3Jtcz17cG9zaXRpb246bmV3IFZlY3RvcjMoKSxkaXJlY3Rpb246bmV3IFZlY3RvcjMoKSxjb2xvcjpuZXcgQ29sb3IoKSxkaXN0YW5jZTowLGNvbmVDb3M6MCxwZW51bWJyYUNvczowLGRlY2F5OjB9O2JyZWFrO2Nhc2UnUG9pbnRMaWdodCc6dW5pZm9ybXM9e3Bvc2l0aW9uOm5ldyBWZWN0b3IzKCksY29sb3I6bmV3IENvbG9yKCksZGlzdGFuY2U6MCxkZWNheTowfTticmVhaztjYXNlJ0hlbWlzcGhlcmVMaWdodCc6dW5pZm9ybXM9e2RpcmVjdGlvbjpuZXcgVmVjdG9yMygpLHNreUNvbG9yOm5ldyBDb2xvcigpLGdyb3VuZENvbG9yOm5ldyBDb2xvcigpfTticmVhaztjYXNlJ1JlY3RBcmVhTGlnaHQnOnVuaWZvcm1zPXtjb2xvcjpuZXcgQ29sb3IoKSxwb3NpdGlvbjpuZXcgVmVjdG9yMygpLGhhbGZXaWR0aDpuZXcgVmVjdG9yMygpLGhhbGZIZWlnaHQ6bmV3IFZlY3RvcjMoKX07YnJlYWs7fWxpZ2h0c1tsaWdodC5pZF09dW5pZm9ybXM7cmV0dXJuIHVuaWZvcm1zO319O31mdW5jdGlvbiBTaGFkb3dVbmlmb3Jtc0NhY2hlKCl7dmFyIGxpZ2h0cz17fTtyZXR1cm57Z2V0OmZ1bmN0aW9uIGdldChsaWdodCl7aWYobGlnaHRzW2xpZ2h0LmlkXSE9PXVuZGVmaW5lZCl7cmV0dXJuIGxpZ2h0c1tsaWdodC5pZF07fXZhciB1bmlmb3Jtcztzd2l0Y2gobGlnaHQudHlwZSl7Y2FzZSdEaXJlY3Rpb25hbExpZ2h0Jzp1bmlmb3Jtcz17c2hhZG93QmlhczowLHNoYWRvd05vcm1hbEJpYXM6MCxzaGFkb3dSYWRpdXM6MSxzaGFkb3dNYXBTaXplOm5ldyBWZWN0b3IyKCl9O2JyZWFrO2Nhc2UnU3BvdExpZ2h0Jzp1bmlmb3Jtcz17c2hhZG93QmlhczowLHNoYWRvd05vcm1hbEJpYXM6MCxzaGFkb3dSYWRpdXM6MSxzaGFkb3dNYXBTaXplOm5ldyBWZWN0b3IyKCl9O2JyZWFrO2Nhc2UnUG9pbnRMaWdodCc6dW5pZm9ybXM9e3NoYWRvd0JpYXM6MCxzaGFkb3dOb3JtYWxCaWFzOjAsc2hhZG93UmFkaXVzOjEsc2hhZG93TWFwU2l6ZTpuZXcgVmVjdG9yMigpLHNoYWRvd0NhbWVyYU5lYXI6MSxzaGFkb3dDYW1lcmFGYXI6MTAwMH07YnJlYWs7Ly8gVE9ETyAoYWJlbG5hdGlvbik6IHNldCBSZWN0QXJlYUxpZ2h0IHNoYWRvdyB1bmlmb3Jtcwp9bGlnaHRzW2xpZ2h0LmlkXT11bmlmb3JtcztyZXR1cm4gdW5pZm9ybXM7fX07fXZhciBuZXh0VmVyc2lvbj0wO2Z1bmN0aW9uIHNoYWRvd0Nhc3RpbmdMaWdodHNGaXJzdChsaWdodEEsbGlnaHRCKXtyZXR1cm4obGlnaHRCLmNhc3RTaGFkb3c/MTowKS0obGlnaHRBLmNhc3RTaGFkb3c/MTowKTt9ZnVuY3Rpb24gV2ViR0xMaWdodHMoZXh0ZW5zaW9ucyxjYXBhYmlsaXRpZXMpe3ZhciBjYWNoZT1uZXcgVW5pZm9ybXNDYWNoZSgpO3ZhciBzaGFkb3dDYWNoZT1TaGFkb3dVbmlmb3Jtc0NhY2hlKCk7dmFyIHN0YXRlPXt2ZXJzaW9uOjAsaGFzaDp7ZGlyZWN0aW9uYWxMZW5ndGg6LTEscG9pbnRMZW5ndGg6LTEsc3BvdExlbmd0aDotMSxyZWN0QXJlYUxlbmd0aDotMSxoZW1pTGVuZ3RoOi0xLG51bURpcmVjdGlvbmFsU2hhZG93czotMSxudW1Qb2ludFNoYWRvd3M6LTEsbnVtU3BvdFNoYWRvd3M6LTF9LGFtYmllbnQ6WzAsMCwwXSxwcm9iZTpbXSxkaXJlY3Rpb25hbDpbXSxkaXJlY3Rpb25hbFNoYWRvdzpbXSxkaXJlY3Rpb25hbFNoYWRvd01hcDpbXSxkaXJlY3Rpb25hbFNoYWRvd01hdHJpeDpbXSxzcG90OltdLHNwb3RTaGFkb3c6W10sc3BvdFNoYWRvd01hcDpbXSxzcG90U2hhZG93TWF0cml4OltdLHJlY3RBcmVhOltdLHJlY3RBcmVhTFRDMTpudWxsLHJlY3RBcmVhTFRDMjpudWxsLHBvaW50OltdLHBvaW50U2hhZG93OltdLHBvaW50U2hhZG93TWFwOltdLHBvaW50U2hhZG93TWF0cml4OltdLGhlbWk6W119O2Zvcih2YXIgX2kxMTc9MDtfaTExNzw5O19pMTE3Kyspc3RhdGUucHJvYmUucHVzaChuZXcgVmVjdG9yMygpKTt2YXIgdmVjdG9yMz1uZXcgVmVjdG9yMygpO3ZhciBtYXRyaXg0PW5ldyBNYXRyaXg0KCk7dmFyIG1hdHJpeDQyPW5ldyBNYXRyaXg0KCk7ZnVuY3Rpb24gc2V0dXAobGlnaHRzLHBoeXNpY2FsbHlDb3JyZWN0TGlnaHRzKXt2YXIgcj0wLGc9MCxiPTA7Zm9yKHZhciBfaTExOD0wO19pMTE4PDk7X2kxMTgrKylzdGF0ZS5wcm9iZVtfaTExOF0uc2V0KDAsMCwwKTt2YXIgZGlyZWN0aW9uYWxMZW5ndGg9MDt2YXIgcG9pbnRMZW5ndGg9MDt2YXIgc3BvdExlbmd0aD0wO3ZhciByZWN0QXJlYUxlbmd0aD0wO3ZhciBoZW1pTGVuZ3RoPTA7dmFyIG51bURpcmVjdGlvbmFsU2hhZG93cz0wO3ZhciBudW1Qb2ludFNoYWRvd3M9MDt2YXIgbnVtU3BvdFNoYWRvd3M9MDtsaWdodHMuc29ydChzaGFkb3dDYXN0aW5nTGlnaHRzRmlyc3QpOy8vIGFydGlzdC1mcmllbmRseSBsaWdodCBpbnRlbnNpdHkgc2NhbGluZyBmYWN0b3IKdmFyIHNjYWxlRmFjdG9yPXBoeXNpY2FsbHlDb3JyZWN0TGlnaHRzIT09dHJ1ZT9NYXRoLlBJOjE7Zm9yKHZhciBfaTExOT0wLGw9bGlnaHRzLmxlbmd0aDtfaTExOTxsO19pMTE5Kyspe3ZhciBsaWdodD1saWdodHNbX2kxMTldO3ZhciBjb2xvcj1saWdodC5jb2xvcjt2YXIgaW50ZW5zaXR5PWxpZ2h0LmludGVuc2l0eTt2YXIgZGlzdGFuY2U9bGlnaHQuZGlzdGFuY2U7dmFyIHNoYWRvd01hcD1saWdodC5zaGFkb3cmJmxpZ2h0LnNoYWRvdy5tYXA/bGlnaHQuc2hhZG93Lm1hcC50ZXh0dXJlOm51bGw7aWYobGlnaHQuaXNBbWJpZW50TGlnaHQpe3IrPWNvbG9yLnIqaW50ZW5zaXR5KnNjYWxlRmFjdG9yO2crPWNvbG9yLmcqaW50ZW5zaXR5KnNjYWxlRmFjdG9yO2IrPWNvbG9yLmIqaW50ZW5zaXR5KnNjYWxlRmFjdG9yO31lbHNlIGlmKGxpZ2h0LmlzTGlnaHRQcm9iZSl7Zm9yKHZhciBqPTA7ajw5O2orKyl7c3RhdGUucHJvYmVbal0uYWRkU2NhbGVkVmVjdG9yKGxpZ2h0LnNoLmNvZWZmaWNpZW50c1tqXSxpbnRlbnNpdHkpO319ZWxzZSBpZihsaWdodC5pc0RpcmVjdGlvbmFsTGlnaHQpe3ZhciB1bmlmb3Jtcz1jYWNoZS5nZXQobGlnaHQpO3VuaWZvcm1zLmNvbG9yLmNvcHkobGlnaHQuY29sb3IpLm11bHRpcGx5U2NhbGFyKGxpZ2h0LmludGVuc2l0eSpzY2FsZUZhY3Rvcik7aWYobGlnaHQuY2FzdFNoYWRvdyl7dmFyIHNoYWRvdz1saWdodC5zaGFkb3c7dmFyIHNoYWRvd1VuaWZvcm1zPXNoYWRvd0NhY2hlLmdldChsaWdodCk7c2hhZG93VW5pZm9ybXMuc2hhZG93Qmlhcz1zaGFkb3cuYmlhcztzaGFkb3dVbmlmb3Jtcy5zaGFkb3dOb3JtYWxCaWFzPXNoYWRvdy5ub3JtYWxCaWFzO3NoYWRvd1VuaWZvcm1zLnNoYWRvd1JhZGl1cz1zaGFkb3cucmFkaXVzO3NoYWRvd1VuaWZvcm1zLnNoYWRvd01hcFNpemU9c2hhZG93Lm1hcFNpemU7c3RhdGUuZGlyZWN0aW9uYWxTaGFkb3dbZGlyZWN0aW9uYWxMZW5ndGhdPXNoYWRvd1VuaWZvcm1zO3N0YXRlLmRpcmVjdGlvbmFsU2hhZG93TWFwW2RpcmVjdGlvbmFsTGVuZ3RoXT1zaGFkb3dNYXA7c3RhdGUuZGlyZWN0aW9uYWxTaGFkb3dNYXRyaXhbZGlyZWN0aW9uYWxMZW5ndGhdPWxpZ2h0LnNoYWRvdy5tYXRyaXg7bnVtRGlyZWN0aW9uYWxTaGFkb3dzKys7fXN0YXRlLmRpcmVjdGlvbmFsW2RpcmVjdGlvbmFsTGVuZ3RoXT11bmlmb3JtcztkaXJlY3Rpb25hbExlbmd0aCsrO31lbHNlIGlmKGxpZ2h0LmlzU3BvdExpZ2h0KXt2YXIgX3VuaWZvcm1zPWNhY2hlLmdldChsaWdodCk7X3VuaWZvcm1zLnBvc2l0aW9uLnNldEZyb21NYXRyaXhQb3NpdGlvbihsaWdodC5tYXRyaXhXb3JsZCk7X3VuaWZvcm1zLmNvbG9yLmNvcHkoY29sb3IpLm11bHRpcGx5U2NhbGFyKGludGVuc2l0eSpzY2FsZUZhY3Rvcik7X3VuaWZvcm1zLmRpc3RhbmNlPWRpc3RhbmNlO191bmlmb3Jtcy5jb25lQ29zPU1hdGguY29zKGxpZ2h0LmFuZ2xlKTtfdW5pZm9ybXMucGVudW1icmFDb3M9TWF0aC5jb3MobGlnaHQuYW5nbGUqKDEtbGlnaHQucGVudW1icmEpKTtfdW5pZm9ybXMuZGVjYXk9bGlnaHQuZGVjYXk7aWYobGlnaHQuY2FzdFNoYWRvdyl7dmFyIF9zaGFkb3c9bGlnaHQuc2hhZG93O3ZhciBfc2hhZG93VW5pZm9ybXM9c2hhZG93Q2FjaGUuZ2V0KGxpZ2h0KTtfc2hhZG93VW5pZm9ybXMuc2hhZG93Qmlhcz1fc2hhZG93LmJpYXM7X3NoYWRvd1VuaWZvcm1zLnNoYWRvd05vcm1hbEJpYXM9X3NoYWRvdy5ub3JtYWxCaWFzO19zaGFkb3dVbmlmb3Jtcy5zaGFkb3dSYWRpdXM9X3NoYWRvdy5yYWRpdXM7X3NoYWRvd1VuaWZvcm1zLnNoYWRvd01hcFNpemU9X3NoYWRvdy5tYXBTaXplO3N0YXRlLnNwb3RTaGFkb3dbc3BvdExlbmd0aF09X3NoYWRvd1VuaWZvcm1zO3N0YXRlLnNwb3RTaGFkb3dNYXBbc3BvdExlbmd0aF09c2hhZG93TWFwO3N0YXRlLnNwb3RTaGFkb3dNYXRyaXhbc3BvdExlbmd0aF09bGlnaHQuc2hhZG93Lm1hdHJpeDtudW1TcG90U2hhZG93cysrO31zdGF0ZS5zcG90W3Nwb3RMZW5ndGhdPV91bmlmb3JtcztzcG90TGVuZ3RoKys7fWVsc2UgaWYobGlnaHQuaXNSZWN0QXJlYUxpZ2h0KXt2YXIgX3VuaWZvcm1zMj1jYWNoZS5nZXQobGlnaHQpOy8vIChhKSBpbnRlbnNpdHkgaXMgdGhlIHRvdGFsIHZpc2libGUgbGlnaHQgZW1pdHRlZAovL3VuaWZvcm1zLmNvbG9yLmNvcHkoIGNvbG9yICkubXVsdGlwbHlTY2FsYXIoIGludGVuc2l0eSAvICggbGlnaHQud2lkdGggKiBsaWdodC5oZWlnaHQgKiBNYXRoLlBJICkgKTsKLy8gKGIpIGludGVuc2l0eSBpcyB0aGUgYnJpZ2h0bmVzcyBvZiB0aGUgbGlnaHQKX3VuaWZvcm1zMi5jb2xvci5jb3B5KGNvbG9yKS5tdWx0aXBseVNjYWxhcihpbnRlbnNpdHkpO191bmlmb3JtczIuaGFsZldpZHRoLnNldChsaWdodC53aWR0aCowLjUsMC4wLDAuMCk7X3VuaWZvcm1zMi5oYWxmSGVpZ2h0LnNldCgwLjAsbGlnaHQuaGVpZ2h0KjAuNSwwLjApO3N0YXRlLnJlY3RBcmVhW3JlY3RBcmVhTGVuZ3RoXT1fdW5pZm9ybXMyO3JlY3RBcmVhTGVuZ3RoKys7fWVsc2UgaWYobGlnaHQuaXNQb2ludExpZ2h0KXt2YXIgX3VuaWZvcm1zMz1jYWNoZS5nZXQobGlnaHQpO191bmlmb3JtczMuY29sb3IuY29weShsaWdodC5jb2xvcikubXVsdGlwbHlTY2FsYXIobGlnaHQuaW50ZW5zaXR5KnNjYWxlRmFjdG9yKTtfdW5pZm9ybXMzLmRpc3RhbmNlPWxpZ2h0LmRpc3RhbmNlO191bmlmb3JtczMuZGVjYXk9bGlnaHQuZGVjYXk7aWYobGlnaHQuY2FzdFNoYWRvdyl7dmFyIF9zaGFkb3cyPWxpZ2h0LnNoYWRvdzt2YXIgX3NoYWRvd1VuaWZvcm1zMj1zaGFkb3dDYWNoZS5nZXQobGlnaHQpO19zaGFkb3dVbmlmb3JtczIuc2hhZG93Qmlhcz1fc2hhZG93Mi5iaWFzO19zaGFkb3dVbmlmb3JtczIuc2hhZG93Tm9ybWFsQmlhcz1fc2hhZG93Mi5ub3JtYWxCaWFzO19zaGFkb3dVbmlmb3JtczIuc2hhZG93UmFkaXVzPV9zaGFkb3cyLnJhZGl1cztfc2hhZG93VW5pZm9ybXMyLnNoYWRvd01hcFNpemU9X3NoYWRvdzIubWFwU2l6ZTtfc2hhZG93VW5pZm9ybXMyLnNoYWRvd0NhbWVyYU5lYXI9X3NoYWRvdzIuY2FtZXJhLm5lYXI7X3NoYWRvd1VuaWZvcm1zMi5zaGFkb3dDYW1lcmFGYXI9X3NoYWRvdzIuY2FtZXJhLmZhcjtzdGF0ZS5wb2ludFNoYWRvd1twb2ludExlbmd0aF09X3NoYWRvd1VuaWZvcm1zMjtzdGF0ZS5wb2ludFNoYWRvd01hcFtwb2ludExlbmd0aF09c2hhZG93TWFwO3N0YXRlLnBvaW50U2hhZG93TWF0cml4W3BvaW50TGVuZ3RoXT1saWdodC5zaGFkb3cubWF0cml4O251bVBvaW50U2hhZG93cysrO31zdGF0ZS5wb2ludFtwb2ludExlbmd0aF09X3VuaWZvcm1zMztwb2ludExlbmd0aCsrO31lbHNlIGlmKGxpZ2h0LmlzSGVtaXNwaGVyZUxpZ2h0KXt2YXIgX3VuaWZvcm1zND1jYWNoZS5nZXQobGlnaHQpO191bmlmb3JtczQuc2t5Q29sb3IuY29weShsaWdodC5jb2xvcikubXVsdGlwbHlTY2FsYXIoaW50ZW5zaXR5KnNjYWxlRmFjdG9yKTtfdW5pZm9ybXM0Lmdyb3VuZENvbG9yLmNvcHkobGlnaHQuZ3JvdW5kQ29sb3IpLm11bHRpcGx5U2NhbGFyKGludGVuc2l0eSpzY2FsZUZhY3Rvcik7c3RhdGUuaGVtaVtoZW1pTGVuZ3RoXT1fdW5pZm9ybXM0O2hlbWlMZW5ndGgrKzt9fWlmKHJlY3RBcmVhTGVuZ3RoPjApe2lmKGNhcGFiaWxpdGllcy5pc1dlYkdMMil7Ly8gV2ViR0wgMgpzdGF0ZS5yZWN0QXJlYUxUQzE9VW5pZm9ybXNMaWIuTFRDX0ZMT0FUXzE7c3RhdGUucmVjdEFyZWFMVEMyPVVuaWZvcm1zTGliLkxUQ19GTE9BVF8yO31lbHNley8vIFdlYkdMIDEKaWYoZXh0ZW5zaW9ucy5oYXMoJ09FU190ZXh0dXJlX2Zsb2F0X2xpbmVhcicpPT09dHJ1ZSl7c3RhdGUucmVjdEFyZWFMVEMxPVVuaWZvcm1zTGliLkxUQ19GTE9BVF8xO3N0YXRlLnJlY3RBcmVhTFRDMj1Vbmlmb3Jtc0xpYi5MVENfRkxPQVRfMjt9ZWxzZSBpZihleHRlbnNpb25zLmhhcygnT0VTX3RleHR1cmVfaGFsZl9mbG9hdF9saW5lYXInKT09PXRydWUpe3N0YXRlLnJlY3RBcmVhTFRDMT1Vbmlmb3Jtc0xpYi5MVENfSEFMRl8xO3N0YXRlLnJlY3RBcmVhTFRDMj1Vbmlmb3Jtc0xpYi5MVENfSEFMRl8yO31lbHNle2NvbnNvbGUuZXJyb3IoJ1RIUkVFLldlYkdMUmVuZGVyZXI6IFVuYWJsZSB0byB1c2UgUmVjdEFyZWFMaWdodC4gTWlzc2luZyBXZWJHTCBleHRlbnNpb25zLicpO319fXN0YXRlLmFtYmllbnRbMF09cjtzdGF0ZS5hbWJpZW50WzFdPWc7c3RhdGUuYW1iaWVudFsyXT1iO3ZhciBoYXNoPXN0YXRlLmhhc2g7aWYoaGFzaC5kaXJlY3Rpb25hbExlbmd0aCE9PWRpcmVjdGlvbmFsTGVuZ3RofHxoYXNoLnBvaW50TGVuZ3RoIT09cG9pbnRMZW5ndGh8fGhhc2guc3BvdExlbmd0aCE9PXNwb3RMZW5ndGh8fGhhc2gucmVjdEFyZWFMZW5ndGghPT1yZWN0QXJlYUxlbmd0aHx8aGFzaC5oZW1pTGVuZ3RoIT09aGVtaUxlbmd0aHx8aGFzaC5udW1EaXJlY3Rpb25hbFNoYWRvd3MhPT1udW1EaXJlY3Rpb25hbFNoYWRvd3N8fGhhc2gubnVtUG9pbnRTaGFkb3dzIT09bnVtUG9pbnRTaGFkb3dzfHxoYXNoLm51bVNwb3RTaGFkb3dzIT09bnVtU3BvdFNoYWRvd3Mpe3N0YXRlLmRpcmVjdGlvbmFsLmxlbmd0aD1kaXJlY3Rpb25hbExlbmd0aDtzdGF0ZS5zcG90Lmxlbmd0aD1zcG90TGVuZ3RoO3N0YXRlLnJlY3RBcmVhLmxlbmd0aD1yZWN0QXJlYUxlbmd0aDtzdGF0ZS5wb2ludC5sZW5ndGg9cG9pbnRMZW5ndGg7c3RhdGUuaGVtaS5sZW5ndGg9aGVtaUxlbmd0aDtzdGF0ZS5kaXJlY3Rpb25hbFNoYWRvdy5sZW5ndGg9bnVtRGlyZWN0aW9uYWxTaGFkb3dzO3N0YXRlLmRpcmVjdGlvbmFsU2hhZG93TWFwLmxlbmd0aD1udW1EaXJlY3Rpb25hbFNoYWRvd3M7c3RhdGUucG9pbnRTaGFkb3cubGVuZ3RoPW51bVBvaW50U2hhZG93cztzdGF0ZS5wb2ludFNoYWRvd01hcC5sZW5ndGg9bnVtUG9pbnRTaGFkb3dzO3N0YXRlLnNwb3RTaGFkb3cubGVuZ3RoPW51bVNwb3RTaGFkb3dzO3N0YXRlLnNwb3RTaGFkb3dNYXAubGVuZ3RoPW51bVNwb3RTaGFkb3dzO3N0YXRlLmRpcmVjdGlvbmFsU2hhZG93TWF0cml4Lmxlbmd0aD1udW1EaXJlY3Rpb25hbFNoYWRvd3M7c3RhdGUucG9pbnRTaGFkb3dNYXRyaXgubGVuZ3RoPW51bVBvaW50U2hhZG93cztzdGF0ZS5zcG90U2hhZG93TWF0cml4Lmxlbmd0aD1udW1TcG90U2hhZG93cztoYXNoLmRpcmVjdGlvbmFsTGVuZ3RoPWRpcmVjdGlvbmFsTGVuZ3RoO2hhc2gucG9pbnRMZW5ndGg9cG9pbnRMZW5ndGg7aGFzaC5zcG90TGVuZ3RoPXNwb3RMZW5ndGg7aGFzaC5yZWN0QXJlYUxlbmd0aD1yZWN0QXJlYUxlbmd0aDtoYXNoLmhlbWlMZW5ndGg9aGVtaUxlbmd0aDtoYXNoLm51bURpcmVjdGlvbmFsU2hhZG93cz1udW1EaXJlY3Rpb25hbFNoYWRvd3M7aGFzaC5udW1Qb2ludFNoYWRvd3M9bnVtUG9pbnRTaGFkb3dzO2hhc2gubnVtU3BvdFNoYWRvd3M9bnVtU3BvdFNoYWRvd3M7c3RhdGUudmVyc2lvbj1uZXh0VmVyc2lvbisrO319ZnVuY3Rpb24gc2V0dXBWaWV3KGxpZ2h0cyxjYW1lcmEpe3ZhciBkaXJlY3Rpb25hbExlbmd0aD0wO3ZhciBwb2ludExlbmd0aD0wO3ZhciBzcG90TGVuZ3RoPTA7dmFyIHJlY3RBcmVhTGVuZ3RoPTA7dmFyIGhlbWlMZW5ndGg9MDt2YXIgdmlld01hdHJpeD1jYW1lcmEubWF0cml4V29ybGRJbnZlcnNlO2Zvcih2YXIgX2kxMjA9MCxsPWxpZ2h0cy5sZW5ndGg7X2kxMjA8bDtfaTEyMCsrKXt2YXIgbGlnaHQ9bGlnaHRzW19pMTIwXTtpZihsaWdodC5pc0RpcmVjdGlvbmFsTGlnaHQpe3ZhciB1bmlmb3Jtcz1zdGF0ZS5kaXJlY3Rpb25hbFtkaXJlY3Rpb25hbExlbmd0aF07dW5pZm9ybXMuZGlyZWN0aW9uLnNldEZyb21NYXRyaXhQb3NpdGlvbihsaWdodC5tYXRyaXhXb3JsZCk7dmVjdG9yMy5zZXRGcm9tTWF0cml4UG9zaXRpb24obGlnaHQudGFyZ2V0Lm1hdHJpeFdvcmxkKTt1bmlmb3Jtcy5kaXJlY3Rpb24uc3ViKHZlY3RvcjMpO3VuaWZvcm1zLmRpcmVjdGlvbi50cmFuc2Zvcm1EaXJlY3Rpb24odmlld01hdHJpeCk7ZGlyZWN0aW9uYWxMZW5ndGgrKzt9ZWxzZSBpZihsaWdodC5pc1Nwb3RMaWdodCl7dmFyIF91bmlmb3JtczU9c3RhdGUuc3BvdFtzcG90TGVuZ3RoXTtfdW5pZm9ybXM1LnBvc2l0aW9uLnNldEZyb21NYXRyaXhQb3NpdGlvbihsaWdodC5tYXRyaXhXb3JsZCk7X3VuaWZvcm1zNS5wb3NpdGlvbi5hcHBseU1hdHJpeDQodmlld01hdHJpeCk7X3VuaWZvcm1zNS5kaXJlY3Rpb24uc2V0RnJvbU1hdHJpeFBvc2l0aW9uKGxpZ2h0Lm1hdHJpeFdvcmxkKTt2ZWN0b3IzLnNldEZyb21NYXRyaXhQb3NpdGlvbihsaWdodC50YXJnZXQubWF0cml4V29ybGQpO191bmlmb3JtczUuZGlyZWN0aW9uLnN1Yih2ZWN0b3IzKTtfdW5pZm9ybXM1LmRpcmVjdGlvbi50cmFuc2Zvcm1EaXJlY3Rpb24odmlld01hdHJpeCk7c3BvdExlbmd0aCsrO31lbHNlIGlmKGxpZ2h0LmlzUmVjdEFyZWFMaWdodCl7dmFyIF91bmlmb3JtczY9c3RhdGUucmVjdEFyZWFbcmVjdEFyZWFMZW5ndGhdO191bmlmb3JtczYucG9zaXRpb24uc2V0RnJvbU1hdHJpeFBvc2l0aW9uKGxpZ2h0Lm1hdHJpeFdvcmxkKTtfdW5pZm9ybXM2LnBvc2l0aW9uLmFwcGx5TWF0cml4NCh2aWV3TWF0cml4KTsvLyBleHRyYWN0IGxvY2FsIHJvdGF0aW9uIG9mIGxpZ2h0IHRvIGRlcml2ZSB3aWR0aC9oZWlnaHQgaGFsZiB2ZWN0b3JzCm1hdHJpeDQyLmlkZW50aXR5KCk7bWF0cml4NC5jb3B5KGxpZ2h0Lm1hdHJpeFdvcmxkKTttYXRyaXg0LnByZW11bHRpcGx5KHZpZXdNYXRyaXgpO21hdHJpeDQyLmV4dHJhY3RSb3RhdGlvbihtYXRyaXg0KTtfdW5pZm9ybXM2LmhhbGZXaWR0aC5zZXQobGlnaHQud2lkdGgqMC41LDAuMCwwLjApO191bmlmb3JtczYuaGFsZkhlaWdodC5zZXQoMC4wLGxpZ2h0LmhlaWdodCowLjUsMC4wKTtfdW5pZm9ybXM2LmhhbGZXaWR0aC5hcHBseU1hdHJpeDQobWF0cml4NDIpO191bmlmb3JtczYuaGFsZkhlaWdodC5hcHBseU1hdHJpeDQobWF0cml4NDIpO3JlY3RBcmVhTGVuZ3RoKys7fWVsc2UgaWYobGlnaHQuaXNQb2ludExpZ2h0KXt2YXIgX3VuaWZvcm1zNz1zdGF0ZS5wb2ludFtwb2ludExlbmd0aF07X3VuaWZvcm1zNy5wb3NpdGlvbi5zZXRGcm9tTWF0cml4UG9zaXRpb24obGlnaHQubWF0cml4V29ybGQpO191bmlmb3JtczcucG9zaXRpb24uYXBwbHlNYXRyaXg0KHZpZXdNYXRyaXgpO3BvaW50TGVuZ3RoKys7fWVsc2UgaWYobGlnaHQuaXNIZW1pc3BoZXJlTGlnaHQpe3ZhciBfdW5pZm9ybXM4PXN0YXRlLmhlbWlbaGVtaUxlbmd0aF07X3VuaWZvcm1zOC5kaXJlY3Rpb24uc2V0RnJvbU1hdHJpeFBvc2l0aW9uKGxpZ2h0Lm1hdHJpeFdvcmxkKTtfdW5pZm9ybXM4LmRpcmVjdGlvbi50cmFuc2Zvcm1EaXJlY3Rpb24odmlld01hdHJpeCk7X3VuaWZvcm1zOC5kaXJlY3Rpb24ubm9ybWFsaXplKCk7aGVtaUxlbmd0aCsrO319fXJldHVybntzZXR1cDpzZXR1cCxzZXR1cFZpZXc6c2V0dXBWaWV3LHN0YXRlOnN0YXRlfTt9ZnVuY3Rpb24gV2ViR0xSZW5kZXJTdGF0ZShleHRlbnNpb25zLGNhcGFiaWxpdGllcyl7dmFyIGxpZ2h0cz1uZXcgV2ViR0xMaWdodHMoZXh0ZW5zaW9ucyxjYXBhYmlsaXRpZXMpO3ZhciBsaWdodHNBcnJheT1bXTt2YXIgc2hhZG93c0FycmF5PVtdO2Z1bmN0aW9uIGluaXQoKXtsaWdodHNBcnJheS5sZW5ndGg9MDtzaGFkb3dzQXJyYXkubGVuZ3RoPTA7fWZ1bmN0aW9uIHB1c2hMaWdodChsaWdodCl7bGlnaHRzQXJyYXkucHVzaChsaWdodCk7fWZ1bmN0aW9uIHB1c2hTaGFkb3coc2hhZG93TGlnaHQpe3NoYWRvd3NBcnJheS5wdXNoKHNoYWRvd0xpZ2h0KTt9ZnVuY3Rpb24gc2V0dXBMaWdodHMocGh5c2ljYWxseUNvcnJlY3RMaWdodHMpe2xpZ2h0cy5zZXR1cChsaWdodHNBcnJheSxwaHlzaWNhbGx5Q29ycmVjdExpZ2h0cyk7fWZ1bmN0aW9uIHNldHVwTGlnaHRzVmlldyhjYW1lcmEpe2xpZ2h0cy5zZXR1cFZpZXcobGlnaHRzQXJyYXksY2FtZXJhKTt9dmFyIHN0YXRlPXtsaWdodHNBcnJheTpsaWdodHNBcnJheSxzaGFkb3dzQXJyYXk6c2hhZG93c0FycmF5LGxpZ2h0czpsaWdodHN9O3JldHVybntpbml0OmluaXQsc3RhdGU6c3RhdGUsc2V0dXBMaWdodHM6c2V0dXBMaWdodHMsc2V0dXBMaWdodHNWaWV3OnNldHVwTGlnaHRzVmlldyxwdXNoTGlnaHQ6cHVzaExpZ2h0LHB1c2hTaGFkb3c6cHVzaFNoYWRvd307fWZ1bmN0aW9uIFdlYkdMUmVuZGVyU3RhdGVzKGV4dGVuc2lvbnMsY2FwYWJpbGl0aWVzKXt2YXIgcmVuZGVyU3RhdGVzPW5ldyBXZWFrTWFwKCk7ZnVuY3Rpb24gZ2V0KHNjZW5lKXt2YXIgcmVuZGVyQ2FsbERlcHRoPWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1sxXTowO3ZhciByZW5kZXJTdGF0ZTtpZihyZW5kZXJTdGF0ZXMuaGFzKHNjZW5lKT09PWZhbHNlKXtyZW5kZXJTdGF0ZT1uZXcgV2ViR0xSZW5kZXJTdGF0ZShleHRlbnNpb25zLGNhcGFiaWxpdGllcyk7cmVuZGVyU3RhdGVzLnNldChzY2VuZSxbcmVuZGVyU3RhdGVdKTt9ZWxzZXtpZihyZW5kZXJDYWxsRGVwdGg+PXJlbmRlclN0YXRlcy5nZXQoc2NlbmUpLmxlbmd0aCl7cmVuZGVyU3RhdGU9bmV3IFdlYkdMUmVuZGVyU3RhdGUoZXh0ZW5zaW9ucyxjYXBhYmlsaXRpZXMpO3JlbmRlclN0YXRlcy5nZXQoc2NlbmUpLnB1c2gocmVuZGVyU3RhdGUpO31lbHNle3JlbmRlclN0YXRlPXJlbmRlclN0YXRlcy5nZXQoc2NlbmUpW3JlbmRlckNhbGxEZXB0aF07fX1yZXR1cm4gcmVuZGVyU3RhdGU7fWZ1bmN0aW9uIGRpc3Bvc2UoKXtyZW5kZXJTdGF0ZXM9bmV3IFdlYWtNYXAoKTt9cmV0dXJue2dldDpnZXQsZGlzcG9zZTpkaXNwb3NlfTt9LyoqCiAqIHBhcmFtZXRlcnMgPSB7CiAqCiAqICBvcGFjaXR5OiA8ZmxvYXQ+LAogKgogKiAgbWFwOiBuZXcgVEhSRUUuVGV4dHVyZSggPEltYWdlPiApLAogKgogKiAgYWxwaGFNYXA6IG5ldyBUSFJFRS5UZXh0dXJlKCA8SW1hZ2U+ICksCiAqCiAqICBkaXNwbGFjZW1lbnRNYXA6IG5ldyBUSFJFRS5UZXh0dXJlKCA8SW1hZ2U+ICksCiAqICBkaXNwbGFjZW1lbnRTY2FsZTogPGZsb2F0PiwKICogIGRpc3BsYWNlbWVudEJpYXM6IDxmbG9hdD4sCiAqCiAqICB3aXJlZnJhbWU6IDxib29sZWFuPiwKICogIHdpcmVmcmFtZUxpbmV3aWR0aDogPGZsb2F0PgogKiB9CiAqL3ZhciBNZXNoRGVwdGhNYXRlcmlhbD0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX01hdGVyaWFsMyl7X2luaGVyaXRzKE1lc2hEZXB0aE1hdGVyaWFsLF9NYXRlcmlhbDMpO3ZhciBfc3VwZXIzMj1fY3JlYXRlU3VwZXIoTWVzaERlcHRoTWF0ZXJpYWwpO2Z1bmN0aW9uIE1lc2hEZXB0aE1hdGVyaWFsKHBhcmFtZXRlcnMpe3ZhciBfdGhpczIzO19jbGFzc0NhbGxDaGVjayh0aGlzLE1lc2hEZXB0aE1hdGVyaWFsKTtfdGhpczIzPV9zdXBlcjMyLmNhbGwodGhpcyk7X3RoaXMyMy50eXBlPSdNZXNoRGVwdGhNYXRlcmlhbCc7X3RoaXMyMy5kZXB0aFBhY2tpbmc9QmFzaWNEZXB0aFBhY2tpbmc7X3RoaXMyMy5tYXA9bnVsbDtfdGhpczIzLmFscGhhTWFwPW51bGw7X3RoaXMyMy5kaXNwbGFjZW1lbnRNYXA9bnVsbDtfdGhpczIzLmRpc3BsYWNlbWVudFNjYWxlPTE7X3RoaXMyMy5kaXNwbGFjZW1lbnRCaWFzPTA7X3RoaXMyMy53aXJlZnJhbWU9ZmFsc2U7X3RoaXMyMy53aXJlZnJhbWVMaW5ld2lkdGg9MTtfdGhpczIzLmZvZz1mYWxzZTtfdGhpczIzLnNldFZhbHVlcyhwYXJhbWV0ZXJzKTtyZXR1cm4gX3RoaXMyMzt9X2NyZWF0ZUNsYXNzKE1lc2hEZXB0aE1hdGVyaWFsLFt7a2V5OiJjb3B5Iix2YWx1ZTpmdW5jdGlvbiBjb3B5KHNvdXJjZSl7X2dldChfZ2V0UHJvdG90eXBlT2YoTWVzaERlcHRoTWF0ZXJpYWwucHJvdG90eXBlKSwiY29weSIsdGhpcykuY2FsbCh0aGlzLHNvdXJjZSk7dGhpcy5kZXB0aFBhY2tpbmc9c291cmNlLmRlcHRoUGFja2luZzt0aGlzLm1hcD1zb3VyY2UubWFwO3RoaXMuYWxwaGFNYXA9c291cmNlLmFscGhhTWFwO3RoaXMuZGlzcGxhY2VtZW50TWFwPXNvdXJjZS5kaXNwbGFjZW1lbnRNYXA7dGhpcy5kaXNwbGFjZW1lbnRTY2FsZT1zb3VyY2UuZGlzcGxhY2VtZW50U2NhbGU7dGhpcy5kaXNwbGFjZW1lbnRCaWFzPXNvdXJjZS5kaXNwbGFjZW1lbnRCaWFzO3RoaXMud2lyZWZyYW1lPXNvdXJjZS53aXJlZnJhbWU7dGhpcy53aXJlZnJhbWVMaW5ld2lkdGg9c291cmNlLndpcmVmcmFtZUxpbmV3aWR0aDtyZXR1cm4gdGhpczt9fV0pO3JldHVybiBNZXNoRGVwdGhNYXRlcmlhbDt9KE1hdGVyaWFsKTtNZXNoRGVwdGhNYXRlcmlhbC5wcm90b3R5cGUuaXNNZXNoRGVwdGhNYXRlcmlhbD10cnVlOy8qKgogKiBwYXJhbWV0ZXJzID0gewogKgogKiAgcmVmZXJlbmNlUG9zaXRpb246IDxmbG9hdD4sCiAqICBuZWFyRGlzdGFuY2U6IDxmbG9hdD4sCiAqICBmYXJEaXN0YW5jZTogPGZsb2F0PiwKICoKICogIG1hcDogbmV3IFRIUkVFLlRleHR1cmUoIDxJbWFnZT4gKSwKICoKICogIGFscGhhTWFwOiBuZXcgVEhSRUUuVGV4dHVyZSggPEltYWdlPiApLAogKgogKiAgZGlzcGxhY2VtZW50TWFwOiBuZXcgVEhSRUUuVGV4dHVyZSggPEltYWdlPiApLAogKiAgZGlzcGxhY2VtZW50U2NhbGU6IDxmbG9hdD4sCiAqICBkaXNwbGFjZW1lbnRCaWFzOiA8ZmxvYXQ+CiAqCiAqIH0KICovdmFyIE1lc2hEaXN0YW5jZU1hdGVyaWFsPS8qI19fUFVSRV9fKi9mdW5jdGlvbihfTWF0ZXJpYWw0KXtfaW5oZXJpdHMoTWVzaERpc3RhbmNlTWF0ZXJpYWwsX01hdGVyaWFsNCk7dmFyIF9zdXBlcjMzPV9jcmVhdGVTdXBlcihNZXNoRGlzdGFuY2VNYXRlcmlhbCk7ZnVuY3Rpb24gTWVzaERpc3RhbmNlTWF0ZXJpYWwocGFyYW1ldGVycyl7dmFyIF90aGlzMjQ7X2NsYXNzQ2FsbENoZWNrKHRoaXMsTWVzaERpc3RhbmNlTWF0ZXJpYWwpO190aGlzMjQ9X3N1cGVyMzMuY2FsbCh0aGlzKTtfdGhpczI0LnR5cGU9J01lc2hEaXN0YW5jZU1hdGVyaWFsJztfdGhpczI0LnJlZmVyZW5jZVBvc2l0aW9uPW5ldyBWZWN0b3IzKCk7X3RoaXMyNC5uZWFyRGlzdGFuY2U9MTtfdGhpczI0LmZhckRpc3RhbmNlPTEwMDA7X3RoaXMyNC5tYXA9bnVsbDtfdGhpczI0LmFscGhhTWFwPW51bGw7X3RoaXMyNC5kaXNwbGFjZW1lbnRNYXA9bnVsbDtfdGhpczI0LmRpc3BsYWNlbWVudFNjYWxlPTE7X3RoaXMyNC5kaXNwbGFjZW1lbnRCaWFzPTA7X3RoaXMyNC5mb2c9ZmFsc2U7X3RoaXMyNC5zZXRWYWx1ZXMocGFyYW1ldGVycyk7cmV0dXJuIF90aGlzMjQ7fV9jcmVhdGVDbGFzcyhNZXNoRGlzdGFuY2VNYXRlcmlhbCxbe2tleToiY29weSIsdmFsdWU6ZnVuY3Rpb24gY29weShzb3VyY2Upe19nZXQoX2dldFByb3RvdHlwZU9mKE1lc2hEaXN0YW5jZU1hdGVyaWFsLnByb3RvdHlwZSksImNvcHkiLHRoaXMpLmNhbGwodGhpcyxzb3VyY2UpO3RoaXMucmVmZXJlbmNlUG9zaXRpb24uY29weShzb3VyY2UucmVmZXJlbmNlUG9zaXRpb24pO3RoaXMubmVhckRpc3RhbmNlPXNvdXJjZS5uZWFyRGlzdGFuY2U7dGhpcy5mYXJEaXN0YW5jZT1zb3VyY2UuZmFyRGlzdGFuY2U7dGhpcy5tYXA9c291cmNlLm1hcDt0aGlzLmFscGhhTWFwPXNvdXJjZS5hbHBoYU1hcDt0aGlzLmRpc3BsYWNlbWVudE1hcD1zb3VyY2UuZGlzcGxhY2VtZW50TWFwO3RoaXMuZGlzcGxhY2VtZW50U2NhbGU9c291cmNlLmRpc3BsYWNlbWVudFNjYWxlO3RoaXMuZGlzcGxhY2VtZW50Qmlhcz1zb3VyY2UuZGlzcGxhY2VtZW50QmlhcztyZXR1cm4gdGhpczt9fV0pO3JldHVybiBNZXNoRGlzdGFuY2VNYXRlcmlhbDt9KE1hdGVyaWFsKTtNZXNoRGlzdGFuY2VNYXRlcmlhbC5wcm90b3R5cGUuaXNNZXNoRGlzdGFuY2VNYXRlcmlhbD10cnVlO3ZhciB2ZXJ0ZXg9InZvaWQgbWFpbigpIHtcblx0Z2xfUG9zaXRpb24gPSB2ZWM0KCBwb3NpdGlvbiwgMS4wICk7XG59Ijt2YXIgZnJhZ21lbnQ9InVuaWZvcm0gc2FtcGxlcjJEIHNoYWRvd19wYXNzO1xudW5pZm9ybSB2ZWMyIHJlc29sdXRpb247XG51bmlmb3JtIGZsb2F0IHJhZGl1cztcbiNpbmNsdWRlIDxwYWNraW5nPlxudm9pZCBtYWluKCkge1xuXHRjb25zdCBmbG9hdCBzYW1wbGVzID0gZmxvYXQoIFZTTV9TQU1QTEVTICk7XG5cdGZsb2F0IG1lYW4gPSAwLjA7XG5cdGZsb2F0IHNxdWFyZWRfbWVhbiA9IDAuMDtcblx0ZmxvYXQgdXZTdHJpZGUgPSBzYW1wbGVzIDw9IDEuMCA/IDAuMCA6IDIuMCAvICggc2FtcGxlcyAtIDEuMCApO1xuXHRmbG9hdCB1dlN0YXJ0ID0gc2FtcGxlcyA8PSAxLjAgPyAwLjAgOiAtIDEuMDtcblx0Zm9yICggZmxvYXQgaSA9IDAuMDsgaSA8IHNhbXBsZXM7IGkgKysgKSB7XG5cdFx0ZmxvYXQgdXZPZmZzZXQgPSB1dlN0YXJ0ICsgaSAqIHV2U3RyaWRlO1xuXHRcdCNpZmRlZiBIT1JJWk9OVEFMX1BBU1Ncblx0XHRcdHZlYzIgZGlzdHJpYnV0aW9uID0gdW5wYWNrUkdCQVRvMkhhbGYoIHRleHR1cmUyRCggc2hhZG93X3Bhc3MsICggZ2xfRnJhZ0Nvb3JkLnh5ICsgdmVjMiggdXZPZmZzZXQsIDAuMCApICogcmFkaXVzICkgLyByZXNvbHV0aW9uICkgKTtcblx0XHRcdG1lYW4gKz0gZGlzdHJpYnV0aW9uLng7XG5cdFx0XHRzcXVhcmVkX21lYW4gKz0gZGlzdHJpYnV0aW9uLnkgKiBkaXN0cmlidXRpb24ueSArIGRpc3RyaWJ1dGlvbi54ICogZGlzdHJpYnV0aW9uLng7XG5cdFx0I2Vsc2Vcblx0XHRcdGZsb2F0IGRlcHRoID0gdW5wYWNrUkdCQVRvRGVwdGgoIHRleHR1cmUyRCggc2hhZG93X3Bhc3MsICggZ2xfRnJhZ0Nvb3JkLnh5ICsgdmVjMiggMC4wLCB1dk9mZnNldCApICogcmFkaXVzICkgLyByZXNvbHV0aW9uICkgKTtcblx0XHRcdG1lYW4gKz0gZGVwdGg7XG5cdFx0XHRzcXVhcmVkX21lYW4gKz0gZGVwdGggKiBkZXB0aDtcblx0XHQjZW5kaWZcblx0fVxuXHRtZWFuID0gbWVhbiAvIHNhbXBsZXM7XG5cdHNxdWFyZWRfbWVhbiA9IHNxdWFyZWRfbWVhbiAvIHNhbXBsZXM7XG5cdGZsb2F0IHN0ZF9kZXYgPSBzcXJ0KCBzcXVhcmVkX21lYW4gLSBtZWFuICogbWVhbiApO1xuXHRnbF9GcmFnQ29sb3IgPSBwYWNrMkhhbGZUb1JHQkEoIHZlYzIoIG1lYW4sIHN0ZF9kZXYgKSApO1xufSI7ZnVuY3Rpb24gV2ViR0xTaGFkb3dNYXAoX3JlbmRlcmVyLF9vYmplY3RzLF9jYXBhYmlsaXRpZXMpe3ZhciBfZnJ1c3R1bT1uZXcgRnJ1c3R1bSgpO3ZhciBfc2hhZG93TWFwU2l6ZT1uZXcgVmVjdG9yMigpLF92aWV3cG9ydFNpemU9bmV3IFZlY3RvcjIoKSxfdmlld3BvcnQ9bmV3IFZlY3RvcjQoKSxfZGVwdGhNYXRlcmlhbD1uZXcgTWVzaERlcHRoTWF0ZXJpYWwoe2RlcHRoUGFja2luZzpSR0JBRGVwdGhQYWNraW5nfSksX2Rpc3RhbmNlTWF0ZXJpYWw9bmV3IE1lc2hEaXN0YW5jZU1hdGVyaWFsKCksX21hdGVyaWFsQ2FjaGU9e30sX21heFRleHR1cmVTaXplPV9jYXBhYmlsaXRpZXMubWF4VGV4dHVyZVNpemU7dmFyIHNoYWRvd1NpZGU9ezA6QmFja1NpZGUsMTpGcm9udFNpZGUsMjpEb3VibGVTaWRlfTt2YXIgc2hhZG93TWF0ZXJpYWxWZXJ0aWNhbD1uZXcgU2hhZGVyTWF0ZXJpYWwoe2RlZmluZXM6e1ZTTV9TQU1QTEVTOjh9LHVuaWZvcm1zOntzaGFkb3dfcGFzczp7dmFsdWU6bnVsbH0scmVzb2x1dGlvbjp7dmFsdWU6bmV3IFZlY3RvcjIoKX0scmFkaXVzOnt2YWx1ZTo0LjB9fSx2ZXJ0ZXhTaGFkZXI6dmVydGV4LGZyYWdtZW50U2hhZGVyOmZyYWdtZW50fSk7dmFyIHNoYWRvd01hdGVyaWFsSG9yaXpvbnRhbD1zaGFkb3dNYXRlcmlhbFZlcnRpY2FsLmNsb25lKCk7c2hhZG93TWF0ZXJpYWxIb3Jpem9udGFsLmRlZmluZXMuSE9SSVpPTlRBTF9QQVNTPTE7dmFyIGZ1bGxTY3JlZW5Ucmk9bmV3IEJ1ZmZlckdlb21ldHJ5KCk7ZnVsbFNjcmVlblRyaS5zZXRBdHRyaWJ1dGUoJ3Bvc2l0aW9uJyxuZXcgQnVmZmVyQXR0cmlidXRlKG5ldyBGbG9hdDMyQXJyYXkoWy0xLC0xLDAuNSwzLC0xLDAuNSwtMSwzLDAuNV0pLDMpKTt2YXIgZnVsbFNjcmVlbk1lc2g9bmV3IE1lc2goZnVsbFNjcmVlblRyaSxzaGFkb3dNYXRlcmlhbFZlcnRpY2FsKTt2YXIgc2NvcGU9dGhpczt0aGlzLmVuYWJsZWQ9ZmFsc2U7dGhpcy5hdXRvVXBkYXRlPXRydWU7dGhpcy5uZWVkc1VwZGF0ZT1mYWxzZTt0aGlzLnR5cGU9UENGU2hhZG93TWFwO3RoaXMucmVuZGVyPWZ1bmN0aW9uKGxpZ2h0cyxzY2VuZSxjYW1lcmEpe2lmKHNjb3BlLmVuYWJsZWQ9PT1mYWxzZSlyZXR1cm47aWYoc2NvcGUuYXV0b1VwZGF0ZT09PWZhbHNlJiZzY29wZS5uZWVkc1VwZGF0ZT09PWZhbHNlKXJldHVybjtpZihsaWdodHMubGVuZ3RoPT09MClyZXR1cm47dmFyIGN1cnJlbnRSZW5kZXJUYXJnZXQ9X3JlbmRlcmVyLmdldFJlbmRlclRhcmdldCgpO3ZhciBhY3RpdmVDdWJlRmFjZT1fcmVuZGVyZXIuZ2V0QWN0aXZlQ3ViZUZhY2UoKTt2YXIgYWN0aXZlTWlwbWFwTGV2ZWw9X3JlbmRlcmVyLmdldEFjdGl2ZU1pcG1hcExldmVsKCk7dmFyIF9zdGF0ZT1fcmVuZGVyZXIuc3RhdGU7Ly8gU2V0IEdMIHN0YXRlIGZvciBkZXB0aCBtYXAuCl9zdGF0ZS5zZXRCbGVuZGluZyhOb0JsZW5kaW5nKTtfc3RhdGUuYnVmZmVycy5jb2xvci5zZXRDbGVhcigxLDEsMSwxKTtfc3RhdGUuYnVmZmVycy5kZXB0aC5zZXRUZXN0KHRydWUpO19zdGF0ZS5zZXRTY2lzc29yVGVzdChmYWxzZSk7Ly8gcmVuZGVyIGRlcHRoIG1hcApmb3IodmFyIF9pMTIxPTAsaWw9bGlnaHRzLmxlbmd0aDtfaTEyMTxpbDtfaTEyMSsrKXt2YXIgbGlnaHQ9bGlnaHRzW19pMTIxXTt2YXIgc2hhZG93PWxpZ2h0LnNoYWRvdztpZihzaGFkb3c9PT11bmRlZmluZWQpe2NvbnNvbGUud2FybignVEhSRUUuV2ViR0xTaGFkb3dNYXA6JyxsaWdodCwnaGFzIG5vIHNoYWRvdy4nKTtjb250aW51ZTt9aWYoc2hhZG93LmF1dG9VcGRhdGU9PT1mYWxzZSYmc2hhZG93Lm5lZWRzVXBkYXRlPT09ZmFsc2UpY29udGludWU7X3NoYWRvd01hcFNpemUuY29weShzaGFkb3cubWFwU2l6ZSk7dmFyIHNoYWRvd0ZyYW1lRXh0ZW50cz1zaGFkb3cuZ2V0RnJhbWVFeHRlbnRzKCk7X3NoYWRvd01hcFNpemUubXVsdGlwbHkoc2hhZG93RnJhbWVFeHRlbnRzKTtfdmlld3BvcnRTaXplLmNvcHkoc2hhZG93Lm1hcFNpemUpO2lmKF9zaGFkb3dNYXBTaXplLng+X21heFRleHR1cmVTaXplfHxfc2hhZG93TWFwU2l6ZS55Pl9tYXhUZXh0dXJlU2l6ZSl7aWYoX3NoYWRvd01hcFNpemUueD5fbWF4VGV4dHVyZVNpemUpe192aWV3cG9ydFNpemUueD1NYXRoLmZsb29yKF9tYXhUZXh0dXJlU2l6ZS9zaGFkb3dGcmFtZUV4dGVudHMueCk7X3NoYWRvd01hcFNpemUueD1fdmlld3BvcnRTaXplLngqc2hhZG93RnJhbWVFeHRlbnRzLng7c2hhZG93Lm1hcFNpemUueD1fdmlld3BvcnRTaXplLng7fWlmKF9zaGFkb3dNYXBTaXplLnk+X21heFRleHR1cmVTaXplKXtfdmlld3BvcnRTaXplLnk9TWF0aC5mbG9vcihfbWF4VGV4dHVyZVNpemUvc2hhZG93RnJhbWVFeHRlbnRzLnkpO19zaGFkb3dNYXBTaXplLnk9X3ZpZXdwb3J0U2l6ZS55KnNoYWRvd0ZyYW1lRXh0ZW50cy55O3NoYWRvdy5tYXBTaXplLnk9X3ZpZXdwb3J0U2l6ZS55O319aWYoc2hhZG93Lm1hcD09PW51bGwmJiFzaGFkb3cuaXNQb2ludExpZ2h0U2hhZG93JiZ0aGlzLnR5cGU9PT1WU01TaGFkb3dNYXApe3ZhciBwYXJzPXttaW5GaWx0ZXI6TGluZWFyRmlsdGVyLG1hZ0ZpbHRlcjpMaW5lYXJGaWx0ZXIsZm9ybWF0OlJHQkFGb3JtYXR9O3NoYWRvdy5tYXA9bmV3IFdlYkdMUmVuZGVyVGFyZ2V0KF9zaGFkb3dNYXBTaXplLngsX3NoYWRvd01hcFNpemUueSxwYXJzKTtzaGFkb3cubWFwLnRleHR1cmUubmFtZT1saWdodC5uYW1lKycuc2hhZG93TWFwJztzaGFkb3cubWFwUGFzcz1uZXcgV2ViR0xSZW5kZXJUYXJnZXQoX3NoYWRvd01hcFNpemUueCxfc2hhZG93TWFwU2l6ZS55LHBhcnMpO3NoYWRvdy5jYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO31pZihzaGFkb3cubWFwPT09bnVsbCl7dmFyIF9wYXJzPXttaW5GaWx0ZXI6TmVhcmVzdEZpbHRlcixtYWdGaWx0ZXI6TmVhcmVzdEZpbHRlcixmb3JtYXQ6UkdCQUZvcm1hdH07c2hhZG93Lm1hcD1uZXcgV2ViR0xSZW5kZXJUYXJnZXQoX3NoYWRvd01hcFNpemUueCxfc2hhZG93TWFwU2l6ZS55LF9wYXJzKTtzaGFkb3cubWFwLnRleHR1cmUubmFtZT1saWdodC5uYW1lKycuc2hhZG93TWFwJztzaGFkb3cuY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTt9X3JlbmRlcmVyLnNldFJlbmRlclRhcmdldChzaGFkb3cubWFwKTtfcmVuZGVyZXIuY2xlYXIoKTt2YXIgdmlld3BvcnRDb3VudD1zaGFkb3cuZ2V0Vmlld3BvcnRDb3VudCgpO2Zvcih2YXIgdnA9MDt2cDx2aWV3cG9ydENvdW50O3ZwKyspe3ZhciB2aWV3cG9ydD1zaGFkb3cuZ2V0Vmlld3BvcnQodnApO192aWV3cG9ydC5zZXQoX3ZpZXdwb3J0U2l6ZS54KnZpZXdwb3J0LngsX3ZpZXdwb3J0U2l6ZS55KnZpZXdwb3J0LnksX3ZpZXdwb3J0U2l6ZS54KnZpZXdwb3J0LnosX3ZpZXdwb3J0U2l6ZS55KnZpZXdwb3J0LncpO19zdGF0ZS52aWV3cG9ydChfdmlld3BvcnQpO3NoYWRvdy51cGRhdGVNYXRyaWNlcyhsaWdodCx2cCk7X2ZydXN0dW09c2hhZG93LmdldEZydXN0dW0oKTtyZW5kZXJPYmplY3Qoc2NlbmUsY2FtZXJhLHNoYWRvdy5jYW1lcmEsbGlnaHQsdGhpcy50eXBlKTt9Ly8gZG8gYmx1ciBwYXNzIGZvciBWU00KaWYoIXNoYWRvdy5pc1BvaW50TGlnaHRTaGFkb3cmJnRoaXMudHlwZT09PVZTTVNoYWRvd01hcCl7VlNNUGFzcyhzaGFkb3csY2FtZXJhKTt9c2hhZG93Lm5lZWRzVXBkYXRlPWZhbHNlO31zY29wZS5uZWVkc1VwZGF0ZT1mYWxzZTtfcmVuZGVyZXIuc2V0UmVuZGVyVGFyZ2V0KGN1cnJlbnRSZW5kZXJUYXJnZXQsYWN0aXZlQ3ViZUZhY2UsYWN0aXZlTWlwbWFwTGV2ZWwpO307ZnVuY3Rpb24gVlNNUGFzcyhzaGFkb3csY2FtZXJhKXt2YXIgZ2VvbWV0cnk9X29iamVjdHMudXBkYXRlKGZ1bGxTY3JlZW5NZXNoKTtpZihzaGFkb3dNYXRlcmlhbFZlcnRpY2FsLmRlZmluZXMuVlNNX1NBTVBMRVMhPT1zaGFkb3cuYmx1clNhbXBsZXMpe3NoYWRvd01hdGVyaWFsVmVydGljYWwuZGVmaW5lcy5WU01fU0FNUExFUz1zaGFkb3cuYmx1clNhbXBsZXM7c2hhZG93TWF0ZXJpYWxIb3Jpem9udGFsLmRlZmluZXMuVlNNX1NBTVBMRVM9c2hhZG93LmJsdXJTYW1wbGVzO3NoYWRvd01hdGVyaWFsVmVydGljYWwubmVlZHNVcGRhdGU9dHJ1ZTtzaGFkb3dNYXRlcmlhbEhvcml6b250YWwubmVlZHNVcGRhdGU9dHJ1ZTt9Ly8gdmVydGljYWwgcGFzcwpzaGFkb3dNYXRlcmlhbFZlcnRpY2FsLnVuaWZvcm1zLnNoYWRvd19wYXNzLnZhbHVlPXNoYWRvdy5tYXAudGV4dHVyZTtzaGFkb3dNYXRlcmlhbFZlcnRpY2FsLnVuaWZvcm1zLnJlc29sdXRpb24udmFsdWU9c2hhZG93Lm1hcFNpemU7c2hhZG93TWF0ZXJpYWxWZXJ0aWNhbC51bmlmb3Jtcy5yYWRpdXMudmFsdWU9c2hhZG93LnJhZGl1cztfcmVuZGVyZXIuc2V0UmVuZGVyVGFyZ2V0KHNoYWRvdy5tYXBQYXNzKTtfcmVuZGVyZXIuY2xlYXIoKTtfcmVuZGVyZXIucmVuZGVyQnVmZmVyRGlyZWN0KGNhbWVyYSxudWxsLGdlb21ldHJ5LHNoYWRvd01hdGVyaWFsVmVydGljYWwsZnVsbFNjcmVlbk1lc2gsbnVsbCk7Ly8gaG9yaXpvbnRhbCBwYXNzCnNoYWRvd01hdGVyaWFsSG9yaXpvbnRhbC51bmlmb3Jtcy5zaGFkb3dfcGFzcy52YWx1ZT1zaGFkb3cubWFwUGFzcy50ZXh0dXJlO3NoYWRvd01hdGVyaWFsSG9yaXpvbnRhbC51bmlmb3Jtcy5yZXNvbHV0aW9uLnZhbHVlPXNoYWRvdy5tYXBTaXplO3NoYWRvd01hdGVyaWFsSG9yaXpvbnRhbC51bmlmb3Jtcy5yYWRpdXMudmFsdWU9c2hhZG93LnJhZGl1cztfcmVuZGVyZXIuc2V0UmVuZGVyVGFyZ2V0KHNoYWRvdy5tYXApO19yZW5kZXJlci5jbGVhcigpO19yZW5kZXJlci5yZW5kZXJCdWZmZXJEaXJlY3QoY2FtZXJhLG51bGwsZ2VvbWV0cnksc2hhZG93TWF0ZXJpYWxIb3Jpem9udGFsLGZ1bGxTY3JlZW5NZXNoLG51bGwpO31mdW5jdGlvbiBnZXREZXB0aE1hdGVyaWFsKG9iamVjdCxnZW9tZXRyeSxtYXRlcmlhbCxsaWdodCxzaGFkb3dDYW1lcmFOZWFyLHNoYWRvd0NhbWVyYUZhcix0eXBlKXt2YXIgcmVzdWx0PW51bGw7dmFyIGN1c3RvbU1hdGVyaWFsPWxpZ2h0LmlzUG9pbnRMaWdodD09PXRydWU/b2JqZWN0LmN1c3RvbURpc3RhbmNlTWF0ZXJpYWw6b2JqZWN0LmN1c3RvbURlcHRoTWF0ZXJpYWw7aWYoY3VzdG9tTWF0ZXJpYWwhPT11bmRlZmluZWQpe3Jlc3VsdD1jdXN0b21NYXRlcmlhbDt9ZWxzZXtyZXN1bHQ9bGlnaHQuaXNQb2ludExpZ2h0PT09dHJ1ZT9fZGlzdGFuY2VNYXRlcmlhbDpfZGVwdGhNYXRlcmlhbDt9aWYoX3JlbmRlcmVyLmxvY2FsQ2xpcHBpbmdFbmFibGVkJiZtYXRlcmlhbC5jbGlwU2hhZG93cz09PXRydWUmJm1hdGVyaWFsLmNsaXBwaW5nUGxhbmVzLmxlbmd0aCE9PTB8fG1hdGVyaWFsLmRpc3BsYWNlbWVudE1hcCYmbWF0ZXJpYWwuZGlzcGxhY2VtZW50U2NhbGUhPT0wfHxtYXRlcmlhbC5hbHBoYU1hcCYmbWF0ZXJpYWwuYWxwaGFUZXN0PjApey8vIGluIHRoaXMgY2FzZSB3ZSBuZWVkIGEgdW5pcXVlIG1hdGVyaWFsIGluc3RhbmNlIHJlZmxlY3RpbmcgdGhlCi8vIGFwcHJvcHJpYXRlIHN0YXRlCnZhciBrZXlBPXJlc3VsdC51dWlkLGtleUI9bWF0ZXJpYWwudXVpZDt2YXIgbWF0ZXJpYWxzRm9yVmFyaWFudD1fbWF0ZXJpYWxDYWNoZVtrZXlBXTtpZihtYXRlcmlhbHNGb3JWYXJpYW50PT09dW5kZWZpbmVkKXttYXRlcmlhbHNGb3JWYXJpYW50PXt9O19tYXRlcmlhbENhY2hlW2tleUFdPW1hdGVyaWFsc0ZvclZhcmlhbnQ7fXZhciBjYWNoZWRNYXRlcmlhbD1tYXRlcmlhbHNGb3JWYXJpYW50W2tleUJdO2lmKGNhY2hlZE1hdGVyaWFsPT09dW5kZWZpbmVkKXtjYWNoZWRNYXRlcmlhbD1yZXN1bHQuY2xvbmUoKTttYXRlcmlhbHNGb3JWYXJpYW50W2tleUJdPWNhY2hlZE1hdGVyaWFsO31yZXN1bHQ9Y2FjaGVkTWF0ZXJpYWw7fXJlc3VsdC52aXNpYmxlPW1hdGVyaWFsLnZpc2libGU7cmVzdWx0LndpcmVmcmFtZT1tYXRlcmlhbC53aXJlZnJhbWU7aWYodHlwZT09PVZTTVNoYWRvd01hcCl7cmVzdWx0LnNpZGU9bWF0ZXJpYWwuc2hhZG93U2lkZSE9PW51bGw/bWF0ZXJpYWwuc2hhZG93U2lkZTptYXRlcmlhbC5zaWRlO31lbHNle3Jlc3VsdC5zaWRlPW1hdGVyaWFsLnNoYWRvd1NpZGUhPT1udWxsP21hdGVyaWFsLnNoYWRvd1NpZGU6c2hhZG93U2lkZVttYXRlcmlhbC5zaWRlXTt9cmVzdWx0LmFscGhhTWFwPW1hdGVyaWFsLmFscGhhTWFwO3Jlc3VsdC5hbHBoYVRlc3Q9bWF0ZXJpYWwuYWxwaGFUZXN0O3Jlc3VsdC5jbGlwU2hhZG93cz1tYXRlcmlhbC5jbGlwU2hhZG93cztyZXN1bHQuY2xpcHBpbmdQbGFuZXM9bWF0ZXJpYWwuY2xpcHBpbmdQbGFuZXM7cmVzdWx0LmNsaXBJbnRlcnNlY3Rpb249bWF0ZXJpYWwuY2xpcEludGVyc2VjdGlvbjtyZXN1bHQuZGlzcGxhY2VtZW50TWFwPW1hdGVyaWFsLmRpc3BsYWNlbWVudE1hcDtyZXN1bHQuZGlzcGxhY2VtZW50U2NhbGU9bWF0ZXJpYWwuZGlzcGxhY2VtZW50U2NhbGU7cmVzdWx0LmRpc3BsYWNlbWVudEJpYXM9bWF0ZXJpYWwuZGlzcGxhY2VtZW50QmlhcztyZXN1bHQud2lyZWZyYW1lTGluZXdpZHRoPW1hdGVyaWFsLndpcmVmcmFtZUxpbmV3aWR0aDtyZXN1bHQubGluZXdpZHRoPW1hdGVyaWFsLmxpbmV3aWR0aDtpZihsaWdodC5pc1BvaW50TGlnaHQ9PT10cnVlJiZyZXN1bHQuaXNNZXNoRGlzdGFuY2VNYXRlcmlhbD09PXRydWUpe3Jlc3VsdC5yZWZlcmVuY2VQb3NpdGlvbi5zZXRGcm9tTWF0cml4UG9zaXRpb24obGlnaHQubWF0cml4V29ybGQpO3Jlc3VsdC5uZWFyRGlzdGFuY2U9c2hhZG93Q2FtZXJhTmVhcjtyZXN1bHQuZmFyRGlzdGFuY2U9c2hhZG93Q2FtZXJhRmFyO31yZXR1cm4gcmVzdWx0O31mdW5jdGlvbiByZW5kZXJPYmplY3Qob2JqZWN0LGNhbWVyYSxzaGFkb3dDYW1lcmEsbGlnaHQsdHlwZSl7aWYob2JqZWN0LnZpc2libGU9PT1mYWxzZSlyZXR1cm47dmFyIHZpc2libGU9b2JqZWN0LmxheWVycy50ZXN0KGNhbWVyYS5sYXllcnMpO2lmKHZpc2libGUmJihvYmplY3QuaXNNZXNofHxvYmplY3QuaXNMaW5lfHxvYmplY3QuaXNQb2ludHMpKXtpZigob2JqZWN0LmNhc3RTaGFkb3d8fG9iamVjdC5yZWNlaXZlU2hhZG93JiZ0eXBlPT09VlNNU2hhZG93TWFwKSYmKCFvYmplY3QuZnJ1c3R1bUN1bGxlZHx8X2ZydXN0dW0uaW50ZXJzZWN0c09iamVjdChvYmplY3QpKSl7b2JqZWN0Lm1vZGVsVmlld01hdHJpeC5tdWx0aXBseU1hdHJpY2VzKHNoYWRvd0NhbWVyYS5tYXRyaXhXb3JsZEludmVyc2Usb2JqZWN0Lm1hdHJpeFdvcmxkKTt2YXIgZ2VvbWV0cnk9X29iamVjdHMudXBkYXRlKG9iamVjdCk7dmFyIG1hdGVyaWFsPW9iamVjdC5tYXRlcmlhbDtpZihBcnJheS5pc0FycmF5KG1hdGVyaWFsKSl7dmFyIGdyb3Vwcz1nZW9tZXRyeS5ncm91cHM7Zm9yKHZhciBrPTAsa2w9Z3JvdXBzLmxlbmd0aDtrPGtsO2srKyl7dmFyIGdyb3VwPWdyb3Vwc1trXTt2YXIgZ3JvdXBNYXRlcmlhbD1tYXRlcmlhbFtncm91cC5tYXRlcmlhbEluZGV4XTtpZihncm91cE1hdGVyaWFsJiZncm91cE1hdGVyaWFsLnZpc2libGUpe3ZhciBkZXB0aE1hdGVyaWFsPWdldERlcHRoTWF0ZXJpYWwob2JqZWN0LGdlb21ldHJ5LGdyb3VwTWF0ZXJpYWwsbGlnaHQsc2hhZG93Q2FtZXJhLm5lYXIsc2hhZG93Q2FtZXJhLmZhcix0eXBlKTtfcmVuZGVyZXIucmVuZGVyQnVmZmVyRGlyZWN0KHNoYWRvd0NhbWVyYSxudWxsLGdlb21ldHJ5LGRlcHRoTWF0ZXJpYWwsb2JqZWN0LGdyb3VwKTt9fX1lbHNlIGlmKG1hdGVyaWFsLnZpc2libGUpe3ZhciBfZGVwdGhNYXRlcmlhbDI9Z2V0RGVwdGhNYXRlcmlhbChvYmplY3QsZ2VvbWV0cnksbWF0ZXJpYWwsbGlnaHQsc2hhZG93Q2FtZXJhLm5lYXIsc2hhZG93Q2FtZXJhLmZhcix0eXBlKTtfcmVuZGVyZXIucmVuZGVyQnVmZmVyRGlyZWN0KHNoYWRvd0NhbWVyYSxudWxsLGdlb21ldHJ5LF9kZXB0aE1hdGVyaWFsMixvYmplY3QsbnVsbCk7fX19dmFyIGNoaWxkcmVuPW9iamVjdC5jaGlsZHJlbjtmb3IodmFyIF9pMTIyPTAsbD1jaGlsZHJlbi5sZW5ndGg7X2kxMjI8bDtfaTEyMisrKXtyZW5kZXJPYmplY3QoY2hpbGRyZW5bX2kxMjJdLGNhbWVyYSxzaGFkb3dDYW1lcmEsbGlnaHQsdHlwZSk7fX19ZnVuY3Rpb24gV2ViR0xTdGF0ZShnbCxleHRlbnNpb25zLGNhcGFiaWxpdGllcyl7dmFyIF9lcXVhdGlvblRvR0wsX2ZhY3RvclRvR0w7dmFyIGlzV2ViR0wyPWNhcGFiaWxpdGllcy5pc1dlYkdMMjtmdW5jdGlvbiBDb2xvckJ1ZmZlcigpe3ZhciBsb2NrZWQ9ZmFsc2U7dmFyIGNvbG9yPW5ldyBWZWN0b3I0KCk7dmFyIGN1cnJlbnRDb2xvck1hc2s9bnVsbDt2YXIgY3VycmVudENvbG9yQ2xlYXI9bmV3IFZlY3RvcjQoMCwwLDAsMCk7cmV0dXJue3NldE1hc2s6ZnVuY3Rpb24gc2V0TWFzayhjb2xvck1hc2spe2lmKGN1cnJlbnRDb2xvck1hc2shPT1jb2xvck1hc2smJiFsb2NrZWQpe2dsLmNvbG9yTWFzayhjb2xvck1hc2ssY29sb3JNYXNrLGNvbG9yTWFzayxjb2xvck1hc2spO2N1cnJlbnRDb2xvck1hc2s9Y29sb3JNYXNrO319LHNldExvY2tlZDpmdW5jdGlvbiBzZXRMb2NrZWQobG9jayl7bG9ja2VkPWxvY2s7fSxzZXRDbGVhcjpmdW5jdGlvbiBzZXRDbGVhcihyLGcsYixhLHByZW11bHRpcGxpZWRBbHBoYSl7aWYocHJlbXVsdGlwbGllZEFscGhhPT09dHJ1ZSl7cio9YTtnKj1hO2IqPWE7fWNvbG9yLnNldChyLGcsYixhKTtpZihjdXJyZW50Q29sb3JDbGVhci5lcXVhbHMoY29sb3IpPT09ZmFsc2Upe2dsLmNsZWFyQ29sb3IocixnLGIsYSk7Y3VycmVudENvbG9yQ2xlYXIuY29weShjb2xvcik7fX0scmVzZXQ6ZnVuY3Rpb24gcmVzZXQoKXtsb2NrZWQ9ZmFsc2U7Y3VycmVudENvbG9yTWFzaz1udWxsO2N1cnJlbnRDb2xvckNsZWFyLnNldCgtMSwwLDAsMCk7Ly8gc2V0IHRvIGludmFsaWQgc3RhdGUKfX07fWZ1bmN0aW9uIERlcHRoQnVmZmVyKCl7dmFyIGxvY2tlZD1mYWxzZTt2YXIgY3VycmVudERlcHRoTWFzaz1udWxsO3ZhciBjdXJyZW50RGVwdGhGdW5jPW51bGw7dmFyIGN1cnJlbnREZXB0aENsZWFyPW51bGw7cmV0dXJue3NldFRlc3Q6ZnVuY3Rpb24gc2V0VGVzdChkZXB0aFRlc3Qpe2lmKGRlcHRoVGVzdCl7ZW5hYmxlKDI5MjkpO31lbHNle2Rpc2FibGUoMjkyOSk7fX0sc2V0TWFzazpmdW5jdGlvbiBzZXRNYXNrKGRlcHRoTWFzayl7aWYoY3VycmVudERlcHRoTWFzayE9PWRlcHRoTWFzayYmIWxvY2tlZCl7Z2wuZGVwdGhNYXNrKGRlcHRoTWFzayk7Y3VycmVudERlcHRoTWFzaz1kZXB0aE1hc2s7fX0sc2V0RnVuYzpmdW5jdGlvbiBzZXRGdW5jKGRlcHRoRnVuYyl7aWYoY3VycmVudERlcHRoRnVuYyE9PWRlcHRoRnVuYyl7aWYoZGVwdGhGdW5jKXtzd2l0Y2goZGVwdGhGdW5jKXtjYXNlIE5ldmVyRGVwdGg6Z2wuZGVwdGhGdW5jKDUxMik7YnJlYWs7Y2FzZSBBbHdheXNEZXB0aDpnbC5kZXB0aEZ1bmMoNTE5KTticmVhaztjYXNlIExlc3NEZXB0aDpnbC5kZXB0aEZ1bmMoNTEzKTticmVhaztjYXNlIExlc3NFcXVhbERlcHRoOmdsLmRlcHRoRnVuYyg1MTUpO2JyZWFrO2Nhc2UgRXF1YWxEZXB0aDpnbC5kZXB0aEZ1bmMoNTE0KTticmVhaztjYXNlIEdyZWF0ZXJFcXVhbERlcHRoOmdsLmRlcHRoRnVuYyg1MTgpO2JyZWFrO2Nhc2UgR3JlYXRlckRlcHRoOmdsLmRlcHRoRnVuYyg1MTYpO2JyZWFrO2Nhc2UgTm90RXF1YWxEZXB0aDpnbC5kZXB0aEZ1bmMoNTE3KTticmVhaztkZWZhdWx0OmdsLmRlcHRoRnVuYyg1MTUpO319ZWxzZXtnbC5kZXB0aEZ1bmMoNTE1KTt9Y3VycmVudERlcHRoRnVuYz1kZXB0aEZ1bmM7fX0sc2V0TG9ja2VkOmZ1bmN0aW9uIHNldExvY2tlZChsb2NrKXtsb2NrZWQ9bG9jazt9LHNldENsZWFyOmZ1bmN0aW9uIHNldENsZWFyKGRlcHRoKXtpZihjdXJyZW50RGVwdGhDbGVhciE9PWRlcHRoKXtnbC5jbGVhckRlcHRoKGRlcHRoKTtjdXJyZW50RGVwdGhDbGVhcj1kZXB0aDt9fSxyZXNldDpmdW5jdGlvbiByZXNldCgpe2xvY2tlZD1mYWxzZTtjdXJyZW50RGVwdGhNYXNrPW51bGw7Y3VycmVudERlcHRoRnVuYz1udWxsO2N1cnJlbnREZXB0aENsZWFyPW51bGw7fX07fWZ1bmN0aW9uIFN0ZW5jaWxCdWZmZXIoKXt2YXIgbG9ja2VkPWZhbHNlO3ZhciBjdXJyZW50U3RlbmNpbE1hc2s9bnVsbDt2YXIgY3VycmVudFN0ZW5jaWxGdW5jPW51bGw7dmFyIGN1cnJlbnRTdGVuY2lsUmVmPW51bGw7dmFyIGN1cnJlbnRTdGVuY2lsRnVuY01hc2s9bnVsbDt2YXIgY3VycmVudFN0ZW5jaWxGYWlsPW51bGw7dmFyIGN1cnJlbnRTdGVuY2lsWkZhaWw9bnVsbDt2YXIgY3VycmVudFN0ZW5jaWxaUGFzcz1udWxsO3ZhciBjdXJyZW50U3RlbmNpbENsZWFyPW51bGw7cmV0dXJue3NldFRlc3Q6ZnVuY3Rpb24gc2V0VGVzdChzdGVuY2lsVGVzdCl7aWYoIWxvY2tlZCl7aWYoc3RlbmNpbFRlc3Qpe2VuYWJsZSgyOTYwKTt9ZWxzZXtkaXNhYmxlKDI5NjApO319fSxzZXRNYXNrOmZ1bmN0aW9uIHNldE1hc2soc3RlbmNpbE1hc2spe2lmKGN1cnJlbnRTdGVuY2lsTWFzayE9PXN0ZW5jaWxNYXNrJiYhbG9ja2VkKXtnbC5zdGVuY2lsTWFzayhzdGVuY2lsTWFzayk7Y3VycmVudFN0ZW5jaWxNYXNrPXN0ZW5jaWxNYXNrO319LHNldEZ1bmM6ZnVuY3Rpb24gc2V0RnVuYyhzdGVuY2lsRnVuYyxzdGVuY2lsUmVmLHN0ZW5jaWxNYXNrKXtpZihjdXJyZW50U3RlbmNpbEZ1bmMhPT1zdGVuY2lsRnVuY3x8Y3VycmVudFN0ZW5jaWxSZWYhPT1zdGVuY2lsUmVmfHxjdXJyZW50U3RlbmNpbEZ1bmNNYXNrIT09c3RlbmNpbE1hc2spe2dsLnN0ZW5jaWxGdW5jKHN0ZW5jaWxGdW5jLHN0ZW5jaWxSZWYsc3RlbmNpbE1hc2spO2N1cnJlbnRTdGVuY2lsRnVuYz1zdGVuY2lsRnVuYztjdXJyZW50U3RlbmNpbFJlZj1zdGVuY2lsUmVmO2N1cnJlbnRTdGVuY2lsRnVuY01hc2s9c3RlbmNpbE1hc2s7fX0sc2V0T3A6ZnVuY3Rpb24gc2V0T3Aoc3RlbmNpbEZhaWwsc3RlbmNpbFpGYWlsLHN0ZW5jaWxaUGFzcyl7aWYoY3VycmVudFN0ZW5jaWxGYWlsIT09c3RlbmNpbEZhaWx8fGN1cnJlbnRTdGVuY2lsWkZhaWwhPT1zdGVuY2lsWkZhaWx8fGN1cnJlbnRTdGVuY2lsWlBhc3MhPT1zdGVuY2lsWlBhc3Mpe2dsLnN0ZW5jaWxPcChzdGVuY2lsRmFpbCxzdGVuY2lsWkZhaWwsc3RlbmNpbFpQYXNzKTtjdXJyZW50U3RlbmNpbEZhaWw9c3RlbmNpbEZhaWw7Y3VycmVudFN0ZW5jaWxaRmFpbD1zdGVuY2lsWkZhaWw7Y3VycmVudFN0ZW5jaWxaUGFzcz1zdGVuY2lsWlBhc3M7fX0sc2V0TG9ja2VkOmZ1bmN0aW9uIHNldExvY2tlZChsb2NrKXtsb2NrZWQ9bG9jazt9LHNldENsZWFyOmZ1bmN0aW9uIHNldENsZWFyKHN0ZW5jaWwpe2lmKGN1cnJlbnRTdGVuY2lsQ2xlYXIhPT1zdGVuY2lsKXtnbC5jbGVhclN0ZW5jaWwoc3RlbmNpbCk7Y3VycmVudFN0ZW5jaWxDbGVhcj1zdGVuY2lsO319LHJlc2V0OmZ1bmN0aW9uIHJlc2V0KCl7bG9ja2VkPWZhbHNlO2N1cnJlbnRTdGVuY2lsTWFzaz1udWxsO2N1cnJlbnRTdGVuY2lsRnVuYz1udWxsO2N1cnJlbnRTdGVuY2lsUmVmPW51bGw7Y3VycmVudFN0ZW5jaWxGdW5jTWFzaz1udWxsO2N1cnJlbnRTdGVuY2lsRmFpbD1udWxsO2N1cnJlbnRTdGVuY2lsWkZhaWw9bnVsbDtjdXJyZW50U3RlbmNpbFpQYXNzPW51bGw7Y3VycmVudFN0ZW5jaWxDbGVhcj1udWxsO319O30vLwp2YXIgY29sb3JCdWZmZXI9bmV3IENvbG9yQnVmZmVyKCk7dmFyIGRlcHRoQnVmZmVyPW5ldyBEZXB0aEJ1ZmZlcigpO3ZhciBzdGVuY2lsQnVmZmVyPW5ldyBTdGVuY2lsQnVmZmVyKCk7dmFyIGVuYWJsZWRDYXBhYmlsaXRpZXM9e307dmFyIGN1cnJlbnRCb3VuZEZyYW1lYnVmZmVycz17fTt2YXIgY3VycmVudERyYXdidWZmZXJzPW5ldyBXZWFrTWFwKCk7dmFyIGRlZmF1bHREcmF3YnVmZmVycz1bXTt2YXIgY3VycmVudFByb2dyYW09bnVsbDt2YXIgY3VycmVudEJsZW5kaW5nRW5hYmxlZD1mYWxzZTt2YXIgY3VycmVudEJsZW5kaW5nPW51bGw7dmFyIGN1cnJlbnRCbGVuZEVxdWF0aW9uPW51bGw7dmFyIGN1cnJlbnRCbGVuZFNyYz1udWxsO3ZhciBjdXJyZW50QmxlbmREc3Q9bnVsbDt2YXIgY3VycmVudEJsZW5kRXF1YXRpb25BbHBoYT1udWxsO3ZhciBjdXJyZW50QmxlbmRTcmNBbHBoYT1udWxsO3ZhciBjdXJyZW50QmxlbmREc3RBbHBoYT1udWxsO3ZhciBjdXJyZW50UHJlbXVsdGlwbGVkQWxwaGE9ZmFsc2U7dmFyIGN1cnJlbnRGbGlwU2lkZWQ9bnVsbDt2YXIgY3VycmVudEN1bGxGYWNlPW51bGw7dmFyIGN1cnJlbnRMaW5lV2lkdGg9bnVsbDt2YXIgY3VycmVudFBvbHlnb25PZmZzZXRGYWN0b3I9bnVsbDt2YXIgY3VycmVudFBvbHlnb25PZmZzZXRVbml0cz1udWxsO3ZhciBtYXhUZXh0dXJlcz1nbC5nZXRQYXJhbWV0ZXIoMzU2NjEpO3ZhciBsaW5lV2lkdGhBdmFpbGFibGU9ZmFsc2U7dmFyIHZlcnNpb249MDt2YXIgZ2xWZXJzaW9uPWdsLmdldFBhcmFtZXRlcig3OTM4KTtpZihnbFZlcnNpb24uaW5kZXhPZignV2ViR0wnKSE9PS0xKXt2ZXJzaW9uPXBhcnNlRmxvYXQoL15XZWJHTCAoXGQpLy5leGVjKGdsVmVyc2lvbilbMV0pO2xpbmVXaWR0aEF2YWlsYWJsZT12ZXJzaW9uPj0xLjA7fWVsc2UgaWYoZ2xWZXJzaW9uLmluZGV4T2YoJ09wZW5HTCBFUycpIT09LTEpe3ZlcnNpb249cGFyc2VGbG9hdCgvXk9wZW5HTCBFUyAoXGQpLy5leGVjKGdsVmVyc2lvbilbMV0pO2xpbmVXaWR0aEF2YWlsYWJsZT12ZXJzaW9uPj0yLjA7fXZhciBjdXJyZW50VGV4dHVyZVNsb3Q9bnVsbDt2YXIgY3VycmVudEJvdW5kVGV4dHVyZXM9e307dmFyIHNjaXNzb3JQYXJhbT1nbC5nZXRQYXJhbWV0ZXIoMzA4OCk7dmFyIHZpZXdwb3J0UGFyYW09Z2wuZ2V0UGFyYW1ldGVyKDI5NzgpO3ZhciBjdXJyZW50U2Npc3Nvcj1uZXcgVmVjdG9yNCgpLmZyb21BcnJheShzY2lzc29yUGFyYW0pO3ZhciBjdXJyZW50Vmlld3BvcnQ9bmV3IFZlY3RvcjQoKS5mcm9tQXJyYXkodmlld3BvcnRQYXJhbSk7ZnVuY3Rpb24gY3JlYXRlVGV4dHVyZSh0eXBlLHRhcmdldCxjb3VudCl7dmFyIGRhdGE9bmV3IFVpbnQ4QXJyYXkoNCk7Ly8gNCBpcyByZXF1aXJlZCB0byBtYXRjaCBkZWZhdWx0IHVucGFjayBhbGlnbm1lbnQgb2YgNC4KdmFyIHRleHR1cmU9Z2wuY3JlYXRlVGV4dHVyZSgpO2dsLmJpbmRUZXh0dXJlKHR5cGUsdGV4dHVyZSk7Z2wudGV4UGFyYW1ldGVyaSh0eXBlLDEwMjQxLDk3MjgpO2dsLnRleFBhcmFtZXRlcmkodHlwZSwxMDI0MCw5NzI4KTtmb3IodmFyIF9pMTIzPTA7X2kxMjM8Y291bnQ7X2kxMjMrKyl7Z2wudGV4SW1hZ2UyRCh0YXJnZXQrX2kxMjMsMCw2NDA4LDEsMSwwLDY0MDgsNTEyMSxkYXRhKTt9cmV0dXJuIHRleHR1cmU7fXZhciBlbXB0eVRleHR1cmVzPXt9O2VtcHR5VGV4dHVyZXNbMzU1M109Y3JlYXRlVGV4dHVyZSgzNTUzLDM1NTMsMSk7ZW1wdHlUZXh0dXJlc1szNDA2N109Y3JlYXRlVGV4dHVyZSgzNDA2NywzNDA2OSw2KTsvLyBpbml0CmNvbG9yQnVmZmVyLnNldENsZWFyKDAsMCwwLDEpO2RlcHRoQnVmZmVyLnNldENsZWFyKDEpO3N0ZW5jaWxCdWZmZXIuc2V0Q2xlYXIoMCk7ZW5hYmxlKDI5MjkpO2RlcHRoQnVmZmVyLnNldEZ1bmMoTGVzc0VxdWFsRGVwdGgpO3NldEZsaXBTaWRlZChmYWxzZSk7c2V0Q3VsbEZhY2UoQ3VsbEZhY2VCYWNrKTtlbmFibGUoMjg4NCk7c2V0QmxlbmRpbmcoTm9CbGVuZGluZyk7Ly8KZnVuY3Rpb24gZW5hYmxlKGlkKXtpZihlbmFibGVkQ2FwYWJpbGl0aWVzW2lkXSE9PXRydWUpe2dsLmVuYWJsZShpZCk7ZW5hYmxlZENhcGFiaWxpdGllc1tpZF09dHJ1ZTt9fWZ1bmN0aW9uIGRpc2FibGUoaWQpe2lmKGVuYWJsZWRDYXBhYmlsaXRpZXNbaWRdIT09ZmFsc2Upe2dsLmRpc2FibGUoaWQpO2VuYWJsZWRDYXBhYmlsaXRpZXNbaWRdPWZhbHNlO319ZnVuY3Rpb24gYmluZEZyYW1lYnVmZmVyKHRhcmdldCxmcmFtZWJ1ZmZlcil7aWYoY3VycmVudEJvdW5kRnJhbWVidWZmZXJzW3RhcmdldF0hPT1mcmFtZWJ1ZmZlcil7Z2wuYmluZEZyYW1lYnVmZmVyKHRhcmdldCxmcmFtZWJ1ZmZlcik7Y3VycmVudEJvdW5kRnJhbWVidWZmZXJzW3RhcmdldF09ZnJhbWVidWZmZXI7aWYoaXNXZWJHTDIpey8vIDM2MDA5IGlzIGVxdWl2YWxlbnQgdG8gMzYxNjAKaWYodGFyZ2V0PT09MzYwMDkpe2N1cnJlbnRCb3VuZEZyYW1lYnVmZmVyc1szNjE2MF09ZnJhbWVidWZmZXI7fWlmKHRhcmdldD09PTM2MTYwKXtjdXJyZW50Qm91bmRGcmFtZWJ1ZmZlcnNbMzYwMDldPWZyYW1lYnVmZmVyO319cmV0dXJuIHRydWU7fXJldHVybiBmYWxzZTt9ZnVuY3Rpb24gZHJhd0J1ZmZlcnMocmVuZGVyVGFyZ2V0LGZyYW1lYnVmZmVyKXt2YXIgZHJhd0J1ZmZlcnM9ZGVmYXVsdERyYXdidWZmZXJzO3ZhciBuZWVkc1VwZGF0ZT1mYWxzZTtpZihyZW5kZXJUYXJnZXQpe2RyYXdCdWZmZXJzPWN1cnJlbnREcmF3YnVmZmVycy5nZXQoZnJhbWVidWZmZXIpO2lmKGRyYXdCdWZmZXJzPT09dW5kZWZpbmVkKXtkcmF3QnVmZmVycz1bXTtjdXJyZW50RHJhd2J1ZmZlcnMuc2V0KGZyYW1lYnVmZmVyLGRyYXdCdWZmZXJzKTt9aWYocmVuZGVyVGFyZ2V0LmlzV2ViR0xNdWx0aXBsZVJlbmRlclRhcmdldHMpe3ZhciB0ZXh0dXJlcz1yZW5kZXJUYXJnZXQudGV4dHVyZTtpZihkcmF3QnVmZmVycy5sZW5ndGghPT10ZXh0dXJlcy5sZW5ndGh8fGRyYXdCdWZmZXJzWzBdIT09MzYwNjQpe2Zvcih2YXIgX2kxMjQ9MCxpbD10ZXh0dXJlcy5sZW5ndGg7X2kxMjQ8aWw7X2kxMjQrKyl7ZHJhd0J1ZmZlcnNbX2kxMjRdPTM2MDY0K19pMTI0O31kcmF3QnVmZmVycy5sZW5ndGg9dGV4dHVyZXMubGVuZ3RoO25lZWRzVXBkYXRlPXRydWU7fX1lbHNle2lmKGRyYXdCdWZmZXJzWzBdIT09MzYwNjQpe2RyYXdCdWZmZXJzWzBdPTM2MDY0O25lZWRzVXBkYXRlPXRydWU7fX19ZWxzZXtpZihkcmF3QnVmZmVyc1swXSE9PTEwMjkpe2RyYXdCdWZmZXJzWzBdPTEwMjk7bmVlZHNVcGRhdGU9dHJ1ZTt9fWlmKG5lZWRzVXBkYXRlKXtpZihjYXBhYmlsaXRpZXMuaXNXZWJHTDIpe2dsLmRyYXdCdWZmZXJzKGRyYXdCdWZmZXJzKTt9ZWxzZXtleHRlbnNpb25zLmdldCgnV0VCR0xfZHJhd19idWZmZXJzJykuZHJhd0J1ZmZlcnNXRUJHTChkcmF3QnVmZmVycyk7fX19ZnVuY3Rpb24gdXNlUHJvZ3JhbShwcm9ncmFtKXtpZihjdXJyZW50UHJvZ3JhbSE9PXByb2dyYW0pe2dsLnVzZVByb2dyYW0ocHJvZ3JhbSk7Y3VycmVudFByb2dyYW09cHJvZ3JhbTtyZXR1cm4gdHJ1ZTt9cmV0dXJuIGZhbHNlO312YXIgZXF1YXRpb25Ub0dMPShfZXF1YXRpb25Ub0dMPXt9LF9kZWZpbmVQcm9wZXJ0eShfZXF1YXRpb25Ub0dMLEFkZEVxdWF0aW9uLDMyNzc0KSxfZGVmaW5lUHJvcGVydHkoX2VxdWF0aW9uVG9HTCxTdWJ0cmFjdEVxdWF0aW9uLDMyNzc4KSxfZGVmaW5lUHJvcGVydHkoX2VxdWF0aW9uVG9HTCxSZXZlcnNlU3VidHJhY3RFcXVhdGlvbiwzMjc3OSksX2VxdWF0aW9uVG9HTCk7aWYoaXNXZWJHTDIpe2VxdWF0aW9uVG9HTFtNaW5FcXVhdGlvbl09MzI3NzU7ZXF1YXRpb25Ub0dMW01heEVxdWF0aW9uXT0zMjc3Njt9ZWxzZXt2YXIgZXh0ZW5zaW9uPWV4dGVuc2lvbnMuZ2V0KCdFWFRfYmxlbmRfbWlubWF4Jyk7aWYoZXh0ZW5zaW9uIT09bnVsbCl7ZXF1YXRpb25Ub0dMW01pbkVxdWF0aW9uXT1leHRlbnNpb24uTUlOX0VYVDtlcXVhdGlvblRvR0xbTWF4RXF1YXRpb25dPWV4dGVuc2lvbi5NQVhfRVhUO319dmFyIGZhY3RvclRvR0w9KF9mYWN0b3JUb0dMPXt9LF9kZWZpbmVQcm9wZXJ0eShfZmFjdG9yVG9HTCxaZXJvRmFjdG9yLDApLF9kZWZpbmVQcm9wZXJ0eShfZmFjdG9yVG9HTCxPbmVGYWN0b3IsMSksX2RlZmluZVByb3BlcnR5KF9mYWN0b3JUb0dMLFNyY0NvbG9yRmFjdG9yLDc2OCksX2RlZmluZVByb3BlcnR5KF9mYWN0b3JUb0dMLFNyY0FscGhhRmFjdG9yLDc3MCksX2RlZmluZVByb3BlcnR5KF9mYWN0b3JUb0dMLFNyY0FscGhhU2F0dXJhdGVGYWN0b3IsNzc2KSxfZGVmaW5lUHJvcGVydHkoX2ZhY3RvclRvR0wsRHN0Q29sb3JGYWN0b3IsNzc0KSxfZGVmaW5lUHJvcGVydHkoX2ZhY3RvclRvR0wsRHN0QWxwaGFGYWN0b3IsNzcyKSxfZGVmaW5lUHJvcGVydHkoX2ZhY3RvclRvR0wsT25lTWludXNTcmNDb2xvckZhY3Rvciw3NjkpLF9kZWZpbmVQcm9wZXJ0eShfZmFjdG9yVG9HTCxPbmVNaW51c1NyY0FscGhhRmFjdG9yLDc3MSksX2RlZmluZVByb3BlcnR5KF9mYWN0b3JUb0dMLE9uZU1pbnVzRHN0Q29sb3JGYWN0b3IsNzc1KSxfZGVmaW5lUHJvcGVydHkoX2ZhY3RvclRvR0wsT25lTWludXNEc3RBbHBoYUZhY3Rvciw3NzMpLF9mYWN0b3JUb0dMKTtmdW5jdGlvbiBzZXRCbGVuZGluZyhibGVuZGluZyxibGVuZEVxdWF0aW9uLGJsZW5kU3JjLGJsZW5kRHN0LGJsZW5kRXF1YXRpb25BbHBoYSxibGVuZFNyY0FscGhhLGJsZW5kRHN0QWxwaGEscHJlbXVsdGlwbGllZEFscGhhKXtpZihibGVuZGluZz09PU5vQmxlbmRpbmcpe2lmKGN1cnJlbnRCbGVuZGluZ0VuYWJsZWQ9PT10cnVlKXtkaXNhYmxlKDMwNDIpO2N1cnJlbnRCbGVuZGluZ0VuYWJsZWQ9ZmFsc2U7fXJldHVybjt9aWYoY3VycmVudEJsZW5kaW5nRW5hYmxlZD09PWZhbHNlKXtlbmFibGUoMzA0Mik7Y3VycmVudEJsZW5kaW5nRW5hYmxlZD10cnVlO31pZihibGVuZGluZyE9PUN1c3RvbUJsZW5kaW5nKXtpZihibGVuZGluZyE9PWN1cnJlbnRCbGVuZGluZ3x8cHJlbXVsdGlwbGllZEFscGhhIT09Y3VycmVudFByZW11bHRpcGxlZEFscGhhKXtpZihjdXJyZW50QmxlbmRFcXVhdGlvbiE9PUFkZEVxdWF0aW9ufHxjdXJyZW50QmxlbmRFcXVhdGlvbkFscGhhIT09QWRkRXF1YXRpb24pe2dsLmJsZW5kRXF1YXRpb24oMzI3NzQpO2N1cnJlbnRCbGVuZEVxdWF0aW9uPUFkZEVxdWF0aW9uO2N1cnJlbnRCbGVuZEVxdWF0aW9uQWxwaGE9QWRkRXF1YXRpb247fWlmKHByZW11bHRpcGxpZWRBbHBoYSl7c3dpdGNoKGJsZW5kaW5nKXtjYXNlIE5vcm1hbEJsZW5kaW5nOmdsLmJsZW5kRnVuY1NlcGFyYXRlKDEsNzcxLDEsNzcxKTticmVhaztjYXNlIEFkZGl0aXZlQmxlbmRpbmc6Z2wuYmxlbmRGdW5jKDEsMSk7YnJlYWs7Y2FzZSBTdWJ0cmFjdGl2ZUJsZW5kaW5nOmdsLmJsZW5kRnVuY1NlcGFyYXRlKDAsNzY5LDAsMSk7YnJlYWs7Y2FzZSBNdWx0aXBseUJsZW5kaW5nOmdsLmJsZW5kRnVuY1NlcGFyYXRlKDAsNzY4LDAsNzcwKTticmVhaztkZWZhdWx0OmNvbnNvbGUuZXJyb3IoJ1RIUkVFLldlYkdMU3RhdGU6IEludmFsaWQgYmxlbmRpbmc6ICcsYmxlbmRpbmcpO2JyZWFrO319ZWxzZXtzd2l0Y2goYmxlbmRpbmcpe2Nhc2UgTm9ybWFsQmxlbmRpbmc6Z2wuYmxlbmRGdW5jU2VwYXJhdGUoNzcwLDc3MSwxLDc3MSk7YnJlYWs7Y2FzZSBBZGRpdGl2ZUJsZW5kaW5nOmdsLmJsZW5kRnVuYyg3NzAsMSk7YnJlYWs7Y2FzZSBTdWJ0cmFjdGl2ZUJsZW5kaW5nOmdsLmJsZW5kRnVuY1NlcGFyYXRlKDAsNzY5LDAsMSk7YnJlYWs7Y2FzZSBNdWx0aXBseUJsZW5kaW5nOmdsLmJsZW5kRnVuYygwLDc2OCk7YnJlYWs7ZGVmYXVsdDpjb25zb2xlLmVycm9yKCdUSFJFRS5XZWJHTFN0YXRlOiBJbnZhbGlkIGJsZW5kaW5nOiAnLGJsZW5kaW5nKTticmVhazt9fWN1cnJlbnRCbGVuZFNyYz1udWxsO2N1cnJlbnRCbGVuZERzdD1udWxsO2N1cnJlbnRCbGVuZFNyY0FscGhhPW51bGw7Y3VycmVudEJsZW5kRHN0QWxwaGE9bnVsbDtjdXJyZW50QmxlbmRpbmc9YmxlbmRpbmc7Y3VycmVudFByZW11bHRpcGxlZEFscGhhPXByZW11bHRpcGxpZWRBbHBoYTt9cmV0dXJuO30vLyBjdXN0b20gYmxlbmRpbmcKYmxlbmRFcXVhdGlvbkFscGhhPWJsZW5kRXF1YXRpb25BbHBoYXx8YmxlbmRFcXVhdGlvbjtibGVuZFNyY0FscGhhPWJsZW5kU3JjQWxwaGF8fGJsZW5kU3JjO2JsZW5kRHN0QWxwaGE9YmxlbmREc3RBbHBoYXx8YmxlbmREc3Q7aWYoYmxlbmRFcXVhdGlvbiE9PWN1cnJlbnRCbGVuZEVxdWF0aW9ufHxibGVuZEVxdWF0aW9uQWxwaGEhPT1jdXJyZW50QmxlbmRFcXVhdGlvbkFscGhhKXtnbC5ibGVuZEVxdWF0aW9uU2VwYXJhdGUoZXF1YXRpb25Ub0dMW2JsZW5kRXF1YXRpb25dLGVxdWF0aW9uVG9HTFtibGVuZEVxdWF0aW9uQWxwaGFdKTtjdXJyZW50QmxlbmRFcXVhdGlvbj1ibGVuZEVxdWF0aW9uO2N1cnJlbnRCbGVuZEVxdWF0aW9uQWxwaGE9YmxlbmRFcXVhdGlvbkFscGhhO31pZihibGVuZFNyYyE9PWN1cnJlbnRCbGVuZFNyY3x8YmxlbmREc3QhPT1jdXJyZW50QmxlbmREc3R8fGJsZW5kU3JjQWxwaGEhPT1jdXJyZW50QmxlbmRTcmNBbHBoYXx8YmxlbmREc3RBbHBoYSE9PWN1cnJlbnRCbGVuZERzdEFscGhhKXtnbC5ibGVuZEZ1bmNTZXBhcmF0ZShmYWN0b3JUb0dMW2JsZW5kU3JjXSxmYWN0b3JUb0dMW2JsZW5kRHN0XSxmYWN0b3JUb0dMW2JsZW5kU3JjQWxwaGFdLGZhY3RvclRvR0xbYmxlbmREc3RBbHBoYV0pO2N1cnJlbnRCbGVuZFNyYz1ibGVuZFNyYztjdXJyZW50QmxlbmREc3Q9YmxlbmREc3Q7Y3VycmVudEJsZW5kU3JjQWxwaGE9YmxlbmRTcmNBbHBoYTtjdXJyZW50QmxlbmREc3RBbHBoYT1ibGVuZERzdEFscGhhO31jdXJyZW50QmxlbmRpbmc9YmxlbmRpbmc7Y3VycmVudFByZW11bHRpcGxlZEFscGhhPW51bGw7fWZ1bmN0aW9uIHNldE1hdGVyaWFsKG1hdGVyaWFsLGZyb250RmFjZUNXKXttYXRlcmlhbC5zaWRlPT09RG91YmxlU2lkZT9kaXNhYmxlKDI4ODQpOmVuYWJsZSgyODg0KTt2YXIgZmxpcFNpZGVkPW1hdGVyaWFsLnNpZGU9PT1CYWNrU2lkZTtpZihmcm9udEZhY2VDVylmbGlwU2lkZWQ9IWZsaXBTaWRlZDtzZXRGbGlwU2lkZWQoZmxpcFNpZGVkKTttYXRlcmlhbC5ibGVuZGluZz09PU5vcm1hbEJsZW5kaW5nJiZtYXRlcmlhbC50cmFuc3BhcmVudD09PWZhbHNlP3NldEJsZW5kaW5nKE5vQmxlbmRpbmcpOnNldEJsZW5kaW5nKG1hdGVyaWFsLmJsZW5kaW5nLG1hdGVyaWFsLmJsZW5kRXF1YXRpb24sbWF0ZXJpYWwuYmxlbmRTcmMsbWF0ZXJpYWwuYmxlbmREc3QsbWF0ZXJpYWwuYmxlbmRFcXVhdGlvbkFscGhhLG1hdGVyaWFsLmJsZW5kU3JjQWxwaGEsbWF0ZXJpYWwuYmxlbmREc3RBbHBoYSxtYXRlcmlhbC5wcmVtdWx0aXBsaWVkQWxwaGEpO2RlcHRoQnVmZmVyLnNldEZ1bmMobWF0ZXJpYWwuZGVwdGhGdW5jKTtkZXB0aEJ1ZmZlci5zZXRUZXN0KG1hdGVyaWFsLmRlcHRoVGVzdCk7ZGVwdGhCdWZmZXIuc2V0TWFzayhtYXRlcmlhbC5kZXB0aFdyaXRlKTtjb2xvckJ1ZmZlci5zZXRNYXNrKG1hdGVyaWFsLmNvbG9yV3JpdGUpO3ZhciBzdGVuY2lsV3JpdGU9bWF0ZXJpYWwuc3RlbmNpbFdyaXRlO3N0ZW5jaWxCdWZmZXIuc2V0VGVzdChzdGVuY2lsV3JpdGUpO2lmKHN0ZW5jaWxXcml0ZSl7c3RlbmNpbEJ1ZmZlci5zZXRNYXNrKG1hdGVyaWFsLnN0ZW5jaWxXcml0ZU1hc2spO3N0ZW5jaWxCdWZmZXIuc2V0RnVuYyhtYXRlcmlhbC5zdGVuY2lsRnVuYyxtYXRlcmlhbC5zdGVuY2lsUmVmLG1hdGVyaWFsLnN0ZW5jaWxGdW5jTWFzayk7c3RlbmNpbEJ1ZmZlci5zZXRPcChtYXRlcmlhbC5zdGVuY2lsRmFpbCxtYXRlcmlhbC5zdGVuY2lsWkZhaWwsbWF0ZXJpYWwuc3RlbmNpbFpQYXNzKTt9c2V0UG9seWdvbk9mZnNldChtYXRlcmlhbC5wb2x5Z29uT2Zmc2V0LG1hdGVyaWFsLnBvbHlnb25PZmZzZXRGYWN0b3IsbWF0ZXJpYWwucG9seWdvbk9mZnNldFVuaXRzKTttYXRlcmlhbC5hbHBoYVRvQ292ZXJhZ2U9PT10cnVlP2VuYWJsZSgzMjkyNik6ZGlzYWJsZSgzMjkyNik7fS8vCmZ1bmN0aW9uIHNldEZsaXBTaWRlZChmbGlwU2lkZWQpe2lmKGN1cnJlbnRGbGlwU2lkZWQhPT1mbGlwU2lkZWQpe2lmKGZsaXBTaWRlZCl7Z2wuZnJvbnRGYWNlKDIzMDQpO31lbHNle2dsLmZyb250RmFjZSgyMzA1KTt9Y3VycmVudEZsaXBTaWRlZD1mbGlwU2lkZWQ7fX1mdW5jdGlvbiBzZXRDdWxsRmFjZShjdWxsRmFjZSl7aWYoY3VsbEZhY2UhPT1DdWxsRmFjZU5vbmUpe2VuYWJsZSgyODg0KTtpZihjdWxsRmFjZSE9PWN1cnJlbnRDdWxsRmFjZSl7aWYoY3VsbEZhY2U9PT1DdWxsRmFjZUJhY2spe2dsLmN1bGxGYWNlKDEwMjkpO31lbHNlIGlmKGN1bGxGYWNlPT09Q3VsbEZhY2VGcm9udCl7Z2wuY3VsbEZhY2UoMTAyOCk7fWVsc2V7Z2wuY3VsbEZhY2UoMTAzMik7fX19ZWxzZXtkaXNhYmxlKDI4ODQpO31jdXJyZW50Q3VsbEZhY2U9Y3VsbEZhY2U7fWZ1bmN0aW9uIHNldExpbmVXaWR0aCh3aWR0aCl7aWYod2lkdGghPT1jdXJyZW50TGluZVdpZHRoKXtpZihsaW5lV2lkdGhBdmFpbGFibGUpZ2wubGluZVdpZHRoKHdpZHRoKTtjdXJyZW50TGluZVdpZHRoPXdpZHRoO319ZnVuY3Rpb24gc2V0UG9seWdvbk9mZnNldChwb2x5Z29uT2Zmc2V0LGZhY3Rvcix1bml0cyl7aWYocG9seWdvbk9mZnNldCl7ZW5hYmxlKDMyODIzKTtpZihjdXJyZW50UG9seWdvbk9mZnNldEZhY3RvciE9PWZhY3Rvcnx8Y3VycmVudFBvbHlnb25PZmZzZXRVbml0cyE9PXVuaXRzKXtnbC5wb2x5Z29uT2Zmc2V0KGZhY3Rvcix1bml0cyk7Y3VycmVudFBvbHlnb25PZmZzZXRGYWN0b3I9ZmFjdG9yO2N1cnJlbnRQb2x5Z29uT2Zmc2V0VW5pdHM9dW5pdHM7fX1lbHNle2Rpc2FibGUoMzI4MjMpO319ZnVuY3Rpb24gc2V0U2Npc3NvclRlc3Qoc2Npc3NvclRlc3Qpe2lmKHNjaXNzb3JUZXN0KXtlbmFibGUoMzA4OSk7fWVsc2V7ZGlzYWJsZSgzMDg5KTt9fS8vIHRleHR1cmUKZnVuY3Rpb24gYWN0aXZlVGV4dHVyZSh3ZWJnbFNsb3Qpe2lmKHdlYmdsU2xvdD09PXVuZGVmaW5lZCl3ZWJnbFNsb3Q9MzM5ODQrbWF4VGV4dHVyZXMtMTtpZihjdXJyZW50VGV4dHVyZVNsb3QhPT13ZWJnbFNsb3Qpe2dsLmFjdGl2ZVRleHR1cmUod2ViZ2xTbG90KTtjdXJyZW50VGV4dHVyZVNsb3Q9d2ViZ2xTbG90O319ZnVuY3Rpb24gYmluZFRleHR1cmUod2ViZ2xUeXBlLHdlYmdsVGV4dHVyZSl7aWYoY3VycmVudFRleHR1cmVTbG90PT09bnVsbCl7YWN0aXZlVGV4dHVyZSgpO312YXIgYm91bmRUZXh0dXJlPWN1cnJlbnRCb3VuZFRleHR1cmVzW2N1cnJlbnRUZXh0dXJlU2xvdF07aWYoYm91bmRUZXh0dXJlPT09dW5kZWZpbmVkKXtib3VuZFRleHR1cmU9e3R5cGU6dW5kZWZpbmVkLHRleHR1cmU6dW5kZWZpbmVkfTtjdXJyZW50Qm91bmRUZXh0dXJlc1tjdXJyZW50VGV4dHVyZVNsb3RdPWJvdW5kVGV4dHVyZTt9aWYoYm91bmRUZXh0dXJlLnR5cGUhPT13ZWJnbFR5cGV8fGJvdW5kVGV4dHVyZS50ZXh0dXJlIT09d2ViZ2xUZXh0dXJlKXtnbC5iaW5kVGV4dHVyZSh3ZWJnbFR5cGUsd2ViZ2xUZXh0dXJlfHxlbXB0eVRleHR1cmVzW3dlYmdsVHlwZV0pO2JvdW5kVGV4dHVyZS50eXBlPXdlYmdsVHlwZTtib3VuZFRleHR1cmUudGV4dHVyZT13ZWJnbFRleHR1cmU7fX1mdW5jdGlvbiB1bmJpbmRUZXh0dXJlKCl7dmFyIGJvdW5kVGV4dHVyZT1jdXJyZW50Qm91bmRUZXh0dXJlc1tjdXJyZW50VGV4dHVyZVNsb3RdO2lmKGJvdW5kVGV4dHVyZSE9PXVuZGVmaW5lZCYmYm91bmRUZXh0dXJlLnR5cGUhPT11bmRlZmluZWQpe2dsLmJpbmRUZXh0dXJlKGJvdW5kVGV4dHVyZS50eXBlLG51bGwpO2JvdW5kVGV4dHVyZS50eXBlPXVuZGVmaW5lZDtib3VuZFRleHR1cmUudGV4dHVyZT11bmRlZmluZWQ7fX1mdW5jdGlvbiBjb21wcmVzc2VkVGV4SW1hZ2UyRCgpe3RyeXtnbC5jb21wcmVzc2VkVGV4SW1hZ2UyRC5hcHBseShnbCxhcmd1bWVudHMpO31jYXRjaChlcnJvcil7Y29uc29sZS5lcnJvcignVEhSRUUuV2ViR0xTdGF0ZTonLGVycm9yKTt9fWZ1bmN0aW9uIHRleFN1YkltYWdlMkQoKXt0cnl7Z2wudGV4U3ViSW1hZ2UyRC5hcHBseShnbCxhcmd1bWVudHMpO31jYXRjaChlcnJvcil7Y29uc29sZS5lcnJvcignVEhSRUUuV2ViR0xTdGF0ZTonLGVycm9yKTt9fWZ1bmN0aW9uIHRleFN1YkltYWdlM0QoKXt0cnl7Z2wudGV4U3ViSW1hZ2UzRC5hcHBseShnbCxhcmd1bWVudHMpO31jYXRjaChlcnJvcil7Y29uc29sZS5lcnJvcignVEhSRUUuV2ViR0xTdGF0ZTonLGVycm9yKTt9fWZ1bmN0aW9uIGNvbXByZXNzZWRUZXhTdWJJbWFnZTJEKCl7dHJ5e2dsLmNvbXByZXNzZWRUZXhTdWJJbWFnZTJELmFwcGx5KGdsLGFyZ3VtZW50cyk7fWNhdGNoKGVycm9yKXtjb25zb2xlLmVycm9yKCdUSFJFRS5XZWJHTFN0YXRlOicsZXJyb3IpO319ZnVuY3Rpb24gdGV4U3RvcmFnZTJEKCl7dHJ5e2dsLnRleFN0b3JhZ2UyRC5hcHBseShnbCxhcmd1bWVudHMpO31jYXRjaChlcnJvcil7Y29uc29sZS5lcnJvcignVEhSRUUuV2ViR0xTdGF0ZTonLGVycm9yKTt9fWZ1bmN0aW9uIHRleFN0b3JhZ2UzRCgpe3RyeXtnbC50ZXhTdG9yYWdlM0QuYXBwbHkoZ2wsYXJndW1lbnRzKTt9Y2F0Y2goZXJyb3Ipe2NvbnNvbGUuZXJyb3IoJ1RIUkVFLldlYkdMU3RhdGU6JyxlcnJvcik7fX1mdW5jdGlvbiB0ZXhJbWFnZTJEKCl7dHJ5e2dsLnRleEltYWdlMkQuYXBwbHkoZ2wsYXJndW1lbnRzKTt9Y2F0Y2goZXJyb3Ipe2NvbnNvbGUuZXJyb3IoJ1RIUkVFLldlYkdMU3RhdGU6JyxlcnJvcik7fX1mdW5jdGlvbiB0ZXhJbWFnZTNEKCl7dHJ5e2dsLnRleEltYWdlM0QuYXBwbHkoZ2wsYXJndW1lbnRzKTt9Y2F0Y2goZXJyb3Ipe2NvbnNvbGUuZXJyb3IoJ1RIUkVFLldlYkdMU3RhdGU6JyxlcnJvcik7fX0vLwpmdW5jdGlvbiBzY2lzc29yKHNjaXNzb3Ipe2lmKGN1cnJlbnRTY2lzc29yLmVxdWFscyhzY2lzc29yKT09PWZhbHNlKXtnbC5zY2lzc29yKHNjaXNzb3IueCxzY2lzc29yLnksc2Npc3Nvci56LHNjaXNzb3Iudyk7Y3VycmVudFNjaXNzb3IuY29weShzY2lzc29yKTt9fWZ1bmN0aW9uIHZpZXdwb3J0KHZpZXdwb3J0KXtpZihjdXJyZW50Vmlld3BvcnQuZXF1YWxzKHZpZXdwb3J0KT09PWZhbHNlKXtnbC52aWV3cG9ydCh2aWV3cG9ydC54LHZpZXdwb3J0Lnksdmlld3BvcnQueix2aWV3cG9ydC53KTtjdXJyZW50Vmlld3BvcnQuY29weSh2aWV3cG9ydCk7fX0vLwpmdW5jdGlvbiByZXNldCgpey8vIHJlc2V0IHN0YXRlCmdsLmRpc2FibGUoMzA0Mik7Z2wuZGlzYWJsZSgyODg0KTtnbC5kaXNhYmxlKDI5MjkpO2dsLmRpc2FibGUoMzI4MjMpO2dsLmRpc2FibGUoMzA4OSk7Z2wuZGlzYWJsZSgyOTYwKTtnbC5kaXNhYmxlKDMyOTI2KTtnbC5ibGVuZEVxdWF0aW9uKDMyNzc0KTtnbC5ibGVuZEZ1bmMoMSwwKTtnbC5ibGVuZEZ1bmNTZXBhcmF0ZSgxLDAsMSwwKTtnbC5jb2xvck1hc2sodHJ1ZSx0cnVlLHRydWUsdHJ1ZSk7Z2wuY2xlYXJDb2xvcigwLDAsMCwwKTtnbC5kZXB0aE1hc2sodHJ1ZSk7Z2wuZGVwdGhGdW5jKDUxMyk7Z2wuY2xlYXJEZXB0aCgxKTtnbC5zdGVuY2lsTWFzaygweGZmZmZmZmZmKTtnbC5zdGVuY2lsRnVuYyg1MTksMCwweGZmZmZmZmZmKTtnbC5zdGVuY2lsT3AoNzY4MCw3NjgwLDc2ODApO2dsLmNsZWFyU3RlbmNpbCgwKTtnbC5jdWxsRmFjZSgxMDI5KTtnbC5mcm9udEZhY2UoMjMwNSk7Z2wucG9seWdvbk9mZnNldCgwLDApO2dsLmFjdGl2ZVRleHR1cmUoMzM5ODQpO2dsLmJpbmRGcmFtZWJ1ZmZlcigzNjE2MCxudWxsKTtpZihpc1dlYkdMMj09PXRydWUpe2dsLmJpbmRGcmFtZWJ1ZmZlcigzNjAwOSxudWxsKTtnbC5iaW5kRnJhbWVidWZmZXIoMzYwMDgsbnVsbCk7fWdsLnVzZVByb2dyYW0obnVsbCk7Z2wubGluZVdpZHRoKDEpO2dsLnNjaXNzb3IoMCwwLGdsLmNhbnZhcy53aWR0aCxnbC5jYW52YXMuaGVpZ2h0KTtnbC52aWV3cG9ydCgwLDAsZ2wuY2FudmFzLndpZHRoLGdsLmNhbnZhcy5oZWlnaHQpOy8vIHJlc2V0IGludGVybmFscwplbmFibGVkQ2FwYWJpbGl0aWVzPXt9O2N1cnJlbnRUZXh0dXJlU2xvdD1udWxsO2N1cnJlbnRCb3VuZFRleHR1cmVzPXt9O2N1cnJlbnRCb3VuZEZyYW1lYnVmZmVycz17fTtjdXJyZW50RHJhd2J1ZmZlcnM9bmV3IFdlYWtNYXAoKTtkZWZhdWx0RHJhd2J1ZmZlcnM9W107Y3VycmVudFByb2dyYW09bnVsbDtjdXJyZW50QmxlbmRpbmdFbmFibGVkPWZhbHNlO2N1cnJlbnRCbGVuZGluZz1udWxsO2N1cnJlbnRCbGVuZEVxdWF0aW9uPW51bGw7Y3VycmVudEJsZW5kU3JjPW51bGw7Y3VycmVudEJsZW5kRHN0PW51bGw7Y3VycmVudEJsZW5kRXF1YXRpb25BbHBoYT1udWxsO2N1cnJlbnRCbGVuZFNyY0FscGhhPW51bGw7Y3VycmVudEJsZW5kRHN0QWxwaGE9bnVsbDtjdXJyZW50UHJlbXVsdGlwbGVkQWxwaGE9ZmFsc2U7Y3VycmVudEZsaXBTaWRlZD1udWxsO2N1cnJlbnRDdWxsRmFjZT1udWxsO2N1cnJlbnRMaW5lV2lkdGg9bnVsbDtjdXJyZW50UG9seWdvbk9mZnNldEZhY3Rvcj1udWxsO2N1cnJlbnRQb2x5Z29uT2Zmc2V0VW5pdHM9bnVsbDtjdXJyZW50U2Npc3Nvci5zZXQoMCwwLGdsLmNhbnZhcy53aWR0aCxnbC5jYW52YXMuaGVpZ2h0KTtjdXJyZW50Vmlld3BvcnQuc2V0KDAsMCxnbC5jYW52YXMud2lkdGgsZ2wuY2FudmFzLmhlaWdodCk7Y29sb3JCdWZmZXIucmVzZXQoKTtkZXB0aEJ1ZmZlci5yZXNldCgpO3N0ZW5jaWxCdWZmZXIucmVzZXQoKTt9cmV0dXJue2J1ZmZlcnM6e2NvbG9yOmNvbG9yQnVmZmVyLGRlcHRoOmRlcHRoQnVmZmVyLHN0ZW5jaWw6c3RlbmNpbEJ1ZmZlcn0sZW5hYmxlOmVuYWJsZSxkaXNhYmxlOmRpc2FibGUsYmluZEZyYW1lYnVmZmVyOmJpbmRGcmFtZWJ1ZmZlcixkcmF3QnVmZmVyczpkcmF3QnVmZmVycyx1c2VQcm9ncmFtOnVzZVByb2dyYW0sc2V0QmxlbmRpbmc6c2V0QmxlbmRpbmcsc2V0TWF0ZXJpYWw6c2V0TWF0ZXJpYWwsc2V0RmxpcFNpZGVkOnNldEZsaXBTaWRlZCxzZXRDdWxsRmFjZTpzZXRDdWxsRmFjZSxzZXRMaW5lV2lkdGg6c2V0TGluZVdpZHRoLHNldFBvbHlnb25PZmZzZXQ6c2V0UG9seWdvbk9mZnNldCxzZXRTY2lzc29yVGVzdDpzZXRTY2lzc29yVGVzdCxhY3RpdmVUZXh0dXJlOmFjdGl2ZVRleHR1cmUsYmluZFRleHR1cmU6YmluZFRleHR1cmUsdW5iaW5kVGV4dHVyZTp1bmJpbmRUZXh0dXJlLGNvbXByZXNzZWRUZXhJbWFnZTJEOmNvbXByZXNzZWRUZXhJbWFnZTJELHRleEltYWdlMkQ6dGV4SW1hZ2UyRCx0ZXhJbWFnZTNEOnRleEltYWdlM0QsdGV4U3RvcmFnZTJEOnRleFN0b3JhZ2UyRCx0ZXhTdG9yYWdlM0Q6dGV4U3RvcmFnZTNELHRleFN1YkltYWdlMkQ6dGV4U3ViSW1hZ2UyRCx0ZXhTdWJJbWFnZTNEOnRleFN1YkltYWdlM0QsY29tcHJlc3NlZFRleFN1YkltYWdlMkQ6Y29tcHJlc3NlZFRleFN1YkltYWdlMkQsc2Npc3NvcjpzY2lzc29yLHZpZXdwb3J0OnZpZXdwb3J0LHJlc2V0OnJlc2V0fTt9ZnVuY3Rpb24gV2ViR0xUZXh0dXJlcyhfZ2wsZXh0ZW5zaW9ucyxzdGF0ZSxwcm9wZXJ0aWVzLGNhcGFiaWxpdGllcyx1dGlscyxpbmZvKXt2YXIgX3dyYXBwaW5nVG9HTCxfZmlsdGVyVG9HTDt2YXIgaXNXZWJHTDI9Y2FwYWJpbGl0aWVzLmlzV2ViR0wyO3ZhciBtYXhUZXh0dXJlcz1jYXBhYmlsaXRpZXMubWF4VGV4dHVyZXM7dmFyIG1heEN1YmVtYXBTaXplPWNhcGFiaWxpdGllcy5tYXhDdWJlbWFwU2l6ZTt2YXIgbWF4VGV4dHVyZVNpemU9Y2FwYWJpbGl0aWVzLm1heFRleHR1cmVTaXplO3ZhciBtYXhTYW1wbGVzPWNhcGFiaWxpdGllcy5tYXhTYW1wbGVzO3ZhciBoYXNNdWx0aXNhbXBsZWRSZW5kZXJUb1RleHR1cmU9ZXh0ZW5zaW9ucy5oYXMoJ1dFQkdMX211bHRpc2FtcGxlZF9yZW5kZXJfdG9fdGV4dHVyZScpO3ZhciBNdWx0aXNhbXBsZWRSZW5kZXJUb1RleHR1cmVFeHRlbnNpb249aGFzTXVsdGlzYW1wbGVkUmVuZGVyVG9UZXh0dXJlP2V4dGVuc2lvbnMuZ2V0KCdXRUJHTF9tdWx0aXNhbXBsZWRfcmVuZGVyX3RvX3RleHR1cmUnKTp1bmRlZmluZWQ7dmFyIF92aWRlb1RleHR1cmVzPW5ldyBXZWFrTWFwKCk7dmFyIF9jYW52YXM7Ly8gY29yZG92YSBpT1MgKGFzIG9mIDUuMCkgc3RpbGwgdXNlcyBVSVdlYlZpZXcsIHdoaWNoIHByb3ZpZGVzIE9mZnNjcmVlbkNhbnZhcywKLy8gYWxzbyBPZmZzY3JlZW5DYW52YXMuZ2V0Q29udGV4dCgid2ViZ2wiKSwgYnV0IG5vdCBPZmZzY3JlZW5DYW52YXMuZ2V0Q29udGV4dCgiMmQiKSEKLy8gU29tZSBpbXBsZW1lbnRhdGlvbnMgbWF5IG9ubHkgaW1wbGVtZW50IE9mZnNjcmVlbkNhbnZhcyBwYXJ0aWFsbHkgKGUuZy4gbGFja2luZyAyZCkuCnZhciB1c2VPZmZzY3JlZW5DYW52YXM9ZmFsc2U7dHJ5e3VzZU9mZnNjcmVlbkNhbnZhcz10eXBlb2YgT2Zmc2NyZWVuQ2FudmFzIT09J3VuZGVmaW5lZCcmJm5ldyBPZmZzY3JlZW5DYW52YXMoMSwxKS5nZXRDb250ZXh0KCcyZCcpIT09bnVsbDt9Y2F0Y2goZXJyKXsvLyBJZ25vcmUgYW55IGVycm9ycwp9ZnVuY3Rpb24gY3JlYXRlQ2FudmFzKHdpZHRoLGhlaWdodCl7Ly8gVXNlIE9mZnNjcmVlbkNhbnZhcyB3aGVuIGF2YWlsYWJsZS4gU3BlY2lhbGx5IG5lZWRlZCBpbiB3ZWIgd29ya2VycwpyZXR1cm4gdXNlT2Zmc2NyZWVuQ2FudmFzP25ldyBPZmZzY3JlZW5DYW52YXMod2lkdGgsaGVpZ2h0KTpjcmVhdGVFbGVtZW50TlMoJ2NhbnZhcycpO31mdW5jdGlvbiByZXNpemVJbWFnZShpbWFnZSxuZWVkc1Bvd2VyT2ZUd28sbmVlZHNOZXdDYW52YXMsbWF4U2l6ZSl7dmFyIHNjYWxlPTE7Ly8gaGFuZGxlIGNhc2UgaWYgdGV4dHVyZSBleGNlZWRzIG1heCBzaXplCmlmKGltYWdlLndpZHRoPm1heFNpemV8fGltYWdlLmhlaWdodD5tYXhTaXplKXtzY2FsZT1tYXhTaXplL01hdGgubWF4KGltYWdlLndpZHRoLGltYWdlLmhlaWdodCk7fS8vIG9ubHkgcGVyZm9ybSByZXNpemUgaWYgbmVjZXNzYXJ5CmlmKHNjYWxlPDF8fG5lZWRzUG93ZXJPZlR3bz09PXRydWUpey8vIG9ubHkgcGVyZm9ybSByZXNpemUgZm9yIGNlcnRhaW4gaW1hZ2UgdHlwZXMKaWYodHlwZW9mIEhUTUxJbWFnZUVsZW1lbnQhPT0ndW5kZWZpbmVkJyYmaW1hZ2UgaW5zdGFuY2VvZiBIVE1MSW1hZ2VFbGVtZW50fHx0eXBlb2YgSFRNTENhbnZhc0VsZW1lbnQhPT0ndW5kZWZpbmVkJyYmaW1hZ2UgaW5zdGFuY2VvZiBIVE1MQ2FudmFzRWxlbWVudHx8dHlwZW9mIEltYWdlQml0bWFwIT09J3VuZGVmaW5lZCcmJmltYWdlIGluc3RhbmNlb2YgSW1hZ2VCaXRtYXApe3ZhciBmbG9vcj1uZWVkc1Bvd2VyT2ZUd28/Zmxvb3JQb3dlck9mVHdvOk1hdGguZmxvb3I7dmFyIHdpZHRoPWZsb29yKHNjYWxlKmltYWdlLndpZHRoKTt2YXIgaGVpZ2h0PWZsb29yKHNjYWxlKmltYWdlLmhlaWdodCk7aWYoX2NhbnZhcz09PXVuZGVmaW5lZClfY2FudmFzPWNyZWF0ZUNhbnZhcyh3aWR0aCxoZWlnaHQpOy8vIGN1YmUgdGV4dHVyZXMgY2FuJ3QgcmV1c2UgdGhlIHNhbWUgY2FudmFzCnZhciBjYW52YXM9bmVlZHNOZXdDYW52YXM/Y3JlYXRlQ2FudmFzKHdpZHRoLGhlaWdodCk6X2NhbnZhcztjYW52YXMud2lkdGg9d2lkdGg7Y2FudmFzLmhlaWdodD1oZWlnaHQ7dmFyIGNvbnRleHQ9Y2FudmFzLmdldENvbnRleHQoJzJkJyk7Y29udGV4dC5kcmF3SW1hZ2UoaW1hZ2UsMCwwLHdpZHRoLGhlaWdodCk7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFJlbmRlcmVyOiBUZXh0dXJlIGhhcyBiZWVuIHJlc2l6ZWQgZnJvbSAoJytpbWFnZS53aWR0aCsneCcraW1hZ2UuaGVpZ2h0KycpIHRvICgnK3dpZHRoKyd4JytoZWlnaHQrJykuJyk7cmV0dXJuIGNhbnZhczt9ZWxzZXtpZignZGF0YSdpbiBpbWFnZSl7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFJlbmRlcmVyOiBJbWFnZSBpbiBEYXRhVGV4dHVyZSBpcyB0b28gYmlnICgnK2ltYWdlLndpZHRoKyd4JytpbWFnZS5oZWlnaHQrJykuJyk7fXJldHVybiBpbWFnZTt9fXJldHVybiBpbWFnZTt9ZnVuY3Rpb24gaXNQb3dlck9mVHdvJDEoaW1hZ2Upe3JldHVybiBpc1Bvd2VyT2ZUd28oaW1hZ2Uud2lkdGgpJiZpc1Bvd2VyT2ZUd28oaW1hZ2UuaGVpZ2h0KTt9ZnVuY3Rpb24gdGV4dHVyZU5lZWRzUG93ZXJPZlR3byh0ZXh0dXJlKXtpZihpc1dlYkdMMilyZXR1cm4gZmFsc2U7cmV0dXJuIHRleHR1cmUud3JhcFMhPT1DbGFtcFRvRWRnZVdyYXBwaW5nfHx0ZXh0dXJlLndyYXBUIT09Q2xhbXBUb0VkZ2VXcmFwcGluZ3x8dGV4dHVyZS5taW5GaWx0ZXIhPT1OZWFyZXN0RmlsdGVyJiZ0ZXh0dXJlLm1pbkZpbHRlciE9PUxpbmVhckZpbHRlcjt9ZnVuY3Rpb24gdGV4dHVyZU5lZWRzR2VuZXJhdGVNaXBtYXBzKHRleHR1cmUsc3VwcG9ydHNNaXBzKXtyZXR1cm4gdGV4dHVyZS5nZW5lcmF0ZU1pcG1hcHMmJnN1cHBvcnRzTWlwcyYmdGV4dHVyZS5taW5GaWx0ZXIhPT1OZWFyZXN0RmlsdGVyJiZ0ZXh0dXJlLm1pbkZpbHRlciE9PUxpbmVhckZpbHRlcjt9ZnVuY3Rpb24gZ2VuZXJhdGVNaXBtYXAodGFyZ2V0KXtfZ2wuZ2VuZXJhdGVNaXBtYXAodGFyZ2V0KTt9ZnVuY3Rpb24gZ2V0SW50ZXJuYWxGb3JtYXQoaW50ZXJuYWxGb3JtYXROYW1lLGdsRm9ybWF0LGdsVHlwZSxlbmNvZGluZyl7dmFyIGlzVmlkZW9UZXh0dXJlPWFyZ3VtZW50cy5sZW5ndGg+NCYmYXJndW1lbnRzWzRdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1s0XTpmYWxzZTtpZihpc1dlYkdMMj09PWZhbHNlKXJldHVybiBnbEZvcm1hdDtpZihpbnRlcm5hbEZvcm1hdE5hbWUhPT1udWxsKXtpZihfZ2xbaW50ZXJuYWxGb3JtYXROYW1lXSE9PXVuZGVmaW5lZClyZXR1cm4gX2dsW2ludGVybmFsRm9ybWF0TmFtZV07Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFJlbmRlcmVyOiBBdHRlbXB0IHRvIHVzZSBub24tZXhpc3RpbmcgV2ViR0wgaW50ZXJuYWwgZm9ybWF0IFwnJytpbnRlcm5hbEZvcm1hdE5hbWUrJ1wnJyk7fXZhciBpbnRlcm5hbEZvcm1hdD1nbEZvcm1hdDtpZihnbEZvcm1hdD09PTY0MDMpe2lmKGdsVHlwZT09PTUxMjYpaW50ZXJuYWxGb3JtYXQ9MzMzMjY7aWYoZ2xUeXBlPT09NTEzMSlpbnRlcm5hbEZvcm1hdD0zMzMyNTtpZihnbFR5cGU9PT01MTIxKWludGVybmFsRm9ybWF0PTMzMzIxO31pZihnbEZvcm1hdD09PTMzMzE5KXtpZihnbFR5cGU9PT01MTI2KWludGVybmFsRm9ybWF0PTMzMzI4O2lmKGdsVHlwZT09PTUxMzEpaW50ZXJuYWxGb3JtYXQ9MzMzMjc7aWYoZ2xUeXBlPT09NTEyMSlpbnRlcm5hbEZvcm1hdD0zMzMyMzt9aWYoZ2xGb3JtYXQ9PT02NDA4KXtpZihnbFR5cGU9PT01MTI2KWludGVybmFsRm9ybWF0PTM0ODM2O2lmKGdsVHlwZT09PTUxMzEpaW50ZXJuYWxGb3JtYXQ9MzQ4NDI7aWYoZ2xUeXBlPT09NTEyMSlpbnRlcm5hbEZvcm1hdD1lbmNvZGluZz09PXNSR0JFbmNvZGluZyYmaXNWaWRlb1RleHR1cmU9PT1mYWxzZT8zNTkwNzozMjg1NjtpZihnbFR5cGU9PT0zMjgxOSlpbnRlcm5hbEZvcm1hdD0zMjg1NDtpZihnbFR5cGU9PT0zMjgyMClpbnRlcm5hbEZvcm1hdD0zMjg1NTt9aWYoaW50ZXJuYWxGb3JtYXQ9PT0zMzMyNXx8aW50ZXJuYWxGb3JtYXQ9PT0zMzMyNnx8aW50ZXJuYWxGb3JtYXQ9PT0zMzMyN3x8aW50ZXJuYWxGb3JtYXQ9PT0zMzMyOHx8aW50ZXJuYWxGb3JtYXQ9PT0zNDg0Mnx8aW50ZXJuYWxGb3JtYXQ9PT0zNDgzNil7ZXh0ZW5zaW9ucy5nZXQoJ0VYVF9jb2xvcl9idWZmZXJfZmxvYXQnKTt9cmV0dXJuIGludGVybmFsRm9ybWF0O31mdW5jdGlvbiBnZXRNaXBMZXZlbHModGV4dHVyZSxpbWFnZSxzdXBwb3J0c01pcHMpe2lmKHRleHR1cmVOZWVkc0dlbmVyYXRlTWlwbWFwcyh0ZXh0dXJlLHN1cHBvcnRzTWlwcyk9PT10cnVlfHx0ZXh0dXJlLmlzRnJhbWVidWZmZXJUZXh0dXJlJiZ0ZXh0dXJlLm1pbkZpbHRlciE9PU5lYXJlc3RGaWx0ZXImJnRleHR1cmUubWluRmlsdGVyIT09TGluZWFyRmlsdGVyKXtyZXR1cm4gTWF0aC5sb2cyKE1hdGgubWF4KGltYWdlLndpZHRoLGltYWdlLmhlaWdodCkpKzE7fWVsc2UgaWYodGV4dHVyZS5taXBtYXBzIT09dW5kZWZpbmVkJiZ0ZXh0dXJlLm1pcG1hcHMubGVuZ3RoPjApey8vIHVzZXItZGVmaW5lZCBtaXBtYXBzCnJldHVybiB0ZXh0dXJlLm1pcG1hcHMubGVuZ3RoO31lbHNlIGlmKHRleHR1cmUuaXNDb21wcmVzc2VkVGV4dHVyZSYmQXJyYXkuaXNBcnJheSh0ZXh0dXJlLmltYWdlKSl7cmV0dXJuIGltYWdlLm1pcG1hcHMubGVuZ3RoO31lbHNley8vIHRleHR1cmUgd2l0aG91dCBtaXBtYXBzIChvbmx5IGJhc2UgbGV2ZWwpCnJldHVybiAxO319Ly8gRmFsbGJhY2sgZmlsdGVycyBmb3Igbm9uLXBvd2VyLW9mLTIgdGV4dHVyZXMKZnVuY3Rpb24gZmlsdGVyRmFsbGJhY2soZil7aWYoZj09PU5lYXJlc3RGaWx0ZXJ8fGY9PT1OZWFyZXN0TWlwbWFwTmVhcmVzdEZpbHRlcnx8Zj09PU5lYXJlc3RNaXBtYXBMaW5lYXJGaWx0ZXIpe3JldHVybiA5NzI4O31yZXR1cm4gOTcyOTt9Ly8KZnVuY3Rpb24gb25UZXh0dXJlRGlzcG9zZShldmVudCl7dmFyIHRleHR1cmU9ZXZlbnQudGFyZ2V0O3RleHR1cmUucmVtb3ZlRXZlbnRMaXN0ZW5lcignZGlzcG9zZScsb25UZXh0dXJlRGlzcG9zZSk7ZGVhbGxvY2F0ZVRleHR1cmUodGV4dHVyZSk7aWYodGV4dHVyZS5pc1ZpZGVvVGV4dHVyZSl7X3ZpZGVvVGV4dHVyZXMuZGVsZXRlKHRleHR1cmUpO31pbmZvLm1lbW9yeS50ZXh0dXJlcy0tO31mdW5jdGlvbiBvblJlbmRlclRhcmdldERpc3Bvc2UoZXZlbnQpe3ZhciByZW5kZXJUYXJnZXQ9ZXZlbnQudGFyZ2V0O3JlbmRlclRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKCdkaXNwb3NlJyxvblJlbmRlclRhcmdldERpc3Bvc2UpO2RlYWxsb2NhdGVSZW5kZXJUYXJnZXQocmVuZGVyVGFyZ2V0KTt9Ly8KZnVuY3Rpb24gZGVhbGxvY2F0ZVRleHR1cmUodGV4dHVyZSl7dmFyIHRleHR1cmVQcm9wZXJ0aWVzPXByb3BlcnRpZXMuZ2V0KHRleHR1cmUpO2lmKHRleHR1cmVQcm9wZXJ0aWVzLl9fd2ViZ2xJbml0PT09dW5kZWZpbmVkKXJldHVybjtfZ2wuZGVsZXRlVGV4dHVyZSh0ZXh0dXJlUHJvcGVydGllcy5fX3dlYmdsVGV4dHVyZSk7cHJvcGVydGllcy5yZW1vdmUodGV4dHVyZSk7fWZ1bmN0aW9uIGRlYWxsb2NhdGVSZW5kZXJUYXJnZXQocmVuZGVyVGFyZ2V0KXt2YXIgdGV4dHVyZT1yZW5kZXJUYXJnZXQudGV4dHVyZTt2YXIgcmVuZGVyVGFyZ2V0UHJvcGVydGllcz1wcm9wZXJ0aWVzLmdldChyZW5kZXJUYXJnZXQpO3ZhciB0ZXh0dXJlUHJvcGVydGllcz1wcm9wZXJ0aWVzLmdldCh0ZXh0dXJlKTtpZighcmVuZGVyVGFyZ2V0KXJldHVybjtpZih0ZXh0dXJlUHJvcGVydGllcy5fX3dlYmdsVGV4dHVyZSE9PXVuZGVmaW5lZCl7X2dsLmRlbGV0ZVRleHR1cmUodGV4dHVyZVByb3BlcnRpZXMuX193ZWJnbFRleHR1cmUpO2luZm8ubWVtb3J5LnRleHR1cmVzLS07fWlmKHJlbmRlclRhcmdldC5kZXB0aFRleHR1cmUpe3JlbmRlclRhcmdldC5kZXB0aFRleHR1cmUuZGlzcG9zZSgpO31pZihyZW5kZXJUYXJnZXQuaXNXZWJHTEN1YmVSZW5kZXJUYXJnZXQpe2Zvcih2YXIgX2kxMjU9MDtfaTEyNTw2O19pMTI1Kyspe19nbC5kZWxldGVGcmFtZWJ1ZmZlcihyZW5kZXJUYXJnZXRQcm9wZXJ0aWVzLl9fd2ViZ2xGcmFtZWJ1ZmZlcltfaTEyNV0pO2lmKHJlbmRlclRhcmdldFByb3BlcnRpZXMuX193ZWJnbERlcHRoYnVmZmVyKV9nbC5kZWxldGVSZW5kZXJidWZmZXIocmVuZGVyVGFyZ2V0UHJvcGVydGllcy5fX3dlYmdsRGVwdGhidWZmZXJbX2kxMjVdKTt9fWVsc2V7X2dsLmRlbGV0ZUZyYW1lYnVmZmVyKHJlbmRlclRhcmdldFByb3BlcnRpZXMuX193ZWJnbEZyYW1lYnVmZmVyKTtpZihyZW5kZXJUYXJnZXRQcm9wZXJ0aWVzLl9fd2ViZ2xEZXB0aGJ1ZmZlcilfZ2wuZGVsZXRlUmVuZGVyYnVmZmVyKHJlbmRlclRhcmdldFByb3BlcnRpZXMuX193ZWJnbERlcHRoYnVmZmVyKTtpZihyZW5kZXJUYXJnZXRQcm9wZXJ0aWVzLl9fd2ViZ2xNdWx0aXNhbXBsZWRGcmFtZWJ1ZmZlcilfZ2wuZGVsZXRlRnJhbWVidWZmZXIocmVuZGVyVGFyZ2V0UHJvcGVydGllcy5fX3dlYmdsTXVsdGlzYW1wbGVkRnJhbWVidWZmZXIpO2lmKHJlbmRlclRhcmdldFByb3BlcnRpZXMuX193ZWJnbENvbG9yUmVuZGVyYnVmZmVyKV9nbC5kZWxldGVSZW5kZXJidWZmZXIocmVuZGVyVGFyZ2V0UHJvcGVydGllcy5fX3dlYmdsQ29sb3JSZW5kZXJidWZmZXIpO2lmKHJlbmRlclRhcmdldFByb3BlcnRpZXMuX193ZWJnbERlcHRoUmVuZGVyYnVmZmVyKV9nbC5kZWxldGVSZW5kZXJidWZmZXIocmVuZGVyVGFyZ2V0UHJvcGVydGllcy5fX3dlYmdsRGVwdGhSZW5kZXJidWZmZXIpO31pZihyZW5kZXJUYXJnZXQuaXNXZWJHTE11bHRpcGxlUmVuZGVyVGFyZ2V0cyl7Zm9yKHZhciBfaTEyNj0wLGlsPXRleHR1cmUubGVuZ3RoO19pMTI2PGlsO19pMTI2Kyspe3ZhciBhdHRhY2htZW50UHJvcGVydGllcz1wcm9wZXJ0aWVzLmdldCh0ZXh0dXJlW19pMTI2XSk7aWYoYXR0YWNobWVudFByb3BlcnRpZXMuX193ZWJnbFRleHR1cmUpe19nbC5kZWxldGVUZXh0dXJlKGF0dGFjaG1lbnRQcm9wZXJ0aWVzLl9fd2ViZ2xUZXh0dXJlKTtpbmZvLm1lbW9yeS50ZXh0dXJlcy0tO31wcm9wZXJ0aWVzLnJlbW92ZSh0ZXh0dXJlW19pMTI2XSk7fX1wcm9wZXJ0aWVzLnJlbW92ZSh0ZXh0dXJlKTtwcm9wZXJ0aWVzLnJlbW92ZShyZW5kZXJUYXJnZXQpO30vLwp2YXIgdGV4dHVyZVVuaXRzPTA7ZnVuY3Rpb24gcmVzZXRUZXh0dXJlVW5pdHMoKXt0ZXh0dXJlVW5pdHM9MDt9ZnVuY3Rpb24gYWxsb2NhdGVUZXh0dXJlVW5pdCgpe3ZhciB0ZXh0dXJlVW5pdD10ZXh0dXJlVW5pdHM7aWYodGV4dHVyZVVuaXQ+PW1heFRleHR1cmVzKXtjb25zb2xlLndhcm4oJ1RIUkVFLldlYkdMVGV4dHVyZXM6IFRyeWluZyB0byB1c2UgJyt0ZXh0dXJlVW5pdCsnIHRleHR1cmUgdW5pdHMgd2hpbGUgdGhpcyBHUFUgc3VwcG9ydHMgb25seSAnK21heFRleHR1cmVzKTt9dGV4dHVyZVVuaXRzKz0xO3JldHVybiB0ZXh0dXJlVW5pdDt9Ly8KZnVuY3Rpb24gc2V0VGV4dHVyZTJEKHRleHR1cmUsc2xvdCl7dmFyIHRleHR1cmVQcm9wZXJ0aWVzPXByb3BlcnRpZXMuZ2V0KHRleHR1cmUpO2lmKHRleHR1cmUuaXNWaWRlb1RleHR1cmUpdXBkYXRlVmlkZW9UZXh0dXJlKHRleHR1cmUpO2lmKHRleHR1cmUudmVyc2lvbj4wJiZ0ZXh0dXJlUHJvcGVydGllcy5fX3ZlcnNpb24hPT10ZXh0dXJlLnZlcnNpb24pe3ZhciBpbWFnZT10ZXh0dXJlLmltYWdlO2lmKGltYWdlPT09dW5kZWZpbmVkKXtjb25zb2xlLndhcm4oJ1RIUkVFLldlYkdMUmVuZGVyZXI6IFRleHR1cmUgbWFya2VkIGZvciB1cGRhdGUgYnV0IGltYWdlIGlzIHVuZGVmaW5lZCcpO31lbHNlIGlmKGltYWdlLmNvbXBsZXRlPT09ZmFsc2Upe2NvbnNvbGUud2FybignVEhSRUUuV2ViR0xSZW5kZXJlcjogVGV4dHVyZSBtYXJrZWQgZm9yIHVwZGF0ZSBidXQgaW1hZ2UgaXMgaW5jb21wbGV0ZScpO31lbHNle3VwbG9hZFRleHR1cmUodGV4dHVyZVByb3BlcnRpZXMsdGV4dHVyZSxzbG90KTtyZXR1cm47fX1zdGF0ZS5hY3RpdmVUZXh0dXJlKDMzOTg0K3Nsb3QpO3N0YXRlLmJpbmRUZXh0dXJlKDM1NTMsdGV4dHVyZVByb3BlcnRpZXMuX193ZWJnbFRleHR1cmUpO31mdW5jdGlvbiBzZXRUZXh0dXJlMkRBcnJheSh0ZXh0dXJlLHNsb3Qpe3ZhciB0ZXh0dXJlUHJvcGVydGllcz1wcm9wZXJ0aWVzLmdldCh0ZXh0dXJlKTtpZih0ZXh0dXJlLnZlcnNpb24+MCYmdGV4dHVyZVByb3BlcnRpZXMuX192ZXJzaW9uIT09dGV4dHVyZS52ZXJzaW9uKXt1cGxvYWRUZXh0dXJlKHRleHR1cmVQcm9wZXJ0aWVzLHRleHR1cmUsc2xvdCk7cmV0dXJuO31zdGF0ZS5hY3RpdmVUZXh0dXJlKDMzOTg0K3Nsb3QpO3N0YXRlLmJpbmRUZXh0dXJlKDM1ODY2LHRleHR1cmVQcm9wZXJ0aWVzLl9fd2ViZ2xUZXh0dXJlKTt9ZnVuY3Rpb24gc2V0VGV4dHVyZTNEKHRleHR1cmUsc2xvdCl7dmFyIHRleHR1cmVQcm9wZXJ0aWVzPXByb3BlcnRpZXMuZ2V0KHRleHR1cmUpO2lmKHRleHR1cmUudmVyc2lvbj4wJiZ0ZXh0dXJlUHJvcGVydGllcy5fX3ZlcnNpb24hPT10ZXh0dXJlLnZlcnNpb24pe3VwbG9hZFRleHR1cmUodGV4dHVyZVByb3BlcnRpZXMsdGV4dHVyZSxzbG90KTtyZXR1cm47fXN0YXRlLmFjdGl2ZVRleHR1cmUoMzM5ODQrc2xvdCk7c3RhdGUuYmluZFRleHR1cmUoMzI4NzksdGV4dHVyZVByb3BlcnRpZXMuX193ZWJnbFRleHR1cmUpO31mdW5jdGlvbiBzZXRUZXh0dXJlQ3ViZSh0ZXh0dXJlLHNsb3Qpe3ZhciB0ZXh0dXJlUHJvcGVydGllcz1wcm9wZXJ0aWVzLmdldCh0ZXh0dXJlKTtpZih0ZXh0dXJlLnZlcnNpb24+MCYmdGV4dHVyZVByb3BlcnRpZXMuX192ZXJzaW9uIT09dGV4dHVyZS52ZXJzaW9uKXt1cGxvYWRDdWJlVGV4dHVyZSh0ZXh0dXJlUHJvcGVydGllcyx0ZXh0dXJlLHNsb3QpO3JldHVybjt9c3RhdGUuYWN0aXZlVGV4dHVyZSgzMzk4NCtzbG90KTtzdGF0ZS5iaW5kVGV4dHVyZSgzNDA2Nyx0ZXh0dXJlUHJvcGVydGllcy5fX3dlYmdsVGV4dHVyZSk7fXZhciB3cmFwcGluZ1RvR0w9KF93cmFwcGluZ1RvR0w9e30sX2RlZmluZVByb3BlcnR5KF93cmFwcGluZ1RvR0wsUmVwZWF0V3JhcHBpbmcsMTA0OTcpLF9kZWZpbmVQcm9wZXJ0eShfd3JhcHBpbmdUb0dMLENsYW1wVG9FZGdlV3JhcHBpbmcsMzMwNzEpLF9kZWZpbmVQcm9wZXJ0eShfd3JhcHBpbmdUb0dMLE1pcnJvcmVkUmVwZWF0V3JhcHBpbmcsMzM2NDgpLF93cmFwcGluZ1RvR0wpO3ZhciBmaWx0ZXJUb0dMPShfZmlsdGVyVG9HTD17fSxfZGVmaW5lUHJvcGVydHkoX2ZpbHRlclRvR0wsTmVhcmVzdEZpbHRlciw5NzI4KSxfZGVmaW5lUHJvcGVydHkoX2ZpbHRlclRvR0wsTmVhcmVzdE1pcG1hcE5lYXJlc3RGaWx0ZXIsOTk4NCksX2RlZmluZVByb3BlcnR5KF9maWx0ZXJUb0dMLE5lYXJlc3RNaXBtYXBMaW5lYXJGaWx0ZXIsOTk4NiksX2RlZmluZVByb3BlcnR5KF9maWx0ZXJUb0dMLExpbmVhckZpbHRlciw5NzI5KSxfZGVmaW5lUHJvcGVydHkoX2ZpbHRlclRvR0wsTGluZWFyTWlwbWFwTmVhcmVzdEZpbHRlciw5OTg1KSxfZGVmaW5lUHJvcGVydHkoX2ZpbHRlclRvR0wsTGluZWFyTWlwbWFwTGluZWFyRmlsdGVyLDk5ODcpLF9maWx0ZXJUb0dMKTtmdW5jdGlvbiBzZXRUZXh0dXJlUGFyYW1ldGVycyh0ZXh0dXJlVHlwZSx0ZXh0dXJlLHN1cHBvcnRzTWlwcyl7aWYoc3VwcG9ydHNNaXBzKXtfZ2wudGV4UGFyYW1ldGVyaSh0ZXh0dXJlVHlwZSwxMDI0Mix3cmFwcGluZ1RvR0xbdGV4dHVyZS53cmFwU10pO19nbC50ZXhQYXJhbWV0ZXJpKHRleHR1cmVUeXBlLDEwMjQzLHdyYXBwaW5nVG9HTFt0ZXh0dXJlLndyYXBUXSk7aWYodGV4dHVyZVR5cGU9PT0zMjg3OXx8dGV4dHVyZVR5cGU9PT0zNTg2Nil7X2dsLnRleFBhcmFtZXRlcmkodGV4dHVyZVR5cGUsMzI4ODIsd3JhcHBpbmdUb0dMW3RleHR1cmUud3JhcFJdKTt9X2dsLnRleFBhcmFtZXRlcmkodGV4dHVyZVR5cGUsMTAyNDAsZmlsdGVyVG9HTFt0ZXh0dXJlLm1hZ0ZpbHRlcl0pO19nbC50ZXhQYXJhbWV0ZXJpKHRleHR1cmVUeXBlLDEwMjQxLGZpbHRlclRvR0xbdGV4dHVyZS5taW5GaWx0ZXJdKTt9ZWxzZXtfZ2wudGV4UGFyYW1ldGVyaSh0ZXh0dXJlVHlwZSwxMDI0MiwzMzA3MSk7X2dsLnRleFBhcmFtZXRlcmkodGV4dHVyZVR5cGUsMTAyNDMsMzMwNzEpO2lmKHRleHR1cmVUeXBlPT09MzI4Nzl8fHRleHR1cmVUeXBlPT09MzU4NjYpe19nbC50ZXhQYXJhbWV0ZXJpKHRleHR1cmVUeXBlLDMyODgyLDMzMDcxKTt9aWYodGV4dHVyZS53cmFwUyE9PUNsYW1wVG9FZGdlV3JhcHBpbmd8fHRleHR1cmUud3JhcFQhPT1DbGFtcFRvRWRnZVdyYXBwaW5nKXtjb25zb2xlLndhcm4oJ1RIUkVFLldlYkdMUmVuZGVyZXI6IFRleHR1cmUgaXMgbm90IHBvd2VyIG9mIHR3by4gVGV4dHVyZS53cmFwUyBhbmQgVGV4dHVyZS53cmFwVCBzaG91bGQgYmUgc2V0IHRvIFRIUkVFLkNsYW1wVG9FZGdlV3JhcHBpbmcuJyk7fV9nbC50ZXhQYXJhbWV0ZXJpKHRleHR1cmVUeXBlLDEwMjQwLGZpbHRlckZhbGxiYWNrKHRleHR1cmUubWFnRmlsdGVyKSk7X2dsLnRleFBhcmFtZXRlcmkodGV4dHVyZVR5cGUsMTAyNDEsZmlsdGVyRmFsbGJhY2sodGV4dHVyZS5taW5GaWx0ZXIpKTtpZih0ZXh0dXJlLm1pbkZpbHRlciE9PU5lYXJlc3RGaWx0ZXImJnRleHR1cmUubWluRmlsdGVyIT09TGluZWFyRmlsdGVyKXtjb25zb2xlLndhcm4oJ1RIUkVFLldlYkdMUmVuZGVyZXI6IFRleHR1cmUgaXMgbm90IHBvd2VyIG9mIHR3by4gVGV4dHVyZS5taW5GaWx0ZXIgc2hvdWxkIGJlIHNldCB0byBUSFJFRS5OZWFyZXN0RmlsdGVyIG9yIFRIUkVFLkxpbmVhckZpbHRlci4nKTt9fWlmKGV4dGVuc2lvbnMuaGFzKCdFWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWMnKT09PXRydWUpe3ZhciBleHRlbnNpb249ZXh0ZW5zaW9ucy5nZXQoJ0VYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYycpO2lmKHRleHR1cmUudHlwZT09PUZsb2F0VHlwZSYmZXh0ZW5zaW9ucy5oYXMoJ09FU190ZXh0dXJlX2Zsb2F0X2xpbmVhcicpPT09ZmFsc2UpcmV0dXJuOy8vIHZlcmlmeSBleHRlbnNpb24gZm9yIFdlYkdMIDEgYW5kIFdlYkdMIDIKaWYoaXNXZWJHTDI9PT1mYWxzZSYmdGV4dHVyZS50eXBlPT09SGFsZkZsb2F0VHlwZSYmZXh0ZW5zaW9ucy5oYXMoJ09FU190ZXh0dXJlX2hhbGZfZmxvYXRfbGluZWFyJyk9PT1mYWxzZSlyZXR1cm47Ly8gdmVyaWZ5IGV4dGVuc2lvbiBmb3IgV2ViR0wgMSBvbmx5CmlmKHRleHR1cmUuYW5pc290cm9weT4xfHxwcm9wZXJ0aWVzLmdldCh0ZXh0dXJlKS5fX2N1cnJlbnRBbmlzb3Ryb3B5KXtfZ2wudGV4UGFyYW1ldGVyZih0ZXh0dXJlVHlwZSxleHRlbnNpb24uVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQsTWF0aC5taW4odGV4dHVyZS5hbmlzb3Ryb3B5LGNhcGFiaWxpdGllcy5nZXRNYXhBbmlzb3Ryb3B5KCkpKTtwcm9wZXJ0aWVzLmdldCh0ZXh0dXJlKS5fX2N1cnJlbnRBbmlzb3Ryb3B5PXRleHR1cmUuYW5pc290cm9weTt9fX1mdW5jdGlvbiBpbml0VGV4dHVyZSh0ZXh0dXJlUHJvcGVydGllcyx0ZXh0dXJlKXtpZih0ZXh0dXJlUHJvcGVydGllcy5fX3dlYmdsSW5pdD09PXVuZGVmaW5lZCl7dGV4dHVyZVByb3BlcnRpZXMuX193ZWJnbEluaXQ9dHJ1ZTt0ZXh0dXJlLmFkZEV2ZW50TGlzdGVuZXIoJ2Rpc3Bvc2UnLG9uVGV4dHVyZURpc3Bvc2UpO3RleHR1cmVQcm9wZXJ0aWVzLl9fd2ViZ2xUZXh0dXJlPV9nbC5jcmVhdGVUZXh0dXJlKCk7aW5mby5tZW1vcnkudGV4dHVyZXMrKzt9fWZ1bmN0aW9uIHVwbG9hZFRleHR1cmUodGV4dHVyZVByb3BlcnRpZXMsdGV4dHVyZSxzbG90KXt2YXIgdGV4dHVyZVR5cGU9MzU1MztpZih0ZXh0dXJlLmlzRGF0YVRleHR1cmUyREFycmF5KXRleHR1cmVUeXBlPTM1ODY2O2lmKHRleHR1cmUuaXNEYXRhVGV4dHVyZTNEKXRleHR1cmVUeXBlPTMyODc5O2luaXRUZXh0dXJlKHRleHR1cmVQcm9wZXJ0aWVzLHRleHR1cmUpO3N0YXRlLmFjdGl2ZVRleHR1cmUoMzM5ODQrc2xvdCk7c3RhdGUuYmluZFRleHR1cmUodGV4dHVyZVR5cGUsdGV4dHVyZVByb3BlcnRpZXMuX193ZWJnbFRleHR1cmUpO19nbC5waXhlbFN0b3JlaSgzNzQ0MCx0ZXh0dXJlLmZsaXBZKTtfZ2wucGl4ZWxTdG9yZWkoMzc0NDEsdGV4dHVyZS5wcmVtdWx0aXBseUFscGhhKTtfZ2wucGl4ZWxTdG9yZWkoMzMxNyx0ZXh0dXJlLnVucGFja0FsaWdubWVudCk7X2dsLnBpeGVsU3RvcmVpKDM3NDQzLDApO3ZhciBuZWVkc1Bvd2VyT2ZUd289dGV4dHVyZU5lZWRzUG93ZXJPZlR3byh0ZXh0dXJlKSYmaXNQb3dlck9mVHdvJDEodGV4dHVyZS5pbWFnZSk9PT1mYWxzZTt2YXIgaW1hZ2U9cmVzaXplSW1hZ2UodGV4dHVyZS5pbWFnZSxuZWVkc1Bvd2VyT2ZUd28sZmFsc2UsbWF4VGV4dHVyZVNpemUpO2ltYWdlPXZlcmlmeUNvbG9yU3BhY2UodGV4dHVyZSxpbWFnZSk7dmFyIHN1cHBvcnRzTWlwcz1pc1Bvd2VyT2ZUd28kMShpbWFnZSl8fGlzV2ViR0wyLGdsRm9ybWF0PXV0aWxzLmNvbnZlcnQodGV4dHVyZS5mb3JtYXQsdGV4dHVyZS5lbmNvZGluZyk7dmFyIGdsVHlwZT11dGlscy5jb252ZXJ0KHRleHR1cmUudHlwZSksZ2xJbnRlcm5hbEZvcm1hdD1nZXRJbnRlcm5hbEZvcm1hdCh0ZXh0dXJlLmludGVybmFsRm9ybWF0LGdsRm9ybWF0LGdsVHlwZSx0ZXh0dXJlLmVuY29kaW5nLHRleHR1cmUuaXNWaWRlb1RleHR1cmUpO3NldFRleHR1cmVQYXJhbWV0ZXJzKHRleHR1cmVUeXBlLHRleHR1cmUsc3VwcG9ydHNNaXBzKTt2YXIgbWlwbWFwO3ZhciBtaXBtYXBzPXRleHR1cmUubWlwbWFwczt2YXIgdXNlVGV4U3RvcmFnZT1pc1dlYkdMMiYmdGV4dHVyZS5pc1ZpZGVvVGV4dHVyZSE9PXRydWU7dmFyIGFsbG9jYXRlTWVtb3J5PXRleHR1cmVQcm9wZXJ0aWVzLl9fdmVyc2lvbj09PXVuZGVmaW5lZDt2YXIgbGV2ZWxzPWdldE1pcExldmVscyh0ZXh0dXJlLGltYWdlLHN1cHBvcnRzTWlwcyk7aWYodGV4dHVyZS5pc0RlcHRoVGV4dHVyZSl7Ly8gcG9wdWxhdGUgZGVwdGggdGV4dHVyZSB3aXRoIGR1bW15IGRhdGEKZ2xJbnRlcm5hbEZvcm1hdD02NDAyO2lmKGlzV2ViR0wyKXtpZih0ZXh0dXJlLnR5cGU9PT1GbG9hdFR5cGUpe2dsSW50ZXJuYWxGb3JtYXQ9MzYwMTI7fWVsc2UgaWYodGV4dHVyZS50eXBlPT09VW5zaWduZWRJbnRUeXBlKXtnbEludGVybmFsRm9ybWF0PTMzMTkwO31lbHNlIGlmKHRleHR1cmUudHlwZT09PVVuc2lnbmVkSW50MjQ4VHlwZSl7Z2xJbnRlcm5hbEZvcm1hdD0zNTA1Njt9ZWxzZXtnbEludGVybmFsRm9ybWF0PTMzMTg5Oy8vIFdlYkdMMiByZXF1aXJlcyBzaXplZCBpbnRlcm5hbGZvcm1hdCBmb3IgZ2xUZXhJbWFnZTJECn19ZWxzZXtpZih0ZXh0dXJlLnR5cGU9PT1GbG9hdFR5cGUpe2NvbnNvbGUuZXJyb3IoJ1dlYkdMUmVuZGVyZXI6IEZsb2F0aW5nIHBvaW50IGRlcHRoIHRleHR1cmUgcmVxdWlyZXMgV2ViR0wyLicpO319Ly8gdmFsaWRhdGlvbiBjaGVja3MgZm9yIFdlYkdMIDEKaWYodGV4dHVyZS5mb3JtYXQ9PT1EZXB0aEZvcm1hdCYmZ2xJbnRlcm5hbEZvcm1hdD09PTY0MDIpey8vIFRoZSBlcnJvciBJTlZBTElEX09QRVJBVElPTiBpcyBnZW5lcmF0ZWQgYnkgdGV4SW1hZ2UyRCBpZiBmb3JtYXQgYW5kIGludGVybmFsZm9ybWF0IGFyZQovLyBERVBUSF9DT01QT05FTlQgYW5kIHR5cGUgaXMgbm90IFVOU0lHTkVEX1NIT1JUIG9yIFVOU0lHTkVEX0lOVAovLyAoaHR0cHM6Ly93d3cua2hyb25vcy5vcmcvcmVnaXN0cnkvd2ViZ2wvZXh0ZW5zaW9ucy9XRUJHTF9kZXB0aF90ZXh0dXJlLykKaWYodGV4dHVyZS50eXBlIT09VW5zaWduZWRTaG9ydFR5cGUmJnRleHR1cmUudHlwZSE9PVVuc2lnbmVkSW50VHlwZSl7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFJlbmRlcmVyOiBVc2UgVW5zaWduZWRTaG9ydFR5cGUgb3IgVW5zaWduZWRJbnRUeXBlIGZvciBEZXB0aEZvcm1hdCBEZXB0aFRleHR1cmUuJyk7dGV4dHVyZS50eXBlPVVuc2lnbmVkU2hvcnRUeXBlO2dsVHlwZT11dGlscy5jb252ZXJ0KHRleHR1cmUudHlwZSk7fX1pZih0ZXh0dXJlLmZvcm1hdD09PURlcHRoU3RlbmNpbEZvcm1hdCYmZ2xJbnRlcm5hbEZvcm1hdD09PTY0MDIpey8vIERlcHRoIHN0ZW5jaWwgdGV4dHVyZXMgbmVlZCB0aGUgREVQVEhfU1RFTkNJTCBpbnRlcm5hbCBmb3JtYXQKLy8gKGh0dHBzOi8vd3d3Lmtocm9ub3Mub3JnL3JlZ2lzdHJ5L3dlYmdsL2V4dGVuc2lvbnMvV0VCR0xfZGVwdGhfdGV4dHVyZS8pCmdsSW50ZXJuYWxGb3JtYXQ9MzQwNDE7Ly8gVGhlIGVycm9yIElOVkFMSURfT1BFUkFUSU9OIGlzIGdlbmVyYXRlZCBieSB0ZXhJbWFnZTJEIGlmIGZvcm1hdCBhbmQgaW50ZXJuYWxmb3JtYXQgYXJlCi8vIERFUFRIX1NURU5DSUwgYW5kIHR5cGUgaXMgbm90IFVOU0lHTkVEX0lOVF8yNF84X1dFQkdMLgovLyAoaHR0cHM6Ly93d3cua2hyb25vcy5vcmcvcmVnaXN0cnkvd2ViZ2wvZXh0ZW5zaW9ucy9XRUJHTF9kZXB0aF90ZXh0dXJlLykKaWYodGV4dHVyZS50eXBlIT09VW5zaWduZWRJbnQyNDhUeXBlKXtjb25zb2xlLndhcm4oJ1RIUkVFLldlYkdMUmVuZGVyZXI6IFVzZSBVbnNpZ25lZEludDI0OFR5cGUgZm9yIERlcHRoU3RlbmNpbEZvcm1hdCBEZXB0aFRleHR1cmUuJyk7dGV4dHVyZS50eXBlPVVuc2lnbmVkSW50MjQ4VHlwZTtnbFR5cGU9dXRpbHMuY29udmVydCh0ZXh0dXJlLnR5cGUpO319Ly8KaWYodXNlVGV4U3RvcmFnZSYmYWxsb2NhdGVNZW1vcnkpe3N0YXRlLnRleFN0b3JhZ2UyRCgzNTUzLDEsZ2xJbnRlcm5hbEZvcm1hdCxpbWFnZS53aWR0aCxpbWFnZS5oZWlnaHQpO31lbHNle3N0YXRlLnRleEltYWdlMkQoMzU1MywwLGdsSW50ZXJuYWxGb3JtYXQsaW1hZ2Uud2lkdGgsaW1hZ2UuaGVpZ2h0LDAsZ2xGb3JtYXQsZ2xUeXBlLG51bGwpO319ZWxzZSBpZih0ZXh0dXJlLmlzRGF0YVRleHR1cmUpey8vIHVzZSBtYW51YWxseSBjcmVhdGVkIG1pcG1hcHMgaWYgYXZhaWxhYmxlCi8vIGlmIHRoZXJlIGFyZSBubyBtYW51YWwgbWlwbWFwcwovLyBzZXQgMCBsZXZlbCBtaXBtYXAgYW5kIHRoZW4gdXNlIEdMIHRvIGdlbmVyYXRlIG90aGVyIG1pcG1hcCBsZXZlbHMKaWYobWlwbWFwcy5sZW5ndGg+MCYmc3VwcG9ydHNNaXBzKXtpZih1c2VUZXhTdG9yYWdlJiZhbGxvY2F0ZU1lbW9yeSl7c3RhdGUudGV4U3RvcmFnZTJEKDM1NTMsbGV2ZWxzLGdsSW50ZXJuYWxGb3JtYXQsbWlwbWFwc1swXS53aWR0aCxtaXBtYXBzWzBdLmhlaWdodCk7fWZvcih2YXIgX2kxMjc9MCxpbD1taXBtYXBzLmxlbmd0aDtfaTEyNzxpbDtfaTEyNysrKXttaXBtYXA9bWlwbWFwc1tfaTEyN107aWYodXNlVGV4U3RvcmFnZSl7c3RhdGUudGV4U3ViSW1hZ2UyRCgzNTUzLDAsMCwwLG1pcG1hcC53aWR0aCxtaXBtYXAuaGVpZ2h0LGdsRm9ybWF0LGdsVHlwZSxtaXBtYXAuZGF0YSk7fWVsc2V7c3RhdGUudGV4SW1hZ2UyRCgzNTUzLF9pMTI3LGdsSW50ZXJuYWxGb3JtYXQsbWlwbWFwLndpZHRoLG1pcG1hcC5oZWlnaHQsMCxnbEZvcm1hdCxnbFR5cGUsbWlwbWFwLmRhdGEpO319dGV4dHVyZS5nZW5lcmF0ZU1pcG1hcHM9ZmFsc2U7fWVsc2V7aWYodXNlVGV4U3RvcmFnZSl7aWYoYWxsb2NhdGVNZW1vcnkpe3N0YXRlLnRleFN0b3JhZ2UyRCgzNTUzLGxldmVscyxnbEludGVybmFsRm9ybWF0LGltYWdlLndpZHRoLGltYWdlLmhlaWdodCk7fXN0YXRlLnRleFN1YkltYWdlMkQoMzU1MywwLDAsMCxpbWFnZS53aWR0aCxpbWFnZS5oZWlnaHQsZ2xGb3JtYXQsZ2xUeXBlLGltYWdlLmRhdGEpO31lbHNle3N0YXRlLnRleEltYWdlMkQoMzU1MywwLGdsSW50ZXJuYWxGb3JtYXQsaW1hZ2Uud2lkdGgsaW1hZ2UuaGVpZ2h0LDAsZ2xGb3JtYXQsZ2xUeXBlLGltYWdlLmRhdGEpO319fWVsc2UgaWYodGV4dHVyZS5pc0NvbXByZXNzZWRUZXh0dXJlKXtpZih1c2VUZXhTdG9yYWdlJiZhbGxvY2F0ZU1lbW9yeSl7c3RhdGUudGV4U3RvcmFnZTJEKDM1NTMsbGV2ZWxzLGdsSW50ZXJuYWxGb3JtYXQsbWlwbWFwc1swXS53aWR0aCxtaXBtYXBzWzBdLmhlaWdodCk7fWZvcih2YXIgX2kxMjg9MCxfaWw5PW1pcG1hcHMubGVuZ3RoO19pMTI4PF9pbDk7X2kxMjgrKyl7bWlwbWFwPW1pcG1hcHNbX2kxMjhdO2lmKHRleHR1cmUuZm9ybWF0IT09UkdCQUZvcm1hdCl7aWYoZ2xGb3JtYXQhPT1udWxsKXtpZih1c2VUZXhTdG9yYWdlKXtzdGF0ZS5jb21wcmVzc2VkVGV4U3ViSW1hZ2UyRCgzNTUzLF9pMTI4LDAsMCxtaXBtYXAud2lkdGgsbWlwbWFwLmhlaWdodCxnbEZvcm1hdCxtaXBtYXAuZGF0YSk7fWVsc2V7c3RhdGUuY29tcHJlc3NlZFRleEltYWdlMkQoMzU1MyxfaTEyOCxnbEludGVybmFsRm9ybWF0LG1pcG1hcC53aWR0aCxtaXBtYXAuaGVpZ2h0LDAsbWlwbWFwLmRhdGEpO319ZWxzZXtjb25zb2xlLndhcm4oJ1RIUkVFLldlYkdMUmVuZGVyZXI6IEF0dGVtcHQgdG8gbG9hZCB1bnN1cHBvcnRlZCBjb21wcmVzc2VkIHRleHR1cmUgZm9ybWF0IGluIC51cGxvYWRUZXh0dXJlKCknKTt9fWVsc2V7aWYodXNlVGV4U3RvcmFnZSl7c3RhdGUudGV4U3ViSW1hZ2UyRCgzNTUzLF9pMTI4LDAsMCxtaXBtYXAud2lkdGgsbWlwbWFwLmhlaWdodCxnbEZvcm1hdCxnbFR5cGUsbWlwbWFwLmRhdGEpO31lbHNle3N0YXRlLnRleEltYWdlMkQoMzU1MyxfaTEyOCxnbEludGVybmFsRm9ybWF0LG1pcG1hcC53aWR0aCxtaXBtYXAuaGVpZ2h0LDAsZ2xGb3JtYXQsZ2xUeXBlLG1pcG1hcC5kYXRhKTt9fX19ZWxzZSBpZih0ZXh0dXJlLmlzRGF0YVRleHR1cmUyREFycmF5KXtpZih1c2VUZXhTdG9yYWdlKXtpZihhbGxvY2F0ZU1lbW9yeSl7c3RhdGUudGV4U3RvcmFnZTNEKDM1ODY2LGxldmVscyxnbEludGVybmFsRm9ybWF0LGltYWdlLndpZHRoLGltYWdlLmhlaWdodCxpbWFnZS5kZXB0aCk7fXN0YXRlLnRleFN1YkltYWdlM0QoMzU4NjYsMCwwLDAsMCxpbWFnZS53aWR0aCxpbWFnZS5oZWlnaHQsaW1hZ2UuZGVwdGgsZ2xGb3JtYXQsZ2xUeXBlLGltYWdlLmRhdGEpO31lbHNle3N0YXRlLnRleEltYWdlM0QoMzU4NjYsMCxnbEludGVybmFsRm9ybWF0LGltYWdlLndpZHRoLGltYWdlLmhlaWdodCxpbWFnZS5kZXB0aCwwLGdsRm9ybWF0LGdsVHlwZSxpbWFnZS5kYXRhKTt9fWVsc2UgaWYodGV4dHVyZS5pc0RhdGFUZXh0dXJlM0Qpe2lmKHVzZVRleFN0b3JhZ2Upe2lmKGFsbG9jYXRlTWVtb3J5KXtzdGF0ZS50ZXhTdG9yYWdlM0QoMzI4NzksbGV2ZWxzLGdsSW50ZXJuYWxGb3JtYXQsaW1hZ2Uud2lkdGgsaW1hZ2UuaGVpZ2h0LGltYWdlLmRlcHRoKTt9c3RhdGUudGV4U3ViSW1hZ2UzRCgzMjg3OSwwLDAsMCwwLGltYWdlLndpZHRoLGltYWdlLmhlaWdodCxpbWFnZS5kZXB0aCxnbEZvcm1hdCxnbFR5cGUsaW1hZ2UuZGF0YSk7fWVsc2V7c3RhdGUudGV4SW1hZ2UzRCgzMjg3OSwwLGdsSW50ZXJuYWxGb3JtYXQsaW1hZ2Uud2lkdGgsaW1hZ2UuaGVpZ2h0LGltYWdlLmRlcHRoLDAsZ2xGb3JtYXQsZ2xUeXBlLGltYWdlLmRhdGEpO319ZWxzZSBpZih0ZXh0dXJlLmlzRnJhbWVidWZmZXJUZXh0dXJlKXtpZih1c2VUZXhTdG9yYWdlJiZhbGxvY2F0ZU1lbW9yeSl7c3RhdGUudGV4U3RvcmFnZTJEKDM1NTMsbGV2ZWxzLGdsSW50ZXJuYWxGb3JtYXQsaW1hZ2Uud2lkdGgsaW1hZ2UuaGVpZ2h0KTt9ZWxzZXtzdGF0ZS50ZXhJbWFnZTJEKDM1NTMsMCxnbEludGVybmFsRm9ybWF0LGltYWdlLndpZHRoLGltYWdlLmhlaWdodCwwLGdsRm9ybWF0LGdsVHlwZSxudWxsKTt9fWVsc2V7Ly8gcmVndWxhciBUZXh0dXJlIChpbWFnZSwgdmlkZW8sIGNhbnZhcykKLy8gdXNlIG1hbnVhbGx5IGNyZWF0ZWQgbWlwbWFwcyBpZiBhdmFpbGFibGUKLy8gaWYgdGhlcmUgYXJlIG5vIG1hbnVhbCBtaXBtYXBzCi8vIHNldCAwIGxldmVsIG1pcG1hcCBhbmQgdGhlbiB1c2UgR0wgdG8gZ2VuZXJhdGUgb3RoZXIgbWlwbWFwIGxldmVscwppZihtaXBtYXBzLmxlbmd0aD4wJiZzdXBwb3J0c01pcHMpe2lmKHVzZVRleFN0b3JhZ2UmJmFsbG9jYXRlTWVtb3J5KXtzdGF0ZS50ZXhTdG9yYWdlMkQoMzU1MyxsZXZlbHMsZ2xJbnRlcm5hbEZvcm1hdCxtaXBtYXBzWzBdLndpZHRoLG1pcG1hcHNbMF0uaGVpZ2h0KTt9Zm9yKHZhciBfaTEyOT0wLF9pbDEwPW1pcG1hcHMubGVuZ3RoO19pMTI5PF9pbDEwO19pMTI5Kyspe21pcG1hcD1taXBtYXBzW19pMTI5XTtpZih1c2VUZXhTdG9yYWdlKXtzdGF0ZS50ZXhTdWJJbWFnZTJEKDM1NTMsX2kxMjksMCwwLGdsRm9ybWF0LGdsVHlwZSxtaXBtYXApO31lbHNle3N0YXRlLnRleEltYWdlMkQoMzU1MyxfaTEyOSxnbEludGVybmFsRm9ybWF0LGdsRm9ybWF0LGdsVHlwZSxtaXBtYXApO319dGV4dHVyZS5nZW5lcmF0ZU1pcG1hcHM9ZmFsc2U7fWVsc2V7aWYodXNlVGV4U3RvcmFnZSl7aWYoYWxsb2NhdGVNZW1vcnkpe3N0YXRlLnRleFN0b3JhZ2UyRCgzNTUzLGxldmVscyxnbEludGVybmFsRm9ybWF0LGltYWdlLndpZHRoLGltYWdlLmhlaWdodCk7fXN0YXRlLnRleFN1YkltYWdlMkQoMzU1MywwLDAsMCxnbEZvcm1hdCxnbFR5cGUsaW1hZ2UpO31lbHNle3N0YXRlLnRleEltYWdlMkQoMzU1MywwLGdsSW50ZXJuYWxGb3JtYXQsZ2xGb3JtYXQsZ2xUeXBlLGltYWdlKTt9fX1pZih0ZXh0dXJlTmVlZHNHZW5lcmF0ZU1pcG1hcHModGV4dHVyZSxzdXBwb3J0c01pcHMpKXtnZW5lcmF0ZU1pcG1hcCh0ZXh0dXJlVHlwZSk7fXRleHR1cmVQcm9wZXJ0aWVzLl9fdmVyc2lvbj10ZXh0dXJlLnZlcnNpb247aWYodGV4dHVyZS5vblVwZGF0ZSl0ZXh0dXJlLm9uVXBkYXRlKHRleHR1cmUpO31mdW5jdGlvbiB1cGxvYWRDdWJlVGV4dHVyZSh0ZXh0dXJlUHJvcGVydGllcyx0ZXh0dXJlLHNsb3Qpe2lmKHRleHR1cmUuaW1hZ2UubGVuZ3RoIT09NilyZXR1cm47aW5pdFRleHR1cmUodGV4dHVyZVByb3BlcnRpZXMsdGV4dHVyZSk7c3RhdGUuYWN0aXZlVGV4dHVyZSgzMzk4NCtzbG90KTtzdGF0ZS5iaW5kVGV4dHVyZSgzNDA2Nyx0ZXh0dXJlUHJvcGVydGllcy5fX3dlYmdsVGV4dHVyZSk7X2dsLnBpeGVsU3RvcmVpKDM3NDQwLHRleHR1cmUuZmxpcFkpO19nbC5waXhlbFN0b3JlaSgzNzQ0MSx0ZXh0dXJlLnByZW11bHRpcGx5QWxwaGEpO19nbC5waXhlbFN0b3JlaSgzMzE3LHRleHR1cmUudW5wYWNrQWxpZ25tZW50KTtfZ2wucGl4ZWxTdG9yZWkoMzc0NDMsMCk7dmFyIGlzQ29tcHJlc3NlZD10ZXh0dXJlJiYodGV4dHVyZS5pc0NvbXByZXNzZWRUZXh0dXJlfHx0ZXh0dXJlLmltYWdlWzBdLmlzQ29tcHJlc3NlZFRleHR1cmUpO3ZhciBpc0RhdGFUZXh0dXJlPXRleHR1cmUuaW1hZ2VbMF0mJnRleHR1cmUuaW1hZ2VbMF0uaXNEYXRhVGV4dHVyZTt2YXIgY3ViZUltYWdlPVtdO2Zvcih2YXIgX2kxMzA9MDtfaTEzMDw2O19pMTMwKyspe2lmKCFpc0NvbXByZXNzZWQmJiFpc0RhdGFUZXh0dXJlKXtjdWJlSW1hZ2VbX2kxMzBdPXJlc2l6ZUltYWdlKHRleHR1cmUuaW1hZ2VbX2kxMzBdLGZhbHNlLHRydWUsbWF4Q3ViZW1hcFNpemUpO31lbHNle2N1YmVJbWFnZVtfaTEzMF09aXNEYXRhVGV4dHVyZT90ZXh0dXJlLmltYWdlW19pMTMwXS5pbWFnZTp0ZXh0dXJlLmltYWdlW19pMTMwXTt9Y3ViZUltYWdlW19pMTMwXT12ZXJpZnlDb2xvclNwYWNlKHRleHR1cmUsY3ViZUltYWdlW19pMTMwXSk7fXZhciBpbWFnZT1jdWJlSW1hZ2VbMF0sc3VwcG9ydHNNaXBzPWlzUG93ZXJPZlR3byQxKGltYWdlKXx8aXNXZWJHTDIsZ2xGb3JtYXQ9dXRpbHMuY29udmVydCh0ZXh0dXJlLmZvcm1hdCx0ZXh0dXJlLmVuY29kaW5nKSxnbFR5cGU9dXRpbHMuY29udmVydCh0ZXh0dXJlLnR5cGUpLGdsSW50ZXJuYWxGb3JtYXQ9Z2V0SW50ZXJuYWxGb3JtYXQodGV4dHVyZS5pbnRlcm5hbEZvcm1hdCxnbEZvcm1hdCxnbFR5cGUsdGV4dHVyZS5lbmNvZGluZyk7dmFyIHVzZVRleFN0b3JhZ2U9aXNXZWJHTDImJnRleHR1cmUuaXNWaWRlb1RleHR1cmUhPT10cnVlO3ZhciBhbGxvY2F0ZU1lbW9yeT10ZXh0dXJlUHJvcGVydGllcy5fX3ZlcnNpb249PT11bmRlZmluZWQ7dmFyIGxldmVscz1nZXRNaXBMZXZlbHModGV4dHVyZSxpbWFnZSxzdXBwb3J0c01pcHMpO3NldFRleHR1cmVQYXJhbWV0ZXJzKDM0MDY3LHRleHR1cmUsc3VwcG9ydHNNaXBzKTt2YXIgbWlwbWFwcztpZihpc0NvbXByZXNzZWQpe2lmKHVzZVRleFN0b3JhZ2UmJmFsbG9jYXRlTWVtb3J5KXtzdGF0ZS50ZXhTdG9yYWdlMkQoMzQwNjcsbGV2ZWxzLGdsSW50ZXJuYWxGb3JtYXQsaW1hZ2Uud2lkdGgsaW1hZ2UuaGVpZ2h0KTt9Zm9yKHZhciBfaTEzMT0wO19pMTMxPDY7X2kxMzErKyl7bWlwbWFwcz1jdWJlSW1hZ2VbX2kxMzFdLm1pcG1hcHM7Zm9yKHZhciBqPTA7ajxtaXBtYXBzLmxlbmd0aDtqKyspe3ZhciBtaXBtYXA9bWlwbWFwc1tqXTtpZih0ZXh0dXJlLmZvcm1hdCE9PVJHQkFGb3JtYXQpe2lmKGdsRm9ybWF0IT09bnVsbCl7aWYodXNlVGV4U3RvcmFnZSl7c3RhdGUuY29tcHJlc3NlZFRleFN1YkltYWdlMkQoMzQwNjkrX2kxMzEsaiwwLDAsbWlwbWFwLndpZHRoLG1pcG1hcC5oZWlnaHQsZ2xGb3JtYXQsbWlwbWFwLmRhdGEpO31lbHNle3N0YXRlLmNvbXByZXNzZWRUZXhJbWFnZTJEKDM0MDY5K19pMTMxLGosZ2xJbnRlcm5hbEZvcm1hdCxtaXBtYXAud2lkdGgsbWlwbWFwLmhlaWdodCwwLG1pcG1hcC5kYXRhKTt9fWVsc2V7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFJlbmRlcmVyOiBBdHRlbXB0IHRvIGxvYWQgdW5zdXBwb3J0ZWQgY29tcHJlc3NlZCB0ZXh0dXJlIGZvcm1hdCBpbiAuc2V0VGV4dHVyZUN1YmUoKScpO319ZWxzZXtpZih1c2VUZXhTdG9yYWdlKXtzdGF0ZS50ZXhTdWJJbWFnZTJEKDM0MDY5K19pMTMxLGosMCwwLG1pcG1hcC53aWR0aCxtaXBtYXAuaGVpZ2h0LGdsRm9ybWF0LGdsVHlwZSxtaXBtYXAuZGF0YSk7fWVsc2V7c3RhdGUudGV4SW1hZ2UyRCgzNDA2OStfaTEzMSxqLGdsSW50ZXJuYWxGb3JtYXQsbWlwbWFwLndpZHRoLG1pcG1hcC5oZWlnaHQsMCxnbEZvcm1hdCxnbFR5cGUsbWlwbWFwLmRhdGEpO319fX19ZWxzZXttaXBtYXBzPXRleHR1cmUubWlwbWFwcztpZih1c2VUZXhTdG9yYWdlJiZhbGxvY2F0ZU1lbW9yeSl7Ly8gVE9ETzogVW5pZm9ybWx5IGhhbmRsZSBtaXBtYXAgZGVmaW5pdGlvbnMKLy8gTm9ybWFsIHRleHR1cmVzIGFuZCBjb21wcmVzc2VkIGN1YmUgdGV4dHVyZXMgZGVmaW5lIGJhc2UgbGV2ZWwgKyBtaXBzIHdpdGggdGhlaXIgbWlwbWFwIGFycmF5Ci8vIFVuY29tcHJlc3NlZCBjdWJlIHRleHR1cmVzIHVzZSB0aGVpciBtaXBtYXAgYXJyYXkgb25seSBmb3IgbWlwcyAobm8gYmFzZSBsZXZlbCkKaWYobWlwbWFwcy5sZW5ndGg+MClsZXZlbHMrKztzdGF0ZS50ZXhTdG9yYWdlMkQoMzQwNjcsbGV2ZWxzLGdsSW50ZXJuYWxGb3JtYXQsY3ViZUltYWdlWzBdLndpZHRoLGN1YmVJbWFnZVswXS5oZWlnaHQpO31mb3IodmFyIF9pMTMyPTA7X2kxMzI8NjtfaTEzMisrKXtpZihpc0RhdGFUZXh0dXJlKXtpZih1c2VUZXhTdG9yYWdlKXtzdGF0ZS50ZXhTdWJJbWFnZTJEKDM0MDY5K19pMTMyLDAsMCwwLGN1YmVJbWFnZVtfaTEzMl0ud2lkdGgsY3ViZUltYWdlW19pMTMyXS5oZWlnaHQsZ2xGb3JtYXQsZ2xUeXBlLGN1YmVJbWFnZVtfaTEzMl0uZGF0YSk7fWVsc2V7c3RhdGUudGV4SW1hZ2UyRCgzNDA2OStfaTEzMiwwLGdsSW50ZXJuYWxGb3JtYXQsY3ViZUltYWdlW19pMTMyXS53aWR0aCxjdWJlSW1hZ2VbX2kxMzJdLmhlaWdodCwwLGdsRm9ybWF0LGdsVHlwZSxjdWJlSW1hZ2VbX2kxMzJdLmRhdGEpO31mb3IodmFyIF9qMz0wO19qMzxtaXBtYXBzLmxlbmd0aDtfajMrKyl7dmFyIF9taXBtYXA9bWlwbWFwc1tfajNdO3ZhciBtaXBtYXBJbWFnZT1fbWlwbWFwLmltYWdlW19pMTMyXS5pbWFnZTtpZih1c2VUZXhTdG9yYWdlKXtzdGF0ZS50ZXhTdWJJbWFnZTJEKDM0MDY5K19pMTMyLF9qMysxLDAsMCxtaXBtYXBJbWFnZS53aWR0aCxtaXBtYXBJbWFnZS5oZWlnaHQsZ2xGb3JtYXQsZ2xUeXBlLG1pcG1hcEltYWdlLmRhdGEpO31lbHNle3N0YXRlLnRleEltYWdlMkQoMzQwNjkrX2kxMzIsX2ozKzEsZ2xJbnRlcm5hbEZvcm1hdCxtaXBtYXBJbWFnZS53aWR0aCxtaXBtYXBJbWFnZS5oZWlnaHQsMCxnbEZvcm1hdCxnbFR5cGUsbWlwbWFwSW1hZ2UuZGF0YSk7fX19ZWxzZXtpZih1c2VUZXhTdG9yYWdlKXtzdGF0ZS50ZXhTdWJJbWFnZTJEKDM0MDY5K19pMTMyLDAsMCwwLGdsRm9ybWF0LGdsVHlwZSxjdWJlSW1hZ2VbX2kxMzJdKTt9ZWxzZXtzdGF0ZS50ZXhJbWFnZTJEKDM0MDY5K19pMTMyLDAsZ2xJbnRlcm5hbEZvcm1hdCxnbEZvcm1hdCxnbFR5cGUsY3ViZUltYWdlW19pMTMyXSk7fWZvcih2YXIgX2o0PTA7X2o0PG1pcG1hcHMubGVuZ3RoO19qNCsrKXt2YXIgX21pcG1hcDI9bWlwbWFwc1tfajRdO2lmKHVzZVRleFN0b3JhZ2Upe3N0YXRlLnRleFN1YkltYWdlMkQoMzQwNjkrX2kxMzIsX2o0KzEsMCwwLGdsRm9ybWF0LGdsVHlwZSxfbWlwbWFwMi5pbWFnZVtfaTEzMl0pO31lbHNle3N0YXRlLnRleEltYWdlMkQoMzQwNjkrX2kxMzIsX2o0KzEsZ2xJbnRlcm5hbEZvcm1hdCxnbEZvcm1hdCxnbFR5cGUsX21pcG1hcDIuaW1hZ2VbX2kxMzJdKTt9fX19fWlmKHRleHR1cmVOZWVkc0dlbmVyYXRlTWlwbWFwcyh0ZXh0dXJlLHN1cHBvcnRzTWlwcykpey8vIFdlIGFzc3VtZSBpbWFnZXMgZm9yIGN1YmUgbWFwIGhhdmUgdGhlIHNhbWUgc2l6ZS4KZ2VuZXJhdGVNaXBtYXAoMzQwNjcpO310ZXh0dXJlUHJvcGVydGllcy5fX3ZlcnNpb249dGV4dHVyZS52ZXJzaW9uO2lmKHRleHR1cmUub25VcGRhdGUpdGV4dHVyZS5vblVwZGF0ZSh0ZXh0dXJlKTt9Ly8gUmVuZGVyIHRhcmdldHMKLy8gU2V0dXAgc3RvcmFnZSBmb3IgdGFyZ2V0IHRleHR1cmUgYW5kIGJpbmQgaXQgdG8gY29ycmVjdCBmcmFtZWJ1ZmZlcgpmdW5jdGlvbiBzZXR1cEZyYW1lQnVmZmVyVGV4dHVyZShmcmFtZWJ1ZmZlcixyZW5kZXJUYXJnZXQsdGV4dHVyZSxhdHRhY2htZW50LHRleHR1cmVUYXJnZXQpe3ZhciBnbEZvcm1hdD11dGlscy5jb252ZXJ0KHRleHR1cmUuZm9ybWF0LHRleHR1cmUuZW5jb2RpbmcpO3ZhciBnbFR5cGU9dXRpbHMuY29udmVydCh0ZXh0dXJlLnR5cGUpO3ZhciBnbEludGVybmFsRm9ybWF0PWdldEludGVybmFsRm9ybWF0KHRleHR1cmUuaW50ZXJuYWxGb3JtYXQsZ2xGb3JtYXQsZ2xUeXBlLHRleHR1cmUuZW5jb2RpbmcpO3ZhciByZW5kZXJUYXJnZXRQcm9wZXJ0aWVzPXByb3BlcnRpZXMuZ2V0KHJlbmRlclRhcmdldCk7aWYoIXJlbmRlclRhcmdldFByb3BlcnRpZXMuX19oYXNFeHRlcm5hbFRleHR1cmVzKXtpZih0ZXh0dXJlVGFyZ2V0PT09MzI4Nzl8fHRleHR1cmVUYXJnZXQ9PT0zNTg2Nil7c3RhdGUudGV4SW1hZ2UzRCh0ZXh0dXJlVGFyZ2V0LDAsZ2xJbnRlcm5hbEZvcm1hdCxyZW5kZXJUYXJnZXQud2lkdGgscmVuZGVyVGFyZ2V0LmhlaWdodCxyZW5kZXJUYXJnZXQuZGVwdGgsMCxnbEZvcm1hdCxnbFR5cGUsbnVsbCk7fWVsc2V7c3RhdGUudGV4SW1hZ2UyRCh0ZXh0dXJlVGFyZ2V0LDAsZ2xJbnRlcm5hbEZvcm1hdCxyZW5kZXJUYXJnZXQud2lkdGgscmVuZGVyVGFyZ2V0LmhlaWdodCwwLGdsRm9ybWF0LGdsVHlwZSxudWxsKTt9fXN0YXRlLmJpbmRGcmFtZWJ1ZmZlcigzNjE2MCxmcmFtZWJ1ZmZlcik7aWYocmVuZGVyVGFyZ2V0LnVzZVJlbmRlclRvVGV4dHVyZSl7TXVsdGlzYW1wbGVkUmVuZGVyVG9UZXh0dXJlRXh0ZW5zaW9uLmZyYW1lYnVmZmVyVGV4dHVyZTJETXVsdGlzYW1wbGVFWFQoMzYxNjAsYXR0YWNobWVudCx0ZXh0dXJlVGFyZ2V0LHByb3BlcnRpZXMuZ2V0KHRleHR1cmUpLl9fd2ViZ2xUZXh0dXJlLDAsZ2V0UmVuZGVyVGFyZ2V0U2FtcGxlcyhyZW5kZXJUYXJnZXQpKTt9ZWxzZXtfZ2wuZnJhbWVidWZmZXJUZXh0dXJlMkQoMzYxNjAsYXR0YWNobWVudCx0ZXh0dXJlVGFyZ2V0LHByb3BlcnRpZXMuZ2V0KHRleHR1cmUpLl9fd2ViZ2xUZXh0dXJlLDApO31zdGF0ZS5iaW5kRnJhbWVidWZmZXIoMzYxNjAsbnVsbCk7fS8vIFNldHVwIHN0b3JhZ2UgZm9yIGludGVybmFsIGRlcHRoL3N0ZW5jaWwgYnVmZmVycyBhbmQgYmluZCB0byBjb3JyZWN0IGZyYW1lYnVmZmVyCmZ1bmN0aW9uIHNldHVwUmVuZGVyQnVmZmVyU3RvcmFnZShyZW5kZXJidWZmZXIscmVuZGVyVGFyZ2V0LGlzTXVsdGlzYW1wbGUpe19nbC5iaW5kUmVuZGVyYnVmZmVyKDM2MTYxLHJlbmRlcmJ1ZmZlcik7aWYocmVuZGVyVGFyZ2V0LmRlcHRoQnVmZmVyJiYhcmVuZGVyVGFyZ2V0LnN0ZW5jaWxCdWZmZXIpe3ZhciBnbEludGVybmFsRm9ybWF0PTMzMTg5O2lmKGlzTXVsdGlzYW1wbGV8fHJlbmRlclRhcmdldC51c2VSZW5kZXJUb1RleHR1cmUpe3ZhciBkZXB0aFRleHR1cmU9cmVuZGVyVGFyZ2V0LmRlcHRoVGV4dHVyZTtpZihkZXB0aFRleHR1cmUmJmRlcHRoVGV4dHVyZS5pc0RlcHRoVGV4dHVyZSl7aWYoZGVwdGhUZXh0dXJlLnR5cGU9PT1GbG9hdFR5cGUpe2dsSW50ZXJuYWxGb3JtYXQ9MzYwMTI7fWVsc2UgaWYoZGVwdGhUZXh0dXJlLnR5cGU9PT1VbnNpZ25lZEludFR5cGUpe2dsSW50ZXJuYWxGb3JtYXQ9MzMxOTA7fX12YXIgc2FtcGxlcz1nZXRSZW5kZXJUYXJnZXRTYW1wbGVzKHJlbmRlclRhcmdldCk7aWYocmVuZGVyVGFyZ2V0LnVzZVJlbmRlclRvVGV4dHVyZSl7TXVsdGlzYW1wbGVkUmVuZGVyVG9UZXh0dXJlRXh0ZW5zaW9uLnJlbmRlcmJ1ZmZlclN0b3JhZ2VNdWx0aXNhbXBsZUVYVCgzNjE2MSxzYW1wbGVzLGdsSW50ZXJuYWxGb3JtYXQscmVuZGVyVGFyZ2V0LndpZHRoLHJlbmRlclRhcmdldC5oZWlnaHQpO31lbHNle19nbC5yZW5kZXJidWZmZXJTdG9yYWdlTXVsdGlzYW1wbGUoMzYxNjEsc2FtcGxlcyxnbEludGVybmFsRm9ybWF0LHJlbmRlclRhcmdldC53aWR0aCxyZW5kZXJUYXJnZXQuaGVpZ2h0KTt9fWVsc2V7X2dsLnJlbmRlcmJ1ZmZlclN0b3JhZ2UoMzYxNjEsZ2xJbnRlcm5hbEZvcm1hdCxyZW5kZXJUYXJnZXQud2lkdGgscmVuZGVyVGFyZ2V0LmhlaWdodCk7fV9nbC5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcigzNjE2MCwzNjA5NiwzNjE2MSxyZW5kZXJidWZmZXIpO31lbHNlIGlmKHJlbmRlclRhcmdldC5kZXB0aEJ1ZmZlciYmcmVuZGVyVGFyZ2V0LnN0ZW5jaWxCdWZmZXIpe3ZhciBfc2FtcGxlcz1nZXRSZW5kZXJUYXJnZXRTYW1wbGVzKHJlbmRlclRhcmdldCk7aWYoaXNNdWx0aXNhbXBsZSYmcmVuZGVyVGFyZ2V0LnVzZVJlbmRlcmJ1ZmZlcil7X2dsLnJlbmRlcmJ1ZmZlclN0b3JhZ2VNdWx0aXNhbXBsZSgzNjE2MSxfc2FtcGxlcywzNTA1NixyZW5kZXJUYXJnZXQud2lkdGgscmVuZGVyVGFyZ2V0LmhlaWdodCk7fWVsc2UgaWYocmVuZGVyVGFyZ2V0LnVzZVJlbmRlclRvVGV4dHVyZSl7TXVsdGlzYW1wbGVkUmVuZGVyVG9UZXh0dXJlRXh0ZW5zaW9uLnJlbmRlcmJ1ZmZlclN0b3JhZ2VNdWx0aXNhbXBsZUVYVCgzNjE2MSxfc2FtcGxlcywzNTA1NixyZW5kZXJUYXJnZXQud2lkdGgscmVuZGVyVGFyZ2V0LmhlaWdodCk7fWVsc2V7X2dsLnJlbmRlcmJ1ZmZlclN0b3JhZ2UoMzYxNjEsMzQwNDEscmVuZGVyVGFyZ2V0LndpZHRoLHJlbmRlclRhcmdldC5oZWlnaHQpO31fZ2wuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIoMzYxNjAsMzMzMDYsMzYxNjEscmVuZGVyYnVmZmVyKTt9ZWxzZXsvLyBVc2UgdGhlIGZpcnN0IHRleHR1cmUgZm9yIE1SVCBzbyBmYXIKdmFyIHRleHR1cmU9cmVuZGVyVGFyZ2V0LmlzV2ViR0xNdWx0aXBsZVJlbmRlclRhcmdldHM9PT10cnVlP3JlbmRlclRhcmdldC50ZXh0dXJlWzBdOnJlbmRlclRhcmdldC50ZXh0dXJlO3ZhciBnbEZvcm1hdD11dGlscy5jb252ZXJ0KHRleHR1cmUuZm9ybWF0LHRleHR1cmUuZW5jb2RpbmcpO3ZhciBnbFR5cGU9dXRpbHMuY29udmVydCh0ZXh0dXJlLnR5cGUpO3ZhciBfZ2xJbnRlcm5hbEZvcm1hdD1nZXRJbnRlcm5hbEZvcm1hdCh0ZXh0dXJlLmludGVybmFsRm9ybWF0LGdsRm9ybWF0LGdsVHlwZSx0ZXh0dXJlLmVuY29kaW5nKTt2YXIgX3NhbXBsZXMyPWdldFJlbmRlclRhcmdldFNhbXBsZXMocmVuZGVyVGFyZ2V0KTtpZihpc011bHRpc2FtcGxlJiZyZW5kZXJUYXJnZXQudXNlUmVuZGVyYnVmZmVyKXtfZ2wucmVuZGVyYnVmZmVyU3RvcmFnZU11bHRpc2FtcGxlKDM2MTYxLF9zYW1wbGVzMixfZ2xJbnRlcm5hbEZvcm1hdCxyZW5kZXJUYXJnZXQud2lkdGgscmVuZGVyVGFyZ2V0LmhlaWdodCk7fWVsc2UgaWYocmVuZGVyVGFyZ2V0LnVzZVJlbmRlclRvVGV4dHVyZSl7TXVsdGlzYW1wbGVkUmVuZGVyVG9UZXh0dXJlRXh0ZW5zaW9uLnJlbmRlcmJ1ZmZlclN0b3JhZ2VNdWx0aXNhbXBsZUVYVCgzNjE2MSxfc2FtcGxlczIsX2dsSW50ZXJuYWxGb3JtYXQscmVuZGVyVGFyZ2V0LndpZHRoLHJlbmRlclRhcmdldC5oZWlnaHQpO31lbHNle19nbC5yZW5kZXJidWZmZXJTdG9yYWdlKDM2MTYxLF9nbEludGVybmFsRm9ybWF0LHJlbmRlclRhcmdldC53aWR0aCxyZW5kZXJUYXJnZXQuaGVpZ2h0KTt9fV9nbC5iaW5kUmVuZGVyYnVmZmVyKDM2MTYxLG51bGwpO30vLyBTZXR1cCByZXNvdXJjZXMgZm9yIGEgRGVwdGggVGV4dHVyZSBmb3IgYSBGQk8gKG5lZWRzIGFuIGV4dGVuc2lvbikKZnVuY3Rpb24gc2V0dXBEZXB0aFRleHR1cmUoZnJhbWVidWZmZXIscmVuZGVyVGFyZ2V0KXt2YXIgaXNDdWJlPXJlbmRlclRhcmdldCYmcmVuZGVyVGFyZ2V0LmlzV2ViR0xDdWJlUmVuZGVyVGFyZ2V0O2lmKGlzQ3ViZSl0aHJvdyBuZXcgRXJyb3IoJ0RlcHRoIFRleHR1cmUgd2l0aCBjdWJlIHJlbmRlciB0YXJnZXRzIGlzIG5vdCBzdXBwb3J0ZWQnKTtzdGF0ZS5iaW5kRnJhbWVidWZmZXIoMzYxNjAsZnJhbWVidWZmZXIpO2lmKCEocmVuZGVyVGFyZ2V0LmRlcHRoVGV4dHVyZSYmcmVuZGVyVGFyZ2V0LmRlcHRoVGV4dHVyZS5pc0RlcHRoVGV4dHVyZSkpe3Rocm93IG5ldyBFcnJvcigncmVuZGVyVGFyZ2V0LmRlcHRoVGV4dHVyZSBtdXN0IGJlIGFuIGluc3RhbmNlIG9mIFRIUkVFLkRlcHRoVGV4dHVyZScpO30vLyB1cGxvYWQgYW4gZW1wdHkgZGVwdGggdGV4dHVyZSB3aXRoIGZyYW1lYnVmZmVyIHNpemUKaWYoIXByb3BlcnRpZXMuZ2V0KHJlbmRlclRhcmdldC5kZXB0aFRleHR1cmUpLl9fd2ViZ2xUZXh0dXJlfHxyZW5kZXJUYXJnZXQuZGVwdGhUZXh0dXJlLmltYWdlLndpZHRoIT09cmVuZGVyVGFyZ2V0LndpZHRofHxyZW5kZXJUYXJnZXQuZGVwdGhUZXh0dXJlLmltYWdlLmhlaWdodCE9PXJlbmRlclRhcmdldC5oZWlnaHQpe3JlbmRlclRhcmdldC5kZXB0aFRleHR1cmUuaW1hZ2Uud2lkdGg9cmVuZGVyVGFyZ2V0LndpZHRoO3JlbmRlclRhcmdldC5kZXB0aFRleHR1cmUuaW1hZ2UuaGVpZ2h0PXJlbmRlclRhcmdldC5oZWlnaHQ7cmVuZGVyVGFyZ2V0LmRlcHRoVGV4dHVyZS5uZWVkc1VwZGF0ZT10cnVlO31zZXRUZXh0dXJlMkQocmVuZGVyVGFyZ2V0LmRlcHRoVGV4dHVyZSwwKTt2YXIgd2ViZ2xEZXB0aFRleHR1cmU9cHJvcGVydGllcy5nZXQocmVuZGVyVGFyZ2V0LmRlcHRoVGV4dHVyZSkuX193ZWJnbFRleHR1cmU7dmFyIHNhbXBsZXM9Z2V0UmVuZGVyVGFyZ2V0U2FtcGxlcyhyZW5kZXJUYXJnZXQpO2lmKHJlbmRlclRhcmdldC5kZXB0aFRleHR1cmUuZm9ybWF0PT09RGVwdGhGb3JtYXQpe2lmKHJlbmRlclRhcmdldC51c2VSZW5kZXJUb1RleHR1cmUpe011bHRpc2FtcGxlZFJlbmRlclRvVGV4dHVyZUV4dGVuc2lvbi5mcmFtZWJ1ZmZlclRleHR1cmUyRE11bHRpc2FtcGxlRVhUKDM2MTYwLDM2MDk2LDM1NTMsd2ViZ2xEZXB0aFRleHR1cmUsMCxzYW1wbGVzKTt9ZWxzZXtfZ2wuZnJhbWVidWZmZXJUZXh0dXJlMkQoMzYxNjAsMzYwOTYsMzU1Myx3ZWJnbERlcHRoVGV4dHVyZSwwKTt9fWVsc2UgaWYocmVuZGVyVGFyZ2V0LmRlcHRoVGV4dHVyZS5mb3JtYXQ9PT1EZXB0aFN0ZW5jaWxGb3JtYXQpe2lmKHJlbmRlclRhcmdldC51c2VSZW5kZXJUb1RleHR1cmUpe011bHRpc2FtcGxlZFJlbmRlclRvVGV4dHVyZUV4dGVuc2lvbi5mcmFtZWJ1ZmZlclRleHR1cmUyRE11bHRpc2FtcGxlRVhUKDM2MTYwLDMzMzA2LDM1NTMsd2ViZ2xEZXB0aFRleHR1cmUsMCxzYW1wbGVzKTt9ZWxzZXtfZ2wuZnJhbWVidWZmZXJUZXh0dXJlMkQoMzYxNjAsMzMzMDYsMzU1Myx3ZWJnbERlcHRoVGV4dHVyZSwwKTt9fWVsc2V7dGhyb3cgbmV3IEVycm9yKCdVbmtub3duIGRlcHRoVGV4dHVyZSBmb3JtYXQnKTt9fS8vIFNldHVwIEdMIHJlc291cmNlcyBmb3IgYSBub24tdGV4dHVyZSBkZXB0aCBidWZmZXIKZnVuY3Rpb24gc2V0dXBEZXB0aFJlbmRlcmJ1ZmZlcihyZW5kZXJUYXJnZXQpe3ZhciByZW5kZXJUYXJnZXRQcm9wZXJ0aWVzPXByb3BlcnRpZXMuZ2V0KHJlbmRlclRhcmdldCk7dmFyIGlzQ3ViZT1yZW5kZXJUYXJnZXQuaXNXZWJHTEN1YmVSZW5kZXJUYXJnZXQ9PT10cnVlO2lmKHJlbmRlclRhcmdldC5kZXB0aFRleHR1cmUmJiFyZW5kZXJUYXJnZXRQcm9wZXJ0aWVzLl9fYXV0b0FsbG9jYXRlRGVwdGhCdWZmZXIpe2lmKGlzQ3ViZSl0aHJvdyBuZXcgRXJyb3IoJ3RhcmdldC5kZXB0aFRleHR1cmUgbm90IHN1cHBvcnRlZCBpbiBDdWJlIHJlbmRlciB0YXJnZXRzJyk7c2V0dXBEZXB0aFRleHR1cmUocmVuZGVyVGFyZ2V0UHJvcGVydGllcy5fX3dlYmdsRnJhbWVidWZmZXIscmVuZGVyVGFyZ2V0KTt9ZWxzZXtpZihpc0N1YmUpe3JlbmRlclRhcmdldFByb3BlcnRpZXMuX193ZWJnbERlcHRoYnVmZmVyPVtdO2Zvcih2YXIgX2kxMzM9MDtfaTEzMzw2O19pMTMzKyspe3N0YXRlLmJpbmRGcmFtZWJ1ZmZlcigzNjE2MCxyZW5kZXJUYXJnZXRQcm9wZXJ0aWVzLl9fd2ViZ2xGcmFtZWJ1ZmZlcltfaTEzM10pO3JlbmRlclRhcmdldFByb3BlcnRpZXMuX193ZWJnbERlcHRoYnVmZmVyW19pMTMzXT1fZ2wuY3JlYXRlUmVuZGVyYnVmZmVyKCk7c2V0dXBSZW5kZXJCdWZmZXJTdG9yYWdlKHJlbmRlclRhcmdldFByb3BlcnRpZXMuX193ZWJnbERlcHRoYnVmZmVyW19pMTMzXSxyZW5kZXJUYXJnZXQsZmFsc2UpO319ZWxzZXtzdGF0ZS5iaW5kRnJhbWVidWZmZXIoMzYxNjAscmVuZGVyVGFyZ2V0UHJvcGVydGllcy5fX3dlYmdsRnJhbWVidWZmZXIpO3JlbmRlclRhcmdldFByb3BlcnRpZXMuX193ZWJnbERlcHRoYnVmZmVyPV9nbC5jcmVhdGVSZW5kZXJidWZmZXIoKTtzZXR1cFJlbmRlckJ1ZmZlclN0b3JhZ2UocmVuZGVyVGFyZ2V0UHJvcGVydGllcy5fX3dlYmdsRGVwdGhidWZmZXIscmVuZGVyVGFyZ2V0LGZhbHNlKTt9fXN0YXRlLmJpbmRGcmFtZWJ1ZmZlcigzNjE2MCxudWxsKTt9Ly8gcmViaW5kIGZyYW1lYnVmZmVyIHdpdGggZXh0ZXJuYWwgdGV4dHVyZXMKZnVuY3Rpb24gcmViaW5kVGV4dHVyZXMocmVuZGVyVGFyZ2V0LGNvbG9yVGV4dHVyZSxkZXB0aFRleHR1cmUpe3ZhciByZW5kZXJUYXJnZXRQcm9wZXJ0aWVzPXByb3BlcnRpZXMuZ2V0KHJlbmRlclRhcmdldCk7aWYoY29sb3JUZXh0dXJlIT09dW5kZWZpbmVkKXtzZXR1cEZyYW1lQnVmZmVyVGV4dHVyZShyZW5kZXJUYXJnZXRQcm9wZXJ0aWVzLl9fd2ViZ2xGcmFtZWJ1ZmZlcixyZW5kZXJUYXJnZXQscmVuZGVyVGFyZ2V0LnRleHR1cmUsMzYwNjQsMzU1Myk7fWlmKGRlcHRoVGV4dHVyZSE9PXVuZGVmaW5lZCl7c2V0dXBEZXB0aFJlbmRlcmJ1ZmZlcihyZW5kZXJUYXJnZXQpO319Ly8gU2V0IHVwIEdMIHJlc291cmNlcyBmb3IgdGhlIHJlbmRlciB0YXJnZXQKZnVuY3Rpb24gc2V0dXBSZW5kZXJUYXJnZXQocmVuZGVyVGFyZ2V0KXt2YXIgdGV4dHVyZT1yZW5kZXJUYXJnZXQudGV4dHVyZTt2YXIgcmVuZGVyVGFyZ2V0UHJvcGVydGllcz1wcm9wZXJ0aWVzLmdldChyZW5kZXJUYXJnZXQpO3ZhciB0ZXh0dXJlUHJvcGVydGllcz1wcm9wZXJ0aWVzLmdldCh0ZXh0dXJlKTtyZW5kZXJUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcignZGlzcG9zZScsb25SZW5kZXJUYXJnZXREaXNwb3NlKTtpZihyZW5kZXJUYXJnZXQuaXNXZWJHTE11bHRpcGxlUmVuZGVyVGFyZ2V0cyE9PXRydWUpe2lmKHRleHR1cmVQcm9wZXJ0aWVzLl9fd2ViZ2xUZXh0dXJlPT09dW5kZWZpbmVkKXt0ZXh0dXJlUHJvcGVydGllcy5fX3dlYmdsVGV4dHVyZT1fZ2wuY3JlYXRlVGV4dHVyZSgpO310ZXh0dXJlUHJvcGVydGllcy5fX3ZlcnNpb249dGV4dHVyZS52ZXJzaW9uO2luZm8ubWVtb3J5LnRleHR1cmVzKys7fXZhciBpc0N1YmU9cmVuZGVyVGFyZ2V0LmlzV2ViR0xDdWJlUmVuZGVyVGFyZ2V0PT09dHJ1ZTt2YXIgaXNNdWx0aXBsZVJlbmRlclRhcmdldHM9cmVuZGVyVGFyZ2V0LmlzV2ViR0xNdWx0aXBsZVJlbmRlclRhcmdldHM9PT10cnVlO3ZhciBpc1JlbmRlclRhcmdldDNEPXRleHR1cmUuaXNEYXRhVGV4dHVyZTNEfHx0ZXh0dXJlLmlzRGF0YVRleHR1cmUyREFycmF5O3ZhciBzdXBwb3J0c01pcHM9aXNQb3dlck9mVHdvJDEocmVuZGVyVGFyZ2V0KXx8aXNXZWJHTDI7Ly8gU2V0dXAgZnJhbWVidWZmZXIKaWYoaXNDdWJlKXtyZW5kZXJUYXJnZXRQcm9wZXJ0aWVzLl9fd2ViZ2xGcmFtZWJ1ZmZlcj1bXTtmb3IodmFyIF9pMTM0PTA7X2kxMzQ8NjtfaTEzNCsrKXtyZW5kZXJUYXJnZXRQcm9wZXJ0aWVzLl9fd2ViZ2xGcmFtZWJ1ZmZlcltfaTEzNF09X2dsLmNyZWF0ZUZyYW1lYnVmZmVyKCk7fX1lbHNle3JlbmRlclRhcmdldFByb3BlcnRpZXMuX193ZWJnbEZyYW1lYnVmZmVyPV9nbC5jcmVhdGVGcmFtZWJ1ZmZlcigpO2lmKGlzTXVsdGlwbGVSZW5kZXJUYXJnZXRzKXtpZihjYXBhYmlsaXRpZXMuZHJhd0J1ZmZlcnMpe3ZhciB0ZXh0dXJlcz1yZW5kZXJUYXJnZXQudGV4dHVyZTtmb3IodmFyIF9pMTM1PTAsaWw9dGV4dHVyZXMubGVuZ3RoO19pMTM1PGlsO19pMTM1Kyspe3ZhciBhdHRhY2htZW50UHJvcGVydGllcz1wcm9wZXJ0aWVzLmdldCh0ZXh0dXJlc1tfaTEzNV0pO2lmKGF0dGFjaG1lbnRQcm9wZXJ0aWVzLl9fd2ViZ2xUZXh0dXJlPT09dW5kZWZpbmVkKXthdHRhY2htZW50UHJvcGVydGllcy5fX3dlYmdsVGV4dHVyZT1fZ2wuY3JlYXRlVGV4dHVyZSgpO2luZm8ubWVtb3J5LnRleHR1cmVzKys7fX19ZWxzZXtjb25zb2xlLndhcm4oJ1RIUkVFLldlYkdMUmVuZGVyZXI6IFdlYkdMTXVsdGlwbGVSZW5kZXJUYXJnZXRzIGNhbiBvbmx5IGJlIHVzZWQgd2l0aCBXZWJHTDIgb3IgV0VCR0xfZHJhd19idWZmZXJzIGV4dGVuc2lvbi4nKTt9fWVsc2UgaWYocmVuZGVyVGFyZ2V0LnVzZVJlbmRlcmJ1ZmZlcil7aWYoaXNXZWJHTDIpe3JlbmRlclRhcmdldFByb3BlcnRpZXMuX193ZWJnbE11bHRpc2FtcGxlZEZyYW1lYnVmZmVyPV9nbC5jcmVhdGVGcmFtZWJ1ZmZlcigpO3JlbmRlclRhcmdldFByb3BlcnRpZXMuX193ZWJnbENvbG9yUmVuZGVyYnVmZmVyPV9nbC5jcmVhdGVSZW5kZXJidWZmZXIoKTtfZ2wuYmluZFJlbmRlcmJ1ZmZlcigzNjE2MSxyZW5kZXJUYXJnZXRQcm9wZXJ0aWVzLl9fd2ViZ2xDb2xvclJlbmRlcmJ1ZmZlcik7dmFyIGdsRm9ybWF0PXV0aWxzLmNvbnZlcnQodGV4dHVyZS5mb3JtYXQsdGV4dHVyZS5lbmNvZGluZyk7dmFyIGdsVHlwZT11dGlscy5jb252ZXJ0KHRleHR1cmUudHlwZSk7dmFyIGdsSW50ZXJuYWxGb3JtYXQ9Z2V0SW50ZXJuYWxGb3JtYXQodGV4dHVyZS5pbnRlcm5hbEZvcm1hdCxnbEZvcm1hdCxnbFR5cGUsdGV4dHVyZS5lbmNvZGluZyk7dmFyIHNhbXBsZXM9Z2V0UmVuZGVyVGFyZ2V0U2FtcGxlcyhyZW5kZXJUYXJnZXQpO19nbC5yZW5kZXJidWZmZXJTdG9yYWdlTXVsdGlzYW1wbGUoMzYxNjEsc2FtcGxlcyxnbEludGVybmFsRm9ybWF0LHJlbmRlclRhcmdldC53aWR0aCxyZW5kZXJUYXJnZXQuaGVpZ2h0KTtzdGF0ZS5iaW5kRnJhbWVidWZmZXIoMzYxNjAscmVuZGVyVGFyZ2V0UHJvcGVydGllcy5fX3dlYmdsTXVsdGlzYW1wbGVkRnJhbWVidWZmZXIpO19nbC5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcigzNjE2MCwzNjA2NCwzNjE2MSxyZW5kZXJUYXJnZXRQcm9wZXJ0aWVzLl9fd2ViZ2xDb2xvclJlbmRlcmJ1ZmZlcik7X2dsLmJpbmRSZW5kZXJidWZmZXIoMzYxNjEsbnVsbCk7aWYocmVuZGVyVGFyZ2V0LmRlcHRoQnVmZmVyKXtyZW5kZXJUYXJnZXRQcm9wZXJ0aWVzLl9fd2ViZ2xEZXB0aFJlbmRlcmJ1ZmZlcj1fZ2wuY3JlYXRlUmVuZGVyYnVmZmVyKCk7c2V0dXBSZW5kZXJCdWZmZXJTdG9yYWdlKHJlbmRlclRhcmdldFByb3BlcnRpZXMuX193ZWJnbERlcHRoUmVuZGVyYnVmZmVyLHJlbmRlclRhcmdldCx0cnVlKTt9c3RhdGUuYmluZEZyYW1lYnVmZmVyKDM2MTYwLG51bGwpO31lbHNle2NvbnNvbGUud2FybignVEhSRUUuV2ViR0xSZW5kZXJlcjogV2ViR0xNdWx0aXNhbXBsZVJlbmRlclRhcmdldCBjYW4gb25seSBiZSB1c2VkIHdpdGggV2ViR0wyLicpO319fS8vIFNldHVwIGNvbG9yIGJ1ZmZlcgppZihpc0N1YmUpe3N0YXRlLmJpbmRUZXh0dXJlKDM0MDY3LHRleHR1cmVQcm9wZXJ0aWVzLl9fd2ViZ2xUZXh0dXJlKTtzZXRUZXh0dXJlUGFyYW1ldGVycygzNDA2Nyx0ZXh0dXJlLHN1cHBvcnRzTWlwcyk7Zm9yKHZhciBfaTEzNj0wO19pMTM2PDY7X2kxMzYrKyl7c2V0dXBGcmFtZUJ1ZmZlclRleHR1cmUocmVuZGVyVGFyZ2V0UHJvcGVydGllcy5fX3dlYmdsRnJhbWVidWZmZXJbX2kxMzZdLHJlbmRlclRhcmdldCx0ZXh0dXJlLDM2MDY0LDM0MDY5K19pMTM2KTt9aWYodGV4dHVyZU5lZWRzR2VuZXJhdGVNaXBtYXBzKHRleHR1cmUsc3VwcG9ydHNNaXBzKSl7Z2VuZXJhdGVNaXBtYXAoMzQwNjcpO31zdGF0ZS51bmJpbmRUZXh0dXJlKCk7fWVsc2UgaWYoaXNNdWx0aXBsZVJlbmRlclRhcmdldHMpe3ZhciBfdGV4dHVyZXM9cmVuZGVyVGFyZ2V0LnRleHR1cmU7Zm9yKHZhciBfaTEzNz0wLF9pbDExPV90ZXh0dXJlcy5sZW5ndGg7X2kxMzc8X2lsMTE7X2kxMzcrKyl7dmFyIGF0dGFjaG1lbnQ9X3RleHR1cmVzW19pMTM3XTt2YXIgX2F0dGFjaG1lbnRQcm9wZXJ0aWVzPXByb3BlcnRpZXMuZ2V0KGF0dGFjaG1lbnQpO3N0YXRlLmJpbmRUZXh0dXJlKDM1NTMsX2F0dGFjaG1lbnRQcm9wZXJ0aWVzLl9fd2ViZ2xUZXh0dXJlKTtzZXRUZXh0dXJlUGFyYW1ldGVycygzNTUzLGF0dGFjaG1lbnQsc3VwcG9ydHNNaXBzKTtzZXR1cEZyYW1lQnVmZmVyVGV4dHVyZShyZW5kZXJUYXJnZXRQcm9wZXJ0aWVzLl9fd2ViZ2xGcmFtZWJ1ZmZlcixyZW5kZXJUYXJnZXQsYXR0YWNobWVudCwzNjA2NCtfaTEzNywzNTUzKTtpZih0ZXh0dXJlTmVlZHNHZW5lcmF0ZU1pcG1hcHMoYXR0YWNobWVudCxzdXBwb3J0c01pcHMpKXtnZW5lcmF0ZU1pcG1hcCgzNTUzKTt9fXN0YXRlLnVuYmluZFRleHR1cmUoKTt9ZWxzZXt2YXIgZ2xUZXh0dXJlVHlwZT0zNTUzO2lmKGlzUmVuZGVyVGFyZ2V0M0Qpey8vIFJlbmRlciB0YXJnZXRzIGNvbnRhaW5pbmcgbGF5ZXJzLCBpLmU6IFRleHR1cmUgM0QgYW5kIDJkIGFycmF5cwppZihpc1dlYkdMMil7dmFyIGlzVGV4dHVyZTNEPXRleHR1cmUuaXNEYXRhVGV4dHVyZTNEO2dsVGV4dHVyZVR5cGU9aXNUZXh0dXJlM0Q/MzI4Nzk6MzU4NjY7fWVsc2V7Y29uc29sZS53YXJuKCdUSFJFRS5EYXRhVGV4dHVyZTNEIGFuZCBUSFJFRS5EYXRhVGV4dHVyZTJEQXJyYXkgb25seSBzdXBwb3J0ZWQgd2l0aCBXZWJHTDIuJyk7fX1zdGF0ZS5iaW5kVGV4dHVyZShnbFRleHR1cmVUeXBlLHRleHR1cmVQcm9wZXJ0aWVzLl9fd2ViZ2xUZXh0dXJlKTtzZXRUZXh0dXJlUGFyYW1ldGVycyhnbFRleHR1cmVUeXBlLHRleHR1cmUsc3VwcG9ydHNNaXBzKTtzZXR1cEZyYW1lQnVmZmVyVGV4dHVyZShyZW5kZXJUYXJnZXRQcm9wZXJ0aWVzLl9fd2ViZ2xGcmFtZWJ1ZmZlcixyZW5kZXJUYXJnZXQsdGV4dHVyZSwzNjA2NCxnbFRleHR1cmVUeXBlKTtpZih0ZXh0dXJlTmVlZHNHZW5lcmF0ZU1pcG1hcHModGV4dHVyZSxzdXBwb3J0c01pcHMpKXtnZW5lcmF0ZU1pcG1hcChnbFRleHR1cmVUeXBlKTt9c3RhdGUudW5iaW5kVGV4dHVyZSgpO30vLyBTZXR1cCBkZXB0aCBhbmQgc3RlbmNpbCBidWZmZXJzCmlmKHJlbmRlclRhcmdldC5kZXB0aEJ1ZmZlcil7c2V0dXBEZXB0aFJlbmRlcmJ1ZmZlcihyZW5kZXJUYXJnZXQpO319ZnVuY3Rpb24gdXBkYXRlUmVuZGVyVGFyZ2V0TWlwbWFwKHJlbmRlclRhcmdldCl7dmFyIHN1cHBvcnRzTWlwcz1pc1Bvd2VyT2ZUd28kMShyZW5kZXJUYXJnZXQpfHxpc1dlYkdMMjt2YXIgdGV4dHVyZXM9cmVuZGVyVGFyZ2V0LmlzV2ViR0xNdWx0aXBsZVJlbmRlclRhcmdldHM9PT10cnVlP3JlbmRlclRhcmdldC50ZXh0dXJlOltyZW5kZXJUYXJnZXQudGV4dHVyZV07Zm9yKHZhciBfaTEzOD0wLGlsPXRleHR1cmVzLmxlbmd0aDtfaTEzODxpbDtfaTEzOCsrKXt2YXIgdGV4dHVyZT10ZXh0dXJlc1tfaTEzOF07aWYodGV4dHVyZU5lZWRzR2VuZXJhdGVNaXBtYXBzKHRleHR1cmUsc3VwcG9ydHNNaXBzKSl7dmFyIHRhcmdldD1yZW5kZXJUYXJnZXQuaXNXZWJHTEN1YmVSZW5kZXJUYXJnZXQ/MzQwNjc6MzU1Mzt2YXIgd2ViZ2xUZXh0dXJlPXByb3BlcnRpZXMuZ2V0KHRleHR1cmUpLl9fd2ViZ2xUZXh0dXJlO3N0YXRlLmJpbmRUZXh0dXJlKHRhcmdldCx3ZWJnbFRleHR1cmUpO2dlbmVyYXRlTWlwbWFwKHRhcmdldCk7c3RhdGUudW5iaW5kVGV4dHVyZSgpO319fWZ1bmN0aW9uIHVwZGF0ZU11bHRpc2FtcGxlUmVuZGVyVGFyZ2V0KHJlbmRlclRhcmdldCl7aWYocmVuZGVyVGFyZ2V0LnVzZVJlbmRlcmJ1ZmZlcil7aWYoaXNXZWJHTDIpe3ZhciB3aWR0aD1yZW5kZXJUYXJnZXQud2lkdGg7dmFyIGhlaWdodD1yZW5kZXJUYXJnZXQuaGVpZ2h0O3ZhciBtYXNrPTE2Mzg0O3ZhciBpbnZhbGlkYXRpb25BcnJheT1bMzYwNjRdO3ZhciBkZXB0aFN0eWxlPXJlbmRlclRhcmdldC5zdGVuY2lsQnVmZmVyPzMzMzA2OjM2MDk2O2lmKHJlbmRlclRhcmdldC5kZXB0aEJ1ZmZlcil7aW52YWxpZGF0aW9uQXJyYXkucHVzaChkZXB0aFN0eWxlKTt9aWYoIXJlbmRlclRhcmdldC5pZ25vcmVEZXB0aEZvck11bHRpc2FtcGxlQ29weSl7aWYocmVuZGVyVGFyZ2V0LmRlcHRoQnVmZmVyKW1hc2t8PTI1NjtpZihyZW5kZXJUYXJnZXQuc3RlbmNpbEJ1ZmZlciltYXNrfD0xMDI0O312YXIgcmVuZGVyVGFyZ2V0UHJvcGVydGllcz1wcm9wZXJ0aWVzLmdldChyZW5kZXJUYXJnZXQpO3N0YXRlLmJpbmRGcmFtZWJ1ZmZlcigzNjAwOCxyZW5kZXJUYXJnZXRQcm9wZXJ0aWVzLl9fd2ViZ2xNdWx0aXNhbXBsZWRGcmFtZWJ1ZmZlcik7c3RhdGUuYmluZEZyYW1lYnVmZmVyKDM2MDA5LHJlbmRlclRhcmdldFByb3BlcnRpZXMuX193ZWJnbEZyYW1lYnVmZmVyKTtpZihyZW5kZXJUYXJnZXQuaWdub3JlRGVwdGhGb3JNdWx0aXNhbXBsZUNvcHkpe19nbC5pbnZhbGlkYXRlRnJhbWVidWZmZXIoMzYwMDgsW2RlcHRoU3R5bGVdKTtfZ2wuaW52YWxpZGF0ZUZyYW1lYnVmZmVyKDM2MDA5LFtkZXB0aFN0eWxlXSk7fV9nbC5ibGl0RnJhbWVidWZmZXIoMCwwLHdpZHRoLGhlaWdodCwwLDAsd2lkdGgsaGVpZ2h0LG1hc2ssOTcyOCk7X2dsLmludmFsaWRhdGVGcmFtZWJ1ZmZlcigzNjAwOCxpbnZhbGlkYXRpb25BcnJheSk7c3RhdGUuYmluZEZyYW1lYnVmZmVyKDM2MDA4LG51bGwpO3N0YXRlLmJpbmRGcmFtZWJ1ZmZlcigzNjAwOSxyZW5kZXJUYXJnZXRQcm9wZXJ0aWVzLl9fd2ViZ2xNdWx0aXNhbXBsZWRGcmFtZWJ1ZmZlcik7fWVsc2V7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFJlbmRlcmVyOiBXZWJHTE11bHRpc2FtcGxlUmVuZGVyVGFyZ2V0IGNhbiBvbmx5IGJlIHVzZWQgd2l0aCBXZWJHTDIuJyk7fX19ZnVuY3Rpb24gZ2V0UmVuZGVyVGFyZ2V0U2FtcGxlcyhyZW5kZXJUYXJnZXQpe3JldHVybiBpc1dlYkdMMiYmKHJlbmRlclRhcmdldC51c2VSZW5kZXJidWZmZXJ8fHJlbmRlclRhcmdldC51c2VSZW5kZXJUb1RleHR1cmUpP01hdGgubWluKG1heFNhbXBsZXMscmVuZGVyVGFyZ2V0LnNhbXBsZXMpOjA7fWZ1bmN0aW9uIHVwZGF0ZVZpZGVvVGV4dHVyZSh0ZXh0dXJlKXt2YXIgZnJhbWU9aW5mby5yZW5kZXIuZnJhbWU7Ly8gQ2hlY2sgdGhlIGxhc3QgZnJhbWUgd2UgdXBkYXRlZCB0aGUgVmlkZW9UZXh0dXJlCmlmKF92aWRlb1RleHR1cmVzLmdldCh0ZXh0dXJlKSE9PWZyYW1lKXtfdmlkZW9UZXh0dXJlcy5zZXQodGV4dHVyZSxmcmFtZSk7dGV4dHVyZS51cGRhdGUoKTt9fWZ1bmN0aW9uIHZlcmlmeUNvbG9yU3BhY2UodGV4dHVyZSxpbWFnZSl7dmFyIGVuY29kaW5nPXRleHR1cmUuZW5jb2Rpbmc7dmFyIGZvcm1hdD10ZXh0dXJlLmZvcm1hdDt2YXIgdHlwZT10ZXh0dXJlLnR5cGU7aWYodGV4dHVyZS5pc0NvbXByZXNzZWRUZXh0dXJlPT09dHJ1ZXx8dGV4dHVyZS5pc1ZpZGVvVGV4dHVyZT09PXRydWV8fHRleHR1cmUuZm9ybWF0PT09X1NSR0JBRm9ybWF0KXJldHVybiBpbWFnZTtpZihlbmNvZGluZyE9PUxpbmVhckVuY29kaW5nKXsvLyBzUkdCCmlmKGVuY29kaW5nPT09c1JHQkVuY29kaW5nKXtpZihpc1dlYkdMMj09PWZhbHNlKXsvLyBpbiBXZWJHTCAxLCB0cnkgdG8gdXNlIEVYVF9zUkdCIGV4dGVuc2lvbiBhbmQgdW5zaXplZCBmb3JtYXRzCmlmKGV4dGVuc2lvbnMuaGFzKCdFWFRfc1JHQicpPT09dHJ1ZSYmZm9ybWF0PT09UkdCQUZvcm1hdCl7dGV4dHVyZS5mb3JtYXQ9X1NSR0JBRm9ybWF0Oy8vIGl0J3Mgbm90IHBvc3NpYmxlIHRvIGdlbmVyYXRlIG1pcHMgaW4gV2ViR0wgMSB3aXRoIHRoaXMgZXh0ZW5zaW9uCnRleHR1cmUubWluRmlsdGVyPUxpbmVhckZpbHRlcjt0ZXh0dXJlLmdlbmVyYXRlTWlwbWFwcz1mYWxzZTt9ZWxzZXsvLyBzbG93IGZhbGxiYWNrIChDUFUgZGVjb2RlKQppbWFnZT1JbWFnZVV0aWxzLnNSR0JUb0xpbmVhcihpbWFnZSk7fX1lbHNley8vIGluIFdlYkdMIDIgdW5jb21wcmVzc2VkIHRleHR1cmVzIGNhbiBvbmx5IGJlIHNSR0IgZW5jb2RlZCBpZiB0aGV5IGhhdmUgdGhlIFJHQkE4IGZvcm1hdAppZihmb3JtYXQhPT1SR0JBRm9ybWF0fHx0eXBlIT09VW5zaWduZWRCeXRlVHlwZSl7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFRleHR1cmVzOiBzUkdCIGVuY29kZWQgdGV4dHVyZXMgaGF2ZSB0byB1c2UgUkdCQUZvcm1hdCBhbmQgVW5zaWduZWRCeXRlVHlwZS4nKTt9fX1lbHNle2NvbnNvbGUuZXJyb3IoJ1RIUkVFLldlYkdMVGV4dHVyZXM6IFVuc3VwcG9ydGVkIHRleHR1cmUgZW5jb2Rpbmc6JyxlbmNvZGluZyk7fX1yZXR1cm4gaW1hZ2U7fS8vIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5CnZhciB3YXJuZWRUZXh0dXJlMkQ9ZmFsc2U7dmFyIHdhcm5lZFRleHR1cmVDdWJlPWZhbHNlO2Z1bmN0aW9uIHNhZmVTZXRUZXh0dXJlMkQodGV4dHVyZSxzbG90KXtpZih0ZXh0dXJlJiZ0ZXh0dXJlLmlzV2ViR0xSZW5kZXJUYXJnZXQpe2lmKHdhcm5lZFRleHR1cmUyRD09PWZhbHNlKXtjb25zb2xlLndhcm4oJ1RIUkVFLldlYkdMVGV4dHVyZXMuc2FmZVNldFRleHR1cmUyRDogZG9uXCd0IHVzZSByZW5kZXIgdGFyZ2V0cyBhcyB0ZXh0dXJlcy4gVXNlIHRoZWlyIC50ZXh0dXJlIHByb3BlcnR5IGluc3RlYWQuJyk7d2FybmVkVGV4dHVyZTJEPXRydWU7fXRleHR1cmU9dGV4dHVyZS50ZXh0dXJlO31zZXRUZXh0dXJlMkQodGV4dHVyZSxzbG90KTt9ZnVuY3Rpb24gc2FmZVNldFRleHR1cmVDdWJlKHRleHR1cmUsc2xvdCl7aWYodGV4dHVyZSYmdGV4dHVyZS5pc1dlYkdMQ3ViZVJlbmRlclRhcmdldCl7aWYod2FybmVkVGV4dHVyZUN1YmU9PT1mYWxzZSl7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFRleHR1cmVzLnNhZmVTZXRUZXh0dXJlQ3ViZTogZG9uXCd0IHVzZSBjdWJlIHJlbmRlciB0YXJnZXRzIGFzIHRleHR1cmVzLiBVc2UgdGhlaXIgLnRleHR1cmUgcHJvcGVydHkgaW5zdGVhZC4nKTt3YXJuZWRUZXh0dXJlQ3ViZT10cnVlO310ZXh0dXJlPXRleHR1cmUudGV4dHVyZTt9c2V0VGV4dHVyZUN1YmUodGV4dHVyZSxzbG90KTt9Ly8KdGhpcy5hbGxvY2F0ZVRleHR1cmVVbml0PWFsbG9jYXRlVGV4dHVyZVVuaXQ7dGhpcy5yZXNldFRleHR1cmVVbml0cz1yZXNldFRleHR1cmVVbml0czt0aGlzLnNldFRleHR1cmUyRD1zZXRUZXh0dXJlMkQ7dGhpcy5zZXRUZXh0dXJlMkRBcnJheT1zZXRUZXh0dXJlMkRBcnJheTt0aGlzLnNldFRleHR1cmUzRD1zZXRUZXh0dXJlM0Q7dGhpcy5zZXRUZXh0dXJlQ3ViZT1zZXRUZXh0dXJlQ3ViZTt0aGlzLnJlYmluZFRleHR1cmVzPXJlYmluZFRleHR1cmVzO3RoaXMuc2V0dXBSZW5kZXJUYXJnZXQ9c2V0dXBSZW5kZXJUYXJnZXQ7dGhpcy51cGRhdGVSZW5kZXJUYXJnZXRNaXBtYXA9dXBkYXRlUmVuZGVyVGFyZ2V0TWlwbWFwO3RoaXMudXBkYXRlTXVsdGlzYW1wbGVSZW5kZXJUYXJnZXQ9dXBkYXRlTXVsdGlzYW1wbGVSZW5kZXJUYXJnZXQ7dGhpcy5zZXR1cERlcHRoUmVuZGVyYnVmZmVyPXNldHVwRGVwdGhSZW5kZXJidWZmZXI7dGhpcy5zZXR1cEZyYW1lQnVmZmVyVGV4dHVyZT1zZXR1cEZyYW1lQnVmZmVyVGV4dHVyZTt0aGlzLnNhZmVTZXRUZXh0dXJlMkQ9c2FmZVNldFRleHR1cmUyRDt0aGlzLnNhZmVTZXRUZXh0dXJlQ3ViZT1zYWZlU2V0VGV4dHVyZUN1YmU7fWZ1bmN0aW9uIFdlYkdMVXRpbHMoZ2wsZXh0ZW5zaW9ucyxjYXBhYmlsaXRpZXMpe3ZhciBpc1dlYkdMMj1jYXBhYmlsaXRpZXMuaXNXZWJHTDI7ZnVuY3Rpb24gY29udmVydChwKXt2YXIgZW5jb2Rpbmc9YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzFdOm51bGw7dmFyIGV4dGVuc2lvbjtpZihwPT09VW5zaWduZWRCeXRlVHlwZSlyZXR1cm4gNTEyMTtpZihwPT09VW5zaWduZWRTaG9ydDQ0NDRUeXBlKXJldHVybiAzMjgxOTtpZihwPT09VW5zaWduZWRTaG9ydDU1NTFUeXBlKXJldHVybiAzMjgyMDtpZihwPT09Qnl0ZVR5cGUpcmV0dXJuIDUxMjA7aWYocD09PVNob3J0VHlwZSlyZXR1cm4gNTEyMjtpZihwPT09VW5zaWduZWRTaG9ydFR5cGUpcmV0dXJuIDUxMjM7aWYocD09PUludFR5cGUpcmV0dXJuIDUxMjQ7aWYocD09PVVuc2lnbmVkSW50VHlwZSlyZXR1cm4gNTEyNTtpZihwPT09RmxvYXRUeXBlKXJldHVybiA1MTI2O2lmKHA9PT1IYWxmRmxvYXRUeXBlKXtpZihpc1dlYkdMMilyZXR1cm4gNTEzMTtleHRlbnNpb249ZXh0ZW5zaW9ucy5nZXQoJ09FU190ZXh0dXJlX2hhbGZfZmxvYXQnKTtpZihleHRlbnNpb24hPT1udWxsKXtyZXR1cm4gZXh0ZW5zaW9uLkhBTEZfRkxPQVRfT0VTO31lbHNle3JldHVybiBudWxsO319aWYocD09PUFscGhhRm9ybWF0KXJldHVybiA2NDA2O2lmKHA9PT1SR0JBRm9ybWF0KXJldHVybiA2NDA4O2lmKHA9PT1MdW1pbmFuY2VGb3JtYXQpcmV0dXJuIDY0MDk7aWYocD09PUx1bWluYW5jZUFscGhhRm9ybWF0KXJldHVybiA2NDEwO2lmKHA9PT1EZXB0aEZvcm1hdClyZXR1cm4gNjQwMjtpZihwPT09RGVwdGhTdGVuY2lsRm9ybWF0KXJldHVybiAzNDA0MTtpZihwPT09UmVkRm9ybWF0KXJldHVybiA2NDAzO2lmKHA9PT1SR0JGb3JtYXQpe2NvbnNvbGUud2FybignVEhSRUUuV2ViR0xSZW5kZXJlcjogVEhSRUUuUkdCRm9ybWF0IGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBUSFJFRS5SR0JBRm9ybWF0IGluc3RlYWQuIGh0dHBzOi8vZ2l0aHViLmNvbS9tcmRvb2IvdGhyZWUuanMvcHVsbC8yMzIyOCcpO3JldHVybiA2NDA4O30vLyBXZWJHTCAxIHNSR0IgZmFsbGJhY2sKaWYocD09PV9TUkdCQUZvcm1hdCl7ZXh0ZW5zaW9uPWV4dGVuc2lvbnMuZ2V0KCdFWFRfc1JHQicpO2lmKGV4dGVuc2lvbiE9PW51bGwpe3JldHVybiBleHRlbnNpb24uU1JHQl9BTFBIQV9FWFQ7fWVsc2V7cmV0dXJuIG51bGw7fX0vLyBXZWJHTDIgZm9ybWF0cy4KaWYocD09PVJlZEludGVnZXJGb3JtYXQpcmV0dXJuIDM2MjQ0O2lmKHA9PT1SR0Zvcm1hdClyZXR1cm4gMzMzMTk7aWYocD09PVJHSW50ZWdlckZvcm1hdClyZXR1cm4gMzMzMjA7aWYocD09PVJHQkFJbnRlZ2VyRm9ybWF0KXJldHVybiAzNjI0OTsvLyBTM1RDCmlmKHA9PT1SR0JfUzNUQ19EWFQxX0Zvcm1hdHx8cD09PVJHQkFfUzNUQ19EWFQxX0Zvcm1hdHx8cD09PVJHQkFfUzNUQ19EWFQzX0Zvcm1hdHx8cD09PVJHQkFfUzNUQ19EWFQ1X0Zvcm1hdCl7aWYoZW5jb2Rpbmc9PT1zUkdCRW5jb2Rpbmcpe2V4dGVuc2lvbj1leHRlbnNpb25zLmdldCgnV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3MzdGNfc3JnYicpO2lmKGV4dGVuc2lvbiE9PW51bGwpe2lmKHA9PT1SR0JfUzNUQ19EWFQxX0Zvcm1hdClyZXR1cm4gZXh0ZW5zaW9uLkNPTVBSRVNTRURfU1JHQl9TM1RDX0RYVDFfRVhUO2lmKHA9PT1SR0JBX1MzVENfRFhUMV9Gb3JtYXQpcmV0dXJuIGV4dGVuc2lvbi5DT01QUkVTU0VEX1NSR0JfQUxQSEFfUzNUQ19EWFQxX0VYVDtpZihwPT09UkdCQV9TM1RDX0RYVDNfRm9ybWF0KXJldHVybiBleHRlbnNpb24uQ09NUFJFU1NFRF9TUkdCX0FMUEhBX1MzVENfRFhUM19FWFQ7aWYocD09PVJHQkFfUzNUQ19EWFQ1X0Zvcm1hdClyZXR1cm4gZXh0ZW5zaW9uLkNPTVBSRVNTRURfU1JHQl9BTFBIQV9TM1RDX0RYVDVfRVhUO31lbHNle3JldHVybiBudWxsO319ZWxzZXtleHRlbnNpb249ZXh0ZW5zaW9ucy5nZXQoJ1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjJyk7aWYoZXh0ZW5zaW9uIT09bnVsbCl7aWYocD09PVJHQl9TM1RDX0RYVDFfRm9ybWF0KXJldHVybiBleHRlbnNpb24uQ09NUFJFU1NFRF9SR0JfUzNUQ19EWFQxX0VYVDtpZihwPT09UkdCQV9TM1RDX0RYVDFfRm9ybWF0KXJldHVybiBleHRlbnNpb24uQ09NUFJFU1NFRF9SR0JBX1MzVENfRFhUMV9FWFQ7aWYocD09PVJHQkFfUzNUQ19EWFQzX0Zvcm1hdClyZXR1cm4gZXh0ZW5zaW9uLkNPTVBSRVNTRURfUkdCQV9TM1RDX0RYVDNfRVhUO2lmKHA9PT1SR0JBX1MzVENfRFhUNV9Gb3JtYXQpcmV0dXJuIGV4dGVuc2lvbi5DT01QUkVTU0VEX1JHQkFfUzNUQ19EWFQ1X0VYVDt9ZWxzZXtyZXR1cm4gbnVsbDt9fX0vLyBQVlJUQwppZihwPT09UkdCX1BWUlRDXzRCUFBWMV9Gb3JtYXR8fHA9PT1SR0JfUFZSVENfMkJQUFYxX0Zvcm1hdHx8cD09PVJHQkFfUFZSVENfNEJQUFYxX0Zvcm1hdHx8cD09PVJHQkFfUFZSVENfMkJQUFYxX0Zvcm1hdCl7ZXh0ZW5zaW9uPWV4dGVuc2lvbnMuZ2V0KCdXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfcHZydGMnKTtpZihleHRlbnNpb24hPT1udWxsKXtpZihwPT09UkdCX1BWUlRDXzRCUFBWMV9Gb3JtYXQpcmV0dXJuIGV4dGVuc2lvbi5DT01QUkVTU0VEX1JHQl9QVlJUQ180QlBQVjFfSU1HO2lmKHA9PT1SR0JfUFZSVENfMkJQUFYxX0Zvcm1hdClyZXR1cm4gZXh0ZW5zaW9uLkNPTVBSRVNTRURfUkdCX1BWUlRDXzJCUFBWMV9JTUc7aWYocD09PVJHQkFfUFZSVENfNEJQUFYxX0Zvcm1hdClyZXR1cm4gZXh0ZW5zaW9uLkNPTVBSRVNTRURfUkdCQV9QVlJUQ180QlBQVjFfSU1HO2lmKHA9PT1SR0JBX1BWUlRDXzJCUFBWMV9Gb3JtYXQpcmV0dXJuIGV4dGVuc2lvbi5DT01QUkVTU0VEX1JHQkFfUFZSVENfMkJQUFYxX0lNRzt9ZWxzZXtyZXR1cm4gbnVsbDt9fS8vIEVUQzEKaWYocD09PVJHQl9FVEMxX0Zvcm1hdCl7ZXh0ZW5zaW9uPWV4dGVuc2lvbnMuZ2V0KCdXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfZXRjMScpO2lmKGV4dGVuc2lvbiE9PW51bGwpe3JldHVybiBleHRlbnNpb24uQ09NUFJFU1NFRF9SR0JfRVRDMV9XRUJHTDt9ZWxzZXtyZXR1cm4gbnVsbDt9fS8vIEVUQzIKaWYocD09PVJHQl9FVEMyX0Zvcm1hdHx8cD09PVJHQkFfRVRDMl9FQUNfRm9ybWF0KXtleHRlbnNpb249ZXh0ZW5zaW9ucy5nZXQoJ1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9ldGMnKTtpZihleHRlbnNpb24hPT1udWxsKXtpZihwPT09UkdCX0VUQzJfRm9ybWF0KXJldHVybiBlbmNvZGluZz09PXNSR0JFbmNvZGluZz9leHRlbnNpb24uQ09NUFJFU1NFRF9TUkdCOF9FVEMyOmV4dGVuc2lvbi5DT01QUkVTU0VEX1JHQjhfRVRDMjtpZihwPT09UkdCQV9FVEMyX0VBQ19Gb3JtYXQpcmV0dXJuIGVuY29kaW5nPT09c1JHQkVuY29kaW5nP2V4dGVuc2lvbi5DT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9FVEMyX0VBQzpleHRlbnNpb24uQ09NUFJFU1NFRF9SR0JBOF9FVEMyX0VBQzt9ZWxzZXtyZXR1cm4gbnVsbDt9fS8vIEFTVEMKaWYocD09PVJHQkFfQVNUQ180eDRfRm9ybWF0fHxwPT09UkdCQV9BU1RDXzV4NF9Gb3JtYXR8fHA9PT1SR0JBX0FTVENfNXg1X0Zvcm1hdHx8cD09PVJHQkFfQVNUQ182eDVfRm9ybWF0fHxwPT09UkdCQV9BU1RDXzZ4Nl9Gb3JtYXR8fHA9PT1SR0JBX0FTVENfOHg1X0Zvcm1hdHx8cD09PVJHQkFfQVNUQ184eDZfRm9ybWF0fHxwPT09UkdCQV9BU1RDXzh4OF9Gb3JtYXR8fHA9PT1SR0JBX0FTVENfMTB4NV9Gb3JtYXR8fHA9PT1SR0JBX0FTVENfMTB4Nl9Gb3JtYXR8fHA9PT1SR0JBX0FTVENfMTB4OF9Gb3JtYXR8fHA9PT1SR0JBX0FTVENfMTB4MTBfRm9ybWF0fHxwPT09UkdCQV9BU1RDXzEyeDEwX0Zvcm1hdHx8cD09PVJHQkFfQVNUQ18xMngxMl9Gb3JtYXQpe2V4dGVuc2lvbj1leHRlbnNpb25zLmdldCgnV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX2FzdGMnKTtpZihleHRlbnNpb24hPT1udWxsKXtpZihwPT09UkdCQV9BU1RDXzR4NF9Gb3JtYXQpcmV0dXJuIGVuY29kaW5nPT09c1JHQkVuY29kaW5nP2V4dGVuc2lvbi5DT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9BU1RDXzR4NF9LSFI6ZXh0ZW5zaW9uLkNPTVBSRVNTRURfUkdCQV9BU1RDXzR4NF9LSFI7aWYocD09PVJHQkFfQVNUQ181eDRfRm9ybWF0KXJldHVybiBlbmNvZGluZz09PXNSR0JFbmNvZGluZz9leHRlbnNpb24uQ09NUFJFU1NFRF9TUkdCOF9BTFBIQThfQVNUQ181eDRfS0hSOmV4dGVuc2lvbi5DT01QUkVTU0VEX1JHQkFfQVNUQ181eDRfS0hSO2lmKHA9PT1SR0JBX0FTVENfNXg1X0Zvcm1hdClyZXR1cm4gZW5jb2Rpbmc9PT1zUkdCRW5jb2Rpbmc/ZXh0ZW5zaW9uLkNPTVBSRVNTRURfU1JHQjhfQUxQSEE4X0FTVENfNXg1X0tIUjpleHRlbnNpb24uQ09NUFJFU1NFRF9SR0JBX0FTVENfNXg1X0tIUjtpZihwPT09UkdCQV9BU1RDXzZ4NV9Gb3JtYXQpcmV0dXJuIGVuY29kaW5nPT09c1JHQkVuY29kaW5nP2V4dGVuc2lvbi5DT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9BU1RDXzZ4NV9LSFI6ZXh0ZW5zaW9uLkNPTVBSRVNTRURfUkdCQV9BU1RDXzZ4NV9LSFI7aWYocD09PVJHQkFfQVNUQ182eDZfRm9ybWF0KXJldHVybiBlbmNvZGluZz09PXNSR0JFbmNvZGluZz9leHRlbnNpb24uQ09NUFJFU1NFRF9TUkdCOF9BTFBIQThfQVNUQ182eDZfS0hSOmV4dGVuc2lvbi5DT01QUkVTU0VEX1JHQkFfQVNUQ182eDZfS0hSO2lmKHA9PT1SR0JBX0FTVENfOHg1X0Zvcm1hdClyZXR1cm4gZW5jb2Rpbmc9PT1zUkdCRW5jb2Rpbmc/ZXh0ZW5zaW9uLkNPTVBSRVNTRURfU1JHQjhfQUxQSEE4X0FTVENfOHg1X0tIUjpleHRlbnNpb24uQ09NUFJFU1NFRF9SR0JBX0FTVENfOHg1X0tIUjtpZihwPT09UkdCQV9BU1RDXzh4Nl9Gb3JtYXQpcmV0dXJuIGVuY29kaW5nPT09c1JHQkVuY29kaW5nP2V4dGVuc2lvbi5DT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9BU1RDXzh4Nl9LSFI6ZXh0ZW5zaW9uLkNPTVBSRVNTRURfUkdCQV9BU1RDXzh4Nl9LSFI7aWYocD09PVJHQkFfQVNUQ184eDhfRm9ybWF0KXJldHVybiBlbmNvZGluZz09PXNSR0JFbmNvZGluZz9leHRlbnNpb24uQ09NUFJFU1NFRF9TUkdCOF9BTFBIQThfQVNUQ184eDhfS0hSOmV4dGVuc2lvbi5DT01QUkVTU0VEX1JHQkFfQVNUQ184eDhfS0hSO2lmKHA9PT1SR0JBX0FTVENfMTB4NV9Gb3JtYXQpcmV0dXJuIGVuY29kaW5nPT09c1JHQkVuY29kaW5nP2V4dGVuc2lvbi5DT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9BU1RDXzEweDVfS0hSOmV4dGVuc2lvbi5DT01QUkVTU0VEX1JHQkFfQVNUQ18xMHg1X0tIUjtpZihwPT09UkdCQV9BU1RDXzEweDZfRm9ybWF0KXJldHVybiBlbmNvZGluZz09PXNSR0JFbmNvZGluZz9leHRlbnNpb24uQ09NUFJFU1NFRF9TUkdCOF9BTFBIQThfQVNUQ18xMHg2X0tIUjpleHRlbnNpb24uQ09NUFJFU1NFRF9SR0JBX0FTVENfMTB4Nl9LSFI7aWYocD09PVJHQkFfQVNUQ18xMHg4X0Zvcm1hdClyZXR1cm4gZW5jb2Rpbmc9PT1zUkdCRW5jb2Rpbmc/ZXh0ZW5zaW9uLkNPTVBSRVNTRURfU1JHQjhfQUxQSEE4X0FTVENfMTB4OF9LSFI6ZXh0ZW5zaW9uLkNPTVBSRVNTRURfUkdCQV9BU1RDXzEweDhfS0hSO2lmKHA9PT1SR0JBX0FTVENfMTB4MTBfRm9ybWF0KXJldHVybiBlbmNvZGluZz09PXNSR0JFbmNvZGluZz9leHRlbnNpb24uQ09NUFJFU1NFRF9TUkdCOF9BTFBIQThfQVNUQ18xMHgxMF9LSFI6ZXh0ZW5zaW9uLkNPTVBSRVNTRURfUkdCQV9BU1RDXzEweDEwX0tIUjtpZihwPT09UkdCQV9BU1RDXzEyeDEwX0Zvcm1hdClyZXR1cm4gZW5jb2Rpbmc9PT1zUkdCRW5jb2Rpbmc/ZXh0ZW5zaW9uLkNPTVBSRVNTRURfU1JHQjhfQUxQSEE4X0FTVENfMTJ4MTBfS0hSOmV4dGVuc2lvbi5DT01QUkVTU0VEX1JHQkFfQVNUQ18xMngxMF9LSFI7aWYocD09PVJHQkFfQVNUQ18xMngxMl9Gb3JtYXQpcmV0dXJuIGVuY29kaW5nPT09c1JHQkVuY29kaW5nP2V4dGVuc2lvbi5DT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9BU1RDXzEyeDEyX0tIUjpleHRlbnNpb24uQ09NUFJFU1NFRF9SR0JBX0FTVENfMTJ4MTJfS0hSO31lbHNle3JldHVybiBudWxsO319Ly8gQlBUQwppZihwPT09UkdCQV9CUFRDX0Zvcm1hdCl7ZXh0ZW5zaW9uPWV4dGVuc2lvbnMuZ2V0KCdFWFRfdGV4dHVyZV9jb21wcmVzc2lvbl9icHRjJyk7aWYoZXh0ZW5zaW9uIT09bnVsbCl7aWYocD09PVJHQkFfQlBUQ19Gb3JtYXQpcmV0dXJuIGVuY29kaW5nPT09c1JHQkVuY29kaW5nP2V4dGVuc2lvbi5DT01QUkVTU0VEX1NSR0JfQUxQSEFfQlBUQ19VTk9STV9FWFQ6ZXh0ZW5zaW9uLkNPTVBSRVNTRURfUkdCQV9CUFRDX1VOT1JNX0VYVDt9ZWxzZXtyZXR1cm4gbnVsbDt9fS8vCmlmKHA9PT1VbnNpZ25lZEludDI0OFR5cGUpe2lmKGlzV2ViR0wyKXJldHVybiAzNDA0MjtleHRlbnNpb249ZXh0ZW5zaW9ucy5nZXQoJ1dFQkdMX2RlcHRoX3RleHR1cmUnKTtpZihleHRlbnNpb24hPT1udWxsKXtyZXR1cm4gZXh0ZW5zaW9uLlVOU0lHTkVEX0lOVF8yNF84X1dFQkdMO31lbHNle3JldHVybiBudWxsO319fXJldHVybntjb252ZXJ0OmNvbnZlcnR9O312YXIgQXJyYXlDYW1lcmE9LyojX19QVVJFX18qL2Z1bmN0aW9uKF9QZXJzcGVjdGl2ZUNhbWVyYSl7X2luaGVyaXRzKEFycmF5Q2FtZXJhLF9QZXJzcGVjdGl2ZUNhbWVyYSk7dmFyIF9zdXBlcjM0PV9jcmVhdGVTdXBlcihBcnJheUNhbWVyYSk7ZnVuY3Rpb24gQXJyYXlDYW1lcmEoKXt2YXIgX3RoaXMyNTt2YXIgYXJyYXk9YXJndW1lbnRzLmxlbmd0aD4wJiZhcmd1bWVudHNbMF0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzBdOltdO19jbGFzc0NhbGxDaGVjayh0aGlzLEFycmF5Q2FtZXJhKTtfdGhpczI1PV9zdXBlcjM0LmNhbGwodGhpcyk7X3RoaXMyNS5jYW1lcmFzPWFycmF5O3JldHVybiBfdGhpczI1O31yZXR1cm4gX2NyZWF0ZUNsYXNzKEFycmF5Q2FtZXJhKTt9KFBlcnNwZWN0aXZlQ2FtZXJhKTtBcnJheUNhbWVyYS5wcm90b3R5cGUuaXNBcnJheUNhbWVyYT10cnVlO3ZhciBHcm91cD0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX09iamVjdDNENCl7X2luaGVyaXRzKEdyb3VwLF9PYmplY3QzRDQpO3ZhciBfc3VwZXIzNT1fY3JlYXRlU3VwZXIoR3JvdXApO2Z1bmN0aW9uIEdyb3VwKCl7dmFyIF90aGlzMjY7X2NsYXNzQ2FsbENoZWNrKHRoaXMsR3JvdXApO190aGlzMjY9X3N1cGVyMzUuY2FsbCh0aGlzKTtfdGhpczI2LnR5cGU9J0dyb3VwJztyZXR1cm4gX3RoaXMyNjt9cmV0dXJuIF9jcmVhdGVDbGFzcyhHcm91cCk7fShPYmplY3QzRCk7R3JvdXAucHJvdG90eXBlLmlzR3JvdXA9dHJ1ZTt2YXIgX21vdmVFdmVudD17dHlwZTonbW92ZSd9O3ZhciBXZWJYUkNvbnRyb2xsZXI9LyojX19QVVJFX18qL2Z1bmN0aW9uKCl7ZnVuY3Rpb24gV2ViWFJDb250cm9sbGVyKCl7X2NsYXNzQ2FsbENoZWNrKHRoaXMsV2ViWFJDb250cm9sbGVyKTt0aGlzLl90YXJnZXRSYXk9bnVsbDt0aGlzLl9ncmlwPW51bGw7dGhpcy5faGFuZD1udWxsO31fY3JlYXRlQ2xhc3MoV2ViWFJDb250cm9sbGVyLFt7a2V5OiJnZXRIYW5kU3BhY2UiLHZhbHVlOmZ1bmN0aW9uIGdldEhhbmRTcGFjZSgpe2lmKHRoaXMuX2hhbmQ9PT1udWxsKXt0aGlzLl9oYW5kPW5ldyBHcm91cCgpO3RoaXMuX2hhbmQubWF0cml4QXV0b1VwZGF0ZT1mYWxzZTt0aGlzLl9oYW5kLnZpc2libGU9ZmFsc2U7dGhpcy5faGFuZC5qb2ludHM9e307dGhpcy5faGFuZC5pbnB1dFN0YXRlPXtwaW5jaGluZzpmYWxzZX07fXJldHVybiB0aGlzLl9oYW5kO319LHtrZXk6ImdldFRhcmdldFJheVNwYWNlIix2YWx1ZTpmdW5jdGlvbiBnZXRUYXJnZXRSYXlTcGFjZSgpe2lmKHRoaXMuX3RhcmdldFJheT09PW51bGwpe3RoaXMuX3RhcmdldFJheT1uZXcgR3JvdXAoKTt0aGlzLl90YXJnZXRSYXkubWF0cml4QXV0b1VwZGF0ZT1mYWxzZTt0aGlzLl90YXJnZXRSYXkudmlzaWJsZT1mYWxzZTt0aGlzLl90YXJnZXRSYXkuaGFzTGluZWFyVmVsb2NpdHk9ZmFsc2U7dGhpcy5fdGFyZ2V0UmF5LmxpbmVhclZlbG9jaXR5PW5ldyBWZWN0b3IzKCk7dGhpcy5fdGFyZ2V0UmF5Lmhhc0FuZ3VsYXJWZWxvY2l0eT1mYWxzZTt0aGlzLl90YXJnZXRSYXkuYW5ndWxhclZlbG9jaXR5PW5ldyBWZWN0b3IzKCk7fXJldHVybiB0aGlzLl90YXJnZXRSYXk7fX0se2tleToiZ2V0R3JpcFNwYWNlIix2YWx1ZTpmdW5jdGlvbiBnZXRHcmlwU3BhY2UoKXtpZih0aGlzLl9ncmlwPT09bnVsbCl7dGhpcy5fZ3JpcD1uZXcgR3JvdXAoKTt0aGlzLl9ncmlwLm1hdHJpeEF1dG9VcGRhdGU9ZmFsc2U7dGhpcy5fZ3JpcC52aXNpYmxlPWZhbHNlO3RoaXMuX2dyaXAuaGFzTGluZWFyVmVsb2NpdHk9ZmFsc2U7dGhpcy5fZ3JpcC5saW5lYXJWZWxvY2l0eT1uZXcgVmVjdG9yMygpO3RoaXMuX2dyaXAuaGFzQW5ndWxhclZlbG9jaXR5PWZhbHNlO3RoaXMuX2dyaXAuYW5ndWxhclZlbG9jaXR5PW5ldyBWZWN0b3IzKCk7fXJldHVybiB0aGlzLl9ncmlwO319LHtrZXk6ImRpc3BhdGNoRXZlbnQiLHZhbHVlOmZ1bmN0aW9uIGRpc3BhdGNoRXZlbnQoZXZlbnQpe2lmKHRoaXMuX3RhcmdldFJheSE9PW51bGwpe3RoaXMuX3RhcmdldFJheS5kaXNwYXRjaEV2ZW50KGV2ZW50KTt9aWYodGhpcy5fZ3JpcCE9PW51bGwpe3RoaXMuX2dyaXAuZGlzcGF0Y2hFdmVudChldmVudCk7fWlmKHRoaXMuX2hhbmQhPT1udWxsKXt0aGlzLl9oYW5kLmRpc3BhdGNoRXZlbnQoZXZlbnQpO31yZXR1cm4gdGhpczt9fSx7a2V5OiJkaXNjb25uZWN0Iix2YWx1ZTpmdW5jdGlvbiBkaXNjb25uZWN0KGlucHV0U291cmNlKXt0aGlzLmRpc3BhdGNoRXZlbnQoe3R5cGU6J2Rpc2Nvbm5lY3RlZCcsZGF0YTppbnB1dFNvdXJjZX0pO2lmKHRoaXMuX3RhcmdldFJheSE9PW51bGwpe3RoaXMuX3RhcmdldFJheS52aXNpYmxlPWZhbHNlO31pZih0aGlzLl9ncmlwIT09bnVsbCl7dGhpcy5fZ3JpcC52aXNpYmxlPWZhbHNlO31pZih0aGlzLl9oYW5kIT09bnVsbCl7dGhpcy5faGFuZC52aXNpYmxlPWZhbHNlO31yZXR1cm4gdGhpczt9fSx7a2V5OiJ1cGRhdGUiLHZhbHVlOmZ1bmN0aW9uIHVwZGF0ZShpbnB1dFNvdXJjZSxmcmFtZSxyZWZlcmVuY2VTcGFjZSl7dmFyIGlucHV0UG9zZT1udWxsO3ZhciBncmlwUG9zZT1udWxsO3ZhciBoYW5kUG9zZT1udWxsO3ZhciB0YXJnZXRSYXk9dGhpcy5fdGFyZ2V0UmF5O3ZhciBncmlwPXRoaXMuX2dyaXA7dmFyIGhhbmQ9dGhpcy5faGFuZDtpZihpbnB1dFNvdXJjZSYmZnJhbWUuc2Vzc2lvbi52aXNpYmlsaXR5U3RhdGUhPT0ndmlzaWJsZS1ibHVycmVkJyl7aWYodGFyZ2V0UmF5IT09bnVsbCl7aW5wdXRQb3NlPWZyYW1lLmdldFBvc2UoaW5wdXRTb3VyY2UudGFyZ2V0UmF5U3BhY2UscmVmZXJlbmNlU3BhY2UpO2lmKGlucHV0UG9zZSE9PW51bGwpe3RhcmdldFJheS5tYXRyaXguZnJvbUFycmF5KGlucHV0UG9zZS50cmFuc2Zvcm0ubWF0cml4KTt0YXJnZXRSYXkubWF0cml4LmRlY29tcG9zZSh0YXJnZXRSYXkucG9zaXRpb24sdGFyZ2V0UmF5LnJvdGF0aW9uLHRhcmdldFJheS5zY2FsZSk7aWYoaW5wdXRQb3NlLmxpbmVhclZlbG9jaXR5KXt0YXJnZXRSYXkuaGFzTGluZWFyVmVsb2NpdHk9dHJ1ZTt0YXJnZXRSYXkubGluZWFyVmVsb2NpdHkuY29weShpbnB1dFBvc2UubGluZWFyVmVsb2NpdHkpO31lbHNle3RhcmdldFJheS5oYXNMaW5lYXJWZWxvY2l0eT1mYWxzZTt9aWYoaW5wdXRQb3NlLmFuZ3VsYXJWZWxvY2l0eSl7dGFyZ2V0UmF5Lmhhc0FuZ3VsYXJWZWxvY2l0eT10cnVlO3RhcmdldFJheS5hbmd1bGFyVmVsb2NpdHkuY29weShpbnB1dFBvc2UuYW5ndWxhclZlbG9jaXR5KTt9ZWxzZXt0YXJnZXRSYXkuaGFzQW5ndWxhclZlbG9jaXR5PWZhbHNlO310aGlzLmRpc3BhdGNoRXZlbnQoX21vdmVFdmVudCk7fX1pZihoYW5kJiZpbnB1dFNvdXJjZS5oYW5kKXtoYW5kUG9zZT10cnVlO3ZhciBfaXRlcmF0b3IyPV9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGlucHV0U291cmNlLmhhbmQudmFsdWVzKCkpLF9zdGVwMjt0cnl7Zm9yKF9pdGVyYXRvcjIucygpOyEoX3N0ZXAyPV9pdGVyYXRvcjIubigpKS5kb25lOyl7dmFyIGlucHV0am9pbnQ9X3N0ZXAyLnZhbHVlOy8vIFVwZGF0ZSB0aGUgam9pbnRzIGdyb3VwcyB3aXRoIHRoZSBYUkpvaW50IHBvc2VzCnZhciBqb2ludFBvc2U9ZnJhbWUuZ2V0Sm9pbnRQb3NlKGlucHV0am9pbnQscmVmZXJlbmNlU3BhY2UpO2lmKGhhbmQuam9pbnRzW2lucHV0am9pbnQuam9pbnROYW1lXT09PXVuZGVmaW5lZCl7Ly8gVGhlIHRyYW5zZm9ybSBvZiB0aGlzIGpvaW50IHdpbGwgYmUgdXBkYXRlZCB3aXRoIHRoZSBqb2ludCBwb3NlIG9uIGVhY2ggZnJhbWUKdmFyIF9qb2ludD1uZXcgR3JvdXAoKTtfam9pbnQubWF0cml4QXV0b1VwZGF0ZT1mYWxzZTtfam9pbnQudmlzaWJsZT1mYWxzZTtoYW5kLmpvaW50c1tpbnB1dGpvaW50LmpvaW50TmFtZV09X2pvaW50Oy8vID8/CmhhbmQuYWRkKF9qb2ludCk7fXZhciBqb2ludD1oYW5kLmpvaW50c1tpbnB1dGpvaW50LmpvaW50TmFtZV07aWYoam9pbnRQb3NlIT09bnVsbCl7am9pbnQubWF0cml4LmZyb21BcnJheShqb2ludFBvc2UudHJhbnNmb3JtLm1hdHJpeCk7am9pbnQubWF0cml4LmRlY29tcG9zZShqb2ludC5wb3NpdGlvbixqb2ludC5yb3RhdGlvbixqb2ludC5zY2FsZSk7am9pbnQuam9pbnRSYWRpdXM9am9pbnRQb3NlLnJhZGl1czt9am9pbnQudmlzaWJsZT1qb2ludFBvc2UhPT1udWxsO30vLyBDdXN0b20gZXZlbnRzCi8vIENoZWNrIHBpbmNoegp9Y2F0Y2goZXJyKXtfaXRlcmF0b3IyLmUoZXJyKTt9ZmluYWxseXtfaXRlcmF0b3IyLmYoKTt9dmFyIGluZGV4VGlwPWhhbmQuam9pbnRzWydpbmRleC1maW5nZXItdGlwJ107dmFyIHRodW1iVGlwPWhhbmQuam9pbnRzWyd0aHVtYi10aXAnXTt2YXIgZGlzdGFuY2U9aW5kZXhUaXAucG9zaXRpb24uZGlzdGFuY2VUbyh0aHVtYlRpcC5wb3NpdGlvbik7dmFyIGRpc3RhbmNlVG9QaW5jaD0wLjAyO3ZhciB0aHJlc2hvbGQ9MC4wMDU7aWYoaGFuZC5pbnB1dFN0YXRlLnBpbmNoaW5nJiZkaXN0YW5jZT5kaXN0YW5jZVRvUGluY2grdGhyZXNob2xkKXtoYW5kLmlucHV0U3RhdGUucGluY2hpbmc9ZmFsc2U7dGhpcy5kaXNwYXRjaEV2ZW50KHt0eXBlOidwaW5jaGVuZCcsaGFuZGVkbmVzczppbnB1dFNvdXJjZS5oYW5kZWRuZXNzLHRhcmdldDp0aGlzfSk7fWVsc2UgaWYoIWhhbmQuaW5wdXRTdGF0ZS5waW5jaGluZyYmZGlzdGFuY2U8PWRpc3RhbmNlVG9QaW5jaC10aHJlc2hvbGQpe2hhbmQuaW5wdXRTdGF0ZS5waW5jaGluZz10cnVlO3RoaXMuZGlzcGF0Y2hFdmVudCh7dHlwZToncGluY2hzdGFydCcsaGFuZGVkbmVzczppbnB1dFNvdXJjZS5oYW5kZWRuZXNzLHRhcmdldDp0aGlzfSk7fX1lbHNle2lmKGdyaXAhPT1udWxsJiZpbnB1dFNvdXJjZS5ncmlwU3BhY2Upe2dyaXBQb3NlPWZyYW1lLmdldFBvc2UoaW5wdXRTb3VyY2UuZ3JpcFNwYWNlLHJlZmVyZW5jZVNwYWNlKTtpZihncmlwUG9zZSE9PW51bGwpe2dyaXAubWF0cml4LmZyb21BcnJheShncmlwUG9zZS50cmFuc2Zvcm0ubWF0cml4KTtncmlwLm1hdHJpeC5kZWNvbXBvc2UoZ3JpcC5wb3NpdGlvbixncmlwLnJvdGF0aW9uLGdyaXAuc2NhbGUpO2lmKGdyaXBQb3NlLmxpbmVhclZlbG9jaXR5KXtncmlwLmhhc0xpbmVhclZlbG9jaXR5PXRydWU7Z3JpcC5saW5lYXJWZWxvY2l0eS5jb3B5KGdyaXBQb3NlLmxpbmVhclZlbG9jaXR5KTt9ZWxzZXtncmlwLmhhc0xpbmVhclZlbG9jaXR5PWZhbHNlO31pZihncmlwUG9zZS5hbmd1bGFyVmVsb2NpdHkpe2dyaXAuaGFzQW5ndWxhclZlbG9jaXR5PXRydWU7Z3JpcC5hbmd1bGFyVmVsb2NpdHkuY29weShncmlwUG9zZS5hbmd1bGFyVmVsb2NpdHkpO31lbHNle2dyaXAuaGFzQW5ndWxhclZlbG9jaXR5PWZhbHNlO319fX19aWYodGFyZ2V0UmF5IT09bnVsbCl7dGFyZ2V0UmF5LnZpc2libGU9aW5wdXRQb3NlIT09bnVsbDt9aWYoZ3JpcCE9PW51bGwpe2dyaXAudmlzaWJsZT1ncmlwUG9zZSE9PW51bGw7fWlmKGhhbmQhPT1udWxsKXtoYW5kLnZpc2libGU9aGFuZFBvc2UhPT1udWxsO31yZXR1cm4gdGhpczt9fV0pO3JldHVybiBXZWJYUkNvbnRyb2xsZXI7fSgpO3ZhciBEZXB0aFRleHR1cmU9LyojX19QVVJFX18qL2Z1bmN0aW9uKF9UZXh0dXJlNCl7X2luaGVyaXRzKERlcHRoVGV4dHVyZSxfVGV4dHVyZTQpO3ZhciBfc3VwZXIzNj1fY3JlYXRlU3VwZXIoRGVwdGhUZXh0dXJlKTtmdW5jdGlvbiBEZXB0aFRleHR1cmUod2lkdGgsaGVpZ2h0LHR5cGUsbWFwcGluZyx3cmFwUyx3cmFwVCxtYWdGaWx0ZXIsbWluRmlsdGVyLGFuaXNvdHJvcHksZm9ybWF0KXt2YXIgX3RoaXMyNztfY2xhc3NDYWxsQ2hlY2sodGhpcyxEZXB0aFRleHR1cmUpO2Zvcm1hdD1mb3JtYXQhPT11bmRlZmluZWQ/Zm9ybWF0OkRlcHRoRm9ybWF0O2lmKGZvcm1hdCE9PURlcHRoRm9ybWF0JiZmb3JtYXQhPT1EZXB0aFN0ZW5jaWxGb3JtYXQpe3Rocm93IG5ldyBFcnJvcignRGVwdGhUZXh0dXJlIGZvcm1hdCBtdXN0IGJlIGVpdGhlciBUSFJFRS5EZXB0aEZvcm1hdCBvciBUSFJFRS5EZXB0aFN0ZW5jaWxGb3JtYXQnKTt9aWYodHlwZT09PXVuZGVmaW5lZCYmZm9ybWF0PT09RGVwdGhGb3JtYXQpdHlwZT1VbnNpZ25lZFNob3J0VHlwZTtpZih0eXBlPT09dW5kZWZpbmVkJiZmb3JtYXQ9PT1EZXB0aFN0ZW5jaWxGb3JtYXQpdHlwZT1VbnNpZ25lZEludDI0OFR5cGU7X3RoaXMyNz1fc3VwZXIzNi5jYWxsKHRoaXMsbnVsbCxtYXBwaW5nLHdyYXBTLHdyYXBULG1hZ0ZpbHRlcixtaW5GaWx0ZXIsZm9ybWF0LHR5cGUsYW5pc290cm9weSk7X3RoaXMyNy5pbWFnZT17d2lkdGg6d2lkdGgsaGVpZ2h0OmhlaWdodH07X3RoaXMyNy5tYWdGaWx0ZXI9bWFnRmlsdGVyIT09dW5kZWZpbmVkP21hZ0ZpbHRlcjpOZWFyZXN0RmlsdGVyO190aGlzMjcubWluRmlsdGVyPW1pbkZpbHRlciE9PXVuZGVmaW5lZD9taW5GaWx0ZXI6TmVhcmVzdEZpbHRlcjtfdGhpczI3LmZsaXBZPWZhbHNlO190aGlzMjcuZ2VuZXJhdGVNaXBtYXBzPWZhbHNlO3JldHVybiBfdGhpczI3O31yZXR1cm4gX2NyZWF0ZUNsYXNzKERlcHRoVGV4dHVyZSk7fShUZXh0dXJlKTtEZXB0aFRleHR1cmUucHJvdG90eXBlLmlzRGVwdGhUZXh0dXJlPXRydWU7dmFyIFdlYlhSTWFuYWdlcj0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX0V2ZW50RGlzcGF0Y2hlcjYpe19pbmhlcml0cyhXZWJYUk1hbmFnZXIsX0V2ZW50RGlzcGF0Y2hlcjYpO3ZhciBfc3VwZXIzNz1fY3JlYXRlU3VwZXIoV2ViWFJNYW5hZ2VyKTtmdW5jdGlvbiBXZWJYUk1hbmFnZXIocmVuZGVyZXIsZ2wpe3ZhciBfdGhpczI4O19jbGFzc0NhbGxDaGVjayh0aGlzLFdlYlhSTWFuYWdlcik7X3RoaXMyOD1fc3VwZXIzNy5jYWxsKHRoaXMpO3ZhciBzY29wZT1fYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzMjgpO3ZhciBzZXNzaW9uPW51bGw7dmFyIGZyYW1lYnVmZmVyU2NhbGVGYWN0b3I9MS4wO3ZhciByZWZlcmVuY2VTcGFjZT1udWxsO3ZhciByZWZlcmVuY2VTcGFjZVR5cGU9J2xvY2FsLWZsb29yJzt2YXIgaGFzTXVsdGlzYW1wbGVkUmVuZGVyVG9UZXh0dXJlPXJlbmRlcmVyLmV4dGVuc2lvbnMuaGFzKCdXRUJHTF9tdWx0aXNhbXBsZWRfcmVuZGVyX3RvX3RleHR1cmUnKTt2YXIgcG9zZT1udWxsO3ZhciBnbEJpbmRpbmc9bnVsbDt2YXIgZ2xQcm9qTGF5ZXI9bnVsbDt2YXIgZ2xCYXNlTGF5ZXI9bnVsbDt2YXIgaXNNdWx0aXNhbXBsZT1mYWxzZTt2YXIgeHJGcmFtZT1udWxsO3ZhciBhdHRyaWJ1dGVzPWdsLmdldENvbnRleHRBdHRyaWJ1dGVzKCk7dmFyIGluaXRpYWxSZW5kZXJUYXJnZXQ9bnVsbDt2YXIgbmV3UmVuZGVyVGFyZ2V0PW51bGw7dmFyIGNvbnRyb2xsZXJzPVtdO3ZhciBpbnB1dFNvdXJjZXNNYXA9bmV3IE1hcCgpOy8vCnZhciBjYW1lcmFMPW5ldyBQZXJzcGVjdGl2ZUNhbWVyYSgpO2NhbWVyYUwubGF5ZXJzLmVuYWJsZSgxKTtjYW1lcmFMLnZpZXdwb3J0PW5ldyBWZWN0b3I0KCk7dmFyIGNhbWVyYVI9bmV3IFBlcnNwZWN0aXZlQ2FtZXJhKCk7Y2FtZXJhUi5sYXllcnMuZW5hYmxlKDIpO2NhbWVyYVIudmlld3BvcnQ9bmV3IFZlY3RvcjQoKTt2YXIgY2FtZXJhcz1bY2FtZXJhTCxjYW1lcmFSXTt2YXIgY2FtZXJhVlI9bmV3IEFycmF5Q2FtZXJhKCk7Y2FtZXJhVlIubGF5ZXJzLmVuYWJsZSgxKTtjYW1lcmFWUi5sYXllcnMuZW5hYmxlKDIpO3ZhciBfY3VycmVudERlcHRoTmVhcj1udWxsO3ZhciBfY3VycmVudERlcHRoRmFyPW51bGw7Ly8KX3RoaXMyOC5jYW1lcmFBdXRvVXBkYXRlPXRydWU7X3RoaXMyOC5lbmFibGVkPWZhbHNlO190aGlzMjguaXNQcmVzZW50aW5nPWZhbHNlO190aGlzMjguZ2V0Q29udHJvbGxlcj1mdW5jdGlvbihpbmRleCl7dmFyIGNvbnRyb2xsZXI9Y29udHJvbGxlcnNbaW5kZXhdO2lmKGNvbnRyb2xsZXI9PT11bmRlZmluZWQpe2NvbnRyb2xsZXI9bmV3IFdlYlhSQ29udHJvbGxlcigpO2NvbnRyb2xsZXJzW2luZGV4XT1jb250cm9sbGVyO31yZXR1cm4gY29udHJvbGxlci5nZXRUYXJnZXRSYXlTcGFjZSgpO307X3RoaXMyOC5nZXRDb250cm9sbGVyR3JpcD1mdW5jdGlvbihpbmRleCl7dmFyIGNvbnRyb2xsZXI9Y29udHJvbGxlcnNbaW5kZXhdO2lmKGNvbnRyb2xsZXI9PT11bmRlZmluZWQpe2NvbnRyb2xsZXI9bmV3IFdlYlhSQ29udHJvbGxlcigpO2NvbnRyb2xsZXJzW2luZGV4XT1jb250cm9sbGVyO31yZXR1cm4gY29udHJvbGxlci5nZXRHcmlwU3BhY2UoKTt9O190aGlzMjguZ2V0SGFuZD1mdW5jdGlvbihpbmRleCl7dmFyIGNvbnRyb2xsZXI9Y29udHJvbGxlcnNbaW5kZXhdO2lmKGNvbnRyb2xsZXI9PT11bmRlZmluZWQpe2NvbnRyb2xsZXI9bmV3IFdlYlhSQ29udHJvbGxlcigpO2NvbnRyb2xsZXJzW2luZGV4XT1jb250cm9sbGVyO31yZXR1cm4gY29udHJvbGxlci5nZXRIYW5kU3BhY2UoKTt9Oy8vCmZ1bmN0aW9uIG9uU2Vzc2lvbkV2ZW50KGV2ZW50KXt2YXIgY29udHJvbGxlcj1pbnB1dFNvdXJjZXNNYXAuZ2V0KGV2ZW50LmlucHV0U291cmNlKTtpZihjb250cm9sbGVyKXtjb250cm9sbGVyLmRpc3BhdGNoRXZlbnQoe3R5cGU6ZXZlbnQudHlwZSxkYXRhOmV2ZW50LmlucHV0U291cmNlfSk7fX1mdW5jdGlvbiBvblNlc3Npb25FbmQoKXtpbnB1dFNvdXJjZXNNYXAuZm9yRWFjaChmdW5jdGlvbihjb250cm9sbGVyLGlucHV0U291cmNlKXtjb250cm9sbGVyLmRpc2Nvbm5lY3QoaW5wdXRTb3VyY2UpO30pO2lucHV0U291cmNlc01hcC5jbGVhcigpO19jdXJyZW50RGVwdGhOZWFyPW51bGw7X2N1cnJlbnREZXB0aEZhcj1udWxsOy8vIHJlc3RvcmUgZnJhbWVidWZmZXIvcmVuZGVyaW5nIHN0YXRlCnJlbmRlcmVyLnNldFJlbmRlclRhcmdldChpbml0aWFsUmVuZGVyVGFyZ2V0KTtnbEJhc2VMYXllcj1udWxsO2dsUHJvakxheWVyPW51bGw7Z2xCaW5kaW5nPW51bGw7c2Vzc2lvbj1udWxsO25ld1JlbmRlclRhcmdldD1udWxsOy8vCmFuaW1hdGlvbi5zdG9wKCk7c2NvcGUuaXNQcmVzZW50aW5nPWZhbHNlO3Njb3BlLmRpc3BhdGNoRXZlbnQoe3R5cGU6J3Nlc3Npb25lbmQnfSk7fV90aGlzMjguc2V0RnJhbWVidWZmZXJTY2FsZUZhY3Rvcj1mdW5jdGlvbih2YWx1ZSl7ZnJhbWVidWZmZXJTY2FsZUZhY3Rvcj12YWx1ZTtpZihzY29wZS5pc1ByZXNlbnRpbmc9PT10cnVlKXtjb25zb2xlLndhcm4oJ1RIUkVFLldlYlhSTWFuYWdlcjogQ2Fubm90IGNoYW5nZSBmcmFtZWJ1ZmZlciBzY2FsZSB3aGlsZSBwcmVzZW50aW5nLicpO319O190aGlzMjguc2V0UmVmZXJlbmNlU3BhY2VUeXBlPWZ1bmN0aW9uKHZhbHVlKXtyZWZlcmVuY2VTcGFjZVR5cGU9dmFsdWU7aWYoc2NvcGUuaXNQcmVzZW50aW5nPT09dHJ1ZSl7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJYUk1hbmFnZXI6IENhbm5vdCBjaGFuZ2UgcmVmZXJlbmNlIHNwYWNlIHR5cGUgd2hpbGUgcHJlc2VudGluZy4nKTt9fTtfdGhpczI4LmdldFJlZmVyZW5jZVNwYWNlPWZ1bmN0aW9uKCl7cmV0dXJuIHJlZmVyZW5jZVNwYWNlO307X3RoaXMyOC5nZXRCYXNlTGF5ZXI9ZnVuY3Rpb24oKXtyZXR1cm4gZ2xQcm9qTGF5ZXIhPT1udWxsP2dsUHJvakxheWVyOmdsQmFzZUxheWVyO307X3RoaXMyOC5nZXRCaW5kaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIGdsQmluZGluZzt9O190aGlzMjguZ2V0RnJhbWU9ZnVuY3Rpb24oKXtyZXR1cm4geHJGcmFtZTt9O190aGlzMjguZ2V0U2Vzc2lvbj1mdW5jdGlvbigpe3JldHVybiBzZXNzaW9uO307X3RoaXMyOC5zZXRTZXNzaW9uPS8qI19fUFVSRV9fKi9mdW5jdGlvbigpe3ZhciBfcmVmPV9hc3luY1RvR2VuZXJhdG9yKC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHZhbHVlKXt2YXIgbGF5ZXJJbml0LGRlcHRoRm9ybWF0LGRlcHRoVHlwZSxnbERlcHRoRm9ybWF0LHByb2plY3Rpb25sYXllckluaXQ7cmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0NSl7d2hpbGUoMSlzd2l0Y2goX2NvbnRleHQ1LnByZXY9X2NvbnRleHQ1Lm5leHQpe2Nhc2UgMDpzZXNzaW9uPXZhbHVlO2lmKCEoc2Vzc2lvbiE9PW51bGwpKXtfY29udGV4dDUubmV4dD0yNDticmVhazt9aW5pdGlhbFJlbmRlclRhcmdldD1yZW5kZXJlci5nZXRSZW5kZXJUYXJnZXQoKTtzZXNzaW9uLmFkZEV2ZW50TGlzdGVuZXIoJ3NlbGVjdCcsb25TZXNzaW9uRXZlbnQpO3Nlc3Npb24uYWRkRXZlbnRMaXN0ZW5lcignc2VsZWN0c3RhcnQnLG9uU2Vzc2lvbkV2ZW50KTtzZXNzaW9uLmFkZEV2ZW50TGlzdGVuZXIoJ3NlbGVjdGVuZCcsb25TZXNzaW9uRXZlbnQpO3Nlc3Npb24uYWRkRXZlbnRMaXN0ZW5lcignc3F1ZWV6ZScsb25TZXNzaW9uRXZlbnQpO3Nlc3Npb24uYWRkRXZlbnRMaXN0ZW5lcignc3F1ZWV6ZXN0YXJ0JyxvblNlc3Npb25FdmVudCk7c2Vzc2lvbi5hZGRFdmVudExpc3RlbmVyKCdzcXVlZXplZW5kJyxvblNlc3Npb25FdmVudCk7c2Vzc2lvbi5hZGRFdmVudExpc3RlbmVyKCdlbmQnLG9uU2Vzc2lvbkVuZCk7c2Vzc2lvbi5hZGRFdmVudExpc3RlbmVyKCdpbnB1dHNvdXJjZXNjaGFuZ2UnLG9uSW5wdXRTb3VyY2VzQ2hhbmdlKTtpZighKGF0dHJpYnV0ZXMueHJDb21wYXRpYmxlIT09dHJ1ZSkpe19jb250ZXh0NS5uZXh0PTE0O2JyZWFrO31fY29udGV4dDUubmV4dD0xNDtyZXR1cm4gZ2wubWFrZVhSQ29tcGF0aWJsZSgpO2Nhc2UgMTQ6aWYoc2Vzc2lvbi5yZW5kZXJTdGF0ZS5sYXllcnM9PT11bmRlZmluZWR8fHJlbmRlcmVyLmNhcGFiaWxpdGllcy5pc1dlYkdMMj09PWZhbHNlKXtsYXllckluaXQ9e2FudGlhbGlhczpzZXNzaW9uLnJlbmRlclN0YXRlLmxheWVycz09PXVuZGVmaW5lZD9hdHRyaWJ1dGVzLmFudGlhbGlhczp0cnVlLGFscGhhOmF0dHJpYnV0ZXMuYWxwaGEsZGVwdGg6YXR0cmlidXRlcy5kZXB0aCxzdGVuY2lsOmF0dHJpYnV0ZXMuc3RlbmNpbCxmcmFtZWJ1ZmZlclNjYWxlRmFjdG9yOmZyYW1lYnVmZmVyU2NhbGVGYWN0b3J9O2dsQmFzZUxheWVyPW5ldyBYUldlYkdMTGF5ZXIoc2Vzc2lvbixnbCxsYXllckluaXQpO3Nlc3Npb24udXBkYXRlUmVuZGVyU3RhdGUoe2Jhc2VMYXllcjpnbEJhc2VMYXllcn0pO25ld1JlbmRlclRhcmdldD1uZXcgV2ViR0xSZW5kZXJUYXJnZXQoZ2xCYXNlTGF5ZXIuZnJhbWVidWZmZXJXaWR0aCxnbEJhc2VMYXllci5mcmFtZWJ1ZmZlckhlaWdodCx7Zm9ybWF0OlJHQkFGb3JtYXQsdHlwZTpVbnNpZ25lZEJ5dGVUeXBlLGVuY29kaW5nOnJlbmRlcmVyLm91dHB1dEVuY29kaW5nfSk7fWVsc2V7aXNNdWx0aXNhbXBsZT1hdHRyaWJ1dGVzLmFudGlhbGlhcztkZXB0aEZvcm1hdD1udWxsO2RlcHRoVHlwZT1udWxsO2dsRGVwdGhGb3JtYXQ9bnVsbDtpZihhdHRyaWJ1dGVzLmRlcHRoKXtnbERlcHRoRm9ybWF0PWF0dHJpYnV0ZXMuc3RlbmNpbD8zNTA1NjozMzE5MDtkZXB0aEZvcm1hdD1hdHRyaWJ1dGVzLnN0ZW5jaWw/RGVwdGhTdGVuY2lsRm9ybWF0OkRlcHRoRm9ybWF0O2RlcHRoVHlwZT1hdHRyaWJ1dGVzLnN0ZW5jaWw/VW5zaWduZWRJbnQyNDhUeXBlOlVuc2lnbmVkU2hvcnRUeXBlO31wcm9qZWN0aW9ubGF5ZXJJbml0PXtjb2xvckZvcm1hdDpyZW5kZXJlci5vdXRwdXRFbmNvZGluZz09PXNSR0JFbmNvZGluZz8zNTkwNzozMjg1NixkZXB0aEZvcm1hdDpnbERlcHRoRm9ybWF0LHNjYWxlRmFjdG9yOmZyYW1lYnVmZmVyU2NhbGVGYWN0b3J9O2dsQmluZGluZz1uZXcgWFJXZWJHTEJpbmRpbmcoc2Vzc2lvbixnbCk7Z2xQcm9qTGF5ZXI9Z2xCaW5kaW5nLmNyZWF0ZVByb2plY3Rpb25MYXllcihwcm9qZWN0aW9ubGF5ZXJJbml0KTtzZXNzaW9uLnVwZGF0ZVJlbmRlclN0YXRlKHtsYXllcnM6W2dsUHJvakxheWVyXX0pO2lmKGlzTXVsdGlzYW1wbGUpe25ld1JlbmRlclRhcmdldD1uZXcgV2ViR0xNdWx0aXNhbXBsZVJlbmRlclRhcmdldChnbFByb2pMYXllci50ZXh0dXJlV2lkdGgsZ2xQcm9qTGF5ZXIudGV4dHVyZUhlaWdodCx7Zm9ybWF0OlJHQkFGb3JtYXQsdHlwZTpVbnNpZ25lZEJ5dGVUeXBlLGRlcHRoVGV4dHVyZTpuZXcgRGVwdGhUZXh0dXJlKGdsUHJvakxheWVyLnRleHR1cmVXaWR0aCxnbFByb2pMYXllci50ZXh0dXJlSGVpZ2h0LGRlcHRoVHlwZSx1bmRlZmluZWQsdW5kZWZpbmVkLHVuZGVmaW5lZCx1bmRlZmluZWQsdW5kZWZpbmVkLHVuZGVmaW5lZCxkZXB0aEZvcm1hdCksc3RlbmNpbEJ1ZmZlcjphdHRyaWJ1dGVzLnN0ZW5jaWwsaWdub3JlRGVwdGg6Z2xQcm9qTGF5ZXIuaWdub3JlRGVwdGhWYWx1ZXMsdXNlUmVuZGVyVG9UZXh0dXJlOmhhc011bHRpc2FtcGxlZFJlbmRlclRvVGV4dHVyZSxlbmNvZGluZzpyZW5kZXJlci5vdXRwdXRFbmNvZGluZ30pO31lbHNle25ld1JlbmRlclRhcmdldD1uZXcgV2ViR0xSZW5kZXJUYXJnZXQoZ2xQcm9qTGF5ZXIudGV4dHVyZVdpZHRoLGdsUHJvakxheWVyLnRleHR1cmVIZWlnaHQse2Zvcm1hdDpSR0JBRm9ybWF0LHR5cGU6VW5zaWduZWRCeXRlVHlwZSxkZXB0aFRleHR1cmU6bmV3IERlcHRoVGV4dHVyZShnbFByb2pMYXllci50ZXh0dXJlV2lkdGgsZ2xQcm9qTGF5ZXIudGV4dHVyZUhlaWdodCxkZXB0aFR5cGUsdW5kZWZpbmVkLHVuZGVmaW5lZCx1bmRlZmluZWQsdW5kZWZpbmVkLHVuZGVmaW5lZCx1bmRlZmluZWQsZGVwdGhGb3JtYXQpLHN0ZW5jaWxCdWZmZXI6YXR0cmlidXRlcy5zdGVuY2lsLGlnbm9yZURlcHRoOmdsUHJvakxheWVyLmlnbm9yZURlcHRoVmFsdWVzLGVuY29kaW5nOnJlbmRlcmVyLm91dHB1dEVuY29kaW5nfSk7fX1uZXdSZW5kZXJUYXJnZXQuaXNYUlJlbmRlclRhcmdldD10cnVlOy8vIFRPRE8gUmVtb3ZlIHRoaXMgd2hlbiBwb3NzaWJsZSwgc2VlICMyMzI3OAovLyBTZXQgZm92ZWF0aW9uIHRvIG1heGltdW0uCnRoaXMuc2V0Rm92ZWF0aW9uKDEuMCk7X2NvbnRleHQ1Lm5leHQ9MTk7cmV0dXJuIHNlc3Npb24ucmVxdWVzdFJlZmVyZW5jZVNwYWNlKHJlZmVyZW5jZVNwYWNlVHlwZSk7Y2FzZSAxOTpyZWZlcmVuY2VTcGFjZT1fY29udGV4dDUuc2VudDthbmltYXRpb24uc2V0Q29udGV4dChzZXNzaW9uKTthbmltYXRpb24uc3RhcnQoKTtzY29wZS5pc1ByZXNlbnRpbmc9dHJ1ZTtzY29wZS5kaXNwYXRjaEV2ZW50KHt0eXBlOidzZXNzaW9uc3RhcnQnfSk7Y2FzZSAyNDpjYXNlImVuZCI6cmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7fX0sX2NhbGxlZSx0aGlzKTt9KSk7cmV0dXJuIGZ1bmN0aW9uKF94Myl7cmV0dXJuIF9yZWYuYXBwbHkodGhpcyxhcmd1bWVudHMpO307fSgpO2Z1bmN0aW9uIG9uSW5wdXRTb3VyY2VzQ2hhbmdlKGV2ZW50KXt2YXIgaW5wdXRTb3VyY2VzPXNlc3Npb24uaW5wdXRTb3VyY2VzOy8vIEFzc2lnbiBpbnB1dFNvdXJjZXMgdG8gYXZhaWxhYmxlIGNvbnRyb2xsZXJzCmZvcih2YXIgX2kxMzk9MDtfaTEzOTxjb250cm9sbGVycy5sZW5ndGg7X2kxMzkrKyl7aW5wdXRTb3VyY2VzTWFwLnNldChpbnB1dFNvdXJjZXNbX2kxMzldLGNvbnRyb2xsZXJzW19pMTM5XSk7fS8vIE5vdGlmeSBkaXNjb25uZWN0ZWQKZm9yKHZhciBfaTE0MD0wO19pMTQwPGV2ZW50LnJlbW92ZWQubGVuZ3RoO19pMTQwKyspe3ZhciBpbnB1dFNvdXJjZT1ldmVudC5yZW1vdmVkW19pMTQwXTt2YXIgY29udHJvbGxlcj1pbnB1dFNvdXJjZXNNYXAuZ2V0KGlucHV0U291cmNlKTtpZihjb250cm9sbGVyKXtjb250cm9sbGVyLmRpc3BhdGNoRXZlbnQoe3R5cGU6J2Rpc2Nvbm5lY3RlZCcsZGF0YTppbnB1dFNvdXJjZX0pO2lucHV0U291cmNlc01hcC5kZWxldGUoaW5wdXRTb3VyY2UpO319Ly8gTm90aWZ5IGNvbm5lY3RlZApmb3IodmFyIF9pMTQxPTA7X2kxNDE8ZXZlbnQuYWRkZWQubGVuZ3RoO19pMTQxKyspe3ZhciBfaW5wdXRTb3VyY2U9ZXZlbnQuYWRkZWRbX2kxNDFdO3ZhciBfY29udHJvbGxlcj1pbnB1dFNvdXJjZXNNYXAuZ2V0KF9pbnB1dFNvdXJjZSk7aWYoX2NvbnRyb2xsZXIpe19jb250cm9sbGVyLmRpc3BhdGNoRXZlbnQoe3R5cGU6J2Nvbm5lY3RlZCcsZGF0YTpfaW5wdXRTb3VyY2V9KTt9fX0vLwp2YXIgY2FtZXJhTFBvcz1uZXcgVmVjdG9yMygpO3ZhciBjYW1lcmFSUG9zPW5ldyBWZWN0b3IzKCk7LyoqCgkJICogQXNzdW1lcyAyIGNhbWVyYXMgdGhhdCBhcmUgcGFyYWxsZWwgYW5kIHNoYXJlIGFuIFgtYXhpcywgYW5kIHRoYXQKCQkgKiB0aGUgY2FtZXJhcycgcHJvamVjdGlvbiBhbmQgd29ybGQgbWF0cmljZXMgaGF2ZSBhbHJlYWR5IGJlZW4gc2V0LgoJCSAqIEFuZCB0aGF0IG5lYXIgYW5kIGZhciBwbGFuZXMgYXJlIGlkZW50aWNhbCBmb3IgYm90aCBjYW1lcmFzLgoJCSAqIFZpc3VhbGl6YXRpb24gb2YgdGhpcyB0ZWNobmlxdWU6IGh0dHBzOi8vY29tcHV0ZXJncmFwaGljcy5zdGFja2V4Y2hhbmdlLmNvbS9hLzQ3NjUKCQkgKi9mdW5jdGlvbiBzZXRQcm9qZWN0aW9uRnJvbVVuaW9uKGNhbWVyYSxjYW1lcmFMLGNhbWVyYVIpe2NhbWVyYUxQb3Muc2V0RnJvbU1hdHJpeFBvc2l0aW9uKGNhbWVyYUwubWF0cml4V29ybGQpO2NhbWVyYVJQb3Muc2V0RnJvbU1hdHJpeFBvc2l0aW9uKGNhbWVyYVIubWF0cml4V29ybGQpO3ZhciBpcGQ9Y2FtZXJhTFBvcy5kaXN0YW5jZVRvKGNhbWVyYVJQb3MpO3ZhciBwcm9qTD1jYW1lcmFMLnByb2plY3Rpb25NYXRyaXguZWxlbWVudHM7dmFyIHByb2pSPWNhbWVyYVIucHJvamVjdGlvbk1hdHJpeC5lbGVtZW50czsvLyBWUiBzeXN0ZW1zIHdpbGwgaGF2ZSBpZGVudGljYWwgZmFyIGFuZCBuZWFyIHBsYW5lcywgYW5kCi8vIG1vc3QgbGlrZWx5IGlkZW50aWNhbCB0b3AgYW5kIGJvdHRvbSBmcnVzdHVtIGV4dGVudHMuCi8vIFVzZSB0aGUgbGVmdCBjYW1lcmEgZm9yIHRoZXNlIHZhbHVlcy4KdmFyIG5lYXI9cHJvakxbMTRdLyhwcm9qTFsxMF0tMSk7dmFyIGZhcj1wcm9qTFsxNF0vKHByb2pMWzEwXSsxKTt2YXIgdG9wRm92PShwcm9qTFs5XSsxKS9wcm9qTFs1XTt2YXIgYm90dG9tRm92PShwcm9qTFs5XS0xKS9wcm9qTFs1XTt2YXIgbGVmdEZvdj0ocHJvakxbOF0tMSkvcHJvakxbMF07dmFyIHJpZ2h0Rm92PShwcm9qUls4XSsxKS9wcm9qUlswXTt2YXIgbGVmdD1uZWFyKmxlZnRGb3Y7dmFyIHJpZ2h0PW5lYXIqcmlnaHRGb3Y7Ly8gQ2FsY3VsYXRlIHRoZSBuZXcgY2FtZXJhJ3MgcG9zaXRpb24gb2Zmc2V0IGZyb20gdGhlCi8vIGxlZnQgY2FtZXJhLiB4T2Zmc2V0IHNob3VsZCBiZSByb3VnaGx5IGhhbGYgYGlwZGAuCnZhciB6T2Zmc2V0PWlwZC8oLWxlZnRGb3YrcmlnaHRGb3YpO3ZhciB4T2Zmc2V0PXpPZmZzZXQqLWxlZnRGb3Y7Ly8gVE9ETzogQmV0dGVyIHdheSB0byBhcHBseSB0aGlzIG9mZnNldD8KY2FtZXJhTC5tYXRyaXhXb3JsZC5kZWNvbXBvc2UoY2FtZXJhLnBvc2l0aW9uLGNhbWVyYS5xdWF0ZXJuaW9uLGNhbWVyYS5zY2FsZSk7Y2FtZXJhLnRyYW5zbGF0ZVgoeE9mZnNldCk7Y2FtZXJhLnRyYW5zbGF0ZVooek9mZnNldCk7Y2FtZXJhLm1hdHJpeFdvcmxkLmNvbXBvc2UoY2FtZXJhLnBvc2l0aW9uLGNhbWVyYS5xdWF0ZXJuaW9uLGNhbWVyYS5zY2FsZSk7Y2FtZXJhLm1hdHJpeFdvcmxkSW52ZXJzZS5jb3B5KGNhbWVyYS5tYXRyaXhXb3JsZCkuaW52ZXJ0KCk7Ly8gRmluZCB0aGUgdW5pb24gb2YgdGhlIGZydXN0dW0gdmFsdWVzIG9mIHRoZSBjYW1lcmFzIGFuZCBzY2FsZQovLyB0aGUgdmFsdWVzIHNvIHRoYXQgdGhlIG5lYXIgcGxhbmUncyBwb3NpdGlvbiBkb2VzIG5vdCBjaGFuZ2UgaW4gd29ybGQgc3BhY2UsCi8vIGFsdGhvdWdoIG11c3Qgbm93IGJlIHJlbGF0aXZlIHRvIHRoZSBuZXcgdW5pb24gY2FtZXJhLgp2YXIgbmVhcjI9bmVhcit6T2Zmc2V0O3ZhciBmYXIyPWZhcit6T2Zmc2V0O3ZhciBsZWZ0Mj1sZWZ0LXhPZmZzZXQ7dmFyIHJpZ2h0Mj1yaWdodCsoaXBkLXhPZmZzZXQpO3ZhciB0b3AyPXRvcEZvdipmYXIvZmFyMipuZWFyMjt2YXIgYm90dG9tMj1ib3R0b21Gb3YqZmFyL2ZhcjIqbmVhcjI7Y2FtZXJhLnByb2plY3Rpb25NYXRyaXgubWFrZVBlcnNwZWN0aXZlKGxlZnQyLHJpZ2h0Mix0b3AyLGJvdHRvbTIsbmVhcjIsZmFyMik7fWZ1bmN0aW9uIHVwZGF0ZUNhbWVyYShjYW1lcmEscGFyZW50KXtpZihwYXJlbnQ9PT1udWxsKXtjYW1lcmEubWF0cml4V29ybGQuY29weShjYW1lcmEubWF0cml4KTt9ZWxzZXtjYW1lcmEubWF0cml4V29ybGQubXVsdGlwbHlNYXRyaWNlcyhwYXJlbnQubWF0cml4V29ybGQsY2FtZXJhLm1hdHJpeCk7fWNhbWVyYS5tYXRyaXhXb3JsZEludmVyc2UuY29weShjYW1lcmEubWF0cml4V29ybGQpLmludmVydCgpO31fdGhpczI4LnVwZGF0ZUNhbWVyYT1mdW5jdGlvbihjYW1lcmEpe2lmKHNlc3Npb249PT1udWxsKXJldHVybjtjYW1lcmFWUi5uZWFyPWNhbWVyYVIubmVhcj1jYW1lcmFMLm5lYXI9Y2FtZXJhLm5lYXI7Y2FtZXJhVlIuZmFyPWNhbWVyYVIuZmFyPWNhbWVyYUwuZmFyPWNhbWVyYS5mYXI7aWYoX2N1cnJlbnREZXB0aE5lYXIhPT1jYW1lcmFWUi5uZWFyfHxfY3VycmVudERlcHRoRmFyIT09Y2FtZXJhVlIuZmFyKXsvLyBOb3RlIHRoYXQgdGhlIG5ldyByZW5kZXJTdGF0ZSB3b24ndCBhcHBseSB1bnRpbCB0aGUgbmV4dCBmcmFtZS4gU2VlICMxODMyMApzZXNzaW9uLnVwZGF0ZVJlbmRlclN0YXRlKHtkZXB0aE5lYXI6Y2FtZXJhVlIubmVhcixkZXB0aEZhcjpjYW1lcmFWUi5mYXJ9KTtfY3VycmVudERlcHRoTmVhcj1jYW1lcmFWUi5uZWFyO19jdXJyZW50RGVwdGhGYXI9Y2FtZXJhVlIuZmFyO312YXIgcGFyZW50PWNhbWVyYS5wYXJlbnQ7dmFyIGNhbWVyYXM9Y2FtZXJhVlIuY2FtZXJhczt1cGRhdGVDYW1lcmEoY2FtZXJhVlIscGFyZW50KTtmb3IodmFyIF9pMTQyPTA7X2kxNDI8Y2FtZXJhcy5sZW5ndGg7X2kxNDIrKyl7dXBkYXRlQ2FtZXJhKGNhbWVyYXNbX2kxNDJdLHBhcmVudCk7fWNhbWVyYVZSLm1hdHJpeFdvcmxkLmRlY29tcG9zZShjYW1lcmFWUi5wb3NpdGlvbixjYW1lcmFWUi5xdWF0ZXJuaW9uLGNhbWVyYVZSLnNjYWxlKTsvLyB1cGRhdGUgdXNlciBjYW1lcmEgYW5kIGl0cyBjaGlsZHJlbgpjYW1lcmEucG9zaXRpb24uY29weShjYW1lcmFWUi5wb3NpdGlvbik7Y2FtZXJhLnF1YXRlcm5pb24uY29weShjYW1lcmFWUi5xdWF0ZXJuaW9uKTtjYW1lcmEuc2NhbGUuY29weShjYW1lcmFWUi5zY2FsZSk7Y2FtZXJhLm1hdHJpeC5jb3B5KGNhbWVyYVZSLm1hdHJpeCk7Y2FtZXJhLm1hdHJpeFdvcmxkLmNvcHkoY2FtZXJhVlIubWF0cml4V29ybGQpO3ZhciBjaGlsZHJlbj1jYW1lcmEuY2hpbGRyZW47Zm9yKHZhciBfaTE0Mz0wLGw9Y2hpbGRyZW4ubGVuZ3RoO19pMTQzPGw7X2kxNDMrKyl7Y2hpbGRyZW5bX2kxNDNdLnVwZGF0ZU1hdHJpeFdvcmxkKHRydWUpO30vLyB1cGRhdGUgcHJvamVjdGlvbiBtYXRyaXggZm9yIHByb3BlciB2aWV3IGZydXN0dW0gY3VsbGluZwppZihjYW1lcmFzLmxlbmd0aD09PTIpe3NldFByb2plY3Rpb25Gcm9tVW5pb24oY2FtZXJhVlIsY2FtZXJhTCxjYW1lcmFSKTt9ZWxzZXsvLyBhc3N1bWUgc2luZ2xlIGNhbWVyYSBzZXR1cCAoQVIpCmNhbWVyYVZSLnByb2plY3Rpb25NYXRyaXguY29weShjYW1lcmFMLnByb2plY3Rpb25NYXRyaXgpO319O190aGlzMjguZ2V0Q2FtZXJhPWZ1bmN0aW9uKCl7cmV0dXJuIGNhbWVyYVZSO307X3RoaXMyOC5nZXRGb3ZlYXRpb249ZnVuY3Rpb24oKXtpZihnbFByb2pMYXllciE9PW51bGwpe3JldHVybiBnbFByb2pMYXllci5maXhlZEZvdmVhdGlvbjt9aWYoZ2xCYXNlTGF5ZXIhPT1udWxsKXtyZXR1cm4gZ2xCYXNlTGF5ZXIuZml4ZWRGb3ZlYXRpb247fXJldHVybiB1bmRlZmluZWQ7fTtfdGhpczI4LnNldEZvdmVhdGlvbj1mdW5jdGlvbihmb3ZlYXRpb24pey8vIDAgPSBubyBmb3ZlYXRpb24gPSBmdWxsIHJlc29sdXRpb24KLy8gMSA9IG1heGltdW0gZm92ZWF0aW9uID0gdGhlIGVkZ2VzIHJlbmRlciBhdCBsb3dlciByZXNvbHV0aW9uCmlmKGdsUHJvakxheWVyIT09bnVsbCl7Z2xQcm9qTGF5ZXIuZml4ZWRGb3ZlYXRpb249Zm92ZWF0aW9uO31pZihnbEJhc2VMYXllciE9PW51bGwmJmdsQmFzZUxheWVyLmZpeGVkRm92ZWF0aW9uIT09dW5kZWZpbmVkKXtnbEJhc2VMYXllci5maXhlZEZvdmVhdGlvbj1mb3ZlYXRpb247fX07Ly8gQW5pbWF0aW9uIExvb3AKdmFyIG9uQW5pbWF0aW9uRnJhbWVDYWxsYmFjaz1udWxsO2Z1bmN0aW9uIG9uQW5pbWF0aW9uRnJhbWUodGltZSxmcmFtZSl7cG9zZT1mcmFtZS5nZXRWaWV3ZXJQb3NlKHJlZmVyZW5jZVNwYWNlKTt4ckZyYW1lPWZyYW1lO2lmKHBvc2UhPT1udWxsKXt2YXIgdmlld3M9cG9zZS52aWV3cztpZihnbEJhc2VMYXllciE9PW51bGwpe3JlbmRlcmVyLnNldFJlbmRlclRhcmdldEZyYW1lYnVmZmVyKG5ld1JlbmRlclRhcmdldCxnbEJhc2VMYXllci5mcmFtZWJ1ZmZlcik7cmVuZGVyZXIuc2V0UmVuZGVyVGFyZ2V0KG5ld1JlbmRlclRhcmdldCk7fXZhciBjYW1lcmFWUk5lZWRzVXBkYXRlPWZhbHNlOy8vIGNoZWNrIGlmIGl0J3MgbmVjZXNzYXJ5IHRvIHJlYnVpbGQgY2FtZXJhVlIncyBjYW1lcmEgbGlzdAppZih2aWV3cy5sZW5ndGghPT1jYW1lcmFWUi5jYW1lcmFzLmxlbmd0aCl7Y2FtZXJhVlIuY2FtZXJhcy5sZW5ndGg9MDtjYW1lcmFWUk5lZWRzVXBkYXRlPXRydWU7fWZvcih2YXIgX2kxNDQ9MDtfaTE0NDx2aWV3cy5sZW5ndGg7X2kxNDQrKyl7dmFyIHZpZXc9dmlld3NbX2kxNDRdO3ZhciB2aWV3cG9ydD1udWxsO2lmKGdsQmFzZUxheWVyIT09bnVsbCl7dmlld3BvcnQ9Z2xCYXNlTGF5ZXIuZ2V0Vmlld3BvcnQodmlldyk7fWVsc2V7dmFyIGdsU3ViSW1hZ2U9Z2xCaW5kaW5nLmdldFZpZXdTdWJJbWFnZShnbFByb2pMYXllcix2aWV3KTt2aWV3cG9ydD1nbFN1YkltYWdlLnZpZXdwb3J0Oy8vIEZvciBzaWRlLWJ5LXNpZGUgcHJvamVjdGlvbiwgd2Ugb25seSBwcm9kdWNlIGEgc2luZ2xlIHRleHR1cmUgZm9yIGJvdGggZXllcy4KaWYoX2kxNDQ9PT0wKXtyZW5kZXJlci5zZXRSZW5kZXJUYXJnZXRUZXh0dXJlcyhuZXdSZW5kZXJUYXJnZXQsZ2xTdWJJbWFnZS5jb2xvclRleHR1cmUsZ2xQcm9qTGF5ZXIuaWdub3JlRGVwdGhWYWx1ZXM/dW5kZWZpbmVkOmdsU3ViSW1hZ2UuZGVwdGhTdGVuY2lsVGV4dHVyZSk7cmVuZGVyZXIuc2V0UmVuZGVyVGFyZ2V0KG5ld1JlbmRlclRhcmdldCk7fX12YXIgY2FtZXJhPWNhbWVyYXNbX2kxNDRdO2NhbWVyYS5tYXRyaXguZnJvbUFycmF5KHZpZXcudHJhbnNmb3JtLm1hdHJpeCk7Y2FtZXJhLnByb2plY3Rpb25NYXRyaXguZnJvbUFycmF5KHZpZXcucHJvamVjdGlvbk1hdHJpeCk7Y2FtZXJhLnZpZXdwb3J0LnNldCh2aWV3cG9ydC54LHZpZXdwb3J0Lnksdmlld3BvcnQud2lkdGgsdmlld3BvcnQuaGVpZ2h0KTtpZihfaTE0ND09PTApe2NhbWVyYVZSLm1hdHJpeC5jb3B5KGNhbWVyYS5tYXRyaXgpO31pZihjYW1lcmFWUk5lZWRzVXBkYXRlPT09dHJ1ZSl7Y2FtZXJhVlIuY2FtZXJhcy5wdXNoKGNhbWVyYSk7fX19Ly8KdmFyIGlucHV0U291cmNlcz1zZXNzaW9uLmlucHV0U291cmNlcztmb3IodmFyIF9pMTQ1PTA7X2kxNDU8Y29udHJvbGxlcnMubGVuZ3RoO19pMTQ1Kyspe3ZhciBjb250cm9sbGVyPWNvbnRyb2xsZXJzW19pMTQ1XTt2YXIgaW5wdXRTb3VyY2U9aW5wdXRTb3VyY2VzW19pMTQ1XTtjb250cm9sbGVyLnVwZGF0ZShpbnB1dFNvdXJjZSxmcmFtZSxyZWZlcmVuY2VTcGFjZSk7fWlmKG9uQW5pbWF0aW9uRnJhbWVDYWxsYmFjaylvbkFuaW1hdGlvbkZyYW1lQ2FsbGJhY2sodGltZSxmcmFtZSk7eHJGcmFtZT1udWxsO312YXIgYW5pbWF0aW9uPW5ldyBXZWJHTEFuaW1hdGlvbigpO2FuaW1hdGlvbi5zZXRBbmltYXRpb25Mb29wKG9uQW5pbWF0aW9uRnJhbWUpO190aGlzMjguc2V0QW5pbWF0aW9uTG9vcD1mdW5jdGlvbihjYWxsYmFjayl7b25BbmltYXRpb25GcmFtZUNhbGxiYWNrPWNhbGxiYWNrO307X3RoaXMyOC5kaXNwb3NlPWZ1bmN0aW9uKCl7fTtyZXR1cm4gX3RoaXMyODt9cmV0dXJuIF9jcmVhdGVDbGFzcyhXZWJYUk1hbmFnZXIpO30oRXZlbnREaXNwYXRjaGVyKTtmdW5jdGlvbiBXZWJHTE1hdGVyaWFscyhwcm9wZXJ0aWVzKXtmdW5jdGlvbiByZWZyZXNoRm9nVW5pZm9ybXModW5pZm9ybXMsZm9nKXt1bmlmb3Jtcy5mb2dDb2xvci52YWx1ZS5jb3B5KGZvZy5jb2xvcik7aWYoZm9nLmlzRm9nKXt1bmlmb3Jtcy5mb2dOZWFyLnZhbHVlPWZvZy5uZWFyO3VuaWZvcm1zLmZvZ0Zhci52YWx1ZT1mb2cuZmFyO31lbHNlIGlmKGZvZy5pc0ZvZ0V4cDIpe3VuaWZvcm1zLmZvZ0RlbnNpdHkudmFsdWU9Zm9nLmRlbnNpdHk7fX1mdW5jdGlvbiByZWZyZXNoTWF0ZXJpYWxVbmlmb3Jtcyh1bmlmb3JtcyxtYXRlcmlhbCxwaXhlbFJhdGlvLGhlaWdodCx0cmFuc21pc3Npb25SZW5kZXJUYXJnZXQpe2lmKG1hdGVyaWFsLmlzTWVzaEJhc2ljTWF0ZXJpYWwpe3JlZnJlc2hVbmlmb3Jtc0NvbW1vbih1bmlmb3JtcyxtYXRlcmlhbCk7fWVsc2UgaWYobWF0ZXJpYWwuaXNNZXNoTGFtYmVydE1hdGVyaWFsKXtyZWZyZXNoVW5pZm9ybXNDb21tb24odW5pZm9ybXMsbWF0ZXJpYWwpO3JlZnJlc2hVbmlmb3Jtc0xhbWJlcnQodW5pZm9ybXMsbWF0ZXJpYWwpO31lbHNlIGlmKG1hdGVyaWFsLmlzTWVzaFRvb25NYXRlcmlhbCl7cmVmcmVzaFVuaWZvcm1zQ29tbW9uKHVuaWZvcm1zLG1hdGVyaWFsKTtyZWZyZXNoVW5pZm9ybXNUb29uKHVuaWZvcm1zLG1hdGVyaWFsKTt9ZWxzZSBpZihtYXRlcmlhbC5pc01lc2hQaG9uZ01hdGVyaWFsKXtyZWZyZXNoVW5pZm9ybXNDb21tb24odW5pZm9ybXMsbWF0ZXJpYWwpO3JlZnJlc2hVbmlmb3Jtc1Bob25nKHVuaWZvcm1zLG1hdGVyaWFsKTt9ZWxzZSBpZihtYXRlcmlhbC5pc01lc2hTdGFuZGFyZE1hdGVyaWFsKXtyZWZyZXNoVW5pZm9ybXNDb21tb24odW5pZm9ybXMsbWF0ZXJpYWwpO2lmKG1hdGVyaWFsLmlzTWVzaFBoeXNpY2FsTWF0ZXJpYWwpe3JlZnJlc2hVbmlmb3Jtc1BoeXNpY2FsKHVuaWZvcm1zLG1hdGVyaWFsLHRyYW5zbWlzc2lvblJlbmRlclRhcmdldCk7fWVsc2V7cmVmcmVzaFVuaWZvcm1zU3RhbmRhcmQodW5pZm9ybXMsbWF0ZXJpYWwpO319ZWxzZSBpZihtYXRlcmlhbC5pc01lc2hNYXRjYXBNYXRlcmlhbCl7cmVmcmVzaFVuaWZvcm1zQ29tbW9uKHVuaWZvcm1zLG1hdGVyaWFsKTtyZWZyZXNoVW5pZm9ybXNNYXRjYXAodW5pZm9ybXMsbWF0ZXJpYWwpO31lbHNlIGlmKG1hdGVyaWFsLmlzTWVzaERlcHRoTWF0ZXJpYWwpe3JlZnJlc2hVbmlmb3Jtc0NvbW1vbih1bmlmb3JtcyxtYXRlcmlhbCk7cmVmcmVzaFVuaWZvcm1zRGVwdGgodW5pZm9ybXMsbWF0ZXJpYWwpO31lbHNlIGlmKG1hdGVyaWFsLmlzTWVzaERpc3RhbmNlTWF0ZXJpYWwpe3JlZnJlc2hVbmlmb3Jtc0NvbW1vbih1bmlmb3JtcyxtYXRlcmlhbCk7cmVmcmVzaFVuaWZvcm1zRGlzdGFuY2UodW5pZm9ybXMsbWF0ZXJpYWwpO31lbHNlIGlmKG1hdGVyaWFsLmlzTWVzaE5vcm1hbE1hdGVyaWFsKXtyZWZyZXNoVW5pZm9ybXNDb21tb24odW5pZm9ybXMsbWF0ZXJpYWwpO3JlZnJlc2hVbmlmb3Jtc05vcm1hbCh1bmlmb3JtcyxtYXRlcmlhbCk7fWVsc2UgaWYobWF0ZXJpYWwuaXNMaW5lQmFzaWNNYXRlcmlhbCl7cmVmcmVzaFVuaWZvcm1zTGluZSh1bmlmb3JtcyxtYXRlcmlhbCk7aWYobWF0ZXJpYWwuaXNMaW5lRGFzaGVkTWF0ZXJpYWwpe3JlZnJlc2hVbmlmb3Jtc0Rhc2godW5pZm9ybXMsbWF0ZXJpYWwpO319ZWxzZSBpZihtYXRlcmlhbC5pc1BvaW50c01hdGVyaWFsKXtyZWZyZXNoVW5pZm9ybXNQb2ludHModW5pZm9ybXMsbWF0ZXJpYWwscGl4ZWxSYXRpbyxoZWlnaHQpO31lbHNlIGlmKG1hdGVyaWFsLmlzU3ByaXRlTWF0ZXJpYWwpe3JlZnJlc2hVbmlmb3Jtc1Nwcml0ZXModW5pZm9ybXMsbWF0ZXJpYWwpO31lbHNlIGlmKG1hdGVyaWFsLmlzU2hhZG93TWF0ZXJpYWwpe3VuaWZvcm1zLmNvbG9yLnZhbHVlLmNvcHkobWF0ZXJpYWwuY29sb3IpO3VuaWZvcm1zLm9wYWNpdHkudmFsdWU9bWF0ZXJpYWwub3BhY2l0eTt9ZWxzZSBpZihtYXRlcmlhbC5pc1NoYWRlck1hdGVyaWFsKXttYXRlcmlhbC51bmlmb3Jtc05lZWRVcGRhdGU9ZmFsc2U7Ly8gIzE1NTgxCn19ZnVuY3Rpb24gcmVmcmVzaFVuaWZvcm1zQ29tbW9uKHVuaWZvcm1zLG1hdGVyaWFsKXt1bmlmb3Jtcy5vcGFjaXR5LnZhbHVlPW1hdGVyaWFsLm9wYWNpdHk7aWYobWF0ZXJpYWwuY29sb3Ipe3VuaWZvcm1zLmRpZmZ1c2UudmFsdWUuY29weShtYXRlcmlhbC5jb2xvcik7fWlmKG1hdGVyaWFsLmVtaXNzaXZlKXt1bmlmb3Jtcy5lbWlzc2l2ZS52YWx1ZS5jb3B5KG1hdGVyaWFsLmVtaXNzaXZlKS5tdWx0aXBseVNjYWxhcihtYXRlcmlhbC5lbWlzc2l2ZUludGVuc2l0eSk7fWlmKG1hdGVyaWFsLm1hcCl7dW5pZm9ybXMubWFwLnZhbHVlPW1hdGVyaWFsLm1hcDt9aWYobWF0ZXJpYWwuYWxwaGFNYXApe3VuaWZvcm1zLmFscGhhTWFwLnZhbHVlPW1hdGVyaWFsLmFscGhhTWFwO31pZihtYXRlcmlhbC5zcGVjdWxhck1hcCl7dW5pZm9ybXMuc3BlY3VsYXJNYXAudmFsdWU9bWF0ZXJpYWwuc3BlY3VsYXJNYXA7fWlmKG1hdGVyaWFsLmFscGhhVGVzdD4wKXt1bmlmb3Jtcy5hbHBoYVRlc3QudmFsdWU9bWF0ZXJpYWwuYWxwaGFUZXN0O312YXIgZW52TWFwPXByb3BlcnRpZXMuZ2V0KG1hdGVyaWFsKS5lbnZNYXA7aWYoZW52TWFwKXt1bmlmb3Jtcy5lbnZNYXAudmFsdWU9ZW52TWFwO3VuaWZvcm1zLmZsaXBFbnZNYXAudmFsdWU9ZW52TWFwLmlzQ3ViZVRleHR1cmUmJmVudk1hcC5pc1JlbmRlclRhcmdldFRleHR1cmU9PT1mYWxzZT8tMToxO3VuaWZvcm1zLnJlZmxlY3Rpdml0eS52YWx1ZT1tYXRlcmlhbC5yZWZsZWN0aXZpdHk7dW5pZm9ybXMuaW9yLnZhbHVlPW1hdGVyaWFsLmlvcjt1bmlmb3Jtcy5yZWZyYWN0aW9uUmF0aW8udmFsdWU9bWF0ZXJpYWwucmVmcmFjdGlvblJhdGlvO31pZihtYXRlcmlhbC5saWdodE1hcCl7dW5pZm9ybXMubGlnaHRNYXAudmFsdWU9bWF0ZXJpYWwubGlnaHRNYXA7dW5pZm9ybXMubGlnaHRNYXBJbnRlbnNpdHkudmFsdWU9bWF0ZXJpYWwubGlnaHRNYXBJbnRlbnNpdHk7fWlmKG1hdGVyaWFsLmFvTWFwKXt1bmlmb3Jtcy5hb01hcC52YWx1ZT1tYXRlcmlhbC5hb01hcDt1bmlmb3Jtcy5hb01hcEludGVuc2l0eS52YWx1ZT1tYXRlcmlhbC5hb01hcEludGVuc2l0eTt9Ly8gdXYgcmVwZWF0IGFuZCBvZmZzZXQgc2V0dGluZyBwcmlvcml0aWVzCi8vIDEuIGNvbG9yIG1hcAovLyAyLiBzcGVjdWxhciBtYXAKLy8gMy4gZGlzcGxhY2VtZW50TWFwIG1hcAovLyA0LiBub3JtYWwgbWFwCi8vIDUuIGJ1bXAgbWFwCi8vIDYuIHJvdWdobmVzc01hcCBtYXAKLy8gNy4gbWV0YWxuZXNzTWFwIG1hcAovLyA4LiBhbHBoYU1hcCBtYXAKLy8gOS4gZW1pc3NpdmVNYXAgbWFwCi8vIDEwLiBjbGVhcmNvYXQgbWFwCi8vIDExLiBjbGVhcmNvYXQgbm9ybWFsIG1hcAovLyAxMi4gY2xlYXJjb2F0IHJvdWdobmVzc01hcCBtYXAKLy8gMTMuIHNwZWN1bGFyIGludGVuc2l0eSBtYXAKLy8gMTQuIHNwZWN1bGFyIHRpbnQgbWFwCi8vIDE1LiB0cmFuc21pc3Npb24gbWFwCi8vIDE2LiB0aGlja25lc3MgbWFwCnZhciB1dlNjYWxlTWFwO2lmKG1hdGVyaWFsLm1hcCl7dXZTY2FsZU1hcD1tYXRlcmlhbC5tYXA7fWVsc2UgaWYobWF0ZXJpYWwuc3BlY3VsYXJNYXApe3V2U2NhbGVNYXA9bWF0ZXJpYWwuc3BlY3VsYXJNYXA7fWVsc2UgaWYobWF0ZXJpYWwuZGlzcGxhY2VtZW50TWFwKXt1dlNjYWxlTWFwPW1hdGVyaWFsLmRpc3BsYWNlbWVudE1hcDt9ZWxzZSBpZihtYXRlcmlhbC5ub3JtYWxNYXApe3V2U2NhbGVNYXA9bWF0ZXJpYWwubm9ybWFsTWFwO31lbHNlIGlmKG1hdGVyaWFsLmJ1bXBNYXApe3V2U2NhbGVNYXA9bWF0ZXJpYWwuYnVtcE1hcDt9ZWxzZSBpZihtYXRlcmlhbC5yb3VnaG5lc3NNYXApe3V2U2NhbGVNYXA9bWF0ZXJpYWwucm91Z2huZXNzTWFwO31lbHNlIGlmKG1hdGVyaWFsLm1ldGFsbmVzc01hcCl7dXZTY2FsZU1hcD1tYXRlcmlhbC5tZXRhbG5lc3NNYXA7fWVsc2UgaWYobWF0ZXJpYWwuYWxwaGFNYXApe3V2U2NhbGVNYXA9bWF0ZXJpYWwuYWxwaGFNYXA7fWVsc2UgaWYobWF0ZXJpYWwuZW1pc3NpdmVNYXApe3V2U2NhbGVNYXA9bWF0ZXJpYWwuZW1pc3NpdmVNYXA7fWVsc2UgaWYobWF0ZXJpYWwuY2xlYXJjb2F0TWFwKXt1dlNjYWxlTWFwPW1hdGVyaWFsLmNsZWFyY29hdE1hcDt9ZWxzZSBpZihtYXRlcmlhbC5jbGVhcmNvYXROb3JtYWxNYXApe3V2U2NhbGVNYXA9bWF0ZXJpYWwuY2xlYXJjb2F0Tm9ybWFsTWFwO31lbHNlIGlmKG1hdGVyaWFsLmNsZWFyY29hdFJvdWdobmVzc01hcCl7dXZTY2FsZU1hcD1tYXRlcmlhbC5jbGVhcmNvYXRSb3VnaG5lc3NNYXA7fWVsc2UgaWYobWF0ZXJpYWwuc3BlY3VsYXJJbnRlbnNpdHlNYXApe3V2U2NhbGVNYXA9bWF0ZXJpYWwuc3BlY3VsYXJJbnRlbnNpdHlNYXA7fWVsc2UgaWYobWF0ZXJpYWwuc3BlY3VsYXJDb2xvck1hcCl7dXZTY2FsZU1hcD1tYXRlcmlhbC5zcGVjdWxhckNvbG9yTWFwO31lbHNlIGlmKG1hdGVyaWFsLnRyYW5zbWlzc2lvbk1hcCl7dXZTY2FsZU1hcD1tYXRlcmlhbC50cmFuc21pc3Npb25NYXA7fWVsc2UgaWYobWF0ZXJpYWwudGhpY2tuZXNzTWFwKXt1dlNjYWxlTWFwPW1hdGVyaWFsLnRoaWNrbmVzc01hcDt9ZWxzZSBpZihtYXRlcmlhbC5zaGVlbkNvbG9yTWFwKXt1dlNjYWxlTWFwPW1hdGVyaWFsLnNoZWVuQ29sb3JNYXA7fWVsc2UgaWYobWF0ZXJpYWwuc2hlZW5Sb3VnaG5lc3NNYXApe3V2U2NhbGVNYXA9bWF0ZXJpYWwuc2hlZW5Sb3VnaG5lc3NNYXA7fWlmKHV2U2NhbGVNYXAhPT11bmRlZmluZWQpey8vIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5CmlmKHV2U2NhbGVNYXAuaXNXZWJHTFJlbmRlclRhcmdldCl7dXZTY2FsZU1hcD11dlNjYWxlTWFwLnRleHR1cmU7fWlmKHV2U2NhbGVNYXAubWF0cml4QXV0b1VwZGF0ZT09PXRydWUpe3V2U2NhbGVNYXAudXBkYXRlTWF0cml4KCk7fXVuaWZvcm1zLnV2VHJhbnNmb3JtLnZhbHVlLmNvcHkodXZTY2FsZU1hcC5tYXRyaXgpO30vLyB1diByZXBlYXQgYW5kIG9mZnNldCBzZXR0aW5nIHByaW9yaXRpZXMgZm9yIHV2MgovLyAxLiBhbyBtYXAKLy8gMi4gbGlnaHQgbWFwCnZhciB1djJTY2FsZU1hcDtpZihtYXRlcmlhbC5hb01hcCl7dXYyU2NhbGVNYXA9bWF0ZXJpYWwuYW9NYXA7fWVsc2UgaWYobWF0ZXJpYWwubGlnaHRNYXApe3V2MlNjYWxlTWFwPW1hdGVyaWFsLmxpZ2h0TWFwO31pZih1djJTY2FsZU1hcCE9PXVuZGVmaW5lZCl7Ly8gYmFja3dhcmRzIGNvbXBhdGliaWxpdHkKaWYodXYyU2NhbGVNYXAuaXNXZWJHTFJlbmRlclRhcmdldCl7dXYyU2NhbGVNYXA9dXYyU2NhbGVNYXAudGV4dHVyZTt9aWYodXYyU2NhbGVNYXAubWF0cml4QXV0b1VwZGF0ZT09PXRydWUpe3V2MlNjYWxlTWFwLnVwZGF0ZU1hdHJpeCgpO311bmlmb3Jtcy51djJUcmFuc2Zvcm0udmFsdWUuY29weSh1djJTY2FsZU1hcC5tYXRyaXgpO319ZnVuY3Rpb24gcmVmcmVzaFVuaWZvcm1zTGluZSh1bmlmb3JtcyxtYXRlcmlhbCl7dW5pZm9ybXMuZGlmZnVzZS52YWx1ZS5jb3B5KG1hdGVyaWFsLmNvbG9yKTt1bmlmb3Jtcy5vcGFjaXR5LnZhbHVlPW1hdGVyaWFsLm9wYWNpdHk7fWZ1bmN0aW9uIHJlZnJlc2hVbmlmb3Jtc0Rhc2godW5pZm9ybXMsbWF0ZXJpYWwpe3VuaWZvcm1zLmRhc2hTaXplLnZhbHVlPW1hdGVyaWFsLmRhc2hTaXplO3VuaWZvcm1zLnRvdGFsU2l6ZS52YWx1ZT1tYXRlcmlhbC5kYXNoU2l6ZSttYXRlcmlhbC5nYXBTaXplO3VuaWZvcm1zLnNjYWxlLnZhbHVlPW1hdGVyaWFsLnNjYWxlO31mdW5jdGlvbiByZWZyZXNoVW5pZm9ybXNQb2ludHModW5pZm9ybXMsbWF0ZXJpYWwscGl4ZWxSYXRpbyxoZWlnaHQpe3VuaWZvcm1zLmRpZmZ1c2UudmFsdWUuY29weShtYXRlcmlhbC5jb2xvcik7dW5pZm9ybXMub3BhY2l0eS52YWx1ZT1tYXRlcmlhbC5vcGFjaXR5O3VuaWZvcm1zLnNpemUudmFsdWU9bWF0ZXJpYWwuc2l6ZSpwaXhlbFJhdGlvO3VuaWZvcm1zLnNjYWxlLnZhbHVlPWhlaWdodCowLjU7aWYobWF0ZXJpYWwubWFwKXt1bmlmb3Jtcy5tYXAudmFsdWU9bWF0ZXJpYWwubWFwO31pZihtYXRlcmlhbC5hbHBoYU1hcCl7dW5pZm9ybXMuYWxwaGFNYXAudmFsdWU9bWF0ZXJpYWwuYWxwaGFNYXA7fWlmKG1hdGVyaWFsLmFscGhhVGVzdD4wKXt1bmlmb3Jtcy5hbHBoYVRlc3QudmFsdWU9bWF0ZXJpYWwuYWxwaGFUZXN0O30vLyB1diByZXBlYXQgYW5kIG9mZnNldCBzZXR0aW5nIHByaW9yaXRpZXMKLy8gMS4gY29sb3IgbWFwCi8vIDIuIGFscGhhIG1hcAp2YXIgdXZTY2FsZU1hcDtpZihtYXRlcmlhbC5tYXApe3V2U2NhbGVNYXA9bWF0ZXJpYWwubWFwO31lbHNlIGlmKG1hdGVyaWFsLmFscGhhTWFwKXt1dlNjYWxlTWFwPW1hdGVyaWFsLmFscGhhTWFwO31pZih1dlNjYWxlTWFwIT09dW5kZWZpbmVkKXtpZih1dlNjYWxlTWFwLm1hdHJpeEF1dG9VcGRhdGU9PT10cnVlKXt1dlNjYWxlTWFwLnVwZGF0ZU1hdHJpeCgpO311bmlmb3Jtcy51dlRyYW5zZm9ybS52YWx1ZS5jb3B5KHV2U2NhbGVNYXAubWF0cml4KTt9fWZ1bmN0aW9uIHJlZnJlc2hVbmlmb3Jtc1Nwcml0ZXModW5pZm9ybXMsbWF0ZXJpYWwpe3VuaWZvcm1zLmRpZmZ1c2UudmFsdWUuY29weShtYXRlcmlhbC5jb2xvcik7dW5pZm9ybXMub3BhY2l0eS52YWx1ZT1tYXRlcmlhbC5vcGFjaXR5O3VuaWZvcm1zLnJvdGF0aW9uLnZhbHVlPW1hdGVyaWFsLnJvdGF0aW9uO2lmKG1hdGVyaWFsLm1hcCl7dW5pZm9ybXMubWFwLnZhbHVlPW1hdGVyaWFsLm1hcDt9aWYobWF0ZXJpYWwuYWxwaGFNYXApe3VuaWZvcm1zLmFscGhhTWFwLnZhbHVlPW1hdGVyaWFsLmFscGhhTWFwO31pZihtYXRlcmlhbC5hbHBoYVRlc3Q+MCl7dW5pZm9ybXMuYWxwaGFUZXN0LnZhbHVlPW1hdGVyaWFsLmFscGhhVGVzdDt9Ly8gdXYgcmVwZWF0IGFuZCBvZmZzZXQgc2V0dGluZyBwcmlvcml0aWVzCi8vIDEuIGNvbG9yIG1hcAovLyAyLiBhbHBoYSBtYXAKdmFyIHV2U2NhbGVNYXA7aWYobWF0ZXJpYWwubWFwKXt1dlNjYWxlTWFwPW1hdGVyaWFsLm1hcDt9ZWxzZSBpZihtYXRlcmlhbC5hbHBoYU1hcCl7dXZTY2FsZU1hcD1tYXRlcmlhbC5hbHBoYU1hcDt9aWYodXZTY2FsZU1hcCE9PXVuZGVmaW5lZCl7aWYodXZTY2FsZU1hcC5tYXRyaXhBdXRvVXBkYXRlPT09dHJ1ZSl7dXZTY2FsZU1hcC51cGRhdGVNYXRyaXgoKTt9dW5pZm9ybXMudXZUcmFuc2Zvcm0udmFsdWUuY29weSh1dlNjYWxlTWFwLm1hdHJpeCk7fX1mdW5jdGlvbiByZWZyZXNoVW5pZm9ybXNMYW1iZXJ0KHVuaWZvcm1zLG1hdGVyaWFsKXtpZihtYXRlcmlhbC5lbWlzc2l2ZU1hcCl7dW5pZm9ybXMuZW1pc3NpdmVNYXAudmFsdWU9bWF0ZXJpYWwuZW1pc3NpdmVNYXA7fX1mdW5jdGlvbiByZWZyZXNoVW5pZm9ybXNQaG9uZyh1bmlmb3JtcyxtYXRlcmlhbCl7dW5pZm9ybXMuc3BlY3VsYXIudmFsdWUuY29weShtYXRlcmlhbC5zcGVjdWxhcik7dW5pZm9ybXMuc2hpbmluZXNzLnZhbHVlPU1hdGgubWF4KG1hdGVyaWFsLnNoaW5pbmVzcywxZS00KTsvLyB0byBwcmV2ZW50IHBvdyggMC4wLCAwLjAgKQppZihtYXRlcmlhbC5lbWlzc2l2ZU1hcCl7dW5pZm9ybXMuZW1pc3NpdmVNYXAudmFsdWU9bWF0ZXJpYWwuZW1pc3NpdmVNYXA7fWlmKG1hdGVyaWFsLmJ1bXBNYXApe3VuaWZvcm1zLmJ1bXBNYXAudmFsdWU9bWF0ZXJpYWwuYnVtcE1hcDt1bmlmb3Jtcy5idW1wU2NhbGUudmFsdWU9bWF0ZXJpYWwuYnVtcFNjYWxlO2lmKG1hdGVyaWFsLnNpZGU9PT1CYWNrU2lkZSl1bmlmb3Jtcy5idW1wU2NhbGUudmFsdWUqPS0xO31pZihtYXRlcmlhbC5ub3JtYWxNYXApe3VuaWZvcm1zLm5vcm1hbE1hcC52YWx1ZT1tYXRlcmlhbC5ub3JtYWxNYXA7dW5pZm9ybXMubm9ybWFsU2NhbGUudmFsdWUuY29weShtYXRlcmlhbC5ub3JtYWxTY2FsZSk7aWYobWF0ZXJpYWwuc2lkZT09PUJhY2tTaWRlKXVuaWZvcm1zLm5vcm1hbFNjYWxlLnZhbHVlLm5lZ2F0ZSgpO31pZihtYXRlcmlhbC5kaXNwbGFjZW1lbnRNYXApe3VuaWZvcm1zLmRpc3BsYWNlbWVudE1hcC52YWx1ZT1tYXRlcmlhbC5kaXNwbGFjZW1lbnRNYXA7dW5pZm9ybXMuZGlzcGxhY2VtZW50U2NhbGUudmFsdWU9bWF0ZXJpYWwuZGlzcGxhY2VtZW50U2NhbGU7dW5pZm9ybXMuZGlzcGxhY2VtZW50Qmlhcy52YWx1ZT1tYXRlcmlhbC5kaXNwbGFjZW1lbnRCaWFzO319ZnVuY3Rpb24gcmVmcmVzaFVuaWZvcm1zVG9vbih1bmlmb3JtcyxtYXRlcmlhbCl7aWYobWF0ZXJpYWwuZ3JhZGllbnRNYXApe3VuaWZvcm1zLmdyYWRpZW50TWFwLnZhbHVlPW1hdGVyaWFsLmdyYWRpZW50TWFwO31pZihtYXRlcmlhbC5lbWlzc2l2ZU1hcCl7dW5pZm9ybXMuZW1pc3NpdmVNYXAudmFsdWU9bWF0ZXJpYWwuZW1pc3NpdmVNYXA7fWlmKG1hdGVyaWFsLmJ1bXBNYXApe3VuaWZvcm1zLmJ1bXBNYXAudmFsdWU9bWF0ZXJpYWwuYnVtcE1hcDt1bmlmb3Jtcy5idW1wU2NhbGUudmFsdWU9bWF0ZXJpYWwuYnVtcFNjYWxlO2lmKG1hdGVyaWFsLnNpZGU9PT1CYWNrU2lkZSl1bmlmb3Jtcy5idW1wU2NhbGUudmFsdWUqPS0xO31pZihtYXRlcmlhbC5ub3JtYWxNYXApe3VuaWZvcm1zLm5vcm1hbE1hcC52YWx1ZT1tYXRlcmlhbC5ub3JtYWxNYXA7dW5pZm9ybXMubm9ybWFsU2NhbGUudmFsdWUuY29weShtYXRlcmlhbC5ub3JtYWxTY2FsZSk7aWYobWF0ZXJpYWwuc2lkZT09PUJhY2tTaWRlKXVuaWZvcm1zLm5vcm1hbFNjYWxlLnZhbHVlLm5lZ2F0ZSgpO31pZihtYXRlcmlhbC5kaXNwbGFjZW1lbnRNYXApe3VuaWZvcm1zLmRpc3BsYWNlbWVudE1hcC52YWx1ZT1tYXRlcmlhbC5kaXNwbGFjZW1lbnRNYXA7dW5pZm9ybXMuZGlzcGxhY2VtZW50U2NhbGUudmFsdWU9bWF0ZXJpYWwuZGlzcGxhY2VtZW50U2NhbGU7dW5pZm9ybXMuZGlzcGxhY2VtZW50Qmlhcy52YWx1ZT1tYXRlcmlhbC5kaXNwbGFjZW1lbnRCaWFzO319ZnVuY3Rpb24gcmVmcmVzaFVuaWZvcm1zU3RhbmRhcmQodW5pZm9ybXMsbWF0ZXJpYWwpe3VuaWZvcm1zLnJvdWdobmVzcy52YWx1ZT1tYXRlcmlhbC5yb3VnaG5lc3M7dW5pZm9ybXMubWV0YWxuZXNzLnZhbHVlPW1hdGVyaWFsLm1ldGFsbmVzcztpZihtYXRlcmlhbC5yb3VnaG5lc3NNYXApe3VuaWZvcm1zLnJvdWdobmVzc01hcC52YWx1ZT1tYXRlcmlhbC5yb3VnaG5lc3NNYXA7fWlmKG1hdGVyaWFsLm1ldGFsbmVzc01hcCl7dW5pZm9ybXMubWV0YWxuZXNzTWFwLnZhbHVlPW1hdGVyaWFsLm1ldGFsbmVzc01hcDt9aWYobWF0ZXJpYWwuZW1pc3NpdmVNYXApe3VuaWZvcm1zLmVtaXNzaXZlTWFwLnZhbHVlPW1hdGVyaWFsLmVtaXNzaXZlTWFwO31pZihtYXRlcmlhbC5idW1wTWFwKXt1bmlmb3Jtcy5idW1wTWFwLnZhbHVlPW1hdGVyaWFsLmJ1bXBNYXA7dW5pZm9ybXMuYnVtcFNjYWxlLnZhbHVlPW1hdGVyaWFsLmJ1bXBTY2FsZTtpZihtYXRlcmlhbC5zaWRlPT09QmFja1NpZGUpdW5pZm9ybXMuYnVtcFNjYWxlLnZhbHVlKj0tMTt9aWYobWF0ZXJpYWwubm9ybWFsTWFwKXt1bmlmb3Jtcy5ub3JtYWxNYXAudmFsdWU9bWF0ZXJpYWwubm9ybWFsTWFwO3VuaWZvcm1zLm5vcm1hbFNjYWxlLnZhbHVlLmNvcHkobWF0ZXJpYWwubm9ybWFsU2NhbGUpO2lmKG1hdGVyaWFsLnNpZGU9PT1CYWNrU2lkZSl1bmlmb3Jtcy5ub3JtYWxTY2FsZS52YWx1ZS5uZWdhdGUoKTt9aWYobWF0ZXJpYWwuZGlzcGxhY2VtZW50TWFwKXt1bmlmb3Jtcy5kaXNwbGFjZW1lbnRNYXAudmFsdWU9bWF0ZXJpYWwuZGlzcGxhY2VtZW50TWFwO3VuaWZvcm1zLmRpc3BsYWNlbWVudFNjYWxlLnZhbHVlPW1hdGVyaWFsLmRpc3BsYWNlbWVudFNjYWxlO3VuaWZvcm1zLmRpc3BsYWNlbWVudEJpYXMudmFsdWU9bWF0ZXJpYWwuZGlzcGxhY2VtZW50Qmlhczt9dmFyIGVudk1hcD1wcm9wZXJ0aWVzLmdldChtYXRlcmlhbCkuZW52TWFwO2lmKGVudk1hcCl7Ly91bmlmb3Jtcy5lbnZNYXAudmFsdWUgPSBtYXRlcmlhbC5lbnZNYXA7IC8vIHBhcnQgb2YgdW5pZm9ybXMgY29tbW9uCnVuaWZvcm1zLmVudk1hcEludGVuc2l0eS52YWx1ZT1tYXRlcmlhbC5lbnZNYXBJbnRlbnNpdHk7fX1mdW5jdGlvbiByZWZyZXNoVW5pZm9ybXNQaHlzaWNhbCh1bmlmb3JtcyxtYXRlcmlhbCx0cmFuc21pc3Npb25SZW5kZXJUYXJnZXQpe3JlZnJlc2hVbmlmb3Jtc1N0YW5kYXJkKHVuaWZvcm1zLG1hdGVyaWFsKTt1bmlmb3Jtcy5pb3IudmFsdWU9bWF0ZXJpYWwuaW9yOy8vIGFsc28gcGFydCBvZiB1bmlmb3JtcyBjb21tb24KaWYobWF0ZXJpYWwuc2hlZW4+MCl7dW5pZm9ybXMuc2hlZW5Db2xvci52YWx1ZS5jb3B5KG1hdGVyaWFsLnNoZWVuQ29sb3IpLm11bHRpcGx5U2NhbGFyKG1hdGVyaWFsLnNoZWVuKTt1bmlmb3Jtcy5zaGVlblJvdWdobmVzcy52YWx1ZT1tYXRlcmlhbC5zaGVlblJvdWdobmVzcztpZihtYXRlcmlhbC5zaGVlbkNvbG9yTWFwKXt1bmlmb3Jtcy5zaGVlbkNvbG9yTWFwLnZhbHVlPW1hdGVyaWFsLnNoZWVuQ29sb3JNYXA7fWlmKG1hdGVyaWFsLnNoZWVuUm91Z2huZXNzTWFwKXt1bmlmb3Jtcy5zaGVlblJvdWdobmVzc01hcC52YWx1ZT1tYXRlcmlhbC5zaGVlblJvdWdobmVzc01hcDt9fWlmKG1hdGVyaWFsLmNsZWFyY29hdD4wKXt1bmlmb3Jtcy5jbGVhcmNvYXQudmFsdWU9bWF0ZXJpYWwuY2xlYXJjb2F0O3VuaWZvcm1zLmNsZWFyY29hdFJvdWdobmVzcy52YWx1ZT1tYXRlcmlhbC5jbGVhcmNvYXRSb3VnaG5lc3M7aWYobWF0ZXJpYWwuY2xlYXJjb2F0TWFwKXt1bmlmb3Jtcy5jbGVhcmNvYXRNYXAudmFsdWU9bWF0ZXJpYWwuY2xlYXJjb2F0TWFwO31pZihtYXRlcmlhbC5jbGVhcmNvYXRSb3VnaG5lc3NNYXApe3VuaWZvcm1zLmNsZWFyY29hdFJvdWdobmVzc01hcC52YWx1ZT1tYXRlcmlhbC5jbGVhcmNvYXRSb3VnaG5lc3NNYXA7fWlmKG1hdGVyaWFsLmNsZWFyY29hdE5vcm1hbE1hcCl7dW5pZm9ybXMuY2xlYXJjb2F0Tm9ybWFsU2NhbGUudmFsdWUuY29weShtYXRlcmlhbC5jbGVhcmNvYXROb3JtYWxTY2FsZSk7dW5pZm9ybXMuY2xlYXJjb2F0Tm9ybWFsTWFwLnZhbHVlPW1hdGVyaWFsLmNsZWFyY29hdE5vcm1hbE1hcDtpZihtYXRlcmlhbC5zaWRlPT09QmFja1NpZGUpe3VuaWZvcm1zLmNsZWFyY29hdE5vcm1hbFNjYWxlLnZhbHVlLm5lZ2F0ZSgpO319fWlmKG1hdGVyaWFsLnRyYW5zbWlzc2lvbj4wKXt1bmlmb3Jtcy50cmFuc21pc3Npb24udmFsdWU9bWF0ZXJpYWwudHJhbnNtaXNzaW9uO3VuaWZvcm1zLnRyYW5zbWlzc2lvblNhbXBsZXJNYXAudmFsdWU9dHJhbnNtaXNzaW9uUmVuZGVyVGFyZ2V0LnRleHR1cmU7dW5pZm9ybXMudHJhbnNtaXNzaW9uU2FtcGxlclNpemUudmFsdWUuc2V0KHRyYW5zbWlzc2lvblJlbmRlclRhcmdldC53aWR0aCx0cmFuc21pc3Npb25SZW5kZXJUYXJnZXQuaGVpZ2h0KTtpZihtYXRlcmlhbC50cmFuc21pc3Npb25NYXApe3VuaWZvcm1zLnRyYW5zbWlzc2lvbk1hcC52YWx1ZT1tYXRlcmlhbC50cmFuc21pc3Npb25NYXA7fXVuaWZvcm1zLnRoaWNrbmVzcy52YWx1ZT1tYXRlcmlhbC50aGlja25lc3M7aWYobWF0ZXJpYWwudGhpY2tuZXNzTWFwKXt1bmlmb3Jtcy50aGlja25lc3NNYXAudmFsdWU9bWF0ZXJpYWwudGhpY2tuZXNzTWFwO311bmlmb3Jtcy5hdHRlbnVhdGlvbkRpc3RhbmNlLnZhbHVlPW1hdGVyaWFsLmF0dGVudWF0aW9uRGlzdGFuY2U7dW5pZm9ybXMuYXR0ZW51YXRpb25Db2xvci52YWx1ZS5jb3B5KG1hdGVyaWFsLmF0dGVudWF0aW9uQ29sb3IpO311bmlmb3Jtcy5zcGVjdWxhckludGVuc2l0eS52YWx1ZT1tYXRlcmlhbC5zcGVjdWxhckludGVuc2l0eTt1bmlmb3Jtcy5zcGVjdWxhckNvbG9yLnZhbHVlLmNvcHkobWF0ZXJpYWwuc3BlY3VsYXJDb2xvcik7aWYobWF0ZXJpYWwuc3BlY3VsYXJJbnRlbnNpdHlNYXApe3VuaWZvcm1zLnNwZWN1bGFySW50ZW5zaXR5TWFwLnZhbHVlPW1hdGVyaWFsLnNwZWN1bGFySW50ZW5zaXR5TWFwO31pZihtYXRlcmlhbC5zcGVjdWxhckNvbG9yTWFwKXt1bmlmb3Jtcy5zcGVjdWxhckNvbG9yTWFwLnZhbHVlPW1hdGVyaWFsLnNwZWN1bGFyQ29sb3JNYXA7fX1mdW5jdGlvbiByZWZyZXNoVW5pZm9ybXNNYXRjYXAodW5pZm9ybXMsbWF0ZXJpYWwpe2lmKG1hdGVyaWFsLm1hdGNhcCl7dW5pZm9ybXMubWF0Y2FwLnZhbHVlPW1hdGVyaWFsLm1hdGNhcDt9aWYobWF0ZXJpYWwuYnVtcE1hcCl7dW5pZm9ybXMuYnVtcE1hcC52YWx1ZT1tYXRlcmlhbC5idW1wTWFwO3VuaWZvcm1zLmJ1bXBTY2FsZS52YWx1ZT1tYXRlcmlhbC5idW1wU2NhbGU7aWYobWF0ZXJpYWwuc2lkZT09PUJhY2tTaWRlKXVuaWZvcm1zLmJ1bXBTY2FsZS52YWx1ZSo9LTE7fWlmKG1hdGVyaWFsLm5vcm1hbE1hcCl7dW5pZm9ybXMubm9ybWFsTWFwLnZhbHVlPW1hdGVyaWFsLm5vcm1hbE1hcDt1bmlmb3Jtcy5ub3JtYWxTY2FsZS52YWx1ZS5jb3B5KG1hdGVyaWFsLm5vcm1hbFNjYWxlKTtpZihtYXRlcmlhbC5zaWRlPT09QmFja1NpZGUpdW5pZm9ybXMubm9ybWFsU2NhbGUudmFsdWUubmVnYXRlKCk7fWlmKG1hdGVyaWFsLmRpc3BsYWNlbWVudE1hcCl7dW5pZm9ybXMuZGlzcGxhY2VtZW50TWFwLnZhbHVlPW1hdGVyaWFsLmRpc3BsYWNlbWVudE1hcDt1bmlmb3Jtcy5kaXNwbGFjZW1lbnRTY2FsZS52YWx1ZT1tYXRlcmlhbC5kaXNwbGFjZW1lbnRTY2FsZTt1bmlmb3Jtcy5kaXNwbGFjZW1lbnRCaWFzLnZhbHVlPW1hdGVyaWFsLmRpc3BsYWNlbWVudEJpYXM7fX1mdW5jdGlvbiByZWZyZXNoVW5pZm9ybXNEZXB0aCh1bmlmb3JtcyxtYXRlcmlhbCl7aWYobWF0ZXJpYWwuZGlzcGxhY2VtZW50TWFwKXt1bmlmb3Jtcy5kaXNwbGFjZW1lbnRNYXAudmFsdWU9bWF0ZXJpYWwuZGlzcGxhY2VtZW50TWFwO3VuaWZvcm1zLmRpc3BsYWNlbWVudFNjYWxlLnZhbHVlPW1hdGVyaWFsLmRpc3BsYWNlbWVudFNjYWxlO3VuaWZvcm1zLmRpc3BsYWNlbWVudEJpYXMudmFsdWU9bWF0ZXJpYWwuZGlzcGxhY2VtZW50Qmlhczt9fWZ1bmN0aW9uIHJlZnJlc2hVbmlmb3Jtc0Rpc3RhbmNlKHVuaWZvcm1zLG1hdGVyaWFsKXtpZihtYXRlcmlhbC5kaXNwbGFjZW1lbnRNYXApe3VuaWZvcm1zLmRpc3BsYWNlbWVudE1hcC52YWx1ZT1tYXRlcmlhbC5kaXNwbGFjZW1lbnRNYXA7dW5pZm9ybXMuZGlzcGxhY2VtZW50U2NhbGUudmFsdWU9bWF0ZXJpYWwuZGlzcGxhY2VtZW50U2NhbGU7dW5pZm9ybXMuZGlzcGxhY2VtZW50Qmlhcy52YWx1ZT1tYXRlcmlhbC5kaXNwbGFjZW1lbnRCaWFzO311bmlmb3Jtcy5yZWZlcmVuY2VQb3NpdGlvbi52YWx1ZS5jb3B5KG1hdGVyaWFsLnJlZmVyZW5jZVBvc2l0aW9uKTt1bmlmb3Jtcy5uZWFyRGlzdGFuY2UudmFsdWU9bWF0ZXJpYWwubmVhckRpc3RhbmNlO3VuaWZvcm1zLmZhckRpc3RhbmNlLnZhbHVlPW1hdGVyaWFsLmZhckRpc3RhbmNlO31mdW5jdGlvbiByZWZyZXNoVW5pZm9ybXNOb3JtYWwodW5pZm9ybXMsbWF0ZXJpYWwpe2lmKG1hdGVyaWFsLmJ1bXBNYXApe3VuaWZvcm1zLmJ1bXBNYXAudmFsdWU9bWF0ZXJpYWwuYnVtcE1hcDt1bmlmb3Jtcy5idW1wU2NhbGUudmFsdWU9bWF0ZXJpYWwuYnVtcFNjYWxlO2lmKG1hdGVyaWFsLnNpZGU9PT1CYWNrU2lkZSl1bmlmb3Jtcy5idW1wU2NhbGUudmFsdWUqPS0xO31pZihtYXRlcmlhbC5ub3JtYWxNYXApe3VuaWZvcm1zLm5vcm1hbE1hcC52YWx1ZT1tYXRlcmlhbC5ub3JtYWxNYXA7dW5pZm9ybXMubm9ybWFsU2NhbGUudmFsdWUuY29weShtYXRlcmlhbC5ub3JtYWxTY2FsZSk7aWYobWF0ZXJpYWwuc2lkZT09PUJhY2tTaWRlKXVuaWZvcm1zLm5vcm1hbFNjYWxlLnZhbHVlLm5lZ2F0ZSgpO31pZihtYXRlcmlhbC5kaXNwbGFjZW1lbnRNYXApe3VuaWZvcm1zLmRpc3BsYWNlbWVudE1hcC52YWx1ZT1tYXRlcmlhbC5kaXNwbGFjZW1lbnRNYXA7dW5pZm9ybXMuZGlzcGxhY2VtZW50U2NhbGUudmFsdWU9bWF0ZXJpYWwuZGlzcGxhY2VtZW50U2NhbGU7dW5pZm9ybXMuZGlzcGxhY2VtZW50Qmlhcy52YWx1ZT1tYXRlcmlhbC5kaXNwbGFjZW1lbnRCaWFzO319cmV0dXJue3JlZnJlc2hGb2dVbmlmb3JtczpyZWZyZXNoRm9nVW5pZm9ybXMscmVmcmVzaE1hdGVyaWFsVW5pZm9ybXM6cmVmcmVzaE1hdGVyaWFsVW5pZm9ybXN9O31mdW5jdGlvbiBjcmVhdGVDYW52YXNFbGVtZW50KCl7dmFyIGNhbnZhcz1jcmVhdGVFbGVtZW50TlMoJ2NhbnZhcycpO2NhbnZhcy5zdHlsZS5kaXNwbGF5PSdibG9jayc7cmV0dXJuIGNhbnZhczt9ZnVuY3Rpb24gV2ViR0xSZW5kZXJlcigpe3ZhciBwYXJhbWV0ZXJzPWFyZ3VtZW50cy5sZW5ndGg+MCYmYXJndW1lbnRzWzBdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1swXTp7fTt2YXIgX2NhbnZhcz1wYXJhbWV0ZXJzLmNhbnZhcyE9PXVuZGVmaW5lZD9wYXJhbWV0ZXJzLmNhbnZhczpjcmVhdGVDYW52YXNFbGVtZW50KCksX2NvbnRleHQ9cGFyYW1ldGVycy5jb250ZXh0IT09dW5kZWZpbmVkP3BhcmFtZXRlcnMuY29udGV4dDpudWxsLF9hbHBoYT1wYXJhbWV0ZXJzLmFscGhhIT09dW5kZWZpbmVkP3BhcmFtZXRlcnMuYWxwaGE6ZmFsc2UsX2RlcHRoPXBhcmFtZXRlcnMuZGVwdGghPT11bmRlZmluZWQ/cGFyYW1ldGVycy5kZXB0aDp0cnVlLF9zdGVuY2lsPXBhcmFtZXRlcnMuc3RlbmNpbCE9PXVuZGVmaW5lZD9wYXJhbWV0ZXJzLnN0ZW5jaWw6dHJ1ZSxfYW50aWFsaWFzPXBhcmFtZXRlcnMuYW50aWFsaWFzIT09dW5kZWZpbmVkP3BhcmFtZXRlcnMuYW50aWFsaWFzOmZhbHNlLF9wcmVtdWx0aXBsaWVkQWxwaGE9cGFyYW1ldGVycy5wcmVtdWx0aXBsaWVkQWxwaGEhPT11bmRlZmluZWQ/cGFyYW1ldGVycy5wcmVtdWx0aXBsaWVkQWxwaGE6dHJ1ZSxfcHJlc2VydmVEcmF3aW5nQnVmZmVyPXBhcmFtZXRlcnMucHJlc2VydmVEcmF3aW5nQnVmZmVyIT09dW5kZWZpbmVkP3BhcmFtZXRlcnMucHJlc2VydmVEcmF3aW5nQnVmZmVyOmZhbHNlLF9wb3dlclByZWZlcmVuY2U9cGFyYW1ldGVycy5wb3dlclByZWZlcmVuY2UhPT11bmRlZmluZWQ/cGFyYW1ldGVycy5wb3dlclByZWZlcmVuY2U6J2RlZmF1bHQnLF9mYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0PXBhcmFtZXRlcnMuZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdCE9PXVuZGVmaW5lZD9wYXJhbWV0ZXJzLmZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQ6ZmFsc2U7dmFyIGN1cnJlbnRSZW5kZXJMaXN0PW51bGw7dmFyIGN1cnJlbnRSZW5kZXJTdGF0ZT1udWxsOy8vIHJlbmRlcigpIGNhbiBiZSBjYWxsZWQgZnJvbSB3aXRoaW4gYSBjYWxsYmFjayB0cmlnZ2VyZWQgYnkgYW5vdGhlciByZW5kZXIuCi8vIFdlIHRyYWNrIHRoaXMgc28gdGhhdCB0aGUgbmVzdGVkIHJlbmRlciBjYWxsIGdldHMgaXRzIGxpc3QgYW5kIHN0YXRlIGlzb2xhdGVkIGZyb20gdGhlIHBhcmVudCByZW5kZXIgY2FsbC4KdmFyIHJlbmRlckxpc3RTdGFjaz1bXTt2YXIgcmVuZGVyU3RhdGVTdGFjaz1bXTsvLyBwdWJsaWMgcHJvcGVydGllcwp0aGlzLmRvbUVsZW1lbnQ9X2NhbnZhczsvLyBEZWJ1ZyBjb25maWd1cmF0aW9uIGNvbnRhaW5lcgp0aGlzLmRlYnVnPXsvKioKCQkgKiBFbmFibGVzIGVycm9yIGNoZWNraW5nIGFuZCByZXBvcnRpbmcgd2hlbiBzaGFkZXIgcHJvZ3JhbXMgYXJlIGJlaW5nIGNvbXBpbGVkCgkJICogQHR5cGUge2Jvb2xlYW59CgkJICovY2hlY2tTaGFkZXJFcnJvcnM6dHJ1ZX07Ly8gY2xlYXJpbmcKdGhpcy5hdXRvQ2xlYXI9dHJ1ZTt0aGlzLmF1dG9DbGVhckNvbG9yPXRydWU7dGhpcy5hdXRvQ2xlYXJEZXB0aD10cnVlO3RoaXMuYXV0b0NsZWFyU3RlbmNpbD10cnVlOy8vIHNjZW5lIGdyYXBoCnRoaXMuc29ydE9iamVjdHM9dHJ1ZTsvLyB1c2VyLWRlZmluZWQgY2xpcHBpbmcKdGhpcy5jbGlwcGluZ1BsYW5lcz1bXTt0aGlzLmxvY2FsQ2xpcHBpbmdFbmFibGVkPWZhbHNlOy8vIHBoeXNpY2FsbHkgYmFzZWQgc2hhZGluZwp0aGlzLm91dHB1dEVuY29kaW5nPUxpbmVhckVuY29kaW5nOy8vIHBoeXNpY2FsIGxpZ2h0cwp0aGlzLnBoeXNpY2FsbHlDb3JyZWN0TGlnaHRzPWZhbHNlOy8vIHRvbmUgbWFwcGluZwp0aGlzLnRvbmVNYXBwaW5nPU5vVG9uZU1hcHBpbmc7dGhpcy50b25lTWFwcGluZ0V4cG9zdXJlPTEuMDsvLyBpbnRlcm5hbCBwcm9wZXJ0aWVzCnZhciBfdGhpcz10aGlzO3ZhciBfaXNDb250ZXh0TG9zdD1mYWxzZTsvLyBpbnRlcm5hbCBzdGF0ZSBjYWNoZQp2YXIgX2N1cnJlbnRBY3RpdmVDdWJlRmFjZT0wO3ZhciBfY3VycmVudEFjdGl2ZU1pcG1hcExldmVsPTA7dmFyIF9jdXJyZW50UmVuZGVyVGFyZ2V0PW51bGw7dmFyIF9jdXJyZW50TWF0ZXJpYWxJZD0tMTt2YXIgX2N1cnJlbnRDYW1lcmE9bnVsbDt2YXIgX2N1cnJlbnRWaWV3cG9ydD1uZXcgVmVjdG9yNCgpO3ZhciBfY3VycmVudFNjaXNzb3I9bmV3IFZlY3RvcjQoKTt2YXIgX2N1cnJlbnRTY2lzc29yVGVzdD1udWxsOy8vCnZhciBfd2lkdGg9X2NhbnZhcy53aWR0aDt2YXIgX2hlaWdodD1fY2FudmFzLmhlaWdodDt2YXIgX3BpeGVsUmF0aW89MTt2YXIgX29wYXF1ZVNvcnQ9bnVsbDt2YXIgX3RyYW5zcGFyZW50U29ydD1udWxsO3ZhciBfdmlld3BvcnQ9bmV3IFZlY3RvcjQoMCwwLF93aWR0aCxfaGVpZ2h0KTt2YXIgX3NjaXNzb3I9bmV3IFZlY3RvcjQoMCwwLF93aWR0aCxfaGVpZ2h0KTt2YXIgX3NjaXNzb3JUZXN0PWZhbHNlOy8vIGZydXN0dW0KdmFyIF9mcnVzdHVtPW5ldyBGcnVzdHVtKCk7Ly8gY2xpcHBpbmcKdmFyIF9jbGlwcGluZ0VuYWJsZWQ9ZmFsc2U7dmFyIF9sb2NhbENsaXBwaW5nRW5hYmxlZD1mYWxzZTsvLyB0cmFuc21pc3Npb24KdmFyIF90cmFuc21pc3Npb25SZW5kZXJUYXJnZXQ9bnVsbDsvLyBjYW1lcmEgbWF0cmljZXMgY2FjaGUKdmFyIF9wcm9qU2NyZWVuTWF0cml4PW5ldyBNYXRyaXg0KCk7dmFyIF92ZWN0b3IzPW5ldyBWZWN0b3IzKCk7dmFyIF9lbXB0eVNjZW5lPXtiYWNrZ3JvdW5kOm51bGwsZm9nOm51bGwsZW52aXJvbm1lbnQ6bnVsbCxvdmVycmlkZU1hdGVyaWFsOm51bGwsaXNTY2VuZTp0cnVlfTtmdW5jdGlvbiBnZXRUYXJnZXRQaXhlbFJhdGlvKCl7cmV0dXJuIF9jdXJyZW50UmVuZGVyVGFyZ2V0PT09bnVsbD9fcGl4ZWxSYXRpbzoxO30vLyBpbml0aWFsaXplCnZhciBfZ2w9X2NvbnRleHQ7ZnVuY3Rpb24gZ2V0Q29udGV4dChjb250ZXh0TmFtZXMsY29udGV4dEF0dHJpYnV0ZXMpe2Zvcih2YXIgX2kxNDY9MDtfaTE0Njxjb250ZXh0TmFtZXMubGVuZ3RoO19pMTQ2Kyspe3ZhciBjb250ZXh0TmFtZT1jb250ZXh0TmFtZXNbX2kxNDZdO3ZhciBjb250ZXh0PV9jYW52YXMuZ2V0Q29udGV4dChjb250ZXh0TmFtZSxjb250ZXh0QXR0cmlidXRlcyk7aWYoY29udGV4dCE9PW51bGwpcmV0dXJuIGNvbnRleHQ7fXJldHVybiBudWxsO310cnl7dmFyIGNvbnRleHRBdHRyaWJ1dGVzPXthbHBoYTp0cnVlLGRlcHRoOl9kZXB0aCxzdGVuY2lsOl9zdGVuY2lsLGFudGlhbGlhczpfYW50aWFsaWFzLHByZW11bHRpcGxpZWRBbHBoYTpfcHJlbXVsdGlwbGllZEFscGhhLHByZXNlcnZlRHJhd2luZ0J1ZmZlcjpfcHJlc2VydmVEcmF3aW5nQnVmZmVyLHBvd2VyUHJlZmVyZW5jZTpfcG93ZXJQcmVmZXJlbmNlLGZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQ6X2ZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXR9Oy8vIE9mZnNjcmVlbkNhbnZhcyBkb2VzIG5vdCBoYXZlIHNldEF0dHJpYnV0ZSwgc2VlICMyMjgxMQppZignc2V0QXR0cmlidXRlJ2luIF9jYW52YXMpX2NhbnZhcy5zZXRBdHRyaWJ1dGUoJ2RhdGEtZW5naW5lJywidGhyZWUuanMgciIuY29uY2F0KFJFVklTSU9OKSk7Ly8gZXZlbnQgbGlzdGVuZXJzIG11c3QgYmUgcmVnaXN0ZXJlZCBiZWZvcmUgV2ViR0wgY29udGV4dCBpcyBjcmVhdGVkLCBzZWUgIzEyNzUzCl9jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignd2ViZ2xjb250ZXh0bG9zdCcsb25Db250ZXh0TG9zdCxmYWxzZSk7X2NhbnZhcy5hZGRFdmVudExpc3RlbmVyKCd3ZWJnbGNvbnRleHRyZXN0b3JlZCcsb25Db250ZXh0UmVzdG9yZSxmYWxzZSk7aWYoX2dsPT09bnVsbCl7dmFyIGNvbnRleHROYW1lcz1bJ3dlYmdsMicsJ3dlYmdsJywnZXhwZXJpbWVudGFsLXdlYmdsJ107aWYoX3RoaXMuaXNXZWJHTDFSZW5kZXJlcj09PXRydWUpe2NvbnRleHROYW1lcy5zaGlmdCgpO31fZ2w9Z2V0Q29udGV4dChjb250ZXh0TmFtZXMsY29udGV4dEF0dHJpYnV0ZXMpO2lmKF9nbD09PW51bGwpe2lmKGdldENvbnRleHQoY29udGV4dE5hbWVzKSl7dGhyb3cgbmV3IEVycm9yKCdFcnJvciBjcmVhdGluZyBXZWJHTCBjb250ZXh0IHdpdGggeW91ciBzZWxlY3RlZCBhdHRyaWJ1dGVzLicpO31lbHNle3Rocm93IG5ldyBFcnJvcignRXJyb3IgY3JlYXRpbmcgV2ViR0wgY29udGV4dC4nKTt9fX0vLyBTb21lIGV4cGVyaW1lbnRhbC13ZWJnbCBpbXBsZW1lbnRhdGlvbnMgZG8gbm90IGhhdmUgZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0CmlmKF9nbC5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQ9PT11bmRlZmluZWQpe19nbC5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQ9ZnVuY3Rpb24oKXtyZXR1cm57J3JhbmdlTWluJzoxLCdyYW5nZU1heCc6MSwncHJlY2lzaW9uJzoxfTt9O319Y2F0Y2goZXJyb3Ipe2NvbnNvbGUuZXJyb3IoJ1RIUkVFLldlYkdMUmVuZGVyZXI6ICcrZXJyb3IubWVzc2FnZSk7dGhyb3cgZXJyb3I7fXZhciBleHRlbnNpb25zLGNhcGFiaWxpdGllcyxzdGF0ZSxpbmZvO3ZhciBwcm9wZXJ0aWVzLHRleHR1cmVzLGN1YmVtYXBzLGN1YmV1dm1hcHMsYXR0cmlidXRlcyxnZW9tZXRyaWVzLG9iamVjdHM7dmFyIHByb2dyYW1DYWNoZSxtYXRlcmlhbHMscmVuZGVyTGlzdHMscmVuZGVyU3RhdGVzLGNsaXBwaW5nLHNoYWRvd01hcDt2YXIgYmFja2dyb3VuZCxtb3JwaHRhcmdldHMsYnVmZmVyUmVuZGVyZXIsaW5kZXhlZEJ1ZmZlclJlbmRlcmVyO3ZhciB1dGlscyxiaW5kaW5nU3RhdGVzO2Z1bmN0aW9uIGluaXRHTENvbnRleHQoKXtleHRlbnNpb25zPW5ldyBXZWJHTEV4dGVuc2lvbnMoX2dsKTtjYXBhYmlsaXRpZXM9bmV3IFdlYkdMQ2FwYWJpbGl0aWVzKF9nbCxleHRlbnNpb25zLHBhcmFtZXRlcnMpO2V4dGVuc2lvbnMuaW5pdChjYXBhYmlsaXRpZXMpO3V0aWxzPW5ldyBXZWJHTFV0aWxzKF9nbCxleHRlbnNpb25zLGNhcGFiaWxpdGllcyk7c3RhdGU9bmV3IFdlYkdMU3RhdGUoX2dsLGV4dGVuc2lvbnMsY2FwYWJpbGl0aWVzKTtpbmZvPW5ldyBXZWJHTEluZm8oX2dsKTtwcm9wZXJ0aWVzPW5ldyBXZWJHTFByb3BlcnRpZXMoKTt0ZXh0dXJlcz1uZXcgV2ViR0xUZXh0dXJlcyhfZ2wsZXh0ZW5zaW9ucyxzdGF0ZSxwcm9wZXJ0aWVzLGNhcGFiaWxpdGllcyx1dGlscyxpbmZvKTtjdWJlbWFwcz1uZXcgV2ViR0xDdWJlTWFwcyhfdGhpcyk7Y3ViZXV2bWFwcz1uZXcgV2ViR0xDdWJlVVZNYXBzKF90aGlzKTthdHRyaWJ1dGVzPW5ldyBXZWJHTEF0dHJpYnV0ZXMoX2dsLGNhcGFiaWxpdGllcyk7YmluZGluZ1N0YXRlcz1uZXcgV2ViR0xCaW5kaW5nU3RhdGVzKF9nbCxleHRlbnNpb25zLGF0dHJpYnV0ZXMsY2FwYWJpbGl0aWVzKTtnZW9tZXRyaWVzPW5ldyBXZWJHTEdlb21ldHJpZXMoX2dsLGF0dHJpYnV0ZXMsaW5mbyxiaW5kaW5nU3RhdGVzKTtvYmplY3RzPW5ldyBXZWJHTE9iamVjdHMoX2dsLGdlb21ldHJpZXMsYXR0cmlidXRlcyxpbmZvKTttb3JwaHRhcmdldHM9bmV3IFdlYkdMTW9ycGh0YXJnZXRzKF9nbCxjYXBhYmlsaXRpZXMsdGV4dHVyZXMpO2NsaXBwaW5nPW5ldyBXZWJHTENsaXBwaW5nKHByb3BlcnRpZXMpO3Byb2dyYW1DYWNoZT1uZXcgV2ViR0xQcm9ncmFtcyhfdGhpcyxjdWJlbWFwcyxjdWJldXZtYXBzLGV4dGVuc2lvbnMsY2FwYWJpbGl0aWVzLGJpbmRpbmdTdGF0ZXMsY2xpcHBpbmcpO21hdGVyaWFscz1uZXcgV2ViR0xNYXRlcmlhbHMocHJvcGVydGllcyk7cmVuZGVyTGlzdHM9bmV3IFdlYkdMUmVuZGVyTGlzdHMoKTtyZW5kZXJTdGF0ZXM9bmV3IFdlYkdMUmVuZGVyU3RhdGVzKGV4dGVuc2lvbnMsY2FwYWJpbGl0aWVzKTtiYWNrZ3JvdW5kPW5ldyBXZWJHTEJhY2tncm91bmQoX3RoaXMsY3ViZW1hcHMsc3RhdGUsb2JqZWN0cyxfYWxwaGEsX3ByZW11bHRpcGxpZWRBbHBoYSk7c2hhZG93TWFwPW5ldyBXZWJHTFNoYWRvd01hcChfdGhpcyxvYmplY3RzLGNhcGFiaWxpdGllcyk7YnVmZmVyUmVuZGVyZXI9bmV3IFdlYkdMQnVmZmVyUmVuZGVyZXIoX2dsLGV4dGVuc2lvbnMsaW5mbyxjYXBhYmlsaXRpZXMpO2luZGV4ZWRCdWZmZXJSZW5kZXJlcj1uZXcgV2ViR0xJbmRleGVkQnVmZmVyUmVuZGVyZXIoX2dsLGV4dGVuc2lvbnMsaW5mbyxjYXBhYmlsaXRpZXMpO2luZm8ucHJvZ3JhbXM9cHJvZ3JhbUNhY2hlLnByb2dyYW1zO190aGlzLmNhcGFiaWxpdGllcz1jYXBhYmlsaXRpZXM7X3RoaXMuZXh0ZW5zaW9ucz1leHRlbnNpb25zO190aGlzLnByb3BlcnRpZXM9cHJvcGVydGllcztfdGhpcy5yZW5kZXJMaXN0cz1yZW5kZXJMaXN0cztfdGhpcy5zaGFkb3dNYXA9c2hhZG93TWFwO190aGlzLnN0YXRlPXN0YXRlO190aGlzLmluZm89aW5mbzt9aW5pdEdMQ29udGV4dCgpOy8vIHhyCnZhciB4cj1uZXcgV2ViWFJNYW5hZ2VyKF90aGlzLF9nbCk7dGhpcy54cj14cjsvLyBBUEkKdGhpcy5nZXRDb250ZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIF9nbDt9O3RoaXMuZ2V0Q29udGV4dEF0dHJpYnV0ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gX2dsLmdldENvbnRleHRBdHRyaWJ1dGVzKCk7fTt0aGlzLmZvcmNlQ29udGV4dExvc3M9ZnVuY3Rpb24oKXt2YXIgZXh0ZW5zaW9uPWV4dGVuc2lvbnMuZ2V0KCdXRUJHTF9sb3NlX2NvbnRleHQnKTtpZihleHRlbnNpb24pZXh0ZW5zaW9uLmxvc2VDb250ZXh0KCk7fTt0aGlzLmZvcmNlQ29udGV4dFJlc3RvcmU9ZnVuY3Rpb24oKXt2YXIgZXh0ZW5zaW9uPWV4dGVuc2lvbnMuZ2V0KCdXRUJHTF9sb3NlX2NvbnRleHQnKTtpZihleHRlbnNpb24pZXh0ZW5zaW9uLnJlc3RvcmVDb250ZXh0KCk7fTt0aGlzLmdldFBpeGVsUmF0aW89ZnVuY3Rpb24oKXtyZXR1cm4gX3BpeGVsUmF0aW87fTt0aGlzLnNldFBpeGVsUmF0aW89ZnVuY3Rpb24odmFsdWUpe2lmKHZhbHVlPT09dW5kZWZpbmVkKXJldHVybjtfcGl4ZWxSYXRpbz12YWx1ZTt0aGlzLnNldFNpemUoX3dpZHRoLF9oZWlnaHQsZmFsc2UpO307dGhpcy5nZXRTaXplPWZ1bmN0aW9uKHRhcmdldCl7cmV0dXJuIHRhcmdldC5zZXQoX3dpZHRoLF9oZWlnaHQpO307dGhpcy5zZXRTaXplPWZ1bmN0aW9uKHdpZHRoLGhlaWdodCx1cGRhdGVTdHlsZSl7aWYoeHIuaXNQcmVzZW50aW5nKXtjb25zb2xlLndhcm4oJ1RIUkVFLldlYkdMUmVuZGVyZXI6IENhblwndCBjaGFuZ2Ugc2l6ZSB3aGlsZSBWUiBkZXZpY2UgaXMgcHJlc2VudGluZy4nKTtyZXR1cm47fV93aWR0aD13aWR0aDtfaGVpZ2h0PWhlaWdodDtfY2FudmFzLndpZHRoPU1hdGguZmxvb3Iod2lkdGgqX3BpeGVsUmF0aW8pO19jYW52YXMuaGVpZ2h0PU1hdGguZmxvb3IoaGVpZ2h0Kl9waXhlbFJhdGlvKTtpZih1cGRhdGVTdHlsZSE9PWZhbHNlKXtfY2FudmFzLnN0eWxlLndpZHRoPXdpZHRoKydweCc7X2NhbnZhcy5zdHlsZS5oZWlnaHQ9aGVpZ2h0KydweCc7fXRoaXMuc2V0Vmlld3BvcnQoMCwwLHdpZHRoLGhlaWdodCk7fTt0aGlzLmdldERyYXdpbmdCdWZmZXJTaXplPWZ1bmN0aW9uKHRhcmdldCl7cmV0dXJuIHRhcmdldC5zZXQoX3dpZHRoKl9waXhlbFJhdGlvLF9oZWlnaHQqX3BpeGVsUmF0aW8pLmZsb29yKCk7fTt0aGlzLnNldERyYXdpbmdCdWZmZXJTaXplPWZ1bmN0aW9uKHdpZHRoLGhlaWdodCxwaXhlbFJhdGlvKXtfd2lkdGg9d2lkdGg7X2hlaWdodD1oZWlnaHQ7X3BpeGVsUmF0aW89cGl4ZWxSYXRpbztfY2FudmFzLndpZHRoPU1hdGguZmxvb3Iod2lkdGgqcGl4ZWxSYXRpbyk7X2NhbnZhcy5oZWlnaHQ9TWF0aC5mbG9vcihoZWlnaHQqcGl4ZWxSYXRpbyk7dGhpcy5zZXRWaWV3cG9ydCgwLDAsd2lkdGgsaGVpZ2h0KTt9O3RoaXMuZ2V0Q3VycmVudFZpZXdwb3J0PWZ1bmN0aW9uKHRhcmdldCl7cmV0dXJuIHRhcmdldC5jb3B5KF9jdXJyZW50Vmlld3BvcnQpO307dGhpcy5nZXRWaWV3cG9ydD1mdW5jdGlvbih0YXJnZXQpe3JldHVybiB0YXJnZXQuY29weShfdmlld3BvcnQpO307dGhpcy5zZXRWaWV3cG9ydD1mdW5jdGlvbih4LHksd2lkdGgsaGVpZ2h0KXtpZih4LmlzVmVjdG9yNCl7X3ZpZXdwb3J0LnNldCh4LngseC55LHgueix4LncpO31lbHNle192aWV3cG9ydC5zZXQoeCx5LHdpZHRoLGhlaWdodCk7fXN0YXRlLnZpZXdwb3J0KF9jdXJyZW50Vmlld3BvcnQuY29weShfdmlld3BvcnQpLm11bHRpcGx5U2NhbGFyKF9waXhlbFJhdGlvKS5mbG9vcigpKTt9O3RoaXMuZ2V0U2Npc3Nvcj1mdW5jdGlvbih0YXJnZXQpe3JldHVybiB0YXJnZXQuY29weShfc2Npc3Nvcik7fTt0aGlzLnNldFNjaXNzb3I9ZnVuY3Rpb24oeCx5LHdpZHRoLGhlaWdodCl7aWYoeC5pc1ZlY3RvcjQpe19zY2lzc29yLnNldCh4LngseC55LHgueix4LncpO31lbHNle19zY2lzc29yLnNldCh4LHksd2lkdGgsaGVpZ2h0KTt9c3RhdGUuc2Npc3NvcihfY3VycmVudFNjaXNzb3IuY29weShfc2Npc3NvcikubXVsdGlwbHlTY2FsYXIoX3BpeGVsUmF0aW8pLmZsb29yKCkpO307dGhpcy5nZXRTY2lzc29yVGVzdD1mdW5jdGlvbigpe3JldHVybiBfc2Npc3NvclRlc3Q7fTt0aGlzLnNldFNjaXNzb3JUZXN0PWZ1bmN0aW9uKGJvb2xlYW4pe3N0YXRlLnNldFNjaXNzb3JUZXN0KF9zY2lzc29yVGVzdD1ib29sZWFuKTt9O3RoaXMuc2V0T3BhcXVlU29ydD1mdW5jdGlvbihtZXRob2Qpe19vcGFxdWVTb3J0PW1ldGhvZDt9O3RoaXMuc2V0VHJhbnNwYXJlbnRTb3J0PWZ1bmN0aW9uKG1ldGhvZCl7X3RyYW5zcGFyZW50U29ydD1tZXRob2Q7fTsvLyBDbGVhcmluZwp0aGlzLmdldENsZWFyQ29sb3I9ZnVuY3Rpb24odGFyZ2V0KXtyZXR1cm4gdGFyZ2V0LmNvcHkoYmFja2dyb3VuZC5nZXRDbGVhckNvbG9yKCkpO307dGhpcy5zZXRDbGVhckNvbG9yPWZ1bmN0aW9uKCl7YmFja2dyb3VuZC5zZXRDbGVhckNvbG9yLmFwcGx5KGJhY2tncm91bmQsYXJndW1lbnRzKTt9O3RoaXMuZ2V0Q2xlYXJBbHBoYT1mdW5jdGlvbigpe3JldHVybiBiYWNrZ3JvdW5kLmdldENsZWFyQWxwaGEoKTt9O3RoaXMuc2V0Q2xlYXJBbHBoYT1mdW5jdGlvbigpe2JhY2tncm91bmQuc2V0Q2xlYXJBbHBoYS5hcHBseShiYWNrZ3JvdW5kLGFyZ3VtZW50cyk7fTt0aGlzLmNsZWFyPWZ1bmN0aW9uKGNvbG9yLGRlcHRoLHN0ZW5jaWwpe3ZhciBiaXRzPTA7aWYoY29sb3I9PT11bmRlZmluZWR8fGNvbG9yKWJpdHN8PTE2Mzg0O2lmKGRlcHRoPT09dW5kZWZpbmVkfHxkZXB0aCliaXRzfD0yNTY7aWYoc3RlbmNpbD09PXVuZGVmaW5lZHx8c3RlbmNpbCliaXRzfD0xMDI0O19nbC5jbGVhcihiaXRzKTt9O3RoaXMuY2xlYXJDb2xvcj1mdW5jdGlvbigpe3RoaXMuY2xlYXIodHJ1ZSxmYWxzZSxmYWxzZSk7fTt0aGlzLmNsZWFyRGVwdGg9ZnVuY3Rpb24oKXt0aGlzLmNsZWFyKGZhbHNlLHRydWUsZmFsc2UpO307dGhpcy5jbGVhclN0ZW5jaWw9ZnVuY3Rpb24oKXt0aGlzLmNsZWFyKGZhbHNlLGZhbHNlLHRydWUpO307Ly8KdGhpcy5kaXNwb3NlPWZ1bmN0aW9uKCl7X2NhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCd3ZWJnbGNvbnRleHRsb3N0JyxvbkNvbnRleHRMb3N0LGZhbHNlKTtfY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3dlYmdsY29udGV4dHJlc3RvcmVkJyxvbkNvbnRleHRSZXN0b3JlLGZhbHNlKTtyZW5kZXJMaXN0cy5kaXNwb3NlKCk7cmVuZGVyU3RhdGVzLmRpc3Bvc2UoKTtwcm9wZXJ0aWVzLmRpc3Bvc2UoKTtjdWJlbWFwcy5kaXNwb3NlKCk7Y3ViZXV2bWFwcy5kaXNwb3NlKCk7b2JqZWN0cy5kaXNwb3NlKCk7YmluZGluZ1N0YXRlcy5kaXNwb3NlKCk7cHJvZ3JhbUNhY2hlLmRpc3Bvc2UoKTt4ci5kaXNwb3NlKCk7eHIucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Vzc2lvbnN0YXJ0JyxvblhSU2Vzc2lvblN0YXJ0KTt4ci5yZW1vdmVFdmVudExpc3RlbmVyKCdzZXNzaW9uZW5kJyxvblhSU2Vzc2lvbkVuZCk7aWYoX3RyYW5zbWlzc2lvblJlbmRlclRhcmdldCl7X3RyYW5zbWlzc2lvblJlbmRlclRhcmdldC5kaXNwb3NlKCk7X3RyYW5zbWlzc2lvblJlbmRlclRhcmdldD1udWxsO31hbmltYXRpb24uc3RvcCgpO307Ly8gRXZlbnRzCmZ1bmN0aW9uIG9uQ29udGV4dExvc3QoZXZlbnQpe2V2ZW50LnByZXZlbnREZWZhdWx0KCk7Y29uc29sZS5sb2coJ1RIUkVFLldlYkdMUmVuZGVyZXI6IENvbnRleHQgTG9zdC4nKTtfaXNDb250ZXh0TG9zdD10cnVlO31mdW5jdGlvbiBvbkNvbnRleHRSZXN0b3JlKC8qIGV2ZW50ICovKXtjb25zb2xlLmxvZygnVEhSRUUuV2ViR0xSZW5kZXJlcjogQ29udGV4dCBSZXN0b3JlZC4nKTtfaXNDb250ZXh0TG9zdD1mYWxzZTt2YXIgaW5mb0F1dG9SZXNldD1pbmZvLmF1dG9SZXNldDt2YXIgc2hhZG93TWFwRW5hYmxlZD1zaGFkb3dNYXAuZW5hYmxlZDt2YXIgc2hhZG93TWFwQXV0b1VwZGF0ZT1zaGFkb3dNYXAuYXV0b1VwZGF0ZTt2YXIgc2hhZG93TWFwTmVlZHNVcGRhdGU9c2hhZG93TWFwLm5lZWRzVXBkYXRlO3ZhciBzaGFkb3dNYXBUeXBlPXNoYWRvd01hcC50eXBlO2luaXRHTENvbnRleHQoKTtpbmZvLmF1dG9SZXNldD1pbmZvQXV0b1Jlc2V0O3NoYWRvd01hcC5lbmFibGVkPXNoYWRvd01hcEVuYWJsZWQ7c2hhZG93TWFwLmF1dG9VcGRhdGU9c2hhZG93TWFwQXV0b1VwZGF0ZTtzaGFkb3dNYXAubmVlZHNVcGRhdGU9c2hhZG93TWFwTmVlZHNVcGRhdGU7c2hhZG93TWFwLnR5cGU9c2hhZG93TWFwVHlwZTt9ZnVuY3Rpb24gb25NYXRlcmlhbERpc3Bvc2UoZXZlbnQpe3ZhciBtYXRlcmlhbD1ldmVudC50YXJnZXQ7bWF0ZXJpYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignZGlzcG9zZScsb25NYXRlcmlhbERpc3Bvc2UpO2RlYWxsb2NhdGVNYXRlcmlhbChtYXRlcmlhbCk7fS8vIEJ1ZmZlciBkZWFsbG9jYXRpb24KZnVuY3Rpb24gZGVhbGxvY2F0ZU1hdGVyaWFsKG1hdGVyaWFsKXtyZWxlYXNlTWF0ZXJpYWxQcm9ncmFtUmVmZXJlbmNlcyhtYXRlcmlhbCk7cHJvcGVydGllcy5yZW1vdmUobWF0ZXJpYWwpO31mdW5jdGlvbiByZWxlYXNlTWF0ZXJpYWxQcm9ncmFtUmVmZXJlbmNlcyhtYXRlcmlhbCl7dmFyIHByb2dyYW1zPXByb3BlcnRpZXMuZ2V0KG1hdGVyaWFsKS5wcm9ncmFtcztpZihwcm9ncmFtcyE9PXVuZGVmaW5lZCl7cHJvZ3JhbXMuZm9yRWFjaChmdW5jdGlvbihwcm9ncmFtKXtwcm9ncmFtQ2FjaGUucmVsZWFzZVByb2dyYW0ocHJvZ3JhbSk7fSk7aWYobWF0ZXJpYWwuaXNTaGFkZXJNYXRlcmlhbCl7cHJvZ3JhbUNhY2hlLnJlbGVhc2VTaGFkZXJDYWNoZShtYXRlcmlhbCk7fX19Ly8gQnVmZmVyIHJlbmRlcmluZwp0aGlzLnJlbmRlckJ1ZmZlckRpcmVjdD1mdW5jdGlvbihjYW1lcmEsc2NlbmUsZ2VvbWV0cnksbWF0ZXJpYWwsb2JqZWN0LGdyb3VwKXtpZihzY2VuZT09PW51bGwpc2NlbmU9X2VtcHR5U2NlbmU7Ly8gcmVuZGVyQnVmZmVyRGlyZWN0IHNlY29uZCBwYXJhbWV0ZXIgdXNlZCB0byBiZSBmb2cgKGNvdWxkIGJlIG51bGwpCnZhciBmcm9udEZhY2VDVz1vYmplY3QuaXNNZXNoJiZvYmplY3QubWF0cml4V29ybGQuZGV0ZXJtaW5hbnQoKTwwO3ZhciBwcm9ncmFtPXNldFByb2dyYW0oY2FtZXJhLHNjZW5lLGdlb21ldHJ5LG1hdGVyaWFsLG9iamVjdCk7c3RhdGUuc2V0TWF0ZXJpYWwobWF0ZXJpYWwsZnJvbnRGYWNlQ1cpOy8vCnZhciBpbmRleD1nZW9tZXRyeS5pbmRleDt2YXIgcG9zaXRpb249Z2VvbWV0cnkuYXR0cmlidXRlcy5wb3NpdGlvbjsvLwppZihpbmRleD09PW51bGwpe2lmKHBvc2l0aW9uPT09dW5kZWZpbmVkfHxwb3NpdGlvbi5jb3VudD09PTApcmV0dXJuO31lbHNlIGlmKGluZGV4LmNvdW50PT09MCl7cmV0dXJuO30vLwp2YXIgcmFuZ2VGYWN0b3I9MTtpZihtYXRlcmlhbC53aXJlZnJhbWU9PT10cnVlKXtpbmRleD1nZW9tZXRyaWVzLmdldFdpcmVmcmFtZUF0dHJpYnV0ZShnZW9tZXRyeSk7cmFuZ2VGYWN0b3I9Mjt9YmluZGluZ1N0YXRlcy5zZXR1cChvYmplY3QsbWF0ZXJpYWwscHJvZ3JhbSxnZW9tZXRyeSxpbmRleCk7dmFyIGF0dHJpYnV0ZTt2YXIgcmVuZGVyZXI9YnVmZmVyUmVuZGVyZXI7aWYoaW5kZXghPT1udWxsKXthdHRyaWJ1dGU9YXR0cmlidXRlcy5nZXQoaW5kZXgpO3JlbmRlcmVyPWluZGV4ZWRCdWZmZXJSZW5kZXJlcjtyZW5kZXJlci5zZXRJbmRleChhdHRyaWJ1dGUpO30vLwp2YXIgZGF0YUNvdW50PWluZGV4IT09bnVsbD9pbmRleC5jb3VudDpwb3NpdGlvbi5jb3VudDt2YXIgcmFuZ2VTdGFydD1nZW9tZXRyeS5kcmF3UmFuZ2Uuc3RhcnQqcmFuZ2VGYWN0b3I7dmFyIHJhbmdlQ291bnQ9Z2VvbWV0cnkuZHJhd1JhbmdlLmNvdW50KnJhbmdlRmFjdG9yO3ZhciBncm91cFN0YXJ0PWdyb3VwIT09bnVsbD9ncm91cC5zdGFydCpyYW5nZUZhY3RvcjowO3ZhciBncm91cENvdW50PWdyb3VwIT09bnVsbD9ncm91cC5jb3VudCpyYW5nZUZhY3RvcjpJbmZpbml0eTt2YXIgZHJhd1N0YXJ0PU1hdGgubWF4KHJhbmdlU3RhcnQsZ3JvdXBTdGFydCk7dmFyIGRyYXdFbmQ9TWF0aC5taW4oZGF0YUNvdW50LHJhbmdlU3RhcnQrcmFuZ2VDb3VudCxncm91cFN0YXJ0K2dyb3VwQ291bnQpLTE7dmFyIGRyYXdDb3VudD1NYXRoLm1heCgwLGRyYXdFbmQtZHJhd1N0YXJ0KzEpO2lmKGRyYXdDb3VudD09PTApcmV0dXJuOy8vCmlmKG9iamVjdC5pc01lc2gpe2lmKG1hdGVyaWFsLndpcmVmcmFtZT09PXRydWUpe3N0YXRlLnNldExpbmVXaWR0aChtYXRlcmlhbC53aXJlZnJhbWVMaW5ld2lkdGgqZ2V0VGFyZ2V0UGl4ZWxSYXRpbygpKTtyZW5kZXJlci5zZXRNb2RlKDEpO31lbHNle3JlbmRlcmVyLnNldE1vZGUoNCk7fX1lbHNlIGlmKG9iamVjdC5pc0xpbmUpe3ZhciBsaW5lV2lkdGg9bWF0ZXJpYWwubGluZXdpZHRoO2lmKGxpbmVXaWR0aD09PXVuZGVmaW5lZClsaW5lV2lkdGg9MTsvLyBOb3QgdXNpbmcgTGluZSpNYXRlcmlhbApzdGF0ZS5zZXRMaW5lV2lkdGgobGluZVdpZHRoKmdldFRhcmdldFBpeGVsUmF0aW8oKSk7aWYob2JqZWN0LmlzTGluZVNlZ21lbnRzKXtyZW5kZXJlci5zZXRNb2RlKDEpO31lbHNlIGlmKG9iamVjdC5pc0xpbmVMb29wKXtyZW5kZXJlci5zZXRNb2RlKDIpO31lbHNle3JlbmRlcmVyLnNldE1vZGUoMyk7fX1lbHNlIGlmKG9iamVjdC5pc1BvaW50cyl7cmVuZGVyZXIuc2V0TW9kZSgwKTt9ZWxzZSBpZihvYmplY3QuaXNTcHJpdGUpe3JlbmRlcmVyLnNldE1vZGUoNCk7fWlmKG9iamVjdC5pc0luc3RhbmNlZE1lc2gpe3JlbmRlcmVyLnJlbmRlckluc3RhbmNlcyhkcmF3U3RhcnQsZHJhd0NvdW50LG9iamVjdC5jb3VudCk7fWVsc2UgaWYoZ2VvbWV0cnkuaXNJbnN0YW5jZWRCdWZmZXJHZW9tZXRyeSl7dmFyIGluc3RhbmNlQ291bnQ9TWF0aC5taW4oZ2VvbWV0cnkuaW5zdGFuY2VDb3VudCxnZW9tZXRyeS5fbWF4SW5zdGFuY2VDb3VudCk7cmVuZGVyZXIucmVuZGVySW5zdGFuY2VzKGRyYXdTdGFydCxkcmF3Q291bnQsaW5zdGFuY2VDb3VudCk7fWVsc2V7cmVuZGVyZXIucmVuZGVyKGRyYXdTdGFydCxkcmF3Q291bnQpO319Oy8vIENvbXBpbGUKdGhpcy5jb21waWxlPWZ1bmN0aW9uKHNjZW5lLGNhbWVyYSl7Y3VycmVudFJlbmRlclN0YXRlPXJlbmRlclN0YXRlcy5nZXQoc2NlbmUpO2N1cnJlbnRSZW5kZXJTdGF0ZS5pbml0KCk7cmVuZGVyU3RhdGVTdGFjay5wdXNoKGN1cnJlbnRSZW5kZXJTdGF0ZSk7c2NlbmUudHJhdmVyc2VWaXNpYmxlKGZ1bmN0aW9uKG9iamVjdCl7aWYob2JqZWN0LmlzTGlnaHQmJm9iamVjdC5sYXllcnMudGVzdChjYW1lcmEubGF5ZXJzKSl7Y3VycmVudFJlbmRlclN0YXRlLnB1c2hMaWdodChvYmplY3QpO2lmKG9iamVjdC5jYXN0U2hhZG93KXtjdXJyZW50UmVuZGVyU3RhdGUucHVzaFNoYWRvdyhvYmplY3QpO319fSk7Y3VycmVudFJlbmRlclN0YXRlLnNldHVwTGlnaHRzKF90aGlzLnBoeXNpY2FsbHlDb3JyZWN0TGlnaHRzKTtzY2VuZS50cmF2ZXJzZShmdW5jdGlvbihvYmplY3Qpe3ZhciBtYXRlcmlhbD1vYmplY3QubWF0ZXJpYWw7aWYobWF0ZXJpYWwpe2lmKEFycmF5LmlzQXJyYXkobWF0ZXJpYWwpKXtmb3IodmFyIF9pMTQ3PTA7X2kxNDc8bWF0ZXJpYWwubGVuZ3RoO19pMTQ3Kyspe3ZhciBtYXRlcmlhbDI9bWF0ZXJpYWxbX2kxNDddO2dldFByb2dyYW0obWF0ZXJpYWwyLHNjZW5lLG9iamVjdCk7fX1lbHNle2dldFByb2dyYW0obWF0ZXJpYWwsc2NlbmUsb2JqZWN0KTt9fX0pO3JlbmRlclN0YXRlU3RhY2sucG9wKCk7Y3VycmVudFJlbmRlclN0YXRlPW51bGw7fTsvLyBBbmltYXRpb24gTG9vcAp2YXIgb25BbmltYXRpb25GcmFtZUNhbGxiYWNrPW51bGw7ZnVuY3Rpb24gb25BbmltYXRpb25GcmFtZSh0aW1lKXtpZihvbkFuaW1hdGlvbkZyYW1lQ2FsbGJhY2spb25BbmltYXRpb25GcmFtZUNhbGxiYWNrKHRpbWUpO31mdW5jdGlvbiBvblhSU2Vzc2lvblN0YXJ0KCl7YW5pbWF0aW9uLnN0b3AoKTt9ZnVuY3Rpb24gb25YUlNlc3Npb25FbmQoKXthbmltYXRpb24uc3RhcnQoKTt9dmFyIGFuaW1hdGlvbj1uZXcgV2ViR0xBbmltYXRpb24oKTthbmltYXRpb24uc2V0QW5pbWF0aW9uTG9vcChvbkFuaW1hdGlvbkZyYW1lKTtpZih0eXBlb2Ygd2luZG93IT09J3VuZGVmaW5lZCcpYW5pbWF0aW9uLnNldENvbnRleHQod2luZG93KTt0aGlzLnNldEFuaW1hdGlvbkxvb3A9ZnVuY3Rpb24oY2FsbGJhY2spe29uQW5pbWF0aW9uRnJhbWVDYWxsYmFjaz1jYWxsYmFjazt4ci5zZXRBbmltYXRpb25Mb29wKGNhbGxiYWNrKTtjYWxsYmFjaz09PW51bGw/YW5pbWF0aW9uLnN0b3AoKTphbmltYXRpb24uc3RhcnQoKTt9O3hyLmFkZEV2ZW50TGlzdGVuZXIoJ3Nlc3Npb25zdGFydCcsb25YUlNlc3Npb25TdGFydCk7eHIuYWRkRXZlbnRMaXN0ZW5lcignc2Vzc2lvbmVuZCcsb25YUlNlc3Npb25FbmQpOy8vIFJlbmRlcmluZwp0aGlzLnJlbmRlcj1mdW5jdGlvbihzY2VuZSxjYW1lcmEpe2lmKGNhbWVyYSE9PXVuZGVmaW5lZCYmY2FtZXJhLmlzQ2FtZXJhIT09dHJ1ZSl7Y29uc29sZS5lcnJvcignVEhSRUUuV2ViR0xSZW5kZXJlci5yZW5kZXI6IGNhbWVyYSBpcyBub3QgYW4gaW5zdGFuY2Ugb2YgVEhSRUUuQ2FtZXJhLicpO3JldHVybjt9aWYoX2lzQ29udGV4dExvc3Q9PT10cnVlKXJldHVybjsvLyB1cGRhdGUgc2NlbmUgZ3JhcGgKaWYoc2NlbmUuYXV0b1VwZGF0ZT09PXRydWUpc2NlbmUudXBkYXRlTWF0cml4V29ybGQoKTsvLyB1cGRhdGUgY2FtZXJhIG1hdHJpY2VzIGFuZCBmcnVzdHVtCmlmKGNhbWVyYS5wYXJlbnQ9PT1udWxsKWNhbWVyYS51cGRhdGVNYXRyaXhXb3JsZCgpO2lmKHhyLmVuYWJsZWQ9PT10cnVlJiZ4ci5pc1ByZXNlbnRpbmc9PT10cnVlKXtpZih4ci5jYW1lcmFBdXRvVXBkYXRlPT09dHJ1ZSl4ci51cGRhdGVDYW1lcmEoY2FtZXJhKTtjYW1lcmE9eHIuZ2V0Q2FtZXJhKCk7Ly8gdXNlIFhSIGNhbWVyYSBmb3IgcmVuZGVyaW5nCn0vLwppZihzY2VuZS5pc1NjZW5lPT09dHJ1ZSlzY2VuZS5vbkJlZm9yZVJlbmRlcihfdGhpcyxzY2VuZSxjYW1lcmEsX2N1cnJlbnRSZW5kZXJUYXJnZXQpO2N1cnJlbnRSZW5kZXJTdGF0ZT1yZW5kZXJTdGF0ZXMuZ2V0KHNjZW5lLHJlbmRlclN0YXRlU3RhY2subGVuZ3RoKTtjdXJyZW50UmVuZGVyU3RhdGUuaW5pdCgpO3JlbmRlclN0YXRlU3RhY2sucHVzaChjdXJyZW50UmVuZGVyU3RhdGUpO19wcm9qU2NyZWVuTWF0cml4Lm11bHRpcGx5TWF0cmljZXMoY2FtZXJhLnByb2plY3Rpb25NYXRyaXgsY2FtZXJhLm1hdHJpeFdvcmxkSW52ZXJzZSk7X2ZydXN0dW0uc2V0RnJvbVByb2plY3Rpb25NYXRyaXgoX3Byb2pTY3JlZW5NYXRyaXgpO19sb2NhbENsaXBwaW5nRW5hYmxlZD10aGlzLmxvY2FsQ2xpcHBpbmdFbmFibGVkO19jbGlwcGluZ0VuYWJsZWQ9Y2xpcHBpbmcuaW5pdCh0aGlzLmNsaXBwaW5nUGxhbmVzLF9sb2NhbENsaXBwaW5nRW5hYmxlZCxjYW1lcmEpO2N1cnJlbnRSZW5kZXJMaXN0PXJlbmRlckxpc3RzLmdldChzY2VuZSxyZW5kZXJMaXN0U3RhY2subGVuZ3RoKTtjdXJyZW50UmVuZGVyTGlzdC5pbml0KCk7cmVuZGVyTGlzdFN0YWNrLnB1c2goY3VycmVudFJlbmRlckxpc3QpO3Byb2plY3RPYmplY3Qoc2NlbmUsY2FtZXJhLDAsX3RoaXMuc29ydE9iamVjdHMpO2N1cnJlbnRSZW5kZXJMaXN0LmZpbmlzaCgpO2lmKF90aGlzLnNvcnRPYmplY3RzPT09dHJ1ZSl7Y3VycmVudFJlbmRlckxpc3Quc29ydChfb3BhcXVlU29ydCxfdHJhbnNwYXJlbnRTb3J0KTt9Ly8KaWYoX2NsaXBwaW5nRW5hYmxlZD09PXRydWUpY2xpcHBpbmcuYmVnaW5TaGFkb3dzKCk7dmFyIHNoYWRvd3NBcnJheT1jdXJyZW50UmVuZGVyU3RhdGUuc3RhdGUuc2hhZG93c0FycmF5O3NoYWRvd01hcC5yZW5kZXIoc2hhZG93c0FycmF5LHNjZW5lLGNhbWVyYSk7aWYoX2NsaXBwaW5nRW5hYmxlZD09PXRydWUpY2xpcHBpbmcuZW5kU2hhZG93cygpOy8vCmlmKHRoaXMuaW5mby5hdXRvUmVzZXQ9PT10cnVlKXRoaXMuaW5mby5yZXNldCgpOy8vCmJhY2tncm91bmQucmVuZGVyKGN1cnJlbnRSZW5kZXJMaXN0LHNjZW5lKTsvLyByZW5kZXIgc2NlbmUKY3VycmVudFJlbmRlclN0YXRlLnNldHVwTGlnaHRzKF90aGlzLnBoeXNpY2FsbHlDb3JyZWN0TGlnaHRzKTtpZihjYW1lcmEuaXNBcnJheUNhbWVyYSl7dmFyIGNhbWVyYXM9Y2FtZXJhLmNhbWVyYXM7Zm9yKHZhciBfaTE0OD0wLGw9Y2FtZXJhcy5sZW5ndGg7X2kxNDg8bDtfaTE0OCsrKXt2YXIgY2FtZXJhMj1jYW1lcmFzW19pMTQ4XTtyZW5kZXJTY2VuZShjdXJyZW50UmVuZGVyTGlzdCxzY2VuZSxjYW1lcmEyLGNhbWVyYTIudmlld3BvcnQpO319ZWxzZXtyZW5kZXJTY2VuZShjdXJyZW50UmVuZGVyTGlzdCxzY2VuZSxjYW1lcmEpO30vLwppZihfY3VycmVudFJlbmRlclRhcmdldCE9PW51bGwpey8vIHJlc29sdmUgbXVsdGlzYW1wbGUgcmVuZGVyYnVmZmVycyB0byBhIHNpbmdsZS1zYW1wbGUgdGV4dHVyZSBpZiBuZWNlc3NhcnkKdGV4dHVyZXMudXBkYXRlTXVsdGlzYW1wbGVSZW5kZXJUYXJnZXQoX2N1cnJlbnRSZW5kZXJUYXJnZXQpOy8vIEdlbmVyYXRlIG1pcG1hcCBpZiB3ZSdyZSB1c2luZyBhbnkga2luZCBvZiBtaXBtYXAgZmlsdGVyaW5nCnRleHR1cmVzLnVwZGF0ZVJlbmRlclRhcmdldE1pcG1hcChfY3VycmVudFJlbmRlclRhcmdldCk7fS8vCmlmKHNjZW5lLmlzU2NlbmU9PT10cnVlKXNjZW5lLm9uQWZ0ZXJSZW5kZXIoX3RoaXMsc2NlbmUsY2FtZXJhKTsvLyBFbnN1cmUgZGVwdGggYnVmZmVyIHdyaXRpbmcgaXMgZW5hYmxlZCBzbyBpdCBjYW4gYmUgY2xlYXJlZCBvbiBuZXh0IHJlbmRlcgpzdGF0ZS5idWZmZXJzLmRlcHRoLnNldFRlc3QodHJ1ZSk7c3RhdGUuYnVmZmVycy5kZXB0aC5zZXRNYXNrKHRydWUpO3N0YXRlLmJ1ZmZlcnMuY29sb3Iuc2V0TWFzayh0cnVlKTtzdGF0ZS5zZXRQb2x5Z29uT2Zmc2V0KGZhbHNlKTsvLyBfZ2wuZmluaXNoKCk7CmJpbmRpbmdTdGF0ZXMucmVzZXREZWZhdWx0U3RhdGUoKTtfY3VycmVudE1hdGVyaWFsSWQ9LTE7X2N1cnJlbnRDYW1lcmE9bnVsbDtyZW5kZXJTdGF0ZVN0YWNrLnBvcCgpO2lmKHJlbmRlclN0YXRlU3RhY2subGVuZ3RoPjApe2N1cnJlbnRSZW5kZXJTdGF0ZT1yZW5kZXJTdGF0ZVN0YWNrW3JlbmRlclN0YXRlU3RhY2subGVuZ3RoLTFdO31lbHNle2N1cnJlbnRSZW5kZXJTdGF0ZT1udWxsO31yZW5kZXJMaXN0U3RhY2sucG9wKCk7aWYocmVuZGVyTGlzdFN0YWNrLmxlbmd0aD4wKXtjdXJyZW50UmVuZGVyTGlzdD1yZW5kZXJMaXN0U3RhY2tbcmVuZGVyTGlzdFN0YWNrLmxlbmd0aC0xXTt9ZWxzZXtjdXJyZW50UmVuZGVyTGlzdD1udWxsO319O2Z1bmN0aW9uIHByb2plY3RPYmplY3Qob2JqZWN0LGNhbWVyYSxncm91cE9yZGVyLHNvcnRPYmplY3RzKXtpZihvYmplY3QudmlzaWJsZT09PWZhbHNlKXJldHVybjt2YXIgdmlzaWJsZT1vYmplY3QubGF5ZXJzLnRlc3QoY2FtZXJhLmxheWVycyk7aWYodmlzaWJsZSl7aWYob2JqZWN0LmlzR3JvdXApe2dyb3VwT3JkZXI9b2JqZWN0LnJlbmRlck9yZGVyO31lbHNlIGlmKG9iamVjdC5pc0xPRCl7aWYob2JqZWN0LmF1dG9VcGRhdGU9PT10cnVlKW9iamVjdC51cGRhdGUoY2FtZXJhKTt9ZWxzZSBpZihvYmplY3QuaXNMaWdodCl7Y3VycmVudFJlbmRlclN0YXRlLnB1c2hMaWdodChvYmplY3QpO2lmKG9iamVjdC5jYXN0U2hhZG93KXtjdXJyZW50UmVuZGVyU3RhdGUucHVzaFNoYWRvdyhvYmplY3QpO319ZWxzZSBpZihvYmplY3QuaXNTcHJpdGUpe2lmKCFvYmplY3QuZnJ1c3R1bUN1bGxlZHx8X2ZydXN0dW0uaW50ZXJzZWN0c1Nwcml0ZShvYmplY3QpKXtpZihzb3J0T2JqZWN0cyl7X3ZlY3RvcjMuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKG9iamVjdC5tYXRyaXhXb3JsZCkuYXBwbHlNYXRyaXg0KF9wcm9qU2NyZWVuTWF0cml4KTt9dmFyIGdlb21ldHJ5PW9iamVjdHMudXBkYXRlKG9iamVjdCk7dmFyIG1hdGVyaWFsPW9iamVjdC5tYXRlcmlhbDtpZihtYXRlcmlhbC52aXNpYmxlKXtjdXJyZW50UmVuZGVyTGlzdC5wdXNoKG9iamVjdCxnZW9tZXRyeSxtYXRlcmlhbCxncm91cE9yZGVyLF92ZWN0b3IzLnosbnVsbCk7fX19ZWxzZSBpZihvYmplY3QuaXNNZXNofHxvYmplY3QuaXNMaW5lfHxvYmplY3QuaXNQb2ludHMpe2lmKG9iamVjdC5pc1NraW5uZWRNZXNoKXsvLyB1cGRhdGUgc2tlbGV0b24gb25seSBvbmNlIGluIGEgZnJhbWUKaWYob2JqZWN0LnNrZWxldG9uLmZyYW1lIT09aW5mby5yZW5kZXIuZnJhbWUpe29iamVjdC5za2VsZXRvbi51cGRhdGUoKTtvYmplY3Quc2tlbGV0b24uZnJhbWU9aW5mby5yZW5kZXIuZnJhbWU7fX1pZighb2JqZWN0LmZydXN0dW1DdWxsZWR8fF9mcnVzdHVtLmludGVyc2VjdHNPYmplY3Qob2JqZWN0KSl7aWYoc29ydE9iamVjdHMpe192ZWN0b3IzLnNldEZyb21NYXRyaXhQb3NpdGlvbihvYmplY3QubWF0cml4V29ybGQpLmFwcGx5TWF0cml4NChfcHJvalNjcmVlbk1hdHJpeCk7fXZhciBfZ2VvbWV0cnkyPW9iamVjdHMudXBkYXRlKG9iamVjdCk7dmFyIF9tYXRlcmlhbD1vYmplY3QubWF0ZXJpYWw7aWYoQXJyYXkuaXNBcnJheShfbWF0ZXJpYWwpKXt2YXIgZ3JvdXBzPV9nZW9tZXRyeTIuZ3JvdXBzO2Zvcih2YXIgX2kxNDk9MCxsPWdyb3Vwcy5sZW5ndGg7X2kxNDk8bDtfaTE0OSsrKXt2YXIgZ3JvdXA9Z3JvdXBzW19pMTQ5XTt2YXIgZ3JvdXBNYXRlcmlhbD1fbWF0ZXJpYWxbZ3JvdXAubWF0ZXJpYWxJbmRleF07aWYoZ3JvdXBNYXRlcmlhbCYmZ3JvdXBNYXRlcmlhbC52aXNpYmxlKXtjdXJyZW50UmVuZGVyTGlzdC5wdXNoKG9iamVjdCxfZ2VvbWV0cnkyLGdyb3VwTWF0ZXJpYWwsZ3JvdXBPcmRlcixfdmVjdG9yMy56LGdyb3VwKTt9fX1lbHNlIGlmKF9tYXRlcmlhbC52aXNpYmxlKXtjdXJyZW50UmVuZGVyTGlzdC5wdXNoKG9iamVjdCxfZ2VvbWV0cnkyLF9tYXRlcmlhbCxncm91cE9yZGVyLF92ZWN0b3IzLnosbnVsbCk7fX19fXZhciBjaGlsZHJlbj1vYmplY3QuY2hpbGRyZW47Zm9yKHZhciBfaTE1MD0wLF9sNj1jaGlsZHJlbi5sZW5ndGg7X2kxNTA8X2w2O19pMTUwKyspe3Byb2plY3RPYmplY3QoY2hpbGRyZW5bX2kxNTBdLGNhbWVyYSxncm91cE9yZGVyLHNvcnRPYmplY3RzKTt9fWZ1bmN0aW9uIHJlbmRlclNjZW5lKGN1cnJlbnRSZW5kZXJMaXN0LHNjZW5lLGNhbWVyYSx2aWV3cG9ydCl7dmFyIG9wYXF1ZU9iamVjdHM9Y3VycmVudFJlbmRlckxpc3Qub3BhcXVlO3ZhciB0cmFuc21pc3NpdmVPYmplY3RzPWN1cnJlbnRSZW5kZXJMaXN0LnRyYW5zbWlzc2l2ZTt2YXIgdHJhbnNwYXJlbnRPYmplY3RzPWN1cnJlbnRSZW5kZXJMaXN0LnRyYW5zcGFyZW50O2N1cnJlbnRSZW5kZXJTdGF0ZS5zZXR1cExpZ2h0c1ZpZXcoY2FtZXJhKTtpZih0cmFuc21pc3NpdmVPYmplY3RzLmxlbmd0aD4wKXJlbmRlclRyYW5zbWlzc2lvblBhc3Mob3BhcXVlT2JqZWN0cyxzY2VuZSxjYW1lcmEpO2lmKHZpZXdwb3J0KXN0YXRlLnZpZXdwb3J0KF9jdXJyZW50Vmlld3BvcnQuY29weSh2aWV3cG9ydCkpO2lmKG9wYXF1ZU9iamVjdHMubGVuZ3RoPjApcmVuZGVyT2JqZWN0cyhvcGFxdWVPYmplY3RzLHNjZW5lLGNhbWVyYSk7aWYodHJhbnNtaXNzaXZlT2JqZWN0cy5sZW5ndGg+MClyZW5kZXJPYmplY3RzKHRyYW5zbWlzc2l2ZU9iamVjdHMsc2NlbmUsY2FtZXJhKTtpZih0cmFuc3BhcmVudE9iamVjdHMubGVuZ3RoPjApcmVuZGVyT2JqZWN0cyh0cmFuc3BhcmVudE9iamVjdHMsc2NlbmUsY2FtZXJhKTt9ZnVuY3Rpb24gcmVuZGVyVHJhbnNtaXNzaW9uUGFzcyhvcGFxdWVPYmplY3RzLHNjZW5lLGNhbWVyYSl7aWYoX3RyYW5zbWlzc2lvblJlbmRlclRhcmdldD09PW51bGwpe3ZhciBuZWVkc0FudGlhbGlhcz1fYW50aWFsaWFzPT09dHJ1ZSYmY2FwYWJpbGl0aWVzLmlzV2ViR0wyPT09dHJ1ZTt2YXIgcmVuZGVyVGFyZ2V0VHlwZT1uZWVkc0FudGlhbGlhcz9XZWJHTE11bHRpc2FtcGxlUmVuZGVyVGFyZ2V0OldlYkdMUmVuZGVyVGFyZ2V0O190cmFuc21pc3Npb25SZW5kZXJUYXJnZXQ9bmV3IHJlbmRlclRhcmdldFR5cGUoMTAyNCwxMDI0LHtnZW5lcmF0ZU1pcG1hcHM6dHJ1ZSx0eXBlOnV0aWxzLmNvbnZlcnQoSGFsZkZsb2F0VHlwZSkhPT1udWxsP0hhbGZGbG9hdFR5cGU6VW5zaWduZWRCeXRlVHlwZSxtaW5GaWx0ZXI6TGluZWFyTWlwbWFwTGluZWFyRmlsdGVyLG1hZ0ZpbHRlcjpOZWFyZXN0RmlsdGVyLHdyYXBTOkNsYW1wVG9FZGdlV3JhcHBpbmcsd3JhcFQ6Q2xhbXBUb0VkZ2VXcmFwcGluZyx1c2VSZW5kZXJUb1RleHR1cmU6ZXh0ZW5zaW9ucy5oYXMoJ1dFQkdMX211bHRpc2FtcGxlZF9yZW5kZXJfdG9fdGV4dHVyZScpfSk7fXZhciBjdXJyZW50UmVuZGVyVGFyZ2V0PV90aGlzLmdldFJlbmRlclRhcmdldCgpO190aGlzLnNldFJlbmRlclRhcmdldChfdHJhbnNtaXNzaW9uUmVuZGVyVGFyZ2V0KTtfdGhpcy5jbGVhcigpOy8vIFR1cm4gb2ZmIHRoZSBmZWF0dXJlcyB3aGljaCBjYW4gYWZmZWN0IHRoZSBmcmFnIGNvbG9yIGZvciBvcGFxdWUgb2JqZWN0cyBwYXNzLgovLyBPdGhlcndpc2UgdGhleSBhcmUgYXBwbGllZCB0d2ljZSBpbiBvcGFxdWUgb2JqZWN0cyBwYXNzIGFuZCB0cmFuc21pc3Npb24gb2JqZWN0cyBwYXNzLgp2YXIgY3VycmVudFRvbmVNYXBwaW5nPV90aGlzLnRvbmVNYXBwaW5nO190aGlzLnRvbmVNYXBwaW5nPU5vVG9uZU1hcHBpbmc7cmVuZGVyT2JqZWN0cyhvcGFxdWVPYmplY3RzLHNjZW5lLGNhbWVyYSk7X3RoaXMudG9uZU1hcHBpbmc9Y3VycmVudFRvbmVNYXBwaW5nO3RleHR1cmVzLnVwZGF0ZU11bHRpc2FtcGxlUmVuZGVyVGFyZ2V0KF90cmFuc21pc3Npb25SZW5kZXJUYXJnZXQpO3RleHR1cmVzLnVwZGF0ZVJlbmRlclRhcmdldE1pcG1hcChfdHJhbnNtaXNzaW9uUmVuZGVyVGFyZ2V0KTtfdGhpcy5zZXRSZW5kZXJUYXJnZXQoY3VycmVudFJlbmRlclRhcmdldCk7fWZ1bmN0aW9uIHJlbmRlck9iamVjdHMocmVuZGVyTGlzdCxzY2VuZSxjYW1lcmEpe3ZhciBvdmVycmlkZU1hdGVyaWFsPXNjZW5lLmlzU2NlbmU9PT10cnVlP3NjZW5lLm92ZXJyaWRlTWF0ZXJpYWw6bnVsbDtmb3IodmFyIF9pMTUxPTAsbD1yZW5kZXJMaXN0Lmxlbmd0aDtfaTE1MTxsO19pMTUxKyspe3ZhciByZW5kZXJJdGVtPXJlbmRlckxpc3RbX2kxNTFdO3ZhciBvYmplY3Q9cmVuZGVySXRlbS5vYmplY3Q7dmFyIGdlb21ldHJ5PXJlbmRlckl0ZW0uZ2VvbWV0cnk7dmFyIG1hdGVyaWFsPW92ZXJyaWRlTWF0ZXJpYWw9PT1udWxsP3JlbmRlckl0ZW0ubWF0ZXJpYWw6b3ZlcnJpZGVNYXRlcmlhbDt2YXIgZ3JvdXA9cmVuZGVySXRlbS5ncm91cDtpZihvYmplY3QubGF5ZXJzLnRlc3QoY2FtZXJhLmxheWVycykpe3JlbmRlck9iamVjdChvYmplY3Qsc2NlbmUsY2FtZXJhLGdlb21ldHJ5LG1hdGVyaWFsLGdyb3VwKTt9fX1mdW5jdGlvbiByZW5kZXJPYmplY3Qob2JqZWN0LHNjZW5lLGNhbWVyYSxnZW9tZXRyeSxtYXRlcmlhbCxncm91cCl7b2JqZWN0Lm9uQmVmb3JlUmVuZGVyKF90aGlzLHNjZW5lLGNhbWVyYSxnZW9tZXRyeSxtYXRlcmlhbCxncm91cCk7b2JqZWN0Lm1vZGVsVmlld01hdHJpeC5tdWx0aXBseU1hdHJpY2VzKGNhbWVyYS5tYXRyaXhXb3JsZEludmVyc2Usb2JqZWN0Lm1hdHJpeFdvcmxkKTtvYmplY3Qubm9ybWFsTWF0cml4LmdldE5vcm1hbE1hdHJpeChvYmplY3QubW9kZWxWaWV3TWF0cml4KTttYXRlcmlhbC5vbkJlZm9yZVJlbmRlcihfdGhpcyxzY2VuZSxjYW1lcmEsZ2VvbWV0cnksb2JqZWN0LGdyb3VwKTtpZihtYXRlcmlhbC50cmFuc3BhcmVudD09PXRydWUmJm1hdGVyaWFsLnNpZGU9PT1Eb3VibGVTaWRlKXttYXRlcmlhbC5zaWRlPUJhY2tTaWRlO21hdGVyaWFsLm5lZWRzVXBkYXRlPXRydWU7X3RoaXMucmVuZGVyQnVmZmVyRGlyZWN0KGNhbWVyYSxzY2VuZSxnZW9tZXRyeSxtYXRlcmlhbCxvYmplY3QsZ3JvdXApO21hdGVyaWFsLnNpZGU9RnJvbnRTaWRlO21hdGVyaWFsLm5lZWRzVXBkYXRlPXRydWU7X3RoaXMucmVuZGVyQnVmZmVyRGlyZWN0KGNhbWVyYSxzY2VuZSxnZW9tZXRyeSxtYXRlcmlhbCxvYmplY3QsZ3JvdXApO21hdGVyaWFsLnNpZGU9RG91YmxlU2lkZTt9ZWxzZXtfdGhpcy5yZW5kZXJCdWZmZXJEaXJlY3QoY2FtZXJhLHNjZW5lLGdlb21ldHJ5LG1hdGVyaWFsLG9iamVjdCxncm91cCk7fW9iamVjdC5vbkFmdGVyUmVuZGVyKF90aGlzLHNjZW5lLGNhbWVyYSxnZW9tZXRyeSxtYXRlcmlhbCxncm91cCk7fWZ1bmN0aW9uIGdldFByb2dyYW0obWF0ZXJpYWwsc2NlbmUsb2JqZWN0KXtpZihzY2VuZS5pc1NjZW5lIT09dHJ1ZSlzY2VuZT1fZW1wdHlTY2VuZTsvLyBzY2VuZSBjb3VsZCBiZSBhIE1lc2gsIExpbmUsIFBvaW50cywgLi4uCnZhciBtYXRlcmlhbFByb3BlcnRpZXM9cHJvcGVydGllcy5nZXQobWF0ZXJpYWwpO3ZhciBsaWdodHM9Y3VycmVudFJlbmRlclN0YXRlLnN0YXRlLmxpZ2h0czt2YXIgc2hhZG93c0FycmF5PWN1cnJlbnRSZW5kZXJTdGF0ZS5zdGF0ZS5zaGFkb3dzQXJyYXk7dmFyIGxpZ2h0c1N0YXRlVmVyc2lvbj1saWdodHMuc3RhdGUudmVyc2lvbjt2YXIgcGFyYW1ldGVycz1wcm9ncmFtQ2FjaGUuZ2V0UGFyYW1ldGVycyhtYXRlcmlhbCxsaWdodHMuc3RhdGUsc2hhZG93c0FycmF5LHNjZW5lLG9iamVjdCk7dmFyIHByb2dyYW1DYWNoZUtleT1wcm9ncmFtQ2FjaGUuZ2V0UHJvZ3JhbUNhY2hlS2V5KHBhcmFtZXRlcnMpO3ZhciBwcm9ncmFtcz1tYXRlcmlhbFByb3BlcnRpZXMucHJvZ3JhbXM7Ly8gYWx3YXlzIHVwZGF0ZSBlbnZpcm9ubWVudCBhbmQgZm9nIC0gY2hhbmdpbmcgdGhlc2UgdHJpZ2dlciBhbiBnZXRQcm9ncmFtIGNhbGwsIGJ1dCBpdCdzIHBvc3NpYmxlIHRoYXQgdGhlIHByb2dyYW0gZG9lc24ndCBjaGFuZ2UKbWF0ZXJpYWxQcm9wZXJ0aWVzLmVudmlyb25tZW50PW1hdGVyaWFsLmlzTWVzaFN0YW5kYXJkTWF0ZXJpYWw/c2NlbmUuZW52aXJvbm1lbnQ6bnVsbDttYXRlcmlhbFByb3BlcnRpZXMuZm9nPXNjZW5lLmZvZzttYXRlcmlhbFByb3BlcnRpZXMuZW52TWFwPShtYXRlcmlhbC5pc01lc2hTdGFuZGFyZE1hdGVyaWFsP2N1YmV1dm1hcHM6Y3ViZW1hcHMpLmdldChtYXRlcmlhbC5lbnZNYXB8fG1hdGVyaWFsUHJvcGVydGllcy5lbnZpcm9ubWVudCk7aWYocHJvZ3JhbXM9PT11bmRlZmluZWQpey8vIG5ldyBtYXRlcmlhbAptYXRlcmlhbC5hZGRFdmVudExpc3RlbmVyKCdkaXNwb3NlJyxvbk1hdGVyaWFsRGlzcG9zZSk7cHJvZ3JhbXM9bmV3IE1hcCgpO21hdGVyaWFsUHJvcGVydGllcy5wcm9ncmFtcz1wcm9ncmFtczt9dmFyIHByb2dyYW09cHJvZ3JhbXMuZ2V0KHByb2dyYW1DYWNoZUtleSk7aWYocHJvZ3JhbSE9PXVuZGVmaW5lZCl7Ly8gZWFybHkgb3V0IGlmIHByb2dyYW0gYW5kIGxpZ2h0IHN0YXRlIGlzIGlkZW50aWNhbAppZihtYXRlcmlhbFByb3BlcnRpZXMuY3VycmVudFByb2dyYW09PT1wcm9ncmFtJiZtYXRlcmlhbFByb3BlcnRpZXMubGlnaHRzU3RhdGVWZXJzaW9uPT09bGlnaHRzU3RhdGVWZXJzaW9uKXt1cGRhdGVDb21tb25NYXRlcmlhbFByb3BlcnRpZXMobWF0ZXJpYWwscGFyYW1ldGVycyk7cmV0dXJuIHByb2dyYW07fX1lbHNle3BhcmFtZXRlcnMudW5pZm9ybXM9cHJvZ3JhbUNhY2hlLmdldFVuaWZvcm1zKG1hdGVyaWFsKTttYXRlcmlhbC5vbkJ1aWxkKG9iamVjdCxwYXJhbWV0ZXJzLF90aGlzKTttYXRlcmlhbC5vbkJlZm9yZUNvbXBpbGUocGFyYW1ldGVycyxfdGhpcyk7cHJvZ3JhbT1wcm9ncmFtQ2FjaGUuYWNxdWlyZVByb2dyYW0ocGFyYW1ldGVycyxwcm9ncmFtQ2FjaGVLZXkpO3Byb2dyYW1zLnNldChwcm9ncmFtQ2FjaGVLZXkscHJvZ3JhbSk7bWF0ZXJpYWxQcm9wZXJ0aWVzLnVuaWZvcm1zPXBhcmFtZXRlcnMudW5pZm9ybXM7fXZhciB1bmlmb3Jtcz1tYXRlcmlhbFByb3BlcnRpZXMudW5pZm9ybXM7aWYoIW1hdGVyaWFsLmlzU2hhZGVyTWF0ZXJpYWwmJiFtYXRlcmlhbC5pc1Jhd1NoYWRlck1hdGVyaWFsfHxtYXRlcmlhbC5jbGlwcGluZz09PXRydWUpe3VuaWZvcm1zLmNsaXBwaW5nUGxhbmVzPWNsaXBwaW5nLnVuaWZvcm07fXVwZGF0ZUNvbW1vbk1hdGVyaWFsUHJvcGVydGllcyhtYXRlcmlhbCxwYXJhbWV0ZXJzKTsvLyBzdG9yZSB0aGUgbGlnaHQgc2V0dXAgaXQgd2FzIGNyZWF0ZWQgZm9yCm1hdGVyaWFsUHJvcGVydGllcy5uZWVkc0xpZ2h0cz1tYXRlcmlhbE5lZWRzTGlnaHRzKG1hdGVyaWFsKTttYXRlcmlhbFByb3BlcnRpZXMubGlnaHRzU3RhdGVWZXJzaW9uPWxpZ2h0c1N0YXRlVmVyc2lvbjtpZihtYXRlcmlhbFByb3BlcnRpZXMubmVlZHNMaWdodHMpey8vIHdpcmUgdXAgdGhlIG1hdGVyaWFsIHRvIHRoaXMgcmVuZGVyZXIncyBsaWdodGluZyBzdGF0ZQp1bmlmb3Jtcy5hbWJpZW50TGlnaHRDb2xvci52YWx1ZT1saWdodHMuc3RhdGUuYW1iaWVudDt1bmlmb3Jtcy5saWdodFByb2JlLnZhbHVlPWxpZ2h0cy5zdGF0ZS5wcm9iZTt1bmlmb3Jtcy5kaXJlY3Rpb25hbExpZ2h0cy52YWx1ZT1saWdodHMuc3RhdGUuZGlyZWN0aW9uYWw7dW5pZm9ybXMuZGlyZWN0aW9uYWxMaWdodFNoYWRvd3MudmFsdWU9bGlnaHRzLnN0YXRlLmRpcmVjdGlvbmFsU2hhZG93O3VuaWZvcm1zLnNwb3RMaWdodHMudmFsdWU9bGlnaHRzLnN0YXRlLnNwb3Q7dW5pZm9ybXMuc3BvdExpZ2h0U2hhZG93cy52YWx1ZT1saWdodHMuc3RhdGUuc3BvdFNoYWRvdzt1bmlmb3Jtcy5yZWN0QXJlYUxpZ2h0cy52YWx1ZT1saWdodHMuc3RhdGUucmVjdEFyZWE7dW5pZm9ybXMubHRjXzEudmFsdWU9bGlnaHRzLnN0YXRlLnJlY3RBcmVhTFRDMTt1bmlmb3Jtcy5sdGNfMi52YWx1ZT1saWdodHMuc3RhdGUucmVjdEFyZWFMVEMyO3VuaWZvcm1zLnBvaW50TGlnaHRzLnZhbHVlPWxpZ2h0cy5zdGF0ZS5wb2ludDt1bmlmb3Jtcy5wb2ludExpZ2h0U2hhZG93cy52YWx1ZT1saWdodHMuc3RhdGUucG9pbnRTaGFkb3c7dW5pZm9ybXMuaGVtaXNwaGVyZUxpZ2h0cy52YWx1ZT1saWdodHMuc3RhdGUuaGVtaTt1bmlmb3Jtcy5kaXJlY3Rpb25hbFNoYWRvd01hcC52YWx1ZT1saWdodHMuc3RhdGUuZGlyZWN0aW9uYWxTaGFkb3dNYXA7dW5pZm9ybXMuZGlyZWN0aW9uYWxTaGFkb3dNYXRyaXgudmFsdWU9bGlnaHRzLnN0YXRlLmRpcmVjdGlvbmFsU2hhZG93TWF0cml4O3VuaWZvcm1zLnNwb3RTaGFkb3dNYXAudmFsdWU9bGlnaHRzLnN0YXRlLnNwb3RTaGFkb3dNYXA7dW5pZm9ybXMuc3BvdFNoYWRvd01hdHJpeC52YWx1ZT1saWdodHMuc3RhdGUuc3BvdFNoYWRvd01hdHJpeDt1bmlmb3Jtcy5wb2ludFNoYWRvd01hcC52YWx1ZT1saWdodHMuc3RhdGUucG9pbnRTaGFkb3dNYXA7dW5pZm9ybXMucG9pbnRTaGFkb3dNYXRyaXgudmFsdWU9bGlnaHRzLnN0YXRlLnBvaW50U2hhZG93TWF0cml4Oy8vIFRPRE8gKGFiZWxuYXRpb24pOiBhZGQgYXJlYSBsaWdodHMgc2hhZG93IGluZm8gdG8gdW5pZm9ybXMKfXZhciBwcm9nVW5pZm9ybXM9cHJvZ3JhbS5nZXRVbmlmb3JtcygpO3ZhciB1bmlmb3Jtc0xpc3Q9V2ViR0xVbmlmb3Jtcy5zZXFXaXRoVmFsdWUocHJvZ1VuaWZvcm1zLnNlcSx1bmlmb3Jtcyk7bWF0ZXJpYWxQcm9wZXJ0aWVzLmN1cnJlbnRQcm9ncmFtPXByb2dyYW07bWF0ZXJpYWxQcm9wZXJ0aWVzLnVuaWZvcm1zTGlzdD11bmlmb3Jtc0xpc3Q7cmV0dXJuIHByb2dyYW07fWZ1bmN0aW9uIHVwZGF0ZUNvbW1vbk1hdGVyaWFsUHJvcGVydGllcyhtYXRlcmlhbCxwYXJhbWV0ZXJzKXt2YXIgbWF0ZXJpYWxQcm9wZXJ0aWVzPXByb3BlcnRpZXMuZ2V0KG1hdGVyaWFsKTttYXRlcmlhbFByb3BlcnRpZXMub3V0cHV0RW5jb2Rpbmc9cGFyYW1ldGVycy5vdXRwdXRFbmNvZGluZzttYXRlcmlhbFByb3BlcnRpZXMuaW5zdGFuY2luZz1wYXJhbWV0ZXJzLmluc3RhbmNpbmc7bWF0ZXJpYWxQcm9wZXJ0aWVzLnNraW5uaW5nPXBhcmFtZXRlcnMuc2tpbm5pbmc7bWF0ZXJpYWxQcm9wZXJ0aWVzLm1vcnBoVGFyZ2V0cz1wYXJhbWV0ZXJzLm1vcnBoVGFyZ2V0czttYXRlcmlhbFByb3BlcnRpZXMubW9ycGhOb3JtYWxzPXBhcmFtZXRlcnMubW9ycGhOb3JtYWxzO21hdGVyaWFsUHJvcGVydGllcy5tb3JwaFRhcmdldHNDb3VudD1wYXJhbWV0ZXJzLm1vcnBoVGFyZ2V0c0NvdW50O21hdGVyaWFsUHJvcGVydGllcy5udW1DbGlwcGluZ1BsYW5lcz1wYXJhbWV0ZXJzLm51bUNsaXBwaW5nUGxhbmVzO21hdGVyaWFsUHJvcGVydGllcy5udW1JbnRlcnNlY3Rpb249cGFyYW1ldGVycy5udW1DbGlwSW50ZXJzZWN0aW9uO21hdGVyaWFsUHJvcGVydGllcy52ZXJ0ZXhBbHBoYXM9cGFyYW1ldGVycy52ZXJ0ZXhBbHBoYXM7bWF0ZXJpYWxQcm9wZXJ0aWVzLnZlcnRleFRhbmdlbnRzPXBhcmFtZXRlcnMudmVydGV4VGFuZ2VudHM7bWF0ZXJpYWxQcm9wZXJ0aWVzLnRvbmVNYXBwaW5nPXBhcmFtZXRlcnMudG9uZU1hcHBpbmc7fWZ1bmN0aW9uIHNldFByb2dyYW0oY2FtZXJhLHNjZW5lLGdlb21ldHJ5LG1hdGVyaWFsLG9iamVjdCl7aWYoc2NlbmUuaXNTY2VuZSE9PXRydWUpc2NlbmU9X2VtcHR5U2NlbmU7Ly8gc2NlbmUgY291bGQgYmUgYSBNZXNoLCBMaW5lLCBQb2ludHMsIC4uLgp0ZXh0dXJlcy5yZXNldFRleHR1cmVVbml0cygpO3ZhciBmb2c9c2NlbmUuZm9nO3ZhciBlbnZpcm9ubWVudD1tYXRlcmlhbC5pc01lc2hTdGFuZGFyZE1hdGVyaWFsP3NjZW5lLmVudmlyb25tZW50Om51bGw7dmFyIGVuY29kaW5nPV9jdXJyZW50UmVuZGVyVGFyZ2V0PT09bnVsbD9fdGhpcy5vdXRwdXRFbmNvZGluZzpfY3VycmVudFJlbmRlclRhcmdldC5pc1hSUmVuZGVyVGFyZ2V0PT09dHJ1ZT9fY3VycmVudFJlbmRlclRhcmdldC50ZXh0dXJlLmVuY29kaW5nOkxpbmVhckVuY29kaW5nO3ZhciBlbnZNYXA9KG1hdGVyaWFsLmlzTWVzaFN0YW5kYXJkTWF0ZXJpYWw/Y3ViZXV2bWFwczpjdWJlbWFwcykuZ2V0KG1hdGVyaWFsLmVudk1hcHx8ZW52aXJvbm1lbnQpO3ZhciB2ZXJ0ZXhBbHBoYXM9bWF0ZXJpYWwudmVydGV4Q29sb3JzPT09dHJ1ZSYmISFnZW9tZXRyeS5hdHRyaWJ1dGVzLmNvbG9yJiZnZW9tZXRyeS5hdHRyaWJ1dGVzLmNvbG9yLml0ZW1TaXplPT09NDt2YXIgdmVydGV4VGFuZ2VudHM9ISFtYXRlcmlhbC5ub3JtYWxNYXAmJiEhZ2VvbWV0cnkuYXR0cmlidXRlcy50YW5nZW50O3ZhciBtb3JwaFRhcmdldHM9ISFnZW9tZXRyeS5tb3JwaEF0dHJpYnV0ZXMucG9zaXRpb247dmFyIG1vcnBoTm9ybWFscz0hIWdlb21ldHJ5Lm1vcnBoQXR0cmlidXRlcy5ub3JtYWw7dmFyIG1vcnBoVGFyZ2V0c0NvdW50PSEhZ2VvbWV0cnkubW9ycGhBdHRyaWJ1dGVzLnBvc2l0aW9uP2dlb21ldHJ5Lm1vcnBoQXR0cmlidXRlcy5wb3NpdGlvbi5sZW5ndGg6MDt2YXIgdG9uZU1hcHBpbmc9bWF0ZXJpYWwudG9uZU1hcHBlZD9fdGhpcy50b25lTWFwcGluZzpOb1RvbmVNYXBwaW5nO3ZhciBtYXRlcmlhbFByb3BlcnRpZXM9cHJvcGVydGllcy5nZXQobWF0ZXJpYWwpO3ZhciBsaWdodHM9Y3VycmVudFJlbmRlclN0YXRlLnN0YXRlLmxpZ2h0cztpZihfY2xpcHBpbmdFbmFibGVkPT09dHJ1ZSl7aWYoX2xvY2FsQ2xpcHBpbmdFbmFibGVkPT09dHJ1ZXx8Y2FtZXJhIT09X2N1cnJlbnRDYW1lcmEpe3ZhciB1c2VDYWNoZT1jYW1lcmE9PT1fY3VycmVudENhbWVyYSYmbWF0ZXJpYWwuaWQ9PT1fY3VycmVudE1hdGVyaWFsSWQ7Ly8gd2UgbWlnaHQgd2FudCB0byBjYWxsIHRoaXMgZnVuY3Rpb24gd2l0aCBzb21lIENsaXBwaW5nR3JvdXAKLy8gb2JqZWN0IGluc3RlYWQgb2YgdGhlIG1hdGVyaWFsLCBvbmNlIGl0IGJlY29tZXMgZmVhc2libGUKLy8gKCM4NDY1LCAjODM3OSkKY2xpcHBpbmcuc2V0U3RhdGUobWF0ZXJpYWwsY2FtZXJhLHVzZUNhY2hlKTt9fS8vCnZhciBuZWVkc1Byb2dyYW1DaGFuZ2U9ZmFsc2U7aWYobWF0ZXJpYWwudmVyc2lvbj09PW1hdGVyaWFsUHJvcGVydGllcy5fX3ZlcnNpb24pe2lmKG1hdGVyaWFsUHJvcGVydGllcy5uZWVkc0xpZ2h0cyYmbWF0ZXJpYWxQcm9wZXJ0aWVzLmxpZ2h0c1N0YXRlVmVyc2lvbiE9PWxpZ2h0cy5zdGF0ZS52ZXJzaW9uKXtuZWVkc1Byb2dyYW1DaGFuZ2U9dHJ1ZTt9ZWxzZSBpZihtYXRlcmlhbFByb3BlcnRpZXMub3V0cHV0RW5jb2RpbmchPT1lbmNvZGluZyl7bmVlZHNQcm9ncmFtQ2hhbmdlPXRydWU7fWVsc2UgaWYob2JqZWN0LmlzSW5zdGFuY2VkTWVzaCYmbWF0ZXJpYWxQcm9wZXJ0aWVzLmluc3RhbmNpbmc9PT1mYWxzZSl7bmVlZHNQcm9ncmFtQ2hhbmdlPXRydWU7fWVsc2UgaWYoIW9iamVjdC5pc0luc3RhbmNlZE1lc2gmJm1hdGVyaWFsUHJvcGVydGllcy5pbnN0YW5jaW5nPT09dHJ1ZSl7bmVlZHNQcm9ncmFtQ2hhbmdlPXRydWU7fWVsc2UgaWYob2JqZWN0LmlzU2tpbm5lZE1lc2gmJm1hdGVyaWFsUHJvcGVydGllcy5za2lubmluZz09PWZhbHNlKXtuZWVkc1Byb2dyYW1DaGFuZ2U9dHJ1ZTt9ZWxzZSBpZighb2JqZWN0LmlzU2tpbm5lZE1lc2gmJm1hdGVyaWFsUHJvcGVydGllcy5za2lubmluZz09PXRydWUpe25lZWRzUHJvZ3JhbUNoYW5nZT10cnVlO31lbHNlIGlmKG1hdGVyaWFsUHJvcGVydGllcy5lbnZNYXAhPT1lbnZNYXApe25lZWRzUHJvZ3JhbUNoYW5nZT10cnVlO31lbHNlIGlmKG1hdGVyaWFsLmZvZyYmbWF0ZXJpYWxQcm9wZXJ0aWVzLmZvZyE9PWZvZyl7bmVlZHNQcm9ncmFtQ2hhbmdlPXRydWU7fWVsc2UgaWYobWF0ZXJpYWxQcm9wZXJ0aWVzLm51bUNsaXBwaW5nUGxhbmVzIT09dW5kZWZpbmVkJiYobWF0ZXJpYWxQcm9wZXJ0aWVzLm51bUNsaXBwaW5nUGxhbmVzIT09Y2xpcHBpbmcubnVtUGxhbmVzfHxtYXRlcmlhbFByb3BlcnRpZXMubnVtSW50ZXJzZWN0aW9uIT09Y2xpcHBpbmcubnVtSW50ZXJzZWN0aW9uKSl7bmVlZHNQcm9ncmFtQ2hhbmdlPXRydWU7fWVsc2UgaWYobWF0ZXJpYWxQcm9wZXJ0aWVzLnZlcnRleEFscGhhcyE9PXZlcnRleEFscGhhcyl7bmVlZHNQcm9ncmFtQ2hhbmdlPXRydWU7fWVsc2UgaWYobWF0ZXJpYWxQcm9wZXJ0aWVzLnZlcnRleFRhbmdlbnRzIT09dmVydGV4VGFuZ2VudHMpe25lZWRzUHJvZ3JhbUNoYW5nZT10cnVlO31lbHNlIGlmKG1hdGVyaWFsUHJvcGVydGllcy5tb3JwaFRhcmdldHMhPT1tb3JwaFRhcmdldHMpe25lZWRzUHJvZ3JhbUNoYW5nZT10cnVlO31lbHNlIGlmKG1hdGVyaWFsUHJvcGVydGllcy5tb3JwaE5vcm1hbHMhPT1tb3JwaE5vcm1hbHMpe25lZWRzUHJvZ3JhbUNoYW5nZT10cnVlO31lbHNlIGlmKG1hdGVyaWFsUHJvcGVydGllcy50b25lTWFwcGluZyE9PXRvbmVNYXBwaW5nKXtuZWVkc1Byb2dyYW1DaGFuZ2U9dHJ1ZTt9ZWxzZSBpZihjYXBhYmlsaXRpZXMuaXNXZWJHTDI9PT10cnVlJiZtYXRlcmlhbFByb3BlcnRpZXMubW9ycGhUYXJnZXRzQ291bnQhPT1tb3JwaFRhcmdldHNDb3VudCl7bmVlZHNQcm9ncmFtQ2hhbmdlPXRydWU7fX1lbHNle25lZWRzUHJvZ3JhbUNoYW5nZT10cnVlO21hdGVyaWFsUHJvcGVydGllcy5fX3ZlcnNpb249bWF0ZXJpYWwudmVyc2lvbjt9Ly8KdmFyIHByb2dyYW09bWF0ZXJpYWxQcm9wZXJ0aWVzLmN1cnJlbnRQcm9ncmFtO2lmKG5lZWRzUHJvZ3JhbUNoYW5nZT09PXRydWUpe3Byb2dyYW09Z2V0UHJvZ3JhbShtYXRlcmlhbCxzY2VuZSxvYmplY3QpO312YXIgcmVmcmVzaFByb2dyYW09ZmFsc2U7dmFyIHJlZnJlc2hNYXRlcmlhbD1mYWxzZTt2YXIgcmVmcmVzaExpZ2h0cz1mYWxzZTt2YXIgcF91bmlmb3Jtcz1wcm9ncmFtLmdldFVuaWZvcm1zKCksbV91bmlmb3Jtcz1tYXRlcmlhbFByb3BlcnRpZXMudW5pZm9ybXM7aWYoc3RhdGUudXNlUHJvZ3JhbShwcm9ncmFtLnByb2dyYW0pKXtyZWZyZXNoUHJvZ3JhbT10cnVlO3JlZnJlc2hNYXRlcmlhbD10cnVlO3JlZnJlc2hMaWdodHM9dHJ1ZTt9aWYobWF0ZXJpYWwuaWQhPT1fY3VycmVudE1hdGVyaWFsSWQpe19jdXJyZW50TWF0ZXJpYWxJZD1tYXRlcmlhbC5pZDtyZWZyZXNoTWF0ZXJpYWw9dHJ1ZTt9aWYocmVmcmVzaFByb2dyYW18fF9jdXJyZW50Q2FtZXJhIT09Y2FtZXJhKXtwX3VuaWZvcm1zLnNldFZhbHVlKF9nbCwncHJvamVjdGlvbk1hdHJpeCcsY2FtZXJhLnByb2plY3Rpb25NYXRyaXgpO2lmKGNhcGFiaWxpdGllcy5sb2dhcml0aG1pY0RlcHRoQnVmZmVyKXtwX3VuaWZvcm1zLnNldFZhbHVlKF9nbCwnbG9nRGVwdGhCdWZGQycsMi4wLyhNYXRoLmxvZyhjYW1lcmEuZmFyKzEuMCkvTWF0aC5MTjIpKTt9aWYoX2N1cnJlbnRDYW1lcmEhPT1jYW1lcmEpe19jdXJyZW50Q2FtZXJhPWNhbWVyYTsvLyBsaWdodGluZyB1bmlmb3JtcyBkZXBlbmQgb24gdGhlIGNhbWVyYSBzbyBlbmZvcmNlIGFuIHVwZGF0ZQovLyBub3csIGluIGNhc2UgdGhpcyBtYXRlcmlhbCBzdXBwb3J0cyBsaWdodHMgLSBvciBsYXRlciwgd2hlbgovLyB0aGUgbmV4dCBtYXRlcmlhbCB0aGF0IGRvZXMgZ2V0cyBhY3RpdmF0ZWQ6CnJlZnJlc2hNYXRlcmlhbD10cnVlOy8vIHNldCB0byB0cnVlIG9uIG1hdGVyaWFsIGNoYW5nZQpyZWZyZXNoTGlnaHRzPXRydWU7Ly8gcmVtYWlucyBzZXQgdW50aWwgdXBkYXRlIGRvbmUKfS8vIGxvYWQgbWF0ZXJpYWwgc3BlY2lmaWMgdW5pZm9ybXMKLy8gKHNoYWRlciBtYXRlcmlhbCBhbHNvIGdldHMgdGhlbSBmb3IgdGhlIHNha2Ugb2YgZ2VuZXJpY2l0eSkKaWYobWF0ZXJpYWwuaXNTaGFkZXJNYXRlcmlhbHx8bWF0ZXJpYWwuaXNNZXNoUGhvbmdNYXRlcmlhbHx8bWF0ZXJpYWwuaXNNZXNoVG9vbk1hdGVyaWFsfHxtYXRlcmlhbC5pc01lc2hTdGFuZGFyZE1hdGVyaWFsfHxtYXRlcmlhbC5lbnZNYXApe3ZhciB1Q2FtUG9zPXBfdW5pZm9ybXMubWFwLmNhbWVyYVBvc2l0aW9uO2lmKHVDYW1Qb3MhPT11bmRlZmluZWQpe3VDYW1Qb3Muc2V0VmFsdWUoX2dsLF92ZWN0b3IzLnNldEZyb21NYXRyaXhQb3NpdGlvbihjYW1lcmEubWF0cml4V29ybGQpKTt9fWlmKG1hdGVyaWFsLmlzTWVzaFBob25nTWF0ZXJpYWx8fG1hdGVyaWFsLmlzTWVzaFRvb25NYXRlcmlhbHx8bWF0ZXJpYWwuaXNNZXNoTGFtYmVydE1hdGVyaWFsfHxtYXRlcmlhbC5pc01lc2hCYXNpY01hdGVyaWFsfHxtYXRlcmlhbC5pc01lc2hTdGFuZGFyZE1hdGVyaWFsfHxtYXRlcmlhbC5pc1NoYWRlck1hdGVyaWFsKXtwX3VuaWZvcm1zLnNldFZhbHVlKF9nbCwnaXNPcnRob2dyYXBoaWMnLGNhbWVyYS5pc09ydGhvZ3JhcGhpY0NhbWVyYT09PXRydWUpO31pZihtYXRlcmlhbC5pc01lc2hQaG9uZ01hdGVyaWFsfHxtYXRlcmlhbC5pc01lc2hUb29uTWF0ZXJpYWx8fG1hdGVyaWFsLmlzTWVzaExhbWJlcnRNYXRlcmlhbHx8bWF0ZXJpYWwuaXNNZXNoQmFzaWNNYXRlcmlhbHx8bWF0ZXJpYWwuaXNNZXNoU3RhbmRhcmRNYXRlcmlhbHx8bWF0ZXJpYWwuaXNTaGFkZXJNYXRlcmlhbHx8bWF0ZXJpYWwuaXNTaGFkb3dNYXRlcmlhbHx8b2JqZWN0LmlzU2tpbm5lZE1lc2gpe3BfdW5pZm9ybXMuc2V0VmFsdWUoX2dsLCd2aWV3TWF0cml4JyxjYW1lcmEubWF0cml4V29ybGRJbnZlcnNlKTt9fS8vIHNraW5uaW5nIGFuZCBtb3JwaCB0YXJnZXQgdW5pZm9ybXMgbXVzdCBiZSBzZXQgZXZlbiBpZiBtYXRlcmlhbCBkaWRuJ3QgY2hhbmdlCi8vIGF1dG8tc2V0dGluZyBvZiB0ZXh0dXJlIHVuaXQgZm9yIGJvbmUgYW5kIG1vcnBoIHRleHR1cmUgbXVzdCBnbyBiZWZvcmUgb3RoZXIgdGV4dHVyZXMKLy8gb3RoZXJ3aXNlIHRleHR1cmVzIHVzZWQgZm9yIHNraW5uaW5nIGFuZCBtb3JwaGluZyBjYW4gdGFrZSBvdmVyIHRleHR1cmUgdW5pdHMgcmVzZXJ2ZWQgZm9yIG90aGVyIG1hdGVyaWFsIHRleHR1cmVzCmlmKG9iamVjdC5pc1NraW5uZWRNZXNoKXtwX3VuaWZvcm1zLnNldE9wdGlvbmFsKF9nbCxvYmplY3QsJ2JpbmRNYXRyaXgnKTtwX3VuaWZvcm1zLnNldE9wdGlvbmFsKF9nbCxvYmplY3QsJ2JpbmRNYXRyaXhJbnZlcnNlJyk7dmFyIHNrZWxldG9uPW9iamVjdC5za2VsZXRvbjtpZihza2VsZXRvbil7aWYoY2FwYWJpbGl0aWVzLmZsb2F0VmVydGV4VGV4dHVyZXMpe2lmKHNrZWxldG9uLmJvbmVUZXh0dXJlPT09bnVsbClza2VsZXRvbi5jb21wdXRlQm9uZVRleHR1cmUoKTtwX3VuaWZvcm1zLnNldFZhbHVlKF9nbCwnYm9uZVRleHR1cmUnLHNrZWxldG9uLmJvbmVUZXh0dXJlLHRleHR1cmVzKTtwX3VuaWZvcm1zLnNldFZhbHVlKF9nbCwnYm9uZVRleHR1cmVTaXplJyxza2VsZXRvbi5ib25lVGV4dHVyZVNpemUpO31lbHNle3BfdW5pZm9ybXMuc2V0T3B0aW9uYWwoX2dsLHNrZWxldG9uLCdib25lTWF0cmljZXMnKTt9fX1pZighIWdlb21ldHJ5JiYoZ2VvbWV0cnkubW9ycGhBdHRyaWJ1dGVzLnBvc2l0aW9uIT09dW5kZWZpbmVkfHxnZW9tZXRyeS5tb3JwaEF0dHJpYnV0ZXMubm9ybWFsIT09dW5kZWZpbmVkKSl7bW9ycGh0YXJnZXRzLnVwZGF0ZShvYmplY3QsZ2VvbWV0cnksbWF0ZXJpYWwscHJvZ3JhbSk7fWlmKHJlZnJlc2hNYXRlcmlhbHx8bWF0ZXJpYWxQcm9wZXJ0aWVzLnJlY2VpdmVTaGFkb3chPT1vYmplY3QucmVjZWl2ZVNoYWRvdyl7bWF0ZXJpYWxQcm9wZXJ0aWVzLnJlY2VpdmVTaGFkb3c9b2JqZWN0LnJlY2VpdmVTaGFkb3c7cF91bmlmb3Jtcy5zZXRWYWx1ZShfZ2wsJ3JlY2VpdmVTaGFkb3cnLG9iamVjdC5yZWNlaXZlU2hhZG93KTt9aWYocmVmcmVzaE1hdGVyaWFsKXtwX3VuaWZvcm1zLnNldFZhbHVlKF9nbCwndG9uZU1hcHBpbmdFeHBvc3VyZScsX3RoaXMudG9uZU1hcHBpbmdFeHBvc3VyZSk7aWYobWF0ZXJpYWxQcm9wZXJ0aWVzLm5lZWRzTGlnaHRzKXsvLyB0aGUgY3VycmVudCBtYXRlcmlhbCByZXF1aXJlcyBsaWdodGluZyBpbmZvCi8vIG5vdGU6IGFsbCBsaWdodGluZyB1bmlmb3JtcyBhcmUgYWx3YXlzIHNldCBjb3JyZWN0bHkKLy8gdGhleSBzaW1wbHkgcmVmZXJlbmNlIHRoZSByZW5kZXJlcidzIHN0YXRlIGZvciB0aGVpcgovLyB2YWx1ZXMKLy8KLy8gdXNlIHRoZSBjdXJyZW50IG1hdGVyaWFsJ3MgLm5lZWRzVXBkYXRlIGZsYWdzIHRvIHNldAovLyB0aGUgR0wgc3RhdGUgd2hlbiByZXF1aXJlZAptYXJrVW5pZm9ybXNMaWdodHNOZWVkc1VwZGF0ZShtX3VuaWZvcm1zLHJlZnJlc2hMaWdodHMpO30vLyByZWZyZXNoIHVuaWZvcm1zIGNvbW1vbiB0byBzZXZlcmFsIG1hdGVyaWFscwppZihmb2cmJm1hdGVyaWFsLmZvZyl7bWF0ZXJpYWxzLnJlZnJlc2hGb2dVbmlmb3JtcyhtX3VuaWZvcm1zLGZvZyk7fW1hdGVyaWFscy5yZWZyZXNoTWF0ZXJpYWxVbmlmb3JtcyhtX3VuaWZvcm1zLG1hdGVyaWFsLF9waXhlbFJhdGlvLF9oZWlnaHQsX3RyYW5zbWlzc2lvblJlbmRlclRhcmdldCk7V2ViR0xVbmlmb3Jtcy51cGxvYWQoX2dsLG1hdGVyaWFsUHJvcGVydGllcy51bmlmb3Jtc0xpc3QsbV91bmlmb3Jtcyx0ZXh0dXJlcyk7fWlmKG1hdGVyaWFsLmlzU2hhZGVyTWF0ZXJpYWwmJm1hdGVyaWFsLnVuaWZvcm1zTmVlZFVwZGF0ZT09PXRydWUpe1dlYkdMVW5pZm9ybXMudXBsb2FkKF9nbCxtYXRlcmlhbFByb3BlcnRpZXMudW5pZm9ybXNMaXN0LG1fdW5pZm9ybXMsdGV4dHVyZXMpO21hdGVyaWFsLnVuaWZvcm1zTmVlZFVwZGF0ZT1mYWxzZTt9aWYobWF0ZXJpYWwuaXNTcHJpdGVNYXRlcmlhbCl7cF91bmlmb3Jtcy5zZXRWYWx1ZShfZ2wsJ2NlbnRlcicsb2JqZWN0LmNlbnRlcik7fS8vIGNvbW1vbiBtYXRyaWNlcwpwX3VuaWZvcm1zLnNldFZhbHVlKF9nbCwnbW9kZWxWaWV3TWF0cml4JyxvYmplY3QubW9kZWxWaWV3TWF0cml4KTtwX3VuaWZvcm1zLnNldFZhbHVlKF9nbCwnbm9ybWFsTWF0cml4JyxvYmplY3Qubm9ybWFsTWF0cml4KTtwX3VuaWZvcm1zLnNldFZhbHVlKF9nbCwnbW9kZWxNYXRyaXgnLG9iamVjdC5tYXRyaXhXb3JsZCk7cmV0dXJuIHByb2dyYW07fS8vIElmIHVuaWZvcm1zIGFyZSBtYXJrZWQgYXMgY2xlYW4sIHRoZXkgZG9uJ3QgbmVlZCB0byBiZSBsb2FkZWQgdG8gdGhlIEdQVS4KZnVuY3Rpb24gbWFya1VuaWZvcm1zTGlnaHRzTmVlZHNVcGRhdGUodW5pZm9ybXMsdmFsdWUpe3VuaWZvcm1zLmFtYmllbnRMaWdodENvbG9yLm5lZWRzVXBkYXRlPXZhbHVlO3VuaWZvcm1zLmxpZ2h0UHJvYmUubmVlZHNVcGRhdGU9dmFsdWU7dW5pZm9ybXMuZGlyZWN0aW9uYWxMaWdodHMubmVlZHNVcGRhdGU9dmFsdWU7dW5pZm9ybXMuZGlyZWN0aW9uYWxMaWdodFNoYWRvd3MubmVlZHNVcGRhdGU9dmFsdWU7dW5pZm9ybXMucG9pbnRMaWdodHMubmVlZHNVcGRhdGU9dmFsdWU7dW5pZm9ybXMucG9pbnRMaWdodFNoYWRvd3MubmVlZHNVcGRhdGU9dmFsdWU7dW5pZm9ybXMuc3BvdExpZ2h0cy5uZWVkc1VwZGF0ZT12YWx1ZTt1bmlmb3Jtcy5zcG90TGlnaHRTaGFkb3dzLm5lZWRzVXBkYXRlPXZhbHVlO3VuaWZvcm1zLnJlY3RBcmVhTGlnaHRzLm5lZWRzVXBkYXRlPXZhbHVlO3VuaWZvcm1zLmhlbWlzcGhlcmVMaWdodHMubmVlZHNVcGRhdGU9dmFsdWU7fWZ1bmN0aW9uIG1hdGVyaWFsTmVlZHNMaWdodHMobWF0ZXJpYWwpe3JldHVybiBtYXRlcmlhbC5pc01lc2hMYW1iZXJ0TWF0ZXJpYWx8fG1hdGVyaWFsLmlzTWVzaFRvb25NYXRlcmlhbHx8bWF0ZXJpYWwuaXNNZXNoUGhvbmdNYXRlcmlhbHx8bWF0ZXJpYWwuaXNNZXNoU3RhbmRhcmRNYXRlcmlhbHx8bWF0ZXJpYWwuaXNTaGFkb3dNYXRlcmlhbHx8bWF0ZXJpYWwuaXNTaGFkZXJNYXRlcmlhbCYmbWF0ZXJpYWwubGlnaHRzPT09dHJ1ZTt9dGhpcy5nZXRBY3RpdmVDdWJlRmFjZT1mdW5jdGlvbigpe3JldHVybiBfY3VycmVudEFjdGl2ZUN1YmVGYWNlO307dGhpcy5nZXRBY3RpdmVNaXBtYXBMZXZlbD1mdW5jdGlvbigpe3JldHVybiBfY3VycmVudEFjdGl2ZU1pcG1hcExldmVsO307dGhpcy5nZXRSZW5kZXJUYXJnZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gX2N1cnJlbnRSZW5kZXJUYXJnZXQ7fTt0aGlzLnNldFJlbmRlclRhcmdldFRleHR1cmVzPWZ1bmN0aW9uKHJlbmRlclRhcmdldCxjb2xvclRleHR1cmUsZGVwdGhUZXh0dXJlKXtwcm9wZXJ0aWVzLmdldChyZW5kZXJUYXJnZXQudGV4dHVyZSkuX193ZWJnbFRleHR1cmU9Y29sb3JUZXh0dXJlO3Byb3BlcnRpZXMuZ2V0KHJlbmRlclRhcmdldC5kZXB0aFRleHR1cmUpLl9fd2ViZ2xUZXh0dXJlPWRlcHRoVGV4dHVyZTt2YXIgcmVuZGVyVGFyZ2V0UHJvcGVydGllcz1wcm9wZXJ0aWVzLmdldChyZW5kZXJUYXJnZXQpO3JlbmRlclRhcmdldFByb3BlcnRpZXMuX19oYXNFeHRlcm5hbFRleHR1cmVzPXRydWU7aWYocmVuZGVyVGFyZ2V0UHJvcGVydGllcy5fX2hhc0V4dGVybmFsVGV4dHVyZXMpe3JlbmRlclRhcmdldFByb3BlcnRpZXMuX19hdXRvQWxsb2NhdGVEZXB0aEJ1ZmZlcj1kZXB0aFRleHR1cmU9PT11bmRlZmluZWQ7aWYoIXJlbmRlclRhcmdldFByb3BlcnRpZXMuX19hdXRvQWxsb2NhdGVEZXB0aEJ1ZmZlcil7Ly8gVGhlIG11bHRpc2FtcGxlX3JlbmRlcl90b190ZXh0dXJlIGV4dGVuc2lvbiBkb2Vzbid0IHdvcmsgcHJvcGVybHkgaWYgdGhlcmUKLy8gYXJlIG1pZGZyYW1lIGZsdXNoZXMgYW5kIGFuIGV4dGVybmFsIGRlcHRoIGJ1ZmZlci4gRGlzYWJsZSB1c2Ugb2YgdGhlIGV4dGVuc2lvbi4KaWYocmVuZGVyVGFyZ2V0LnVzZVJlbmRlclRvVGV4dHVyZSl7Y29uc29sZS53YXJuKCdyZW5kZXItdG8tdGV4dHVyZSBleHRlbnNpb24gd2FzIGRpc2FibGVkIGJlY2F1c2UgYW4gZXh0ZXJuYWwgdGV4dHVyZSB3YXMgcHJvdmlkZWQnKTtyZW5kZXJUYXJnZXQudXNlUmVuZGVyVG9UZXh0dXJlPWZhbHNlO3JlbmRlclRhcmdldC51c2VSZW5kZXJidWZmZXI9dHJ1ZTt9fX19O3RoaXMuc2V0UmVuZGVyVGFyZ2V0RnJhbWVidWZmZXI9ZnVuY3Rpb24ocmVuZGVyVGFyZ2V0LGRlZmF1bHRGcmFtZWJ1ZmZlcil7dmFyIHJlbmRlclRhcmdldFByb3BlcnRpZXM9cHJvcGVydGllcy5nZXQocmVuZGVyVGFyZ2V0KTtyZW5kZXJUYXJnZXRQcm9wZXJ0aWVzLl9fd2ViZ2xGcmFtZWJ1ZmZlcj1kZWZhdWx0RnJhbWVidWZmZXI7cmVuZGVyVGFyZ2V0UHJvcGVydGllcy5fX3VzZURlZmF1bHRGcmFtZWJ1ZmZlcj1kZWZhdWx0RnJhbWVidWZmZXI9PT11bmRlZmluZWQ7fTt0aGlzLnNldFJlbmRlclRhcmdldD1mdW5jdGlvbihyZW5kZXJUYXJnZXQpe3ZhciBhY3RpdmVDdWJlRmFjZT1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMV06MDt2YXIgYWN0aXZlTWlwbWFwTGV2ZWw9YXJndW1lbnRzLmxlbmd0aD4yJiZhcmd1bWVudHNbMl0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzJdOjA7X2N1cnJlbnRSZW5kZXJUYXJnZXQ9cmVuZGVyVGFyZ2V0O19jdXJyZW50QWN0aXZlQ3ViZUZhY2U9YWN0aXZlQ3ViZUZhY2U7X2N1cnJlbnRBY3RpdmVNaXBtYXBMZXZlbD1hY3RpdmVNaXBtYXBMZXZlbDt2YXIgdXNlRGVmYXVsdEZyYW1lYnVmZmVyPXRydWU7aWYocmVuZGVyVGFyZ2V0KXt2YXIgcmVuZGVyVGFyZ2V0UHJvcGVydGllcz1wcm9wZXJ0aWVzLmdldChyZW5kZXJUYXJnZXQpO2lmKHJlbmRlclRhcmdldFByb3BlcnRpZXMuX191c2VEZWZhdWx0RnJhbWVidWZmZXIhPT11bmRlZmluZWQpey8vIFdlIG5lZWQgdG8gbWFrZSBzdXJlIHRvIHJlYmluZCB0aGUgZnJhbWVidWZmZXIuCnN0YXRlLmJpbmRGcmFtZWJ1ZmZlcigzNjE2MCxudWxsKTt1c2VEZWZhdWx0RnJhbWVidWZmZXI9ZmFsc2U7fWVsc2UgaWYocmVuZGVyVGFyZ2V0UHJvcGVydGllcy5fX3dlYmdsRnJhbWVidWZmZXI9PT11bmRlZmluZWQpe3RleHR1cmVzLnNldHVwUmVuZGVyVGFyZ2V0KHJlbmRlclRhcmdldCk7fWVsc2UgaWYocmVuZGVyVGFyZ2V0UHJvcGVydGllcy5fX2hhc0V4dGVybmFsVGV4dHVyZXMpey8vIENvbG9yIGFuZCBkZXB0aCB0ZXh0dXJlIG11c3QgYmUgcmVib3VuZCBpbiBvcmRlciBmb3IgdGhlIHN3YXBjaGFpbiB0byB1cGRhdGUuCnRleHR1cmVzLnJlYmluZFRleHR1cmVzKHJlbmRlclRhcmdldCxwcm9wZXJ0aWVzLmdldChyZW5kZXJUYXJnZXQudGV4dHVyZSkuX193ZWJnbFRleHR1cmUscHJvcGVydGllcy5nZXQocmVuZGVyVGFyZ2V0LmRlcHRoVGV4dHVyZSkuX193ZWJnbFRleHR1cmUpO319dmFyIGZyYW1lYnVmZmVyPW51bGw7dmFyIGlzQ3ViZT1mYWxzZTt2YXIgaXNSZW5kZXJUYXJnZXQzRD1mYWxzZTtpZihyZW5kZXJUYXJnZXQpe3ZhciB0ZXh0dXJlPXJlbmRlclRhcmdldC50ZXh0dXJlO2lmKHRleHR1cmUuaXNEYXRhVGV4dHVyZTNEfHx0ZXh0dXJlLmlzRGF0YVRleHR1cmUyREFycmF5KXtpc1JlbmRlclRhcmdldDNEPXRydWU7fXZhciBfX3dlYmdsRnJhbWVidWZmZXI9cHJvcGVydGllcy5nZXQocmVuZGVyVGFyZ2V0KS5fX3dlYmdsRnJhbWVidWZmZXI7aWYocmVuZGVyVGFyZ2V0LmlzV2ViR0xDdWJlUmVuZGVyVGFyZ2V0KXtmcmFtZWJ1ZmZlcj1fX3dlYmdsRnJhbWVidWZmZXJbYWN0aXZlQ3ViZUZhY2VdO2lzQ3ViZT10cnVlO31lbHNlIGlmKHJlbmRlclRhcmdldC51c2VSZW5kZXJidWZmZXIpe2ZyYW1lYnVmZmVyPXByb3BlcnRpZXMuZ2V0KHJlbmRlclRhcmdldCkuX193ZWJnbE11bHRpc2FtcGxlZEZyYW1lYnVmZmVyO31lbHNle2ZyYW1lYnVmZmVyPV9fd2ViZ2xGcmFtZWJ1ZmZlcjt9X2N1cnJlbnRWaWV3cG9ydC5jb3B5KHJlbmRlclRhcmdldC52aWV3cG9ydCk7X2N1cnJlbnRTY2lzc29yLmNvcHkocmVuZGVyVGFyZ2V0LnNjaXNzb3IpO19jdXJyZW50U2Npc3NvclRlc3Q9cmVuZGVyVGFyZ2V0LnNjaXNzb3JUZXN0O31lbHNle19jdXJyZW50Vmlld3BvcnQuY29weShfdmlld3BvcnQpLm11bHRpcGx5U2NhbGFyKF9waXhlbFJhdGlvKS5mbG9vcigpO19jdXJyZW50U2Npc3Nvci5jb3B5KF9zY2lzc29yKS5tdWx0aXBseVNjYWxhcihfcGl4ZWxSYXRpbykuZmxvb3IoKTtfY3VycmVudFNjaXNzb3JUZXN0PV9zY2lzc29yVGVzdDt9dmFyIGZyYW1lYnVmZmVyQm91bmQ9c3RhdGUuYmluZEZyYW1lYnVmZmVyKDM2MTYwLGZyYW1lYnVmZmVyKTtpZihmcmFtZWJ1ZmZlckJvdW5kJiZjYXBhYmlsaXRpZXMuZHJhd0J1ZmZlcnMmJnVzZURlZmF1bHRGcmFtZWJ1ZmZlcil7c3RhdGUuZHJhd0J1ZmZlcnMocmVuZGVyVGFyZ2V0LGZyYW1lYnVmZmVyKTt9c3RhdGUudmlld3BvcnQoX2N1cnJlbnRWaWV3cG9ydCk7c3RhdGUuc2Npc3NvcihfY3VycmVudFNjaXNzb3IpO3N0YXRlLnNldFNjaXNzb3JUZXN0KF9jdXJyZW50U2Npc3NvclRlc3QpO2lmKGlzQ3ViZSl7dmFyIHRleHR1cmVQcm9wZXJ0aWVzPXByb3BlcnRpZXMuZ2V0KHJlbmRlclRhcmdldC50ZXh0dXJlKTtfZ2wuZnJhbWVidWZmZXJUZXh0dXJlMkQoMzYxNjAsMzYwNjQsMzQwNjkrYWN0aXZlQ3ViZUZhY2UsdGV4dHVyZVByb3BlcnRpZXMuX193ZWJnbFRleHR1cmUsYWN0aXZlTWlwbWFwTGV2ZWwpO31lbHNlIGlmKGlzUmVuZGVyVGFyZ2V0M0Qpe3ZhciBfdGV4dHVyZVByb3BlcnRpZXM9cHJvcGVydGllcy5nZXQocmVuZGVyVGFyZ2V0LnRleHR1cmUpO3ZhciBsYXllcj1hY3RpdmVDdWJlRmFjZXx8MDtfZ2wuZnJhbWVidWZmZXJUZXh0dXJlTGF5ZXIoMzYxNjAsMzYwNjQsX3RleHR1cmVQcm9wZXJ0aWVzLl9fd2ViZ2xUZXh0dXJlLGFjdGl2ZU1pcG1hcExldmVsfHwwLGxheWVyKTt9X2N1cnJlbnRNYXRlcmlhbElkPS0xOy8vIHJlc2V0IGN1cnJlbnQgbWF0ZXJpYWwgdG8gZW5zdXJlIGNvcnJlY3QgdW5pZm9ybSBiaW5kaW5ncwp9O3RoaXMucmVhZFJlbmRlclRhcmdldFBpeGVscz1mdW5jdGlvbihyZW5kZXJUYXJnZXQseCx5LHdpZHRoLGhlaWdodCxidWZmZXIsYWN0aXZlQ3ViZUZhY2VJbmRleCl7aWYoIShyZW5kZXJUYXJnZXQmJnJlbmRlclRhcmdldC5pc1dlYkdMUmVuZGVyVGFyZ2V0KSl7Y29uc29sZS5lcnJvcignVEhSRUUuV2ViR0xSZW5kZXJlci5yZWFkUmVuZGVyVGFyZ2V0UGl4ZWxzOiByZW5kZXJUYXJnZXQgaXMgbm90IFRIUkVFLldlYkdMUmVuZGVyVGFyZ2V0LicpO3JldHVybjt9dmFyIGZyYW1lYnVmZmVyPXByb3BlcnRpZXMuZ2V0KHJlbmRlclRhcmdldCkuX193ZWJnbEZyYW1lYnVmZmVyO2lmKHJlbmRlclRhcmdldC5pc1dlYkdMQ3ViZVJlbmRlclRhcmdldCYmYWN0aXZlQ3ViZUZhY2VJbmRleCE9PXVuZGVmaW5lZCl7ZnJhbWVidWZmZXI9ZnJhbWVidWZmZXJbYWN0aXZlQ3ViZUZhY2VJbmRleF07fWlmKGZyYW1lYnVmZmVyKXtzdGF0ZS5iaW5kRnJhbWVidWZmZXIoMzYxNjAsZnJhbWVidWZmZXIpO3RyeXt2YXIgdGV4dHVyZT1yZW5kZXJUYXJnZXQudGV4dHVyZTt2YXIgdGV4dHVyZUZvcm1hdD10ZXh0dXJlLmZvcm1hdDt2YXIgdGV4dHVyZVR5cGU9dGV4dHVyZS50eXBlO2lmKHRleHR1cmVGb3JtYXQhPT1SR0JBRm9ybWF0JiZ1dGlscy5jb252ZXJ0KHRleHR1cmVGb3JtYXQpIT09X2dsLmdldFBhcmFtZXRlcigzNTczOSkpe2NvbnNvbGUuZXJyb3IoJ1RIUkVFLldlYkdMUmVuZGVyZXIucmVhZFJlbmRlclRhcmdldFBpeGVsczogcmVuZGVyVGFyZ2V0IGlzIG5vdCBpbiBSR0JBIG9yIGltcGxlbWVudGF0aW9uIGRlZmluZWQgZm9ybWF0LicpO3JldHVybjt9dmFyIGhhbGZGbG9hdFN1cHBvcnRlZEJ5RXh0PXRleHR1cmVUeXBlPT09SGFsZkZsb2F0VHlwZSYmKGV4dGVuc2lvbnMuaGFzKCdFWFRfY29sb3JfYnVmZmVyX2hhbGZfZmxvYXQnKXx8Y2FwYWJpbGl0aWVzLmlzV2ViR0wyJiZleHRlbnNpb25zLmhhcygnRVhUX2NvbG9yX2J1ZmZlcl9mbG9hdCcpKTtpZih0ZXh0dXJlVHlwZSE9PVVuc2lnbmVkQnl0ZVR5cGUmJnV0aWxzLmNvbnZlcnQodGV4dHVyZVR5cGUpIT09X2dsLmdldFBhcmFtZXRlcigzNTczOCkmJi8vIEVkZ2UgYW5kIENocm9tZSBNYWMgPCA1MiAoIzk1MTMpCiEodGV4dHVyZVR5cGU9PT1GbG9hdFR5cGUmJihjYXBhYmlsaXRpZXMuaXNXZWJHTDJ8fGV4dGVuc2lvbnMuaGFzKCdPRVNfdGV4dHVyZV9mbG9hdCcpfHxleHRlbnNpb25zLmhhcygnV0VCR0xfY29sb3JfYnVmZmVyX2Zsb2F0JykpKSYmLy8gQ2hyb21lIE1hYyA+PSA1MiBhbmQgRmlyZWZveAohaGFsZkZsb2F0U3VwcG9ydGVkQnlFeHQpe2NvbnNvbGUuZXJyb3IoJ1RIUkVFLldlYkdMUmVuZGVyZXIucmVhZFJlbmRlclRhcmdldFBpeGVsczogcmVuZGVyVGFyZ2V0IGlzIG5vdCBpbiBVbnNpZ25lZEJ5dGVUeXBlIG9yIGltcGxlbWVudGF0aW9uIGRlZmluZWQgdHlwZS4nKTtyZXR1cm47fWlmKF9nbC5jaGVja0ZyYW1lYnVmZmVyU3RhdHVzKDM2MTYwKT09PTM2MDUzKXsvLyB0aGUgZm9sbG93aW5nIGlmIHN0YXRlbWVudCBlbnN1cmVzIHZhbGlkIHJlYWQgcmVxdWVzdHMgKG5vIG91dC1vZi1ib3VuZHMgcGl4ZWxzLCBzZWUgIzg2MDQpCmlmKHg+PTAmJng8PXJlbmRlclRhcmdldC53aWR0aC13aWR0aCYmeT49MCYmeTw9cmVuZGVyVGFyZ2V0LmhlaWdodC1oZWlnaHQpe19nbC5yZWFkUGl4ZWxzKHgseSx3aWR0aCxoZWlnaHQsdXRpbHMuY29udmVydCh0ZXh0dXJlRm9ybWF0KSx1dGlscy5jb252ZXJ0KHRleHR1cmVUeXBlKSxidWZmZXIpO319ZWxzZXtjb25zb2xlLmVycm9yKCdUSFJFRS5XZWJHTFJlbmRlcmVyLnJlYWRSZW5kZXJUYXJnZXRQaXhlbHM6IHJlYWRQaXhlbHMgZnJvbSByZW5kZXJUYXJnZXQgZmFpbGVkLiBGcmFtZWJ1ZmZlciBub3QgY29tcGxldGUuJyk7fX1maW5hbGx5ey8vIHJlc3RvcmUgZnJhbWVidWZmZXIgb2YgY3VycmVudCByZW5kZXIgdGFyZ2V0IGlmIG5lY2Vzc2FyeQp2YXIgX2ZyYW1lYnVmZmVyPV9jdXJyZW50UmVuZGVyVGFyZ2V0IT09bnVsbD9wcm9wZXJ0aWVzLmdldChfY3VycmVudFJlbmRlclRhcmdldCkuX193ZWJnbEZyYW1lYnVmZmVyOm51bGw7c3RhdGUuYmluZEZyYW1lYnVmZmVyKDM2MTYwLF9mcmFtZWJ1ZmZlcik7fX19O3RoaXMuY29weUZyYW1lYnVmZmVyVG9UZXh0dXJlPWZ1bmN0aW9uKHBvc2l0aW9uLHRleHR1cmUpe3ZhciBsZXZlbD1hcmd1bWVudHMubGVuZ3RoPjImJmFyZ3VtZW50c1syXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMl06MDtpZih0ZXh0dXJlLmlzRnJhbWVidWZmZXJUZXh0dXJlIT09dHJ1ZSl7Y29uc29sZS5lcnJvcignVEhSRUUuV2ViR0xSZW5kZXJlcjogY29weUZyYW1lYnVmZmVyVG9UZXh0dXJlKCkgY2FuIG9ubHkgYmUgdXNlZCB3aXRoIEZyYW1lYnVmZmVyVGV4dHVyZS4nKTtyZXR1cm47fXZhciBsZXZlbFNjYWxlPU1hdGgucG93KDIsLWxldmVsKTt2YXIgd2lkdGg9TWF0aC5mbG9vcih0ZXh0dXJlLmltYWdlLndpZHRoKmxldmVsU2NhbGUpO3ZhciBoZWlnaHQ9TWF0aC5mbG9vcih0ZXh0dXJlLmltYWdlLmhlaWdodCpsZXZlbFNjYWxlKTt0ZXh0dXJlcy5zZXRUZXh0dXJlMkQodGV4dHVyZSwwKTtfZ2wuY29weVRleFN1YkltYWdlMkQoMzU1MyxsZXZlbCwwLDAscG9zaXRpb24ueCxwb3NpdGlvbi55LHdpZHRoLGhlaWdodCk7c3RhdGUudW5iaW5kVGV4dHVyZSgpO307dGhpcy5jb3B5VGV4dHVyZVRvVGV4dHVyZT1mdW5jdGlvbihwb3NpdGlvbixzcmNUZXh0dXJlLGRzdFRleHR1cmUpe3ZhciBsZXZlbD1hcmd1bWVudHMubGVuZ3RoPjMmJmFyZ3VtZW50c1szXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbM106MDt2YXIgd2lkdGg9c3JjVGV4dHVyZS5pbWFnZS53aWR0aDt2YXIgaGVpZ2h0PXNyY1RleHR1cmUuaW1hZ2UuaGVpZ2h0O3ZhciBnbEZvcm1hdD11dGlscy5jb252ZXJ0KGRzdFRleHR1cmUuZm9ybWF0KTt2YXIgZ2xUeXBlPXV0aWxzLmNvbnZlcnQoZHN0VGV4dHVyZS50eXBlKTt0ZXh0dXJlcy5zZXRUZXh0dXJlMkQoZHN0VGV4dHVyZSwwKTsvLyBBcyBhbm90aGVyIHRleHR1cmUgdXBsb2FkIG1heSBoYXZlIGNoYW5nZWQgcGl4ZWxTdG9yZWkKLy8gcGFyYW1ldGVycywgbWFrZSBzdXJlIHRoZXkgYXJlIGNvcnJlY3QgZm9yIHRoZSBkc3RUZXh0dXJlCl9nbC5waXhlbFN0b3JlaSgzNzQ0MCxkc3RUZXh0dXJlLmZsaXBZKTtfZ2wucGl4ZWxTdG9yZWkoMzc0NDEsZHN0VGV4dHVyZS5wcmVtdWx0aXBseUFscGhhKTtfZ2wucGl4ZWxTdG9yZWkoMzMxNyxkc3RUZXh0dXJlLnVucGFja0FsaWdubWVudCk7aWYoc3JjVGV4dHVyZS5pc0RhdGFUZXh0dXJlKXtfZ2wudGV4U3ViSW1hZ2UyRCgzNTUzLGxldmVsLHBvc2l0aW9uLngscG9zaXRpb24ueSx3aWR0aCxoZWlnaHQsZ2xGb3JtYXQsZ2xUeXBlLHNyY1RleHR1cmUuaW1hZ2UuZGF0YSk7fWVsc2V7aWYoc3JjVGV4dHVyZS5pc0NvbXByZXNzZWRUZXh0dXJlKXtfZ2wuY29tcHJlc3NlZFRleFN1YkltYWdlMkQoMzU1MyxsZXZlbCxwb3NpdGlvbi54LHBvc2l0aW9uLnksc3JjVGV4dHVyZS5taXBtYXBzWzBdLndpZHRoLHNyY1RleHR1cmUubWlwbWFwc1swXS5oZWlnaHQsZ2xGb3JtYXQsc3JjVGV4dHVyZS5taXBtYXBzWzBdLmRhdGEpO31lbHNle19nbC50ZXhTdWJJbWFnZTJEKDM1NTMsbGV2ZWwscG9zaXRpb24ueCxwb3NpdGlvbi55LGdsRm9ybWF0LGdsVHlwZSxzcmNUZXh0dXJlLmltYWdlKTt9fS8vIEdlbmVyYXRlIG1pcG1hcHMgb25seSB3aGVuIGNvcHlpbmcgbGV2ZWwgMAppZihsZXZlbD09PTAmJmRzdFRleHR1cmUuZ2VuZXJhdGVNaXBtYXBzKV9nbC5nZW5lcmF0ZU1pcG1hcCgzNTUzKTtzdGF0ZS51bmJpbmRUZXh0dXJlKCk7fTt0aGlzLmNvcHlUZXh0dXJlVG9UZXh0dXJlM0Q9ZnVuY3Rpb24oc291cmNlQm94LHBvc2l0aW9uLHNyY1RleHR1cmUsZHN0VGV4dHVyZSl7dmFyIGxldmVsPWFyZ3VtZW50cy5sZW5ndGg+NCYmYXJndW1lbnRzWzRdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1s0XTowO2lmKF90aGlzLmlzV2ViR0wxUmVuZGVyZXIpe2NvbnNvbGUud2FybignVEhSRUUuV2ViR0xSZW5kZXJlci5jb3B5VGV4dHVyZVRvVGV4dHVyZTNEOiBjYW4gb25seSBiZSB1c2VkIHdpdGggV2ViR0wyLicpO3JldHVybjt9dmFyIHdpZHRoPXNvdXJjZUJveC5tYXgueC1zb3VyY2VCb3gubWluLngrMTt2YXIgaGVpZ2h0PXNvdXJjZUJveC5tYXgueS1zb3VyY2VCb3gubWluLnkrMTt2YXIgZGVwdGg9c291cmNlQm94Lm1heC56LXNvdXJjZUJveC5taW4ueisxO3ZhciBnbEZvcm1hdD11dGlscy5jb252ZXJ0KGRzdFRleHR1cmUuZm9ybWF0KTt2YXIgZ2xUeXBlPXV0aWxzLmNvbnZlcnQoZHN0VGV4dHVyZS50eXBlKTt2YXIgZ2xUYXJnZXQ7aWYoZHN0VGV4dHVyZS5pc0RhdGFUZXh0dXJlM0Qpe3RleHR1cmVzLnNldFRleHR1cmUzRChkc3RUZXh0dXJlLDApO2dsVGFyZ2V0PTMyODc5O31lbHNlIGlmKGRzdFRleHR1cmUuaXNEYXRhVGV4dHVyZTJEQXJyYXkpe3RleHR1cmVzLnNldFRleHR1cmUyREFycmF5KGRzdFRleHR1cmUsMCk7Z2xUYXJnZXQ9MzU4NjY7fWVsc2V7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFJlbmRlcmVyLmNvcHlUZXh0dXJlVG9UZXh0dXJlM0Q6IG9ubHkgc3VwcG9ydHMgVEhSRUUuRGF0YVRleHR1cmUzRCBhbmQgVEhSRUUuRGF0YVRleHR1cmUyREFycmF5LicpO3JldHVybjt9X2dsLnBpeGVsU3RvcmVpKDM3NDQwLGRzdFRleHR1cmUuZmxpcFkpO19nbC5waXhlbFN0b3JlaSgzNzQ0MSxkc3RUZXh0dXJlLnByZW11bHRpcGx5QWxwaGEpO19nbC5waXhlbFN0b3JlaSgzMzE3LGRzdFRleHR1cmUudW5wYWNrQWxpZ25tZW50KTt2YXIgdW5wYWNrUm93TGVuPV9nbC5nZXRQYXJhbWV0ZXIoMzMxNCk7dmFyIHVucGFja0ltYWdlSGVpZ2h0PV9nbC5nZXRQYXJhbWV0ZXIoMzI4NzgpO3ZhciB1bnBhY2tTa2lwUGl4ZWxzPV9nbC5nZXRQYXJhbWV0ZXIoMzMxNik7dmFyIHVucGFja1NraXBSb3dzPV9nbC5nZXRQYXJhbWV0ZXIoMzMxNSk7dmFyIHVucGFja1NraXBJbWFnZXM9X2dsLmdldFBhcmFtZXRlcigzMjg3Nyk7dmFyIGltYWdlPXNyY1RleHR1cmUuaXNDb21wcmVzc2VkVGV4dHVyZT9zcmNUZXh0dXJlLm1pcG1hcHNbMF06c3JjVGV4dHVyZS5pbWFnZTtfZ2wucGl4ZWxTdG9yZWkoMzMxNCxpbWFnZS53aWR0aCk7X2dsLnBpeGVsU3RvcmVpKDMyODc4LGltYWdlLmhlaWdodCk7X2dsLnBpeGVsU3RvcmVpKDMzMTYsc291cmNlQm94Lm1pbi54KTtfZ2wucGl4ZWxTdG9yZWkoMzMxNSxzb3VyY2VCb3gubWluLnkpO19nbC5waXhlbFN0b3JlaSgzMjg3Nyxzb3VyY2VCb3gubWluLnopO2lmKHNyY1RleHR1cmUuaXNEYXRhVGV4dHVyZXx8c3JjVGV4dHVyZS5pc0RhdGFUZXh0dXJlM0Qpe19nbC50ZXhTdWJJbWFnZTNEKGdsVGFyZ2V0LGxldmVsLHBvc2l0aW9uLngscG9zaXRpb24ueSxwb3NpdGlvbi56LHdpZHRoLGhlaWdodCxkZXB0aCxnbEZvcm1hdCxnbFR5cGUsaW1hZ2UuZGF0YSk7fWVsc2V7aWYoc3JjVGV4dHVyZS5pc0NvbXByZXNzZWRUZXh0dXJlKXtjb25zb2xlLndhcm4oJ1RIUkVFLldlYkdMUmVuZGVyZXIuY29weVRleHR1cmVUb1RleHR1cmUzRDogdW50ZXN0ZWQgc3VwcG9ydCBmb3IgY29tcHJlc3NlZCBzcmNUZXh0dXJlLicpO19nbC5jb21wcmVzc2VkVGV4U3ViSW1hZ2UzRChnbFRhcmdldCxsZXZlbCxwb3NpdGlvbi54LHBvc2l0aW9uLnkscG9zaXRpb24ueix3aWR0aCxoZWlnaHQsZGVwdGgsZ2xGb3JtYXQsaW1hZ2UuZGF0YSk7fWVsc2V7X2dsLnRleFN1YkltYWdlM0QoZ2xUYXJnZXQsbGV2ZWwscG9zaXRpb24ueCxwb3NpdGlvbi55LHBvc2l0aW9uLnosd2lkdGgsaGVpZ2h0LGRlcHRoLGdsRm9ybWF0LGdsVHlwZSxpbWFnZSk7fX1fZ2wucGl4ZWxTdG9yZWkoMzMxNCx1bnBhY2tSb3dMZW4pO19nbC5waXhlbFN0b3JlaSgzMjg3OCx1bnBhY2tJbWFnZUhlaWdodCk7X2dsLnBpeGVsU3RvcmVpKDMzMTYsdW5wYWNrU2tpcFBpeGVscyk7X2dsLnBpeGVsU3RvcmVpKDMzMTUsdW5wYWNrU2tpcFJvd3MpO19nbC5waXhlbFN0b3JlaSgzMjg3Nyx1bnBhY2tTa2lwSW1hZ2VzKTsvLyBHZW5lcmF0ZSBtaXBtYXBzIG9ubHkgd2hlbiBjb3B5aW5nIGxldmVsIDAKaWYobGV2ZWw9PT0wJiZkc3RUZXh0dXJlLmdlbmVyYXRlTWlwbWFwcylfZ2wuZ2VuZXJhdGVNaXBtYXAoZ2xUYXJnZXQpO3N0YXRlLnVuYmluZFRleHR1cmUoKTt9O3RoaXMuaW5pdFRleHR1cmU9ZnVuY3Rpb24odGV4dHVyZSl7dGV4dHVyZXMuc2V0VGV4dHVyZTJEKHRleHR1cmUsMCk7c3RhdGUudW5iaW5kVGV4dHVyZSgpO307dGhpcy5yZXNldFN0YXRlPWZ1bmN0aW9uKCl7X2N1cnJlbnRBY3RpdmVDdWJlRmFjZT0wO19jdXJyZW50QWN0aXZlTWlwbWFwTGV2ZWw9MDtfY3VycmVudFJlbmRlclRhcmdldD1udWxsO3N0YXRlLnJlc2V0KCk7YmluZGluZ1N0YXRlcy5yZXNldCgpO307aWYodHlwZW9mIF9fVEhSRUVfREVWVE9PTFNfXyE9PSd1bmRlZmluZWQnKXtfX1RIUkVFX0RFVlRPT0xTX18uZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ29ic2VydmUnLHtkZXRhaWw6dGhpc30pKTt9fVdlYkdMUmVuZGVyZXIucHJvdG90eXBlLmlzV2ViR0xSZW5kZXJlcj10cnVlO3ZhciBXZWJHTDFSZW5kZXJlcj0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX1dlYkdMUmVuZGVyZXIpe19pbmhlcml0cyhXZWJHTDFSZW5kZXJlcixfV2ViR0xSZW5kZXJlcik7dmFyIF9zdXBlcjM4PV9jcmVhdGVTdXBlcihXZWJHTDFSZW5kZXJlcik7ZnVuY3Rpb24gV2ViR0wxUmVuZGVyZXIoKXtfY2xhc3NDYWxsQ2hlY2sodGhpcyxXZWJHTDFSZW5kZXJlcik7cmV0dXJuIF9zdXBlcjM4LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIF9jcmVhdGVDbGFzcyhXZWJHTDFSZW5kZXJlcik7fShXZWJHTFJlbmRlcmVyKTtXZWJHTDFSZW5kZXJlci5wcm90b3R5cGUuaXNXZWJHTDFSZW5kZXJlcj10cnVlO3ZhciBGb2dFeHAyPS8qI19fUFVSRV9fKi9mdW5jdGlvbigpe2Z1bmN0aW9uIEZvZ0V4cDIoY29sb3Ipe3ZhciBkZW5zaXR5PWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1sxXTowLjAwMDI1O19jbGFzc0NhbGxDaGVjayh0aGlzLEZvZ0V4cDIpO3RoaXMubmFtZT0nJzt0aGlzLmNvbG9yPW5ldyBDb2xvcihjb2xvcik7dGhpcy5kZW5zaXR5PWRlbnNpdHk7fV9jcmVhdGVDbGFzcyhGb2dFeHAyLFt7a2V5OiJjbG9uZSIsdmFsdWU6ZnVuY3Rpb24gY2xvbmUoKXtyZXR1cm4gbmV3IEZvZ0V4cDIodGhpcy5jb2xvcix0aGlzLmRlbnNpdHkpO319LHtrZXk6InRvSlNPTiIsdmFsdWU6ZnVuY3Rpb24gdG9KU09OKC8qIG1ldGEgKi8pe3JldHVybnt0eXBlOidGb2dFeHAyJyxjb2xvcjp0aGlzLmNvbG9yLmdldEhleCgpLGRlbnNpdHk6dGhpcy5kZW5zaXR5fTt9fV0pO3JldHVybiBGb2dFeHAyO30oKTtGb2dFeHAyLnByb3RvdHlwZS5pc0ZvZ0V4cDI9dHJ1ZTt2YXIgRm9nPS8qI19fUFVSRV9fKi9mdW5jdGlvbigpe2Z1bmN0aW9uIEZvZyhjb2xvcil7dmFyIG5lYXI9YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzFdOjE7dmFyIGZhcj1hcmd1bWVudHMubGVuZ3RoPjImJmFyZ3VtZW50c1syXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMl06MTAwMDtfY2xhc3NDYWxsQ2hlY2sodGhpcyxGb2cpO3RoaXMubmFtZT0nJzt0aGlzLmNvbG9yPW5ldyBDb2xvcihjb2xvcik7dGhpcy5uZWFyPW5lYXI7dGhpcy5mYXI9ZmFyO31fY3JlYXRlQ2xhc3MoRm9nLFt7a2V5OiJjbG9uZSIsdmFsdWU6ZnVuY3Rpb24gY2xvbmUoKXtyZXR1cm4gbmV3IEZvZyh0aGlzLmNvbG9yLHRoaXMubmVhcix0aGlzLmZhcik7fX0se2tleToidG9KU09OIix2YWx1ZTpmdW5jdGlvbiB0b0pTT04oLyogbWV0YSAqLyl7cmV0dXJue3R5cGU6J0ZvZycsY29sb3I6dGhpcy5jb2xvci5nZXRIZXgoKSxuZWFyOnRoaXMubmVhcixmYXI6dGhpcy5mYXJ9O319XSk7cmV0dXJuIEZvZzt9KCk7Rm9nLnByb3RvdHlwZS5pc0ZvZz10cnVlO3ZhciBTY2VuZT0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX09iamVjdDNENSl7X2luaGVyaXRzKFNjZW5lLF9PYmplY3QzRDUpO3ZhciBfc3VwZXIzOT1fY3JlYXRlU3VwZXIoU2NlbmUpO2Z1bmN0aW9uIFNjZW5lKCl7dmFyIF90aGlzMjk7X2NsYXNzQ2FsbENoZWNrKHRoaXMsU2NlbmUpO190aGlzMjk9X3N1cGVyMzkuY2FsbCh0aGlzKTtfdGhpczI5LnR5cGU9J1NjZW5lJztfdGhpczI5LmJhY2tncm91bmQ9bnVsbDtfdGhpczI5LmVudmlyb25tZW50PW51bGw7X3RoaXMyOS5mb2c9bnVsbDtfdGhpczI5Lm92ZXJyaWRlTWF0ZXJpYWw9bnVsbDtfdGhpczI5LmF1dG9VcGRhdGU9dHJ1ZTsvLyBjaGVja2VkIGJ5IHRoZSByZW5kZXJlcgppZih0eXBlb2YgX19USFJFRV9ERVZUT09MU19fIT09J3VuZGVmaW5lZCcpe19fVEhSRUVfREVWVE9PTFNfXy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnb2JzZXJ2ZScse2RldGFpbDpfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzMjkpfSkpO31yZXR1cm4gX3RoaXMyOTt9X2NyZWF0ZUNsYXNzKFNjZW5lLFt7a2V5OiJjb3B5Iix2YWx1ZTpmdW5jdGlvbiBjb3B5KHNvdXJjZSxyZWN1cnNpdmUpe19nZXQoX2dldFByb3RvdHlwZU9mKFNjZW5lLnByb3RvdHlwZSksImNvcHkiLHRoaXMpLmNhbGwodGhpcyxzb3VyY2UscmVjdXJzaXZlKTtpZihzb3VyY2UuYmFja2dyb3VuZCE9PW51bGwpdGhpcy5iYWNrZ3JvdW5kPXNvdXJjZS5iYWNrZ3JvdW5kLmNsb25lKCk7aWYoc291cmNlLmVudmlyb25tZW50IT09bnVsbCl0aGlzLmVudmlyb25tZW50PXNvdXJjZS5lbnZpcm9ubWVudC5jbG9uZSgpO2lmKHNvdXJjZS5mb2chPT1udWxsKXRoaXMuZm9nPXNvdXJjZS5mb2cuY2xvbmUoKTtpZihzb3VyY2Uub3ZlcnJpZGVNYXRlcmlhbCE9PW51bGwpdGhpcy5vdmVycmlkZU1hdGVyaWFsPXNvdXJjZS5vdmVycmlkZU1hdGVyaWFsLmNsb25lKCk7dGhpcy5hdXRvVXBkYXRlPXNvdXJjZS5hdXRvVXBkYXRlO3RoaXMubWF0cml4QXV0b1VwZGF0ZT1zb3VyY2UubWF0cml4QXV0b1VwZGF0ZTtyZXR1cm4gdGhpczt9fSx7a2V5OiJ0b0pTT04iLHZhbHVlOmZ1bmN0aW9uIHRvSlNPTihtZXRhKXt2YXIgZGF0YT1fZ2V0KF9nZXRQcm90b3R5cGVPZihTY2VuZS5wcm90b3R5cGUpLCJ0b0pTT04iLHRoaXMpLmNhbGwodGhpcyxtZXRhKTtpZih0aGlzLmZvZyE9PW51bGwpZGF0YS5vYmplY3QuZm9nPXRoaXMuZm9nLnRvSlNPTigpO3JldHVybiBkYXRhO319XSk7cmV0dXJuIFNjZW5lO30oT2JqZWN0M0QpO1NjZW5lLnByb3RvdHlwZS5pc1NjZW5lPXRydWU7dmFyIEludGVybGVhdmVkQnVmZmVyPS8qI19fUFVSRV9fKi9mdW5jdGlvbigpe2Z1bmN0aW9uIEludGVybGVhdmVkQnVmZmVyKGFycmF5LHN0cmlkZSl7X2NsYXNzQ2FsbENoZWNrKHRoaXMsSW50ZXJsZWF2ZWRCdWZmZXIpO3RoaXMuYXJyYXk9YXJyYXk7dGhpcy5zdHJpZGU9c3RyaWRlO3RoaXMuY291bnQ9YXJyYXkhPT11bmRlZmluZWQ/YXJyYXkubGVuZ3RoL3N0cmlkZTowO3RoaXMudXNhZ2U9U3RhdGljRHJhd1VzYWdlO3RoaXMudXBkYXRlUmFuZ2U9e29mZnNldDowLGNvdW50Oi0xfTt0aGlzLnZlcnNpb249MDt0aGlzLnV1aWQ9Z2VuZXJhdGVVVUlEKCk7fV9jcmVhdGVDbGFzcyhJbnRlcmxlYXZlZEJ1ZmZlcixbe2tleToib25VcGxvYWRDYWxsYmFjayIsdmFsdWU6ZnVuY3Rpb24gb25VcGxvYWRDYWxsYmFjaygpe319LHtrZXk6Im5lZWRzVXBkYXRlIixzZXQ6ZnVuY3Rpb24gc2V0KHZhbHVlKXtpZih2YWx1ZT09PXRydWUpdGhpcy52ZXJzaW9uKys7fX0se2tleToic2V0VXNhZ2UiLHZhbHVlOmZ1bmN0aW9uIHNldFVzYWdlKHZhbHVlKXt0aGlzLnVzYWdlPXZhbHVlO3JldHVybiB0aGlzO319LHtrZXk6ImNvcHkiLHZhbHVlOmZ1bmN0aW9uIGNvcHkoc291cmNlKXt0aGlzLmFycmF5PW5ldyBzb3VyY2UuYXJyYXkuY29uc3RydWN0b3Ioc291cmNlLmFycmF5KTt0aGlzLmNvdW50PXNvdXJjZS5jb3VudDt0aGlzLnN0cmlkZT1zb3VyY2Uuc3RyaWRlO3RoaXMudXNhZ2U9c291cmNlLnVzYWdlO3JldHVybiB0aGlzO319LHtrZXk6ImNvcHlBdCIsdmFsdWU6ZnVuY3Rpb24gY29weUF0KGluZGV4MSxhdHRyaWJ1dGUsaW5kZXgyKXtpbmRleDEqPXRoaXMuc3RyaWRlO2luZGV4Mio9YXR0cmlidXRlLnN0cmlkZTtmb3IodmFyIF9pMTUyPTAsbD10aGlzLnN0cmlkZTtfaTE1MjxsO19pMTUyKyspe3RoaXMuYXJyYXlbaW5kZXgxK19pMTUyXT1hdHRyaWJ1dGUuYXJyYXlbaW5kZXgyK19pMTUyXTt9cmV0dXJuIHRoaXM7fX0se2tleToic2V0Iix2YWx1ZTpmdW5jdGlvbiBzZXQodmFsdWUpe3ZhciBvZmZzZXQ9YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzFdOjA7dGhpcy5hcnJheS5zZXQodmFsdWUsb2Zmc2V0KTtyZXR1cm4gdGhpczt9fSx7a2V5OiJjbG9uZSIsdmFsdWU6ZnVuY3Rpb24gY2xvbmUoZGF0YSl7aWYoZGF0YS5hcnJheUJ1ZmZlcnM9PT11bmRlZmluZWQpe2RhdGEuYXJyYXlCdWZmZXJzPXt9O31pZih0aGlzLmFycmF5LmJ1ZmZlci5fdXVpZD09PXVuZGVmaW5lZCl7dGhpcy5hcnJheS5idWZmZXIuX3V1aWQ9Z2VuZXJhdGVVVUlEKCk7fWlmKGRhdGEuYXJyYXlCdWZmZXJzW3RoaXMuYXJyYXkuYnVmZmVyLl91dWlkXT09PXVuZGVmaW5lZCl7ZGF0YS5hcnJheUJ1ZmZlcnNbdGhpcy5hcnJheS5idWZmZXIuX3V1aWRdPXRoaXMuYXJyYXkuc2xpY2UoMCkuYnVmZmVyO312YXIgYXJyYXk9bmV3IHRoaXMuYXJyYXkuY29uc3RydWN0b3IoZGF0YS5hcnJheUJ1ZmZlcnNbdGhpcy5hcnJheS5idWZmZXIuX3V1aWRdKTt2YXIgaWI9bmV3IHRoaXMuY29uc3RydWN0b3IoYXJyYXksdGhpcy5zdHJpZGUpO2liLnNldFVzYWdlKHRoaXMudXNhZ2UpO3JldHVybiBpYjt9fSx7a2V5OiJvblVwbG9hZCIsdmFsdWU6ZnVuY3Rpb24gb25VcGxvYWQoY2FsbGJhY2spe3RoaXMub25VcGxvYWRDYWxsYmFjaz1jYWxsYmFjaztyZXR1cm4gdGhpczt9fSx7a2V5OiJ0b0pTT04iLHZhbHVlOmZ1bmN0aW9uIHRvSlNPTihkYXRhKXtpZihkYXRhLmFycmF5QnVmZmVycz09PXVuZGVmaW5lZCl7ZGF0YS5hcnJheUJ1ZmZlcnM9e307fS8vIGdlbmVyYXRlIFVVSUQgZm9yIGFycmF5IGJ1ZmZlciBpZiBuZWNlc3NhcnkKaWYodGhpcy5hcnJheS5idWZmZXIuX3V1aWQ9PT11bmRlZmluZWQpe3RoaXMuYXJyYXkuYnVmZmVyLl91dWlkPWdlbmVyYXRlVVVJRCgpO31pZihkYXRhLmFycmF5QnVmZmVyc1t0aGlzLmFycmF5LmJ1ZmZlci5fdXVpZF09PT11bmRlZmluZWQpe2RhdGEuYXJyYXlCdWZmZXJzW3RoaXMuYXJyYXkuYnVmZmVyLl91dWlkXT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChuZXcgVWludDMyQXJyYXkodGhpcy5hcnJheS5idWZmZXIpKTt9Ly8KcmV0dXJue3V1aWQ6dGhpcy51dWlkLGJ1ZmZlcjp0aGlzLmFycmF5LmJ1ZmZlci5fdXVpZCx0eXBlOnRoaXMuYXJyYXkuY29uc3RydWN0b3IubmFtZSxzdHJpZGU6dGhpcy5zdHJpZGV9O319XSk7cmV0dXJuIEludGVybGVhdmVkQnVmZmVyO30oKTtJbnRlcmxlYXZlZEJ1ZmZlci5wcm90b3R5cGUuaXNJbnRlcmxlYXZlZEJ1ZmZlcj10cnVlO3ZhciBfdmVjdG9yJDY9LypAX19QVVJFX18qL25ldyBWZWN0b3IzKCk7dmFyIEludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlPS8qI19fUFVSRV9fKi9mdW5jdGlvbigpe2Z1bmN0aW9uIEludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlKGludGVybGVhdmVkQnVmZmVyLGl0ZW1TaXplLG9mZnNldCl7dmFyIG5vcm1hbGl6ZWQ9YXJndW1lbnRzLmxlbmd0aD4zJiZhcmd1bWVudHNbM10hPT11bmRlZmluZWQ/YXJndW1lbnRzWzNdOmZhbHNlO19jbGFzc0NhbGxDaGVjayh0aGlzLEludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlKTt0aGlzLm5hbWU9Jyc7dGhpcy5kYXRhPWludGVybGVhdmVkQnVmZmVyO3RoaXMuaXRlbVNpemU9aXRlbVNpemU7dGhpcy5vZmZzZXQ9b2Zmc2V0O3RoaXMubm9ybWFsaXplZD1ub3JtYWxpemVkPT09dHJ1ZTt9X2NyZWF0ZUNsYXNzKEludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlLFt7a2V5OiJjb3VudCIsZ2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiB0aGlzLmRhdGEuY291bnQ7fX0se2tleToiYXJyYXkiLGdldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5kYXRhLmFycmF5O319LHtrZXk6Im5lZWRzVXBkYXRlIixzZXQ6ZnVuY3Rpb24gc2V0KHZhbHVlKXt0aGlzLmRhdGEubmVlZHNVcGRhdGU9dmFsdWU7fX0se2tleToiYXBwbHlNYXRyaXg0Iix2YWx1ZTpmdW5jdGlvbiBhcHBseU1hdHJpeDQobSl7Zm9yKHZhciBfaTE1Mz0wLGw9dGhpcy5kYXRhLmNvdW50O19pMTUzPGw7X2kxNTMrKyl7X3ZlY3RvciQ2Lng9dGhpcy5nZXRYKF9pMTUzKTtfdmVjdG9yJDYueT10aGlzLmdldFkoX2kxNTMpO192ZWN0b3IkNi56PXRoaXMuZ2V0WihfaTE1Myk7X3ZlY3RvciQ2LmFwcGx5TWF0cml4NChtKTt0aGlzLnNldFhZWihfaTE1MyxfdmVjdG9yJDYueCxfdmVjdG9yJDYueSxfdmVjdG9yJDYueik7fXJldHVybiB0aGlzO319LHtrZXk6ImFwcGx5Tm9ybWFsTWF0cml4Iix2YWx1ZTpmdW5jdGlvbiBhcHBseU5vcm1hbE1hdHJpeChtKXtmb3IodmFyIF9pMTU0PTAsbD10aGlzLmNvdW50O19pMTU0PGw7X2kxNTQrKyl7X3ZlY3RvciQ2Lng9dGhpcy5nZXRYKF9pMTU0KTtfdmVjdG9yJDYueT10aGlzLmdldFkoX2kxNTQpO192ZWN0b3IkNi56PXRoaXMuZ2V0WihfaTE1NCk7X3ZlY3RvciQ2LmFwcGx5Tm9ybWFsTWF0cml4KG0pO3RoaXMuc2V0WFlaKF9pMTU0LF92ZWN0b3IkNi54LF92ZWN0b3IkNi55LF92ZWN0b3IkNi56KTt9cmV0dXJuIHRoaXM7fX0se2tleToidHJhbnNmb3JtRGlyZWN0aW9uIix2YWx1ZTpmdW5jdGlvbiB0cmFuc2Zvcm1EaXJlY3Rpb24obSl7Zm9yKHZhciBfaTE1NT0wLGw9dGhpcy5jb3VudDtfaTE1NTxsO19pMTU1Kyspe192ZWN0b3IkNi54PXRoaXMuZ2V0WChfaTE1NSk7X3ZlY3RvciQ2Lnk9dGhpcy5nZXRZKF9pMTU1KTtfdmVjdG9yJDYuej10aGlzLmdldFooX2kxNTUpO192ZWN0b3IkNi50cmFuc2Zvcm1EaXJlY3Rpb24obSk7dGhpcy5zZXRYWVooX2kxNTUsX3ZlY3RvciQ2LngsX3ZlY3RvciQ2LnksX3ZlY3RvciQ2LnopO31yZXR1cm4gdGhpczt9fSx7a2V5OiJzZXRYIix2YWx1ZTpmdW5jdGlvbiBzZXRYKGluZGV4LHgpe3RoaXMuZGF0YS5hcnJheVtpbmRleCp0aGlzLmRhdGEuc3RyaWRlK3RoaXMub2Zmc2V0XT14O3JldHVybiB0aGlzO319LHtrZXk6InNldFkiLHZhbHVlOmZ1bmN0aW9uIHNldFkoaW5kZXgseSl7dGhpcy5kYXRhLmFycmF5W2luZGV4KnRoaXMuZGF0YS5zdHJpZGUrdGhpcy5vZmZzZXQrMV09eTtyZXR1cm4gdGhpczt9fSx7a2V5OiJzZXRaIix2YWx1ZTpmdW5jdGlvbiBzZXRaKGluZGV4LHope3RoaXMuZGF0YS5hcnJheVtpbmRleCp0aGlzLmRhdGEuc3RyaWRlK3RoaXMub2Zmc2V0KzJdPXo7cmV0dXJuIHRoaXM7fX0se2tleToic2V0VyIsdmFsdWU6ZnVuY3Rpb24gc2V0VyhpbmRleCx3KXt0aGlzLmRhdGEuYXJyYXlbaW5kZXgqdGhpcy5kYXRhLnN0cmlkZSt0aGlzLm9mZnNldCszXT13O3JldHVybiB0aGlzO319LHtrZXk6ImdldFgiLHZhbHVlOmZ1bmN0aW9uIGdldFgoaW5kZXgpe3JldHVybiB0aGlzLmRhdGEuYXJyYXlbaW5kZXgqdGhpcy5kYXRhLnN0cmlkZSt0aGlzLm9mZnNldF07fX0se2tleToiZ2V0WSIsdmFsdWU6ZnVuY3Rpb24gZ2V0WShpbmRleCl7cmV0dXJuIHRoaXMuZGF0YS5hcnJheVtpbmRleCp0aGlzLmRhdGEuc3RyaWRlK3RoaXMub2Zmc2V0KzFdO319LHtrZXk6ImdldFoiLHZhbHVlOmZ1bmN0aW9uIGdldFooaW5kZXgpe3JldHVybiB0aGlzLmRhdGEuYXJyYXlbaW5kZXgqdGhpcy5kYXRhLnN0cmlkZSt0aGlzLm9mZnNldCsyXTt9fSx7a2V5OiJnZXRXIix2YWx1ZTpmdW5jdGlvbiBnZXRXKGluZGV4KXtyZXR1cm4gdGhpcy5kYXRhLmFycmF5W2luZGV4KnRoaXMuZGF0YS5zdHJpZGUrdGhpcy5vZmZzZXQrM107fX0se2tleToic2V0WFkiLHZhbHVlOmZ1bmN0aW9uIHNldFhZKGluZGV4LHgseSl7aW5kZXg9aW5kZXgqdGhpcy5kYXRhLnN0cmlkZSt0aGlzLm9mZnNldDt0aGlzLmRhdGEuYXJyYXlbaW5kZXgrMF09eDt0aGlzLmRhdGEuYXJyYXlbaW5kZXgrMV09eTtyZXR1cm4gdGhpczt9fSx7a2V5OiJzZXRYWVoiLHZhbHVlOmZ1bmN0aW9uIHNldFhZWihpbmRleCx4LHkseil7aW5kZXg9aW5kZXgqdGhpcy5kYXRhLnN0cmlkZSt0aGlzLm9mZnNldDt0aGlzLmRhdGEuYXJyYXlbaW5kZXgrMF09eDt0aGlzLmRhdGEuYXJyYXlbaW5kZXgrMV09eTt0aGlzLmRhdGEuYXJyYXlbaW5kZXgrMl09ejtyZXR1cm4gdGhpczt9fSx7a2V5OiJzZXRYWVpXIix2YWx1ZTpmdW5jdGlvbiBzZXRYWVpXKGluZGV4LHgseSx6LHcpe2luZGV4PWluZGV4KnRoaXMuZGF0YS5zdHJpZGUrdGhpcy5vZmZzZXQ7dGhpcy5kYXRhLmFycmF5W2luZGV4KzBdPXg7dGhpcy5kYXRhLmFycmF5W2luZGV4KzFdPXk7dGhpcy5kYXRhLmFycmF5W2luZGV4KzJdPXo7dGhpcy5kYXRhLmFycmF5W2luZGV4KzNdPXc7cmV0dXJuIHRoaXM7fX0se2tleToiY2xvbmUiLHZhbHVlOmZ1bmN0aW9uIGNsb25lKGRhdGEpe2lmKGRhdGE9PT11bmRlZmluZWQpe2NvbnNvbGUubG9nKCdUSFJFRS5JbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZS5jbG9uZSgpOiBDbG9uaW5nIGFuIGludGVybGF2ZWQgYnVmZmVyIGF0dHJpYnV0ZSB3aWxsIGRlaW50ZXJsZWF2ZSBidWZmZXIgZGF0YS4nKTt2YXIgYXJyYXk9W107Zm9yKHZhciBfaTE1Nj0wO19pMTU2PHRoaXMuY291bnQ7X2kxNTYrKyl7dmFyIGluZGV4PV9pMTU2KnRoaXMuZGF0YS5zdHJpZGUrdGhpcy5vZmZzZXQ7Zm9yKHZhciBqPTA7ajx0aGlzLml0ZW1TaXplO2orKyl7YXJyYXkucHVzaCh0aGlzLmRhdGEuYXJyYXlbaW5kZXgral0pO319cmV0dXJuIG5ldyBCdWZmZXJBdHRyaWJ1dGUobmV3IHRoaXMuYXJyYXkuY29uc3RydWN0b3IoYXJyYXkpLHRoaXMuaXRlbVNpemUsdGhpcy5ub3JtYWxpemVkKTt9ZWxzZXtpZihkYXRhLmludGVybGVhdmVkQnVmZmVycz09PXVuZGVmaW5lZCl7ZGF0YS5pbnRlcmxlYXZlZEJ1ZmZlcnM9e307fWlmKGRhdGEuaW50ZXJsZWF2ZWRCdWZmZXJzW3RoaXMuZGF0YS51dWlkXT09PXVuZGVmaW5lZCl7ZGF0YS5pbnRlcmxlYXZlZEJ1ZmZlcnNbdGhpcy5kYXRhLnV1aWRdPXRoaXMuZGF0YS5jbG9uZShkYXRhKTt9cmV0dXJuIG5ldyBJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZShkYXRhLmludGVybGVhdmVkQnVmZmVyc1t0aGlzLmRhdGEudXVpZF0sdGhpcy5pdGVtU2l6ZSx0aGlzLm9mZnNldCx0aGlzLm5vcm1hbGl6ZWQpO319fSx7a2V5OiJ0b0pTT04iLHZhbHVlOmZ1bmN0aW9uIHRvSlNPTihkYXRhKXtpZihkYXRhPT09dW5kZWZpbmVkKXtjb25zb2xlLmxvZygnVEhSRUUuSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGUudG9KU09OKCk6IFNlcmlhbGl6aW5nIGFuIGludGVybGF2ZWQgYnVmZmVyIGF0dHJpYnV0ZSB3aWxsIGRlaW50ZXJsZWF2ZSBidWZmZXIgZGF0YS4nKTt2YXIgYXJyYXk9W107Zm9yKHZhciBfaTE1Nz0wO19pMTU3PHRoaXMuY291bnQ7X2kxNTcrKyl7dmFyIGluZGV4PV9pMTU3KnRoaXMuZGF0YS5zdHJpZGUrdGhpcy5vZmZzZXQ7Zm9yKHZhciBqPTA7ajx0aGlzLml0ZW1TaXplO2orKyl7YXJyYXkucHVzaCh0aGlzLmRhdGEuYXJyYXlbaW5kZXgral0pO319Ly8gZGVpbnRlcmxlYXZlIGRhdGEgYW5kIHNhdmUgaXQgYXMgYW4gb3JkaW5hcnkgYnVmZmVyIGF0dHJpYnV0ZSBmb3Igbm93CnJldHVybntpdGVtU2l6ZTp0aGlzLml0ZW1TaXplLHR5cGU6dGhpcy5hcnJheS5jb25zdHJ1Y3Rvci5uYW1lLGFycmF5OmFycmF5LG5vcm1hbGl6ZWQ6dGhpcy5ub3JtYWxpemVkfTt9ZWxzZXsvLyBzYXZlIGFzIHRydWUgaW50ZXJsYXZlZCBhdHRyaWJ0dWUKaWYoZGF0YS5pbnRlcmxlYXZlZEJ1ZmZlcnM9PT11bmRlZmluZWQpe2RhdGEuaW50ZXJsZWF2ZWRCdWZmZXJzPXt9O31pZihkYXRhLmludGVybGVhdmVkQnVmZmVyc1t0aGlzLmRhdGEudXVpZF09PT11bmRlZmluZWQpe2RhdGEuaW50ZXJsZWF2ZWRCdWZmZXJzW3RoaXMuZGF0YS51dWlkXT10aGlzLmRhdGEudG9KU09OKGRhdGEpO31yZXR1cm57aXNJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZTp0cnVlLGl0ZW1TaXplOnRoaXMuaXRlbVNpemUsZGF0YTp0aGlzLmRhdGEudXVpZCxvZmZzZXQ6dGhpcy5vZmZzZXQsbm9ybWFsaXplZDp0aGlzLm5vcm1hbGl6ZWR9O319fV0pO3JldHVybiBJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZTt9KCk7SW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGUucHJvdG90eXBlLmlzSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGU9dHJ1ZTsvKioKICogcGFyYW1ldGVycyA9IHsKICogIGNvbG9yOiA8aGV4PiwKICogIG1hcDogbmV3IFRIUkVFLlRleHR1cmUoIDxJbWFnZT4gKSwKICogIGFscGhhTWFwOiBuZXcgVEhSRUUuVGV4dHVyZSggPEltYWdlPiApLAogKiAgcm90YXRpb246IDxmbG9hdD4sCiAqICBzaXplQXR0ZW51YXRpb246IDxib29sPgogKiB9CiAqL3ZhciBTcHJpdGVNYXRlcmlhbD0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX01hdGVyaWFsNSl7X2luaGVyaXRzKFNwcml0ZU1hdGVyaWFsLF9NYXRlcmlhbDUpO3ZhciBfc3VwZXI0MD1fY3JlYXRlU3VwZXIoU3ByaXRlTWF0ZXJpYWwpO2Z1bmN0aW9uIFNwcml0ZU1hdGVyaWFsKHBhcmFtZXRlcnMpe3ZhciBfdGhpczMwO19jbGFzc0NhbGxDaGVjayh0aGlzLFNwcml0ZU1hdGVyaWFsKTtfdGhpczMwPV9zdXBlcjQwLmNhbGwodGhpcyk7X3RoaXMzMC50eXBlPSdTcHJpdGVNYXRlcmlhbCc7X3RoaXMzMC5jb2xvcj1uZXcgQ29sb3IoMHhmZmZmZmYpO190aGlzMzAubWFwPW51bGw7X3RoaXMzMC5hbHBoYU1hcD1udWxsO190aGlzMzAucm90YXRpb249MDtfdGhpczMwLnNpemVBdHRlbnVhdGlvbj10cnVlO190aGlzMzAudHJhbnNwYXJlbnQ9dHJ1ZTtfdGhpczMwLnNldFZhbHVlcyhwYXJhbWV0ZXJzKTtyZXR1cm4gX3RoaXMzMDt9X2NyZWF0ZUNsYXNzKFNwcml0ZU1hdGVyaWFsLFt7a2V5OiJjb3B5Iix2YWx1ZTpmdW5jdGlvbiBjb3B5KHNvdXJjZSl7X2dldChfZ2V0UHJvdG90eXBlT2YoU3ByaXRlTWF0ZXJpYWwucHJvdG90eXBlKSwiY29weSIsdGhpcykuY2FsbCh0aGlzLHNvdXJjZSk7dGhpcy5jb2xvci5jb3B5KHNvdXJjZS5jb2xvcik7dGhpcy5tYXA9c291cmNlLm1hcDt0aGlzLmFscGhhTWFwPXNvdXJjZS5hbHBoYU1hcDt0aGlzLnJvdGF0aW9uPXNvdXJjZS5yb3RhdGlvbjt0aGlzLnNpemVBdHRlbnVhdGlvbj1zb3VyY2Uuc2l6ZUF0dGVudWF0aW9uO3JldHVybiB0aGlzO319XSk7cmV0dXJuIFNwcml0ZU1hdGVyaWFsO30oTWF0ZXJpYWwpO1Nwcml0ZU1hdGVyaWFsLnByb3RvdHlwZS5pc1Nwcml0ZU1hdGVyaWFsPXRydWU7dmFyIF9nZW9tZXRyeTt2YXIgX2ludGVyc2VjdFBvaW50PS8qQF9fUFVSRV9fKi9uZXcgVmVjdG9yMygpO3ZhciBfd29ybGRTY2FsZT0vKkBfX1BVUkVfXyovbmV3IFZlY3RvcjMoKTt2YXIgX212UG9zaXRpb249LypAX19QVVJFX18qL25ldyBWZWN0b3IzKCk7dmFyIF9hbGlnbmVkUG9zaXRpb249LypAX19QVVJFX18qL25ldyBWZWN0b3IyKCk7dmFyIF9yb3RhdGVkUG9zaXRpb249LypAX19QVVJFX18qL25ldyBWZWN0b3IyKCk7dmFyIF92aWV3V29ybGRNYXRyaXg9LypAX19QVVJFX18qL25ldyBNYXRyaXg0KCk7dmFyIF92QT0vKkBfX1BVUkVfXyovbmV3IFZlY3RvcjMoKTt2YXIgX3ZCPS8qQF9fUFVSRV9fKi9uZXcgVmVjdG9yMygpO3ZhciBfdkM9LypAX19QVVJFX18qL25ldyBWZWN0b3IzKCk7dmFyIF91dkE9LypAX19QVVJFX18qL25ldyBWZWN0b3IyKCk7dmFyIF91dkI9LypAX19QVVJFX18qL25ldyBWZWN0b3IyKCk7dmFyIF91dkM9LypAX19QVVJFX18qL25ldyBWZWN0b3IyKCk7dmFyIFNwcml0ZT0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX09iamVjdDNENil7X2luaGVyaXRzKFNwcml0ZSxfT2JqZWN0M0Q2KTt2YXIgX3N1cGVyNDE9X2NyZWF0ZVN1cGVyKFNwcml0ZSk7ZnVuY3Rpb24gU3ByaXRlKG1hdGVyaWFsKXt2YXIgX3RoaXMzMTtfY2xhc3NDYWxsQ2hlY2sodGhpcyxTcHJpdGUpO190aGlzMzE9X3N1cGVyNDEuY2FsbCh0aGlzKTtfdGhpczMxLnR5cGU9J1Nwcml0ZSc7aWYoX2dlb21ldHJ5PT09dW5kZWZpbmVkKXtfZ2VvbWV0cnk9bmV3IEJ1ZmZlckdlb21ldHJ5KCk7dmFyIGZsb2F0MzJBcnJheT1uZXcgRmxvYXQzMkFycmF5KFstMC41LC0wLjUsMCwwLDAsMC41LC0wLjUsMCwxLDAsMC41LDAuNSwwLDEsMSwtMC41LDAuNSwwLDAsMV0pO3ZhciBpbnRlcmxlYXZlZEJ1ZmZlcj1uZXcgSW50ZXJsZWF2ZWRCdWZmZXIoZmxvYXQzMkFycmF5LDUpO19nZW9tZXRyeS5zZXRJbmRleChbMCwxLDIsMCwyLDNdKTtfZ2VvbWV0cnkuc2V0QXR0cmlidXRlKCdwb3NpdGlvbicsbmV3IEludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlKGludGVybGVhdmVkQnVmZmVyLDMsMCxmYWxzZSkpO19nZW9tZXRyeS5zZXRBdHRyaWJ1dGUoJ3V2JyxuZXcgSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGUoaW50ZXJsZWF2ZWRCdWZmZXIsMiwzLGZhbHNlKSk7fV90aGlzMzEuZ2VvbWV0cnk9X2dlb21ldHJ5O190aGlzMzEubWF0ZXJpYWw9bWF0ZXJpYWwhPT11bmRlZmluZWQ/bWF0ZXJpYWw6bmV3IFNwcml0ZU1hdGVyaWFsKCk7X3RoaXMzMS5jZW50ZXI9bmV3IFZlY3RvcjIoMC41LDAuNSk7cmV0dXJuIF90aGlzMzE7fV9jcmVhdGVDbGFzcyhTcHJpdGUsW3trZXk6InJheWNhc3QiLHZhbHVlOmZ1bmN0aW9uIHJheWNhc3QocmF5Y2FzdGVyLGludGVyc2VjdHMpe2lmKHJheWNhc3Rlci5jYW1lcmE9PT1udWxsKXtjb25zb2xlLmVycm9yKCdUSFJFRS5TcHJpdGU6ICJSYXljYXN0ZXIuY2FtZXJhIiBuZWVkcyB0byBiZSBzZXQgaW4gb3JkZXIgdG8gcmF5Y2FzdCBhZ2FpbnN0IHNwcml0ZXMuJyk7fV93b3JsZFNjYWxlLnNldEZyb21NYXRyaXhTY2FsZSh0aGlzLm1hdHJpeFdvcmxkKTtfdmlld1dvcmxkTWF0cml4LmNvcHkocmF5Y2FzdGVyLmNhbWVyYS5tYXRyaXhXb3JsZCk7dGhpcy5tb2RlbFZpZXdNYXRyaXgubXVsdGlwbHlNYXRyaWNlcyhyYXljYXN0ZXIuY2FtZXJhLm1hdHJpeFdvcmxkSW52ZXJzZSx0aGlzLm1hdHJpeFdvcmxkKTtfbXZQb3NpdGlvbi5zZXRGcm9tTWF0cml4UG9zaXRpb24odGhpcy5tb2RlbFZpZXdNYXRyaXgpO2lmKHJheWNhc3Rlci5jYW1lcmEuaXNQZXJzcGVjdGl2ZUNhbWVyYSYmdGhpcy5tYXRlcmlhbC5zaXplQXR0ZW51YXRpb249PT1mYWxzZSl7X3dvcmxkU2NhbGUubXVsdGlwbHlTY2FsYXIoLV9tdlBvc2l0aW9uLnopO312YXIgcm90YXRpb249dGhpcy5tYXRlcmlhbC5yb3RhdGlvbjt2YXIgc2luLGNvcztpZihyb3RhdGlvbiE9PTApe2Nvcz1NYXRoLmNvcyhyb3RhdGlvbik7c2luPU1hdGguc2luKHJvdGF0aW9uKTt9dmFyIGNlbnRlcj10aGlzLmNlbnRlcjt0cmFuc2Zvcm1WZXJ0ZXgoX3ZBLnNldCgtMC41LC0wLjUsMCksX212UG9zaXRpb24sY2VudGVyLF93b3JsZFNjYWxlLHNpbixjb3MpO3RyYW5zZm9ybVZlcnRleChfdkIuc2V0KDAuNSwtMC41LDApLF9tdlBvc2l0aW9uLGNlbnRlcixfd29ybGRTY2FsZSxzaW4sY29zKTt0cmFuc2Zvcm1WZXJ0ZXgoX3ZDLnNldCgwLjUsMC41LDApLF9tdlBvc2l0aW9uLGNlbnRlcixfd29ybGRTY2FsZSxzaW4sY29zKTtfdXZBLnNldCgwLDApO191dkIuc2V0KDEsMCk7X3V2Qy5zZXQoMSwxKTsvLyBjaGVjayBmaXJzdCB0cmlhbmdsZQp2YXIgaW50ZXJzZWN0PXJheWNhc3Rlci5yYXkuaW50ZXJzZWN0VHJpYW5nbGUoX3ZBLF92QixfdkMsZmFsc2UsX2ludGVyc2VjdFBvaW50KTtpZihpbnRlcnNlY3Q9PT1udWxsKXsvLyBjaGVjayBzZWNvbmQgdHJpYW5nbGUKdHJhbnNmb3JtVmVydGV4KF92Qi5zZXQoLTAuNSwwLjUsMCksX212UG9zaXRpb24sY2VudGVyLF93b3JsZFNjYWxlLHNpbixjb3MpO191dkIuc2V0KDAsMSk7aW50ZXJzZWN0PXJheWNhc3Rlci5yYXkuaW50ZXJzZWN0VHJpYW5nbGUoX3ZBLF92QyxfdkIsZmFsc2UsX2ludGVyc2VjdFBvaW50KTtpZihpbnRlcnNlY3Q9PT1udWxsKXtyZXR1cm47fX12YXIgZGlzdGFuY2U9cmF5Y2FzdGVyLnJheS5vcmlnaW4uZGlzdGFuY2VUbyhfaW50ZXJzZWN0UG9pbnQpO2lmKGRpc3RhbmNlPHJheWNhc3Rlci5uZWFyfHxkaXN0YW5jZT5yYXljYXN0ZXIuZmFyKXJldHVybjtpbnRlcnNlY3RzLnB1c2goe2Rpc3RhbmNlOmRpc3RhbmNlLHBvaW50Ol9pbnRlcnNlY3RQb2ludC5jbG9uZSgpLHV2OlRyaWFuZ2xlLmdldFVWKF9pbnRlcnNlY3RQb2ludCxfdkEsX3ZCLF92QyxfdXZBLF91dkIsX3V2QyxuZXcgVmVjdG9yMigpKSxmYWNlOm51bGwsb2JqZWN0OnRoaXN9KTt9fSx7a2V5OiJjb3B5Iix2YWx1ZTpmdW5jdGlvbiBjb3B5KHNvdXJjZSl7X2dldChfZ2V0UHJvdG90eXBlT2YoU3ByaXRlLnByb3RvdHlwZSksImNvcHkiLHRoaXMpLmNhbGwodGhpcyxzb3VyY2UpO2lmKHNvdXJjZS5jZW50ZXIhPT11bmRlZmluZWQpdGhpcy5jZW50ZXIuY29weShzb3VyY2UuY2VudGVyKTt0aGlzLm1hdGVyaWFsPXNvdXJjZS5tYXRlcmlhbDtyZXR1cm4gdGhpczt9fV0pO3JldHVybiBTcHJpdGU7fShPYmplY3QzRCk7U3ByaXRlLnByb3RvdHlwZS5pc1Nwcml0ZT10cnVlO2Z1bmN0aW9uIHRyYW5zZm9ybVZlcnRleCh2ZXJ0ZXhQb3NpdGlvbixtdlBvc2l0aW9uLGNlbnRlcixzY2FsZSxzaW4sY29zKXsvLyBjb21wdXRlIHBvc2l0aW9uIGluIGNhbWVyYSBzcGFjZQpfYWxpZ25lZFBvc2l0aW9uLnN1YlZlY3RvcnModmVydGV4UG9zaXRpb24sY2VudGVyKS5hZGRTY2FsYXIoMC41KS5tdWx0aXBseShzY2FsZSk7Ly8gdG8gY2hlY2sgaWYgcm90YXRpb24gaXMgbm90IHplcm8KaWYoc2luIT09dW5kZWZpbmVkKXtfcm90YXRlZFBvc2l0aW9uLng9Y29zKl9hbGlnbmVkUG9zaXRpb24ueC1zaW4qX2FsaWduZWRQb3NpdGlvbi55O19yb3RhdGVkUG9zaXRpb24ueT1zaW4qX2FsaWduZWRQb3NpdGlvbi54K2NvcypfYWxpZ25lZFBvc2l0aW9uLnk7fWVsc2V7X3JvdGF0ZWRQb3NpdGlvbi5jb3B5KF9hbGlnbmVkUG9zaXRpb24pO312ZXJ0ZXhQb3NpdGlvbi5jb3B5KG12UG9zaXRpb24pO3ZlcnRleFBvc2l0aW9uLngrPV9yb3RhdGVkUG9zaXRpb24ueDt2ZXJ0ZXhQb3NpdGlvbi55Kz1fcm90YXRlZFBvc2l0aW9uLnk7Ly8gdHJhbnNmb3JtIHRvIHdvcmxkIHNwYWNlCnZlcnRleFBvc2l0aW9uLmFwcGx5TWF0cml4NChfdmlld1dvcmxkTWF0cml4KTt9dmFyIF92MSQyPS8qQF9fUFVSRV9fKi9uZXcgVmVjdG9yMygpO3ZhciBfdjIkMT0vKkBfX1BVUkVfXyovbmV3IFZlY3RvcjMoKTt2YXIgTE9EPS8qI19fUFVSRV9fKi9mdW5jdGlvbihfT2JqZWN0M0Q3KXtfaW5oZXJpdHMoTE9ELF9PYmplY3QzRDcpO3ZhciBfc3VwZXI0Mj1fY3JlYXRlU3VwZXIoTE9EKTtmdW5jdGlvbiBMT0QoKXt2YXIgX3RoaXMzMjtfY2xhc3NDYWxsQ2hlY2sodGhpcyxMT0QpO190aGlzMzI9X3N1cGVyNDIuY2FsbCh0aGlzKTtfdGhpczMyLl9jdXJyZW50TGV2ZWw9MDtfdGhpczMyLnR5cGU9J0xPRCc7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpczMyKSx7bGV2ZWxzOntlbnVtZXJhYmxlOnRydWUsdmFsdWU6W119LGlzTE9EOnt2YWx1ZTp0cnVlfX0pO190aGlzMzIuYXV0b1VwZGF0ZT10cnVlO3JldHVybiBfdGhpczMyO31fY3JlYXRlQ2xhc3MoTE9ELFt7a2V5OiJjb3B5Iix2YWx1ZTpmdW5jdGlvbiBjb3B5KHNvdXJjZSl7X2dldChfZ2V0UHJvdG90eXBlT2YoTE9ELnByb3RvdHlwZSksImNvcHkiLHRoaXMpLmNhbGwodGhpcyxzb3VyY2UsZmFsc2UpO3ZhciBsZXZlbHM9c291cmNlLmxldmVscztmb3IodmFyIF9pMTU4PTAsbD1sZXZlbHMubGVuZ3RoO19pMTU4PGw7X2kxNTgrKyl7dmFyIGxldmVsPWxldmVsc1tfaTE1OF07dGhpcy5hZGRMZXZlbChsZXZlbC5vYmplY3QuY2xvbmUoKSxsZXZlbC5kaXN0YW5jZSk7fXRoaXMuYXV0b1VwZGF0ZT1zb3VyY2UuYXV0b1VwZGF0ZTtyZXR1cm4gdGhpczt9fSx7a2V5OiJhZGRMZXZlbCIsdmFsdWU6ZnVuY3Rpb24gYWRkTGV2ZWwob2JqZWN0KXt2YXIgZGlzdGFuY2U9YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzFdOjA7ZGlzdGFuY2U9TWF0aC5hYnMoZGlzdGFuY2UpO3ZhciBsZXZlbHM9dGhpcy5sZXZlbHM7dmFyIGw7Zm9yKGw9MDtsPGxldmVscy5sZW5ndGg7bCsrKXtpZihkaXN0YW5jZTxsZXZlbHNbbF0uZGlzdGFuY2Upe2JyZWFrO319bGV2ZWxzLnNwbGljZShsLDAse2Rpc3RhbmNlOmRpc3RhbmNlLG9iamVjdDpvYmplY3R9KTt0aGlzLmFkZChvYmplY3QpO3JldHVybiB0aGlzO319LHtrZXk6ImdldEN1cnJlbnRMZXZlbCIsdmFsdWU6ZnVuY3Rpb24gZ2V0Q3VycmVudExldmVsKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRMZXZlbDt9fSx7a2V5OiJnZXRPYmplY3RGb3JEaXN0YW5jZSIsdmFsdWU6ZnVuY3Rpb24gZ2V0T2JqZWN0Rm9yRGlzdGFuY2UoZGlzdGFuY2Upe3ZhciBsZXZlbHM9dGhpcy5sZXZlbHM7aWYobGV2ZWxzLmxlbmd0aD4wKXt2YXIgX2kxNTksbDtmb3IoX2kxNTk9MSxsPWxldmVscy5sZW5ndGg7X2kxNTk8bDtfaTE1OSsrKXtpZihkaXN0YW5jZTxsZXZlbHNbX2kxNTldLmRpc3RhbmNlKXticmVhazt9fXJldHVybiBsZXZlbHNbX2kxNTktMV0ub2JqZWN0O31yZXR1cm4gbnVsbDt9fSx7a2V5OiJyYXljYXN0Iix2YWx1ZTpmdW5jdGlvbiByYXljYXN0KHJheWNhc3RlcixpbnRlcnNlY3RzKXt2YXIgbGV2ZWxzPXRoaXMubGV2ZWxzO2lmKGxldmVscy5sZW5ndGg+MCl7X3YxJDIuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKHRoaXMubWF0cml4V29ybGQpO3ZhciBkaXN0YW5jZT1yYXljYXN0ZXIucmF5Lm9yaWdpbi5kaXN0YW5jZVRvKF92MSQyKTt0aGlzLmdldE9iamVjdEZvckRpc3RhbmNlKGRpc3RhbmNlKS5yYXljYXN0KHJheWNhc3RlcixpbnRlcnNlY3RzKTt9fX0se2tleToidXBkYXRlIix2YWx1ZTpmdW5jdGlvbiB1cGRhdGUoY2FtZXJhKXt2YXIgbGV2ZWxzPXRoaXMubGV2ZWxzO2lmKGxldmVscy5sZW5ndGg+MSl7X3YxJDIuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKGNhbWVyYS5tYXRyaXhXb3JsZCk7X3YyJDEuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKHRoaXMubWF0cml4V29ybGQpO3ZhciBkaXN0YW5jZT1fdjEkMi5kaXN0YW5jZVRvKF92MiQxKS9jYW1lcmEuem9vbTtsZXZlbHNbMF0ub2JqZWN0LnZpc2libGU9dHJ1ZTt2YXIgX2kxNjAsbDtmb3IoX2kxNjA9MSxsPWxldmVscy5sZW5ndGg7X2kxNjA8bDtfaTE2MCsrKXtpZihkaXN0YW5jZT49bGV2ZWxzW19pMTYwXS5kaXN0YW5jZSl7bGV2ZWxzW19pMTYwLTFdLm9iamVjdC52aXNpYmxlPWZhbHNlO2xldmVsc1tfaTE2MF0ub2JqZWN0LnZpc2libGU9dHJ1ZTt9ZWxzZXticmVhazt9fXRoaXMuX2N1cnJlbnRMZXZlbD1faTE2MC0xO2Zvcig7X2kxNjA8bDtfaTE2MCsrKXtsZXZlbHNbX2kxNjBdLm9iamVjdC52aXNpYmxlPWZhbHNlO319fX0se2tleToidG9KU09OIix2YWx1ZTpmdW5jdGlvbiB0b0pTT04obWV0YSl7dmFyIGRhdGE9X2dldChfZ2V0UHJvdG90eXBlT2YoTE9ELnByb3RvdHlwZSksInRvSlNPTiIsdGhpcykuY2FsbCh0aGlzLG1ldGEpO2lmKHRoaXMuYXV0b1VwZGF0ZT09PWZhbHNlKWRhdGEub2JqZWN0LmF1dG9VcGRhdGU9ZmFsc2U7ZGF0YS5vYmplY3QubGV2ZWxzPVtdO3ZhciBsZXZlbHM9dGhpcy5sZXZlbHM7Zm9yKHZhciBfaTE2MT0wLGw9bGV2ZWxzLmxlbmd0aDtfaTE2MTxsO19pMTYxKyspe3ZhciBsZXZlbD1sZXZlbHNbX2kxNjFdO2RhdGEub2JqZWN0LmxldmVscy5wdXNoKHtvYmplY3Q6bGV2ZWwub2JqZWN0LnV1aWQsZGlzdGFuY2U6bGV2ZWwuZGlzdGFuY2V9KTt9cmV0dXJuIGRhdGE7fX1dKTtyZXR1cm4gTE9EO30oT2JqZWN0M0QpO3ZhciBfYmFzZVBvc2l0aW9uPS8qQF9fUFVSRV9fKi9uZXcgVmVjdG9yMygpO3ZhciBfc2tpbkluZGV4PS8qQF9fUFVSRV9fKi9uZXcgVmVjdG9yNCgpO3ZhciBfc2tpbldlaWdodD0vKkBfX1BVUkVfXyovbmV3IFZlY3RvcjQoKTt2YXIgX3ZlY3RvciQ1PS8qQF9fUFVSRV9fKi9uZXcgVmVjdG9yMygpO3ZhciBfbWF0cml4PS8qQF9fUFVSRV9fKi9uZXcgTWF0cml4NCgpO3ZhciBTa2lubmVkTWVzaD0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX01lc2gpe19pbmhlcml0cyhTa2lubmVkTWVzaCxfTWVzaCk7dmFyIF9zdXBlcjQzPV9jcmVhdGVTdXBlcihTa2lubmVkTWVzaCk7ZnVuY3Rpb24gU2tpbm5lZE1lc2goZ2VvbWV0cnksbWF0ZXJpYWwpe3ZhciBfdGhpczMzO19jbGFzc0NhbGxDaGVjayh0aGlzLFNraW5uZWRNZXNoKTtfdGhpczMzPV9zdXBlcjQzLmNhbGwodGhpcyxnZW9tZXRyeSxtYXRlcmlhbCk7X3RoaXMzMy50eXBlPSdTa2lubmVkTWVzaCc7X3RoaXMzMy5iaW5kTW9kZT0nYXR0YWNoZWQnO190aGlzMzMuYmluZE1hdHJpeD1uZXcgTWF0cml4NCgpO190aGlzMzMuYmluZE1hdHJpeEludmVyc2U9bmV3IE1hdHJpeDQoKTtyZXR1cm4gX3RoaXMzMzt9X2NyZWF0ZUNsYXNzKFNraW5uZWRNZXNoLFt7a2V5OiJjb3B5Iix2YWx1ZTpmdW5jdGlvbiBjb3B5KHNvdXJjZSl7X2dldChfZ2V0UHJvdG90eXBlT2YoU2tpbm5lZE1lc2gucHJvdG90eXBlKSwiY29weSIsdGhpcykuY2FsbCh0aGlzLHNvdXJjZSk7dGhpcy5iaW5kTW9kZT1zb3VyY2UuYmluZE1vZGU7dGhpcy5iaW5kTWF0cml4LmNvcHkoc291cmNlLmJpbmRNYXRyaXgpO3RoaXMuYmluZE1hdHJpeEludmVyc2UuY29weShzb3VyY2UuYmluZE1hdHJpeEludmVyc2UpO3RoaXMuc2tlbGV0b249c291cmNlLnNrZWxldG9uO3JldHVybiB0aGlzO319LHtrZXk6ImJpbmQiLHZhbHVlOmZ1bmN0aW9uIGJpbmQoc2tlbGV0b24sYmluZE1hdHJpeCl7dGhpcy5za2VsZXRvbj1za2VsZXRvbjtpZihiaW5kTWF0cml4PT09dW5kZWZpbmVkKXt0aGlzLnVwZGF0ZU1hdHJpeFdvcmxkKHRydWUpO3RoaXMuc2tlbGV0b24uY2FsY3VsYXRlSW52ZXJzZXMoKTtiaW5kTWF0cml4PXRoaXMubWF0cml4V29ybGQ7fXRoaXMuYmluZE1hdHJpeC5jb3B5KGJpbmRNYXRyaXgpO3RoaXMuYmluZE1hdHJpeEludmVyc2UuY29weShiaW5kTWF0cml4KS5pbnZlcnQoKTt9fSx7a2V5OiJwb3NlIix2YWx1ZTpmdW5jdGlvbiBwb3NlKCl7dGhpcy5za2VsZXRvbi5wb3NlKCk7fX0se2tleToibm9ybWFsaXplU2tpbldlaWdodHMiLHZhbHVlOmZ1bmN0aW9uIG5vcm1hbGl6ZVNraW5XZWlnaHRzKCl7dmFyIHZlY3Rvcj1uZXcgVmVjdG9yNCgpO3ZhciBza2luV2VpZ2h0PXRoaXMuZ2VvbWV0cnkuYXR0cmlidXRlcy5za2luV2VpZ2h0O2Zvcih2YXIgX2kxNjI9MCxsPXNraW5XZWlnaHQuY291bnQ7X2kxNjI8bDtfaTE2MisrKXt2ZWN0b3IueD1za2luV2VpZ2h0LmdldFgoX2kxNjIpO3ZlY3Rvci55PXNraW5XZWlnaHQuZ2V0WShfaTE2Mik7dmVjdG9yLno9c2tpbldlaWdodC5nZXRaKF9pMTYyKTt2ZWN0b3Iudz1za2luV2VpZ2h0LmdldFcoX2kxNjIpO3ZhciBzY2FsZT0xLjAvdmVjdG9yLm1hbmhhdHRhbkxlbmd0aCgpO2lmKHNjYWxlIT09SW5maW5pdHkpe3ZlY3Rvci5tdWx0aXBseVNjYWxhcihzY2FsZSk7fWVsc2V7dmVjdG9yLnNldCgxLDAsMCwwKTsvLyBkbyBzb21ldGhpbmcgcmVhc29uYWJsZQp9c2tpbldlaWdodC5zZXRYWVpXKF9pMTYyLHZlY3Rvci54LHZlY3Rvci55LHZlY3Rvci56LHZlY3Rvci53KTt9fX0se2tleToidXBkYXRlTWF0cml4V29ybGQiLHZhbHVlOmZ1bmN0aW9uIHVwZGF0ZU1hdHJpeFdvcmxkKGZvcmNlKXtfZ2V0KF9nZXRQcm90b3R5cGVPZihTa2lubmVkTWVzaC5wcm90b3R5cGUpLCJ1cGRhdGVNYXRyaXhXb3JsZCIsdGhpcykuY2FsbCh0aGlzLGZvcmNlKTtpZih0aGlzLmJpbmRNb2RlPT09J2F0dGFjaGVkJyl7dGhpcy5iaW5kTWF0cml4SW52ZXJzZS5jb3B5KHRoaXMubWF0cml4V29ybGQpLmludmVydCgpO31lbHNlIGlmKHRoaXMuYmluZE1vZGU9PT0nZGV0YWNoZWQnKXt0aGlzLmJpbmRNYXRyaXhJbnZlcnNlLmNvcHkodGhpcy5iaW5kTWF0cml4KS5pbnZlcnQoKTt9ZWxzZXtjb25zb2xlLndhcm4oJ1RIUkVFLlNraW5uZWRNZXNoOiBVbnJlY29nbml6ZWQgYmluZE1vZGU6ICcrdGhpcy5iaW5kTW9kZSk7fX19LHtrZXk6ImJvbmVUcmFuc2Zvcm0iLHZhbHVlOmZ1bmN0aW9uIGJvbmVUcmFuc2Zvcm0oaW5kZXgsdGFyZ2V0KXt2YXIgc2tlbGV0b249dGhpcy5za2VsZXRvbjt2YXIgZ2VvbWV0cnk9dGhpcy5nZW9tZXRyeTtfc2tpbkluZGV4LmZyb21CdWZmZXJBdHRyaWJ1dGUoZ2VvbWV0cnkuYXR0cmlidXRlcy5za2luSW5kZXgsaW5kZXgpO19za2luV2VpZ2h0LmZyb21CdWZmZXJBdHRyaWJ1dGUoZ2VvbWV0cnkuYXR0cmlidXRlcy5za2luV2VpZ2h0LGluZGV4KTtfYmFzZVBvc2l0aW9uLmNvcHkodGFyZ2V0KS5hcHBseU1hdHJpeDQodGhpcy5iaW5kTWF0cml4KTt0YXJnZXQuc2V0KDAsMCwwKTtmb3IodmFyIF9pMTYzPTA7X2kxNjM8NDtfaTE2MysrKXt2YXIgd2VpZ2h0PV9za2luV2VpZ2h0LmdldENvbXBvbmVudChfaTE2Myk7aWYod2VpZ2h0IT09MCl7dmFyIGJvbmVJbmRleD1fc2tpbkluZGV4LmdldENvbXBvbmVudChfaTE2Myk7X21hdHJpeC5tdWx0aXBseU1hdHJpY2VzKHNrZWxldG9uLmJvbmVzW2JvbmVJbmRleF0ubWF0cml4V29ybGQsc2tlbGV0b24uYm9uZUludmVyc2VzW2JvbmVJbmRleF0pO3RhcmdldC5hZGRTY2FsZWRWZWN0b3IoX3ZlY3RvciQ1LmNvcHkoX2Jhc2VQb3NpdGlvbikuYXBwbHlNYXRyaXg0KF9tYXRyaXgpLHdlaWdodCk7fX1yZXR1cm4gdGFyZ2V0LmFwcGx5TWF0cml4NCh0aGlzLmJpbmRNYXRyaXhJbnZlcnNlKTt9fV0pO3JldHVybiBTa2lubmVkTWVzaDt9KE1lc2gpO1NraW5uZWRNZXNoLnByb3RvdHlwZS5pc1NraW5uZWRNZXNoPXRydWU7dmFyIEJvbmU9LyojX19QVVJFX18qL2Z1bmN0aW9uKF9PYmplY3QzRDgpe19pbmhlcml0cyhCb25lLF9PYmplY3QzRDgpO3ZhciBfc3VwZXI0ND1fY3JlYXRlU3VwZXIoQm9uZSk7ZnVuY3Rpb24gQm9uZSgpe3ZhciBfdGhpczM0O19jbGFzc0NhbGxDaGVjayh0aGlzLEJvbmUpO190aGlzMzQ9X3N1cGVyNDQuY2FsbCh0aGlzKTtfdGhpczM0LnR5cGU9J0JvbmUnO3JldHVybiBfdGhpczM0O31yZXR1cm4gX2NyZWF0ZUNsYXNzKEJvbmUpO30oT2JqZWN0M0QpO0JvbmUucHJvdG90eXBlLmlzQm9uZT10cnVlO3ZhciBEYXRhVGV4dHVyZT0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX1RleHR1cmU1KXtfaW5oZXJpdHMoRGF0YVRleHR1cmUsX1RleHR1cmU1KTt2YXIgX3N1cGVyNDU9X2NyZWF0ZVN1cGVyKERhdGFUZXh0dXJlKTtmdW5jdGlvbiBEYXRhVGV4dHVyZSgpe3ZhciBfdGhpczM1O3ZhciBkYXRhPWFyZ3VtZW50cy5sZW5ndGg+MCYmYXJndW1lbnRzWzBdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1swXTpudWxsO3ZhciB3aWR0aD1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMV06MTt2YXIgaGVpZ2h0PWFyZ3VtZW50cy5sZW5ndGg+MiYmYXJndW1lbnRzWzJdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1syXToxO3ZhciBmb3JtYXQ9YXJndW1lbnRzLmxlbmd0aD4zP2FyZ3VtZW50c1szXTp1bmRlZmluZWQ7dmFyIHR5cGU9YXJndW1lbnRzLmxlbmd0aD40P2FyZ3VtZW50c1s0XTp1bmRlZmluZWQ7dmFyIG1hcHBpbmc9YXJndW1lbnRzLmxlbmd0aD41P2FyZ3VtZW50c1s1XTp1bmRlZmluZWQ7dmFyIHdyYXBTPWFyZ3VtZW50cy5sZW5ndGg+Nj9hcmd1bWVudHNbNl06dW5kZWZpbmVkO3ZhciB3cmFwVD1hcmd1bWVudHMubGVuZ3RoPjc/YXJndW1lbnRzWzddOnVuZGVmaW5lZDt2YXIgbWFnRmlsdGVyPWFyZ3VtZW50cy5sZW5ndGg+OCYmYXJndW1lbnRzWzhdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1s4XTpOZWFyZXN0RmlsdGVyO3ZhciBtaW5GaWx0ZXI9YXJndW1lbnRzLmxlbmd0aD45JiZhcmd1bWVudHNbOV0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzldOk5lYXJlc3RGaWx0ZXI7dmFyIGFuaXNvdHJvcHk9YXJndW1lbnRzLmxlbmd0aD4xMD9hcmd1bWVudHNbMTBdOnVuZGVmaW5lZDt2YXIgZW5jb2Rpbmc9YXJndW1lbnRzLmxlbmd0aD4xMT9hcmd1bWVudHNbMTFdOnVuZGVmaW5lZDtfY2xhc3NDYWxsQ2hlY2sodGhpcyxEYXRhVGV4dHVyZSk7X3RoaXMzNT1fc3VwZXI0NS5jYWxsKHRoaXMsbnVsbCxtYXBwaW5nLHdyYXBTLHdyYXBULG1hZ0ZpbHRlcixtaW5GaWx0ZXIsZm9ybWF0LHR5cGUsYW5pc290cm9weSxlbmNvZGluZyk7X3RoaXMzNS5pbWFnZT17ZGF0YTpkYXRhLHdpZHRoOndpZHRoLGhlaWdodDpoZWlnaHR9O190aGlzMzUubWFnRmlsdGVyPW1hZ0ZpbHRlcjtfdGhpczM1Lm1pbkZpbHRlcj1taW5GaWx0ZXI7X3RoaXMzNS5nZW5lcmF0ZU1pcG1hcHM9ZmFsc2U7X3RoaXMzNS5mbGlwWT1mYWxzZTtfdGhpczM1LnVucGFja0FsaWdubWVudD0xO3JldHVybiBfdGhpczM1O31yZXR1cm4gX2NyZWF0ZUNsYXNzKERhdGFUZXh0dXJlKTt9KFRleHR1cmUpO0RhdGFUZXh0dXJlLnByb3RvdHlwZS5pc0RhdGFUZXh0dXJlPXRydWU7dmFyIF9vZmZzZXRNYXRyaXg9LypAX19QVVJFX18qL25ldyBNYXRyaXg0KCk7dmFyIF9pZGVudGl0eU1hdHJpeD0vKkBfX1BVUkVfXyovbmV3IE1hdHJpeDQoKTt2YXIgU2tlbGV0b249LyojX19QVVJFX18qL2Z1bmN0aW9uKCl7ZnVuY3Rpb24gU2tlbGV0b24oKXt2YXIgYm9uZXM9YXJndW1lbnRzLmxlbmd0aD4wJiZhcmd1bWVudHNbMF0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzBdOltdO3ZhciBib25lSW52ZXJzZXM9YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzFdOltdO19jbGFzc0NhbGxDaGVjayh0aGlzLFNrZWxldG9uKTt0aGlzLnV1aWQ9Z2VuZXJhdGVVVUlEKCk7dGhpcy5ib25lcz1ib25lcy5zbGljZSgwKTt0aGlzLmJvbmVJbnZlcnNlcz1ib25lSW52ZXJzZXM7dGhpcy5ib25lTWF0cmljZXM9bnVsbDt0aGlzLmJvbmVUZXh0dXJlPW51bGw7dGhpcy5ib25lVGV4dHVyZVNpemU9MDt0aGlzLmZyYW1lPS0xO3RoaXMuaW5pdCgpO31fY3JlYXRlQ2xhc3MoU2tlbGV0b24sW3trZXk6ImluaXQiLHZhbHVlOmZ1bmN0aW9uIGluaXQoKXt2YXIgYm9uZXM9dGhpcy5ib25lczt2YXIgYm9uZUludmVyc2VzPXRoaXMuYm9uZUludmVyc2VzO3RoaXMuYm9uZU1hdHJpY2VzPW5ldyBGbG9hdDMyQXJyYXkoYm9uZXMubGVuZ3RoKjE2KTsvLyBjYWxjdWxhdGUgaW52ZXJzZSBib25lIG1hdHJpY2VzIGlmIG5lY2Vzc2FyeQppZihib25lSW52ZXJzZXMubGVuZ3RoPT09MCl7dGhpcy5jYWxjdWxhdGVJbnZlcnNlcygpO31lbHNley8vIGhhbmRsZSBzcGVjaWFsIGNhc2UKaWYoYm9uZXMubGVuZ3RoIT09Ym9uZUludmVyc2VzLmxlbmd0aCl7Y29uc29sZS53YXJuKCdUSFJFRS5Ta2VsZXRvbjogTnVtYmVyIG9mIGludmVyc2UgYm9uZSBtYXRyaWNlcyBkb2VzIG5vdCBtYXRjaCBhbW91bnQgb2YgYm9uZXMuJyk7dGhpcy5ib25lSW52ZXJzZXM9W107Zm9yKHZhciBfaTE2ND0wLGlsPXRoaXMuYm9uZXMubGVuZ3RoO19pMTY0PGlsO19pMTY0Kyspe3RoaXMuYm9uZUludmVyc2VzLnB1c2gobmV3IE1hdHJpeDQoKSk7fX19fX0se2tleToiY2FsY3VsYXRlSW52ZXJzZXMiLHZhbHVlOmZ1bmN0aW9uIGNhbGN1bGF0ZUludmVyc2VzKCl7dGhpcy5ib25lSW52ZXJzZXMubGVuZ3RoPTA7Zm9yKHZhciBfaTE2NT0wLGlsPXRoaXMuYm9uZXMubGVuZ3RoO19pMTY1PGlsO19pMTY1Kyspe3ZhciBpbnZlcnNlPW5ldyBNYXRyaXg0KCk7aWYodGhpcy5ib25lc1tfaTE2NV0pe2ludmVyc2UuY29weSh0aGlzLmJvbmVzW19pMTY1XS5tYXRyaXhXb3JsZCkuaW52ZXJ0KCk7fXRoaXMuYm9uZUludmVyc2VzLnB1c2goaW52ZXJzZSk7fX19LHtrZXk6InBvc2UiLHZhbHVlOmZ1bmN0aW9uIHBvc2UoKXsvLyByZWNvdmVyIHRoZSBiaW5kLXRpbWUgd29ybGQgbWF0cmljZXMKZm9yKHZhciBfaTE2Nj0wLGlsPXRoaXMuYm9uZXMubGVuZ3RoO19pMTY2PGlsO19pMTY2Kyspe3ZhciBib25lPXRoaXMuYm9uZXNbX2kxNjZdO2lmKGJvbmUpe2JvbmUubWF0cml4V29ybGQuY29weSh0aGlzLmJvbmVJbnZlcnNlc1tfaTE2Nl0pLmludmVydCgpO319Ly8gY29tcHV0ZSB0aGUgbG9jYWwgbWF0cmljZXMsIHBvc2l0aW9ucywgcm90YXRpb25zIGFuZCBzY2FsZXMKZm9yKHZhciBfaTE2Nz0wLF9pbDEyPXRoaXMuYm9uZXMubGVuZ3RoO19pMTY3PF9pbDEyO19pMTY3Kyspe3ZhciBfYm9uZT10aGlzLmJvbmVzW19pMTY3XTtpZihfYm9uZSl7aWYoX2JvbmUucGFyZW50JiZfYm9uZS5wYXJlbnQuaXNCb25lKXtfYm9uZS5tYXRyaXguY29weShfYm9uZS5wYXJlbnQubWF0cml4V29ybGQpLmludmVydCgpO19ib25lLm1hdHJpeC5tdWx0aXBseShfYm9uZS5tYXRyaXhXb3JsZCk7fWVsc2V7X2JvbmUubWF0cml4LmNvcHkoX2JvbmUubWF0cml4V29ybGQpO31fYm9uZS5tYXRyaXguZGVjb21wb3NlKF9ib25lLnBvc2l0aW9uLF9ib25lLnF1YXRlcm5pb24sX2JvbmUuc2NhbGUpO319fX0se2tleToidXBkYXRlIix2YWx1ZTpmdW5jdGlvbiB1cGRhdGUoKXt2YXIgYm9uZXM9dGhpcy5ib25lczt2YXIgYm9uZUludmVyc2VzPXRoaXMuYm9uZUludmVyc2VzO3ZhciBib25lTWF0cmljZXM9dGhpcy5ib25lTWF0cmljZXM7dmFyIGJvbmVUZXh0dXJlPXRoaXMuYm9uZVRleHR1cmU7Ly8gZmxhdHRlbiBib25lIG1hdHJpY2VzIHRvIGFycmF5CmZvcih2YXIgX2kxNjg9MCxpbD1ib25lcy5sZW5ndGg7X2kxNjg8aWw7X2kxNjgrKyl7Ly8gY29tcHV0ZSB0aGUgb2Zmc2V0IGJldHdlZW4gdGhlIGN1cnJlbnQgYW5kIHRoZSBvcmlnaW5hbCB0cmFuc2Zvcm0KdmFyIG1hdHJpeD1ib25lc1tfaTE2OF0/Ym9uZXNbX2kxNjhdLm1hdHJpeFdvcmxkOl9pZGVudGl0eU1hdHJpeDtfb2Zmc2V0TWF0cml4Lm11bHRpcGx5TWF0cmljZXMobWF0cml4LGJvbmVJbnZlcnNlc1tfaTE2OF0pO19vZmZzZXRNYXRyaXgudG9BcnJheShib25lTWF0cmljZXMsX2kxNjgqMTYpO31pZihib25lVGV4dHVyZSE9PW51bGwpe2JvbmVUZXh0dXJlLm5lZWRzVXBkYXRlPXRydWU7fX19LHtrZXk6ImNsb25lIix2YWx1ZTpmdW5jdGlvbiBjbG9uZSgpe3JldHVybiBuZXcgU2tlbGV0b24odGhpcy5ib25lcyx0aGlzLmJvbmVJbnZlcnNlcyk7fX0se2tleToiY29tcHV0ZUJvbmVUZXh0dXJlIix2YWx1ZTpmdW5jdGlvbiBjb21wdXRlQm9uZVRleHR1cmUoKXsvLyBsYXlvdXQgKDEgbWF0cml4ID0gNCBwaXhlbHMpCi8vICAgICAgUkdCQSBSR0JBIFJHQkEgUkdCQSAoPT4gY29sdW1uMSwgY29sdW1uMiwgY29sdW1uMywgY29sdW1uNCkKLy8gIHdpdGggIDh4OCAgcGl4ZWwgdGV4dHVyZSBtYXggICAxNiBib25lcyAqIDQgcGl4ZWxzID0gICg4ICogOCkKLy8gICAgICAgMTZ4MTYgcGl4ZWwgdGV4dHVyZSBtYXggICA2NCBib25lcyAqIDQgcGl4ZWxzID0gKDE2ICogMTYpCi8vICAgICAgIDMyeDMyIHBpeGVsIHRleHR1cmUgbWF4ICAyNTYgYm9uZXMgKiA0IHBpeGVscyA9ICgzMiAqIDMyKQovLyAgICAgICA2NHg2NCBwaXhlbCB0ZXh0dXJlIG1heCAxMDI0IGJvbmVzICogNCBwaXhlbHMgPSAoNjQgKiA2NCkKdmFyIHNpemU9TWF0aC5zcXJ0KHRoaXMuYm9uZXMubGVuZ3RoKjQpOy8vIDQgcGl4ZWxzIG5lZWRlZCBmb3IgMSBtYXRyaXgKc2l6ZT1jZWlsUG93ZXJPZlR3byhzaXplKTtzaXplPU1hdGgubWF4KHNpemUsNCk7dmFyIGJvbmVNYXRyaWNlcz1uZXcgRmxvYXQzMkFycmF5KHNpemUqc2l6ZSo0KTsvLyA0IGZsb2F0cyBwZXIgUkdCQSBwaXhlbApib25lTWF0cmljZXMuc2V0KHRoaXMuYm9uZU1hdHJpY2VzKTsvLyBjb3B5IGN1cnJlbnQgdmFsdWVzCnZhciBib25lVGV4dHVyZT1uZXcgRGF0YVRleHR1cmUoYm9uZU1hdHJpY2VzLHNpemUsc2l6ZSxSR0JBRm9ybWF0LEZsb2F0VHlwZSk7Ym9uZVRleHR1cmUubmVlZHNVcGRhdGU9dHJ1ZTt0aGlzLmJvbmVNYXRyaWNlcz1ib25lTWF0cmljZXM7dGhpcy5ib25lVGV4dHVyZT1ib25lVGV4dHVyZTt0aGlzLmJvbmVUZXh0dXJlU2l6ZT1zaXplO3JldHVybiB0aGlzO319LHtrZXk6ImdldEJvbmVCeU5hbWUiLHZhbHVlOmZ1bmN0aW9uIGdldEJvbmVCeU5hbWUobmFtZSl7Zm9yKHZhciBfaTE2OT0wLGlsPXRoaXMuYm9uZXMubGVuZ3RoO19pMTY5PGlsO19pMTY5Kyspe3ZhciBib25lPXRoaXMuYm9uZXNbX2kxNjldO2lmKGJvbmUubmFtZT09PW5hbWUpe3JldHVybiBib25lO319cmV0dXJuIHVuZGVmaW5lZDt9fSx7a2V5OiJkaXNwb3NlIix2YWx1ZTpmdW5jdGlvbiBkaXNwb3NlKCl7aWYodGhpcy5ib25lVGV4dHVyZSE9PW51bGwpe3RoaXMuYm9uZVRleHR1cmUuZGlzcG9zZSgpO3RoaXMuYm9uZVRleHR1cmU9bnVsbDt9fX0se2tleToiZnJvbUpTT04iLHZhbHVlOmZ1bmN0aW9uIGZyb21KU09OKGpzb24sYm9uZXMpe3RoaXMudXVpZD1qc29uLnV1aWQ7Zm9yKHZhciBfaTE3MD0wLGw9anNvbi5ib25lcy5sZW5ndGg7X2kxNzA8bDtfaTE3MCsrKXt2YXIgdXVpZD1qc29uLmJvbmVzW19pMTcwXTt2YXIgYm9uZT1ib25lc1t1dWlkXTtpZihib25lPT09dW5kZWZpbmVkKXtjb25zb2xlLndhcm4oJ1RIUkVFLlNrZWxldG9uOiBObyBib25lIGZvdW5kIHdpdGggVVVJRDonLHV1aWQpO2JvbmU9bmV3IEJvbmUoKTt9dGhpcy5ib25lcy5wdXNoKGJvbmUpO3RoaXMuYm9uZUludmVyc2VzLnB1c2gobmV3IE1hdHJpeDQoKS5mcm9tQXJyYXkoanNvbi5ib25lSW52ZXJzZXNbX2kxNzBdKSk7fXRoaXMuaW5pdCgpO3JldHVybiB0aGlzO319LHtrZXk6InRvSlNPTiIsdmFsdWU6ZnVuY3Rpb24gdG9KU09OKCl7dmFyIGRhdGE9e21ldGFkYXRhOnt2ZXJzaW9uOjQuNSx0eXBlOidTa2VsZXRvbicsZ2VuZXJhdG9yOidTa2VsZXRvbi50b0pTT04nfSxib25lczpbXSxib25lSW52ZXJzZXM6W119O2RhdGEudXVpZD10aGlzLnV1aWQ7dmFyIGJvbmVzPXRoaXMuYm9uZXM7dmFyIGJvbmVJbnZlcnNlcz10aGlzLmJvbmVJbnZlcnNlcztmb3IodmFyIF9pMTcxPTAsbD1ib25lcy5sZW5ndGg7X2kxNzE8bDtfaTE3MSsrKXt2YXIgYm9uZT1ib25lc1tfaTE3MV07ZGF0YS5ib25lcy5wdXNoKGJvbmUudXVpZCk7dmFyIGJvbmVJbnZlcnNlPWJvbmVJbnZlcnNlc1tfaTE3MV07ZGF0YS5ib25lSW52ZXJzZXMucHVzaChib25lSW52ZXJzZS50b0FycmF5KCkpO31yZXR1cm4gZGF0YTt9fV0pO3JldHVybiBTa2VsZXRvbjt9KCk7dmFyIEluc3RhbmNlZEJ1ZmZlckF0dHJpYnV0ZT0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX0J1ZmZlckF0dHJpYnV0ZTExKXtfaW5oZXJpdHMoSW5zdGFuY2VkQnVmZmVyQXR0cmlidXRlLF9CdWZmZXJBdHRyaWJ1dGUxMSk7dmFyIF9zdXBlcjQ2PV9jcmVhdGVTdXBlcihJbnN0YW5jZWRCdWZmZXJBdHRyaWJ1dGUpO2Z1bmN0aW9uIEluc3RhbmNlZEJ1ZmZlckF0dHJpYnV0ZShhcnJheSxpdGVtU2l6ZSxub3JtYWxpemVkKXt2YXIgX3RoaXMzNjt2YXIgbWVzaFBlckF0dHJpYnV0ZT1hcmd1bWVudHMubGVuZ3RoPjMmJmFyZ3VtZW50c1szXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbM106MTtfY2xhc3NDYWxsQ2hlY2sodGhpcyxJbnN0YW5jZWRCdWZmZXJBdHRyaWJ1dGUpO2lmKHR5cGVvZiBub3JtYWxpemVkPT09J251bWJlcicpe21lc2hQZXJBdHRyaWJ1dGU9bm9ybWFsaXplZDtub3JtYWxpemVkPWZhbHNlO2NvbnNvbGUuZXJyb3IoJ1RIUkVFLkluc3RhbmNlZEJ1ZmZlckF0dHJpYnV0ZTogVGhlIGNvbnN0cnVjdG9yIG5vdyBleHBlY3RzIG5vcm1hbGl6ZWQgYXMgdGhlIHRoaXJkIGFyZ3VtZW50LicpO31fdGhpczM2PV9zdXBlcjQ2LmNhbGwodGhpcyxhcnJheSxpdGVtU2l6ZSxub3JtYWxpemVkKTtfdGhpczM2Lm1lc2hQZXJBdHRyaWJ1dGU9bWVzaFBlckF0dHJpYnV0ZTtyZXR1cm4gX3RoaXMzNjt9X2NyZWF0ZUNsYXNzKEluc3RhbmNlZEJ1ZmZlckF0dHJpYnV0ZSxbe2tleToiY29weSIsdmFsdWU6ZnVuY3Rpb24gY29weShzb3VyY2Upe19nZXQoX2dldFByb3RvdHlwZU9mKEluc3RhbmNlZEJ1ZmZlckF0dHJpYnV0ZS5wcm90b3R5cGUpLCJjb3B5Iix0aGlzKS5jYWxsKHRoaXMsc291cmNlKTt0aGlzLm1lc2hQZXJBdHRyaWJ1dGU9c291cmNlLm1lc2hQZXJBdHRyaWJ1dGU7cmV0dXJuIHRoaXM7fX0se2tleToidG9KU09OIix2YWx1ZTpmdW5jdGlvbiB0b0pTT04oKXt2YXIgZGF0YT1fZ2V0KF9nZXRQcm90b3R5cGVPZihJbnN0YW5jZWRCdWZmZXJBdHRyaWJ1dGUucHJvdG90eXBlKSwidG9KU09OIix0aGlzKS5jYWxsKHRoaXMpO2RhdGEubWVzaFBlckF0dHJpYnV0ZT10aGlzLm1lc2hQZXJBdHRyaWJ1dGU7ZGF0YS5pc0luc3RhbmNlZEJ1ZmZlckF0dHJpYnV0ZT10cnVlO3JldHVybiBkYXRhO319XSk7cmV0dXJuIEluc3RhbmNlZEJ1ZmZlckF0dHJpYnV0ZTt9KEJ1ZmZlckF0dHJpYnV0ZSk7SW5zdGFuY2VkQnVmZmVyQXR0cmlidXRlLnByb3RvdHlwZS5pc0luc3RhbmNlZEJ1ZmZlckF0dHJpYnV0ZT10cnVlO3ZhciBfaW5zdGFuY2VMb2NhbE1hdHJpeD0vKkBfX1BVUkVfXyovbmV3IE1hdHJpeDQoKTt2YXIgX2luc3RhbmNlV29ybGRNYXRyaXg9LypAX19QVVJFX18qL25ldyBNYXRyaXg0KCk7dmFyIF9pbnN0YW5jZUludGVyc2VjdHM9W107dmFyIF9tZXNoPS8qQF9fUFVSRV9fKi9uZXcgTWVzaCgpO3ZhciBJbnN0YW5jZWRNZXNoPS8qI19fUFVSRV9fKi9mdW5jdGlvbihfTWVzaDIpe19pbmhlcml0cyhJbnN0YW5jZWRNZXNoLF9NZXNoMik7dmFyIF9zdXBlcjQ3PV9jcmVhdGVTdXBlcihJbnN0YW5jZWRNZXNoKTtmdW5jdGlvbiBJbnN0YW5jZWRNZXNoKGdlb21ldHJ5LG1hdGVyaWFsLGNvdW50KXt2YXIgX3RoaXMzNztfY2xhc3NDYWxsQ2hlY2sodGhpcyxJbnN0YW5jZWRNZXNoKTtfdGhpczM3PV9zdXBlcjQ3LmNhbGwodGhpcyxnZW9tZXRyeSxtYXRlcmlhbCk7X3RoaXMzNy5pbnN0YW5jZU1hdHJpeD1uZXcgSW5zdGFuY2VkQnVmZmVyQXR0cmlidXRlKG5ldyBGbG9hdDMyQXJyYXkoY291bnQqMTYpLDE2KTtfdGhpczM3Lmluc3RhbmNlQ29sb3I9bnVsbDtfdGhpczM3LmNvdW50PWNvdW50O190aGlzMzcuZnJ1c3R1bUN1bGxlZD1mYWxzZTtyZXR1cm4gX3RoaXMzNzt9X2NyZWF0ZUNsYXNzKEluc3RhbmNlZE1lc2gsW3trZXk6ImNvcHkiLHZhbHVlOmZ1bmN0aW9uIGNvcHkoc291cmNlKXtfZ2V0KF9nZXRQcm90b3R5cGVPZihJbnN0YW5jZWRNZXNoLnByb3RvdHlwZSksImNvcHkiLHRoaXMpLmNhbGwodGhpcyxzb3VyY2UpO3RoaXMuaW5zdGFuY2VNYXRyaXguY29weShzb3VyY2UuaW5zdGFuY2VNYXRyaXgpO2lmKHNvdXJjZS5pbnN0YW5jZUNvbG9yIT09bnVsbCl0aGlzLmluc3RhbmNlQ29sb3I9c291cmNlLmluc3RhbmNlQ29sb3IuY2xvbmUoKTt0aGlzLmNvdW50PXNvdXJjZS5jb3VudDtyZXR1cm4gdGhpczt9fSx7a2V5OiJnZXRDb2xvckF0Iix2YWx1ZTpmdW5jdGlvbiBnZXRDb2xvckF0KGluZGV4LGNvbG9yKXtjb2xvci5mcm9tQXJyYXkodGhpcy5pbnN0YW5jZUNvbG9yLmFycmF5LGluZGV4KjMpO319LHtrZXk6ImdldE1hdHJpeEF0Iix2YWx1ZTpmdW5jdGlvbiBnZXRNYXRyaXhBdChpbmRleCxtYXRyaXgpe21hdHJpeC5mcm9tQXJyYXkodGhpcy5pbnN0YW5jZU1hdHJpeC5hcnJheSxpbmRleCoxNik7fX0se2tleToicmF5Y2FzdCIsdmFsdWU6ZnVuY3Rpb24gcmF5Y2FzdChyYXljYXN0ZXIsaW50ZXJzZWN0cyl7dmFyIG1hdHJpeFdvcmxkPXRoaXMubWF0cml4V29ybGQ7dmFyIHJheWNhc3RUaW1lcz10aGlzLmNvdW50O19tZXNoLmdlb21ldHJ5PXRoaXMuZ2VvbWV0cnk7X21lc2gubWF0ZXJpYWw9dGhpcy5tYXRlcmlhbDtpZihfbWVzaC5tYXRlcmlhbD09PXVuZGVmaW5lZClyZXR1cm47Zm9yKHZhciBpbnN0YW5jZUlkPTA7aW5zdGFuY2VJZDxyYXljYXN0VGltZXM7aW5zdGFuY2VJZCsrKXsvLyBjYWxjdWxhdGUgdGhlIHdvcmxkIG1hdHJpeCBmb3IgZWFjaCBpbnN0YW5jZQp0aGlzLmdldE1hdHJpeEF0KGluc3RhbmNlSWQsX2luc3RhbmNlTG9jYWxNYXRyaXgpO19pbnN0YW5jZVdvcmxkTWF0cml4Lm11bHRpcGx5TWF0cmljZXMobWF0cml4V29ybGQsX2luc3RhbmNlTG9jYWxNYXRyaXgpOy8vIHRoZSBtZXNoIHJlcHJlc2VudHMgdGhpcyBzaW5nbGUgaW5zdGFuY2UKX21lc2gubWF0cml4V29ybGQ9X2luc3RhbmNlV29ybGRNYXRyaXg7X21lc2gucmF5Y2FzdChyYXljYXN0ZXIsX2luc3RhbmNlSW50ZXJzZWN0cyk7Ly8gcHJvY2VzcyB0aGUgcmVzdWx0IG9mIHJheWNhc3QKZm9yKHZhciBfaTE3Mj0wLGw9X2luc3RhbmNlSW50ZXJzZWN0cy5sZW5ndGg7X2kxNzI8bDtfaTE3MisrKXt2YXIgaW50ZXJzZWN0PV9pbnN0YW5jZUludGVyc2VjdHNbX2kxNzJdO2ludGVyc2VjdC5pbnN0YW5jZUlkPWluc3RhbmNlSWQ7aW50ZXJzZWN0Lm9iamVjdD10aGlzO2ludGVyc2VjdHMucHVzaChpbnRlcnNlY3QpO31faW5zdGFuY2VJbnRlcnNlY3RzLmxlbmd0aD0wO319fSx7a2V5OiJzZXRDb2xvckF0Iix2YWx1ZTpmdW5jdGlvbiBzZXRDb2xvckF0KGluZGV4LGNvbG9yKXtpZih0aGlzLmluc3RhbmNlQ29sb3I9PT1udWxsKXt0aGlzLmluc3RhbmNlQ29sb3I9bmV3IEluc3RhbmNlZEJ1ZmZlckF0dHJpYnV0ZShuZXcgRmxvYXQzMkFycmF5KHRoaXMuaW5zdGFuY2VNYXRyaXguY291bnQqMyksMyk7fWNvbG9yLnRvQXJyYXkodGhpcy5pbnN0YW5jZUNvbG9yLmFycmF5LGluZGV4KjMpO319LHtrZXk6InNldE1hdHJpeEF0Iix2YWx1ZTpmdW5jdGlvbiBzZXRNYXRyaXhBdChpbmRleCxtYXRyaXgpe21hdHJpeC50b0FycmF5KHRoaXMuaW5zdGFuY2VNYXRyaXguYXJyYXksaW5kZXgqMTYpO319LHtrZXk6InVwZGF0ZU1vcnBoVGFyZ2V0cyIsdmFsdWU6ZnVuY3Rpb24gdXBkYXRlTW9ycGhUYXJnZXRzKCl7fX0se2tleToiZGlzcG9zZSIsdmFsdWU6ZnVuY3Rpb24gZGlzcG9zZSgpe3RoaXMuZGlzcGF0Y2hFdmVudCh7dHlwZTonZGlzcG9zZSd9KTt9fV0pO3JldHVybiBJbnN0YW5jZWRNZXNoO30oTWVzaCk7SW5zdGFuY2VkTWVzaC5wcm90b3R5cGUuaXNJbnN0YW5jZWRNZXNoPXRydWU7LyoqCiAqIHBhcmFtZXRlcnMgPSB7CiAqICBjb2xvcjogPGhleD4sCiAqICBvcGFjaXR5OiA8ZmxvYXQ+LAogKgogKiAgbGluZXdpZHRoOiA8ZmxvYXQ+LAogKiAgbGluZWNhcDogInJvdW5kIiwKICogIGxpbmVqb2luOiAicm91bmQiCiAqIH0KICovdmFyIExpbmVCYXNpY01hdGVyaWFsPS8qI19fUFVSRV9fKi9mdW5jdGlvbihfTWF0ZXJpYWw2KXtfaW5oZXJpdHMoTGluZUJhc2ljTWF0ZXJpYWwsX01hdGVyaWFsNik7dmFyIF9zdXBlcjQ4PV9jcmVhdGVTdXBlcihMaW5lQmFzaWNNYXRlcmlhbCk7ZnVuY3Rpb24gTGluZUJhc2ljTWF0ZXJpYWwocGFyYW1ldGVycyl7dmFyIF90aGlzMzg7X2NsYXNzQ2FsbENoZWNrKHRoaXMsTGluZUJhc2ljTWF0ZXJpYWwpO190aGlzMzg9X3N1cGVyNDguY2FsbCh0aGlzKTtfdGhpczM4LnR5cGU9J0xpbmVCYXNpY01hdGVyaWFsJztfdGhpczM4LmNvbG9yPW5ldyBDb2xvcigweGZmZmZmZik7X3RoaXMzOC5saW5ld2lkdGg9MTtfdGhpczM4LmxpbmVjYXA9J3JvdW5kJztfdGhpczM4LmxpbmVqb2luPSdyb3VuZCc7X3RoaXMzOC5zZXRWYWx1ZXMocGFyYW1ldGVycyk7cmV0dXJuIF90aGlzMzg7fV9jcmVhdGVDbGFzcyhMaW5lQmFzaWNNYXRlcmlhbCxbe2tleToiY29weSIsdmFsdWU6ZnVuY3Rpb24gY29weShzb3VyY2Upe19nZXQoX2dldFByb3RvdHlwZU9mKExpbmVCYXNpY01hdGVyaWFsLnByb3RvdHlwZSksImNvcHkiLHRoaXMpLmNhbGwodGhpcyxzb3VyY2UpO3RoaXMuY29sb3IuY29weShzb3VyY2UuY29sb3IpO3RoaXMubGluZXdpZHRoPXNvdXJjZS5saW5ld2lkdGg7dGhpcy5saW5lY2FwPXNvdXJjZS5saW5lY2FwO3RoaXMubGluZWpvaW49c291cmNlLmxpbmVqb2luO3JldHVybiB0aGlzO319XSk7cmV0dXJuIExpbmVCYXNpY01hdGVyaWFsO30oTWF0ZXJpYWwpO0xpbmVCYXNpY01hdGVyaWFsLnByb3RvdHlwZS5pc0xpbmVCYXNpY01hdGVyaWFsPXRydWU7dmFyIF9zdGFydCQxPS8qQF9fUFVSRV9fKi9uZXcgVmVjdG9yMygpO3ZhciBfZW5kJDE9LypAX19QVVJFX18qL25ldyBWZWN0b3IzKCk7dmFyIF9pbnZlcnNlTWF0cml4JDE9LypAX19QVVJFX18qL25ldyBNYXRyaXg0KCk7dmFyIF9yYXkkMT0vKkBfX1BVUkVfXyovbmV3IFJheSgpO3ZhciBfc3BoZXJlJDE9LypAX19QVVJFX18qL25ldyBTcGhlcmUoKTt2YXIgTGluZT0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX09iamVjdDNEOSl7X2luaGVyaXRzKExpbmUsX09iamVjdDNEOSk7dmFyIF9zdXBlcjQ5PV9jcmVhdGVTdXBlcihMaW5lKTtmdW5jdGlvbiBMaW5lKCl7dmFyIF90aGlzMzk7dmFyIGdlb21ldHJ5PWFyZ3VtZW50cy5sZW5ndGg+MCYmYXJndW1lbnRzWzBdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1swXTpuZXcgQnVmZmVyR2VvbWV0cnkoKTt2YXIgbWF0ZXJpYWw9YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzFdOm5ldyBMaW5lQmFzaWNNYXRlcmlhbCgpO19jbGFzc0NhbGxDaGVjayh0aGlzLExpbmUpO190aGlzMzk9X3N1cGVyNDkuY2FsbCh0aGlzKTtfdGhpczM5LnR5cGU9J0xpbmUnO190aGlzMzkuZ2VvbWV0cnk9Z2VvbWV0cnk7X3RoaXMzOS5tYXRlcmlhbD1tYXRlcmlhbDtfdGhpczM5LnVwZGF0ZU1vcnBoVGFyZ2V0cygpO3JldHVybiBfdGhpczM5O31fY3JlYXRlQ2xhc3MoTGluZSxbe2tleToiY29weSIsdmFsdWU6ZnVuY3Rpb24gY29weShzb3VyY2Upe19nZXQoX2dldFByb3RvdHlwZU9mKExpbmUucHJvdG90eXBlKSwiY29weSIsdGhpcykuY2FsbCh0aGlzLHNvdXJjZSk7dGhpcy5tYXRlcmlhbD1zb3VyY2UubWF0ZXJpYWw7dGhpcy5nZW9tZXRyeT1zb3VyY2UuZ2VvbWV0cnk7cmV0dXJuIHRoaXM7fX0se2tleToiY29tcHV0ZUxpbmVEaXN0YW5jZXMiLHZhbHVlOmZ1bmN0aW9uIGNvbXB1dGVMaW5lRGlzdGFuY2VzKCl7dmFyIGdlb21ldHJ5PXRoaXMuZ2VvbWV0cnk7aWYoZ2VvbWV0cnkuaXNCdWZmZXJHZW9tZXRyeSl7Ly8gd2UgYXNzdW1lIG5vbi1pbmRleGVkIGdlb21ldHJ5CmlmKGdlb21ldHJ5LmluZGV4PT09bnVsbCl7dmFyIHBvc2l0aW9uQXR0cmlidXRlPWdlb21ldHJ5LmF0dHJpYnV0ZXMucG9zaXRpb247dmFyIGxpbmVEaXN0YW5jZXM9WzBdO2Zvcih2YXIgX2kxNzM9MSxsPXBvc2l0aW9uQXR0cmlidXRlLmNvdW50O19pMTczPGw7X2kxNzMrKyl7X3N0YXJ0JDEuZnJvbUJ1ZmZlckF0dHJpYnV0ZShwb3NpdGlvbkF0dHJpYnV0ZSxfaTE3My0xKTtfZW5kJDEuZnJvbUJ1ZmZlckF0dHJpYnV0ZShwb3NpdGlvbkF0dHJpYnV0ZSxfaTE3Myk7bGluZURpc3RhbmNlc1tfaTE3M109bGluZURpc3RhbmNlc1tfaTE3My0xXTtsaW5lRGlzdGFuY2VzW19pMTczXSs9X3N0YXJ0JDEuZGlzdGFuY2VUbyhfZW5kJDEpO31nZW9tZXRyeS5zZXRBdHRyaWJ1dGUoJ2xpbmVEaXN0YW5jZScsbmV3IEZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUobGluZURpc3RhbmNlcywxKSk7fWVsc2V7Y29uc29sZS53YXJuKCdUSFJFRS5MaW5lLmNvbXB1dGVMaW5lRGlzdGFuY2VzKCk6IENvbXB1dGF0aW9uIG9ubHkgcG9zc2libGUgd2l0aCBub24taW5kZXhlZCBCdWZmZXJHZW9tZXRyeS4nKTt9fWVsc2UgaWYoZ2VvbWV0cnkuaXNHZW9tZXRyeSl7Y29uc29sZS5lcnJvcignVEhSRUUuTGluZS5jb21wdXRlTGluZURpc3RhbmNlcygpIG5vIGxvbmdlciBzdXBwb3J0cyBUSFJFRS5HZW9tZXRyeS4gVXNlIFRIUkVFLkJ1ZmZlckdlb21ldHJ5IGluc3RlYWQuJyk7fXJldHVybiB0aGlzO319LHtrZXk6InJheWNhc3QiLHZhbHVlOmZ1bmN0aW9uIHJheWNhc3QocmF5Y2FzdGVyLGludGVyc2VjdHMpe3ZhciBnZW9tZXRyeT10aGlzLmdlb21ldHJ5O3ZhciBtYXRyaXhXb3JsZD10aGlzLm1hdHJpeFdvcmxkO3ZhciB0aHJlc2hvbGQ9cmF5Y2FzdGVyLnBhcmFtcy5MaW5lLnRocmVzaG9sZDt2YXIgZHJhd1JhbmdlPWdlb21ldHJ5LmRyYXdSYW5nZTsvLyBDaGVja2luZyBib3VuZGluZ1NwaGVyZSBkaXN0YW5jZSB0byByYXkKaWYoZ2VvbWV0cnkuYm91bmRpbmdTcGhlcmU9PT1udWxsKWdlb21ldHJ5LmNvbXB1dGVCb3VuZGluZ1NwaGVyZSgpO19zcGhlcmUkMS5jb3B5KGdlb21ldHJ5LmJvdW5kaW5nU3BoZXJlKTtfc3BoZXJlJDEuYXBwbHlNYXRyaXg0KG1hdHJpeFdvcmxkKTtfc3BoZXJlJDEucmFkaXVzKz10aHJlc2hvbGQ7aWYocmF5Y2FzdGVyLnJheS5pbnRlcnNlY3RzU3BoZXJlKF9zcGhlcmUkMSk9PT1mYWxzZSlyZXR1cm47Ly8KX2ludmVyc2VNYXRyaXgkMS5jb3B5KG1hdHJpeFdvcmxkKS5pbnZlcnQoKTtfcmF5JDEuY29weShyYXljYXN0ZXIucmF5KS5hcHBseU1hdHJpeDQoX2ludmVyc2VNYXRyaXgkMSk7dmFyIGxvY2FsVGhyZXNob2xkPXRocmVzaG9sZC8oKHRoaXMuc2NhbGUueCt0aGlzLnNjYWxlLnkrdGhpcy5zY2FsZS56KS8zKTt2YXIgbG9jYWxUaHJlc2hvbGRTcT1sb2NhbFRocmVzaG9sZCpsb2NhbFRocmVzaG9sZDt2YXIgdlN0YXJ0PW5ldyBWZWN0b3IzKCk7dmFyIHZFbmQ9bmV3IFZlY3RvcjMoKTt2YXIgaW50ZXJTZWdtZW50PW5ldyBWZWN0b3IzKCk7dmFyIGludGVyUmF5PW5ldyBWZWN0b3IzKCk7dmFyIHN0ZXA9dGhpcy5pc0xpbmVTZWdtZW50cz8yOjE7aWYoZ2VvbWV0cnkuaXNCdWZmZXJHZW9tZXRyeSl7dmFyIGluZGV4PWdlb21ldHJ5LmluZGV4O3ZhciBhdHRyaWJ1dGVzPWdlb21ldHJ5LmF0dHJpYnV0ZXM7dmFyIHBvc2l0aW9uQXR0cmlidXRlPWF0dHJpYnV0ZXMucG9zaXRpb247aWYoaW5kZXghPT1udWxsKXt2YXIgc3RhcnQ9TWF0aC5tYXgoMCxkcmF3UmFuZ2Uuc3RhcnQpO3ZhciBlbmQ9TWF0aC5taW4oaW5kZXguY291bnQsZHJhd1JhbmdlLnN0YXJ0K2RyYXdSYW5nZS5jb3VudCk7Zm9yKHZhciBfaTE3ND1zdGFydCxsPWVuZC0xO19pMTc0PGw7X2kxNzQrPXN0ZXApe3ZhciBhPWluZGV4LmdldFgoX2kxNzQpO3ZhciBiPWluZGV4LmdldFgoX2kxNzQrMSk7dlN0YXJ0LmZyb21CdWZmZXJBdHRyaWJ1dGUocG9zaXRpb25BdHRyaWJ1dGUsYSk7dkVuZC5mcm9tQnVmZmVyQXR0cmlidXRlKHBvc2l0aW9uQXR0cmlidXRlLGIpO3ZhciBkaXN0U3E9X3JheSQxLmRpc3RhbmNlU3FUb1NlZ21lbnQodlN0YXJ0LHZFbmQsaW50ZXJSYXksaW50ZXJTZWdtZW50KTtpZihkaXN0U3E+bG9jYWxUaHJlc2hvbGRTcSljb250aW51ZTtpbnRlclJheS5hcHBseU1hdHJpeDQodGhpcy5tYXRyaXhXb3JsZCk7Ly9Nb3ZlIGJhY2sgdG8gd29ybGQgc3BhY2UgZm9yIGRpc3RhbmNlIGNhbGN1bGF0aW9uCnZhciBkaXN0YW5jZT1yYXljYXN0ZXIucmF5Lm9yaWdpbi5kaXN0YW5jZVRvKGludGVyUmF5KTtpZihkaXN0YW5jZTxyYXljYXN0ZXIubmVhcnx8ZGlzdGFuY2U+cmF5Y2FzdGVyLmZhciljb250aW51ZTtpbnRlcnNlY3RzLnB1c2goe2Rpc3RhbmNlOmRpc3RhbmNlLC8vIFdoYXQgZG8gd2Ugd2FudD8gaW50ZXJzZWN0aW9uIHBvaW50IG9uIHRoZSByYXkgb3Igb24gdGhlIHNlZ21lbnQ/PwovLyBwb2ludDogcmF5Y2FzdGVyLnJheS5hdCggZGlzdGFuY2UgKSwKcG9pbnQ6aW50ZXJTZWdtZW50LmNsb25lKCkuYXBwbHlNYXRyaXg0KHRoaXMubWF0cml4V29ybGQpLGluZGV4Ol9pMTc0LGZhY2U6bnVsbCxmYWNlSW5kZXg6bnVsbCxvYmplY3Q6dGhpc30pO319ZWxzZXt2YXIgX3N0YXJ0Nj1NYXRoLm1heCgwLGRyYXdSYW5nZS5zdGFydCk7dmFyIF9lbmQ1PU1hdGgubWluKHBvc2l0aW9uQXR0cmlidXRlLmNvdW50LGRyYXdSYW5nZS5zdGFydCtkcmF3UmFuZ2UuY291bnQpO2Zvcih2YXIgX2kxNzU9X3N0YXJ0NixfbDc9X2VuZDUtMTtfaTE3NTxfbDc7X2kxNzUrPXN0ZXApe3ZTdGFydC5mcm9tQnVmZmVyQXR0cmlidXRlKHBvc2l0aW9uQXR0cmlidXRlLF9pMTc1KTt2RW5kLmZyb21CdWZmZXJBdHRyaWJ1dGUocG9zaXRpb25BdHRyaWJ1dGUsX2kxNzUrMSk7dmFyIF9kaXN0U3E9X3JheSQxLmRpc3RhbmNlU3FUb1NlZ21lbnQodlN0YXJ0LHZFbmQsaW50ZXJSYXksaW50ZXJTZWdtZW50KTtpZihfZGlzdFNxPmxvY2FsVGhyZXNob2xkU3EpY29udGludWU7aW50ZXJSYXkuYXBwbHlNYXRyaXg0KHRoaXMubWF0cml4V29ybGQpOy8vTW92ZSBiYWNrIHRvIHdvcmxkIHNwYWNlIGZvciBkaXN0YW5jZSBjYWxjdWxhdGlvbgp2YXIgX2Rpc3RhbmNlPXJheWNhc3Rlci5yYXkub3JpZ2luLmRpc3RhbmNlVG8oaW50ZXJSYXkpO2lmKF9kaXN0YW5jZTxyYXljYXN0ZXIubmVhcnx8X2Rpc3RhbmNlPnJheWNhc3Rlci5mYXIpY29udGludWU7aW50ZXJzZWN0cy5wdXNoKHtkaXN0YW5jZTpfZGlzdGFuY2UsLy8gV2hhdCBkbyB3ZSB3YW50PyBpbnRlcnNlY3Rpb24gcG9pbnQgb24gdGhlIHJheSBvciBvbiB0aGUgc2VnbWVudD8/Ci8vIHBvaW50OiByYXljYXN0ZXIucmF5LmF0KCBkaXN0YW5jZSApLApwb2ludDppbnRlclNlZ21lbnQuY2xvbmUoKS5hcHBseU1hdHJpeDQodGhpcy5tYXRyaXhXb3JsZCksaW5kZXg6X2kxNzUsZmFjZTpudWxsLGZhY2VJbmRleDpudWxsLG9iamVjdDp0aGlzfSk7fX19ZWxzZSBpZihnZW9tZXRyeS5pc0dlb21ldHJ5KXtjb25zb2xlLmVycm9yKCdUSFJFRS5MaW5lLnJheWNhc3QoKSBubyBsb25nZXIgc3VwcG9ydHMgVEhSRUUuR2VvbWV0cnkuIFVzZSBUSFJFRS5CdWZmZXJHZW9tZXRyeSBpbnN0ZWFkLicpO319fSx7a2V5OiJ1cGRhdGVNb3JwaFRhcmdldHMiLHZhbHVlOmZ1bmN0aW9uIHVwZGF0ZU1vcnBoVGFyZ2V0cygpe3ZhciBnZW9tZXRyeT10aGlzLmdlb21ldHJ5O2lmKGdlb21ldHJ5LmlzQnVmZmVyR2VvbWV0cnkpe3ZhciBtb3JwaEF0dHJpYnV0ZXM9Z2VvbWV0cnkubW9ycGhBdHRyaWJ1dGVzO3ZhciBrZXlzPU9iamVjdC5rZXlzKG1vcnBoQXR0cmlidXRlcyk7aWYoa2V5cy5sZW5ndGg+MCl7dmFyIG1vcnBoQXR0cmlidXRlPW1vcnBoQXR0cmlidXRlc1trZXlzWzBdXTtpZihtb3JwaEF0dHJpYnV0ZSE9PXVuZGVmaW5lZCl7dGhpcy5tb3JwaFRhcmdldEluZmx1ZW5jZXM9W107dGhpcy5tb3JwaFRhcmdldERpY3Rpb25hcnk9e307Zm9yKHZhciBtPTAsbWw9bW9ycGhBdHRyaWJ1dGUubGVuZ3RoO208bWw7bSsrKXt2YXIgbmFtZT1tb3JwaEF0dHJpYnV0ZVttXS5uYW1lfHxTdHJpbmcobSk7dGhpcy5tb3JwaFRhcmdldEluZmx1ZW5jZXMucHVzaCgwKTt0aGlzLm1vcnBoVGFyZ2V0RGljdGlvbmFyeVtuYW1lXT1tO319fX1lbHNle3ZhciBtb3JwaFRhcmdldHM9Z2VvbWV0cnkubW9ycGhUYXJnZXRzO2lmKG1vcnBoVGFyZ2V0cyE9PXVuZGVmaW5lZCYmbW9ycGhUYXJnZXRzLmxlbmd0aD4wKXtjb25zb2xlLmVycm9yKCdUSFJFRS5MaW5lLnVwZGF0ZU1vcnBoVGFyZ2V0cygpIGRvZXMgbm90IHN1cHBvcnQgVEhSRUUuR2VvbWV0cnkuIFVzZSBUSFJFRS5CdWZmZXJHZW9tZXRyeSBpbnN0ZWFkLicpO319fX1dKTtyZXR1cm4gTGluZTt9KE9iamVjdDNEKTtMaW5lLnByb3RvdHlwZS5pc0xpbmU9dHJ1ZTt2YXIgX3N0YXJ0PS8qQF9fUFVSRV9fKi9uZXcgVmVjdG9yMygpO3ZhciBfZW5kPS8qQF9fUFVSRV9fKi9uZXcgVmVjdG9yMygpO3ZhciBMaW5lU2VnbWVudHM9LyojX19QVVJFX18qL2Z1bmN0aW9uKF9MaW5lKXtfaW5oZXJpdHMoTGluZVNlZ21lbnRzLF9MaW5lKTt2YXIgX3N1cGVyNTA9X2NyZWF0ZVN1cGVyKExpbmVTZWdtZW50cyk7ZnVuY3Rpb24gTGluZVNlZ21lbnRzKGdlb21ldHJ5LG1hdGVyaWFsKXt2YXIgX3RoaXM0MDtfY2xhc3NDYWxsQ2hlY2sodGhpcyxMaW5lU2VnbWVudHMpO190aGlzNDA9X3N1cGVyNTAuY2FsbCh0aGlzLGdlb21ldHJ5LG1hdGVyaWFsKTtfdGhpczQwLnR5cGU9J0xpbmVTZWdtZW50cyc7cmV0dXJuIF90aGlzNDA7fV9jcmVhdGVDbGFzcyhMaW5lU2VnbWVudHMsW3trZXk6ImNvbXB1dGVMaW5lRGlzdGFuY2VzIix2YWx1ZTpmdW5jdGlvbiBjb21wdXRlTGluZURpc3RhbmNlcygpe3ZhciBnZW9tZXRyeT10aGlzLmdlb21ldHJ5O2lmKGdlb21ldHJ5LmlzQnVmZmVyR2VvbWV0cnkpey8vIHdlIGFzc3VtZSBub24taW5kZXhlZCBnZW9tZXRyeQppZihnZW9tZXRyeS5pbmRleD09PW51bGwpe3ZhciBwb3NpdGlvbkF0dHJpYnV0ZT1nZW9tZXRyeS5hdHRyaWJ1dGVzLnBvc2l0aW9uO3ZhciBsaW5lRGlzdGFuY2VzPVtdO2Zvcih2YXIgX2kxNzY9MCxsPXBvc2l0aW9uQXR0cmlidXRlLmNvdW50O19pMTc2PGw7X2kxNzYrPTIpe19zdGFydC5mcm9tQnVmZmVyQXR0cmlidXRlKHBvc2l0aW9uQXR0cmlidXRlLF9pMTc2KTtfZW5kLmZyb21CdWZmZXJBdHRyaWJ1dGUocG9zaXRpb25BdHRyaWJ1dGUsX2kxNzYrMSk7bGluZURpc3RhbmNlc1tfaTE3Nl09X2kxNzY9PT0wPzA6bGluZURpc3RhbmNlc1tfaTE3Ni0xXTtsaW5lRGlzdGFuY2VzW19pMTc2KzFdPWxpbmVEaXN0YW5jZXNbX2kxNzZdK19zdGFydC5kaXN0YW5jZVRvKF9lbmQpO31nZW9tZXRyeS5zZXRBdHRyaWJ1dGUoJ2xpbmVEaXN0YW5jZScsbmV3IEZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUobGluZURpc3RhbmNlcywxKSk7fWVsc2V7Y29uc29sZS53YXJuKCdUSFJFRS5MaW5lU2VnbWVudHMuY29tcHV0ZUxpbmVEaXN0YW5jZXMoKTogQ29tcHV0YXRpb24gb25seSBwb3NzaWJsZSB3aXRoIG5vbi1pbmRleGVkIEJ1ZmZlckdlb21ldHJ5LicpO319ZWxzZSBpZihnZW9tZXRyeS5pc0dlb21ldHJ5KXtjb25zb2xlLmVycm9yKCdUSFJFRS5MaW5lU2VnbWVudHMuY29tcHV0ZUxpbmVEaXN0YW5jZXMoKSBubyBsb25nZXIgc3VwcG9ydHMgVEhSRUUuR2VvbWV0cnkuIFVzZSBUSFJFRS5CdWZmZXJHZW9tZXRyeSBpbnN0ZWFkLicpO31yZXR1cm4gdGhpczt9fV0pO3JldHVybiBMaW5lU2VnbWVudHM7fShMaW5lKTtMaW5lU2VnbWVudHMucHJvdG90eXBlLmlzTGluZVNlZ21lbnRzPXRydWU7dmFyIExpbmVMb29wPS8qI19fUFVSRV9fKi9mdW5jdGlvbihfTGluZTIpe19pbmhlcml0cyhMaW5lTG9vcCxfTGluZTIpO3ZhciBfc3VwZXI1MT1fY3JlYXRlU3VwZXIoTGluZUxvb3ApO2Z1bmN0aW9uIExpbmVMb29wKGdlb21ldHJ5LG1hdGVyaWFsKXt2YXIgX3RoaXM0MTtfY2xhc3NDYWxsQ2hlY2sodGhpcyxMaW5lTG9vcCk7X3RoaXM0MT1fc3VwZXI1MS5jYWxsKHRoaXMsZ2VvbWV0cnksbWF0ZXJpYWwpO190aGlzNDEudHlwZT0nTGluZUxvb3AnO3JldHVybiBfdGhpczQxO31yZXR1cm4gX2NyZWF0ZUNsYXNzKExpbmVMb29wKTt9KExpbmUpO0xpbmVMb29wLnByb3RvdHlwZS5pc0xpbmVMb29wPXRydWU7LyoqCiAqIHBhcmFtZXRlcnMgPSB7CiAqICBjb2xvcjogPGhleD4sCiAqICBvcGFjaXR5OiA8ZmxvYXQ+LAogKiAgbWFwOiBuZXcgVEhSRUUuVGV4dHVyZSggPEltYWdlPiApLAogKiAgYWxwaGFNYXA6IG5ldyBUSFJFRS5UZXh0dXJlKCA8SW1hZ2U+ICksCiAqCiAqICBzaXplOiA8ZmxvYXQ+LAogKiAgc2l6ZUF0dGVudWF0aW9uOiA8Ym9vbD4KICoKICogfQogKi92YXIgUG9pbnRzTWF0ZXJpYWw9LyojX19QVVJFX18qL2Z1bmN0aW9uKF9NYXRlcmlhbDcpe19pbmhlcml0cyhQb2ludHNNYXRlcmlhbCxfTWF0ZXJpYWw3KTt2YXIgX3N1cGVyNTI9X2NyZWF0ZVN1cGVyKFBvaW50c01hdGVyaWFsKTtmdW5jdGlvbiBQb2ludHNNYXRlcmlhbChwYXJhbWV0ZXJzKXt2YXIgX3RoaXM0MjtfY2xhc3NDYWxsQ2hlY2sodGhpcyxQb2ludHNNYXRlcmlhbCk7X3RoaXM0Mj1fc3VwZXI1Mi5jYWxsKHRoaXMpO190aGlzNDIudHlwZT0nUG9pbnRzTWF0ZXJpYWwnO190aGlzNDIuY29sb3I9bmV3IENvbG9yKDB4ZmZmZmZmKTtfdGhpczQyLm1hcD1udWxsO190aGlzNDIuYWxwaGFNYXA9bnVsbDtfdGhpczQyLnNpemU9MTtfdGhpczQyLnNpemVBdHRlbnVhdGlvbj10cnVlO190aGlzNDIuc2V0VmFsdWVzKHBhcmFtZXRlcnMpO3JldHVybiBfdGhpczQyO31fY3JlYXRlQ2xhc3MoUG9pbnRzTWF0ZXJpYWwsW3trZXk6ImNvcHkiLHZhbHVlOmZ1bmN0aW9uIGNvcHkoc291cmNlKXtfZ2V0KF9nZXRQcm90b3R5cGVPZihQb2ludHNNYXRlcmlhbC5wcm90b3R5cGUpLCJjb3B5Iix0aGlzKS5jYWxsKHRoaXMsc291cmNlKTt0aGlzLmNvbG9yLmNvcHkoc291cmNlLmNvbG9yKTt0aGlzLm1hcD1zb3VyY2UubWFwO3RoaXMuYWxwaGFNYXA9c291cmNlLmFscGhhTWFwO3RoaXMuc2l6ZT1zb3VyY2Uuc2l6ZTt0aGlzLnNpemVBdHRlbnVhdGlvbj1zb3VyY2Uuc2l6ZUF0dGVudWF0aW9uO3JldHVybiB0aGlzO319XSk7cmV0dXJuIFBvaW50c01hdGVyaWFsO30oTWF0ZXJpYWwpO1BvaW50c01hdGVyaWFsLnByb3RvdHlwZS5pc1BvaW50c01hdGVyaWFsPXRydWU7dmFyIF9pbnZlcnNlTWF0cml4PS8qQF9fUFVSRV9fKi9uZXcgTWF0cml4NCgpO3ZhciBfcmF5PS8qQF9fUFVSRV9fKi9uZXcgUmF5KCk7dmFyIF9zcGhlcmU9LypAX19QVVJFX18qL25ldyBTcGhlcmUoKTt2YXIgX3Bvc2l0aW9uJDI9LypAX19QVVJFX18qL25ldyBWZWN0b3IzKCk7dmFyIFBvaW50cz0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX09iamVjdDNEMTApe19pbmhlcml0cyhQb2ludHMsX09iamVjdDNEMTApO3ZhciBfc3VwZXI1Mz1fY3JlYXRlU3VwZXIoUG9pbnRzKTtmdW5jdGlvbiBQb2ludHMoKXt2YXIgX3RoaXM0Mzt2YXIgZ2VvbWV0cnk9YXJndW1lbnRzLmxlbmd0aD4wJiZhcmd1bWVudHNbMF0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzBdOm5ldyBCdWZmZXJHZW9tZXRyeSgpO3ZhciBtYXRlcmlhbD1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMV06bmV3IFBvaW50c01hdGVyaWFsKCk7X2NsYXNzQ2FsbENoZWNrKHRoaXMsUG9pbnRzKTtfdGhpczQzPV9zdXBlcjUzLmNhbGwodGhpcyk7X3RoaXM0My50eXBlPSdQb2ludHMnO190aGlzNDMuZ2VvbWV0cnk9Z2VvbWV0cnk7X3RoaXM0My5tYXRlcmlhbD1tYXRlcmlhbDtfdGhpczQzLnVwZGF0ZU1vcnBoVGFyZ2V0cygpO3JldHVybiBfdGhpczQzO31fY3JlYXRlQ2xhc3MoUG9pbnRzLFt7a2V5OiJjb3B5Iix2YWx1ZTpmdW5jdGlvbiBjb3B5KHNvdXJjZSl7X2dldChfZ2V0UHJvdG90eXBlT2YoUG9pbnRzLnByb3RvdHlwZSksImNvcHkiLHRoaXMpLmNhbGwodGhpcyxzb3VyY2UpO3RoaXMubWF0ZXJpYWw9c291cmNlLm1hdGVyaWFsO3RoaXMuZ2VvbWV0cnk9c291cmNlLmdlb21ldHJ5O3JldHVybiB0aGlzO319LHtrZXk6InJheWNhc3QiLHZhbHVlOmZ1bmN0aW9uIHJheWNhc3QocmF5Y2FzdGVyLGludGVyc2VjdHMpe3ZhciBnZW9tZXRyeT10aGlzLmdlb21ldHJ5O3ZhciBtYXRyaXhXb3JsZD10aGlzLm1hdHJpeFdvcmxkO3ZhciB0aHJlc2hvbGQ9cmF5Y2FzdGVyLnBhcmFtcy5Qb2ludHMudGhyZXNob2xkO3ZhciBkcmF3UmFuZ2U9Z2VvbWV0cnkuZHJhd1JhbmdlOy8vIENoZWNraW5nIGJvdW5kaW5nU3BoZXJlIGRpc3RhbmNlIHRvIHJheQppZihnZW9tZXRyeS5ib3VuZGluZ1NwaGVyZT09PW51bGwpZ2VvbWV0cnkuY29tcHV0ZUJvdW5kaW5nU3BoZXJlKCk7X3NwaGVyZS5jb3B5KGdlb21ldHJ5LmJvdW5kaW5nU3BoZXJlKTtfc3BoZXJlLmFwcGx5TWF0cml4NChtYXRyaXhXb3JsZCk7X3NwaGVyZS5yYWRpdXMrPXRocmVzaG9sZDtpZihyYXljYXN0ZXIucmF5LmludGVyc2VjdHNTcGhlcmUoX3NwaGVyZSk9PT1mYWxzZSlyZXR1cm47Ly8KX2ludmVyc2VNYXRyaXguY29weShtYXRyaXhXb3JsZCkuaW52ZXJ0KCk7X3JheS5jb3B5KHJheWNhc3Rlci5yYXkpLmFwcGx5TWF0cml4NChfaW52ZXJzZU1hdHJpeCk7dmFyIGxvY2FsVGhyZXNob2xkPXRocmVzaG9sZC8oKHRoaXMuc2NhbGUueCt0aGlzLnNjYWxlLnkrdGhpcy5zY2FsZS56KS8zKTt2YXIgbG9jYWxUaHJlc2hvbGRTcT1sb2NhbFRocmVzaG9sZCpsb2NhbFRocmVzaG9sZDtpZihnZW9tZXRyeS5pc0J1ZmZlckdlb21ldHJ5KXt2YXIgaW5kZXg9Z2VvbWV0cnkuaW5kZXg7dmFyIGF0dHJpYnV0ZXM9Z2VvbWV0cnkuYXR0cmlidXRlczt2YXIgcG9zaXRpb25BdHRyaWJ1dGU9YXR0cmlidXRlcy5wb3NpdGlvbjtpZihpbmRleCE9PW51bGwpe3ZhciBzdGFydD1NYXRoLm1heCgwLGRyYXdSYW5nZS5zdGFydCk7dmFyIGVuZD1NYXRoLm1pbihpbmRleC5jb3VudCxkcmF3UmFuZ2Uuc3RhcnQrZHJhd1JhbmdlLmNvdW50KTtmb3IodmFyIF9pMTc3PXN0YXJ0LGlsPWVuZDtfaTE3NzxpbDtfaTE3NysrKXt2YXIgYT1pbmRleC5nZXRYKF9pMTc3KTtfcG9zaXRpb24kMi5mcm9tQnVmZmVyQXR0cmlidXRlKHBvc2l0aW9uQXR0cmlidXRlLGEpO3Rlc3RQb2ludChfcG9zaXRpb24kMixhLGxvY2FsVGhyZXNob2xkU3EsbWF0cml4V29ybGQscmF5Y2FzdGVyLGludGVyc2VjdHMsdGhpcyk7fX1lbHNle3ZhciBfc3RhcnQ3PU1hdGgubWF4KDAsZHJhd1JhbmdlLnN0YXJ0KTt2YXIgX2VuZDY9TWF0aC5taW4ocG9zaXRpb25BdHRyaWJ1dGUuY291bnQsZHJhd1JhbmdlLnN0YXJ0K2RyYXdSYW5nZS5jb3VudCk7Zm9yKHZhciBfaTE3OD1fc3RhcnQ3LGw9X2VuZDY7X2kxNzg8bDtfaTE3OCsrKXtfcG9zaXRpb24kMi5mcm9tQnVmZmVyQXR0cmlidXRlKHBvc2l0aW9uQXR0cmlidXRlLF9pMTc4KTt0ZXN0UG9pbnQoX3Bvc2l0aW9uJDIsX2kxNzgsbG9jYWxUaHJlc2hvbGRTcSxtYXRyaXhXb3JsZCxyYXljYXN0ZXIsaW50ZXJzZWN0cyx0aGlzKTt9fX1lbHNle2NvbnNvbGUuZXJyb3IoJ1RIUkVFLlBvaW50cy5yYXljYXN0KCkgbm8gbG9uZ2VyIHN1cHBvcnRzIFRIUkVFLkdlb21ldHJ5LiBVc2UgVEhSRUUuQnVmZmVyR2VvbWV0cnkgaW5zdGVhZC4nKTt9fX0se2tleToidXBkYXRlTW9ycGhUYXJnZXRzIix2YWx1ZTpmdW5jdGlvbiB1cGRhdGVNb3JwaFRhcmdldHMoKXt2YXIgZ2VvbWV0cnk9dGhpcy5nZW9tZXRyeTtpZihnZW9tZXRyeS5pc0J1ZmZlckdlb21ldHJ5KXt2YXIgbW9ycGhBdHRyaWJ1dGVzPWdlb21ldHJ5Lm1vcnBoQXR0cmlidXRlczt2YXIga2V5cz1PYmplY3Qua2V5cyhtb3JwaEF0dHJpYnV0ZXMpO2lmKGtleXMubGVuZ3RoPjApe3ZhciBtb3JwaEF0dHJpYnV0ZT1tb3JwaEF0dHJpYnV0ZXNba2V5c1swXV07aWYobW9ycGhBdHRyaWJ1dGUhPT11bmRlZmluZWQpe3RoaXMubW9ycGhUYXJnZXRJbmZsdWVuY2VzPVtdO3RoaXMubW9ycGhUYXJnZXREaWN0aW9uYXJ5PXt9O2Zvcih2YXIgbT0wLG1sPW1vcnBoQXR0cmlidXRlLmxlbmd0aDttPG1sO20rKyl7dmFyIG5hbWU9bW9ycGhBdHRyaWJ1dGVbbV0ubmFtZXx8U3RyaW5nKG0pO3RoaXMubW9ycGhUYXJnZXRJbmZsdWVuY2VzLnB1c2goMCk7dGhpcy5tb3JwaFRhcmdldERpY3Rpb25hcnlbbmFtZV09bTt9fX19ZWxzZXt2YXIgbW9ycGhUYXJnZXRzPWdlb21ldHJ5Lm1vcnBoVGFyZ2V0cztpZihtb3JwaFRhcmdldHMhPT11bmRlZmluZWQmJm1vcnBoVGFyZ2V0cy5sZW5ndGg+MCl7Y29uc29sZS5lcnJvcignVEhSRUUuUG9pbnRzLnVwZGF0ZU1vcnBoVGFyZ2V0cygpIGRvZXMgbm90IHN1cHBvcnQgVEhSRUUuR2VvbWV0cnkuIFVzZSBUSFJFRS5CdWZmZXJHZW9tZXRyeSBpbnN0ZWFkLicpO319fX1dKTtyZXR1cm4gUG9pbnRzO30oT2JqZWN0M0QpO1BvaW50cy5wcm90b3R5cGUuaXNQb2ludHM9dHJ1ZTtmdW5jdGlvbiB0ZXN0UG9pbnQocG9pbnQsaW5kZXgsbG9jYWxUaHJlc2hvbGRTcSxtYXRyaXhXb3JsZCxyYXljYXN0ZXIsaW50ZXJzZWN0cyxvYmplY3Qpe3ZhciByYXlQb2ludERpc3RhbmNlU3E9X3JheS5kaXN0YW5jZVNxVG9Qb2ludChwb2ludCk7aWYocmF5UG9pbnREaXN0YW5jZVNxPGxvY2FsVGhyZXNob2xkU3Epe3ZhciBpbnRlcnNlY3RQb2ludD1uZXcgVmVjdG9yMygpO19yYXkuY2xvc2VzdFBvaW50VG9Qb2ludChwb2ludCxpbnRlcnNlY3RQb2ludCk7aW50ZXJzZWN0UG9pbnQuYXBwbHlNYXRyaXg0KG1hdHJpeFdvcmxkKTt2YXIgZGlzdGFuY2U9cmF5Y2FzdGVyLnJheS5vcmlnaW4uZGlzdGFuY2VUbyhpbnRlcnNlY3RQb2ludCk7aWYoZGlzdGFuY2U8cmF5Y2FzdGVyLm5lYXJ8fGRpc3RhbmNlPnJheWNhc3Rlci5mYXIpcmV0dXJuO2ludGVyc2VjdHMucHVzaCh7ZGlzdGFuY2U6ZGlzdGFuY2UsZGlzdGFuY2VUb1JheTpNYXRoLnNxcnQocmF5UG9pbnREaXN0YW5jZVNxKSxwb2ludDppbnRlcnNlY3RQb2ludCxpbmRleDppbmRleCxmYWNlOm51bGwsb2JqZWN0Om9iamVjdH0pO319dmFyIFZpZGVvVGV4dHVyZT0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX1RleHR1cmU2KXtfaW5oZXJpdHMoVmlkZW9UZXh0dXJlLF9UZXh0dXJlNik7dmFyIF9zdXBlcjU0PV9jcmVhdGVTdXBlcihWaWRlb1RleHR1cmUpO2Z1bmN0aW9uIFZpZGVvVGV4dHVyZSh2aWRlbyxtYXBwaW5nLHdyYXBTLHdyYXBULG1hZ0ZpbHRlcixtaW5GaWx0ZXIsZm9ybWF0LHR5cGUsYW5pc290cm9weSl7dmFyIF90aGlzNDQ7X2NsYXNzQ2FsbENoZWNrKHRoaXMsVmlkZW9UZXh0dXJlKTtfdGhpczQ0PV9zdXBlcjU0LmNhbGwodGhpcyx2aWRlbyxtYXBwaW5nLHdyYXBTLHdyYXBULG1hZ0ZpbHRlcixtaW5GaWx0ZXIsZm9ybWF0LHR5cGUsYW5pc290cm9weSk7X3RoaXM0NC5taW5GaWx0ZXI9bWluRmlsdGVyIT09dW5kZWZpbmVkP21pbkZpbHRlcjpMaW5lYXJGaWx0ZXI7X3RoaXM0NC5tYWdGaWx0ZXI9bWFnRmlsdGVyIT09dW5kZWZpbmVkP21hZ0ZpbHRlcjpMaW5lYXJGaWx0ZXI7X3RoaXM0NC5nZW5lcmF0ZU1pcG1hcHM9ZmFsc2U7dmFyIHNjb3BlPV9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXM0NCk7ZnVuY3Rpb24gdXBkYXRlVmlkZW8oKXtzY29wZS5uZWVkc1VwZGF0ZT10cnVlO3ZpZGVvLnJlcXVlc3RWaWRlb0ZyYW1lQ2FsbGJhY2sodXBkYXRlVmlkZW8pO31pZigncmVxdWVzdFZpZGVvRnJhbWVDYWxsYmFjaydpbiB2aWRlbyl7dmlkZW8ucmVxdWVzdFZpZGVvRnJhbWVDYWxsYmFjayh1cGRhdGVWaWRlbyk7fXJldHVybiBfdGhpczQ0O31fY3JlYXRlQ2xhc3MoVmlkZW9UZXh0dXJlLFt7a2V5OiJjbG9uZSIsdmFsdWU6ZnVuY3Rpb24gY2xvbmUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5pbWFnZSkuY29weSh0aGlzKTt9fSx7a2V5OiJ1cGRhdGUiLHZhbHVlOmZ1bmN0aW9uIHVwZGF0ZSgpe3ZhciB2aWRlbz10aGlzLmltYWdlO3ZhciBoYXNWaWRlb0ZyYW1lQ2FsbGJhY2s9KCdyZXF1ZXN0VmlkZW9GcmFtZUNhbGxiYWNrJ2luIHZpZGVvKTtpZihoYXNWaWRlb0ZyYW1lQ2FsbGJhY2s9PT1mYWxzZSYmdmlkZW8ucmVhZHlTdGF0ZT49dmlkZW8uSEFWRV9DVVJSRU5UX0RBVEEpe3RoaXMubmVlZHNVcGRhdGU9dHJ1ZTt9fX1dKTtyZXR1cm4gVmlkZW9UZXh0dXJlO30oVGV4dHVyZSk7VmlkZW9UZXh0dXJlLnByb3RvdHlwZS5pc1ZpZGVvVGV4dHVyZT10cnVlO3ZhciBGcmFtZWJ1ZmZlclRleHR1cmU9LyojX19QVVJFX18qL2Z1bmN0aW9uKF9UZXh0dXJlNyl7X2luaGVyaXRzKEZyYW1lYnVmZmVyVGV4dHVyZSxfVGV4dHVyZTcpO3ZhciBfc3VwZXI1NT1fY3JlYXRlU3VwZXIoRnJhbWVidWZmZXJUZXh0dXJlKTtmdW5jdGlvbiBGcmFtZWJ1ZmZlclRleHR1cmUod2lkdGgsaGVpZ2h0LGZvcm1hdCl7dmFyIF90aGlzNDU7X2NsYXNzQ2FsbENoZWNrKHRoaXMsRnJhbWVidWZmZXJUZXh0dXJlKTtfdGhpczQ1PV9zdXBlcjU1LmNhbGwodGhpcyx7d2lkdGg6d2lkdGgsaGVpZ2h0OmhlaWdodH0pO190aGlzNDUuZm9ybWF0PWZvcm1hdDtfdGhpczQ1Lm1hZ0ZpbHRlcj1OZWFyZXN0RmlsdGVyO190aGlzNDUubWluRmlsdGVyPU5lYXJlc3RGaWx0ZXI7X3RoaXM0NS5nZW5lcmF0ZU1pcG1hcHM9ZmFsc2U7X3RoaXM0NS5uZWVkc1VwZGF0ZT10cnVlO3JldHVybiBfdGhpczQ1O31yZXR1cm4gX2NyZWF0ZUNsYXNzKEZyYW1lYnVmZmVyVGV4dHVyZSk7fShUZXh0dXJlKTtGcmFtZWJ1ZmZlclRleHR1cmUucHJvdG90eXBlLmlzRnJhbWVidWZmZXJUZXh0dXJlPXRydWU7dmFyIENvbXByZXNzZWRUZXh0dXJlPS8qI19fUFVSRV9fKi9mdW5jdGlvbihfVGV4dHVyZTgpe19pbmhlcml0cyhDb21wcmVzc2VkVGV4dHVyZSxfVGV4dHVyZTgpO3ZhciBfc3VwZXI1Nj1fY3JlYXRlU3VwZXIoQ29tcHJlc3NlZFRleHR1cmUpO2Z1bmN0aW9uIENvbXByZXNzZWRUZXh0dXJlKG1pcG1hcHMsd2lkdGgsaGVpZ2h0LGZvcm1hdCx0eXBlLG1hcHBpbmcsd3JhcFMsd3JhcFQsbWFnRmlsdGVyLG1pbkZpbHRlcixhbmlzb3Ryb3B5LGVuY29kaW5nKXt2YXIgX3RoaXM0NjtfY2xhc3NDYWxsQ2hlY2sodGhpcyxDb21wcmVzc2VkVGV4dHVyZSk7X3RoaXM0Nj1fc3VwZXI1Ni5jYWxsKHRoaXMsbnVsbCxtYXBwaW5nLHdyYXBTLHdyYXBULG1hZ0ZpbHRlcixtaW5GaWx0ZXIsZm9ybWF0LHR5cGUsYW5pc290cm9weSxlbmNvZGluZyk7X3RoaXM0Ni5pbWFnZT17d2lkdGg6d2lkdGgsaGVpZ2h0OmhlaWdodH07X3RoaXM0Ni5taXBtYXBzPW1pcG1hcHM7Ly8gbm8gZmxpcHBpbmcgZm9yIGN1YmUgdGV4dHVyZXMKLy8gKGFsc28gZmxpcHBpbmcgZG9lc24ndCB3b3JrIGZvciBjb21wcmVzc2VkIHRleHR1cmVzICkKX3RoaXM0Ni5mbGlwWT1mYWxzZTsvLyBjYW4ndCBnZW5lcmF0ZSBtaXBtYXBzIGZvciBjb21wcmVzc2VkIHRleHR1cmVzCi8vIG1pcHMgbXVzdCBiZSBlbWJlZGRlZCBpbiBERFMgZmlsZXMKX3RoaXM0Ni5nZW5lcmF0ZU1pcG1hcHM9ZmFsc2U7cmV0dXJuIF90aGlzNDY7fXJldHVybiBfY3JlYXRlQ2xhc3MoQ29tcHJlc3NlZFRleHR1cmUpO30oVGV4dHVyZSk7Q29tcHJlc3NlZFRleHR1cmUucHJvdG90eXBlLmlzQ29tcHJlc3NlZFRleHR1cmU9dHJ1ZTt2YXIgQ2FudmFzVGV4dHVyZT0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX1RleHR1cmU5KXtfaW5oZXJpdHMoQ2FudmFzVGV4dHVyZSxfVGV4dHVyZTkpO3ZhciBfc3VwZXI1Nz1fY3JlYXRlU3VwZXIoQ2FudmFzVGV4dHVyZSk7ZnVuY3Rpb24gQ2FudmFzVGV4dHVyZShjYW52YXMsbWFwcGluZyx3cmFwUyx3cmFwVCxtYWdGaWx0ZXIsbWluRmlsdGVyLGZvcm1hdCx0eXBlLGFuaXNvdHJvcHkpe3ZhciBfdGhpczQ3O19jbGFzc0NhbGxDaGVjayh0aGlzLENhbnZhc1RleHR1cmUpO190aGlzNDc9X3N1cGVyNTcuY2FsbCh0aGlzLGNhbnZhcyxtYXBwaW5nLHdyYXBTLHdyYXBULG1hZ0ZpbHRlcixtaW5GaWx0ZXIsZm9ybWF0LHR5cGUsYW5pc290cm9weSk7X3RoaXM0Ny5uZWVkc1VwZGF0ZT10cnVlO3JldHVybiBfdGhpczQ3O31yZXR1cm4gX2NyZWF0ZUNsYXNzKENhbnZhc1RleHR1cmUpO30oVGV4dHVyZSk7Q2FudmFzVGV4dHVyZS5wcm90b3R5cGUuaXNDYW52YXNUZXh0dXJlPXRydWU7dmFyIENpcmNsZUdlb21ldHJ5PS8qI19fUFVSRV9fKi9mdW5jdGlvbihfQnVmZmVyR2VvbWV0cnkzKXtfaW5oZXJpdHMoQ2lyY2xlR2VvbWV0cnksX0J1ZmZlckdlb21ldHJ5Myk7dmFyIF9zdXBlcjU4PV9jcmVhdGVTdXBlcihDaXJjbGVHZW9tZXRyeSk7ZnVuY3Rpb24gQ2lyY2xlR2VvbWV0cnkoKXt2YXIgX3RoaXM0ODt2YXIgcmFkaXVzPWFyZ3VtZW50cy5sZW5ndGg+MCYmYXJndW1lbnRzWzBdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1swXToxO3ZhciBzZWdtZW50cz1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMV06ODt2YXIgdGhldGFTdGFydD1hcmd1bWVudHMubGVuZ3RoPjImJmFyZ3VtZW50c1syXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMl06MDt2YXIgdGhldGFMZW5ndGg9YXJndW1lbnRzLmxlbmd0aD4zJiZhcmd1bWVudHNbM10hPT11bmRlZmluZWQ/YXJndW1lbnRzWzNdOk1hdGguUEkqMjtfY2xhc3NDYWxsQ2hlY2sodGhpcyxDaXJjbGVHZW9tZXRyeSk7X3RoaXM0OD1fc3VwZXI1OC5jYWxsKHRoaXMpO190aGlzNDgudHlwZT0nQ2lyY2xlR2VvbWV0cnknO190aGlzNDgucGFyYW1ldGVycz17cmFkaXVzOnJhZGl1cyxzZWdtZW50czpzZWdtZW50cyx0aGV0YVN0YXJ0OnRoZXRhU3RhcnQsdGhldGFMZW5ndGg6dGhldGFMZW5ndGh9O3NlZ21lbnRzPU1hdGgubWF4KDMsc2VnbWVudHMpOy8vIGJ1ZmZlcnMKdmFyIGluZGljZXM9W107dmFyIHZlcnRpY2VzPVtdO3ZhciBub3JtYWxzPVtdO3ZhciB1dnM9W107Ly8gaGVscGVyIHZhcmlhYmxlcwp2YXIgdmVydGV4PW5ldyBWZWN0b3IzKCk7dmFyIHV2PW5ldyBWZWN0b3IyKCk7Ly8gY2VudGVyIHBvaW50CnZlcnRpY2VzLnB1c2goMCwwLDApO25vcm1hbHMucHVzaCgwLDAsMSk7dXZzLnB1c2goMC41LDAuNSk7Zm9yKHZhciBzPTAsX2kxNzk9MztzPD1zZWdtZW50cztzKyssX2kxNzkrPTMpe3ZhciBzZWdtZW50PXRoZXRhU3RhcnQrcy9zZWdtZW50cyp0aGV0YUxlbmd0aDsvLyB2ZXJ0ZXgKdmVydGV4Lng9cmFkaXVzKk1hdGguY29zKHNlZ21lbnQpO3ZlcnRleC55PXJhZGl1cypNYXRoLnNpbihzZWdtZW50KTt2ZXJ0aWNlcy5wdXNoKHZlcnRleC54LHZlcnRleC55LHZlcnRleC56KTsvLyBub3JtYWwKbm9ybWFscy5wdXNoKDAsMCwxKTsvLyB1dnMKdXYueD0odmVydGljZXNbX2kxNzldL3JhZGl1cysxKS8yO3V2Lnk9KHZlcnRpY2VzW19pMTc5KzFdL3JhZGl1cysxKS8yO3V2cy5wdXNoKHV2LngsdXYueSk7fS8vIGluZGljZXMKZm9yKHZhciBfaTE4MD0xO19pMTgwPD1zZWdtZW50cztfaTE4MCsrKXtpbmRpY2VzLnB1c2goX2kxODAsX2kxODArMSwwKTt9Ly8gYnVpbGQgZ2VvbWV0cnkKX3RoaXM0OC5zZXRJbmRleChpbmRpY2VzKTtfdGhpczQ4LnNldEF0dHJpYnV0ZSgncG9zaXRpb24nLG5ldyBGbG9hdDMyQnVmZmVyQXR0cmlidXRlKHZlcnRpY2VzLDMpKTtfdGhpczQ4LnNldEF0dHJpYnV0ZSgnbm9ybWFsJyxuZXcgRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZShub3JtYWxzLDMpKTtfdGhpczQ4LnNldEF0dHJpYnV0ZSgndXYnLG5ldyBGbG9hdDMyQnVmZmVyQXR0cmlidXRlKHV2cywyKSk7cmV0dXJuIF90aGlzNDg7fV9jcmVhdGVDbGFzcyhDaXJjbGVHZW9tZXRyeSxudWxsLFt7a2V5OiJmcm9tSlNPTiIsdmFsdWU6ZnVuY3Rpb24gZnJvbUpTT04oZGF0YSl7cmV0dXJuIG5ldyBDaXJjbGVHZW9tZXRyeShkYXRhLnJhZGl1cyxkYXRhLnNlZ21lbnRzLGRhdGEudGhldGFTdGFydCxkYXRhLnRoZXRhTGVuZ3RoKTt9fV0pO3JldHVybiBDaXJjbGVHZW9tZXRyeTt9KEJ1ZmZlckdlb21ldHJ5KTt2YXIgQ3lsaW5kZXJHZW9tZXRyeT0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX0J1ZmZlckdlb21ldHJ5NCl7X2luaGVyaXRzKEN5bGluZGVyR2VvbWV0cnksX0J1ZmZlckdlb21ldHJ5NCk7dmFyIF9zdXBlcjU5PV9jcmVhdGVTdXBlcihDeWxpbmRlckdlb21ldHJ5KTtmdW5jdGlvbiBDeWxpbmRlckdlb21ldHJ5KCl7dmFyIF90aGlzNDk7dmFyIHJhZGl1c1RvcD1hcmd1bWVudHMubGVuZ3RoPjAmJmFyZ3VtZW50c1swXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMF06MTt2YXIgcmFkaXVzQm90dG9tPWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1sxXToxO3ZhciBoZWlnaHQ9YXJndW1lbnRzLmxlbmd0aD4yJiZhcmd1bWVudHNbMl0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzJdOjE7dmFyIHJhZGlhbFNlZ21lbnRzPWFyZ3VtZW50cy5sZW5ndGg+MyYmYXJndW1lbnRzWzNdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1szXTo4O3ZhciBoZWlnaHRTZWdtZW50cz1hcmd1bWVudHMubGVuZ3RoPjQmJmFyZ3VtZW50c1s0XSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbNF06MTt2YXIgb3BlbkVuZGVkPWFyZ3VtZW50cy5sZW5ndGg+NSYmYXJndW1lbnRzWzVdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1s1XTpmYWxzZTt2YXIgdGhldGFTdGFydD1hcmd1bWVudHMubGVuZ3RoPjYmJmFyZ3VtZW50c1s2XSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbNl06MDt2YXIgdGhldGFMZW5ndGg9YXJndW1lbnRzLmxlbmd0aD43JiZhcmd1bWVudHNbN10hPT11bmRlZmluZWQ/YXJndW1lbnRzWzddOk1hdGguUEkqMjtfY2xhc3NDYWxsQ2hlY2sodGhpcyxDeWxpbmRlckdlb21ldHJ5KTtfdGhpczQ5PV9zdXBlcjU5LmNhbGwodGhpcyk7X3RoaXM0OS50eXBlPSdDeWxpbmRlckdlb21ldHJ5JztfdGhpczQ5LnBhcmFtZXRlcnM9e3JhZGl1c1RvcDpyYWRpdXNUb3AscmFkaXVzQm90dG9tOnJhZGl1c0JvdHRvbSxoZWlnaHQ6aGVpZ2h0LHJhZGlhbFNlZ21lbnRzOnJhZGlhbFNlZ21lbnRzLGhlaWdodFNlZ21lbnRzOmhlaWdodFNlZ21lbnRzLG9wZW5FbmRlZDpvcGVuRW5kZWQsdGhldGFTdGFydDp0aGV0YVN0YXJ0LHRoZXRhTGVuZ3RoOnRoZXRhTGVuZ3RofTt2YXIgc2NvcGU9X2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpczQ5KTtyYWRpYWxTZWdtZW50cz1NYXRoLmZsb29yKHJhZGlhbFNlZ21lbnRzKTtoZWlnaHRTZWdtZW50cz1NYXRoLmZsb29yKGhlaWdodFNlZ21lbnRzKTsvLyBidWZmZXJzCnZhciBpbmRpY2VzPVtdO3ZhciB2ZXJ0aWNlcz1bXTt2YXIgbm9ybWFscz1bXTt2YXIgdXZzPVtdOy8vIGhlbHBlciB2YXJpYWJsZXMKdmFyIGluZGV4PTA7dmFyIGluZGV4QXJyYXk9W107dmFyIGhhbGZIZWlnaHQ9aGVpZ2h0LzI7dmFyIGdyb3VwU3RhcnQ9MDsvLyBnZW5lcmF0ZSBnZW9tZXRyeQpnZW5lcmF0ZVRvcnNvKCk7aWYob3BlbkVuZGVkPT09ZmFsc2Upe2lmKHJhZGl1c1RvcD4wKWdlbmVyYXRlQ2FwKHRydWUpO2lmKHJhZGl1c0JvdHRvbT4wKWdlbmVyYXRlQ2FwKGZhbHNlKTt9Ly8gYnVpbGQgZ2VvbWV0cnkKX3RoaXM0OS5zZXRJbmRleChpbmRpY2VzKTtfdGhpczQ5LnNldEF0dHJpYnV0ZSgncG9zaXRpb24nLG5ldyBGbG9hdDMyQnVmZmVyQXR0cmlidXRlKHZlcnRpY2VzLDMpKTtfdGhpczQ5LnNldEF0dHJpYnV0ZSgnbm9ybWFsJyxuZXcgRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZShub3JtYWxzLDMpKTtfdGhpczQ5LnNldEF0dHJpYnV0ZSgndXYnLG5ldyBGbG9hdDMyQnVmZmVyQXR0cmlidXRlKHV2cywyKSk7ZnVuY3Rpb24gZ2VuZXJhdGVUb3Jzbygpe3ZhciBub3JtYWw9bmV3IFZlY3RvcjMoKTt2YXIgdmVydGV4PW5ldyBWZWN0b3IzKCk7dmFyIGdyb3VwQ291bnQ9MDsvLyB0aGlzIHdpbGwgYmUgdXNlZCB0byBjYWxjdWxhdGUgdGhlIG5vcm1hbAp2YXIgc2xvcGU9KHJhZGl1c0JvdHRvbS1yYWRpdXNUb3ApL2hlaWdodDsvLyBnZW5lcmF0ZSB2ZXJ0aWNlcywgbm9ybWFscyBhbmQgdXZzCmZvcih2YXIgeT0wO3k8PWhlaWdodFNlZ21lbnRzO3krKyl7dmFyIGluZGV4Um93PVtdO3ZhciB2PXkvaGVpZ2h0U2VnbWVudHM7Ly8gY2FsY3VsYXRlIHRoZSByYWRpdXMgb2YgdGhlIGN1cnJlbnQgcm93CnZhciByYWRpdXM9dioocmFkaXVzQm90dG9tLXJhZGl1c1RvcCkrcmFkaXVzVG9wO2Zvcih2YXIgeD0wO3g8PXJhZGlhbFNlZ21lbnRzO3grKyl7dmFyIHU9eC9yYWRpYWxTZWdtZW50czt2YXIgdGhldGE9dSp0aGV0YUxlbmd0aCt0aGV0YVN0YXJ0O3ZhciBzaW5UaGV0YT1NYXRoLnNpbih0aGV0YSk7dmFyIGNvc1RoZXRhPU1hdGguY29zKHRoZXRhKTsvLyB2ZXJ0ZXgKdmVydGV4Lng9cmFkaXVzKnNpblRoZXRhO3ZlcnRleC55PS12KmhlaWdodCtoYWxmSGVpZ2h0O3ZlcnRleC56PXJhZGl1cypjb3NUaGV0YTt2ZXJ0aWNlcy5wdXNoKHZlcnRleC54LHZlcnRleC55LHZlcnRleC56KTsvLyBub3JtYWwKbm9ybWFsLnNldChzaW5UaGV0YSxzbG9wZSxjb3NUaGV0YSkubm9ybWFsaXplKCk7bm9ybWFscy5wdXNoKG5vcm1hbC54LG5vcm1hbC55LG5vcm1hbC56KTsvLyB1dgp1dnMucHVzaCh1LDEtdik7Ly8gc2F2ZSBpbmRleCBvZiB2ZXJ0ZXggaW4gcmVzcGVjdGl2ZSByb3cKaW5kZXhSb3cucHVzaChpbmRleCsrKTt9Ly8gbm93IHNhdmUgdmVydGljZXMgb2YgdGhlIHJvdyBpbiBvdXIgaW5kZXggYXJyYXkKaW5kZXhBcnJheS5wdXNoKGluZGV4Um93KTt9Ly8gZ2VuZXJhdGUgaW5kaWNlcwpmb3IodmFyIF94ND0wO194NDxyYWRpYWxTZWdtZW50cztfeDQrKyl7Zm9yKHZhciBfeTI9MDtfeTI8aGVpZ2h0U2VnbWVudHM7X3kyKyspey8vIHdlIHVzZSB0aGUgaW5kZXggYXJyYXkgdG8gYWNjZXNzIHRoZSBjb3JyZWN0IGluZGljZXMKdmFyIGE9aW5kZXhBcnJheVtfeTJdW194NF07dmFyIGI9aW5kZXhBcnJheVtfeTIrMV1bX3g0XTt2YXIgYz1pbmRleEFycmF5W195MisxXVtfeDQrMV07dmFyIGQ9aW5kZXhBcnJheVtfeTJdW194NCsxXTsvLyBmYWNlcwppbmRpY2VzLnB1c2goYSxiLGQpO2luZGljZXMucHVzaChiLGMsZCk7Ly8gdXBkYXRlIGdyb3VwIGNvdW50ZXIKZ3JvdXBDb3VudCs9Njt9fS8vIGFkZCBhIGdyb3VwIHRvIHRoZSBnZW9tZXRyeS4gdGhpcyB3aWxsIGVuc3VyZSBtdWx0aSBtYXRlcmlhbCBzdXBwb3J0CnNjb3BlLmFkZEdyb3VwKGdyb3VwU3RhcnQsZ3JvdXBDb3VudCwwKTsvLyBjYWxjdWxhdGUgbmV3IHN0YXJ0IHZhbHVlIGZvciBncm91cHMKZ3JvdXBTdGFydCs9Z3JvdXBDb3VudDt9ZnVuY3Rpb24gZ2VuZXJhdGVDYXAodG9wKXsvLyBzYXZlIHRoZSBpbmRleCBvZiB0aGUgZmlyc3QgY2VudGVyIHZlcnRleAp2YXIgY2VudGVySW5kZXhTdGFydD1pbmRleDt2YXIgdXY9bmV3IFZlY3RvcjIoKTt2YXIgdmVydGV4PW5ldyBWZWN0b3IzKCk7dmFyIGdyb3VwQ291bnQ9MDt2YXIgcmFkaXVzPXRvcD09PXRydWU/cmFkaXVzVG9wOnJhZGl1c0JvdHRvbTt2YXIgc2lnbj10b3A9PT10cnVlPzE6LTE7Ly8gZmlyc3Qgd2UgZ2VuZXJhdGUgdGhlIGNlbnRlciB2ZXJ0ZXggZGF0YSBvZiB0aGUgY2FwLgovLyBiZWNhdXNlIHRoZSBnZW9tZXRyeSBuZWVkcyBvbmUgc2V0IG9mIHV2cyBwZXIgZmFjZSwKLy8gd2UgbXVzdCBnZW5lcmF0ZSBhIGNlbnRlciB2ZXJ0ZXggcGVyIGZhY2Uvc2VnbWVudApmb3IodmFyIHg9MTt4PD1yYWRpYWxTZWdtZW50czt4Kyspey8vIHZlcnRleAp2ZXJ0aWNlcy5wdXNoKDAsaGFsZkhlaWdodCpzaWduLDApOy8vIG5vcm1hbApub3JtYWxzLnB1c2goMCxzaWduLDApOy8vIHV2CnV2cy5wdXNoKDAuNSwwLjUpOy8vIGluY3JlYXNlIGluZGV4CmluZGV4Kys7fS8vIHNhdmUgdGhlIGluZGV4IG9mIHRoZSBsYXN0IGNlbnRlciB2ZXJ0ZXgKdmFyIGNlbnRlckluZGV4RW5kPWluZGV4Oy8vIG5vdyB3ZSBnZW5lcmF0ZSB0aGUgc3Vycm91bmRpbmcgdmVydGljZXMsIG5vcm1hbHMgYW5kIHV2cwpmb3IodmFyIF94NT0wO194NTw9cmFkaWFsU2VnbWVudHM7X3g1Kyspe3ZhciB1PV94NS9yYWRpYWxTZWdtZW50czt2YXIgdGhldGE9dSp0aGV0YUxlbmd0aCt0aGV0YVN0YXJ0O3ZhciBjb3NUaGV0YT1NYXRoLmNvcyh0aGV0YSk7dmFyIHNpblRoZXRhPU1hdGguc2luKHRoZXRhKTsvLyB2ZXJ0ZXgKdmVydGV4Lng9cmFkaXVzKnNpblRoZXRhO3ZlcnRleC55PWhhbGZIZWlnaHQqc2lnbjt2ZXJ0ZXguej1yYWRpdXMqY29zVGhldGE7dmVydGljZXMucHVzaCh2ZXJ0ZXgueCx2ZXJ0ZXgueSx2ZXJ0ZXgueik7Ly8gbm9ybWFsCm5vcm1hbHMucHVzaCgwLHNpZ24sMCk7Ly8gdXYKdXYueD1jb3NUaGV0YSowLjUrMC41O3V2Lnk9c2luVGhldGEqMC41KnNpZ24rMC41O3V2cy5wdXNoKHV2LngsdXYueSk7Ly8gaW5jcmVhc2UgaW5kZXgKaW5kZXgrKzt9Ly8gZ2VuZXJhdGUgaW5kaWNlcwpmb3IodmFyIF94Nj0wO194NjxyYWRpYWxTZWdtZW50cztfeDYrKyl7dmFyIGM9Y2VudGVySW5kZXhTdGFydCtfeDY7dmFyIF9pMTgxPWNlbnRlckluZGV4RW5kK194NjtpZih0b3A9PT10cnVlKXsvLyBmYWNlIHRvcAppbmRpY2VzLnB1c2goX2kxODEsX2kxODErMSxjKTt9ZWxzZXsvLyBmYWNlIGJvdHRvbQppbmRpY2VzLnB1c2goX2kxODErMSxfaTE4MSxjKTt9Z3JvdXBDb3VudCs9Mzt9Ly8gYWRkIGEgZ3JvdXAgdG8gdGhlIGdlb21ldHJ5LiB0aGlzIHdpbGwgZW5zdXJlIG11bHRpIG1hdGVyaWFsIHN1cHBvcnQKc2NvcGUuYWRkR3JvdXAoZ3JvdXBTdGFydCxncm91cENvdW50LHRvcD09PXRydWU/MToyKTsvLyBjYWxjdWxhdGUgbmV3IHN0YXJ0IHZhbHVlIGZvciBncm91cHMKZ3JvdXBTdGFydCs9Z3JvdXBDb3VudDt9cmV0dXJuIF90aGlzNDk7fV9jcmVhdGVDbGFzcyhDeWxpbmRlckdlb21ldHJ5LG51bGwsW3trZXk6ImZyb21KU09OIix2YWx1ZTpmdW5jdGlvbiBmcm9tSlNPTihkYXRhKXtyZXR1cm4gbmV3IEN5bGluZGVyR2VvbWV0cnkoZGF0YS5yYWRpdXNUb3AsZGF0YS5yYWRpdXNCb3R0b20sZGF0YS5oZWlnaHQsZGF0YS5yYWRpYWxTZWdtZW50cyxkYXRhLmhlaWdodFNlZ21lbnRzLGRhdGEub3BlbkVuZGVkLGRhdGEudGhldGFTdGFydCxkYXRhLnRoZXRhTGVuZ3RoKTt9fV0pO3JldHVybiBDeWxpbmRlckdlb21ldHJ5O30oQnVmZmVyR2VvbWV0cnkpO3ZhciBDb25lR2VvbWV0cnk9LyojX19QVVJFX18qL2Z1bmN0aW9uKF9DeWxpbmRlckdlb21ldHJ5KXtfaW5oZXJpdHMoQ29uZUdlb21ldHJ5LF9DeWxpbmRlckdlb21ldHJ5KTt2YXIgX3N1cGVyNjA9X2NyZWF0ZVN1cGVyKENvbmVHZW9tZXRyeSk7ZnVuY3Rpb24gQ29uZUdlb21ldHJ5KCl7dmFyIF90aGlzNTA7dmFyIHJhZGl1cz1hcmd1bWVudHMubGVuZ3RoPjAmJmFyZ3VtZW50c1swXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMF06MTt2YXIgaGVpZ2h0PWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1sxXToxO3ZhciByYWRpYWxTZWdtZW50cz1hcmd1bWVudHMubGVuZ3RoPjImJmFyZ3VtZW50c1syXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMl06ODt2YXIgaGVpZ2h0U2VnbWVudHM9YXJndW1lbnRzLmxlbmd0aD4zJiZhcmd1bWVudHNbM10hPT11bmRlZmluZWQ/YXJndW1lbnRzWzNdOjE7dmFyIG9wZW5FbmRlZD1hcmd1bWVudHMubGVuZ3RoPjQmJmFyZ3VtZW50c1s0XSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbNF06ZmFsc2U7dmFyIHRoZXRhU3RhcnQ9YXJndW1lbnRzLmxlbmd0aD41JiZhcmd1bWVudHNbNV0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzVdOjA7dmFyIHRoZXRhTGVuZ3RoPWFyZ3VtZW50cy5sZW5ndGg+NiYmYXJndW1lbnRzWzZdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1s2XTpNYXRoLlBJKjI7X2NsYXNzQ2FsbENoZWNrKHRoaXMsQ29uZUdlb21ldHJ5KTtfdGhpczUwPV9zdXBlcjYwLmNhbGwodGhpcywwLHJhZGl1cyxoZWlnaHQscmFkaWFsU2VnbWVudHMsaGVpZ2h0U2VnbWVudHMsb3BlbkVuZGVkLHRoZXRhU3RhcnQsdGhldGFMZW5ndGgpO190aGlzNTAudHlwZT0nQ29uZUdlb21ldHJ5JztfdGhpczUwLnBhcmFtZXRlcnM9e3JhZGl1czpyYWRpdXMsaGVpZ2h0OmhlaWdodCxyYWRpYWxTZWdtZW50czpyYWRpYWxTZWdtZW50cyxoZWlnaHRTZWdtZW50czpoZWlnaHRTZWdtZW50cyxvcGVuRW5kZWQ6b3BlbkVuZGVkLHRoZXRhU3RhcnQ6dGhldGFTdGFydCx0aGV0YUxlbmd0aDp0aGV0YUxlbmd0aH07cmV0dXJuIF90aGlzNTA7fV9jcmVhdGVDbGFzcyhDb25lR2VvbWV0cnksbnVsbCxbe2tleToiZnJvbUpTT04iLHZhbHVlOmZ1bmN0aW9uIGZyb21KU09OKGRhdGEpe3JldHVybiBuZXcgQ29uZUdlb21ldHJ5KGRhdGEucmFkaXVzLGRhdGEuaGVpZ2h0LGRhdGEucmFkaWFsU2VnbWVudHMsZGF0YS5oZWlnaHRTZWdtZW50cyxkYXRhLm9wZW5FbmRlZCxkYXRhLnRoZXRhU3RhcnQsZGF0YS50aGV0YUxlbmd0aCk7fX1dKTtyZXR1cm4gQ29uZUdlb21ldHJ5O30oQ3lsaW5kZXJHZW9tZXRyeSk7dmFyIFBvbHloZWRyb25HZW9tZXRyeT0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX0J1ZmZlckdlb21ldHJ5NSl7X2luaGVyaXRzKFBvbHloZWRyb25HZW9tZXRyeSxfQnVmZmVyR2VvbWV0cnk1KTt2YXIgX3N1cGVyNjE9X2NyZWF0ZVN1cGVyKFBvbHloZWRyb25HZW9tZXRyeSk7ZnVuY3Rpb24gUG9seWhlZHJvbkdlb21ldHJ5KCl7dmFyIF90aGlzNTE7dmFyIHZlcnRpY2VzPWFyZ3VtZW50cy5sZW5ndGg+MCYmYXJndW1lbnRzWzBdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1swXTpbXTt2YXIgaW5kaWNlcz1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMV06W107dmFyIHJhZGl1cz1hcmd1bWVudHMubGVuZ3RoPjImJmFyZ3VtZW50c1syXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMl06MTt2YXIgZGV0YWlsPWFyZ3VtZW50cy5sZW5ndGg+MyYmYXJndW1lbnRzWzNdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1szXTowO19jbGFzc0NhbGxDaGVjayh0aGlzLFBvbHloZWRyb25HZW9tZXRyeSk7X3RoaXM1MT1fc3VwZXI2MS5jYWxsKHRoaXMpO190aGlzNTEudHlwZT0nUG9seWhlZHJvbkdlb21ldHJ5JztfdGhpczUxLnBhcmFtZXRlcnM9e3ZlcnRpY2VzOnZlcnRpY2VzLGluZGljZXM6aW5kaWNlcyxyYWRpdXM6cmFkaXVzLGRldGFpbDpkZXRhaWx9Oy8vIGRlZmF1bHQgYnVmZmVyIGRhdGEKdmFyIHZlcnRleEJ1ZmZlcj1bXTt2YXIgdXZCdWZmZXI9W107Ly8gdGhlIHN1YmRpdmlzaW9uIGNyZWF0ZXMgdGhlIHZlcnRleCBidWZmZXIgZGF0YQpzdWJkaXZpZGUoZGV0YWlsKTsvLyBhbGwgdmVydGljZXMgc2hvdWxkIGxpZSBvbiBhIGNvbmNlcHR1YWwgc3BoZXJlIHdpdGggYSBnaXZlbiByYWRpdXMKYXBwbHlSYWRpdXMocmFkaXVzKTsvLyBmaW5hbGx5LCBjcmVhdGUgdGhlIHV2IGRhdGEKZ2VuZXJhdGVVVnMoKTsvLyBidWlsZCBub24taW5kZXhlZCBnZW9tZXRyeQpfdGhpczUxLnNldEF0dHJpYnV0ZSgncG9zaXRpb24nLG5ldyBGbG9hdDMyQnVmZmVyQXR0cmlidXRlKHZlcnRleEJ1ZmZlciwzKSk7X3RoaXM1MS5zZXRBdHRyaWJ1dGUoJ25vcm1hbCcsbmV3IEZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUodmVydGV4QnVmZmVyLnNsaWNlKCksMykpO190aGlzNTEuc2V0QXR0cmlidXRlKCd1dicsbmV3IEZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUodXZCdWZmZXIsMikpO2lmKGRldGFpbD09PTApe190aGlzNTEuY29tcHV0ZVZlcnRleE5vcm1hbHMoKTsvLyBmbGF0IG5vcm1hbHMKfWVsc2V7X3RoaXM1MS5ub3JtYWxpemVOb3JtYWxzKCk7Ly8gc21vb3RoIG5vcm1hbHMKfS8vIGhlbHBlciBmdW5jdGlvbnMKZnVuY3Rpb24gc3ViZGl2aWRlKGRldGFpbCl7dmFyIGE9bmV3IFZlY3RvcjMoKTt2YXIgYj1uZXcgVmVjdG9yMygpO3ZhciBjPW5ldyBWZWN0b3IzKCk7Ly8gaXRlcmF0ZSBvdmVyIGFsbCBmYWNlcyBhbmQgYXBwbHkgYSBzdWJkaXZpc29uIHdpdGggdGhlIGdpdmVuIGRldGFpbCB2YWx1ZQpmb3IodmFyIF9pMTgyPTA7X2kxODI8aW5kaWNlcy5sZW5ndGg7X2kxODIrPTMpey8vIGdldCB0aGUgdmVydGljZXMgb2YgdGhlIGZhY2UKZ2V0VmVydGV4QnlJbmRleChpbmRpY2VzW19pMTgyKzBdLGEpO2dldFZlcnRleEJ5SW5kZXgoaW5kaWNlc1tfaTE4MisxXSxiKTtnZXRWZXJ0ZXhCeUluZGV4KGluZGljZXNbX2kxODIrMl0sYyk7Ly8gcGVyZm9ybSBzdWJkaXZpc2lvbgpzdWJkaXZpZGVGYWNlKGEsYixjLGRldGFpbCk7fX1mdW5jdGlvbiBzdWJkaXZpZGVGYWNlKGEsYixjLGRldGFpbCl7dmFyIGNvbHM9ZGV0YWlsKzE7Ly8gd2UgdXNlIHRoaXMgbXVsdGlkaW1lbnNpb25hbCBhcnJheSBhcyBhIGRhdGEgc3RydWN0dXJlIGZvciBjcmVhdGluZyB0aGUgc3ViZGl2aXNpb24KdmFyIHY9W107Ly8gY29uc3RydWN0IGFsbCBvZiB0aGUgdmVydGljZXMgZm9yIHRoaXMgc3ViZGl2aXNpb24KZm9yKHZhciBfaTE4Mz0wO19pMTgzPD1jb2xzO19pMTgzKyspe3ZbX2kxODNdPVtdO3ZhciBhaj1hLmNsb25lKCkubGVycChjLF9pMTgzL2NvbHMpO3ZhciBiaj1iLmNsb25lKCkubGVycChjLF9pMTgzL2NvbHMpO3ZhciByb3dzPWNvbHMtX2kxODM7Zm9yKHZhciBqPTA7ajw9cm93cztqKyspe2lmKGo9PT0wJiZfaTE4Mz09PWNvbHMpe3ZbX2kxODNdW2pdPWFqO31lbHNle3ZbX2kxODNdW2pdPWFqLmNsb25lKCkubGVycChiaixqL3Jvd3MpO319fS8vIGNvbnN0cnVjdCBhbGwgb2YgdGhlIGZhY2VzCmZvcih2YXIgX2kxODQ9MDtfaTE4NDxjb2xzO19pMTg0Kyspe2Zvcih2YXIgX2o1PTA7X2o1PDIqKGNvbHMtX2kxODQpLTE7X2o1Kyspe3ZhciBrPU1hdGguZmxvb3IoX2o1LzIpO2lmKF9qNSUyPT09MCl7cHVzaFZlcnRleCh2W19pMTg0XVtrKzFdKTtwdXNoVmVydGV4KHZbX2kxODQrMV1ba10pO3B1c2hWZXJ0ZXgodltfaTE4NF1ba10pO31lbHNle3B1c2hWZXJ0ZXgodltfaTE4NF1baysxXSk7cHVzaFZlcnRleCh2W19pMTg0KzFdW2srMV0pO3B1c2hWZXJ0ZXgodltfaTE4NCsxXVtrXSk7fX19fWZ1bmN0aW9uIGFwcGx5UmFkaXVzKHJhZGl1cyl7dmFyIHZlcnRleD1uZXcgVmVjdG9yMygpOy8vIGl0ZXJhdGUgb3ZlciB0aGUgZW50aXJlIGJ1ZmZlciBhbmQgYXBwbHkgdGhlIHJhZGl1cyB0byBlYWNoIHZlcnRleApmb3IodmFyIF9pMTg1PTA7X2kxODU8dmVydGV4QnVmZmVyLmxlbmd0aDtfaTE4NSs9Myl7dmVydGV4Lng9dmVydGV4QnVmZmVyW19pMTg1KzBdO3ZlcnRleC55PXZlcnRleEJ1ZmZlcltfaTE4NSsxXTt2ZXJ0ZXguej12ZXJ0ZXhCdWZmZXJbX2kxODUrMl07dmVydGV4Lm5vcm1hbGl6ZSgpLm11bHRpcGx5U2NhbGFyKHJhZGl1cyk7dmVydGV4QnVmZmVyW19pMTg1KzBdPXZlcnRleC54O3ZlcnRleEJ1ZmZlcltfaTE4NSsxXT12ZXJ0ZXgueTt2ZXJ0ZXhCdWZmZXJbX2kxODUrMl09dmVydGV4Lno7fX1mdW5jdGlvbiBnZW5lcmF0ZVVWcygpe3ZhciB2ZXJ0ZXg9bmV3IFZlY3RvcjMoKTtmb3IodmFyIF9pMTg2PTA7X2kxODY8dmVydGV4QnVmZmVyLmxlbmd0aDtfaTE4Nis9Myl7dmVydGV4Lng9dmVydGV4QnVmZmVyW19pMTg2KzBdO3ZlcnRleC55PXZlcnRleEJ1ZmZlcltfaTE4NisxXTt2ZXJ0ZXguej12ZXJ0ZXhCdWZmZXJbX2kxODYrMl07dmFyIHU9YXppbXV0aCh2ZXJ0ZXgpLzIvTWF0aC5QSSswLjU7dmFyIHY9aW5jbGluYXRpb24odmVydGV4KS9NYXRoLlBJKzAuNTt1dkJ1ZmZlci5wdXNoKHUsMS12KTt9Y29ycmVjdFVWcygpO2NvcnJlY3RTZWFtKCk7fWZ1bmN0aW9uIGNvcnJlY3RTZWFtKCl7Ly8gaGFuZGxlIGNhc2Ugd2hlbiBmYWNlIHN0cmFkZGxlcyB0aGUgc2VhbSwgc2VlICMzMjY5CmZvcih2YXIgX2kxODc9MDtfaTE4Nzx1dkJ1ZmZlci5sZW5ndGg7X2kxODcrPTYpey8vIHV2IGRhdGEgb2YgYSBzaW5nbGUgZmFjZQp2YXIgeDA9dXZCdWZmZXJbX2kxODcrMF07dmFyIHgxPXV2QnVmZmVyW19pMTg3KzJdO3ZhciB4Mj11dkJ1ZmZlcltfaTE4Nys0XTt2YXIgbWF4PU1hdGgubWF4KHgwLHgxLHgyKTt2YXIgbWluPU1hdGgubWluKHgwLHgxLHgyKTsvLyAwLjkgaXMgc29tZXdoYXQgYXJiaXRyYXJ5CmlmKG1heD4wLjkmJm1pbjwwLjEpe2lmKHgwPDAuMil1dkJ1ZmZlcltfaTE4NyswXSs9MTtpZih4MTwwLjIpdXZCdWZmZXJbX2kxODcrMl0rPTE7aWYoeDI8MC4yKXV2QnVmZmVyW19pMTg3KzRdKz0xO319fWZ1bmN0aW9uIHB1c2hWZXJ0ZXgodmVydGV4KXt2ZXJ0ZXhCdWZmZXIucHVzaCh2ZXJ0ZXgueCx2ZXJ0ZXgueSx2ZXJ0ZXgueik7fWZ1bmN0aW9uIGdldFZlcnRleEJ5SW5kZXgoaW5kZXgsdmVydGV4KXt2YXIgc3RyaWRlPWluZGV4KjM7dmVydGV4Lng9dmVydGljZXNbc3RyaWRlKzBdO3ZlcnRleC55PXZlcnRpY2VzW3N0cmlkZSsxXTt2ZXJ0ZXguej12ZXJ0aWNlc1tzdHJpZGUrMl07fWZ1bmN0aW9uIGNvcnJlY3RVVnMoKXt2YXIgYT1uZXcgVmVjdG9yMygpO3ZhciBiPW5ldyBWZWN0b3IzKCk7dmFyIGM9bmV3IFZlY3RvcjMoKTt2YXIgY2VudHJvaWQ9bmV3IFZlY3RvcjMoKTt2YXIgdXZBPW5ldyBWZWN0b3IyKCk7dmFyIHV2Qj1uZXcgVmVjdG9yMigpO3ZhciB1dkM9bmV3IFZlY3RvcjIoKTtmb3IodmFyIF9pMTg4PTAsaj0wO19pMTg4PHZlcnRleEJ1ZmZlci5sZW5ndGg7X2kxODgrPTksais9Nil7YS5zZXQodmVydGV4QnVmZmVyW19pMTg4KzBdLHZlcnRleEJ1ZmZlcltfaTE4OCsxXSx2ZXJ0ZXhCdWZmZXJbX2kxODgrMl0pO2Iuc2V0KHZlcnRleEJ1ZmZlcltfaTE4OCszXSx2ZXJ0ZXhCdWZmZXJbX2kxODgrNF0sdmVydGV4QnVmZmVyW19pMTg4KzVdKTtjLnNldCh2ZXJ0ZXhCdWZmZXJbX2kxODgrNl0sdmVydGV4QnVmZmVyW19pMTg4KzddLHZlcnRleEJ1ZmZlcltfaTE4OCs4XSk7dXZBLnNldCh1dkJ1ZmZlcltqKzBdLHV2QnVmZmVyW2orMV0pO3V2Qi5zZXQodXZCdWZmZXJbaisyXSx1dkJ1ZmZlcltqKzNdKTt1dkMuc2V0KHV2QnVmZmVyW2orNF0sdXZCdWZmZXJbais1XSk7Y2VudHJvaWQuY29weShhKS5hZGQoYikuYWRkKGMpLmRpdmlkZVNjYWxhcigzKTt2YXIgYXppPWF6aW11dGgoY2VudHJvaWQpO2NvcnJlY3RVVih1dkEsaiswLGEsYXppKTtjb3JyZWN0VVYodXZCLGorMixiLGF6aSk7Y29ycmVjdFVWKHV2QyxqKzQsYyxhemkpO319ZnVuY3Rpb24gY29ycmVjdFVWKHV2LHN0cmlkZSx2ZWN0b3IsYXppbXV0aCl7aWYoYXppbXV0aDwwJiZ1di54PT09MSl7dXZCdWZmZXJbc3RyaWRlXT11di54LTE7fWlmKHZlY3Rvci54PT09MCYmdmVjdG9yLno9PT0wKXt1dkJ1ZmZlcltzdHJpZGVdPWF6aW11dGgvMi9NYXRoLlBJKzAuNTt9fS8vIEFuZ2xlIGFyb3VuZCB0aGUgWSBheGlzLCBjb3VudGVyLWNsb2Nrd2lzZSB3aGVuIGxvb2tpbmcgZnJvbSBhYm92ZS4KZnVuY3Rpb24gYXppbXV0aCh2ZWN0b3Ipe3JldHVybiBNYXRoLmF0YW4yKHZlY3Rvci56LC12ZWN0b3IueCk7fS8vIEFuZ2xlIGFib3ZlIHRoZSBYWiBwbGFuZS4KZnVuY3Rpb24gaW5jbGluYXRpb24odmVjdG9yKXtyZXR1cm4gTWF0aC5hdGFuMigtdmVjdG9yLnksTWF0aC5zcXJ0KHZlY3Rvci54KnZlY3Rvci54K3ZlY3Rvci56KnZlY3Rvci56KSk7fXJldHVybiBfdGhpczUxO31fY3JlYXRlQ2xhc3MoUG9seWhlZHJvbkdlb21ldHJ5LG51bGwsW3trZXk6ImZyb21KU09OIix2YWx1ZTpmdW5jdGlvbiBmcm9tSlNPTihkYXRhKXtyZXR1cm4gbmV3IFBvbHloZWRyb25HZW9tZXRyeShkYXRhLnZlcnRpY2VzLGRhdGEuaW5kaWNlcyxkYXRhLnJhZGl1cyxkYXRhLmRldGFpbHMpO319XSk7cmV0dXJuIFBvbHloZWRyb25HZW9tZXRyeTt9KEJ1ZmZlckdlb21ldHJ5KTt2YXIgRG9kZWNhaGVkcm9uR2VvbWV0cnk9LyojX19QVVJFX18qL2Z1bmN0aW9uKF9Qb2x5aGVkcm9uR2VvbWV0cnkpe19pbmhlcml0cyhEb2RlY2FoZWRyb25HZW9tZXRyeSxfUG9seWhlZHJvbkdlb21ldHJ5KTt2YXIgX3N1cGVyNjI9X2NyZWF0ZVN1cGVyKERvZGVjYWhlZHJvbkdlb21ldHJ5KTtmdW5jdGlvbiBEb2RlY2FoZWRyb25HZW9tZXRyeSgpe3ZhciBfdGhpczUyO3ZhciByYWRpdXM9YXJndW1lbnRzLmxlbmd0aD4wJiZhcmd1bWVudHNbMF0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzBdOjE7dmFyIGRldGFpbD1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMV06MDtfY2xhc3NDYWxsQ2hlY2sodGhpcyxEb2RlY2FoZWRyb25HZW9tZXRyeSk7dmFyIHQ9KDErTWF0aC5zcXJ0KDUpKS8yO3ZhciByPTEvdDt2YXIgdmVydGljZXM9Wy8vICjCsTEsIMKxMSwgwrExKQotMSwtMSwtMSwtMSwtMSwxLC0xLDEsLTEsLTEsMSwxLDEsLTEsLTEsMSwtMSwxLDEsMSwtMSwxLDEsMSwvLyAoMCwgwrExL8+GLCDCsc+GKQowLC1yLC10LDAsLXIsdCwwLHIsLXQsMCxyLHQsLy8gKMKxMS/PhiwgwrHPhiwgMCkKLXIsLXQsMCwtcix0LDAsciwtdCwwLHIsdCwwLC8vICjCsc+GLCAwLCDCsTEvz4YpCi10LDAsLXIsdCwwLC1yLC10LDAscix0LDAscl07dmFyIGluZGljZXM9WzMsMTEsNywzLDcsMTUsMywxNSwxMyw3LDE5LDE3LDcsMTcsNiw3LDYsMTUsMTcsNCw4LDE3LDgsMTAsMTcsMTAsNiw4LDAsMTYsOCwxNiwyLDgsMiwxMCwwLDEyLDEsMCwxLDE4LDAsMTgsMTYsNiwxMCwyLDYsMiwxMyw2LDEzLDE1LDIsMTYsMTgsMiwxOCwzLDIsMywxMywxOCwxLDksMTgsOSwxMSwxOCwxMSwzLDQsMTQsMTIsNCwxMiwwLDQsMCw4LDExLDksNSwxMSw1LDE5LDExLDE5LDcsMTksNSwxNCwxOSwxNCw0LDE5LDQsMTcsMSwxMiwxNCwxLDE0LDUsMSw1LDldO190aGlzNTI9X3N1cGVyNjIuY2FsbCh0aGlzLHZlcnRpY2VzLGluZGljZXMscmFkaXVzLGRldGFpbCk7X3RoaXM1Mi50eXBlPSdEb2RlY2FoZWRyb25HZW9tZXRyeSc7X3RoaXM1Mi5wYXJhbWV0ZXJzPXtyYWRpdXM6cmFkaXVzLGRldGFpbDpkZXRhaWx9O3JldHVybiBfdGhpczUyO31fY3JlYXRlQ2xhc3MoRG9kZWNhaGVkcm9uR2VvbWV0cnksbnVsbCxbe2tleToiZnJvbUpTT04iLHZhbHVlOmZ1bmN0aW9uIGZyb21KU09OKGRhdGEpe3JldHVybiBuZXcgRG9kZWNhaGVkcm9uR2VvbWV0cnkoZGF0YS5yYWRpdXMsZGF0YS5kZXRhaWwpO319XSk7cmV0dXJuIERvZGVjYWhlZHJvbkdlb21ldHJ5O30oUG9seWhlZHJvbkdlb21ldHJ5KTt2YXIgX3YwPW5ldyBWZWN0b3IzKCk7dmFyIF92MSQxPW5ldyBWZWN0b3IzKCk7dmFyIF9ub3JtYWw9bmV3IFZlY3RvcjMoKTt2YXIgX3RyaWFuZ2xlPW5ldyBUcmlhbmdsZSgpO3ZhciBFZGdlc0dlb21ldHJ5PS8qI19fUFVSRV9fKi9mdW5jdGlvbihfQnVmZmVyR2VvbWV0cnk2KXtfaW5oZXJpdHMoRWRnZXNHZW9tZXRyeSxfQnVmZmVyR2VvbWV0cnk2KTt2YXIgX3N1cGVyNjM9X2NyZWF0ZVN1cGVyKEVkZ2VzR2VvbWV0cnkpO2Z1bmN0aW9uIEVkZ2VzR2VvbWV0cnkoKXt2YXIgX3RoaXM1Mzt2YXIgZ2VvbWV0cnk9YXJndW1lbnRzLmxlbmd0aD4wJiZhcmd1bWVudHNbMF0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzBdOm51bGw7dmFyIHRocmVzaG9sZEFuZ2xlPWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1sxXToxO19jbGFzc0NhbGxDaGVjayh0aGlzLEVkZ2VzR2VvbWV0cnkpO190aGlzNTM9X3N1cGVyNjMuY2FsbCh0aGlzKTtfdGhpczUzLnR5cGU9J0VkZ2VzR2VvbWV0cnknO190aGlzNTMucGFyYW1ldGVycz17Z2VvbWV0cnk6Z2VvbWV0cnksdGhyZXNob2xkQW5nbGU6dGhyZXNob2xkQW5nbGV9O2lmKGdlb21ldHJ5IT09bnVsbCl7dmFyIHByZWNpc2lvblBvaW50cz00O3ZhciBwcmVjaXNpb249TWF0aC5wb3coMTAscHJlY2lzaW9uUG9pbnRzKTt2YXIgdGhyZXNob2xkRG90PU1hdGguY29zKERFRzJSQUQqdGhyZXNob2xkQW5nbGUpO3ZhciBpbmRleEF0dHI9Z2VvbWV0cnkuZ2V0SW5kZXgoKTt2YXIgcG9zaXRpb25BdHRyPWdlb21ldHJ5LmdldEF0dHJpYnV0ZSgncG9zaXRpb24nKTt2YXIgaW5kZXhDb3VudD1pbmRleEF0dHI/aW5kZXhBdHRyLmNvdW50OnBvc2l0aW9uQXR0ci5jb3VudDt2YXIgaW5kZXhBcnI9WzAsMCwwXTt2YXIgdmVydEtleXM9WydhJywnYicsJ2MnXTt2YXIgaGFzaGVzPW5ldyBBcnJheSgzKTt2YXIgZWRnZURhdGE9e307dmFyIHZlcnRpY2VzPVtdO2Zvcih2YXIgX2kxODk9MDtfaTE4OTxpbmRleENvdW50O19pMTg5Kz0zKXtpZihpbmRleEF0dHIpe2luZGV4QXJyWzBdPWluZGV4QXR0ci5nZXRYKF9pMTg5KTtpbmRleEFyclsxXT1pbmRleEF0dHIuZ2V0WChfaTE4OSsxKTtpbmRleEFyclsyXT1pbmRleEF0dHIuZ2V0WChfaTE4OSsyKTt9ZWxzZXtpbmRleEFyclswXT1faTE4OTtpbmRleEFyclsxXT1faTE4OSsxO2luZGV4QXJyWzJdPV9pMTg5KzI7fXZhciBhPV90cmlhbmdsZS5hLGI9X3RyaWFuZ2xlLmIsYz1fdHJpYW5nbGUuYzthLmZyb21CdWZmZXJBdHRyaWJ1dGUocG9zaXRpb25BdHRyLGluZGV4QXJyWzBdKTtiLmZyb21CdWZmZXJBdHRyaWJ1dGUocG9zaXRpb25BdHRyLGluZGV4QXJyWzFdKTtjLmZyb21CdWZmZXJBdHRyaWJ1dGUocG9zaXRpb25BdHRyLGluZGV4QXJyWzJdKTtfdHJpYW5nbGUuZ2V0Tm9ybWFsKF9ub3JtYWwpOy8vIGNyZWF0ZSBoYXNoZXMgZm9yIHRoZSBlZGdlIGZyb20gdGhlIHZlcnRpY2VzCmhhc2hlc1swXT0iIi5jb25jYXQoTWF0aC5yb3VuZChhLngqcHJlY2lzaW9uKSwiLCIpLmNvbmNhdChNYXRoLnJvdW5kKGEueSpwcmVjaXNpb24pLCIsIikuY29uY2F0KE1hdGgucm91bmQoYS56KnByZWNpc2lvbikpO2hhc2hlc1sxXT0iIi5jb25jYXQoTWF0aC5yb3VuZChiLngqcHJlY2lzaW9uKSwiLCIpLmNvbmNhdChNYXRoLnJvdW5kKGIueSpwcmVjaXNpb24pLCIsIikuY29uY2F0KE1hdGgucm91bmQoYi56KnByZWNpc2lvbikpO2hhc2hlc1syXT0iIi5jb25jYXQoTWF0aC5yb3VuZChjLngqcHJlY2lzaW9uKSwiLCIpLmNvbmNhdChNYXRoLnJvdW5kKGMueSpwcmVjaXNpb24pLCIsIikuY29uY2F0KE1hdGgucm91bmQoYy56KnByZWNpc2lvbikpOy8vIHNraXAgZGVnZW5lcmF0ZSB0cmlhbmdsZXMKaWYoaGFzaGVzWzBdPT09aGFzaGVzWzFdfHxoYXNoZXNbMV09PT1oYXNoZXNbMl18fGhhc2hlc1syXT09PWhhc2hlc1swXSl7Y29udGludWU7fS8vIGl0ZXJhdGUgb3ZlciBldmVyeSBlZGdlCmZvcih2YXIgaj0wO2o8MztqKyspey8vIGdldCB0aGUgZmlyc3QgYW5kIG5leHQgdmVydGV4IG1ha2luZyB1cCB0aGUgZWRnZQp2YXIgak5leHQ9KGorMSklMzt2YXIgdmVjSGFzaDA9aGFzaGVzW2pdO3ZhciB2ZWNIYXNoMT1oYXNoZXNbak5leHRdO3ZhciB2MD1fdHJpYW5nbGVbdmVydEtleXNbal1dO3ZhciB2MT1fdHJpYW5nbGVbdmVydEtleXNbak5leHRdXTt2YXIgaGFzaD0iIi5jb25jYXQodmVjSGFzaDAsIl8iKS5jb25jYXQodmVjSGFzaDEpO3ZhciByZXZlcnNlSGFzaD0iIi5jb25jYXQodmVjSGFzaDEsIl8iKS5jb25jYXQodmVjSGFzaDApO2lmKHJldmVyc2VIYXNoIGluIGVkZ2VEYXRhJiZlZGdlRGF0YVtyZXZlcnNlSGFzaF0pey8vIGlmIHdlIGZvdW5kIGEgc2libGluZyBlZGdlIGFkZCBpdCBpbnRvIHRoZSB2ZXJ0ZXggYXJyYXkgaWYKLy8gaXQgbWVldHMgdGhlIGFuZ2xlIHRocmVzaG9sZCBhbmQgZGVsZXRlIHRoZSBlZGdlIGZyb20gdGhlIG1hcC4KaWYoX25vcm1hbC5kb3QoZWRnZURhdGFbcmV2ZXJzZUhhc2hdLm5vcm1hbCk8PXRocmVzaG9sZERvdCl7dmVydGljZXMucHVzaCh2MC54LHYwLnksdjAueik7dmVydGljZXMucHVzaCh2MS54LHYxLnksdjEueik7fWVkZ2VEYXRhW3JldmVyc2VIYXNoXT1udWxsO31lbHNlIGlmKCEoaGFzaCBpbiBlZGdlRGF0YSkpey8vIGlmIHdlJ3ZlIGFscmVhZHkgZ290IGFuIGVkZ2UgaGVyZSB0aGVuIHNraXAgYWRkaW5nIGEgbmV3IG9uZQplZGdlRGF0YVtoYXNoXT17aW5kZXgwOmluZGV4QXJyW2pdLGluZGV4MTppbmRleEFycltqTmV4dF0sbm9ybWFsOl9ub3JtYWwuY2xvbmUoKX07fX19Ly8gaXRlcmF0ZSBvdmVyIGFsbCByZW1haW5pbmcsIHVubWF0Y2hlZCBlZGdlcyBhbmQgYWRkIHRoZW0gdG8gdGhlIHZlcnRleCBhcnJheQpmb3IodmFyIGtleSBpbiBlZGdlRGF0YSl7aWYoZWRnZURhdGFba2V5XSl7dmFyIF9lZGdlRGF0YSRrZXk9ZWRnZURhdGFba2V5XSxpbmRleDA9X2VkZ2VEYXRhJGtleS5pbmRleDAsaW5kZXgxPV9lZGdlRGF0YSRrZXkuaW5kZXgxO192MC5mcm9tQnVmZmVyQXR0cmlidXRlKHBvc2l0aW9uQXR0cixpbmRleDApO192MSQxLmZyb21CdWZmZXJBdHRyaWJ1dGUocG9zaXRpb25BdHRyLGluZGV4MSk7dmVydGljZXMucHVzaChfdjAueCxfdjAueSxfdjAueik7dmVydGljZXMucHVzaChfdjEkMS54LF92MSQxLnksX3YxJDEueik7fX1fdGhpczUzLnNldEF0dHJpYnV0ZSgncG9zaXRpb24nLG5ldyBGbG9hdDMyQnVmZmVyQXR0cmlidXRlKHZlcnRpY2VzLDMpKTt9cmV0dXJuIF90aGlzNTM7fXJldHVybiBfY3JlYXRlQ2xhc3MoRWRnZXNHZW9tZXRyeSk7fShCdWZmZXJHZW9tZXRyeSk7LyoqCiAqIEV4dGVuc2libGUgY3VydmUgb2JqZWN0LgogKgogKiBTb21lIGNvbW1vbiBvZiBjdXJ2ZSBtZXRob2RzOgogKiAuZ2V0UG9pbnQoIHQsIG9wdGlvbmFsVGFyZ2V0ICksIC5nZXRUYW5nZW50KCB0LCBvcHRpb25hbFRhcmdldCApCiAqIC5nZXRQb2ludEF0KCB1LCBvcHRpb25hbFRhcmdldCApLCAuZ2V0VGFuZ2VudEF0KCB1LCBvcHRpb25hbFRhcmdldCApCiAqIC5nZXRQb2ludHMoKSwgLmdldFNwYWNlZFBvaW50cygpCiAqIC5nZXRMZW5ndGgoKQogKiAudXBkYXRlQXJjTGVuZ3RocygpCiAqCiAqIFRoaXMgZm9sbG93aW5nIGN1cnZlcyBpbmhlcml0IGZyb20gVEhSRUUuQ3VydmU6CiAqCiAqIC0tIDJEIGN1cnZlcyAtLQogKiBUSFJFRS5BcmNDdXJ2ZQogKiBUSFJFRS5DdWJpY0JlemllckN1cnZlCiAqIFRIUkVFLkVsbGlwc2VDdXJ2ZQogKiBUSFJFRS5MaW5lQ3VydmUKICogVEhSRUUuUXVhZHJhdGljQmV6aWVyQ3VydmUKICogVEhSRUUuU3BsaW5lQ3VydmUKICoKICogLS0gM0QgY3VydmVzIC0tCiAqIFRIUkVFLkNhdG11bGxSb21DdXJ2ZTMKICogVEhSRUUuQ3ViaWNCZXppZXJDdXJ2ZTMKICogVEhSRUUuTGluZUN1cnZlMwogKiBUSFJFRS5RdWFkcmF0aWNCZXppZXJDdXJ2ZTMKICoKICogQSBzZXJpZXMgb2YgY3VydmVzIGNhbiBiZSByZXByZXNlbnRlZCBhcyBhIFRIUkVFLkN1cnZlUGF0aC4KICoKICoqL3ZhciBDdXJ2ZT0vKiNfX1BVUkVfXyovZnVuY3Rpb24oKXtmdW5jdGlvbiBDdXJ2ZSgpe19jbGFzc0NhbGxDaGVjayh0aGlzLEN1cnZlKTt0aGlzLnR5cGU9J0N1cnZlJzt0aGlzLmFyY0xlbmd0aERpdmlzaW9ucz0yMDA7fS8vIFZpcnR1YWwgYmFzZSBjbGFzcyBtZXRob2QgdG8gb3ZlcndyaXRlIGFuZCBpbXBsZW1lbnQgaW4gc3ViY2xhc3NlcwovLwktIHQgWzAgLi4gMV0KX2NyZWF0ZUNsYXNzKEN1cnZlLFt7a2V5OiJnZXRQb2ludCIsdmFsdWU6ZnVuY3Rpb24gZ2V0UG9pbnQoLyogdCwgb3B0aW9uYWxUYXJnZXQgKi8pe2NvbnNvbGUud2FybignVEhSRUUuQ3VydmU6IC5nZXRQb2ludCgpIG5vdCBpbXBsZW1lbnRlZC4nKTtyZXR1cm4gbnVsbDt9Ly8gR2V0IHBvaW50IGF0IHJlbGF0aXZlIHBvc2l0aW9uIGluIGN1cnZlIGFjY29yZGluZyB0byBhcmMgbGVuZ3RoCi8vIC0gdSBbMCAuLiAxXQp9LHtrZXk6ImdldFBvaW50QXQiLHZhbHVlOmZ1bmN0aW9uIGdldFBvaW50QXQodSxvcHRpb25hbFRhcmdldCl7dmFyIHQ9dGhpcy5nZXRVdG9UbWFwcGluZyh1KTtyZXR1cm4gdGhpcy5nZXRQb2ludCh0LG9wdGlvbmFsVGFyZ2V0KTt9Ly8gR2V0IHNlcXVlbmNlIG9mIHBvaW50cyB1c2luZyBnZXRQb2ludCggdCApCn0se2tleToiZ2V0UG9pbnRzIix2YWx1ZTpmdW5jdGlvbiBnZXRQb2ludHMoKXt2YXIgZGl2aXNpb25zPWFyZ3VtZW50cy5sZW5ndGg+MCYmYXJndW1lbnRzWzBdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1swXTo1O3ZhciBwb2ludHM9W107Zm9yKHZhciBkPTA7ZDw9ZGl2aXNpb25zO2QrKyl7cG9pbnRzLnB1c2godGhpcy5nZXRQb2ludChkL2RpdmlzaW9ucykpO31yZXR1cm4gcG9pbnRzO30vLyBHZXQgc2VxdWVuY2Ugb2YgcG9pbnRzIHVzaW5nIGdldFBvaW50QXQoIHUgKQp9LHtrZXk6ImdldFNwYWNlZFBvaW50cyIsdmFsdWU6ZnVuY3Rpb24gZ2V0U3BhY2VkUG9pbnRzKCl7dmFyIGRpdmlzaW9ucz1hcmd1bWVudHMubGVuZ3RoPjAmJmFyZ3VtZW50c1swXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMF06NTt2YXIgcG9pbnRzPVtdO2Zvcih2YXIgZD0wO2Q8PWRpdmlzaW9ucztkKyspe3BvaW50cy5wdXNoKHRoaXMuZ2V0UG9pbnRBdChkL2RpdmlzaW9ucykpO31yZXR1cm4gcG9pbnRzO30vLyBHZXQgdG90YWwgY3VydmUgYXJjIGxlbmd0aAp9LHtrZXk6ImdldExlbmd0aCIsdmFsdWU6ZnVuY3Rpb24gZ2V0TGVuZ3RoKCl7dmFyIGxlbmd0aHM9dGhpcy5nZXRMZW5ndGhzKCk7cmV0dXJuIGxlbmd0aHNbbGVuZ3Rocy5sZW5ndGgtMV07fS8vIEdldCBsaXN0IG9mIGN1bXVsYXRpdmUgc2VnbWVudCBsZW5ndGhzCn0se2tleToiZ2V0TGVuZ3RocyIsdmFsdWU6ZnVuY3Rpb24gZ2V0TGVuZ3Rocygpe3ZhciBkaXZpc2lvbnM9YXJndW1lbnRzLmxlbmd0aD4wJiZhcmd1bWVudHNbMF0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzBdOnRoaXMuYXJjTGVuZ3RoRGl2aXNpb25zO2lmKHRoaXMuY2FjaGVBcmNMZW5ndGhzJiZ0aGlzLmNhY2hlQXJjTGVuZ3Rocy5sZW5ndGg9PT1kaXZpc2lvbnMrMSYmIXRoaXMubmVlZHNVcGRhdGUpe3JldHVybiB0aGlzLmNhY2hlQXJjTGVuZ3Roczt9dGhpcy5uZWVkc1VwZGF0ZT1mYWxzZTt2YXIgY2FjaGU9W107dmFyIGN1cnJlbnQsbGFzdD10aGlzLmdldFBvaW50KDApO3ZhciBzdW09MDtjYWNoZS5wdXNoKDApO2Zvcih2YXIgcD0xO3A8PWRpdmlzaW9ucztwKyspe2N1cnJlbnQ9dGhpcy5nZXRQb2ludChwL2RpdmlzaW9ucyk7c3VtKz1jdXJyZW50LmRpc3RhbmNlVG8obGFzdCk7Y2FjaGUucHVzaChzdW0pO2xhc3Q9Y3VycmVudDt9dGhpcy5jYWNoZUFyY0xlbmd0aHM9Y2FjaGU7cmV0dXJuIGNhY2hlOy8vIHsgc3VtczogY2FjaGUsIHN1bTogc3VtIH07IFN1bSBpcyBpbiB0aGUgbGFzdCBlbGVtZW50Lgp9fSx7a2V5OiJ1cGRhdGVBcmNMZW5ndGhzIix2YWx1ZTpmdW5jdGlvbiB1cGRhdGVBcmNMZW5ndGhzKCl7dGhpcy5uZWVkc1VwZGF0ZT10cnVlO3RoaXMuZ2V0TGVuZ3RocygpO30vLyBHaXZlbiB1ICggMCAuLiAxICksIGdldCBhIHQgdG8gZmluZCBwLiBUaGlzIGdpdmVzIHlvdSBwb2ludHMgd2hpY2ggYXJlIGVxdWlkaXN0YW50Cn0se2tleToiZ2V0VXRvVG1hcHBpbmciLHZhbHVlOmZ1bmN0aW9uIGdldFV0b1RtYXBwaW5nKHUsZGlzdGFuY2Upe3ZhciBhcmNMZW5ndGhzPXRoaXMuZ2V0TGVuZ3RocygpO3ZhciBpPTA7dmFyIGlsPWFyY0xlbmd0aHMubGVuZ3RoO3ZhciB0YXJnZXRBcmNMZW5ndGg7Ly8gVGhlIHRhcmdldGVkIHUgZGlzdGFuY2UgdmFsdWUgdG8gZ2V0CmlmKGRpc3RhbmNlKXt0YXJnZXRBcmNMZW5ndGg9ZGlzdGFuY2U7fWVsc2V7dGFyZ2V0QXJjTGVuZ3RoPXUqYXJjTGVuZ3Roc1tpbC0xXTt9Ly8gYmluYXJ5IHNlYXJjaCBmb3IgdGhlIGluZGV4IHdpdGggbGFyZ2VzdCB2YWx1ZSBzbWFsbGVyIHRoYW4gdGFyZ2V0IHUgZGlzdGFuY2UKdmFyIGxvdz0wLGhpZ2g9aWwtMSxjb21wYXJpc29uO3doaWxlKGxvdzw9aGlnaCl7aT1NYXRoLmZsb29yKGxvdysoaGlnaC1sb3cpLzIpOy8vIGxlc3MgbGlrZWx5IHRvIG92ZXJmbG93LCB0aG91Z2ggcHJvYmFibHkgbm90IGlzc3VlIGhlcmUsIEpTIGRvZXNuJ3QgcmVhbGx5IGhhdmUgaW50ZWdlcnMsIGFsbCBudW1iZXJzIGFyZSBmbG9hdHMKY29tcGFyaXNvbj1hcmNMZW5ndGhzW2ldLXRhcmdldEFyY0xlbmd0aDtpZihjb21wYXJpc29uPDApe2xvdz1pKzE7fWVsc2UgaWYoY29tcGFyaXNvbj4wKXtoaWdoPWktMTt9ZWxzZXtoaWdoPWk7YnJlYWs7Ly8gRE9ORQp9fWk9aGlnaDtpZihhcmNMZW5ndGhzW2ldPT09dGFyZ2V0QXJjTGVuZ3RoKXtyZXR1cm4gaS8oaWwtMSk7fS8vIHdlIGNvdWxkIGdldCBmaW5lciBncmFpbiBhdCBsZW5ndGhzLCBvciB1c2Ugc2ltcGxlIGludGVycG9sYXRpb24gYmV0d2VlbiB0d28gcG9pbnRzCnZhciBsZW5ndGhCZWZvcmU9YXJjTGVuZ3Roc1tpXTt2YXIgbGVuZ3RoQWZ0ZXI9YXJjTGVuZ3Roc1tpKzFdO3ZhciBzZWdtZW50TGVuZ3RoPWxlbmd0aEFmdGVyLWxlbmd0aEJlZm9yZTsvLyBkZXRlcm1pbmUgd2hlcmUgd2UgYXJlIGJldHdlZW4gdGhlICdiZWZvcmUnIGFuZCAnYWZ0ZXInIHBvaW50cwp2YXIgc2VnbWVudEZyYWN0aW9uPSh0YXJnZXRBcmNMZW5ndGgtbGVuZ3RoQmVmb3JlKS9zZWdtZW50TGVuZ3RoOy8vIGFkZCB0aGF0IGZyYWN0aW9uYWwgYW1vdW50IHRvIHQKdmFyIHQ9KGkrc2VnbWVudEZyYWN0aW9uKS8oaWwtMSk7cmV0dXJuIHQ7fS8vIFJldHVybnMgYSB1bml0IHZlY3RvciB0YW5nZW50IGF0IHQKLy8gSW4gY2FzZSBhbnkgc3ViIGN1cnZlIGRvZXMgbm90IGltcGxlbWVudCBpdHMgdGFuZ2VudCBkZXJpdmF0aW9uLAovLyAyIHBvaW50cyBhIHNtYWxsIGRlbHRhIGFwYXJ0IHdpbGwgYmUgdXNlZCB0byBmaW5kIGl0cyBncmFkaWVudAovLyB3aGljaCBzZWVtcyB0byBnaXZlIGEgcmVhc29uYWJsZSBhcHByb3hpbWF0aW9uCn0se2tleToiZ2V0VGFuZ2VudCIsdmFsdWU6ZnVuY3Rpb24gZ2V0VGFuZ2VudCh0LG9wdGlvbmFsVGFyZ2V0KXt2YXIgZGVsdGE9MC4wMDAxO3ZhciB0MT10LWRlbHRhO3ZhciB0Mj10K2RlbHRhOy8vIENhcHBpbmcgaW4gY2FzZSBvZiBkYW5nZXIKaWYodDE8MCl0MT0wO2lmKHQyPjEpdDI9MTt2YXIgcHQxPXRoaXMuZ2V0UG9pbnQodDEpO3ZhciBwdDI9dGhpcy5nZXRQb2ludCh0Mik7dmFyIHRhbmdlbnQ9b3B0aW9uYWxUYXJnZXR8fChwdDEuaXNWZWN0b3IyP25ldyBWZWN0b3IyKCk6bmV3IFZlY3RvcjMoKSk7dGFuZ2VudC5jb3B5KHB0Mikuc3ViKHB0MSkubm9ybWFsaXplKCk7cmV0dXJuIHRhbmdlbnQ7fX0se2tleToiZ2V0VGFuZ2VudEF0Iix2YWx1ZTpmdW5jdGlvbiBnZXRUYW5nZW50QXQodSxvcHRpb25hbFRhcmdldCl7dmFyIHQ9dGhpcy5nZXRVdG9UbWFwcGluZyh1KTtyZXR1cm4gdGhpcy5nZXRUYW5nZW50KHQsb3B0aW9uYWxUYXJnZXQpO319LHtrZXk6ImNvbXB1dGVGcmVuZXRGcmFtZXMiLHZhbHVlOmZ1bmN0aW9uIGNvbXB1dGVGcmVuZXRGcmFtZXMoc2VnbWVudHMsY2xvc2VkKXsvLyBzZWUgaHR0cDovL3d3dy5jcy5pbmRpYW5hLmVkdS9wdWIvdGVjaHJlcG9ydHMvVFI0MjUucGRmCnZhciBub3JtYWw9bmV3IFZlY3RvcjMoKTt2YXIgdGFuZ2VudHM9W107dmFyIG5vcm1hbHM9W107dmFyIGJpbm9ybWFscz1bXTt2YXIgdmVjPW5ldyBWZWN0b3IzKCk7dmFyIG1hdD1uZXcgTWF0cml4NCgpOy8vIGNvbXB1dGUgdGhlIHRhbmdlbnQgdmVjdG9ycyBmb3IgZWFjaCBzZWdtZW50IG9uIHRoZSBjdXJ2ZQpmb3IodmFyIF9pMTkwPTA7X2kxOTA8PXNlZ21lbnRzO19pMTkwKyspe3ZhciB1PV9pMTkwL3NlZ21lbnRzO3RhbmdlbnRzW19pMTkwXT10aGlzLmdldFRhbmdlbnRBdCh1LG5ldyBWZWN0b3IzKCkpO30vLyBzZWxlY3QgYW4gaW5pdGlhbCBub3JtYWwgdmVjdG9yIHBlcnBlbmRpY3VsYXIgdG8gdGhlIGZpcnN0IHRhbmdlbnQgdmVjdG9yLAovLyBhbmQgaW4gdGhlIGRpcmVjdGlvbiBvZiB0aGUgbWluaW11bSB0YW5nZW50IHh5eiBjb21wb25lbnQKbm9ybWFsc1swXT1uZXcgVmVjdG9yMygpO2Jpbm9ybWFsc1swXT1uZXcgVmVjdG9yMygpO3ZhciBtaW49TnVtYmVyLk1BWF9WQUxVRTt2YXIgdHg9TWF0aC5hYnModGFuZ2VudHNbMF0ueCk7dmFyIHR5PU1hdGguYWJzKHRhbmdlbnRzWzBdLnkpO3ZhciB0ej1NYXRoLmFicyh0YW5nZW50c1swXS56KTtpZih0eDw9bWluKXttaW49dHg7bm9ybWFsLnNldCgxLDAsMCk7fWlmKHR5PD1taW4pe21pbj10eTtub3JtYWwuc2V0KDAsMSwwKTt9aWYodHo8PW1pbil7bm9ybWFsLnNldCgwLDAsMSk7fXZlYy5jcm9zc1ZlY3RvcnModGFuZ2VudHNbMF0sbm9ybWFsKS5ub3JtYWxpemUoKTtub3JtYWxzWzBdLmNyb3NzVmVjdG9ycyh0YW5nZW50c1swXSx2ZWMpO2Jpbm9ybWFsc1swXS5jcm9zc1ZlY3RvcnModGFuZ2VudHNbMF0sbm9ybWFsc1swXSk7Ly8gY29tcHV0ZSB0aGUgc2xvd2x5LXZhcnlpbmcgbm9ybWFsIGFuZCBiaW5vcm1hbCB2ZWN0b3JzIGZvciBlYWNoIHNlZ21lbnQgb24gdGhlIGN1cnZlCmZvcih2YXIgX2kxOTE9MTtfaTE5MTw9c2VnbWVudHM7X2kxOTErKyl7bm9ybWFsc1tfaTE5MV09bm9ybWFsc1tfaTE5MS0xXS5jbG9uZSgpO2Jpbm9ybWFsc1tfaTE5MV09Ymlub3JtYWxzW19pMTkxLTFdLmNsb25lKCk7dmVjLmNyb3NzVmVjdG9ycyh0YW5nZW50c1tfaTE5MS0xXSx0YW5nZW50c1tfaTE5MV0pO2lmKHZlYy5sZW5ndGgoKT5OdW1iZXIuRVBTSUxPTil7dmVjLm5vcm1hbGl6ZSgpO3ZhciB0aGV0YT1NYXRoLmFjb3MoY2xhbXAodGFuZ2VudHNbX2kxOTEtMV0uZG90KHRhbmdlbnRzW19pMTkxXSksLTEsMSkpOy8vIGNsYW1wIGZvciBmbG9hdGluZyBwdCBlcnJvcnMKbm9ybWFsc1tfaTE5MV0uYXBwbHlNYXRyaXg0KG1hdC5tYWtlUm90YXRpb25BeGlzKHZlYyx0aGV0YSkpO31iaW5vcm1hbHNbX2kxOTFdLmNyb3NzVmVjdG9ycyh0YW5nZW50c1tfaTE5MV0sbm9ybWFsc1tfaTE5MV0pO30vLyBpZiB0aGUgY3VydmUgaXMgY2xvc2VkLCBwb3N0cHJvY2VzcyB0aGUgdmVjdG9ycyBzbyB0aGUgZmlyc3QgYW5kIGxhc3Qgbm9ybWFsIHZlY3RvcnMgYXJlIHRoZSBzYW1lCmlmKGNsb3NlZD09PXRydWUpe3ZhciBfdGhldGE9TWF0aC5hY29zKGNsYW1wKG5vcm1hbHNbMF0uZG90KG5vcm1hbHNbc2VnbWVudHNdKSwtMSwxKSk7X3RoZXRhLz1zZWdtZW50cztpZih0YW5nZW50c1swXS5kb3QodmVjLmNyb3NzVmVjdG9ycyhub3JtYWxzWzBdLG5vcm1hbHNbc2VnbWVudHNdKSk+MCl7X3RoZXRhPS1fdGhldGE7fWZvcih2YXIgX2kxOTI9MTtfaTE5Mjw9c2VnbWVudHM7X2kxOTIrKyl7Ly8gdHdpc3QgYSBsaXR0bGUuLi4Kbm9ybWFsc1tfaTE5Ml0uYXBwbHlNYXRyaXg0KG1hdC5tYWtlUm90YXRpb25BeGlzKHRhbmdlbnRzW19pMTkyXSxfdGhldGEqX2kxOTIpKTtiaW5vcm1hbHNbX2kxOTJdLmNyb3NzVmVjdG9ycyh0YW5nZW50c1tfaTE5Ml0sbm9ybWFsc1tfaTE5Ml0pO319cmV0dXJue3RhbmdlbnRzOnRhbmdlbnRzLG5vcm1hbHM6bm9ybWFscyxiaW5vcm1hbHM6Ymlub3JtYWxzfTt9fSx7a2V5OiJjbG9uZSIsdmFsdWU6ZnVuY3Rpb24gY2xvbmUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoKS5jb3B5KHRoaXMpO319LHtrZXk6ImNvcHkiLHZhbHVlOmZ1bmN0aW9uIGNvcHkoc291cmNlKXt0aGlzLmFyY0xlbmd0aERpdmlzaW9ucz1zb3VyY2UuYXJjTGVuZ3RoRGl2aXNpb25zO3JldHVybiB0aGlzO319LHtrZXk6InRvSlNPTiIsdmFsdWU6ZnVuY3Rpb24gdG9KU09OKCl7dmFyIGRhdGE9e21ldGFkYXRhOnt2ZXJzaW9uOjQuNSx0eXBlOidDdXJ2ZScsZ2VuZXJhdG9yOidDdXJ2ZS50b0pTT04nfX07ZGF0YS5hcmNMZW5ndGhEaXZpc2lvbnM9dGhpcy5hcmNMZW5ndGhEaXZpc2lvbnM7ZGF0YS50eXBlPXRoaXMudHlwZTtyZXR1cm4gZGF0YTt9fSx7a2V5OiJmcm9tSlNPTiIsdmFsdWU6ZnVuY3Rpb24gZnJvbUpTT04oanNvbil7dGhpcy5hcmNMZW5ndGhEaXZpc2lvbnM9anNvbi5hcmNMZW5ndGhEaXZpc2lvbnM7cmV0dXJuIHRoaXM7fX1dKTtyZXR1cm4gQ3VydmU7fSgpO3ZhciBFbGxpcHNlQ3VydmU9LyojX19QVVJFX18qL2Z1bmN0aW9uKF9DdXJ2ZSl7X2luaGVyaXRzKEVsbGlwc2VDdXJ2ZSxfQ3VydmUpO3ZhciBfc3VwZXI2ND1fY3JlYXRlU3VwZXIoRWxsaXBzZUN1cnZlKTtmdW5jdGlvbiBFbGxpcHNlQ3VydmUoKXt2YXIgX3RoaXM1NDt2YXIgYVg9YXJndW1lbnRzLmxlbmd0aD4wJiZhcmd1bWVudHNbMF0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzBdOjA7dmFyIGFZPWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1sxXTowO3ZhciB4UmFkaXVzPWFyZ3VtZW50cy5sZW5ndGg+MiYmYXJndW1lbnRzWzJdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1syXToxO3ZhciB5UmFkaXVzPWFyZ3VtZW50cy5sZW5ndGg+MyYmYXJndW1lbnRzWzNdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1szXToxO3ZhciBhU3RhcnRBbmdsZT1hcmd1bWVudHMubGVuZ3RoPjQmJmFyZ3VtZW50c1s0XSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbNF06MDt2YXIgYUVuZEFuZ2xlPWFyZ3VtZW50cy5sZW5ndGg+NSYmYXJndW1lbnRzWzVdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1s1XTpNYXRoLlBJKjI7dmFyIGFDbG9ja3dpc2U9YXJndW1lbnRzLmxlbmd0aD42JiZhcmd1bWVudHNbNl0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzZdOmZhbHNlO3ZhciBhUm90YXRpb249YXJndW1lbnRzLmxlbmd0aD43JiZhcmd1bWVudHNbN10hPT11bmRlZmluZWQ/YXJndW1lbnRzWzddOjA7X2NsYXNzQ2FsbENoZWNrKHRoaXMsRWxsaXBzZUN1cnZlKTtfdGhpczU0PV9zdXBlcjY0LmNhbGwodGhpcyk7X3RoaXM1NC50eXBlPSdFbGxpcHNlQ3VydmUnO190aGlzNTQuYVg9YVg7X3RoaXM1NC5hWT1hWTtfdGhpczU0LnhSYWRpdXM9eFJhZGl1cztfdGhpczU0LnlSYWRpdXM9eVJhZGl1cztfdGhpczU0LmFTdGFydEFuZ2xlPWFTdGFydEFuZ2xlO190aGlzNTQuYUVuZEFuZ2xlPWFFbmRBbmdsZTtfdGhpczU0LmFDbG9ja3dpc2U9YUNsb2Nrd2lzZTtfdGhpczU0LmFSb3RhdGlvbj1hUm90YXRpb247cmV0dXJuIF90aGlzNTQ7fV9jcmVhdGVDbGFzcyhFbGxpcHNlQ3VydmUsW3trZXk6ImdldFBvaW50Iix2YWx1ZTpmdW5jdGlvbiBnZXRQb2ludCh0LG9wdGlvbmFsVGFyZ2V0KXt2YXIgcG9pbnQ9b3B0aW9uYWxUYXJnZXR8fG5ldyBWZWN0b3IyKCk7dmFyIHR3b1BpPU1hdGguUEkqMjt2YXIgZGVsdGFBbmdsZT10aGlzLmFFbmRBbmdsZS10aGlzLmFTdGFydEFuZ2xlO3ZhciBzYW1lUG9pbnRzPU1hdGguYWJzKGRlbHRhQW5nbGUpPE51bWJlci5FUFNJTE9OOy8vIGVuc3VyZXMgdGhhdCBkZWx0YUFuZ2xlIGlzIDAgLi4gMiBQSQp3aGlsZShkZWx0YUFuZ2xlPDApZGVsdGFBbmdsZSs9dHdvUGk7d2hpbGUoZGVsdGFBbmdsZT50d29QaSlkZWx0YUFuZ2xlLT10d29QaTtpZihkZWx0YUFuZ2xlPE51bWJlci5FUFNJTE9OKXtpZihzYW1lUG9pbnRzKXtkZWx0YUFuZ2xlPTA7fWVsc2V7ZGVsdGFBbmdsZT10d29QaTt9fWlmKHRoaXMuYUNsb2Nrd2lzZT09PXRydWUmJiFzYW1lUG9pbnRzKXtpZihkZWx0YUFuZ2xlPT09dHdvUGkpe2RlbHRhQW5nbGU9LXR3b1BpO31lbHNle2RlbHRhQW5nbGU9ZGVsdGFBbmdsZS10d29QaTt9fXZhciBhbmdsZT10aGlzLmFTdGFydEFuZ2xlK3QqZGVsdGFBbmdsZTt2YXIgeD10aGlzLmFYK3RoaXMueFJhZGl1cypNYXRoLmNvcyhhbmdsZSk7dmFyIHk9dGhpcy5hWSt0aGlzLnlSYWRpdXMqTWF0aC5zaW4oYW5nbGUpO2lmKHRoaXMuYVJvdGF0aW9uIT09MCl7dmFyIGNvcz1NYXRoLmNvcyh0aGlzLmFSb3RhdGlvbik7dmFyIHNpbj1NYXRoLnNpbih0aGlzLmFSb3RhdGlvbik7dmFyIHR4PXgtdGhpcy5hWDt2YXIgdHk9eS10aGlzLmFZOy8vIFJvdGF0ZSB0aGUgcG9pbnQgYWJvdXQgdGhlIGNlbnRlciBvZiB0aGUgZWxsaXBzZS4KeD10eCpjb3MtdHkqc2luK3RoaXMuYVg7eT10eCpzaW4rdHkqY29zK3RoaXMuYVk7fXJldHVybiBwb2ludC5zZXQoeCx5KTt9fSx7a2V5OiJjb3B5Iix2YWx1ZTpmdW5jdGlvbiBjb3B5KHNvdXJjZSl7X2dldChfZ2V0UHJvdG90eXBlT2YoRWxsaXBzZUN1cnZlLnByb3RvdHlwZSksImNvcHkiLHRoaXMpLmNhbGwodGhpcyxzb3VyY2UpO3RoaXMuYVg9c291cmNlLmFYO3RoaXMuYVk9c291cmNlLmFZO3RoaXMueFJhZGl1cz1zb3VyY2UueFJhZGl1czt0aGlzLnlSYWRpdXM9c291cmNlLnlSYWRpdXM7dGhpcy5hU3RhcnRBbmdsZT1zb3VyY2UuYVN0YXJ0QW5nbGU7dGhpcy5hRW5kQW5nbGU9c291cmNlLmFFbmRBbmdsZTt0aGlzLmFDbG9ja3dpc2U9c291cmNlLmFDbG9ja3dpc2U7dGhpcy5hUm90YXRpb249c291cmNlLmFSb3RhdGlvbjtyZXR1cm4gdGhpczt9fSx7a2V5OiJ0b0pTT04iLHZhbHVlOmZ1bmN0aW9uIHRvSlNPTigpe3ZhciBkYXRhPV9nZXQoX2dldFByb3RvdHlwZU9mKEVsbGlwc2VDdXJ2ZS5wcm90b3R5cGUpLCJ0b0pTT04iLHRoaXMpLmNhbGwodGhpcyk7ZGF0YS5hWD10aGlzLmFYO2RhdGEuYVk9dGhpcy5hWTtkYXRhLnhSYWRpdXM9dGhpcy54UmFkaXVzO2RhdGEueVJhZGl1cz10aGlzLnlSYWRpdXM7ZGF0YS5hU3RhcnRBbmdsZT10aGlzLmFTdGFydEFuZ2xlO2RhdGEuYUVuZEFuZ2xlPXRoaXMuYUVuZEFuZ2xlO2RhdGEuYUNsb2Nrd2lzZT10aGlzLmFDbG9ja3dpc2U7ZGF0YS5hUm90YXRpb249dGhpcy5hUm90YXRpb247cmV0dXJuIGRhdGE7fX0se2tleToiZnJvbUpTT04iLHZhbHVlOmZ1bmN0aW9uIGZyb21KU09OKGpzb24pe19nZXQoX2dldFByb3RvdHlwZU9mKEVsbGlwc2VDdXJ2ZS5wcm90b3R5cGUpLCJmcm9tSlNPTiIsdGhpcykuY2FsbCh0aGlzLGpzb24pO3RoaXMuYVg9anNvbi5hWDt0aGlzLmFZPWpzb24uYVk7dGhpcy54UmFkaXVzPWpzb24ueFJhZGl1czt0aGlzLnlSYWRpdXM9anNvbi55UmFkaXVzO3RoaXMuYVN0YXJ0QW5nbGU9anNvbi5hU3RhcnRBbmdsZTt0aGlzLmFFbmRBbmdsZT1qc29uLmFFbmRBbmdsZTt0aGlzLmFDbG9ja3dpc2U9anNvbi5hQ2xvY2t3aXNlO3RoaXMuYVJvdGF0aW9uPWpzb24uYVJvdGF0aW9uO3JldHVybiB0aGlzO319XSk7cmV0dXJuIEVsbGlwc2VDdXJ2ZTt9KEN1cnZlKTtFbGxpcHNlQ3VydmUucHJvdG90eXBlLmlzRWxsaXBzZUN1cnZlPXRydWU7dmFyIEFyY0N1cnZlPS8qI19fUFVSRV9fKi9mdW5jdGlvbihfRWxsaXBzZUN1cnZlKXtfaW5oZXJpdHMoQXJjQ3VydmUsX0VsbGlwc2VDdXJ2ZSk7dmFyIF9zdXBlcjY1PV9jcmVhdGVTdXBlcihBcmNDdXJ2ZSk7ZnVuY3Rpb24gQXJjQ3VydmUoYVgsYVksYVJhZGl1cyxhU3RhcnRBbmdsZSxhRW5kQW5nbGUsYUNsb2Nrd2lzZSl7dmFyIF90aGlzNTU7X2NsYXNzQ2FsbENoZWNrKHRoaXMsQXJjQ3VydmUpO190aGlzNTU9X3N1cGVyNjUuY2FsbCh0aGlzLGFYLGFZLGFSYWRpdXMsYVJhZGl1cyxhU3RhcnRBbmdsZSxhRW5kQW5nbGUsYUNsb2Nrd2lzZSk7X3RoaXM1NS50eXBlPSdBcmNDdXJ2ZSc7cmV0dXJuIF90aGlzNTU7fXJldHVybiBfY3JlYXRlQ2xhc3MoQXJjQ3VydmUpO30oRWxsaXBzZUN1cnZlKTtBcmNDdXJ2ZS5wcm90b3R5cGUuaXNBcmNDdXJ2ZT10cnVlOy8qKgogKiBDZW50cmlwZXRhbCBDYXRtdWxsUm9tIEN1cnZlIC0gd2hpY2ggaXMgdXNlZnVsIGZvciBhdm9pZGluZwogKiBjdXNwcyBhbmQgc2VsZi1pbnRlcnNlY3Rpb25zIGluIG5vbi11bmlmb3JtIGNhdG11bGwgcm9tIGN1cnZlcy4KICogaHR0cDovL3d3dy5jZW15dWtzZWwuY29tL3Jlc2VhcmNoL2NhdG11bGxyb21fcGFyYW0vY2F0bXVsbHJvbS5wZGYKICoKICogY3VydmUudHlwZSBhY2NlcHRzIGNlbnRyaXBldGFsKGRlZmF1bHQpLCBjaG9yZGFsIGFuZCBjYXRtdWxscm9tCiAqIGN1cnZlLnRlbnNpb24gaXMgdXNlZCBmb3IgY2F0bXVsbHJvbSB3aGljaCBkZWZhdWx0cyB0byAwLjUKICovIC8qCkJhc2VkIG9uIGFuIG9wdGltaXplZCBjKysgc29sdXRpb24gaW4KIC0gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy85NDg5NzM2L2NhdG11bGwtcm9tLWN1cnZlLXdpdGgtbm8tY3VzcHMtYW5kLW5vLXNlbGYtaW50ZXJzZWN0aW9ucy8KIC0gaHR0cDovL2lkZW9uZS5jb20vTm9FYlZNCgpUaGlzIEN1YmljUG9seSBjbGFzcyBjb3VsZCBiZSB1c2VkIGZvciByZXVzaW5nIHNvbWUgdmFyaWFibGVzIGFuZCBjYWxjdWxhdGlvbnMsCmJ1dCBmb3IgdGhyZWUuanMgY3VydmUgdXNlLCBpdCBjb3VsZCBiZSBwb3NzaWJsZSBpbmxpbmVkIGFuZCBmbGF0dGVuIGludG8gYSBzaW5nbGUgZnVuY3Rpb24gY2FsbAp3aGljaCBjYW4gYmUgcGxhY2VkIGluIEN1cnZlVXRpbHMuCiovZnVuY3Rpb24gQ3ViaWNQb2x5KCl7dmFyIGMwPTAsYzE9MCxjMj0wLGMzPTA7LyoKCSAqIENvbXB1dGUgY29lZmZpY2llbnRzIGZvciBhIGN1YmljIHBvbHlub21pYWwKCSAqICAgcChzKSA9IGMwICsgYzEqcyArIGMyKnNeMiArIGMzKnNeMwoJICogc3VjaCB0aGF0CgkgKiAgIHAoMCkgPSB4MCwgcCgxKSA9IHgxCgkgKiAgYW5kCgkgKiAgIHAnKDApID0gdDAsIHAnKDEpID0gdDEuCgkgKi9mdW5jdGlvbiBpbml0KHgwLHgxLHQwLHQxKXtjMD14MDtjMT10MDtjMj0tMyp4MCszKngxLTIqdDAtdDE7YzM9Mip4MC0yKngxK3QwK3QxO31yZXR1cm57aW5pdENhdG11bGxSb206ZnVuY3Rpb24gaW5pdENhdG11bGxSb20oeDAseDEseDIseDMsdGVuc2lvbil7aW5pdCh4MSx4Mix0ZW5zaW9uKih4Mi14MCksdGVuc2lvbiooeDMteDEpKTt9LGluaXROb251bmlmb3JtQ2F0bXVsbFJvbTpmdW5jdGlvbiBpbml0Tm9udW5pZm9ybUNhdG11bGxSb20oeDAseDEseDIseDMsZHQwLGR0MSxkdDIpey8vIGNvbXB1dGUgdGFuZ2VudHMgd2hlbiBwYXJhbWV0ZXJpemVkIGluIFt0MSx0Ml0KdmFyIHQxPSh4MS14MCkvZHQwLSh4Mi14MCkvKGR0MCtkdDEpKyh4Mi14MSkvZHQxO3ZhciB0Mj0oeDIteDEpL2R0MS0oeDMteDEpLyhkdDErZHQyKSsoeDMteDIpL2R0MjsvLyByZXNjYWxlIHRhbmdlbnRzIGZvciBwYXJhbWV0cml6YXRpb24gaW4gWzAsMV0KdDEqPWR0MTt0Mio9ZHQxO2luaXQoeDEseDIsdDEsdDIpO30sY2FsYzpmdW5jdGlvbiBjYWxjKHQpe3ZhciB0Mj10KnQ7dmFyIHQzPXQyKnQ7cmV0dXJuIGMwK2MxKnQrYzIqdDIrYzMqdDM7fX07fS8vCnZhciB0bXA9bmV3IFZlY3RvcjMoKTt2YXIgcHg9bmV3IEN1YmljUG9seSgpLHB5PW5ldyBDdWJpY1BvbHkoKSxwej1uZXcgQ3ViaWNQb2x5KCk7dmFyIENhdG11bGxSb21DdXJ2ZTM9LyojX19QVVJFX18qL2Z1bmN0aW9uKF9DdXJ2ZTIpe19pbmhlcml0cyhDYXRtdWxsUm9tQ3VydmUzLF9DdXJ2ZTIpO3ZhciBfc3VwZXI2Nj1fY3JlYXRlU3VwZXIoQ2F0bXVsbFJvbUN1cnZlMyk7ZnVuY3Rpb24gQ2F0bXVsbFJvbUN1cnZlMygpe3ZhciBfdGhpczU2O3ZhciBwb2ludHM9YXJndW1lbnRzLmxlbmd0aD4wJiZhcmd1bWVudHNbMF0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzBdOltdO3ZhciBjbG9zZWQ9YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzFdOmZhbHNlO3ZhciBjdXJ2ZVR5cGU9YXJndW1lbnRzLmxlbmd0aD4yJiZhcmd1bWVudHNbMl0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzJdOidjZW50cmlwZXRhbCc7dmFyIHRlbnNpb249YXJndW1lbnRzLmxlbmd0aD4zJiZhcmd1bWVudHNbM10hPT11bmRlZmluZWQ/YXJndW1lbnRzWzNdOjAuNTtfY2xhc3NDYWxsQ2hlY2sodGhpcyxDYXRtdWxsUm9tQ3VydmUzKTtfdGhpczU2PV9zdXBlcjY2LmNhbGwodGhpcyk7X3RoaXM1Ni50eXBlPSdDYXRtdWxsUm9tQ3VydmUzJztfdGhpczU2LnBvaW50cz1wb2ludHM7X3RoaXM1Ni5jbG9zZWQ9Y2xvc2VkO190aGlzNTYuY3VydmVUeXBlPWN1cnZlVHlwZTtfdGhpczU2LnRlbnNpb249dGVuc2lvbjtyZXR1cm4gX3RoaXM1Njt9X2NyZWF0ZUNsYXNzKENhdG11bGxSb21DdXJ2ZTMsW3trZXk6ImdldFBvaW50Iix2YWx1ZTpmdW5jdGlvbiBnZXRQb2ludCh0KXt2YXIgb3B0aW9uYWxUYXJnZXQ9YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzFdOm5ldyBWZWN0b3IzKCk7dmFyIHBvaW50PW9wdGlvbmFsVGFyZ2V0O3ZhciBwb2ludHM9dGhpcy5wb2ludHM7dmFyIGw9cG9pbnRzLmxlbmd0aDt2YXIgcD0obC0odGhpcy5jbG9zZWQ/MDoxKSkqdDt2YXIgaW50UG9pbnQ9TWF0aC5mbG9vcihwKTt2YXIgd2VpZ2h0PXAtaW50UG9pbnQ7aWYodGhpcy5jbG9zZWQpe2ludFBvaW50Kz1pbnRQb2ludD4wPzA6KE1hdGguZmxvb3IoTWF0aC5hYnMoaW50UG9pbnQpL2wpKzEpKmw7fWVsc2UgaWYod2VpZ2h0PT09MCYmaW50UG9pbnQ9PT1sLTEpe2ludFBvaW50PWwtMjt3ZWlnaHQ9MTt9dmFyIHAwLHAzOy8vIDQgcG9pbnRzIChwMSAmIHAyIGRlZmluZWQgYmVsb3cpCmlmKHRoaXMuY2xvc2VkfHxpbnRQb2ludD4wKXtwMD1wb2ludHNbKGludFBvaW50LTEpJWxdO31lbHNley8vIGV4dHJhcG9sYXRlIGZpcnN0IHBvaW50CnRtcC5zdWJWZWN0b3JzKHBvaW50c1swXSxwb2ludHNbMV0pLmFkZChwb2ludHNbMF0pO3AwPXRtcDt9dmFyIHAxPXBvaW50c1tpbnRQb2ludCVsXTt2YXIgcDI9cG9pbnRzWyhpbnRQb2ludCsxKSVsXTtpZih0aGlzLmNsb3NlZHx8aW50UG9pbnQrMjxsKXtwMz1wb2ludHNbKGludFBvaW50KzIpJWxdO31lbHNley8vIGV4dHJhcG9sYXRlIGxhc3QgcG9pbnQKdG1wLnN1YlZlY3RvcnMocG9pbnRzW2wtMV0scG9pbnRzW2wtMl0pLmFkZChwb2ludHNbbC0xXSk7cDM9dG1wO31pZih0aGlzLmN1cnZlVHlwZT09PSdjZW50cmlwZXRhbCd8fHRoaXMuY3VydmVUeXBlPT09J2Nob3JkYWwnKXsvLyBpbml0IENlbnRyaXBldGFsIC8gQ2hvcmRhbCBDYXRtdWxsLVJvbQp2YXIgcG93PXRoaXMuY3VydmVUeXBlPT09J2Nob3JkYWwnPzAuNTowLjI1O3ZhciBkdDA9TWF0aC5wb3cocDAuZGlzdGFuY2VUb1NxdWFyZWQocDEpLHBvdyk7dmFyIGR0MT1NYXRoLnBvdyhwMS5kaXN0YW5jZVRvU3F1YXJlZChwMikscG93KTt2YXIgZHQyPU1hdGgucG93KHAyLmRpc3RhbmNlVG9TcXVhcmVkKHAzKSxwb3cpOy8vIHNhZmV0eSBjaGVjayBmb3IgcmVwZWF0ZWQgcG9pbnRzCmlmKGR0MTwxZS00KWR0MT0xLjA7aWYoZHQwPDFlLTQpZHQwPWR0MTtpZihkdDI8MWUtNClkdDI9ZHQxO3B4LmluaXROb251bmlmb3JtQ2F0bXVsbFJvbShwMC54LHAxLngscDIueCxwMy54LGR0MCxkdDEsZHQyKTtweS5pbml0Tm9udW5pZm9ybUNhdG11bGxSb20ocDAueSxwMS55LHAyLnkscDMueSxkdDAsZHQxLGR0Mik7cHouaW5pdE5vbnVuaWZvcm1DYXRtdWxsUm9tKHAwLnoscDEueixwMi56LHAzLnosZHQwLGR0MSxkdDIpO31lbHNlIGlmKHRoaXMuY3VydmVUeXBlPT09J2NhdG11bGxyb20nKXtweC5pbml0Q2F0bXVsbFJvbShwMC54LHAxLngscDIueCxwMy54LHRoaXMudGVuc2lvbik7cHkuaW5pdENhdG11bGxSb20ocDAueSxwMS55LHAyLnkscDMueSx0aGlzLnRlbnNpb24pO3B6LmluaXRDYXRtdWxsUm9tKHAwLnoscDEueixwMi56LHAzLnosdGhpcy50ZW5zaW9uKTt9cG9pbnQuc2V0KHB4LmNhbGMod2VpZ2h0KSxweS5jYWxjKHdlaWdodCkscHouY2FsYyh3ZWlnaHQpKTtyZXR1cm4gcG9pbnQ7fX0se2tleToiY29weSIsdmFsdWU6ZnVuY3Rpb24gY29weShzb3VyY2Upe19nZXQoX2dldFByb3RvdHlwZU9mKENhdG11bGxSb21DdXJ2ZTMucHJvdG90eXBlKSwiY29weSIsdGhpcykuY2FsbCh0aGlzLHNvdXJjZSk7dGhpcy5wb2ludHM9W107Zm9yKHZhciBfaTE5Mz0wLGw9c291cmNlLnBvaW50cy5sZW5ndGg7X2kxOTM8bDtfaTE5MysrKXt2YXIgcG9pbnQ9c291cmNlLnBvaW50c1tfaTE5M107dGhpcy5wb2ludHMucHVzaChwb2ludC5jbG9uZSgpKTt9dGhpcy5jbG9zZWQ9c291cmNlLmNsb3NlZDt0aGlzLmN1cnZlVHlwZT1zb3VyY2UuY3VydmVUeXBlO3RoaXMudGVuc2lvbj1zb3VyY2UudGVuc2lvbjtyZXR1cm4gdGhpczt9fSx7a2V5OiJ0b0pTT04iLHZhbHVlOmZ1bmN0aW9uIHRvSlNPTigpe3ZhciBkYXRhPV9nZXQoX2dldFByb3RvdHlwZU9mKENhdG11bGxSb21DdXJ2ZTMucHJvdG90eXBlKSwidG9KU09OIix0aGlzKS5jYWxsKHRoaXMpO2RhdGEucG9pbnRzPVtdO2Zvcih2YXIgX2kxOTQ9MCxsPXRoaXMucG9pbnRzLmxlbmd0aDtfaTE5NDxsO19pMTk0Kyspe3ZhciBwb2ludD10aGlzLnBvaW50c1tfaTE5NF07ZGF0YS5wb2ludHMucHVzaChwb2ludC50b0FycmF5KCkpO31kYXRhLmNsb3NlZD10aGlzLmNsb3NlZDtkYXRhLmN1cnZlVHlwZT10aGlzLmN1cnZlVHlwZTtkYXRhLnRlbnNpb249dGhpcy50ZW5zaW9uO3JldHVybiBkYXRhO319LHtrZXk6ImZyb21KU09OIix2YWx1ZTpmdW5jdGlvbiBmcm9tSlNPTihqc29uKXtfZ2V0KF9nZXRQcm90b3R5cGVPZihDYXRtdWxsUm9tQ3VydmUzLnByb3RvdHlwZSksImZyb21KU09OIix0aGlzKS5jYWxsKHRoaXMsanNvbik7dGhpcy5wb2ludHM9W107Zm9yKHZhciBfaTE5NT0wLGw9anNvbi5wb2ludHMubGVuZ3RoO19pMTk1PGw7X2kxOTUrKyl7dmFyIHBvaW50PWpzb24ucG9pbnRzW19pMTk1XTt0aGlzLnBvaW50cy5wdXNoKG5ldyBWZWN0b3IzKCkuZnJvbUFycmF5KHBvaW50KSk7fXRoaXMuY2xvc2VkPWpzb24uY2xvc2VkO3RoaXMuY3VydmVUeXBlPWpzb24uY3VydmVUeXBlO3RoaXMudGVuc2lvbj1qc29uLnRlbnNpb247cmV0dXJuIHRoaXM7fX1dKTtyZXR1cm4gQ2F0bXVsbFJvbUN1cnZlMzt9KEN1cnZlKTtDYXRtdWxsUm9tQ3VydmUzLnByb3RvdHlwZS5pc0NhdG11bGxSb21DdXJ2ZTM9dHJ1ZTsvKioKICogQmV6aWVyIEN1cnZlcyBmb3JtdWxhcyBvYnRhaW5lZCBmcm9tCiAqIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0IlQzMlQTl6aWVyX2N1cnZlCiAqL2Z1bmN0aW9uIENhdG11bGxSb20odCxwMCxwMSxwMixwMyl7dmFyIHYwPShwMi1wMCkqMC41O3ZhciB2MT0ocDMtcDEpKjAuNTt2YXIgdDI9dCp0O3ZhciB0Mz10KnQyO3JldHVybigyKnAxLTIqcDIrdjArdjEpKnQzKygtMypwMSszKnAyLTIqdjAtdjEpKnQyK3YwKnQrcDE7fS8vCmZ1bmN0aW9uIFF1YWRyYXRpY0JlemllclAwKHQscCl7dmFyIGs9MS10O3JldHVybiBrKmsqcDt9ZnVuY3Rpb24gUXVhZHJhdGljQmV6aWVyUDEodCxwKXtyZXR1cm4gMiooMS10KSp0KnA7fWZ1bmN0aW9uIFF1YWRyYXRpY0JlemllclAyKHQscCl7cmV0dXJuIHQqdCpwO31mdW5jdGlvbiBRdWFkcmF0aWNCZXppZXIodCxwMCxwMSxwMil7cmV0dXJuIFF1YWRyYXRpY0JlemllclAwKHQscDApK1F1YWRyYXRpY0JlemllclAxKHQscDEpK1F1YWRyYXRpY0JlemllclAyKHQscDIpO30vLwpmdW5jdGlvbiBDdWJpY0JlemllclAwKHQscCl7dmFyIGs9MS10O3JldHVybiBrKmsqaypwO31mdW5jdGlvbiBDdWJpY0JlemllclAxKHQscCl7dmFyIGs9MS10O3JldHVybiAzKmsqayp0KnA7fWZ1bmN0aW9uIEN1YmljQmV6aWVyUDIodCxwKXtyZXR1cm4gMyooMS10KSp0KnQqcDt9ZnVuY3Rpb24gQ3ViaWNCZXppZXJQMyh0LHApe3JldHVybiB0KnQqdCpwO31mdW5jdGlvbiBDdWJpY0Jlemllcih0LHAwLHAxLHAyLHAzKXtyZXR1cm4gQ3ViaWNCZXppZXJQMCh0LHAwKStDdWJpY0JlemllclAxKHQscDEpK0N1YmljQmV6aWVyUDIodCxwMikrQ3ViaWNCZXppZXJQMyh0LHAzKTt9dmFyIEN1YmljQmV6aWVyQ3VydmU9LyojX19QVVJFX18qL2Z1bmN0aW9uKF9DdXJ2ZTMpe19pbmhlcml0cyhDdWJpY0JlemllckN1cnZlLF9DdXJ2ZTMpO3ZhciBfc3VwZXI2Nz1fY3JlYXRlU3VwZXIoQ3ViaWNCZXppZXJDdXJ2ZSk7ZnVuY3Rpb24gQ3ViaWNCZXppZXJDdXJ2ZSgpe3ZhciBfdGhpczU3O3ZhciB2MD1hcmd1bWVudHMubGVuZ3RoPjAmJmFyZ3VtZW50c1swXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMF06bmV3IFZlY3RvcjIoKTt2YXIgdjE9YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzFdOm5ldyBWZWN0b3IyKCk7dmFyIHYyPWFyZ3VtZW50cy5sZW5ndGg+MiYmYXJndW1lbnRzWzJdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1syXTpuZXcgVmVjdG9yMigpO3ZhciB2Mz1hcmd1bWVudHMubGVuZ3RoPjMmJmFyZ3VtZW50c1szXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbM106bmV3IFZlY3RvcjIoKTtfY2xhc3NDYWxsQ2hlY2sodGhpcyxDdWJpY0JlemllckN1cnZlKTtfdGhpczU3PV9zdXBlcjY3LmNhbGwodGhpcyk7X3RoaXM1Ny50eXBlPSdDdWJpY0JlemllckN1cnZlJztfdGhpczU3LnYwPXYwO190aGlzNTcudjE9djE7X3RoaXM1Ny52Mj12MjtfdGhpczU3LnYzPXYzO3JldHVybiBfdGhpczU3O31fY3JlYXRlQ2xhc3MoQ3ViaWNCZXppZXJDdXJ2ZSxbe2tleToiZ2V0UG9pbnQiLHZhbHVlOmZ1bmN0aW9uIGdldFBvaW50KHQpe3ZhciBvcHRpb25hbFRhcmdldD1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMV06bmV3IFZlY3RvcjIoKTt2YXIgcG9pbnQ9b3B0aW9uYWxUYXJnZXQ7dmFyIHYwPXRoaXMudjAsdjE9dGhpcy52MSx2Mj10aGlzLnYyLHYzPXRoaXMudjM7cG9pbnQuc2V0KEN1YmljQmV6aWVyKHQsdjAueCx2MS54LHYyLngsdjMueCksQ3ViaWNCZXppZXIodCx2MC55LHYxLnksdjIueSx2My55KSk7cmV0dXJuIHBvaW50O319LHtrZXk6ImNvcHkiLHZhbHVlOmZ1bmN0aW9uIGNvcHkoc291cmNlKXtfZ2V0KF9nZXRQcm90b3R5cGVPZihDdWJpY0JlemllckN1cnZlLnByb3RvdHlwZSksImNvcHkiLHRoaXMpLmNhbGwodGhpcyxzb3VyY2UpO3RoaXMudjAuY29weShzb3VyY2UudjApO3RoaXMudjEuY29weShzb3VyY2UudjEpO3RoaXMudjIuY29weShzb3VyY2UudjIpO3RoaXMudjMuY29weShzb3VyY2UudjMpO3JldHVybiB0aGlzO319LHtrZXk6InRvSlNPTiIsdmFsdWU6ZnVuY3Rpb24gdG9KU09OKCl7dmFyIGRhdGE9X2dldChfZ2V0UHJvdG90eXBlT2YoQ3ViaWNCZXppZXJDdXJ2ZS5wcm90b3R5cGUpLCJ0b0pTT04iLHRoaXMpLmNhbGwodGhpcyk7ZGF0YS52MD10aGlzLnYwLnRvQXJyYXkoKTtkYXRhLnYxPXRoaXMudjEudG9BcnJheSgpO2RhdGEudjI9dGhpcy52Mi50b0FycmF5KCk7ZGF0YS52Mz10aGlzLnYzLnRvQXJyYXkoKTtyZXR1cm4gZGF0YTt9fSx7a2V5OiJmcm9tSlNPTiIsdmFsdWU6ZnVuY3Rpb24gZnJvbUpTT04oanNvbil7X2dldChfZ2V0UHJvdG90eXBlT2YoQ3ViaWNCZXppZXJDdXJ2ZS5wcm90b3R5cGUpLCJmcm9tSlNPTiIsdGhpcykuY2FsbCh0aGlzLGpzb24pO3RoaXMudjAuZnJvbUFycmF5KGpzb24udjApO3RoaXMudjEuZnJvbUFycmF5KGpzb24udjEpO3RoaXMudjIuZnJvbUFycmF5KGpzb24udjIpO3RoaXMudjMuZnJvbUFycmF5KGpzb24udjMpO3JldHVybiB0aGlzO319XSk7cmV0dXJuIEN1YmljQmV6aWVyQ3VydmU7fShDdXJ2ZSk7Q3ViaWNCZXppZXJDdXJ2ZS5wcm90b3R5cGUuaXNDdWJpY0JlemllckN1cnZlPXRydWU7dmFyIEN1YmljQmV6aWVyQ3VydmUzPS8qI19fUFVSRV9fKi9mdW5jdGlvbihfQ3VydmU0KXtfaW5oZXJpdHMoQ3ViaWNCZXppZXJDdXJ2ZTMsX0N1cnZlNCk7dmFyIF9zdXBlcjY4PV9jcmVhdGVTdXBlcihDdWJpY0JlemllckN1cnZlMyk7ZnVuY3Rpb24gQ3ViaWNCZXppZXJDdXJ2ZTMoKXt2YXIgX3RoaXM1ODt2YXIgdjA9YXJndW1lbnRzLmxlbmd0aD4wJiZhcmd1bWVudHNbMF0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzBdOm5ldyBWZWN0b3IzKCk7dmFyIHYxPWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1sxXTpuZXcgVmVjdG9yMygpO3ZhciB2Mj1hcmd1bWVudHMubGVuZ3RoPjImJmFyZ3VtZW50c1syXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMl06bmV3IFZlY3RvcjMoKTt2YXIgdjM9YXJndW1lbnRzLmxlbmd0aD4zJiZhcmd1bWVudHNbM10hPT11bmRlZmluZWQ/YXJndW1lbnRzWzNdOm5ldyBWZWN0b3IzKCk7X2NsYXNzQ2FsbENoZWNrKHRoaXMsQ3ViaWNCZXppZXJDdXJ2ZTMpO190aGlzNTg9X3N1cGVyNjguY2FsbCh0aGlzKTtfdGhpczU4LnR5cGU9J0N1YmljQmV6aWVyQ3VydmUzJztfdGhpczU4LnYwPXYwO190aGlzNTgudjE9djE7X3RoaXM1OC52Mj12MjtfdGhpczU4LnYzPXYzO3JldHVybiBfdGhpczU4O31fY3JlYXRlQ2xhc3MoQ3ViaWNCZXppZXJDdXJ2ZTMsW3trZXk6ImdldFBvaW50Iix2YWx1ZTpmdW5jdGlvbiBnZXRQb2ludCh0KXt2YXIgb3B0aW9uYWxUYXJnZXQ9YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzFdOm5ldyBWZWN0b3IzKCk7dmFyIHBvaW50PW9wdGlvbmFsVGFyZ2V0O3ZhciB2MD10aGlzLnYwLHYxPXRoaXMudjEsdjI9dGhpcy52Mix2Mz10aGlzLnYzO3BvaW50LnNldChDdWJpY0Jlemllcih0LHYwLngsdjEueCx2Mi54LHYzLngpLEN1YmljQmV6aWVyKHQsdjAueSx2MS55LHYyLnksdjMueSksQ3ViaWNCZXppZXIodCx2MC56LHYxLnosdjIueix2My56KSk7cmV0dXJuIHBvaW50O319LHtrZXk6ImNvcHkiLHZhbHVlOmZ1bmN0aW9uIGNvcHkoc291cmNlKXtfZ2V0KF9nZXRQcm90b3R5cGVPZihDdWJpY0JlemllckN1cnZlMy5wcm90b3R5cGUpLCJjb3B5Iix0aGlzKS5jYWxsKHRoaXMsc291cmNlKTt0aGlzLnYwLmNvcHkoc291cmNlLnYwKTt0aGlzLnYxLmNvcHkoc291cmNlLnYxKTt0aGlzLnYyLmNvcHkoc291cmNlLnYyKTt0aGlzLnYzLmNvcHkoc291cmNlLnYzKTtyZXR1cm4gdGhpczt9fSx7a2V5OiJ0b0pTT04iLHZhbHVlOmZ1bmN0aW9uIHRvSlNPTigpe3ZhciBkYXRhPV9nZXQoX2dldFByb3RvdHlwZU9mKEN1YmljQmV6aWVyQ3VydmUzLnByb3RvdHlwZSksInRvSlNPTiIsdGhpcykuY2FsbCh0aGlzKTtkYXRhLnYwPXRoaXMudjAudG9BcnJheSgpO2RhdGEudjE9dGhpcy52MS50b0FycmF5KCk7ZGF0YS52Mj10aGlzLnYyLnRvQXJyYXkoKTtkYXRhLnYzPXRoaXMudjMudG9BcnJheSgpO3JldHVybiBkYXRhO319LHtrZXk6ImZyb21KU09OIix2YWx1ZTpmdW5jdGlvbiBmcm9tSlNPTihqc29uKXtfZ2V0KF9nZXRQcm90b3R5cGVPZihDdWJpY0JlemllckN1cnZlMy5wcm90b3R5cGUpLCJmcm9tSlNPTiIsdGhpcykuY2FsbCh0aGlzLGpzb24pO3RoaXMudjAuZnJvbUFycmF5KGpzb24udjApO3RoaXMudjEuZnJvbUFycmF5KGpzb24udjEpO3RoaXMudjIuZnJvbUFycmF5KGpzb24udjIpO3RoaXMudjMuZnJvbUFycmF5KGpzb24udjMpO3JldHVybiB0aGlzO319XSk7cmV0dXJuIEN1YmljQmV6aWVyQ3VydmUzO30oQ3VydmUpO0N1YmljQmV6aWVyQ3VydmUzLnByb3RvdHlwZS5pc0N1YmljQmV6aWVyQ3VydmUzPXRydWU7dmFyIExpbmVDdXJ2ZT0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX0N1cnZlNSl7X2luaGVyaXRzKExpbmVDdXJ2ZSxfQ3VydmU1KTt2YXIgX3N1cGVyNjk9X2NyZWF0ZVN1cGVyKExpbmVDdXJ2ZSk7ZnVuY3Rpb24gTGluZUN1cnZlKCl7dmFyIF90aGlzNTk7dmFyIHYxPWFyZ3VtZW50cy5sZW5ndGg+MCYmYXJndW1lbnRzWzBdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1swXTpuZXcgVmVjdG9yMigpO3ZhciB2Mj1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMV06bmV3IFZlY3RvcjIoKTtfY2xhc3NDYWxsQ2hlY2sodGhpcyxMaW5lQ3VydmUpO190aGlzNTk9X3N1cGVyNjkuY2FsbCh0aGlzKTtfdGhpczU5LnR5cGU9J0xpbmVDdXJ2ZSc7X3RoaXM1OS52MT12MTtfdGhpczU5LnYyPXYyO3JldHVybiBfdGhpczU5O31fY3JlYXRlQ2xhc3MoTGluZUN1cnZlLFt7a2V5OiJnZXRQb2ludCIsdmFsdWU6ZnVuY3Rpb24gZ2V0UG9pbnQodCl7dmFyIG9wdGlvbmFsVGFyZ2V0PWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1sxXTpuZXcgVmVjdG9yMigpO3ZhciBwb2ludD1vcHRpb25hbFRhcmdldDtpZih0PT09MSl7cG9pbnQuY29weSh0aGlzLnYyKTt9ZWxzZXtwb2ludC5jb3B5KHRoaXMudjIpLnN1Yih0aGlzLnYxKTtwb2ludC5tdWx0aXBseVNjYWxhcih0KS5hZGQodGhpcy52MSk7fXJldHVybiBwb2ludDt9Ly8gTGluZSBjdXJ2ZSBpcyBsaW5lYXIsIHNvIHdlIGNhbiBvdmVyd3JpdGUgZGVmYXVsdCBnZXRQb2ludEF0Cn0se2tleToiZ2V0UG9pbnRBdCIsdmFsdWU6ZnVuY3Rpb24gZ2V0UG9pbnRBdCh1LG9wdGlvbmFsVGFyZ2V0KXtyZXR1cm4gdGhpcy5nZXRQb2ludCh1LG9wdGlvbmFsVGFyZ2V0KTt9fSx7a2V5OiJnZXRUYW5nZW50Iix2YWx1ZTpmdW5jdGlvbiBnZXRUYW5nZW50KHQsb3B0aW9uYWxUYXJnZXQpe3ZhciB0YW5nZW50PW9wdGlvbmFsVGFyZ2V0fHxuZXcgVmVjdG9yMigpO3RhbmdlbnQuY29weSh0aGlzLnYyKS5zdWIodGhpcy52MSkubm9ybWFsaXplKCk7cmV0dXJuIHRhbmdlbnQ7fX0se2tleToiY29weSIsdmFsdWU6ZnVuY3Rpb24gY29weShzb3VyY2Upe19nZXQoX2dldFByb3RvdHlwZU9mKExpbmVDdXJ2ZS5wcm90b3R5cGUpLCJjb3B5Iix0aGlzKS5jYWxsKHRoaXMsc291cmNlKTt0aGlzLnYxLmNvcHkoc291cmNlLnYxKTt0aGlzLnYyLmNvcHkoc291cmNlLnYyKTtyZXR1cm4gdGhpczt9fSx7a2V5OiJ0b0pTT04iLHZhbHVlOmZ1bmN0aW9uIHRvSlNPTigpe3ZhciBkYXRhPV9nZXQoX2dldFByb3RvdHlwZU9mKExpbmVDdXJ2ZS5wcm90b3R5cGUpLCJ0b0pTT04iLHRoaXMpLmNhbGwodGhpcyk7ZGF0YS52MT10aGlzLnYxLnRvQXJyYXkoKTtkYXRhLnYyPXRoaXMudjIudG9BcnJheSgpO3JldHVybiBkYXRhO319LHtrZXk6ImZyb21KU09OIix2YWx1ZTpmdW5jdGlvbiBmcm9tSlNPTihqc29uKXtfZ2V0KF9nZXRQcm90b3R5cGVPZihMaW5lQ3VydmUucHJvdG90eXBlKSwiZnJvbUpTT04iLHRoaXMpLmNhbGwodGhpcyxqc29uKTt0aGlzLnYxLmZyb21BcnJheShqc29uLnYxKTt0aGlzLnYyLmZyb21BcnJheShqc29uLnYyKTtyZXR1cm4gdGhpczt9fV0pO3JldHVybiBMaW5lQ3VydmU7fShDdXJ2ZSk7TGluZUN1cnZlLnByb3RvdHlwZS5pc0xpbmVDdXJ2ZT10cnVlO3ZhciBMaW5lQ3VydmUzPS8qI19fUFVSRV9fKi9mdW5jdGlvbihfQ3VydmU2KXtfaW5oZXJpdHMoTGluZUN1cnZlMyxfQ3VydmU2KTt2YXIgX3N1cGVyNzA9X2NyZWF0ZVN1cGVyKExpbmVDdXJ2ZTMpO2Z1bmN0aW9uIExpbmVDdXJ2ZTMoKXt2YXIgX3RoaXM2MDt2YXIgdjE9YXJndW1lbnRzLmxlbmd0aD4wJiZhcmd1bWVudHNbMF0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzBdOm5ldyBWZWN0b3IzKCk7dmFyIHYyPWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1sxXTpuZXcgVmVjdG9yMygpO19jbGFzc0NhbGxDaGVjayh0aGlzLExpbmVDdXJ2ZTMpO190aGlzNjA9X3N1cGVyNzAuY2FsbCh0aGlzKTtfdGhpczYwLnR5cGU9J0xpbmVDdXJ2ZTMnO190aGlzNjAuaXNMaW5lQ3VydmUzPXRydWU7X3RoaXM2MC52MT12MTtfdGhpczYwLnYyPXYyO3JldHVybiBfdGhpczYwO31fY3JlYXRlQ2xhc3MoTGluZUN1cnZlMyxbe2tleToiZ2V0UG9pbnQiLHZhbHVlOmZ1bmN0aW9uIGdldFBvaW50KHQpe3ZhciBvcHRpb25hbFRhcmdldD1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMV06bmV3IFZlY3RvcjMoKTt2YXIgcG9pbnQ9b3B0aW9uYWxUYXJnZXQ7aWYodD09PTEpe3BvaW50LmNvcHkodGhpcy52Mik7fWVsc2V7cG9pbnQuY29weSh0aGlzLnYyKS5zdWIodGhpcy52MSk7cG9pbnQubXVsdGlwbHlTY2FsYXIodCkuYWRkKHRoaXMudjEpO31yZXR1cm4gcG9pbnQ7fS8vIExpbmUgY3VydmUgaXMgbGluZWFyLCBzbyB3ZSBjYW4gb3ZlcndyaXRlIGRlZmF1bHQgZ2V0UG9pbnRBdAp9LHtrZXk6ImdldFBvaW50QXQiLHZhbHVlOmZ1bmN0aW9uIGdldFBvaW50QXQodSxvcHRpb25hbFRhcmdldCl7cmV0dXJuIHRoaXMuZ2V0UG9pbnQodSxvcHRpb25hbFRhcmdldCk7fX0se2tleToiY29weSIsdmFsdWU6ZnVuY3Rpb24gY29weShzb3VyY2Upe19nZXQoX2dldFByb3RvdHlwZU9mKExpbmVDdXJ2ZTMucHJvdG90eXBlKSwiY29weSIsdGhpcykuY2FsbCh0aGlzLHNvdXJjZSk7dGhpcy52MS5jb3B5KHNvdXJjZS52MSk7dGhpcy52Mi5jb3B5KHNvdXJjZS52Mik7cmV0dXJuIHRoaXM7fX0se2tleToidG9KU09OIix2YWx1ZTpmdW5jdGlvbiB0b0pTT04oKXt2YXIgZGF0YT1fZ2V0KF9nZXRQcm90b3R5cGVPZihMaW5lQ3VydmUzLnByb3RvdHlwZSksInRvSlNPTiIsdGhpcykuY2FsbCh0aGlzKTtkYXRhLnYxPXRoaXMudjEudG9BcnJheSgpO2RhdGEudjI9dGhpcy52Mi50b0FycmF5KCk7cmV0dXJuIGRhdGE7fX0se2tleToiZnJvbUpTT04iLHZhbHVlOmZ1bmN0aW9uIGZyb21KU09OKGpzb24pe19nZXQoX2dldFByb3RvdHlwZU9mKExpbmVDdXJ2ZTMucHJvdG90eXBlKSwiZnJvbUpTT04iLHRoaXMpLmNhbGwodGhpcyxqc29uKTt0aGlzLnYxLmZyb21BcnJheShqc29uLnYxKTt0aGlzLnYyLmZyb21BcnJheShqc29uLnYyKTtyZXR1cm4gdGhpczt9fV0pO3JldHVybiBMaW5lQ3VydmUzO30oQ3VydmUpO3ZhciBRdWFkcmF0aWNCZXppZXJDdXJ2ZT0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX0N1cnZlNyl7X2luaGVyaXRzKFF1YWRyYXRpY0JlemllckN1cnZlLF9DdXJ2ZTcpO3ZhciBfc3VwZXI3MT1fY3JlYXRlU3VwZXIoUXVhZHJhdGljQmV6aWVyQ3VydmUpO2Z1bmN0aW9uIFF1YWRyYXRpY0JlemllckN1cnZlKCl7dmFyIF90aGlzNjE7dmFyIHYwPWFyZ3VtZW50cy5sZW5ndGg+MCYmYXJndW1lbnRzWzBdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1swXTpuZXcgVmVjdG9yMigpO3ZhciB2MT1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMV06bmV3IFZlY3RvcjIoKTt2YXIgdjI9YXJndW1lbnRzLmxlbmd0aD4yJiZhcmd1bWVudHNbMl0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzJdOm5ldyBWZWN0b3IyKCk7X2NsYXNzQ2FsbENoZWNrKHRoaXMsUXVhZHJhdGljQmV6aWVyQ3VydmUpO190aGlzNjE9X3N1cGVyNzEuY2FsbCh0aGlzKTtfdGhpczYxLnR5cGU9J1F1YWRyYXRpY0JlemllckN1cnZlJztfdGhpczYxLnYwPXYwO190aGlzNjEudjE9djE7X3RoaXM2MS52Mj12MjtyZXR1cm4gX3RoaXM2MTt9X2NyZWF0ZUNsYXNzKFF1YWRyYXRpY0JlemllckN1cnZlLFt7a2V5OiJnZXRQb2ludCIsdmFsdWU6ZnVuY3Rpb24gZ2V0UG9pbnQodCl7dmFyIG9wdGlvbmFsVGFyZ2V0PWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1sxXTpuZXcgVmVjdG9yMigpO3ZhciBwb2ludD1vcHRpb25hbFRhcmdldDt2YXIgdjA9dGhpcy52MCx2MT10aGlzLnYxLHYyPXRoaXMudjI7cG9pbnQuc2V0KFF1YWRyYXRpY0Jlemllcih0LHYwLngsdjEueCx2Mi54KSxRdWFkcmF0aWNCZXppZXIodCx2MC55LHYxLnksdjIueSkpO3JldHVybiBwb2ludDt9fSx7a2V5OiJjb3B5Iix2YWx1ZTpmdW5jdGlvbiBjb3B5KHNvdXJjZSl7X2dldChfZ2V0UHJvdG90eXBlT2YoUXVhZHJhdGljQmV6aWVyQ3VydmUucHJvdG90eXBlKSwiY29weSIsdGhpcykuY2FsbCh0aGlzLHNvdXJjZSk7dGhpcy52MC5jb3B5KHNvdXJjZS52MCk7dGhpcy52MS5jb3B5KHNvdXJjZS52MSk7dGhpcy52Mi5jb3B5KHNvdXJjZS52Mik7cmV0dXJuIHRoaXM7fX0se2tleToidG9KU09OIix2YWx1ZTpmdW5jdGlvbiB0b0pTT04oKXt2YXIgZGF0YT1fZ2V0KF9nZXRQcm90b3R5cGVPZihRdWFkcmF0aWNCZXppZXJDdXJ2ZS5wcm90b3R5cGUpLCJ0b0pTT04iLHRoaXMpLmNhbGwodGhpcyk7ZGF0YS52MD10aGlzLnYwLnRvQXJyYXkoKTtkYXRhLnYxPXRoaXMudjEudG9BcnJheSgpO2RhdGEudjI9dGhpcy52Mi50b0FycmF5KCk7cmV0dXJuIGRhdGE7fX0se2tleToiZnJvbUpTT04iLHZhbHVlOmZ1bmN0aW9uIGZyb21KU09OKGpzb24pe19nZXQoX2dldFByb3RvdHlwZU9mKFF1YWRyYXRpY0JlemllckN1cnZlLnByb3RvdHlwZSksImZyb21KU09OIix0aGlzKS5jYWxsKHRoaXMsanNvbik7dGhpcy52MC5mcm9tQXJyYXkoanNvbi52MCk7dGhpcy52MS5mcm9tQXJyYXkoanNvbi52MSk7dGhpcy52Mi5mcm9tQXJyYXkoanNvbi52Mik7cmV0dXJuIHRoaXM7fX1dKTtyZXR1cm4gUXVhZHJhdGljQmV6aWVyQ3VydmU7fShDdXJ2ZSk7UXVhZHJhdGljQmV6aWVyQ3VydmUucHJvdG90eXBlLmlzUXVhZHJhdGljQmV6aWVyQ3VydmU9dHJ1ZTt2YXIgUXVhZHJhdGljQmV6aWVyQ3VydmUzPS8qI19fUFVSRV9fKi9mdW5jdGlvbihfQ3VydmU4KXtfaW5oZXJpdHMoUXVhZHJhdGljQmV6aWVyQ3VydmUzLF9DdXJ2ZTgpO3ZhciBfc3VwZXI3Mj1fY3JlYXRlU3VwZXIoUXVhZHJhdGljQmV6aWVyQ3VydmUzKTtmdW5jdGlvbiBRdWFkcmF0aWNCZXppZXJDdXJ2ZTMoKXt2YXIgX3RoaXM2Mjt2YXIgdjA9YXJndW1lbnRzLmxlbmd0aD4wJiZhcmd1bWVudHNbMF0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzBdOm5ldyBWZWN0b3IzKCk7dmFyIHYxPWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1sxXTpuZXcgVmVjdG9yMygpO3ZhciB2Mj1hcmd1bWVudHMubGVuZ3RoPjImJmFyZ3VtZW50c1syXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMl06bmV3IFZlY3RvcjMoKTtfY2xhc3NDYWxsQ2hlY2sodGhpcyxRdWFkcmF0aWNCZXppZXJDdXJ2ZTMpO190aGlzNjI9X3N1cGVyNzIuY2FsbCh0aGlzKTtfdGhpczYyLnR5cGU9J1F1YWRyYXRpY0JlemllckN1cnZlMyc7X3RoaXM2Mi52MD12MDtfdGhpczYyLnYxPXYxO190aGlzNjIudjI9djI7cmV0dXJuIF90aGlzNjI7fV9jcmVhdGVDbGFzcyhRdWFkcmF0aWNCZXppZXJDdXJ2ZTMsW3trZXk6ImdldFBvaW50Iix2YWx1ZTpmdW5jdGlvbiBnZXRQb2ludCh0KXt2YXIgb3B0aW9uYWxUYXJnZXQ9YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzFdOm5ldyBWZWN0b3IzKCk7dmFyIHBvaW50PW9wdGlvbmFsVGFyZ2V0O3ZhciB2MD10aGlzLnYwLHYxPXRoaXMudjEsdjI9dGhpcy52Mjtwb2ludC5zZXQoUXVhZHJhdGljQmV6aWVyKHQsdjAueCx2MS54LHYyLngpLFF1YWRyYXRpY0Jlemllcih0LHYwLnksdjEueSx2Mi55KSxRdWFkcmF0aWNCZXppZXIodCx2MC56LHYxLnosdjIueikpO3JldHVybiBwb2ludDt9fSx7a2V5OiJjb3B5Iix2YWx1ZTpmdW5jdGlvbiBjb3B5KHNvdXJjZSl7X2dldChfZ2V0UHJvdG90eXBlT2YoUXVhZHJhdGljQmV6aWVyQ3VydmUzLnByb3RvdHlwZSksImNvcHkiLHRoaXMpLmNhbGwodGhpcyxzb3VyY2UpO3RoaXMudjAuY29weShzb3VyY2UudjApO3RoaXMudjEuY29weShzb3VyY2UudjEpO3RoaXMudjIuY29weShzb3VyY2UudjIpO3JldHVybiB0aGlzO319LHtrZXk6InRvSlNPTiIsdmFsdWU6ZnVuY3Rpb24gdG9KU09OKCl7dmFyIGRhdGE9X2dldChfZ2V0UHJvdG90eXBlT2YoUXVhZHJhdGljQmV6aWVyQ3VydmUzLnByb3RvdHlwZSksInRvSlNPTiIsdGhpcykuY2FsbCh0aGlzKTtkYXRhLnYwPXRoaXMudjAudG9BcnJheSgpO2RhdGEudjE9dGhpcy52MS50b0FycmF5KCk7ZGF0YS52Mj10aGlzLnYyLnRvQXJyYXkoKTtyZXR1cm4gZGF0YTt9fSx7a2V5OiJmcm9tSlNPTiIsdmFsdWU6ZnVuY3Rpb24gZnJvbUpTT04oanNvbil7X2dldChfZ2V0UHJvdG90eXBlT2YoUXVhZHJhdGljQmV6aWVyQ3VydmUzLnByb3RvdHlwZSksImZyb21KU09OIix0aGlzKS5jYWxsKHRoaXMsanNvbik7dGhpcy52MC5mcm9tQXJyYXkoanNvbi52MCk7dGhpcy52MS5mcm9tQXJyYXkoanNvbi52MSk7dGhpcy52Mi5mcm9tQXJyYXkoanNvbi52Mik7cmV0dXJuIHRoaXM7fX1dKTtyZXR1cm4gUXVhZHJhdGljQmV6aWVyQ3VydmUzO30oQ3VydmUpO1F1YWRyYXRpY0JlemllckN1cnZlMy5wcm90b3R5cGUuaXNRdWFkcmF0aWNCZXppZXJDdXJ2ZTM9dHJ1ZTt2YXIgU3BsaW5lQ3VydmU9LyojX19QVVJFX18qL2Z1bmN0aW9uKF9DdXJ2ZTkpe19pbmhlcml0cyhTcGxpbmVDdXJ2ZSxfQ3VydmU5KTt2YXIgX3N1cGVyNzM9X2NyZWF0ZVN1cGVyKFNwbGluZUN1cnZlKTtmdW5jdGlvbiBTcGxpbmVDdXJ2ZSgpe3ZhciBfdGhpczYzO3ZhciBwb2ludHM9YXJndW1lbnRzLmxlbmd0aD4wJiZhcmd1bWVudHNbMF0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzBdOltdO19jbGFzc0NhbGxDaGVjayh0aGlzLFNwbGluZUN1cnZlKTtfdGhpczYzPV9zdXBlcjczLmNhbGwodGhpcyk7X3RoaXM2My50eXBlPSdTcGxpbmVDdXJ2ZSc7X3RoaXM2My5wb2ludHM9cG9pbnRzO3JldHVybiBfdGhpczYzO31fY3JlYXRlQ2xhc3MoU3BsaW5lQ3VydmUsW3trZXk6ImdldFBvaW50Iix2YWx1ZTpmdW5jdGlvbiBnZXRQb2ludCh0KXt2YXIgb3B0aW9uYWxUYXJnZXQ9YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzFdOm5ldyBWZWN0b3IyKCk7dmFyIHBvaW50PW9wdGlvbmFsVGFyZ2V0O3ZhciBwb2ludHM9dGhpcy5wb2ludHM7dmFyIHA9KHBvaW50cy5sZW5ndGgtMSkqdDt2YXIgaW50UG9pbnQ9TWF0aC5mbG9vcihwKTt2YXIgd2VpZ2h0PXAtaW50UG9pbnQ7dmFyIHAwPXBvaW50c1tpbnRQb2ludD09PTA/aW50UG9pbnQ6aW50UG9pbnQtMV07dmFyIHAxPXBvaW50c1tpbnRQb2ludF07dmFyIHAyPXBvaW50c1tpbnRQb2ludD5wb2ludHMubGVuZ3RoLTI/cG9pbnRzLmxlbmd0aC0xOmludFBvaW50KzFdO3ZhciBwMz1wb2ludHNbaW50UG9pbnQ+cG9pbnRzLmxlbmd0aC0zP3BvaW50cy5sZW5ndGgtMTppbnRQb2ludCsyXTtwb2ludC5zZXQoQ2F0bXVsbFJvbSh3ZWlnaHQscDAueCxwMS54LHAyLngscDMueCksQ2F0bXVsbFJvbSh3ZWlnaHQscDAueSxwMS55LHAyLnkscDMueSkpO3JldHVybiBwb2ludDt9fSx7a2V5OiJjb3B5Iix2YWx1ZTpmdW5jdGlvbiBjb3B5KHNvdXJjZSl7X2dldChfZ2V0UHJvdG90eXBlT2YoU3BsaW5lQ3VydmUucHJvdG90eXBlKSwiY29weSIsdGhpcykuY2FsbCh0aGlzLHNvdXJjZSk7dGhpcy5wb2ludHM9W107Zm9yKHZhciBfaTE5Nj0wLGw9c291cmNlLnBvaW50cy5sZW5ndGg7X2kxOTY8bDtfaTE5NisrKXt2YXIgcG9pbnQ9c291cmNlLnBvaW50c1tfaTE5Nl07dGhpcy5wb2ludHMucHVzaChwb2ludC5jbG9uZSgpKTt9cmV0dXJuIHRoaXM7fX0se2tleToidG9KU09OIix2YWx1ZTpmdW5jdGlvbiB0b0pTT04oKXt2YXIgZGF0YT1fZ2V0KF9nZXRQcm90b3R5cGVPZihTcGxpbmVDdXJ2ZS5wcm90b3R5cGUpLCJ0b0pTT04iLHRoaXMpLmNhbGwodGhpcyk7ZGF0YS5wb2ludHM9W107Zm9yKHZhciBfaTE5Nz0wLGw9dGhpcy5wb2ludHMubGVuZ3RoO19pMTk3PGw7X2kxOTcrKyl7dmFyIHBvaW50PXRoaXMucG9pbnRzW19pMTk3XTtkYXRhLnBvaW50cy5wdXNoKHBvaW50LnRvQXJyYXkoKSk7fXJldHVybiBkYXRhO319LHtrZXk6ImZyb21KU09OIix2YWx1ZTpmdW5jdGlvbiBmcm9tSlNPTihqc29uKXtfZ2V0KF9nZXRQcm90b3R5cGVPZihTcGxpbmVDdXJ2ZS5wcm90b3R5cGUpLCJmcm9tSlNPTiIsdGhpcykuY2FsbCh0aGlzLGpzb24pO3RoaXMucG9pbnRzPVtdO2Zvcih2YXIgX2kxOTg9MCxsPWpzb24ucG9pbnRzLmxlbmd0aDtfaTE5ODxsO19pMTk4Kyspe3ZhciBwb2ludD1qc29uLnBvaW50c1tfaTE5OF07dGhpcy5wb2ludHMucHVzaChuZXcgVmVjdG9yMigpLmZyb21BcnJheShwb2ludCkpO31yZXR1cm4gdGhpczt9fV0pO3JldHVybiBTcGxpbmVDdXJ2ZTt9KEN1cnZlKTtTcGxpbmVDdXJ2ZS5wcm90b3R5cGUuaXNTcGxpbmVDdXJ2ZT10cnVlO3ZhciBDdXJ2ZXM9LyojX19QVVJFX18qL09iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLEFyY0N1cnZlOkFyY0N1cnZlLENhdG11bGxSb21DdXJ2ZTM6Q2F0bXVsbFJvbUN1cnZlMyxDdWJpY0JlemllckN1cnZlOkN1YmljQmV6aWVyQ3VydmUsQ3ViaWNCZXppZXJDdXJ2ZTM6Q3ViaWNCZXppZXJDdXJ2ZTMsRWxsaXBzZUN1cnZlOkVsbGlwc2VDdXJ2ZSxMaW5lQ3VydmU6TGluZUN1cnZlLExpbmVDdXJ2ZTM6TGluZUN1cnZlMyxRdWFkcmF0aWNCZXppZXJDdXJ2ZTpRdWFkcmF0aWNCZXppZXJDdXJ2ZSxRdWFkcmF0aWNCZXppZXJDdXJ2ZTM6UXVhZHJhdGljQmV6aWVyQ3VydmUzLFNwbGluZUN1cnZlOlNwbGluZUN1cnZlfSk7LyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqCiAqCUN1cnZlZCBQYXRoIC0gYSBjdXJ2ZSBwYXRoIGlzIHNpbXBseSBhIGFycmF5IG9mIGNvbm5lY3RlZAogKiAgY3VydmVzLCBidXQgcmV0YWlucyB0aGUgYXBpIG9mIGEgY3VydmUKICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL3ZhciBDdXJ2ZVBhdGg9LyojX19QVVJFX18qL2Z1bmN0aW9uKF9DdXJ2ZTEwKXtfaW5oZXJpdHMoQ3VydmVQYXRoLF9DdXJ2ZTEwKTt2YXIgX3N1cGVyNzQ9X2NyZWF0ZVN1cGVyKEN1cnZlUGF0aCk7ZnVuY3Rpb24gQ3VydmVQYXRoKCl7dmFyIF90aGlzNjQ7X2NsYXNzQ2FsbENoZWNrKHRoaXMsQ3VydmVQYXRoKTtfdGhpczY0PV9zdXBlcjc0LmNhbGwodGhpcyk7X3RoaXM2NC50eXBlPSdDdXJ2ZVBhdGgnO190aGlzNjQuY3VydmVzPVtdO190aGlzNjQuYXV0b0Nsb3NlPWZhbHNlOy8vIEF1dG9tYXRpY2FsbHkgY2xvc2VzIHRoZSBwYXRoCnJldHVybiBfdGhpczY0O31fY3JlYXRlQ2xhc3MoQ3VydmVQYXRoLFt7a2V5OiJhZGQiLHZhbHVlOmZ1bmN0aW9uIGFkZChjdXJ2ZSl7dGhpcy5jdXJ2ZXMucHVzaChjdXJ2ZSk7fX0se2tleToiY2xvc2VQYXRoIix2YWx1ZTpmdW5jdGlvbiBjbG9zZVBhdGgoKXsvLyBBZGQgYSBsaW5lIGN1cnZlIGlmIHN0YXJ0IGFuZCBlbmQgb2YgbGluZXMgYXJlIG5vdCBjb25uZWN0ZWQKdmFyIHN0YXJ0UG9pbnQ9dGhpcy5jdXJ2ZXNbMF0uZ2V0UG9pbnQoMCk7dmFyIGVuZFBvaW50PXRoaXMuY3VydmVzW3RoaXMuY3VydmVzLmxlbmd0aC0xXS5nZXRQb2ludCgxKTtpZighc3RhcnRQb2ludC5lcXVhbHMoZW5kUG9pbnQpKXt0aGlzLmN1cnZlcy5wdXNoKG5ldyBMaW5lQ3VydmUoZW5kUG9pbnQsc3RhcnRQb2ludCkpO319Ly8gVG8gZ2V0IGFjY3VyYXRlIHBvaW50IHdpdGggcmVmZXJlbmNlIHRvCi8vIGVudGlyZSBwYXRoIGRpc3RhbmNlIGF0IHRpbWUgdCwKLy8gZm9sbG93aW5nIGhhcyB0byBiZSBkb25lOgovLyAxLiBMZW5ndGggb2YgZWFjaCBzdWIgcGF0aCBoYXZlIHRvIGJlIGtub3duCi8vIDIuIExvY2F0ZSBhbmQgaWRlbnRpZnkgdHlwZSBvZiBjdXJ2ZQovLyAzLiBHZXQgdCBmb3IgdGhlIGN1cnZlCi8vIDQuIFJldHVybiBjdXJ2ZS5nZXRQb2ludEF0KHQnKQp9LHtrZXk6ImdldFBvaW50Iix2YWx1ZTpmdW5jdGlvbiBnZXRQb2ludCh0LG9wdGlvbmFsVGFyZ2V0KXt2YXIgZD10KnRoaXMuZ2V0TGVuZ3RoKCk7dmFyIGN1cnZlTGVuZ3Rocz10aGlzLmdldEN1cnZlTGVuZ3RocygpO3ZhciBpPTA7Ly8gVG8gdGhpbmsgYWJvdXQgYm91bmRhcmllcyBwb2ludHMuCndoaWxlKGk8Y3VydmVMZW5ndGhzLmxlbmd0aCl7aWYoY3VydmVMZW5ndGhzW2ldPj1kKXt2YXIgZGlmZj1jdXJ2ZUxlbmd0aHNbaV0tZDt2YXIgY3VydmU9dGhpcy5jdXJ2ZXNbaV07dmFyIHNlZ21lbnRMZW5ndGg9Y3VydmUuZ2V0TGVuZ3RoKCk7dmFyIHU9c2VnbWVudExlbmd0aD09PTA/MDoxLWRpZmYvc2VnbWVudExlbmd0aDtyZXR1cm4gY3VydmUuZ2V0UG9pbnRBdCh1LG9wdGlvbmFsVGFyZ2V0KTt9aSsrO31yZXR1cm4gbnVsbDsvLyBsb29wIHdoZXJlIHN1bSAhPSAwLCBzdW0gPiBkICwgc3VtKzEgPGQKfS8vIFdlIGNhbm5vdCB1c2UgdGhlIGRlZmF1bHQgVEhSRUUuQ3VydmUgZ2V0UG9pbnQoKSB3aXRoIGdldExlbmd0aCgpIGJlY2F1c2UgaW4KLy8gVEhSRUUuQ3VydmUsIGdldExlbmd0aCgpIGRlcGVuZHMgb24gZ2V0UG9pbnQoKSBidXQgaW4gVEhSRUUuQ3VydmVQYXRoCi8vIGdldFBvaW50KCkgZGVwZW5kcyBvbiBnZXRMZW5ndGgKfSx7a2V5OiJnZXRMZW5ndGgiLHZhbHVlOmZ1bmN0aW9uIGdldExlbmd0aCgpe3ZhciBsZW5zPXRoaXMuZ2V0Q3VydmVMZW5ndGhzKCk7cmV0dXJuIGxlbnNbbGVucy5sZW5ndGgtMV07fS8vIGNhY2hlTGVuZ3RocyBtdXN0IGJlIHJlY2FsY3VsYXRlZC4KfSx7a2V5OiJ1cGRhdGVBcmNMZW5ndGhzIix2YWx1ZTpmdW5jdGlvbiB1cGRhdGVBcmNMZW5ndGhzKCl7dGhpcy5uZWVkc1VwZGF0ZT10cnVlO3RoaXMuY2FjaGVMZW5ndGhzPW51bGw7dGhpcy5nZXRDdXJ2ZUxlbmd0aHMoKTt9Ly8gQ29tcHV0ZSBsZW5ndGhzIGFuZCBjYWNoZSB0aGVtCi8vIFdlIGNhbm5vdCBvdmVyd3JpdGUgZ2V0TGVuZ3RocygpIGJlY2F1c2UgVXRvVCBtYXBwaW5nIHVzZXMgaXQuCn0se2tleToiZ2V0Q3VydmVMZW5ndGhzIix2YWx1ZTpmdW5jdGlvbiBnZXRDdXJ2ZUxlbmd0aHMoKXsvLyBXZSB1c2UgY2FjaGUgdmFsdWVzIGlmIGN1cnZlcyBhbmQgY2FjaGUgYXJyYXkgYXJlIHNhbWUgbGVuZ3RoCmlmKHRoaXMuY2FjaGVMZW5ndGhzJiZ0aGlzLmNhY2hlTGVuZ3Rocy5sZW5ndGg9PT10aGlzLmN1cnZlcy5sZW5ndGgpe3JldHVybiB0aGlzLmNhY2hlTGVuZ3Roczt9Ly8gR2V0IGxlbmd0aCBvZiBzdWItY3VydmUKLy8gUHVzaCBzdW1zIGludG8gY2FjaGVkIGFycmF5CnZhciBsZW5ndGhzPVtdO3ZhciBzdW1zPTA7Zm9yKHZhciBfaTE5OT0wLGw9dGhpcy5jdXJ2ZXMubGVuZ3RoO19pMTk5PGw7X2kxOTkrKyl7c3Vtcys9dGhpcy5jdXJ2ZXNbX2kxOTldLmdldExlbmd0aCgpO2xlbmd0aHMucHVzaChzdW1zKTt9dGhpcy5jYWNoZUxlbmd0aHM9bGVuZ3RocztyZXR1cm4gbGVuZ3Roczt9fSx7a2V5OiJnZXRTcGFjZWRQb2ludHMiLHZhbHVlOmZ1bmN0aW9uIGdldFNwYWNlZFBvaW50cygpe3ZhciBkaXZpc2lvbnM9YXJndW1lbnRzLmxlbmd0aD4wJiZhcmd1bWVudHNbMF0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzBdOjQwO3ZhciBwb2ludHM9W107Zm9yKHZhciBfaTIwMD0wO19pMjAwPD1kaXZpc2lvbnM7X2kyMDArKyl7cG9pbnRzLnB1c2godGhpcy5nZXRQb2ludChfaTIwMC9kaXZpc2lvbnMpKTt9aWYodGhpcy5hdXRvQ2xvc2Upe3BvaW50cy5wdXNoKHBvaW50c1swXSk7fXJldHVybiBwb2ludHM7fX0se2tleToiZ2V0UG9pbnRzIix2YWx1ZTpmdW5jdGlvbiBnZXRQb2ludHMoKXt2YXIgZGl2aXNpb25zPWFyZ3VtZW50cy5sZW5ndGg+MCYmYXJndW1lbnRzWzBdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1swXToxMjt2YXIgcG9pbnRzPVtdO3ZhciBsYXN0O2Zvcih2YXIgX2kyMDE9MCxjdXJ2ZXM9dGhpcy5jdXJ2ZXM7X2kyMDE8Y3VydmVzLmxlbmd0aDtfaTIwMSsrKXt2YXIgY3VydmU9Y3VydmVzW19pMjAxXTt2YXIgcmVzb2x1dGlvbj1jdXJ2ZSYmY3VydmUuaXNFbGxpcHNlQ3VydmU/ZGl2aXNpb25zKjI6Y3VydmUmJihjdXJ2ZS5pc0xpbmVDdXJ2ZXx8Y3VydmUuaXNMaW5lQ3VydmUzKT8xOmN1cnZlJiZjdXJ2ZS5pc1NwbGluZUN1cnZlP2RpdmlzaW9ucypjdXJ2ZS5wb2ludHMubGVuZ3RoOmRpdmlzaW9uczt2YXIgcHRzPWN1cnZlLmdldFBvaW50cyhyZXNvbHV0aW9uKTtmb3IodmFyIGo9MDtqPHB0cy5sZW5ndGg7aisrKXt2YXIgcG9pbnQ9cHRzW2pdO2lmKGxhc3QmJmxhc3QuZXF1YWxzKHBvaW50KSljb250aW51ZTsvLyBlbnN1cmVzIG5vIGNvbnNlY3V0aXZlIHBvaW50cyBhcmUgZHVwbGljYXRlcwpwb2ludHMucHVzaChwb2ludCk7bGFzdD1wb2ludDt9fWlmKHRoaXMuYXV0b0Nsb3NlJiZwb2ludHMubGVuZ3RoPjEmJiFwb2ludHNbcG9pbnRzLmxlbmd0aC0xXS5lcXVhbHMocG9pbnRzWzBdKSl7cG9pbnRzLnB1c2gocG9pbnRzWzBdKTt9cmV0dXJuIHBvaW50czt9fSx7a2V5OiJjb3B5Iix2YWx1ZTpmdW5jdGlvbiBjb3B5KHNvdXJjZSl7X2dldChfZ2V0UHJvdG90eXBlT2YoQ3VydmVQYXRoLnByb3RvdHlwZSksImNvcHkiLHRoaXMpLmNhbGwodGhpcyxzb3VyY2UpO3RoaXMuY3VydmVzPVtdO2Zvcih2YXIgX2kyMDI9MCxsPXNvdXJjZS5jdXJ2ZXMubGVuZ3RoO19pMjAyPGw7X2kyMDIrKyl7dmFyIGN1cnZlPXNvdXJjZS5jdXJ2ZXNbX2kyMDJdO3RoaXMuY3VydmVzLnB1c2goY3VydmUuY2xvbmUoKSk7fXRoaXMuYXV0b0Nsb3NlPXNvdXJjZS5hdXRvQ2xvc2U7cmV0dXJuIHRoaXM7fX0se2tleToidG9KU09OIix2YWx1ZTpmdW5jdGlvbiB0b0pTT04oKXt2YXIgZGF0YT1fZ2V0KF9nZXRQcm90b3R5cGVPZihDdXJ2ZVBhdGgucHJvdG90eXBlKSwidG9KU09OIix0aGlzKS5jYWxsKHRoaXMpO2RhdGEuYXV0b0Nsb3NlPXRoaXMuYXV0b0Nsb3NlO2RhdGEuY3VydmVzPVtdO2Zvcih2YXIgX2kyMDM9MCxsPXRoaXMuY3VydmVzLmxlbmd0aDtfaTIwMzxsO19pMjAzKyspe3ZhciBjdXJ2ZT10aGlzLmN1cnZlc1tfaTIwM107ZGF0YS5jdXJ2ZXMucHVzaChjdXJ2ZS50b0pTT04oKSk7fXJldHVybiBkYXRhO319LHtrZXk6ImZyb21KU09OIix2YWx1ZTpmdW5jdGlvbiBmcm9tSlNPTihqc29uKXtfZ2V0KF9nZXRQcm90b3R5cGVPZihDdXJ2ZVBhdGgucHJvdG90eXBlKSwiZnJvbUpTT04iLHRoaXMpLmNhbGwodGhpcyxqc29uKTt0aGlzLmF1dG9DbG9zZT1qc29uLmF1dG9DbG9zZTt0aGlzLmN1cnZlcz1bXTtmb3IodmFyIF9pMjA0PTAsbD1qc29uLmN1cnZlcy5sZW5ndGg7X2kyMDQ8bDtfaTIwNCsrKXt2YXIgY3VydmU9anNvbi5jdXJ2ZXNbX2kyMDRdO3RoaXMuY3VydmVzLnB1c2gobmV3IEN1cnZlc1tjdXJ2ZS50eXBlXSgpLmZyb21KU09OKGN1cnZlKSk7fXJldHVybiB0aGlzO319XSk7cmV0dXJuIEN1cnZlUGF0aDt9KEN1cnZlKTt2YXIgUGF0aD0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX0N1cnZlUGF0aCl7X2luaGVyaXRzKFBhdGgsX0N1cnZlUGF0aCk7dmFyIF9zdXBlcjc1PV9jcmVhdGVTdXBlcihQYXRoKTtmdW5jdGlvbiBQYXRoKHBvaW50cyl7dmFyIF90aGlzNjU7X2NsYXNzQ2FsbENoZWNrKHRoaXMsUGF0aCk7X3RoaXM2NT1fc3VwZXI3NS5jYWxsKHRoaXMpO190aGlzNjUudHlwZT0nUGF0aCc7X3RoaXM2NS5jdXJyZW50UG9pbnQ9bmV3IFZlY3RvcjIoKTtpZihwb2ludHMpe190aGlzNjUuc2V0RnJvbVBvaW50cyhwb2ludHMpO31yZXR1cm4gX3RoaXM2NTt9X2NyZWF0ZUNsYXNzKFBhdGgsW3trZXk6InNldEZyb21Qb2ludHMiLHZhbHVlOmZ1bmN0aW9uIHNldEZyb21Qb2ludHMocG9pbnRzKXt0aGlzLm1vdmVUbyhwb2ludHNbMF0ueCxwb2ludHNbMF0ueSk7Zm9yKHZhciBfaTIwNT0xLGw9cG9pbnRzLmxlbmd0aDtfaTIwNTxsO19pMjA1Kyspe3RoaXMubGluZVRvKHBvaW50c1tfaTIwNV0ueCxwb2ludHNbX2kyMDVdLnkpO31yZXR1cm4gdGhpczt9fSx7a2V5OiJtb3ZlVG8iLHZhbHVlOmZ1bmN0aW9uIG1vdmVUbyh4LHkpe3RoaXMuY3VycmVudFBvaW50LnNldCh4LHkpOy8vIFRPRE8gY29uc2lkZXIgcmVmZXJlbmNpbmcgdmVjdG9ycyBpbnN0ZWFkIG9mIGNvcHlpbmc/CnJldHVybiB0aGlzO319LHtrZXk6ImxpbmVUbyIsdmFsdWU6ZnVuY3Rpb24gbGluZVRvKHgseSl7dmFyIGN1cnZlPW5ldyBMaW5lQ3VydmUodGhpcy5jdXJyZW50UG9pbnQuY2xvbmUoKSxuZXcgVmVjdG9yMih4LHkpKTt0aGlzLmN1cnZlcy5wdXNoKGN1cnZlKTt0aGlzLmN1cnJlbnRQb2ludC5zZXQoeCx5KTtyZXR1cm4gdGhpczt9fSx7a2V5OiJxdWFkcmF0aWNDdXJ2ZVRvIix2YWx1ZTpmdW5jdGlvbiBxdWFkcmF0aWNDdXJ2ZVRvKGFDUHgsYUNQeSxhWCxhWSl7dmFyIGN1cnZlPW5ldyBRdWFkcmF0aWNCZXppZXJDdXJ2ZSh0aGlzLmN1cnJlbnRQb2ludC5jbG9uZSgpLG5ldyBWZWN0b3IyKGFDUHgsYUNQeSksbmV3IFZlY3RvcjIoYVgsYVkpKTt0aGlzLmN1cnZlcy5wdXNoKGN1cnZlKTt0aGlzLmN1cnJlbnRQb2ludC5zZXQoYVgsYVkpO3JldHVybiB0aGlzO319LHtrZXk6ImJlemllckN1cnZlVG8iLHZhbHVlOmZ1bmN0aW9uIGJlemllckN1cnZlVG8oYUNQMXgsYUNQMXksYUNQMngsYUNQMnksYVgsYVkpe3ZhciBjdXJ2ZT1uZXcgQ3ViaWNCZXppZXJDdXJ2ZSh0aGlzLmN1cnJlbnRQb2ludC5jbG9uZSgpLG5ldyBWZWN0b3IyKGFDUDF4LGFDUDF5KSxuZXcgVmVjdG9yMihhQ1AyeCxhQ1AyeSksbmV3IFZlY3RvcjIoYVgsYVkpKTt0aGlzLmN1cnZlcy5wdXNoKGN1cnZlKTt0aGlzLmN1cnJlbnRQb2ludC5zZXQoYVgsYVkpO3JldHVybiB0aGlzO319LHtrZXk6InNwbGluZVRocnUiLHZhbHVlOmZ1bmN0aW9uIHNwbGluZVRocnUocHRzLypBcnJheSBvZiBWZWN0b3IqLyl7dmFyIG5wdHM9W3RoaXMuY3VycmVudFBvaW50LmNsb25lKCldLmNvbmNhdChwdHMpO3ZhciBjdXJ2ZT1uZXcgU3BsaW5lQ3VydmUobnB0cyk7dGhpcy5jdXJ2ZXMucHVzaChjdXJ2ZSk7dGhpcy5jdXJyZW50UG9pbnQuY29weShwdHNbcHRzLmxlbmd0aC0xXSk7cmV0dXJuIHRoaXM7fX0se2tleToiYXJjIix2YWx1ZTpmdW5jdGlvbiBhcmMoYVgsYVksYVJhZGl1cyxhU3RhcnRBbmdsZSxhRW5kQW5nbGUsYUNsb2Nrd2lzZSl7dmFyIHgwPXRoaXMuY3VycmVudFBvaW50Lng7dmFyIHkwPXRoaXMuY3VycmVudFBvaW50Lnk7dGhpcy5hYnNhcmMoYVgreDAsYVkreTAsYVJhZGl1cyxhU3RhcnRBbmdsZSxhRW5kQW5nbGUsYUNsb2Nrd2lzZSk7cmV0dXJuIHRoaXM7fX0se2tleToiYWJzYXJjIix2YWx1ZTpmdW5jdGlvbiBhYnNhcmMoYVgsYVksYVJhZGl1cyxhU3RhcnRBbmdsZSxhRW5kQW5nbGUsYUNsb2Nrd2lzZSl7dGhpcy5hYnNlbGxpcHNlKGFYLGFZLGFSYWRpdXMsYVJhZGl1cyxhU3RhcnRBbmdsZSxhRW5kQW5nbGUsYUNsb2Nrd2lzZSk7cmV0dXJuIHRoaXM7fX0se2tleToiZWxsaXBzZSIsdmFsdWU6ZnVuY3Rpb24gZWxsaXBzZShhWCxhWSx4UmFkaXVzLHlSYWRpdXMsYVN0YXJ0QW5nbGUsYUVuZEFuZ2xlLGFDbG9ja3dpc2UsYVJvdGF0aW9uKXt2YXIgeDA9dGhpcy5jdXJyZW50UG9pbnQueDt2YXIgeTA9dGhpcy5jdXJyZW50UG9pbnQueTt0aGlzLmFic2VsbGlwc2UoYVgreDAsYVkreTAseFJhZGl1cyx5UmFkaXVzLGFTdGFydEFuZ2xlLGFFbmRBbmdsZSxhQ2xvY2t3aXNlLGFSb3RhdGlvbik7cmV0dXJuIHRoaXM7fX0se2tleToiYWJzZWxsaXBzZSIsdmFsdWU6ZnVuY3Rpb24gYWJzZWxsaXBzZShhWCxhWSx4UmFkaXVzLHlSYWRpdXMsYVN0YXJ0QW5nbGUsYUVuZEFuZ2xlLGFDbG9ja3dpc2UsYVJvdGF0aW9uKXt2YXIgY3VydmU9bmV3IEVsbGlwc2VDdXJ2ZShhWCxhWSx4UmFkaXVzLHlSYWRpdXMsYVN0YXJ0QW5nbGUsYUVuZEFuZ2xlLGFDbG9ja3dpc2UsYVJvdGF0aW9uKTtpZih0aGlzLmN1cnZlcy5sZW5ndGg+MCl7Ly8gaWYgYSBwcmV2aW91cyBjdXJ2ZSBpcyBwcmVzZW50LCBhdHRlbXB0IHRvIGpvaW4KdmFyIGZpcnN0UG9pbnQ9Y3VydmUuZ2V0UG9pbnQoMCk7aWYoIWZpcnN0UG9pbnQuZXF1YWxzKHRoaXMuY3VycmVudFBvaW50KSl7dGhpcy5saW5lVG8oZmlyc3RQb2ludC54LGZpcnN0UG9pbnQueSk7fX10aGlzLmN1cnZlcy5wdXNoKGN1cnZlKTt2YXIgbGFzdFBvaW50PWN1cnZlLmdldFBvaW50KDEpO3RoaXMuY3VycmVudFBvaW50LmNvcHkobGFzdFBvaW50KTtyZXR1cm4gdGhpczt9fSx7a2V5OiJjb3B5Iix2YWx1ZTpmdW5jdGlvbiBjb3B5KHNvdXJjZSl7X2dldChfZ2V0UHJvdG90eXBlT2YoUGF0aC5wcm90b3R5cGUpLCJjb3B5Iix0aGlzKS5jYWxsKHRoaXMsc291cmNlKTt0aGlzLmN1cnJlbnRQb2ludC5jb3B5KHNvdXJjZS5jdXJyZW50UG9pbnQpO3JldHVybiB0aGlzO319LHtrZXk6InRvSlNPTiIsdmFsdWU6ZnVuY3Rpb24gdG9KU09OKCl7dmFyIGRhdGE9X2dldChfZ2V0UHJvdG90eXBlT2YoUGF0aC5wcm90b3R5cGUpLCJ0b0pTT04iLHRoaXMpLmNhbGwodGhpcyk7ZGF0YS5jdXJyZW50UG9pbnQ9dGhpcy5jdXJyZW50UG9pbnQudG9BcnJheSgpO3JldHVybiBkYXRhO319LHtrZXk6ImZyb21KU09OIix2YWx1ZTpmdW5jdGlvbiBmcm9tSlNPTihqc29uKXtfZ2V0KF9nZXRQcm90b3R5cGVPZihQYXRoLnByb3RvdHlwZSksImZyb21KU09OIix0aGlzKS5jYWxsKHRoaXMsanNvbik7dGhpcy5jdXJyZW50UG9pbnQuZnJvbUFycmF5KGpzb24uY3VycmVudFBvaW50KTtyZXR1cm4gdGhpczt9fV0pO3JldHVybiBQYXRoO30oQ3VydmVQYXRoKTt2YXIgU2hhcGU9LyojX19QVVJFX18qL2Z1bmN0aW9uKF9QYXRoKXtfaW5oZXJpdHMoU2hhcGUsX1BhdGgpO3ZhciBfc3VwZXI3Nj1fY3JlYXRlU3VwZXIoU2hhcGUpO2Z1bmN0aW9uIFNoYXBlKHBvaW50cyl7dmFyIF90aGlzNjY7X2NsYXNzQ2FsbENoZWNrKHRoaXMsU2hhcGUpO190aGlzNjY9X3N1cGVyNzYuY2FsbCh0aGlzLHBvaW50cyk7X3RoaXM2Ni51dWlkPWdlbmVyYXRlVVVJRCgpO190aGlzNjYudHlwZT0nU2hhcGUnO190aGlzNjYuaG9sZXM9W107cmV0dXJuIF90aGlzNjY7fV9jcmVhdGVDbGFzcyhTaGFwZSxbe2tleToiZ2V0UG9pbnRzSG9sZXMiLHZhbHVlOmZ1bmN0aW9uIGdldFBvaW50c0hvbGVzKGRpdmlzaW9ucyl7dmFyIGhvbGVzUHRzPVtdO2Zvcih2YXIgX2kyMDY9MCxsPXRoaXMuaG9sZXMubGVuZ3RoO19pMjA2PGw7X2kyMDYrKyl7aG9sZXNQdHNbX2kyMDZdPXRoaXMuaG9sZXNbX2kyMDZdLmdldFBvaW50cyhkaXZpc2lvbnMpO31yZXR1cm4gaG9sZXNQdHM7fS8vIGdldCBwb2ludHMgb2Ygc2hhcGUgYW5kIGhvbGVzIChrZXlwb2ludHMgYmFzZWQgb24gc2VnbWVudHMgcGFyYW1ldGVyKQp9LHtrZXk6ImV4dHJhY3RQb2ludHMiLHZhbHVlOmZ1bmN0aW9uIGV4dHJhY3RQb2ludHMoZGl2aXNpb25zKXtyZXR1cm57c2hhcGU6dGhpcy5nZXRQb2ludHMoZGl2aXNpb25zKSxob2xlczp0aGlzLmdldFBvaW50c0hvbGVzKGRpdmlzaW9ucyl9O319LHtrZXk6ImNvcHkiLHZhbHVlOmZ1bmN0aW9uIGNvcHkoc291cmNlKXtfZ2V0KF9nZXRQcm90b3R5cGVPZihTaGFwZS5wcm90b3R5cGUpLCJjb3B5Iix0aGlzKS5jYWxsKHRoaXMsc291cmNlKTt0aGlzLmhvbGVzPVtdO2Zvcih2YXIgX2kyMDc9MCxsPXNvdXJjZS5ob2xlcy5sZW5ndGg7X2kyMDc8bDtfaTIwNysrKXt2YXIgaG9sZT1zb3VyY2UuaG9sZXNbX2kyMDddO3RoaXMuaG9sZXMucHVzaChob2xlLmNsb25lKCkpO31yZXR1cm4gdGhpczt9fSx7a2V5OiJ0b0pTT04iLHZhbHVlOmZ1bmN0aW9uIHRvSlNPTigpe3ZhciBkYXRhPV9nZXQoX2dldFByb3RvdHlwZU9mKFNoYXBlLnByb3RvdHlwZSksInRvSlNPTiIsdGhpcykuY2FsbCh0aGlzKTtkYXRhLnV1aWQ9dGhpcy51dWlkO2RhdGEuaG9sZXM9W107Zm9yKHZhciBfaTIwOD0wLGw9dGhpcy5ob2xlcy5sZW5ndGg7X2kyMDg8bDtfaTIwOCsrKXt2YXIgaG9sZT10aGlzLmhvbGVzW19pMjA4XTtkYXRhLmhvbGVzLnB1c2goaG9sZS50b0pTT04oKSk7fXJldHVybiBkYXRhO319LHtrZXk6ImZyb21KU09OIix2YWx1ZTpmdW5jdGlvbiBmcm9tSlNPTihqc29uKXtfZ2V0KF9nZXRQcm90b3R5cGVPZihTaGFwZS5wcm90b3R5cGUpLCJmcm9tSlNPTiIsdGhpcykuY2FsbCh0aGlzLGpzb24pO3RoaXMudXVpZD1qc29uLnV1aWQ7dGhpcy5ob2xlcz1bXTtmb3IodmFyIF9pMjA5PTAsbD1qc29uLmhvbGVzLmxlbmd0aDtfaTIwOTxsO19pMjA5Kyspe3ZhciBob2xlPWpzb24uaG9sZXNbX2kyMDldO3RoaXMuaG9sZXMucHVzaChuZXcgUGF0aCgpLmZyb21KU09OKGhvbGUpKTt9cmV0dXJuIHRoaXM7fX1dKTtyZXR1cm4gU2hhcGU7fShQYXRoKTsvKioKICogUG9ydCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXBib3gvZWFyY3V0ICh2Mi4yLjIpCiAqL3ZhciBFYXJjdXQ9e3RyaWFuZ3VsYXRlOmZ1bmN0aW9uIHRyaWFuZ3VsYXRlKGRhdGEsaG9sZUluZGljZXMpe3ZhciBkaW09YXJndW1lbnRzLmxlbmd0aD4yJiZhcmd1bWVudHNbMl0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzJdOjI7dmFyIGhhc0hvbGVzPWhvbGVJbmRpY2VzJiZob2xlSW5kaWNlcy5sZW5ndGg7dmFyIG91dGVyTGVuPWhhc0hvbGVzP2hvbGVJbmRpY2VzWzBdKmRpbTpkYXRhLmxlbmd0aDt2YXIgb3V0ZXJOb2RlPWxpbmtlZExpc3QoZGF0YSwwLG91dGVyTGVuLGRpbSx0cnVlKTt2YXIgdHJpYW5nbGVzPVtdO2lmKCFvdXRlck5vZGV8fG91dGVyTm9kZS5uZXh0PT09b3V0ZXJOb2RlLnByZXYpcmV0dXJuIHRyaWFuZ2xlczt2YXIgbWluWCxtaW5ZLG1heFgsbWF4WSx4LHksaW52U2l6ZTtpZihoYXNIb2xlcylvdXRlck5vZGU9ZWxpbWluYXRlSG9sZXMoZGF0YSxob2xlSW5kaWNlcyxvdXRlck5vZGUsZGltKTsvLyBpZiB0aGUgc2hhcGUgaXMgbm90IHRvbyBzaW1wbGUsIHdlJ2xsIHVzZSB6LW9yZGVyIGN1cnZlIGhhc2ggbGF0ZXI7IGNhbGN1bGF0ZSBwb2x5Z29uIGJib3gKaWYoZGF0YS5sZW5ndGg+ODAqZGltKXttaW5YPW1heFg9ZGF0YVswXTttaW5ZPW1heFk9ZGF0YVsxXTtmb3IodmFyIF9pMjEwPWRpbTtfaTIxMDxvdXRlckxlbjtfaTIxMCs9ZGltKXt4PWRhdGFbX2kyMTBdO3k9ZGF0YVtfaTIxMCsxXTtpZih4PG1pblgpbWluWD14O2lmKHk8bWluWSltaW5ZPXk7aWYoeD5tYXhYKW1heFg9eDtpZih5Pm1heFkpbWF4WT15O30vLyBtaW5YLCBtaW5ZIGFuZCBpbnZTaXplIGFyZSBsYXRlciB1c2VkIHRvIHRyYW5zZm9ybSBjb29yZHMgaW50byBpbnRlZ2VycyBmb3Igei1vcmRlciBjYWxjdWxhdGlvbgppbnZTaXplPU1hdGgubWF4KG1heFgtbWluWCxtYXhZLW1pblkpO2ludlNpemU9aW52U2l6ZSE9PTA/MS9pbnZTaXplOjA7fWVhcmN1dExpbmtlZChvdXRlck5vZGUsdHJpYW5nbGVzLGRpbSxtaW5YLG1pblksaW52U2l6ZSk7cmV0dXJuIHRyaWFuZ2xlczt9fTsvLyBjcmVhdGUgYSBjaXJjdWxhciBkb3VibHkgbGlua2VkIGxpc3QgZnJvbSBwb2x5Z29uIHBvaW50cyBpbiB0aGUgc3BlY2lmaWVkIHdpbmRpbmcgb3JkZXIKZnVuY3Rpb24gbGlua2VkTGlzdChkYXRhLHN0YXJ0LGVuZCxkaW0sY2xvY2t3aXNlKXt2YXIgaSxsYXN0O2lmKGNsb2Nrd2lzZT09PXNpZ25lZEFyZWEoZGF0YSxzdGFydCxlbmQsZGltKT4wKXtmb3IoaT1zdGFydDtpPGVuZDtpKz1kaW0pbGFzdD1pbnNlcnROb2RlKGksZGF0YVtpXSxkYXRhW2krMV0sbGFzdCk7fWVsc2V7Zm9yKGk9ZW5kLWRpbTtpPj1zdGFydDtpLT1kaW0pbGFzdD1pbnNlcnROb2RlKGksZGF0YVtpXSxkYXRhW2krMV0sbGFzdCk7fWlmKGxhc3QmJmVxdWFscyhsYXN0LGxhc3QubmV4dCkpe3JlbW92ZU5vZGUobGFzdCk7bGFzdD1sYXN0Lm5leHQ7fXJldHVybiBsYXN0O30vLyBlbGltaW5hdGUgY29saW5lYXIgb3IgZHVwbGljYXRlIHBvaW50cwpmdW5jdGlvbiBmaWx0ZXJQb2ludHMoc3RhcnQsZW5kKXtpZighc3RhcnQpcmV0dXJuIHN0YXJ0O2lmKCFlbmQpZW5kPXN0YXJ0O3ZhciBwPXN0YXJ0LGFnYWluO2Rve2FnYWluPWZhbHNlO2lmKCFwLnN0ZWluZXImJihlcXVhbHMocCxwLm5leHQpfHxhcmVhKHAucHJldixwLHAubmV4dCk9PT0wKSl7cmVtb3ZlTm9kZShwKTtwPWVuZD1wLnByZXY7aWYocD09PXAubmV4dClicmVhazthZ2Fpbj10cnVlO31lbHNle3A9cC5uZXh0O319d2hpbGUoYWdhaW58fHAhPT1lbmQpO3JldHVybiBlbmQ7fS8vIG1haW4gZWFyIHNsaWNpbmcgbG9vcCB3aGljaCB0cmlhbmd1bGF0ZXMgYSBwb2x5Z29uIChnaXZlbiBhcyBhIGxpbmtlZCBsaXN0KQpmdW5jdGlvbiBlYXJjdXRMaW5rZWQoZWFyLHRyaWFuZ2xlcyxkaW0sbWluWCxtaW5ZLGludlNpemUscGFzcyl7aWYoIWVhcilyZXR1cm47Ly8gaW50ZXJsaW5rIHBvbHlnb24gbm9kZXMgaW4gei1vcmRlcgppZighcGFzcyYmaW52U2l6ZSlpbmRleEN1cnZlKGVhcixtaW5YLG1pblksaW52U2l6ZSk7dmFyIHN0b3A9ZWFyLHByZXYsbmV4dDsvLyBpdGVyYXRlIHRocm91Z2ggZWFycywgc2xpY2luZyB0aGVtIG9uZSBieSBvbmUKd2hpbGUoZWFyLnByZXYhPT1lYXIubmV4dCl7cHJldj1lYXIucHJldjtuZXh0PWVhci5uZXh0O2lmKGludlNpemU/aXNFYXJIYXNoZWQoZWFyLG1pblgsbWluWSxpbnZTaXplKTppc0VhcihlYXIpKXsvLyBjdXQgb2ZmIHRoZSB0cmlhbmdsZQp0cmlhbmdsZXMucHVzaChwcmV2LmkvZGltKTt0cmlhbmdsZXMucHVzaChlYXIuaS9kaW0pO3RyaWFuZ2xlcy5wdXNoKG5leHQuaS9kaW0pO3JlbW92ZU5vZGUoZWFyKTsvLyBza2lwcGluZyB0aGUgbmV4dCB2ZXJ0ZXggbGVhZHMgdG8gbGVzcyBzbGl2ZXIgdHJpYW5nbGVzCmVhcj1uZXh0Lm5leHQ7c3RvcD1uZXh0Lm5leHQ7Y29udGludWU7fWVhcj1uZXh0Oy8vIGlmIHdlIGxvb3BlZCB0aHJvdWdoIHRoZSB3aG9sZSByZW1haW5pbmcgcG9seWdvbiBhbmQgY2FuJ3QgZmluZCBhbnkgbW9yZSBlYXJzCmlmKGVhcj09PXN0b3Apey8vIHRyeSBmaWx0ZXJpbmcgcG9pbnRzIGFuZCBzbGljaW5nIGFnYWluCmlmKCFwYXNzKXtlYXJjdXRMaW5rZWQoZmlsdGVyUG9pbnRzKGVhciksdHJpYW5nbGVzLGRpbSxtaW5YLG1pblksaW52U2l6ZSwxKTsvLyBpZiB0aGlzIGRpZG4ndCB3b3JrLCB0cnkgY3VyaW5nIGFsbCBzbWFsbCBzZWxmLWludGVyc2VjdGlvbnMgbG9jYWxseQp9ZWxzZSBpZihwYXNzPT09MSl7ZWFyPWN1cmVMb2NhbEludGVyc2VjdGlvbnMoZmlsdGVyUG9pbnRzKGVhciksdHJpYW5nbGVzLGRpbSk7ZWFyY3V0TGlua2VkKGVhcix0cmlhbmdsZXMsZGltLG1pblgsbWluWSxpbnZTaXplLDIpOy8vIGFzIGEgbGFzdCByZXNvcnQsIHRyeSBzcGxpdHRpbmcgdGhlIHJlbWFpbmluZyBwb2x5Z29uIGludG8gdHdvCn1lbHNlIGlmKHBhc3M9PT0yKXtzcGxpdEVhcmN1dChlYXIsdHJpYW5nbGVzLGRpbSxtaW5YLG1pblksaW52U2l6ZSk7fWJyZWFrO319fS8vIGNoZWNrIHdoZXRoZXIgYSBwb2x5Z29uIG5vZGUgZm9ybXMgYSB2YWxpZCBlYXIgd2l0aCBhZGphY2VudCBub2RlcwpmdW5jdGlvbiBpc0VhcihlYXIpe3ZhciBhPWVhci5wcmV2LGI9ZWFyLGM9ZWFyLm5leHQ7aWYoYXJlYShhLGIsYyk+PTApcmV0dXJuIGZhbHNlOy8vIHJlZmxleCwgY2FuJ3QgYmUgYW4gZWFyCi8vIG5vdyBtYWtlIHN1cmUgd2UgZG9uJ3QgaGF2ZSBvdGhlciBwb2ludHMgaW5zaWRlIHRoZSBwb3RlbnRpYWwgZWFyCnZhciBwPWVhci5uZXh0Lm5leHQ7d2hpbGUocCE9PWVhci5wcmV2KXtpZihwb2ludEluVHJpYW5nbGUoYS54LGEueSxiLngsYi55LGMueCxjLnkscC54LHAueSkmJmFyZWEocC5wcmV2LHAscC5uZXh0KT49MClyZXR1cm4gZmFsc2U7cD1wLm5leHQ7fXJldHVybiB0cnVlO31mdW5jdGlvbiBpc0Vhckhhc2hlZChlYXIsbWluWCxtaW5ZLGludlNpemUpe3ZhciBhPWVhci5wcmV2LGI9ZWFyLGM9ZWFyLm5leHQ7aWYoYXJlYShhLGIsYyk+PTApcmV0dXJuIGZhbHNlOy8vIHJlZmxleCwgY2FuJ3QgYmUgYW4gZWFyCi8vIHRyaWFuZ2xlIGJib3g7IG1pbiAmIG1heCBhcmUgY2FsY3VsYXRlZCBsaWtlIHRoaXMgZm9yIHNwZWVkCnZhciBtaW5UWD1hLng8Yi54P2EueDxjLng/YS54OmMueDpiLng8Yy54P2IueDpjLngsbWluVFk9YS55PGIueT9hLnk8Yy55P2EueTpjLnk6Yi55PGMueT9iLnk6Yy55LG1heFRYPWEueD5iLng/YS54PmMueD9hLng6Yy54OmIueD5jLng/Yi54OmMueCxtYXhUWT1hLnk+Yi55P2EueT5jLnk/YS55OmMueTpiLnk+Yy55P2IueTpjLnk7Ly8gei1vcmRlciByYW5nZSBmb3IgdGhlIGN1cnJlbnQgdHJpYW5nbGUgYmJveDsKdmFyIG1pblo9ek9yZGVyKG1pblRYLG1pblRZLG1pblgsbWluWSxpbnZTaXplKSxtYXhaPXpPcmRlcihtYXhUWCxtYXhUWSxtaW5YLG1pblksaW52U2l6ZSk7dmFyIHA9ZWFyLnByZXZaLG49ZWFyLm5leHRaOy8vIGxvb2sgZm9yIHBvaW50cyBpbnNpZGUgdGhlIHRyaWFuZ2xlIGluIGJvdGggZGlyZWN0aW9ucwp3aGlsZShwJiZwLno+PW1pblomJm4mJm4uejw9bWF4Wil7aWYocCE9PWVhci5wcmV2JiZwIT09ZWFyLm5leHQmJnBvaW50SW5UcmlhbmdsZShhLngsYS55LGIueCxiLnksYy54LGMueSxwLngscC55KSYmYXJlYShwLnByZXYscCxwLm5leHQpPj0wKXJldHVybiBmYWxzZTtwPXAucHJldlo7aWYobiE9PWVhci5wcmV2JiZuIT09ZWFyLm5leHQmJnBvaW50SW5UcmlhbmdsZShhLngsYS55LGIueCxiLnksYy54LGMueSxuLngsbi55KSYmYXJlYShuLnByZXYsbixuLm5leHQpPj0wKXJldHVybiBmYWxzZTtuPW4ubmV4dFo7fS8vIGxvb2sgZm9yIHJlbWFpbmluZyBwb2ludHMgaW4gZGVjcmVhc2luZyB6LW9yZGVyCndoaWxlKHAmJnAuej49bWluWil7aWYocCE9PWVhci5wcmV2JiZwIT09ZWFyLm5leHQmJnBvaW50SW5UcmlhbmdsZShhLngsYS55LGIueCxiLnksYy54LGMueSxwLngscC55KSYmYXJlYShwLnByZXYscCxwLm5leHQpPj0wKXJldHVybiBmYWxzZTtwPXAucHJldlo7fS8vIGxvb2sgZm9yIHJlbWFpbmluZyBwb2ludHMgaW4gaW5jcmVhc2luZyB6LW9yZGVyCndoaWxlKG4mJm4uejw9bWF4Wil7aWYobiE9PWVhci5wcmV2JiZuIT09ZWFyLm5leHQmJnBvaW50SW5UcmlhbmdsZShhLngsYS55LGIueCxiLnksYy54LGMueSxuLngsbi55KSYmYXJlYShuLnByZXYsbixuLm5leHQpPj0wKXJldHVybiBmYWxzZTtuPW4ubmV4dFo7fXJldHVybiB0cnVlO30vLyBnbyB0aHJvdWdoIGFsbCBwb2x5Z29uIG5vZGVzIGFuZCBjdXJlIHNtYWxsIGxvY2FsIHNlbGYtaW50ZXJzZWN0aW9ucwpmdW5jdGlvbiBjdXJlTG9jYWxJbnRlcnNlY3Rpb25zKHN0YXJ0LHRyaWFuZ2xlcyxkaW0pe3ZhciBwPXN0YXJ0O2Rve3ZhciBhPXAucHJldixiPXAubmV4dC5uZXh0O2lmKCFlcXVhbHMoYSxiKSYmaW50ZXJzZWN0cyhhLHAscC5uZXh0LGIpJiZsb2NhbGx5SW5zaWRlKGEsYikmJmxvY2FsbHlJbnNpZGUoYixhKSl7dHJpYW5nbGVzLnB1c2goYS5pL2RpbSk7dHJpYW5nbGVzLnB1c2gocC5pL2RpbSk7dHJpYW5nbGVzLnB1c2goYi5pL2RpbSk7Ly8gcmVtb3ZlIHR3byBub2RlcyBpbnZvbHZlZApyZW1vdmVOb2RlKHApO3JlbW92ZU5vZGUocC5uZXh0KTtwPXN0YXJ0PWI7fXA9cC5uZXh0O313aGlsZShwIT09c3RhcnQpO3JldHVybiBmaWx0ZXJQb2ludHMocCk7fS8vIHRyeSBzcGxpdHRpbmcgcG9seWdvbiBpbnRvIHR3byBhbmQgdHJpYW5ndWxhdGUgdGhlbSBpbmRlcGVuZGVudGx5CmZ1bmN0aW9uIHNwbGl0RWFyY3V0KHN0YXJ0LHRyaWFuZ2xlcyxkaW0sbWluWCxtaW5ZLGludlNpemUpey8vIGxvb2sgZm9yIGEgdmFsaWQgZGlhZ29uYWwgdGhhdCBkaXZpZGVzIHRoZSBwb2x5Z29uIGludG8gdHdvCnZhciBhPXN0YXJ0O2Rve3ZhciBiPWEubmV4dC5uZXh0O3doaWxlKGIhPT1hLnByZXYpe2lmKGEuaSE9PWIuaSYmaXNWYWxpZERpYWdvbmFsKGEsYikpey8vIHNwbGl0IHRoZSBwb2x5Z29uIGluIHR3byBieSB0aGUgZGlhZ29uYWwKdmFyIGM9c3BsaXRQb2x5Z29uKGEsYik7Ly8gZmlsdGVyIGNvbGluZWFyIHBvaW50cyBhcm91bmQgdGhlIGN1dHMKYT1maWx0ZXJQb2ludHMoYSxhLm5leHQpO2M9ZmlsdGVyUG9pbnRzKGMsYy5uZXh0KTsvLyBydW4gZWFyY3V0IG9uIGVhY2ggaGFsZgplYXJjdXRMaW5rZWQoYSx0cmlhbmdsZXMsZGltLG1pblgsbWluWSxpbnZTaXplKTtlYXJjdXRMaW5rZWQoYyx0cmlhbmdsZXMsZGltLG1pblgsbWluWSxpbnZTaXplKTtyZXR1cm47fWI9Yi5uZXh0O31hPWEubmV4dDt9d2hpbGUoYSE9PXN0YXJ0KTt9Ly8gbGluayBldmVyeSBob2xlIGludG8gdGhlIG91dGVyIGxvb3AsIHByb2R1Y2luZyBhIHNpbmdsZS1yaW5nIHBvbHlnb24gd2l0aG91dCBob2xlcwpmdW5jdGlvbiBlbGltaW5hdGVIb2xlcyhkYXRhLGhvbGVJbmRpY2VzLG91dGVyTm9kZSxkaW0pe3ZhciBxdWV1ZT1bXTt2YXIgaSxsZW4sc3RhcnQsZW5kLGxpc3Q7Zm9yKGk9MCxsZW49aG9sZUluZGljZXMubGVuZ3RoO2k8bGVuO2krKyl7c3RhcnQ9aG9sZUluZGljZXNbaV0qZGltO2VuZD1pPGxlbi0xP2hvbGVJbmRpY2VzW2krMV0qZGltOmRhdGEubGVuZ3RoO2xpc3Q9bGlua2VkTGlzdChkYXRhLHN0YXJ0LGVuZCxkaW0sZmFsc2UpO2lmKGxpc3Q9PT1saXN0Lm5leHQpbGlzdC5zdGVpbmVyPXRydWU7cXVldWUucHVzaChnZXRMZWZ0bW9zdChsaXN0KSk7fXF1ZXVlLnNvcnQoY29tcGFyZVgpOy8vIHByb2Nlc3MgaG9sZXMgZnJvbSBsZWZ0IHRvIHJpZ2h0CmZvcihpPTA7aTxxdWV1ZS5sZW5ndGg7aSsrKXtlbGltaW5hdGVIb2xlKHF1ZXVlW2ldLG91dGVyTm9kZSk7b3V0ZXJOb2RlPWZpbHRlclBvaW50cyhvdXRlck5vZGUsb3V0ZXJOb2RlLm5leHQpO31yZXR1cm4gb3V0ZXJOb2RlO31mdW5jdGlvbiBjb21wYXJlWChhLGIpe3JldHVybiBhLngtYi54O30vLyBmaW5kIGEgYnJpZGdlIGJldHdlZW4gdmVydGljZXMgdGhhdCBjb25uZWN0cyBob2xlIHdpdGggYW4gb3V0ZXIgcmluZyBhbmQgYW5kIGxpbmsgaXQKZnVuY3Rpb24gZWxpbWluYXRlSG9sZShob2xlLG91dGVyTm9kZSl7b3V0ZXJOb2RlPWZpbmRIb2xlQnJpZGdlKGhvbGUsb3V0ZXJOb2RlKTtpZihvdXRlck5vZGUpe3ZhciBiPXNwbGl0UG9seWdvbihvdXRlck5vZGUsaG9sZSk7Ly8gZmlsdGVyIGNvbGxpbmVhciBwb2ludHMgYXJvdW5kIHRoZSBjdXRzCmZpbHRlclBvaW50cyhvdXRlck5vZGUsb3V0ZXJOb2RlLm5leHQpO2ZpbHRlclBvaW50cyhiLGIubmV4dCk7fX0vLyBEYXZpZCBFYmVybHkncyBhbGdvcml0aG0gZm9yIGZpbmRpbmcgYSBicmlkZ2UgYmV0d2VlbiBob2xlIGFuZCBvdXRlciBwb2x5Z29uCmZ1bmN0aW9uIGZpbmRIb2xlQnJpZGdlKGhvbGUsb3V0ZXJOb2RlKXt2YXIgcD1vdXRlck5vZGU7dmFyIGh4PWhvbGUueDt2YXIgaHk9aG9sZS55O3ZhciBxeD0tSW5maW5pdHksbTsvLyBmaW5kIGEgc2VnbWVudCBpbnRlcnNlY3RlZCBieSBhIHJheSBmcm9tIHRoZSBob2xlJ3MgbGVmdG1vc3QgcG9pbnQgdG8gdGhlIGxlZnQ7Ci8vIHNlZ21lbnQncyBlbmRwb2ludCB3aXRoIGxlc3NlciB4IHdpbGwgYmUgcG90ZW50aWFsIGNvbm5lY3Rpb24gcG9pbnQKZG97aWYoaHk8PXAueSYmaHk+PXAubmV4dC55JiZwLm5leHQueSE9PXAueSl7dmFyIHg9cC54KyhoeS1wLnkpKihwLm5leHQueC1wLngpLyhwLm5leHQueS1wLnkpO2lmKHg8PWh4JiZ4PnF4KXtxeD14O2lmKHg9PT1oeCl7aWYoaHk9PT1wLnkpcmV0dXJuIHA7aWYoaHk9PT1wLm5leHQueSlyZXR1cm4gcC5uZXh0O31tPXAueDxwLm5leHQueD9wOnAubmV4dDt9fXA9cC5uZXh0O313aGlsZShwIT09b3V0ZXJOb2RlKTtpZighbSlyZXR1cm4gbnVsbDtpZihoeD09PXF4KXJldHVybiBtOy8vIGhvbGUgdG91Y2hlcyBvdXRlciBzZWdtZW50OyBwaWNrIGxlZnRtb3N0IGVuZHBvaW50Ci8vIGxvb2sgZm9yIHBvaW50cyBpbnNpZGUgdGhlIHRyaWFuZ2xlIG9mIGhvbGUgcG9pbnQsIHNlZ21lbnQgaW50ZXJzZWN0aW9uIGFuZCBlbmRwb2ludDsKLy8gaWYgdGhlcmUgYXJlIG5vIHBvaW50cyBmb3VuZCwgd2UgaGF2ZSBhIHZhbGlkIGNvbm5lY3Rpb247Ci8vIG90aGVyd2lzZSBjaG9vc2UgdGhlIHBvaW50IG9mIHRoZSBtaW5pbXVtIGFuZ2xlIHdpdGggdGhlIHJheSBhcyBjb25uZWN0aW9uIHBvaW50CnZhciBzdG9wPW0sbXg9bS54LG15PW0ueTt2YXIgdGFuTWluPUluZmluaXR5LHRhbjtwPW07ZG97aWYoaHg+PXAueCYmcC54Pj1teCYmaHghPT1wLngmJnBvaW50SW5UcmlhbmdsZShoeTxteT9oeDpxeCxoeSxteCxteSxoeTxteT9xeDpoeCxoeSxwLngscC55KSl7dGFuPU1hdGguYWJzKGh5LXAueSkvKGh4LXAueCk7Ly8gdGFuZ2VudGlhbAppZihsb2NhbGx5SW5zaWRlKHAsaG9sZSkmJih0YW48dGFuTWlufHx0YW49PT10YW5NaW4mJihwLng+bS54fHxwLng9PT1tLngmJnNlY3RvckNvbnRhaW5zU2VjdG9yKG0scCkpKSl7bT1wO3Rhbk1pbj10YW47fX1wPXAubmV4dDt9d2hpbGUocCE9PXN0b3ApO3JldHVybiBtO30vLyB3aGV0aGVyIHNlY3RvciBpbiB2ZXJ0ZXggbSBjb250YWlucyBzZWN0b3IgaW4gdmVydGV4IHAgaW4gdGhlIHNhbWUgY29vcmRpbmF0ZXMKZnVuY3Rpb24gc2VjdG9yQ29udGFpbnNTZWN0b3IobSxwKXtyZXR1cm4gYXJlYShtLnByZXYsbSxwLnByZXYpPDAmJmFyZWEocC5uZXh0LG0sbS5uZXh0KTwwO30vLyBpbnRlcmxpbmsgcG9seWdvbiBub2RlcyBpbiB6LW9yZGVyCmZ1bmN0aW9uIGluZGV4Q3VydmUoc3RhcnQsbWluWCxtaW5ZLGludlNpemUpe3ZhciBwPXN0YXJ0O2Rve2lmKHAuej09PW51bGwpcC56PXpPcmRlcihwLngscC55LG1pblgsbWluWSxpbnZTaXplKTtwLnByZXZaPXAucHJldjtwLm5leHRaPXAubmV4dDtwPXAubmV4dDt9d2hpbGUocCE9PXN0YXJ0KTtwLnByZXZaLm5leHRaPW51bGw7cC5wcmV2Wj1udWxsO3NvcnRMaW5rZWQocCk7fS8vIFNpbW9uIFRhdGhhbSdzIGxpbmtlZCBsaXN0IG1lcmdlIHNvcnQgYWxnb3JpdGhtCi8vIGh0dHA6Ly93d3cuY2hpYXJrLmdyZWVuZW5kLm9yZy51ay9+c2d0YXRoYW0vYWxnb3JpdGhtcy9saXN0c29ydC5odG1sCmZ1bmN0aW9uIHNvcnRMaW5rZWQobGlzdCl7dmFyIGkscCxxLGUsdGFpbCxudW1NZXJnZXMscFNpemUscVNpemUsaW5TaXplPTE7ZG97cD1saXN0O2xpc3Q9bnVsbDt0YWlsPW51bGw7bnVtTWVyZ2VzPTA7d2hpbGUocCl7bnVtTWVyZ2VzKys7cT1wO3BTaXplPTA7Zm9yKGk9MDtpPGluU2l6ZTtpKyspe3BTaXplKys7cT1xLm5leHRaO2lmKCFxKWJyZWFrO31xU2l6ZT1pblNpemU7d2hpbGUocFNpemU+MHx8cVNpemU+MCYmcSl7aWYocFNpemUhPT0wJiYocVNpemU9PT0wfHwhcXx8cC56PD1xLnopKXtlPXA7cD1wLm5leHRaO3BTaXplLS07fWVsc2V7ZT1xO3E9cS5uZXh0WjtxU2l6ZS0tO31pZih0YWlsKXRhaWwubmV4dFo9ZTtlbHNlIGxpc3Q9ZTtlLnByZXZaPXRhaWw7dGFpbD1lO31wPXE7fXRhaWwubmV4dFo9bnVsbDtpblNpemUqPTI7fXdoaWxlKG51bU1lcmdlcz4xKTtyZXR1cm4gbGlzdDt9Ly8gei1vcmRlciBvZiBhIHBvaW50IGdpdmVuIGNvb3JkcyBhbmQgaW52ZXJzZSBvZiB0aGUgbG9uZ2VyIHNpZGUgb2YgZGF0YSBiYm94CmZ1bmN0aW9uIHpPcmRlcih4LHksbWluWCxtaW5ZLGludlNpemUpey8vIGNvb3JkcyBhcmUgdHJhbnNmb3JtZWQgaW50byBub24tbmVnYXRpdmUgMTUtYml0IGludGVnZXIgcmFuZ2UKeD0zMjc2NyooeC1taW5YKSppbnZTaXplO3k9MzI3NjcqKHktbWluWSkqaW52U2l6ZTt4PSh4fHg8PDgpJjB4MDBGRjAwRkY7eD0oeHx4PDw0KSYweDBGMEYwRjBGO3g9KHh8eDw8MikmMHgzMzMzMzMzMzt4PSh4fHg8PDEpJjB4NTU1NTU1NTU7eT0oeXx5PDw4KSYweDAwRkYwMEZGO3k9KHl8eTw8NCkmMHgwRjBGMEYwRjt5PSh5fHk8PDIpJjB4MzMzMzMzMzM7eT0oeXx5PDwxKSYweDU1NTU1NTU1O3JldHVybiB4fHk8PDE7fS8vIGZpbmQgdGhlIGxlZnRtb3N0IG5vZGUgb2YgYSBwb2x5Z29uIHJpbmcKZnVuY3Rpb24gZ2V0TGVmdG1vc3Qoc3RhcnQpe3ZhciBwPXN0YXJ0LGxlZnRtb3N0PXN0YXJ0O2Rve2lmKHAueDxsZWZ0bW9zdC54fHxwLng9PT1sZWZ0bW9zdC54JiZwLnk8bGVmdG1vc3QueSlsZWZ0bW9zdD1wO3A9cC5uZXh0O313aGlsZShwIT09c3RhcnQpO3JldHVybiBsZWZ0bW9zdDt9Ly8gY2hlY2sgaWYgYSBwb2ludCBsaWVzIHdpdGhpbiBhIGNvbnZleCB0cmlhbmdsZQpmdW5jdGlvbiBwb2ludEluVHJpYW5nbGUoYXgsYXksYngsYnksY3gsY3kscHgscHkpe3JldHVybihjeC1weCkqKGF5LXB5KS0oYXgtcHgpKihjeS1weSk+PTAmJihheC1weCkqKGJ5LXB5KS0oYngtcHgpKihheS1weSk+PTAmJihieC1weCkqKGN5LXB5KS0oY3gtcHgpKihieS1weSk+PTA7fS8vIGNoZWNrIGlmIGEgZGlhZ29uYWwgYmV0d2VlbiB0d28gcG9seWdvbiBub2RlcyBpcyB2YWxpZCAobGllcyBpbiBwb2x5Z29uIGludGVyaW9yKQpmdW5jdGlvbiBpc1ZhbGlkRGlhZ29uYWwoYSxiKXtyZXR1cm4gYS5uZXh0LmkhPT1iLmkmJmEucHJldi5pIT09Yi5pJiYhaW50ZXJzZWN0c1BvbHlnb24oYSxiKSYmKC8vIGRvbmVzJ3QgaW50ZXJzZWN0IG90aGVyIGVkZ2VzCmxvY2FsbHlJbnNpZGUoYSxiKSYmbG9jYWxseUluc2lkZShiLGEpJiZtaWRkbGVJbnNpZGUoYSxiKSYmKC8vIGxvY2FsbHkgdmlzaWJsZQphcmVhKGEucHJldixhLGIucHJldil8fGFyZWEoYSxiLnByZXYsYikpfHwvLyBkb2VzIG5vdCBjcmVhdGUgb3Bwb3NpdGUtZmFjaW5nIHNlY3RvcnMKZXF1YWxzKGEsYikmJmFyZWEoYS5wcmV2LGEsYS5uZXh0KT4wJiZhcmVhKGIucHJldixiLGIubmV4dCk+MCk7Ly8gc3BlY2lhbCB6ZXJvLWxlbmd0aCBjYXNlCn0vLyBzaWduZWQgYXJlYSBvZiBhIHRyaWFuZ2xlCmZ1bmN0aW9uIGFyZWEocCxxLHIpe3JldHVybihxLnktcC55KSooci54LXEueCktKHEueC1wLngpKihyLnktcS55KTt9Ly8gY2hlY2sgaWYgdHdvIHBvaW50cyBhcmUgZXF1YWwKZnVuY3Rpb24gZXF1YWxzKHAxLHAyKXtyZXR1cm4gcDEueD09PXAyLngmJnAxLnk9PT1wMi55O30vLyBjaGVjayBpZiB0d28gc2VnbWVudHMgaW50ZXJzZWN0CmZ1bmN0aW9uIGludGVyc2VjdHMocDEscTEscDIscTIpe3ZhciBvMT1zaWduKGFyZWEocDEscTEscDIpKTt2YXIgbzI9c2lnbihhcmVhKHAxLHExLHEyKSk7dmFyIG8zPXNpZ24oYXJlYShwMixxMixwMSkpO3ZhciBvND1zaWduKGFyZWEocDIscTIscTEpKTtpZihvMSE9PW8yJiZvMyE9PW80KXJldHVybiB0cnVlOy8vIGdlbmVyYWwgY2FzZQppZihvMT09PTAmJm9uU2VnbWVudChwMSxwMixxMSkpcmV0dXJuIHRydWU7Ly8gcDEsIHExIGFuZCBwMiBhcmUgY29sbGluZWFyIGFuZCBwMiBsaWVzIG9uIHAxcTEKaWYobzI9PT0wJiZvblNlZ21lbnQocDEscTIscTEpKXJldHVybiB0cnVlOy8vIHAxLCBxMSBhbmQgcTIgYXJlIGNvbGxpbmVhciBhbmQgcTIgbGllcyBvbiBwMXExCmlmKG8zPT09MCYmb25TZWdtZW50KHAyLHAxLHEyKSlyZXR1cm4gdHJ1ZTsvLyBwMiwgcTIgYW5kIHAxIGFyZSBjb2xsaW5lYXIgYW5kIHAxIGxpZXMgb24gcDJxMgppZihvND09PTAmJm9uU2VnbWVudChwMixxMSxxMikpcmV0dXJuIHRydWU7Ly8gcDIsIHEyIGFuZCBxMSBhcmUgY29sbGluZWFyIGFuZCBxMSBsaWVzIG9uIHAycTIKcmV0dXJuIGZhbHNlO30vLyBmb3IgY29sbGluZWFyIHBvaW50cyBwLCBxLCByLCBjaGVjayBpZiBwb2ludCBxIGxpZXMgb24gc2VnbWVudCBwcgpmdW5jdGlvbiBvblNlZ21lbnQocCxxLHIpe3JldHVybiBxLng8PU1hdGgubWF4KHAueCxyLngpJiZxLng+PU1hdGgubWluKHAueCxyLngpJiZxLnk8PU1hdGgubWF4KHAueSxyLnkpJiZxLnk+PU1hdGgubWluKHAueSxyLnkpO31mdW5jdGlvbiBzaWduKG51bSl7cmV0dXJuIG51bT4wPzE6bnVtPDA/LTE6MDt9Ly8gY2hlY2sgaWYgYSBwb2x5Z29uIGRpYWdvbmFsIGludGVyc2VjdHMgYW55IHBvbHlnb24gc2VnbWVudHMKZnVuY3Rpb24gaW50ZXJzZWN0c1BvbHlnb24oYSxiKXt2YXIgcD1hO2Rve2lmKHAuaSE9PWEuaSYmcC5uZXh0LmkhPT1hLmkmJnAuaSE9PWIuaSYmcC5uZXh0LmkhPT1iLmkmJmludGVyc2VjdHMocCxwLm5leHQsYSxiKSlyZXR1cm4gdHJ1ZTtwPXAubmV4dDt9d2hpbGUocCE9PWEpO3JldHVybiBmYWxzZTt9Ly8gY2hlY2sgaWYgYSBwb2x5Z29uIGRpYWdvbmFsIGlzIGxvY2FsbHkgaW5zaWRlIHRoZSBwb2x5Z29uCmZ1bmN0aW9uIGxvY2FsbHlJbnNpZGUoYSxiKXtyZXR1cm4gYXJlYShhLnByZXYsYSxhLm5leHQpPDA/YXJlYShhLGIsYS5uZXh0KT49MCYmYXJlYShhLGEucHJldixiKT49MDphcmVhKGEsYixhLnByZXYpPDB8fGFyZWEoYSxhLm5leHQsYik8MDt9Ly8gY2hlY2sgaWYgdGhlIG1pZGRsZSBwb2ludCBvZiBhIHBvbHlnb24gZGlhZ29uYWwgaXMgaW5zaWRlIHRoZSBwb2x5Z29uCmZ1bmN0aW9uIG1pZGRsZUluc2lkZShhLGIpe3ZhciBwPWEsaW5zaWRlPWZhbHNlO3ZhciBweD0oYS54K2IueCkvMixweT0oYS55K2IueSkvMjtkb3tpZihwLnk+cHkhPT1wLm5leHQueT5weSYmcC5uZXh0LnkhPT1wLnkmJnB4PChwLm5leHQueC1wLngpKihweS1wLnkpLyhwLm5leHQueS1wLnkpK3AueClpbnNpZGU9IWluc2lkZTtwPXAubmV4dDt9d2hpbGUocCE9PWEpO3JldHVybiBpbnNpZGU7fS8vIGxpbmsgdHdvIHBvbHlnb24gdmVydGljZXMgd2l0aCBhIGJyaWRnZTsgaWYgdGhlIHZlcnRpY2VzIGJlbG9uZyB0byB0aGUgc2FtZSByaW5nLCBpdCBzcGxpdHMgcG9seWdvbiBpbnRvIHR3bzsKLy8gaWYgb25lIGJlbG9uZ3MgdG8gdGhlIG91dGVyIHJpbmcgYW5kIGFub3RoZXIgdG8gYSBob2xlLCBpdCBtZXJnZXMgaXQgaW50byBhIHNpbmdsZSByaW5nCmZ1bmN0aW9uIHNwbGl0UG9seWdvbihhLGIpe3ZhciBhMj1uZXcgTm9kZShhLmksYS54LGEueSksYjI9bmV3IE5vZGUoYi5pLGIueCxiLnkpLGFuPWEubmV4dCxicD1iLnByZXY7YS5uZXh0PWI7Yi5wcmV2PWE7YTIubmV4dD1hbjthbi5wcmV2PWEyO2IyLm5leHQ9YTI7YTIucHJldj1iMjticC5uZXh0PWIyO2IyLnByZXY9YnA7cmV0dXJuIGIyO30vLyBjcmVhdGUgYSBub2RlIGFuZCBvcHRpb25hbGx5IGxpbmsgaXQgd2l0aCBwcmV2aW91cyBvbmUgKGluIGEgY2lyY3VsYXIgZG91Ymx5IGxpbmtlZCBsaXN0KQpmdW5jdGlvbiBpbnNlcnROb2RlKGkseCx5LGxhc3Qpe3ZhciBwPW5ldyBOb2RlKGkseCx5KTtpZighbGFzdCl7cC5wcmV2PXA7cC5uZXh0PXA7fWVsc2V7cC5uZXh0PWxhc3QubmV4dDtwLnByZXY9bGFzdDtsYXN0Lm5leHQucHJldj1wO2xhc3QubmV4dD1wO31yZXR1cm4gcDt9ZnVuY3Rpb24gcmVtb3ZlTm9kZShwKXtwLm5leHQucHJldj1wLnByZXY7cC5wcmV2Lm5leHQ9cC5uZXh0O2lmKHAucHJldlopcC5wcmV2Wi5uZXh0Wj1wLm5leHRaO2lmKHAubmV4dFopcC5uZXh0Wi5wcmV2Wj1wLnByZXZaO31mdW5jdGlvbiBOb2RlKGkseCx5KXsvLyB2ZXJ0ZXggaW5kZXggaW4gY29vcmRpbmF0ZXMgYXJyYXkKdGhpcy5pPWk7Ly8gdmVydGV4IGNvb3JkaW5hdGVzCnRoaXMueD14O3RoaXMueT15Oy8vIHByZXZpb3VzIGFuZCBuZXh0IHZlcnRleCBub2RlcyBpbiBhIHBvbHlnb24gcmluZwp0aGlzLnByZXY9bnVsbDt0aGlzLm5leHQ9bnVsbDsvLyB6LW9yZGVyIGN1cnZlIHZhbHVlCnRoaXMuej1udWxsOy8vIHByZXZpb3VzIGFuZCBuZXh0IG5vZGVzIGluIHotb3JkZXIKdGhpcy5wcmV2Wj1udWxsO3RoaXMubmV4dFo9bnVsbDsvLyBpbmRpY2F0ZXMgd2hldGhlciB0aGlzIGlzIGEgc3RlaW5lciBwb2ludAp0aGlzLnN0ZWluZXI9ZmFsc2U7fWZ1bmN0aW9uIHNpZ25lZEFyZWEoZGF0YSxzdGFydCxlbmQsZGltKXt2YXIgc3VtPTA7Zm9yKHZhciBfaTIxMT1zdGFydCxqPWVuZC1kaW07X2kyMTE8ZW5kO19pMjExKz1kaW0pe3N1bSs9KGRhdGFbal0tZGF0YVtfaTIxMV0pKihkYXRhW19pMjExKzFdK2RhdGFbaisxXSk7aj1faTIxMTt9cmV0dXJuIHN1bTt9dmFyIFNoYXBlVXRpbHM9LyojX19QVVJFX18qL2Z1bmN0aW9uKCl7ZnVuY3Rpb24gU2hhcGVVdGlscygpe19jbGFzc0NhbGxDaGVjayh0aGlzLFNoYXBlVXRpbHMpO31fY3JlYXRlQ2xhc3MoU2hhcGVVdGlscyxudWxsLFt7a2V5OiJhcmVhIix2YWx1ZTovLyBjYWxjdWxhdGUgYXJlYSBvZiB0aGUgY29udG91ciBwb2x5Z29uCmZ1bmN0aW9uIGFyZWEoY29udG91cil7dmFyIG49Y29udG91ci5sZW5ndGg7dmFyIGE9MC4wO2Zvcih2YXIgcD1uLTEscT0wO3E8bjtwPXErKyl7YSs9Y29udG91cltwXS54KmNvbnRvdXJbcV0ueS1jb250b3VyW3FdLngqY29udG91cltwXS55O31yZXR1cm4gYSowLjU7fX0se2tleToiaXNDbG9ja1dpc2UiLHZhbHVlOmZ1bmN0aW9uIGlzQ2xvY2tXaXNlKHB0cyl7cmV0dXJuIFNoYXBlVXRpbHMuYXJlYShwdHMpPDA7fX0se2tleToidHJpYW5ndWxhdGVTaGFwZSIsdmFsdWU6ZnVuY3Rpb24gdHJpYW5ndWxhdGVTaGFwZShjb250b3VyLGhvbGVzKXt2YXIgdmVydGljZXM9W107Ly8gZmxhdCBhcnJheSBvZiB2ZXJ0aWNlcyBsaWtlIFsgeDAseTAsIHgxLHkxLCB4Mix5MiwgLi4uIF0KdmFyIGhvbGVJbmRpY2VzPVtdOy8vIGFycmF5IG9mIGhvbGUgaW5kaWNlcwp2YXIgZmFjZXM9W107Ly8gZmluYWwgYXJyYXkgb2YgdmVydGV4IGluZGljZXMgbGlrZSBbIFsgYSxiLGQgXSwgWyBiLGMsZCBdIF0KcmVtb3ZlRHVwRW5kUHRzKGNvbnRvdXIpO2FkZENvbnRvdXIodmVydGljZXMsY29udG91cik7Ly8KdmFyIGhvbGVJbmRleD1jb250b3VyLmxlbmd0aDtob2xlcy5mb3JFYWNoKHJlbW92ZUR1cEVuZFB0cyk7Zm9yKHZhciBfaTIxMj0wO19pMjEyPGhvbGVzLmxlbmd0aDtfaTIxMisrKXtob2xlSW5kaWNlcy5wdXNoKGhvbGVJbmRleCk7aG9sZUluZGV4Kz1ob2xlc1tfaTIxMl0ubGVuZ3RoO2FkZENvbnRvdXIodmVydGljZXMsaG9sZXNbX2kyMTJdKTt9Ly8KdmFyIHRyaWFuZ2xlcz1FYXJjdXQudHJpYW5ndWxhdGUodmVydGljZXMsaG9sZUluZGljZXMpOy8vCmZvcih2YXIgX2kyMTM9MDtfaTIxMzx0cmlhbmdsZXMubGVuZ3RoO19pMjEzKz0zKXtmYWNlcy5wdXNoKHRyaWFuZ2xlcy5zbGljZShfaTIxMyxfaTIxMyszKSk7fXJldHVybiBmYWNlczt9fV0pO3JldHVybiBTaGFwZVV0aWxzO30oKTtmdW5jdGlvbiByZW1vdmVEdXBFbmRQdHMocG9pbnRzKXt2YXIgbD1wb2ludHMubGVuZ3RoO2lmKGw+MiYmcG9pbnRzW2wtMV0uZXF1YWxzKHBvaW50c1swXSkpe3BvaW50cy5wb3AoKTt9fWZ1bmN0aW9uIGFkZENvbnRvdXIodmVydGljZXMsY29udG91cil7Zm9yKHZhciBfaTIxND0wO19pMjE0PGNvbnRvdXIubGVuZ3RoO19pMjE0Kyspe3ZlcnRpY2VzLnB1c2goY29udG91cltfaTIxNF0ueCk7dmVydGljZXMucHVzaChjb250b3VyW19pMjE0XS55KTt9fS8qKgogKiBDcmVhdGVzIGV4dHJ1ZGVkIGdlb21ldHJ5IGZyb20gYSBwYXRoIHNoYXBlLgogKgogKiBwYXJhbWV0ZXJzID0gewogKgogKiAgY3VydmVTZWdtZW50czogPGludD4sIC8vIG51bWJlciBvZiBwb2ludHMgb24gdGhlIGN1cnZlcwogKiAgc3RlcHM6IDxpbnQ+LCAvLyBudW1iZXIgb2YgcG9pbnRzIGZvciB6LXNpZGUgZXh0cnVzaW9ucyAvIHVzZWQgZm9yIHN1YmRpdmlkaW5nIHNlZ21lbnRzIG9mIGV4dHJ1ZGUgc3BsaW5lIHRvbwogKiAgZGVwdGg6IDxmbG9hdD4sIC8vIERlcHRoIHRvIGV4dHJ1ZGUgdGhlIHNoYXBlCiAqCiAqICBiZXZlbEVuYWJsZWQ6IDxib29sPiwgLy8gdHVybiBvbiBiZXZlbAogKiAgYmV2ZWxUaGlja25lc3M6IDxmbG9hdD4sIC8vIGhvdyBkZWVwIGludG8gdGhlIG9yaWdpbmFsIHNoYXBlIGJldmVsIGdvZXMKICogIGJldmVsU2l6ZTogPGZsb2F0PiwgLy8gaG93IGZhciBmcm9tIHNoYXBlIG91dGxpbmUgKGluY2x1ZGluZyBiZXZlbE9mZnNldCkgaXMgYmV2ZWwKICogIGJldmVsT2Zmc2V0OiA8ZmxvYXQ+LCAvLyBob3cgZmFyIGZyb20gc2hhcGUgb3V0bGluZSBkb2VzIGJldmVsIHN0YXJ0CiAqICBiZXZlbFNlZ21lbnRzOiA8aW50PiwgLy8gbnVtYmVyIG9mIGJldmVsIGxheWVycwogKgogKiAgZXh0cnVkZVBhdGg6IDxUSFJFRS5DdXJ2ZT4gLy8gY3VydmUgdG8gZXh0cnVkZSBzaGFwZSBhbG9uZwogKgogKiAgVVZHZW5lcmF0b3I6IDxPYmplY3Q+IC8vIG9iamVjdCB0aGF0IHByb3ZpZGVzIFVWIGdlbmVyYXRvciBmdW5jdGlvbnMKICoKICogfQogKi92YXIgRXh0cnVkZUdlb21ldHJ5PS8qI19fUFVSRV9fKi9mdW5jdGlvbihfQnVmZmVyR2VvbWV0cnk3KXtfaW5oZXJpdHMoRXh0cnVkZUdlb21ldHJ5LF9CdWZmZXJHZW9tZXRyeTcpO3ZhciBfc3VwZXI3Nz1fY3JlYXRlU3VwZXIoRXh0cnVkZUdlb21ldHJ5KTtmdW5jdGlvbiBFeHRydWRlR2VvbWV0cnkoKXt2YXIgX3RoaXM2Nzt2YXIgc2hhcGVzPWFyZ3VtZW50cy5sZW5ndGg+MCYmYXJndW1lbnRzWzBdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1swXTpuZXcgU2hhcGUoW25ldyBWZWN0b3IyKDAuNSwwLjUpLG5ldyBWZWN0b3IyKC0wLjUsMC41KSxuZXcgVmVjdG9yMigtMC41LC0wLjUpLG5ldyBWZWN0b3IyKDAuNSwtMC41KV0pO3ZhciBvcHRpb25zPWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1sxXTp7fTtfY2xhc3NDYWxsQ2hlY2sodGhpcyxFeHRydWRlR2VvbWV0cnkpO190aGlzNjc9X3N1cGVyNzcuY2FsbCh0aGlzKTtfdGhpczY3LnR5cGU9J0V4dHJ1ZGVHZW9tZXRyeSc7X3RoaXM2Ny5wYXJhbWV0ZXJzPXtzaGFwZXM6c2hhcGVzLG9wdGlvbnM6b3B0aW9uc307c2hhcGVzPUFycmF5LmlzQXJyYXkoc2hhcGVzKT9zaGFwZXM6W3NoYXBlc107dmFyIHNjb3BlPV9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXM2Nyk7dmFyIHZlcnRpY2VzQXJyYXk9W107dmFyIHV2QXJyYXk9W107Zm9yKHZhciBfaTIxNT0wLGw9c2hhcGVzLmxlbmd0aDtfaTIxNTxsO19pMjE1Kyspe3ZhciBzaGFwZT1zaGFwZXNbX2kyMTVdO2FkZFNoYXBlKHNoYXBlKTt9Ly8gYnVpbGQgZ2VvbWV0cnkKX3RoaXM2Ny5zZXRBdHRyaWJ1dGUoJ3Bvc2l0aW9uJyxuZXcgRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZSh2ZXJ0aWNlc0FycmF5LDMpKTtfdGhpczY3LnNldEF0dHJpYnV0ZSgndXYnLG5ldyBGbG9hdDMyQnVmZmVyQXR0cmlidXRlKHV2QXJyYXksMikpO190aGlzNjcuY29tcHV0ZVZlcnRleE5vcm1hbHMoKTsvLyBmdW5jdGlvbnMKZnVuY3Rpb24gYWRkU2hhcGUoc2hhcGUpe3ZhciBwbGFjZWhvbGRlcj1bXTsvLyBvcHRpb25zCnZhciBjdXJ2ZVNlZ21lbnRzPW9wdGlvbnMuY3VydmVTZWdtZW50cyE9PXVuZGVmaW5lZD9vcHRpb25zLmN1cnZlU2VnbWVudHM6MTI7dmFyIHN0ZXBzPW9wdGlvbnMuc3RlcHMhPT11bmRlZmluZWQ/b3B0aW9ucy5zdGVwczoxO3ZhciBkZXB0aD1vcHRpb25zLmRlcHRoIT09dW5kZWZpbmVkP29wdGlvbnMuZGVwdGg6MTt2YXIgYmV2ZWxFbmFibGVkPW9wdGlvbnMuYmV2ZWxFbmFibGVkIT09dW5kZWZpbmVkP29wdGlvbnMuYmV2ZWxFbmFibGVkOnRydWU7dmFyIGJldmVsVGhpY2tuZXNzPW9wdGlvbnMuYmV2ZWxUaGlja25lc3MhPT11bmRlZmluZWQ/b3B0aW9ucy5iZXZlbFRoaWNrbmVzczowLjI7dmFyIGJldmVsU2l6ZT1vcHRpb25zLmJldmVsU2l6ZSE9PXVuZGVmaW5lZD9vcHRpb25zLmJldmVsU2l6ZTpiZXZlbFRoaWNrbmVzcy0wLjE7dmFyIGJldmVsT2Zmc2V0PW9wdGlvbnMuYmV2ZWxPZmZzZXQhPT11bmRlZmluZWQ/b3B0aW9ucy5iZXZlbE9mZnNldDowO3ZhciBiZXZlbFNlZ21lbnRzPW9wdGlvbnMuYmV2ZWxTZWdtZW50cyE9PXVuZGVmaW5lZD9vcHRpb25zLmJldmVsU2VnbWVudHM6Mzt2YXIgZXh0cnVkZVBhdGg9b3B0aW9ucy5leHRydWRlUGF0aDt2YXIgdXZnZW49b3B0aW9ucy5VVkdlbmVyYXRvciE9PXVuZGVmaW5lZD9vcHRpb25zLlVWR2VuZXJhdG9yOldvcmxkVVZHZW5lcmF0b3I7Ly8gZGVwcmVjYXRlZCBvcHRpb25zCmlmKG9wdGlvbnMuYW1vdW50IT09dW5kZWZpbmVkKXtjb25zb2xlLndhcm4oJ1RIUkVFLkV4dHJ1ZGVCdWZmZXJHZW9tZXRyeTogYW1vdW50IGhhcyBiZWVuIHJlbmFtZWQgdG8gZGVwdGguJyk7ZGVwdGg9b3B0aW9ucy5hbW91bnQ7fS8vCnZhciBleHRydWRlUHRzLGV4dHJ1ZGVCeVBhdGg9ZmFsc2U7dmFyIHNwbGluZVR1YmUsYmlub3JtYWwsbm9ybWFsLHBvc2l0aW9uMjtpZihleHRydWRlUGF0aCl7ZXh0cnVkZVB0cz1leHRydWRlUGF0aC5nZXRTcGFjZWRQb2ludHMoc3RlcHMpO2V4dHJ1ZGVCeVBhdGg9dHJ1ZTtiZXZlbEVuYWJsZWQ9ZmFsc2U7Ly8gYmV2ZWxzIG5vdCBzdXBwb3J0ZWQgZm9yIHBhdGggZXh0cnVzaW9uCi8vIFNFVFVQIFROQiB2YXJpYWJsZXMKLy8gVE9ETzEgLSBoYXZlIGEgLmlzQ2xvc2VkIGluIHNwbGluZT8Kc3BsaW5lVHViZT1leHRydWRlUGF0aC5jb21wdXRlRnJlbmV0RnJhbWVzKHN0ZXBzLGZhbHNlKTsvLyBjb25zb2xlLmxvZyhzcGxpbmVUdWJlLCAnc3BsaW5lVHViZScsIHNwbGluZVR1YmUubm9ybWFscy5sZW5ndGgsICdzdGVwcycsIHN0ZXBzLCAnZXh0cnVkZVB0cycsIGV4dHJ1ZGVQdHMubGVuZ3RoKTsKYmlub3JtYWw9bmV3IFZlY3RvcjMoKTtub3JtYWw9bmV3IFZlY3RvcjMoKTtwb3NpdGlvbjI9bmV3IFZlY3RvcjMoKTt9Ly8gU2FmZWd1YXJkcyBpZiBiZXZlbHMgYXJlIG5vdCBlbmFibGVkCmlmKCFiZXZlbEVuYWJsZWQpe2JldmVsU2VnbWVudHM9MDtiZXZlbFRoaWNrbmVzcz0wO2JldmVsU2l6ZT0wO2JldmVsT2Zmc2V0PTA7fS8vIFZhcmlhYmxlcyBpbml0aWFsaXphdGlvbgp2YXIgc2hhcGVQb2ludHM9c2hhcGUuZXh0cmFjdFBvaW50cyhjdXJ2ZVNlZ21lbnRzKTt2YXIgdmVydGljZXM9c2hhcGVQb2ludHMuc2hhcGU7dmFyIGhvbGVzPXNoYXBlUG9pbnRzLmhvbGVzO3ZhciByZXZlcnNlPSFTaGFwZVV0aWxzLmlzQ2xvY2tXaXNlKHZlcnRpY2VzKTtpZihyZXZlcnNlKXt2ZXJ0aWNlcz12ZXJ0aWNlcy5yZXZlcnNlKCk7Ly8gTWF5YmUgd2Ugc2hvdWxkIGFsc28gY2hlY2sgaWYgaG9sZXMgYXJlIGluIHRoZSBvcHBvc2l0ZSBkaXJlY3Rpb24sIGp1c3QgdG8gYmUgc2FmZSAuLi4KZm9yKHZhciBoPTAsaGw9aG9sZXMubGVuZ3RoO2g8aGw7aCsrKXt2YXIgYWhvbGU9aG9sZXNbaF07aWYoU2hhcGVVdGlscy5pc0Nsb2NrV2lzZShhaG9sZSkpe2hvbGVzW2hdPWFob2xlLnJldmVyc2UoKTt9fX12YXIgZmFjZXM9U2hhcGVVdGlscy50cmlhbmd1bGF0ZVNoYXBlKHZlcnRpY2VzLGhvbGVzKTsvKiBWZXJ0aWNlcyAqL3ZhciBjb250b3VyPXZlcnRpY2VzOy8vIHZlcnRpY2VzIGhhcyBhbGwgcG9pbnRzIGJ1dCBjb250b3VyIGhhcyBvbmx5IHBvaW50cyBvZiBjaXJjdW1mZXJlbmNlCmZvcih2YXIgX2g9MCxfaGw9aG9sZXMubGVuZ3RoO19oPF9obDtfaCsrKXt2YXIgX2Fob2xlPWhvbGVzW19oXTt2ZXJ0aWNlcz12ZXJ0aWNlcy5jb25jYXQoX2Fob2xlKTt9ZnVuY3Rpb24gc2NhbGVQdDIocHQsdmVjLHNpemUpe2lmKCF2ZWMpY29uc29sZS5lcnJvcignVEhSRUUuRXh0cnVkZUdlb21ldHJ5OiB2ZWMgZG9lcyBub3QgZXhpc3QnKTtyZXR1cm4gdmVjLmNsb25lKCkubXVsdGlwbHlTY2FsYXIoc2l6ZSkuYWRkKHB0KTt9dmFyIHZsZW49dmVydGljZXMubGVuZ3RoLGZsZW49ZmFjZXMubGVuZ3RoOy8vIEZpbmQgZGlyZWN0aW9ucyBmb3IgcG9pbnQgbW92ZW1lbnQKZnVuY3Rpb24gZ2V0QmV2ZWxWZWMoaW5QdCxpblByZXYsaW5OZXh0KXsvLyBjb21wdXRlcyBmb3IgaW5QdCB0aGUgY29ycmVzcG9uZGluZyBwb2ludCBpblB0JyBvbiBhIG5ldyBjb250b3VyCi8vICAgc2hpZnRlZCBieSAxIHVuaXQgKGxlbmd0aCBvZiBub3JtYWxpemVkIHZlY3RvcikgdG8gdGhlIGxlZnQKLy8gaWYgd2Ugd2FsayBhbG9uZyBjb250b3VyIGNsb2Nrd2lzZSwgdGhpcyBuZXcgY29udG91ciBpcyBvdXRzaWRlIHRoZSBvbGQgb25lCi8vCi8vIGluUHQnIGlzIHRoZSBpbnRlcnNlY3Rpb24gb2YgdGhlIHR3byBsaW5lcyBwYXJhbGxlbCB0byB0aGUgdHdvCi8vICBhZGphY2VudCBlZGdlcyBvZiBpblB0IGF0IGEgZGlzdGFuY2Ugb2YgMSB1bml0IG9uIHRoZSBsZWZ0IHNpZGUuCnZhciB2X3RyYW5zX3gsdl90cmFuc195LHNocmlua19ieTsvLyByZXN1bHRpbmcgdHJhbnNsYXRpb24gdmVjdG9yIGZvciBpblB0Ci8vIGdvb2QgcmVhZGluZyBmb3IgZ2VvbWV0cnkgYWxnb3JpdGhtcyAoaGVyZTogbGluZS1saW5lIGludGVyc2VjdGlvbikKLy8gaHR0cDovL2dlb21hbGdvcml0aG1zLmNvbS9hMDUtX2ludGVyc2VjdC0xLmh0bWwKdmFyIHZfcHJldl94PWluUHQueC1pblByZXYueCx2X3ByZXZfeT1pblB0LnktaW5QcmV2Lnk7dmFyIHZfbmV4dF94PWluTmV4dC54LWluUHQueCx2X25leHRfeT1pbk5leHQueS1pblB0Lnk7dmFyIHZfcHJldl9sZW5zcT12X3ByZXZfeCp2X3ByZXZfeCt2X3ByZXZfeSp2X3ByZXZfeTsvLyBjaGVjayBmb3IgY29sbGluZWFyIGVkZ2VzCnZhciBjb2xsaW5lYXIwPXZfcHJldl94KnZfbmV4dF95LXZfcHJldl95KnZfbmV4dF94O2lmKE1hdGguYWJzKGNvbGxpbmVhcjApPk51bWJlci5FUFNJTE9OKXsvLyBub3QgY29sbGluZWFyCi8vIGxlbmd0aCBvZiB2ZWN0b3JzIGZvciBub3JtYWxpemluZwp2YXIgdl9wcmV2X2xlbj1NYXRoLnNxcnQodl9wcmV2X2xlbnNxKTt2YXIgdl9uZXh0X2xlbj1NYXRoLnNxcnQodl9uZXh0X3gqdl9uZXh0X3grdl9uZXh0X3kqdl9uZXh0X3kpOy8vIHNoaWZ0IGFkamFjZW50IHBvaW50cyBieSB1bml0IHZlY3RvcnMgdG8gdGhlIGxlZnQKdmFyIHB0UHJldlNoaWZ0X3g9aW5QcmV2Lngtdl9wcmV2X3kvdl9wcmV2X2xlbjt2YXIgcHRQcmV2U2hpZnRfeT1pblByZXYueSt2X3ByZXZfeC92X3ByZXZfbGVuO3ZhciBwdE5leHRTaGlmdF94PWluTmV4dC54LXZfbmV4dF95L3ZfbmV4dF9sZW47dmFyIHB0TmV4dFNoaWZ0X3k9aW5OZXh0Lnkrdl9uZXh0X3gvdl9uZXh0X2xlbjsvLyBzY2FsaW5nIGZhY3RvciBmb3Igdl9wcmV2IHRvIGludGVyc2VjdGlvbiBwb2ludAp2YXIgc2Y9KChwdE5leHRTaGlmdF94LXB0UHJldlNoaWZ0X3gpKnZfbmV4dF95LShwdE5leHRTaGlmdF95LXB0UHJldlNoaWZ0X3kpKnZfbmV4dF94KS8odl9wcmV2X3gqdl9uZXh0X3ktdl9wcmV2X3kqdl9uZXh0X3gpOy8vIHZlY3RvciBmcm9tIGluUHQgdG8gaW50ZXJzZWN0aW9uIHBvaW50CnZfdHJhbnNfeD1wdFByZXZTaGlmdF94K3ZfcHJldl94KnNmLWluUHQueDt2X3RyYW5zX3k9cHRQcmV2U2hpZnRfeSt2X3ByZXZfeSpzZi1pblB0Lnk7Ly8gRG9uJ3Qgbm9ybWFsaXplISwgb3RoZXJ3aXNlIHNoYXJwIGNvcm5lcnMgYmVjb21lIHVnbHkKLy8gIGJ1dCBwcmV2ZW50IGNyYXp5IHNwaWtlcwp2YXIgdl90cmFuc19sZW5zcT12X3RyYW5zX3gqdl90cmFuc194K3ZfdHJhbnNfeSp2X3RyYW5zX3k7aWYodl90cmFuc19sZW5zcTw9Mil7cmV0dXJuIG5ldyBWZWN0b3IyKHZfdHJhbnNfeCx2X3RyYW5zX3kpO31lbHNle3Nocmlua19ieT1NYXRoLnNxcnQodl90cmFuc19sZW5zcS8yKTt9fWVsc2V7Ly8gaGFuZGxlIHNwZWNpYWwgY2FzZSBvZiBjb2xsaW5lYXIgZWRnZXMKdmFyIGRpcmVjdGlvbl9lcT1mYWxzZTsvLyBhc3N1bWVzOiBvcHBvc2l0ZQppZih2X3ByZXZfeD5OdW1iZXIuRVBTSUxPTil7aWYodl9uZXh0X3g+TnVtYmVyLkVQU0lMT04pe2RpcmVjdGlvbl9lcT10cnVlO319ZWxzZXtpZih2X3ByZXZfeDwtTnVtYmVyLkVQU0lMT04pe2lmKHZfbmV4dF94PC1OdW1iZXIuRVBTSUxPTil7ZGlyZWN0aW9uX2VxPXRydWU7fX1lbHNle2lmKE1hdGguc2lnbih2X3ByZXZfeSk9PT1NYXRoLnNpZ24odl9uZXh0X3kpKXtkaXJlY3Rpb25fZXE9dHJ1ZTt9fX1pZihkaXJlY3Rpb25fZXEpey8vIGNvbnNvbGUubG9nKCJXYXJuaW5nOiBsaW5lcyBhcmUgYSBzdHJhaWdodCBzZXF1ZW5jZSIpOwp2X3RyYW5zX3g9LXZfcHJldl95O3ZfdHJhbnNfeT12X3ByZXZfeDtzaHJpbmtfYnk9TWF0aC5zcXJ0KHZfcHJldl9sZW5zcSk7fWVsc2V7Ly8gY29uc29sZS5sb2coIldhcm5pbmc6IGxpbmVzIGFyZSBhIHN0cmFpZ2h0IHNwaWtlIik7CnZfdHJhbnNfeD12X3ByZXZfeDt2X3RyYW5zX3k9dl9wcmV2X3k7c2hyaW5rX2J5PU1hdGguc3FydCh2X3ByZXZfbGVuc3EvMik7fX1yZXR1cm4gbmV3IFZlY3RvcjIodl90cmFuc194L3Nocmlua19ieSx2X3RyYW5zX3kvc2hyaW5rX2J5KTt9dmFyIGNvbnRvdXJNb3ZlbWVudHM9W107Zm9yKHZhciBfaTIxNj0wLGlsPWNvbnRvdXIubGVuZ3RoLGo9aWwtMSxrPV9pMjE2KzE7X2kyMTY8aWw7X2kyMTYrKyxqKyssaysrKXtpZihqPT09aWwpaj0wO2lmKGs9PT1pbClrPTA7Ly8gIChqKS0tLShpKS0tLShrKQovLyBjb25zb2xlLmxvZygnaSxqLGsnLCBpLCBqICwgaykKY29udG91ck1vdmVtZW50c1tfaTIxNl09Z2V0QmV2ZWxWZWMoY29udG91cltfaTIxNl0sY29udG91cltqXSxjb250b3VyW2tdKTt9dmFyIGhvbGVzTW92ZW1lbnRzPVtdO3ZhciBvbmVIb2xlTW92ZW1lbnRzLHZlcnRpY2VzTW92ZW1lbnRzPWNvbnRvdXJNb3ZlbWVudHMuY29uY2F0KCk7Zm9yKHZhciBfaDI9MCxfaGwyPWhvbGVzLmxlbmd0aDtfaDI8X2hsMjtfaDIrKyl7dmFyIF9haG9sZTI9aG9sZXNbX2gyXTtvbmVIb2xlTW92ZW1lbnRzPVtdO2Zvcih2YXIgX2kyMTc9MCxfaWwxMz1fYWhvbGUyLmxlbmd0aCxfajY9X2lsMTMtMSxfaz1faTIxNysxO19pMjE3PF9pbDEzO19pMjE3KyssX2o2KyssX2srKyl7aWYoX2o2PT09X2lsMTMpX2o2PTA7aWYoX2s9PT1faWwxMylfaz0wOy8vICAoaiktLS0oaSktLS0oaykKb25lSG9sZU1vdmVtZW50c1tfaTIxN109Z2V0QmV2ZWxWZWMoX2Fob2xlMltfaTIxN10sX2Fob2xlMltfajZdLF9haG9sZTJbX2tdKTt9aG9sZXNNb3ZlbWVudHMucHVzaChvbmVIb2xlTW92ZW1lbnRzKTt2ZXJ0aWNlc01vdmVtZW50cz12ZXJ0aWNlc01vdmVtZW50cy5jb25jYXQob25lSG9sZU1vdmVtZW50cyk7fS8vIExvb3AgYmV2ZWxTZWdtZW50cywgMSBmb3IgdGhlIGZyb250LCAxIGZvciB0aGUgYmFjawpmb3IodmFyIGI9MDtiPGJldmVsU2VnbWVudHM7YisrKXsvL2ZvciAoIGIgPSBiZXZlbFNlZ21lbnRzOyBiID4gMDsgYiAtLSApIHsKdmFyIHQ9Yi9iZXZlbFNlZ21lbnRzO3ZhciB6PWJldmVsVGhpY2tuZXNzKk1hdGguY29zKHQqTWF0aC5QSS8yKTt2YXIgX2JzPWJldmVsU2l6ZSpNYXRoLnNpbih0Kk1hdGguUEkvMikrYmV2ZWxPZmZzZXQ7Ly8gY29udHJhY3Qgc2hhcGUKZm9yKHZhciBfaTIxOD0wLF9pbDE0PWNvbnRvdXIubGVuZ3RoO19pMjE4PF9pbDE0O19pMjE4Kyspe3ZhciB2ZXJ0PXNjYWxlUHQyKGNvbnRvdXJbX2kyMThdLGNvbnRvdXJNb3ZlbWVudHNbX2kyMThdLF9icyk7dih2ZXJ0LngsdmVydC55LC16KTt9Ly8gZXhwYW5kIGhvbGVzCmZvcih2YXIgX2gzPTAsX2hsMz1ob2xlcy5sZW5ndGg7X2gzPF9obDM7X2gzKyspe3ZhciBfYWhvbGUzPWhvbGVzW19oM107b25lSG9sZU1vdmVtZW50cz1ob2xlc01vdmVtZW50c1tfaDNdO2Zvcih2YXIgX2kyMTk9MCxfaWwxNT1fYWhvbGUzLmxlbmd0aDtfaTIxOTxfaWwxNTtfaTIxOSsrKXt2YXIgX3ZlcnQ9c2NhbGVQdDIoX2Fob2xlM1tfaTIxOV0sb25lSG9sZU1vdmVtZW50c1tfaTIxOV0sX2JzKTt2KF92ZXJ0LngsX3ZlcnQueSwteik7fX19dmFyIGJzPWJldmVsU2l6ZStiZXZlbE9mZnNldDsvLyBCYWNrIGZhY2luZyB2ZXJ0aWNlcwpmb3IodmFyIF9pMjIwPTA7X2kyMjA8dmxlbjtfaTIyMCsrKXt2YXIgX3ZlcnQyPWJldmVsRW5hYmxlZD9zY2FsZVB0Mih2ZXJ0aWNlc1tfaTIyMF0sdmVydGljZXNNb3ZlbWVudHNbX2kyMjBdLGJzKTp2ZXJ0aWNlc1tfaTIyMF07aWYoIWV4dHJ1ZGVCeVBhdGgpe3YoX3ZlcnQyLngsX3ZlcnQyLnksMCk7fWVsc2V7Ly8gdiggdmVydC54LCB2ZXJ0LnkgKyBleHRydWRlUHRzWyAwIF0ueSwgZXh0cnVkZVB0c1sgMCBdLnggKTsKbm9ybWFsLmNvcHkoc3BsaW5lVHViZS5ub3JtYWxzWzBdKS5tdWx0aXBseVNjYWxhcihfdmVydDIueCk7Ymlub3JtYWwuY29weShzcGxpbmVUdWJlLmJpbm9ybWFsc1swXSkubXVsdGlwbHlTY2FsYXIoX3ZlcnQyLnkpO3Bvc2l0aW9uMi5jb3B5KGV4dHJ1ZGVQdHNbMF0pLmFkZChub3JtYWwpLmFkZChiaW5vcm1hbCk7dihwb3NpdGlvbjIueCxwb3NpdGlvbjIueSxwb3NpdGlvbjIueik7fX0vLyBBZGQgc3RlcHBlZCB2ZXJ0aWNlcy4uLgovLyBJbmNsdWRpbmcgZnJvbnQgZmFjaW5nIHZlcnRpY2VzCmZvcih2YXIgcz0xO3M8PXN0ZXBzO3MrKyl7Zm9yKHZhciBfaTIyMT0wO19pMjIxPHZsZW47X2kyMjErKyl7dmFyIF92ZXJ0Mz1iZXZlbEVuYWJsZWQ/c2NhbGVQdDIodmVydGljZXNbX2kyMjFdLHZlcnRpY2VzTW92ZW1lbnRzW19pMjIxXSxicyk6dmVydGljZXNbX2kyMjFdO2lmKCFleHRydWRlQnlQYXRoKXt2KF92ZXJ0My54LF92ZXJ0My55LGRlcHRoL3N0ZXBzKnMpO31lbHNley8vIHYoIHZlcnQueCwgdmVydC55ICsgZXh0cnVkZVB0c1sgcyAtIDEgXS55LCBleHRydWRlUHRzWyBzIC0gMSBdLnggKTsKbm9ybWFsLmNvcHkoc3BsaW5lVHViZS5ub3JtYWxzW3NdKS5tdWx0aXBseVNjYWxhcihfdmVydDMueCk7Ymlub3JtYWwuY29weShzcGxpbmVUdWJlLmJpbm9ybWFsc1tzXSkubXVsdGlwbHlTY2FsYXIoX3ZlcnQzLnkpO3Bvc2l0aW9uMi5jb3B5KGV4dHJ1ZGVQdHNbc10pLmFkZChub3JtYWwpLmFkZChiaW5vcm1hbCk7dihwb3NpdGlvbjIueCxwb3NpdGlvbjIueSxwb3NpdGlvbjIueik7fX19Ly8gQWRkIGJldmVsIHNlZ21lbnRzIHBsYW5lcwovL2ZvciAoIGIgPSAxOyBiIDw9IGJldmVsU2VnbWVudHM7IGIgKysgKSB7CmZvcih2YXIgX2I1PWJldmVsU2VnbWVudHMtMTtfYjU+PTA7X2I1LS0pe3ZhciBfdD1fYjUvYmV2ZWxTZWdtZW50czt2YXIgX3oyPWJldmVsVGhpY2tuZXNzKk1hdGguY29zKF90Kk1hdGguUEkvMik7dmFyIF9iczI9YmV2ZWxTaXplKk1hdGguc2luKF90Kk1hdGguUEkvMikrYmV2ZWxPZmZzZXQ7Ly8gY29udHJhY3Qgc2hhcGUKZm9yKHZhciBfaTIyMj0wLF9pbDE2PWNvbnRvdXIubGVuZ3RoO19pMjIyPF9pbDE2O19pMjIyKyspe3ZhciBfdmVydDQ9c2NhbGVQdDIoY29udG91cltfaTIyMl0sY29udG91ck1vdmVtZW50c1tfaTIyMl0sX2JzMik7dihfdmVydDQueCxfdmVydDQueSxkZXB0aCtfejIpO30vLyBleHBhbmQgaG9sZXMKZm9yKHZhciBfaDQ9MCxfaGw0PWhvbGVzLmxlbmd0aDtfaDQ8X2hsNDtfaDQrKyl7dmFyIF9haG9sZTQ9aG9sZXNbX2g0XTtvbmVIb2xlTW92ZW1lbnRzPWhvbGVzTW92ZW1lbnRzW19oNF07Zm9yKHZhciBfaTIyMz0wLF9pbDE3PV9haG9sZTQubGVuZ3RoO19pMjIzPF9pbDE3O19pMjIzKyspe3ZhciBfdmVydDU9c2NhbGVQdDIoX2Fob2xlNFtfaTIyM10sb25lSG9sZU1vdmVtZW50c1tfaTIyM10sX2JzMik7aWYoIWV4dHJ1ZGVCeVBhdGgpe3YoX3ZlcnQ1LngsX3ZlcnQ1LnksZGVwdGgrX3oyKTt9ZWxzZXt2KF92ZXJ0NS54LF92ZXJ0NS55K2V4dHJ1ZGVQdHNbc3RlcHMtMV0ueSxleHRydWRlUHRzW3N0ZXBzLTFdLngrX3oyKTt9fX19LyogRmFjZXMgKi8gLy8gVG9wIGFuZCBib3R0b20gZmFjZXMKYnVpbGRMaWRGYWNlcygpOy8vIFNpZGVzIGZhY2VzCmJ1aWxkU2lkZUZhY2VzKCk7Ly8vLy8gIEludGVybmFsIGZ1bmN0aW9ucwpmdW5jdGlvbiBidWlsZExpZEZhY2VzKCl7dmFyIHN0YXJ0PXZlcnRpY2VzQXJyYXkubGVuZ3RoLzM7aWYoYmV2ZWxFbmFibGVkKXt2YXIgbGF5ZXI9MDsvLyBzdGVwcyArIDEKdmFyIG9mZnNldD12bGVuKmxheWVyOy8vIEJvdHRvbSBmYWNlcwpmb3IodmFyIF9pMjI0PTA7X2kyMjQ8ZmxlbjtfaTIyNCsrKXt2YXIgZmFjZT1mYWNlc1tfaTIyNF07ZjMoZmFjZVsyXStvZmZzZXQsZmFjZVsxXStvZmZzZXQsZmFjZVswXStvZmZzZXQpO31sYXllcj1zdGVwcytiZXZlbFNlZ21lbnRzKjI7b2Zmc2V0PXZsZW4qbGF5ZXI7Ly8gVG9wIGZhY2VzCmZvcih2YXIgX2kyMjU9MDtfaTIyNTxmbGVuO19pMjI1Kyspe3ZhciBfZmFjZT1mYWNlc1tfaTIyNV07ZjMoX2ZhY2VbMF0rb2Zmc2V0LF9mYWNlWzFdK29mZnNldCxfZmFjZVsyXStvZmZzZXQpO319ZWxzZXsvLyBCb3R0b20gZmFjZXMKZm9yKHZhciBfaTIyNj0wO19pMjI2PGZsZW47X2kyMjYrKyl7dmFyIF9mYWNlMj1mYWNlc1tfaTIyNl07ZjMoX2ZhY2UyWzJdLF9mYWNlMlsxXSxfZmFjZTJbMF0pO30vLyBUb3AgZmFjZXMKZm9yKHZhciBfaTIyNz0wO19pMjI3PGZsZW47X2kyMjcrKyl7dmFyIF9mYWNlMz1mYWNlc1tfaTIyN107ZjMoX2ZhY2UzWzBdK3ZsZW4qc3RlcHMsX2ZhY2UzWzFdK3ZsZW4qc3RlcHMsX2ZhY2UzWzJdK3ZsZW4qc3RlcHMpO319c2NvcGUuYWRkR3JvdXAoc3RhcnQsdmVydGljZXNBcnJheS5sZW5ndGgvMy1zdGFydCwwKTt9Ly8gQ3JlYXRlIGZhY2VzIGZvciB0aGUgei1zaWRlcyBvZiB0aGUgc2hhcGUKZnVuY3Rpb24gYnVpbGRTaWRlRmFjZXMoKXt2YXIgc3RhcnQ9dmVydGljZXNBcnJheS5sZW5ndGgvMzt2YXIgbGF5ZXJvZmZzZXQ9MDtzaWRld2FsbHMoY29udG91cixsYXllcm9mZnNldCk7bGF5ZXJvZmZzZXQrPWNvbnRvdXIubGVuZ3RoO2Zvcih2YXIgX2g1PTAsX2hsNT1ob2xlcy5sZW5ndGg7X2g1PF9obDU7X2g1Kyspe3ZhciBfYWhvbGU1PWhvbGVzW19oNV07c2lkZXdhbGxzKF9haG9sZTUsbGF5ZXJvZmZzZXQpOy8vLCB0cnVlCmxheWVyb2Zmc2V0Kz1fYWhvbGU1Lmxlbmd0aDt9c2NvcGUuYWRkR3JvdXAoc3RhcnQsdmVydGljZXNBcnJheS5sZW5ndGgvMy1zdGFydCwxKTt9ZnVuY3Rpb24gc2lkZXdhbGxzKGNvbnRvdXIsbGF5ZXJvZmZzZXQpe3ZhciBpPWNvbnRvdXIubGVuZ3RoO3doaWxlKC0taT49MCl7dmFyIF9qNz1pO3ZhciBfazI9aS0xO2lmKF9rMjwwKV9rMj1jb250b3VyLmxlbmd0aC0xOy8vY29uc29sZS5sb2coJ2InLCBpLGosIGktMSwgayx2ZXJ0aWNlcy5sZW5ndGgpOwpmb3IodmFyIF9zND0wLHNsPXN0ZXBzK2JldmVsU2VnbWVudHMqMjtfczQ8c2w7X3M0Kyspe3ZhciBzbGVuMT12bGVuKl9zNDt2YXIgc2xlbjI9dmxlbiooX3M0KzEpO3ZhciBhPWxheWVyb2Zmc2V0K19qNytzbGVuMSxfYjY9bGF5ZXJvZmZzZXQrX2syK3NsZW4xLGM9bGF5ZXJvZmZzZXQrX2syK3NsZW4yLGQ9bGF5ZXJvZmZzZXQrX2o3K3NsZW4yO2Y0KGEsX2I2LGMsZCk7fX19ZnVuY3Rpb24gdih4LHkseil7cGxhY2Vob2xkZXIucHVzaCh4KTtwbGFjZWhvbGRlci5wdXNoKHkpO3BsYWNlaG9sZGVyLnB1c2goeik7fWZ1bmN0aW9uIGYzKGEsYixjKXthZGRWZXJ0ZXgoYSk7YWRkVmVydGV4KGIpO2FkZFZlcnRleChjKTt2YXIgbmV4dEluZGV4PXZlcnRpY2VzQXJyYXkubGVuZ3RoLzM7dmFyIHV2cz11dmdlbi5nZW5lcmF0ZVRvcFVWKHNjb3BlLHZlcnRpY2VzQXJyYXksbmV4dEluZGV4LTMsbmV4dEluZGV4LTIsbmV4dEluZGV4LTEpO2FkZFVWKHV2c1swXSk7YWRkVVYodXZzWzFdKTthZGRVVih1dnNbMl0pO31mdW5jdGlvbiBmNChhLGIsYyxkKXthZGRWZXJ0ZXgoYSk7YWRkVmVydGV4KGIpO2FkZFZlcnRleChkKTthZGRWZXJ0ZXgoYik7YWRkVmVydGV4KGMpO2FkZFZlcnRleChkKTt2YXIgbmV4dEluZGV4PXZlcnRpY2VzQXJyYXkubGVuZ3RoLzM7dmFyIHV2cz11dmdlbi5nZW5lcmF0ZVNpZGVXYWxsVVYoc2NvcGUsdmVydGljZXNBcnJheSxuZXh0SW5kZXgtNixuZXh0SW5kZXgtMyxuZXh0SW5kZXgtMixuZXh0SW5kZXgtMSk7YWRkVVYodXZzWzBdKTthZGRVVih1dnNbMV0pO2FkZFVWKHV2c1szXSk7YWRkVVYodXZzWzFdKTthZGRVVih1dnNbMl0pO2FkZFVWKHV2c1szXSk7fWZ1bmN0aW9uIGFkZFZlcnRleChpbmRleCl7dmVydGljZXNBcnJheS5wdXNoKHBsYWNlaG9sZGVyW2luZGV4KjMrMF0pO3ZlcnRpY2VzQXJyYXkucHVzaChwbGFjZWhvbGRlcltpbmRleCozKzFdKTt2ZXJ0aWNlc0FycmF5LnB1c2gocGxhY2Vob2xkZXJbaW5kZXgqMysyXSk7fWZ1bmN0aW9uIGFkZFVWKHZlY3RvcjIpe3V2QXJyYXkucHVzaCh2ZWN0b3IyLngpO3V2QXJyYXkucHVzaCh2ZWN0b3IyLnkpO319cmV0dXJuIF90aGlzNjc7fV9jcmVhdGVDbGFzcyhFeHRydWRlR2VvbWV0cnksW3trZXk6InRvSlNPTiIsdmFsdWU6ZnVuY3Rpb24gdG9KU09OKCl7dmFyIGRhdGE9X2dldChfZ2V0UHJvdG90eXBlT2YoRXh0cnVkZUdlb21ldHJ5LnByb3RvdHlwZSksInRvSlNPTiIsdGhpcykuY2FsbCh0aGlzKTt2YXIgc2hhcGVzPXRoaXMucGFyYW1ldGVycy5zaGFwZXM7dmFyIG9wdGlvbnM9dGhpcy5wYXJhbWV0ZXJzLm9wdGlvbnM7cmV0dXJuIHRvSlNPTiQxKHNoYXBlcyxvcHRpb25zLGRhdGEpO319XSxbe2tleToiZnJvbUpTT04iLHZhbHVlOmZ1bmN0aW9uIGZyb21KU09OKGRhdGEsc2hhcGVzKXt2YXIgZ2VvbWV0cnlTaGFwZXM9W107Zm9yKHZhciBqPTAsamw9ZGF0YS5zaGFwZXMubGVuZ3RoO2o8amw7aisrKXt2YXIgc2hhcGU9c2hhcGVzW2RhdGEuc2hhcGVzW2pdXTtnZW9tZXRyeVNoYXBlcy5wdXNoKHNoYXBlKTt9dmFyIGV4dHJ1ZGVQYXRoPWRhdGEub3B0aW9ucy5leHRydWRlUGF0aDtpZihleHRydWRlUGF0aCE9PXVuZGVmaW5lZCl7ZGF0YS5vcHRpb25zLmV4dHJ1ZGVQYXRoPW5ldyBDdXJ2ZXNbZXh0cnVkZVBhdGgudHlwZV0oKS5mcm9tSlNPTihleHRydWRlUGF0aCk7fXJldHVybiBuZXcgRXh0cnVkZUdlb21ldHJ5KGdlb21ldHJ5U2hhcGVzLGRhdGEub3B0aW9ucyk7fX1dKTtyZXR1cm4gRXh0cnVkZUdlb21ldHJ5O30oQnVmZmVyR2VvbWV0cnkpO3ZhciBXb3JsZFVWR2VuZXJhdG9yPXtnZW5lcmF0ZVRvcFVWOmZ1bmN0aW9uIGdlbmVyYXRlVG9wVVYoZ2VvbWV0cnksdmVydGljZXMsaW5kZXhBLGluZGV4QixpbmRleEMpe3ZhciBhX3g9dmVydGljZXNbaW5kZXhBKjNdO3ZhciBhX3k9dmVydGljZXNbaW5kZXhBKjMrMV07dmFyIGJfeD12ZXJ0aWNlc1tpbmRleEIqM107dmFyIGJfeT12ZXJ0aWNlc1tpbmRleEIqMysxXTt2YXIgY194PXZlcnRpY2VzW2luZGV4QyozXTt2YXIgY195PXZlcnRpY2VzW2luZGV4QyozKzFdO3JldHVybltuZXcgVmVjdG9yMihhX3gsYV95KSxuZXcgVmVjdG9yMihiX3gsYl95KSxuZXcgVmVjdG9yMihjX3gsY195KV07fSxnZW5lcmF0ZVNpZGVXYWxsVVY6ZnVuY3Rpb24gZ2VuZXJhdGVTaWRlV2FsbFVWKGdlb21ldHJ5LHZlcnRpY2VzLGluZGV4QSxpbmRleEIsaW5kZXhDLGluZGV4RCl7dmFyIGFfeD12ZXJ0aWNlc1tpbmRleEEqM107dmFyIGFfeT12ZXJ0aWNlc1tpbmRleEEqMysxXTt2YXIgYV96PXZlcnRpY2VzW2luZGV4QSozKzJdO3ZhciBiX3g9dmVydGljZXNbaW5kZXhCKjNdO3ZhciBiX3k9dmVydGljZXNbaW5kZXhCKjMrMV07dmFyIGJfej12ZXJ0aWNlc1tpbmRleEIqMysyXTt2YXIgY194PXZlcnRpY2VzW2luZGV4QyozXTt2YXIgY195PXZlcnRpY2VzW2luZGV4QyozKzFdO3ZhciBjX3o9dmVydGljZXNbaW5kZXhDKjMrMl07dmFyIGRfeD12ZXJ0aWNlc1tpbmRleEQqM107dmFyIGRfeT12ZXJ0aWNlc1tpbmRleEQqMysxXTt2YXIgZF96PXZlcnRpY2VzW2luZGV4RCozKzJdO2lmKE1hdGguYWJzKGFfeS1iX3kpPE1hdGguYWJzKGFfeC1iX3gpKXtyZXR1cm5bbmV3IFZlY3RvcjIoYV94LDEtYV96KSxuZXcgVmVjdG9yMihiX3gsMS1iX3opLG5ldyBWZWN0b3IyKGNfeCwxLWNfeiksbmV3IFZlY3RvcjIoZF94LDEtZF96KV07fWVsc2V7cmV0dXJuW25ldyBWZWN0b3IyKGFfeSwxLWFfeiksbmV3IFZlY3RvcjIoYl95LDEtYl96KSxuZXcgVmVjdG9yMihjX3ksMS1jX3opLG5ldyBWZWN0b3IyKGRfeSwxLWRfeildO319fTtmdW5jdGlvbiB0b0pTT04kMShzaGFwZXMsb3B0aW9ucyxkYXRhKXtkYXRhLnNoYXBlcz1bXTtpZihBcnJheS5pc0FycmF5KHNoYXBlcykpe2Zvcih2YXIgX2kyMjg9MCxsPXNoYXBlcy5sZW5ndGg7X2kyMjg8bDtfaTIyOCsrKXt2YXIgc2hhcGU9c2hhcGVzW19pMjI4XTtkYXRhLnNoYXBlcy5wdXNoKHNoYXBlLnV1aWQpO319ZWxzZXtkYXRhLnNoYXBlcy5wdXNoKHNoYXBlcy51dWlkKTt9aWYob3B0aW9ucy5leHRydWRlUGF0aCE9PXVuZGVmaW5lZClkYXRhLm9wdGlvbnMuZXh0cnVkZVBhdGg9b3B0aW9ucy5leHRydWRlUGF0aC50b0pTT04oKTtyZXR1cm4gZGF0YTt9dmFyIEljb3NhaGVkcm9uR2VvbWV0cnk9LyojX19QVVJFX18qL2Z1bmN0aW9uKF9Qb2x5aGVkcm9uR2VvbWV0cnkyKXtfaW5oZXJpdHMoSWNvc2FoZWRyb25HZW9tZXRyeSxfUG9seWhlZHJvbkdlb21ldHJ5Mik7dmFyIF9zdXBlcjc4PV9jcmVhdGVTdXBlcihJY29zYWhlZHJvbkdlb21ldHJ5KTtmdW5jdGlvbiBJY29zYWhlZHJvbkdlb21ldHJ5KCl7dmFyIF90aGlzNjg7dmFyIHJhZGl1cz1hcmd1bWVudHMubGVuZ3RoPjAmJmFyZ3VtZW50c1swXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMF06MTt2YXIgZGV0YWlsPWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1sxXTowO19jbGFzc0NhbGxDaGVjayh0aGlzLEljb3NhaGVkcm9uR2VvbWV0cnkpO3ZhciB0PSgxK01hdGguc3FydCg1KSkvMjt2YXIgdmVydGljZXM9Wy0xLHQsMCwxLHQsMCwtMSwtdCwwLDEsLXQsMCwwLC0xLHQsMCwxLHQsMCwtMSwtdCwwLDEsLXQsdCwwLC0xLHQsMCwxLC10LDAsLTEsLXQsMCwxXTt2YXIgaW5kaWNlcz1bMCwxMSw1LDAsNSwxLDAsMSw3LDAsNywxMCwwLDEwLDExLDEsNSw5LDUsMTEsNCwxMSwxMCwyLDEwLDcsNiw3LDEsOCwzLDksNCwzLDQsMiwzLDIsNiwzLDYsOCwzLDgsOSw0LDksNSwyLDQsMTEsNiwyLDEwLDgsNiw3LDksOCwxXTtfdGhpczY4PV9zdXBlcjc4LmNhbGwodGhpcyx2ZXJ0aWNlcyxpbmRpY2VzLHJhZGl1cyxkZXRhaWwpO190aGlzNjgudHlwZT0nSWNvc2FoZWRyb25HZW9tZXRyeSc7X3RoaXM2OC5wYXJhbWV0ZXJzPXtyYWRpdXM6cmFkaXVzLGRldGFpbDpkZXRhaWx9O3JldHVybiBfdGhpczY4O31fY3JlYXRlQ2xhc3MoSWNvc2FoZWRyb25HZW9tZXRyeSxudWxsLFt7a2V5OiJmcm9tSlNPTiIsdmFsdWU6ZnVuY3Rpb24gZnJvbUpTT04oZGF0YSl7cmV0dXJuIG5ldyBJY29zYWhlZHJvbkdlb21ldHJ5KGRhdGEucmFkaXVzLGRhdGEuZGV0YWlsKTt9fV0pO3JldHVybiBJY29zYWhlZHJvbkdlb21ldHJ5O30oUG9seWhlZHJvbkdlb21ldHJ5KTt2YXIgTGF0aGVHZW9tZXRyeT0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX0J1ZmZlckdlb21ldHJ5OCl7X2luaGVyaXRzKExhdGhlR2VvbWV0cnksX0J1ZmZlckdlb21ldHJ5OCk7dmFyIF9zdXBlcjc5PV9jcmVhdGVTdXBlcihMYXRoZUdlb21ldHJ5KTtmdW5jdGlvbiBMYXRoZUdlb21ldHJ5KCl7dmFyIF90aGlzNjk7dmFyIHBvaW50cz1hcmd1bWVudHMubGVuZ3RoPjAmJmFyZ3VtZW50c1swXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMF06W25ldyBWZWN0b3IyKDAsMC41KSxuZXcgVmVjdG9yMigwLjUsMCksbmV3IFZlY3RvcjIoMCwtMC41KV07dmFyIHNlZ21lbnRzPWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1sxXToxMjt2YXIgcGhpU3RhcnQ9YXJndW1lbnRzLmxlbmd0aD4yJiZhcmd1bWVudHNbMl0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzJdOjA7dmFyIHBoaUxlbmd0aD1hcmd1bWVudHMubGVuZ3RoPjMmJmFyZ3VtZW50c1szXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbM106TWF0aC5QSSoyO19jbGFzc0NhbGxDaGVjayh0aGlzLExhdGhlR2VvbWV0cnkpO190aGlzNjk9X3N1cGVyNzkuY2FsbCh0aGlzKTtfdGhpczY5LnR5cGU9J0xhdGhlR2VvbWV0cnknO190aGlzNjkucGFyYW1ldGVycz17cG9pbnRzOnBvaW50cyxzZWdtZW50czpzZWdtZW50cyxwaGlTdGFydDpwaGlTdGFydCxwaGlMZW5ndGg6cGhpTGVuZ3RofTtzZWdtZW50cz1NYXRoLmZsb29yKHNlZ21lbnRzKTsvLyBjbGFtcCBwaGlMZW5ndGggc28gaXQncyBpbiByYW5nZSBvZiBbIDAsIDJQSSBdCnBoaUxlbmd0aD1jbGFtcChwaGlMZW5ndGgsMCxNYXRoLlBJKjIpOy8vIGJ1ZmZlcnMKdmFyIGluZGljZXM9W107dmFyIHZlcnRpY2VzPVtdO3ZhciB1dnM9W107dmFyIGluaXROb3JtYWxzPVtdO3ZhciBub3JtYWxzPVtdOy8vIGhlbHBlciB2YXJpYWJsZXMKdmFyIGludmVyc2VTZWdtZW50cz0xLjAvc2VnbWVudHM7dmFyIHZlcnRleD1uZXcgVmVjdG9yMygpO3ZhciB1dj1uZXcgVmVjdG9yMigpO3ZhciBub3JtYWw9bmV3IFZlY3RvcjMoKTt2YXIgY3VyTm9ybWFsPW5ldyBWZWN0b3IzKCk7dmFyIHByZXZOb3JtYWw9bmV3IFZlY3RvcjMoKTt2YXIgZHg9MDt2YXIgZHk9MDsvLyBwcmUtY29tcHV0ZSBub3JtYWxzIGZvciBpbml0aWFsICJtZXJpZGlhbiIKZm9yKHZhciBqPTA7ajw9cG9pbnRzLmxlbmd0aC0xO2orKyl7c3dpdGNoKGope2Nhc2UgMDovLyBzcGVjaWFsIGhhbmRsaW5nIGZvciAxc3QgdmVydGV4IG9uIHBhdGgKZHg9cG9pbnRzW2orMV0ueC1wb2ludHNbal0ueDtkeT1wb2ludHNbaisxXS55LXBvaW50c1tqXS55O25vcm1hbC54PWR5KjEuMDtub3JtYWwueT0tZHg7bm9ybWFsLno9ZHkqMC4wO3ByZXZOb3JtYWwuY29weShub3JtYWwpO25vcm1hbC5ub3JtYWxpemUoKTtpbml0Tm9ybWFscy5wdXNoKG5vcm1hbC54LG5vcm1hbC55LG5vcm1hbC56KTticmVhaztjYXNlIHBvaW50cy5sZW5ndGgtMTovLyBzcGVjaWFsIGhhbmRsaW5nIGZvciBsYXN0IFZlcnRleCBvbiBwYXRoCmluaXROb3JtYWxzLnB1c2gocHJldk5vcm1hbC54LHByZXZOb3JtYWwueSxwcmV2Tm9ybWFsLnopO2JyZWFrO2RlZmF1bHQ6Ly8gZGVmYXVsdCBoYW5kbGluZyBmb3IgYWxsIHZlcnRpY2VzIGluIGJldHdlZW4KZHg9cG9pbnRzW2orMV0ueC1wb2ludHNbal0ueDtkeT1wb2ludHNbaisxXS55LXBvaW50c1tqXS55O25vcm1hbC54PWR5KjEuMDtub3JtYWwueT0tZHg7bm9ybWFsLno9ZHkqMC4wO2N1ck5vcm1hbC5jb3B5KG5vcm1hbCk7bm9ybWFsLngrPXByZXZOb3JtYWwueDtub3JtYWwueSs9cHJldk5vcm1hbC55O25vcm1hbC56Kz1wcmV2Tm9ybWFsLno7bm9ybWFsLm5vcm1hbGl6ZSgpO2luaXROb3JtYWxzLnB1c2gobm9ybWFsLngsbm9ybWFsLnksbm9ybWFsLnopO3ByZXZOb3JtYWwuY29weShjdXJOb3JtYWwpO319Ly8gZ2VuZXJhdGUgdmVydGljZXMsIHV2cyBhbmQgbm9ybWFscwpmb3IodmFyIF9pMjI5PTA7X2kyMjk8PXNlZ21lbnRzO19pMjI5Kyspe3ZhciBwaGk9cGhpU3RhcnQrX2kyMjkqaW52ZXJzZVNlZ21lbnRzKnBoaUxlbmd0aDt2YXIgc2luPU1hdGguc2luKHBoaSk7dmFyIGNvcz1NYXRoLmNvcyhwaGkpO2Zvcih2YXIgX2o4PTA7X2o4PD1wb2ludHMubGVuZ3RoLTE7X2o4Kyspey8vIHZlcnRleAp2ZXJ0ZXgueD1wb2ludHNbX2o4XS54KnNpbjt2ZXJ0ZXgueT1wb2ludHNbX2o4XS55O3ZlcnRleC56PXBvaW50c1tfajhdLngqY29zO3ZlcnRpY2VzLnB1c2godmVydGV4LngsdmVydGV4LnksdmVydGV4LnopOy8vIHV2CnV2Lng9X2kyMjkvc2VnbWVudHM7dXYueT1fajgvKHBvaW50cy5sZW5ndGgtMSk7dXZzLnB1c2godXYueCx1di55KTsvLyBub3JtYWwKdmFyIHg9aW5pdE5vcm1hbHNbMypfajgrMF0qc2luO3ZhciB5PWluaXROb3JtYWxzWzMqX2o4KzFdO3ZhciB6PWluaXROb3JtYWxzWzMqX2o4KzBdKmNvcztub3JtYWxzLnB1c2goeCx5LHopO319Ly8gaW5kaWNlcwpmb3IodmFyIF9pMjMwPTA7X2kyMzA8c2VnbWVudHM7X2kyMzArKyl7Zm9yKHZhciBfajk9MDtfajk8cG9pbnRzLmxlbmd0aC0xO19qOSsrKXt2YXIgYmFzZT1fajkrX2kyMzAqcG9pbnRzLmxlbmd0aDt2YXIgYT1iYXNlO3ZhciBiPWJhc2UrcG9pbnRzLmxlbmd0aDt2YXIgYz1iYXNlK3BvaW50cy5sZW5ndGgrMTt2YXIgZD1iYXNlKzE7Ly8gZmFjZXMKaW5kaWNlcy5wdXNoKGEsYixkKTtpbmRpY2VzLnB1c2goYyxkLGIpO319Ly8gYnVpbGQgZ2VvbWV0cnkKX3RoaXM2OS5zZXRJbmRleChpbmRpY2VzKTtfdGhpczY5LnNldEF0dHJpYnV0ZSgncG9zaXRpb24nLG5ldyBGbG9hdDMyQnVmZmVyQXR0cmlidXRlKHZlcnRpY2VzLDMpKTtfdGhpczY5LnNldEF0dHJpYnV0ZSgndXYnLG5ldyBGbG9hdDMyQnVmZmVyQXR0cmlidXRlKHV2cywyKSk7X3RoaXM2OS5zZXRBdHRyaWJ1dGUoJ25vcm1hbCcsbmV3IEZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUobm9ybWFscywzKSk7cmV0dXJuIF90aGlzNjk7fV9jcmVhdGVDbGFzcyhMYXRoZUdlb21ldHJ5LG51bGwsW3trZXk6ImZyb21KU09OIix2YWx1ZTpmdW5jdGlvbiBmcm9tSlNPTihkYXRhKXtyZXR1cm4gbmV3IExhdGhlR2VvbWV0cnkoZGF0YS5wb2ludHMsZGF0YS5zZWdtZW50cyxkYXRhLnBoaVN0YXJ0LGRhdGEucGhpTGVuZ3RoKTt9fV0pO3JldHVybiBMYXRoZUdlb21ldHJ5O30oQnVmZmVyR2VvbWV0cnkpO3ZhciBPY3RhaGVkcm9uR2VvbWV0cnk9LyojX19QVVJFX18qL2Z1bmN0aW9uKF9Qb2x5aGVkcm9uR2VvbWV0cnkzKXtfaW5oZXJpdHMoT2N0YWhlZHJvbkdlb21ldHJ5LF9Qb2x5aGVkcm9uR2VvbWV0cnkzKTt2YXIgX3N1cGVyODA9X2NyZWF0ZVN1cGVyKE9jdGFoZWRyb25HZW9tZXRyeSk7ZnVuY3Rpb24gT2N0YWhlZHJvbkdlb21ldHJ5KCl7dmFyIF90aGlzNzA7dmFyIHJhZGl1cz1hcmd1bWVudHMubGVuZ3RoPjAmJmFyZ3VtZW50c1swXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMF06MTt2YXIgZGV0YWlsPWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1sxXTowO19jbGFzc0NhbGxDaGVjayh0aGlzLE9jdGFoZWRyb25HZW9tZXRyeSk7dmFyIHZlcnRpY2VzPVsxLDAsMCwtMSwwLDAsMCwxLDAsMCwtMSwwLDAsMCwxLDAsMCwtMV07dmFyIGluZGljZXM9WzAsMiw0LDAsNCwzLDAsMyw1LDAsNSwyLDEsMiw1LDEsNSwzLDEsMyw0LDEsNCwyXTtfdGhpczcwPV9zdXBlcjgwLmNhbGwodGhpcyx2ZXJ0aWNlcyxpbmRpY2VzLHJhZGl1cyxkZXRhaWwpO190aGlzNzAudHlwZT0nT2N0YWhlZHJvbkdlb21ldHJ5JztfdGhpczcwLnBhcmFtZXRlcnM9e3JhZGl1czpyYWRpdXMsZGV0YWlsOmRldGFpbH07cmV0dXJuIF90aGlzNzA7fV9jcmVhdGVDbGFzcyhPY3RhaGVkcm9uR2VvbWV0cnksbnVsbCxbe2tleToiZnJvbUpTT04iLHZhbHVlOmZ1bmN0aW9uIGZyb21KU09OKGRhdGEpe3JldHVybiBuZXcgT2N0YWhlZHJvbkdlb21ldHJ5KGRhdGEucmFkaXVzLGRhdGEuZGV0YWlsKTt9fV0pO3JldHVybiBPY3RhaGVkcm9uR2VvbWV0cnk7fShQb2x5aGVkcm9uR2VvbWV0cnkpO3ZhciBSaW5nR2VvbWV0cnk9LyojX19QVVJFX18qL2Z1bmN0aW9uKF9CdWZmZXJHZW9tZXRyeTkpe19pbmhlcml0cyhSaW5nR2VvbWV0cnksX0J1ZmZlckdlb21ldHJ5OSk7dmFyIF9zdXBlcjgxPV9jcmVhdGVTdXBlcihSaW5nR2VvbWV0cnkpO2Z1bmN0aW9uIFJpbmdHZW9tZXRyeSgpe3ZhciBfdGhpczcxO3ZhciBpbm5lclJhZGl1cz1hcmd1bWVudHMubGVuZ3RoPjAmJmFyZ3VtZW50c1swXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMF06MC41O3ZhciBvdXRlclJhZGl1cz1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMV06MTt2YXIgdGhldGFTZWdtZW50cz1hcmd1bWVudHMubGVuZ3RoPjImJmFyZ3VtZW50c1syXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMl06ODt2YXIgcGhpU2VnbWVudHM9YXJndW1lbnRzLmxlbmd0aD4zJiZhcmd1bWVudHNbM10hPT11bmRlZmluZWQ/YXJndW1lbnRzWzNdOjE7dmFyIHRoZXRhU3RhcnQ9YXJndW1lbnRzLmxlbmd0aD40JiZhcmd1bWVudHNbNF0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzRdOjA7dmFyIHRoZXRhTGVuZ3RoPWFyZ3VtZW50cy5sZW5ndGg+NSYmYXJndW1lbnRzWzVdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1s1XTpNYXRoLlBJKjI7X2NsYXNzQ2FsbENoZWNrKHRoaXMsUmluZ0dlb21ldHJ5KTtfdGhpczcxPV9zdXBlcjgxLmNhbGwodGhpcyk7X3RoaXM3MS50eXBlPSdSaW5nR2VvbWV0cnknO190aGlzNzEucGFyYW1ldGVycz17aW5uZXJSYWRpdXM6aW5uZXJSYWRpdXMsb3V0ZXJSYWRpdXM6b3V0ZXJSYWRpdXMsdGhldGFTZWdtZW50czp0aGV0YVNlZ21lbnRzLHBoaVNlZ21lbnRzOnBoaVNlZ21lbnRzLHRoZXRhU3RhcnQ6dGhldGFTdGFydCx0aGV0YUxlbmd0aDp0aGV0YUxlbmd0aH07dGhldGFTZWdtZW50cz1NYXRoLm1heCgzLHRoZXRhU2VnbWVudHMpO3BoaVNlZ21lbnRzPU1hdGgubWF4KDEscGhpU2VnbWVudHMpOy8vIGJ1ZmZlcnMKdmFyIGluZGljZXM9W107dmFyIHZlcnRpY2VzPVtdO3ZhciBub3JtYWxzPVtdO3ZhciB1dnM9W107Ly8gc29tZSBoZWxwZXIgdmFyaWFibGVzCnZhciByYWRpdXM9aW5uZXJSYWRpdXM7dmFyIHJhZGl1c1N0ZXA9KG91dGVyUmFkaXVzLWlubmVyUmFkaXVzKS9waGlTZWdtZW50czt2YXIgdmVydGV4PW5ldyBWZWN0b3IzKCk7dmFyIHV2PW5ldyBWZWN0b3IyKCk7Ly8gZ2VuZXJhdGUgdmVydGljZXMsIG5vcm1hbHMgYW5kIHV2cwpmb3IodmFyIGo9MDtqPD1waGlTZWdtZW50cztqKyspe2Zvcih2YXIgX2kyMzE9MDtfaTIzMTw9dGhldGFTZWdtZW50cztfaTIzMSsrKXsvLyB2YWx1ZXMgYXJlIGdlbmVyYXRlIGZyb20gdGhlIGluc2lkZSBvZiB0aGUgcmluZyB0byB0aGUgb3V0c2lkZQp2YXIgc2VnbWVudD10aGV0YVN0YXJ0K19pMjMxL3RoZXRhU2VnbWVudHMqdGhldGFMZW5ndGg7Ly8gdmVydGV4CnZlcnRleC54PXJhZGl1cypNYXRoLmNvcyhzZWdtZW50KTt2ZXJ0ZXgueT1yYWRpdXMqTWF0aC5zaW4oc2VnbWVudCk7dmVydGljZXMucHVzaCh2ZXJ0ZXgueCx2ZXJ0ZXgueSx2ZXJ0ZXgueik7Ly8gbm9ybWFsCm5vcm1hbHMucHVzaCgwLDAsMSk7Ly8gdXYKdXYueD0odmVydGV4Lngvb3V0ZXJSYWRpdXMrMSkvMjt1di55PSh2ZXJ0ZXgueS9vdXRlclJhZGl1cysxKS8yO3V2cy5wdXNoKHV2LngsdXYueSk7fS8vIGluY3JlYXNlIHRoZSByYWRpdXMgZm9yIG5leHQgcm93IG9mIHZlcnRpY2VzCnJhZGl1cys9cmFkaXVzU3RlcDt9Ly8gaW5kaWNlcwpmb3IodmFyIF9qMTA9MDtfajEwPHBoaVNlZ21lbnRzO19qMTArKyl7dmFyIHRoZXRhU2VnbWVudExldmVsPV9qMTAqKHRoZXRhU2VnbWVudHMrMSk7Zm9yKHZhciBfaTIzMj0wO19pMjMyPHRoZXRhU2VnbWVudHM7X2kyMzIrKyl7dmFyIF9zZWdtZW50PV9pMjMyK3RoZXRhU2VnbWVudExldmVsO3ZhciBhPV9zZWdtZW50O3ZhciBiPV9zZWdtZW50K3RoZXRhU2VnbWVudHMrMTt2YXIgYz1fc2VnbWVudCt0aGV0YVNlZ21lbnRzKzI7dmFyIGQ9X3NlZ21lbnQrMTsvLyBmYWNlcwppbmRpY2VzLnB1c2goYSxiLGQpO2luZGljZXMucHVzaChiLGMsZCk7fX0vLyBidWlsZCBnZW9tZXRyeQpfdGhpczcxLnNldEluZGV4KGluZGljZXMpO190aGlzNzEuc2V0QXR0cmlidXRlKCdwb3NpdGlvbicsbmV3IEZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUodmVydGljZXMsMykpO190aGlzNzEuc2V0QXR0cmlidXRlKCdub3JtYWwnLG5ldyBGbG9hdDMyQnVmZmVyQXR0cmlidXRlKG5vcm1hbHMsMykpO190aGlzNzEuc2V0QXR0cmlidXRlKCd1dicsbmV3IEZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUodXZzLDIpKTtyZXR1cm4gX3RoaXM3MTt9X2NyZWF0ZUNsYXNzKFJpbmdHZW9tZXRyeSxudWxsLFt7a2V5OiJmcm9tSlNPTiIsdmFsdWU6ZnVuY3Rpb24gZnJvbUpTT04oZGF0YSl7cmV0dXJuIG5ldyBSaW5nR2VvbWV0cnkoZGF0YS5pbm5lclJhZGl1cyxkYXRhLm91dGVyUmFkaXVzLGRhdGEudGhldGFTZWdtZW50cyxkYXRhLnBoaVNlZ21lbnRzLGRhdGEudGhldGFTdGFydCxkYXRhLnRoZXRhTGVuZ3RoKTt9fV0pO3JldHVybiBSaW5nR2VvbWV0cnk7fShCdWZmZXJHZW9tZXRyeSk7dmFyIFNoYXBlR2VvbWV0cnk9LyojX19QVVJFX18qL2Z1bmN0aW9uKF9CdWZmZXJHZW9tZXRyeTEwKXtfaW5oZXJpdHMoU2hhcGVHZW9tZXRyeSxfQnVmZmVyR2VvbWV0cnkxMCk7dmFyIF9zdXBlcjgyPV9jcmVhdGVTdXBlcihTaGFwZUdlb21ldHJ5KTtmdW5jdGlvbiBTaGFwZUdlb21ldHJ5KCl7dmFyIF90aGlzNzI7dmFyIHNoYXBlcz1hcmd1bWVudHMubGVuZ3RoPjAmJmFyZ3VtZW50c1swXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMF06bmV3IFNoYXBlKFtuZXcgVmVjdG9yMigwLDAuNSksbmV3IFZlY3RvcjIoLTAuNSwtMC41KSxuZXcgVmVjdG9yMigwLjUsLTAuNSldKTt2YXIgY3VydmVTZWdtZW50cz1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMV06MTI7X2NsYXNzQ2FsbENoZWNrKHRoaXMsU2hhcGVHZW9tZXRyeSk7X3RoaXM3Mj1fc3VwZXI4Mi5jYWxsKHRoaXMpO190aGlzNzIudHlwZT0nU2hhcGVHZW9tZXRyeSc7X3RoaXM3Mi5wYXJhbWV0ZXJzPXtzaGFwZXM6c2hhcGVzLGN1cnZlU2VnbWVudHM6Y3VydmVTZWdtZW50c307Ly8gYnVmZmVycwp2YXIgaW5kaWNlcz1bXTt2YXIgdmVydGljZXM9W107dmFyIG5vcm1hbHM9W107dmFyIHV2cz1bXTsvLyBoZWxwZXIgdmFyaWFibGVzCnZhciBncm91cFN0YXJ0PTA7dmFyIGdyb3VwQ291bnQ9MDsvLyBhbGxvdyBzaW5nbGUgYW5kIGFycmF5IHZhbHVlcyBmb3IgInNoYXBlcyIgcGFyYW1ldGVyCmlmKEFycmF5LmlzQXJyYXkoc2hhcGVzKT09PWZhbHNlKXthZGRTaGFwZShzaGFwZXMpO31lbHNle2Zvcih2YXIgX2kyMzM9MDtfaTIzMzxzaGFwZXMubGVuZ3RoO19pMjMzKyspe2FkZFNoYXBlKHNoYXBlc1tfaTIzM10pO190aGlzNzIuYWRkR3JvdXAoZ3JvdXBTdGFydCxncm91cENvdW50LF9pMjMzKTsvLyBlbmFibGVzIE11bHRpTWF0ZXJpYWwgc3VwcG9ydApncm91cFN0YXJ0Kz1ncm91cENvdW50O2dyb3VwQ291bnQ9MDt9fS8vIGJ1aWxkIGdlb21ldHJ5Cl90aGlzNzIuc2V0SW5kZXgoaW5kaWNlcyk7X3RoaXM3Mi5zZXRBdHRyaWJ1dGUoJ3Bvc2l0aW9uJyxuZXcgRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZSh2ZXJ0aWNlcywzKSk7X3RoaXM3Mi5zZXRBdHRyaWJ1dGUoJ25vcm1hbCcsbmV3IEZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUobm9ybWFscywzKSk7X3RoaXM3Mi5zZXRBdHRyaWJ1dGUoJ3V2JyxuZXcgRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZSh1dnMsMikpOy8vIGhlbHBlciBmdW5jdGlvbnMKZnVuY3Rpb24gYWRkU2hhcGUoc2hhcGUpe3ZhciBpbmRleE9mZnNldD12ZXJ0aWNlcy5sZW5ndGgvMzt2YXIgcG9pbnRzPXNoYXBlLmV4dHJhY3RQb2ludHMoY3VydmVTZWdtZW50cyk7dmFyIHNoYXBlVmVydGljZXM9cG9pbnRzLnNoYXBlO3ZhciBzaGFwZUhvbGVzPXBvaW50cy5ob2xlczsvLyBjaGVjayBkaXJlY3Rpb24gb2YgdmVydGljZXMKaWYoU2hhcGVVdGlscy5pc0Nsb2NrV2lzZShzaGFwZVZlcnRpY2VzKT09PWZhbHNlKXtzaGFwZVZlcnRpY2VzPXNoYXBlVmVydGljZXMucmV2ZXJzZSgpO31mb3IodmFyIF9pMjM0PTAsbD1zaGFwZUhvbGVzLmxlbmd0aDtfaTIzNDxsO19pMjM0Kyspe3ZhciBzaGFwZUhvbGU9c2hhcGVIb2xlc1tfaTIzNF07aWYoU2hhcGVVdGlscy5pc0Nsb2NrV2lzZShzaGFwZUhvbGUpPT09dHJ1ZSl7c2hhcGVIb2xlc1tfaTIzNF09c2hhcGVIb2xlLnJldmVyc2UoKTt9fXZhciBmYWNlcz1TaGFwZVV0aWxzLnRyaWFuZ3VsYXRlU2hhcGUoc2hhcGVWZXJ0aWNlcyxzaGFwZUhvbGVzKTsvLyBqb2luIHZlcnRpY2VzIG9mIGlubmVyIGFuZCBvdXRlciBwYXRocyB0byBhIHNpbmdsZSBhcnJheQpmb3IodmFyIF9pMjM1PTAsX2w4PXNoYXBlSG9sZXMubGVuZ3RoO19pMjM1PF9sODtfaTIzNSsrKXt2YXIgX3NoYXBlSG9sZT1zaGFwZUhvbGVzW19pMjM1XTtzaGFwZVZlcnRpY2VzPXNoYXBlVmVydGljZXMuY29uY2F0KF9zaGFwZUhvbGUpO30vLyB2ZXJ0aWNlcywgbm9ybWFscywgdXZzCmZvcih2YXIgX2kyMzY9MCxfbDk9c2hhcGVWZXJ0aWNlcy5sZW5ndGg7X2kyMzY8X2w5O19pMjM2Kyspe3ZhciBfdmVydGV4PXNoYXBlVmVydGljZXNbX2kyMzZdO3ZlcnRpY2VzLnB1c2goX3ZlcnRleC54LF92ZXJ0ZXgueSwwKTtub3JtYWxzLnB1c2goMCwwLDEpO3V2cy5wdXNoKF92ZXJ0ZXgueCxfdmVydGV4LnkpOy8vIHdvcmxkIHV2cwp9Ly8gaW5jaWRlcwpmb3IodmFyIF9pMjM3PTAsX2wxMD1mYWNlcy5sZW5ndGg7X2kyMzc8X2wxMDtfaTIzNysrKXt2YXIgZmFjZT1mYWNlc1tfaTIzN107dmFyIGE9ZmFjZVswXStpbmRleE9mZnNldDt2YXIgYj1mYWNlWzFdK2luZGV4T2Zmc2V0O3ZhciBjPWZhY2VbMl0raW5kZXhPZmZzZXQ7aW5kaWNlcy5wdXNoKGEsYixjKTtncm91cENvdW50Kz0zO319cmV0dXJuIF90aGlzNzI7fV9jcmVhdGVDbGFzcyhTaGFwZUdlb21ldHJ5LFt7a2V5OiJ0b0pTT04iLHZhbHVlOmZ1bmN0aW9uIHRvSlNPTigpe3ZhciBkYXRhPV9nZXQoX2dldFByb3RvdHlwZU9mKFNoYXBlR2VvbWV0cnkucHJvdG90eXBlKSwidG9KU09OIix0aGlzKS5jYWxsKHRoaXMpO3ZhciBzaGFwZXM9dGhpcy5wYXJhbWV0ZXJzLnNoYXBlcztyZXR1cm4gX3RvSlNPTihzaGFwZXMsZGF0YSk7fX1dLFt7a2V5OiJmcm9tSlNPTiIsdmFsdWU6ZnVuY3Rpb24gZnJvbUpTT04oZGF0YSxzaGFwZXMpe3ZhciBnZW9tZXRyeVNoYXBlcz1bXTtmb3IodmFyIGo9MCxqbD1kYXRhLnNoYXBlcy5sZW5ndGg7ajxqbDtqKyspe3ZhciBzaGFwZT1zaGFwZXNbZGF0YS5zaGFwZXNbal1dO2dlb21ldHJ5U2hhcGVzLnB1c2goc2hhcGUpO31yZXR1cm4gbmV3IFNoYXBlR2VvbWV0cnkoZ2VvbWV0cnlTaGFwZXMsZGF0YS5jdXJ2ZVNlZ21lbnRzKTt9fV0pO3JldHVybiBTaGFwZUdlb21ldHJ5O30oQnVmZmVyR2VvbWV0cnkpO2Z1bmN0aW9uIF90b0pTT04oc2hhcGVzLGRhdGEpe2RhdGEuc2hhcGVzPVtdO2lmKEFycmF5LmlzQXJyYXkoc2hhcGVzKSl7Zm9yKHZhciBfaTIzOD0wLGw9c2hhcGVzLmxlbmd0aDtfaTIzODxsO19pMjM4Kyspe3ZhciBzaGFwZT1zaGFwZXNbX2kyMzhdO2RhdGEuc2hhcGVzLnB1c2goc2hhcGUudXVpZCk7fX1lbHNle2RhdGEuc2hhcGVzLnB1c2goc2hhcGVzLnV1aWQpO31yZXR1cm4gZGF0YTt9dmFyIFNwaGVyZUdlb21ldHJ5PS8qI19fUFVSRV9fKi9mdW5jdGlvbihfQnVmZmVyR2VvbWV0cnkxMSl7X2luaGVyaXRzKFNwaGVyZUdlb21ldHJ5LF9CdWZmZXJHZW9tZXRyeTExKTt2YXIgX3N1cGVyODM9X2NyZWF0ZVN1cGVyKFNwaGVyZUdlb21ldHJ5KTtmdW5jdGlvbiBTcGhlcmVHZW9tZXRyeSgpe3ZhciBfdGhpczczO3ZhciByYWRpdXM9YXJndW1lbnRzLmxlbmd0aD4wJiZhcmd1bWVudHNbMF0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzBdOjE7dmFyIHdpZHRoU2VnbWVudHM9YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzFdOjMyO3ZhciBoZWlnaHRTZWdtZW50cz1hcmd1bWVudHMubGVuZ3RoPjImJmFyZ3VtZW50c1syXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMl06MTY7dmFyIHBoaVN0YXJ0PWFyZ3VtZW50cy5sZW5ndGg+MyYmYXJndW1lbnRzWzNdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1szXTowO3ZhciBwaGlMZW5ndGg9YXJndW1lbnRzLmxlbmd0aD40JiZhcmd1bWVudHNbNF0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzRdOk1hdGguUEkqMjt2YXIgdGhldGFTdGFydD1hcmd1bWVudHMubGVuZ3RoPjUmJmFyZ3VtZW50c1s1XSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbNV06MDt2YXIgdGhldGFMZW5ndGg9YXJndW1lbnRzLmxlbmd0aD42JiZhcmd1bWVudHNbNl0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzZdOk1hdGguUEk7X2NsYXNzQ2FsbENoZWNrKHRoaXMsU3BoZXJlR2VvbWV0cnkpO190aGlzNzM9X3N1cGVyODMuY2FsbCh0aGlzKTtfdGhpczczLnR5cGU9J1NwaGVyZUdlb21ldHJ5JztfdGhpczczLnBhcmFtZXRlcnM9e3JhZGl1czpyYWRpdXMsd2lkdGhTZWdtZW50czp3aWR0aFNlZ21lbnRzLGhlaWdodFNlZ21lbnRzOmhlaWdodFNlZ21lbnRzLHBoaVN0YXJ0OnBoaVN0YXJ0LHBoaUxlbmd0aDpwaGlMZW5ndGgsdGhldGFTdGFydDp0aGV0YVN0YXJ0LHRoZXRhTGVuZ3RoOnRoZXRhTGVuZ3RofTt3aWR0aFNlZ21lbnRzPU1hdGgubWF4KDMsTWF0aC5mbG9vcih3aWR0aFNlZ21lbnRzKSk7aGVpZ2h0U2VnbWVudHM9TWF0aC5tYXgoMixNYXRoLmZsb29yKGhlaWdodFNlZ21lbnRzKSk7dmFyIHRoZXRhRW5kPU1hdGgubWluKHRoZXRhU3RhcnQrdGhldGFMZW5ndGgsTWF0aC5QSSk7dmFyIGluZGV4PTA7dmFyIGdyaWQ9W107dmFyIHZlcnRleD1uZXcgVmVjdG9yMygpO3ZhciBub3JtYWw9bmV3IFZlY3RvcjMoKTsvLyBidWZmZXJzCnZhciBpbmRpY2VzPVtdO3ZhciB2ZXJ0aWNlcz1bXTt2YXIgbm9ybWFscz1bXTt2YXIgdXZzPVtdOy8vIGdlbmVyYXRlIHZlcnRpY2VzLCBub3JtYWxzIGFuZCB1dnMKZm9yKHZhciBpeT0wO2l5PD1oZWlnaHRTZWdtZW50cztpeSsrKXt2YXIgdmVydGljZXNSb3c9W107dmFyIHY9aXkvaGVpZ2h0U2VnbWVudHM7Ly8gc3BlY2lhbCBjYXNlIGZvciB0aGUgcG9sZXMKdmFyIHVPZmZzZXQ9MDtpZihpeT09MCYmdGhldGFTdGFydD09MCl7dU9mZnNldD0wLjUvd2lkdGhTZWdtZW50czt9ZWxzZSBpZihpeT09aGVpZ2h0U2VnbWVudHMmJnRoZXRhRW5kPT1NYXRoLlBJKXt1T2Zmc2V0PS0wLjUvd2lkdGhTZWdtZW50czt9Zm9yKHZhciBpeD0wO2l4PD13aWR0aFNlZ21lbnRzO2l4Kyspe3ZhciB1PWl4L3dpZHRoU2VnbWVudHM7Ly8gdmVydGV4CnZlcnRleC54PS1yYWRpdXMqTWF0aC5jb3MocGhpU3RhcnQrdSpwaGlMZW5ndGgpKk1hdGguc2luKHRoZXRhU3RhcnQrdip0aGV0YUxlbmd0aCk7dmVydGV4Lnk9cmFkaXVzKk1hdGguY29zKHRoZXRhU3RhcnQrdip0aGV0YUxlbmd0aCk7dmVydGV4Lno9cmFkaXVzKk1hdGguc2luKHBoaVN0YXJ0K3UqcGhpTGVuZ3RoKSpNYXRoLnNpbih0aGV0YVN0YXJ0K3YqdGhldGFMZW5ndGgpO3ZlcnRpY2VzLnB1c2godmVydGV4LngsdmVydGV4LnksdmVydGV4LnopOy8vIG5vcm1hbApub3JtYWwuY29weSh2ZXJ0ZXgpLm5vcm1hbGl6ZSgpO25vcm1hbHMucHVzaChub3JtYWwueCxub3JtYWwueSxub3JtYWwueik7Ly8gdXYKdXZzLnB1c2godSt1T2Zmc2V0LDEtdik7dmVydGljZXNSb3cucHVzaChpbmRleCsrKTt9Z3JpZC5wdXNoKHZlcnRpY2VzUm93KTt9Ly8gaW5kaWNlcwpmb3IodmFyIF9peTM9MDtfaXkzPGhlaWdodFNlZ21lbnRzO19peTMrKyl7Zm9yKHZhciBfaXgzPTA7X2l4Mzx3aWR0aFNlZ21lbnRzO19peDMrKyl7dmFyIGE9Z3JpZFtfaXkzXVtfaXgzKzFdO3ZhciBiPWdyaWRbX2l5M11bX2l4M107dmFyIGM9Z3JpZFtfaXkzKzFdW19peDNdO3ZhciBkPWdyaWRbX2l5MysxXVtfaXgzKzFdO2lmKF9peTMhPT0wfHx0aGV0YVN0YXJ0PjApaW5kaWNlcy5wdXNoKGEsYixkKTtpZihfaXkzIT09aGVpZ2h0U2VnbWVudHMtMXx8dGhldGFFbmQ8TWF0aC5QSSlpbmRpY2VzLnB1c2goYixjLGQpO319Ly8gYnVpbGQgZ2VvbWV0cnkKX3RoaXM3My5zZXRJbmRleChpbmRpY2VzKTtfdGhpczczLnNldEF0dHJpYnV0ZSgncG9zaXRpb24nLG5ldyBGbG9hdDMyQnVmZmVyQXR0cmlidXRlKHZlcnRpY2VzLDMpKTtfdGhpczczLnNldEF0dHJpYnV0ZSgnbm9ybWFsJyxuZXcgRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZShub3JtYWxzLDMpKTtfdGhpczczLnNldEF0dHJpYnV0ZSgndXYnLG5ldyBGbG9hdDMyQnVmZmVyQXR0cmlidXRlKHV2cywyKSk7cmV0dXJuIF90aGlzNzM7fV9jcmVhdGVDbGFzcyhTcGhlcmVHZW9tZXRyeSxudWxsLFt7a2V5OiJmcm9tSlNPTiIsdmFsdWU6ZnVuY3Rpb24gZnJvbUpTT04oZGF0YSl7cmV0dXJuIG5ldyBTcGhlcmVHZW9tZXRyeShkYXRhLnJhZGl1cyxkYXRhLndpZHRoU2VnbWVudHMsZGF0YS5oZWlnaHRTZWdtZW50cyxkYXRhLnBoaVN0YXJ0LGRhdGEucGhpTGVuZ3RoLGRhdGEudGhldGFTdGFydCxkYXRhLnRoZXRhTGVuZ3RoKTt9fV0pO3JldHVybiBTcGhlcmVHZW9tZXRyeTt9KEJ1ZmZlckdlb21ldHJ5KTt2YXIgVGV0cmFoZWRyb25HZW9tZXRyeT0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX1BvbHloZWRyb25HZW9tZXRyeTQpe19pbmhlcml0cyhUZXRyYWhlZHJvbkdlb21ldHJ5LF9Qb2x5aGVkcm9uR2VvbWV0cnk0KTt2YXIgX3N1cGVyODQ9X2NyZWF0ZVN1cGVyKFRldHJhaGVkcm9uR2VvbWV0cnkpO2Z1bmN0aW9uIFRldHJhaGVkcm9uR2VvbWV0cnkoKXt2YXIgX3RoaXM3NDt2YXIgcmFkaXVzPWFyZ3VtZW50cy5sZW5ndGg+MCYmYXJndW1lbnRzWzBdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1swXToxO3ZhciBkZXRhaWw9YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzFdOjA7X2NsYXNzQ2FsbENoZWNrKHRoaXMsVGV0cmFoZWRyb25HZW9tZXRyeSk7dmFyIHZlcnRpY2VzPVsxLDEsMSwtMSwtMSwxLC0xLDEsLTEsMSwtMSwtMV07dmFyIGluZGljZXM9WzIsMSwwLDAsMywyLDEsMywwLDIsMywxXTtfdGhpczc0PV9zdXBlcjg0LmNhbGwodGhpcyx2ZXJ0aWNlcyxpbmRpY2VzLHJhZGl1cyxkZXRhaWwpO190aGlzNzQudHlwZT0nVGV0cmFoZWRyb25HZW9tZXRyeSc7X3RoaXM3NC5wYXJhbWV0ZXJzPXtyYWRpdXM6cmFkaXVzLGRldGFpbDpkZXRhaWx9O3JldHVybiBfdGhpczc0O31fY3JlYXRlQ2xhc3MoVGV0cmFoZWRyb25HZW9tZXRyeSxudWxsLFt7a2V5OiJmcm9tSlNPTiIsdmFsdWU6ZnVuY3Rpb24gZnJvbUpTT04oZGF0YSl7cmV0dXJuIG5ldyBUZXRyYWhlZHJvbkdlb21ldHJ5KGRhdGEucmFkaXVzLGRhdGEuZGV0YWlsKTt9fV0pO3JldHVybiBUZXRyYWhlZHJvbkdlb21ldHJ5O30oUG9seWhlZHJvbkdlb21ldHJ5KTt2YXIgVG9ydXNHZW9tZXRyeT0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX0J1ZmZlckdlb21ldHJ5MTIpe19pbmhlcml0cyhUb3J1c0dlb21ldHJ5LF9CdWZmZXJHZW9tZXRyeTEyKTt2YXIgX3N1cGVyODU9X2NyZWF0ZVN1cGVyKFRvcnVzR2VvbWV0cnkpO2Z1bmN0aW9uIFRvcnVzR2VvbWV0cnkoKXt2YXIgX3RoaXM3NTt2YXIgcmFkaXVzPWFyZ3VtZW50cy5sZW5ndGg+MCYmYXJndW1lbnRzWzBdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1swXToxO3ZhciB0dWJlPWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1sxXTowLjQ7dmFyIHJhZGlhbFNlZ21lbnRzPWFyZ3VtZW50cy5sZW5ndGg+MiYmYXJndW1lbnRzWzJdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1syXTo4O3ZhciB0dWJ1bGFyU2VnbWVudHM9YXJndW1lbnRzLmxlbmd0aD4zJiZhcmd1bWVudHNbM10hPT11bmRlZmluZWQ/YXJndW1lbnRzWzNdOjY7dmFyIGFyYz1hcmd1bWVudHMubGVuZ3RoPjQmJmFyZ3VtZW50c1s0XSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbNF06TWF0aC5QSSoyO19jbGFzc0NhbGxDaGVjayh0aGlzLFRvcnVzR2VvbWV0cnkpO190aGlzNzU9X3N1cGVyODUuY2FsbCh0aGlzKTtfdGhpczc1LnR5cGU9J1RvcnVzR2VvbWV0cnknO190aGlzNzUucGFyYW1ldGVycz17cmFkaXVzOnJhZGl1cyx0dWJlOnR1YmUscmFkaWFsU2VnbWVudHM6cmFkaWFsU2VnbWVudHMsdHVidWxhclNlZ21lbnRzOnR1YnVsYXJTZWdtZW50cyxhcmM6YXJjfTtyYWRpYWxTZWdtZW50cz1NYXRoLmZsb29yKHJhZGlhbFNlZ21lbnRzKTt0dWJ1bGFyU2VnbWVudHM9TWF0aC5mbG9vcih0dWJ1bGFyU2VnbWVudHMpOy8vIGJ1ZmZlcnMKdmFyIGluZGljZXM9W107dmFyIHZlcnRpY2VzPVtdO3ZhciBub3JtYWxzPVtdO3ZhciB1dnM9W107Ly8gaGVscGVyIHZhcmlhYmxlcwp2YXIgY2VudGVyPW5ldyBWZWN0b3IzKCk7dmFyIHZlcnRleD1uZXcgVmVjdG9yMygpO3ZhciBub3JtYWw9bmV3IFZlY3RvcjMoKTsvLyBnZW5lcmF0ZSB2ZXJ0aWNlcywgbm9ybWFscyBhbmQgdXZzCmZvcih2YXIgaj0wO2o8PXJhZGlhbFNlZ21lbnRzO2orKyl7Zm9yKHZhciBfaTIzOT0wO19pMjM5PD10dWJ1bGFyU2VnbWVudHM7X2kyMzkrKyl7dmFyIHU9X2kyMzkvdHVidWxhclNlZ21lbnRzKmFyYzt2YXIgdj1qL3JhZGlhbFNlZ21lbnRzKk1hdGguUEkqMjsvLyB2ZXJ0ZXgKdmVydGV4Lng9KHJhZGl1cyt0dWJlKk1hdGguY29zKHYpKSpNYXRoLmNvcyh1KTt2ZXJ0ZXgueT0ocmFkaXVzK3R1YmUqTWF0aC5jb3ModikpKk1hdGguc2luKHUpO3ZlcnRleC56PXR1YmUqTWF0aC5zaW4odik7dmVydGljZXMucHVzaCh2ZXJ0ZXgueCx2ZXJ0ZXgueSx2ZXJ0ZXgueik7Ly8gbm9ybWFsCmNlbnRlci54PXJhZGl1cypNYXRoLmNvcyh1KTtjZW50ZXIueT1yYWRpdXMqTWF0aC5zaW4odSk7bm9ybWFsLnN1YlZlY3RvcnModmVydGV4LGNlbnRlcikubm9ybWFsaXplKCk7bm9ybWFscy5wdXNoKG5vcm1hbC54LG5vcm1hbC55LG5vcm1hbC56KTsvLyB1dgp1dnMucHVzaChfaTIzOS90dWJ1bGFyU2VnbWVudHMpO3V2cy5wdXNoKGovcmFkaWFsU2VnbWVudHMpO319Ly8gZ2VuZXJhdGUgaW5kaWNlcwpmb3IodmFyIF9qMTE9MTtfajExPD1yYWRpYWxTZWdtZW50cztfajExKyspe2Zvcih2YXIgX2kyNDA9MTtfaTI0MDw9dHVidWxhclNlZ21lbnRzO19pMjQwKyspey8vIGluZGljZXMKdmFyIGE9KHR1YnVsYXJTZWdtZW50cysxKSpfajExK19pMjQwLTE7dmFyIGI9KHR1YnVsYXJTZWdtZW50cysxKSooX2oxMS0xKStfaTI0MC0xO3ZhciBjPSh0dWJ1bGFyU2VnbWVudHMrMSkqKF9qMTEtMSkrX2kyNDA7dmFyIGQ9KHR1YnVsYXJTZWdtZW50cysxKSpfajExK19pMjQwOy8vIGZhY2VzCmluZGljZXMucHVzaChhLGIsZCk7aW5kaWNlcy5wdXNoKGIsYyxkKTt9fS8vIGJ1aWxkIGdlb21ldHJ5Cl90aGlzNzUuc2V0SW5kZXgoaW5kaWNlcyk7X3RoaXM3NS5zZXRBdHRyaWJ1dGUoJ3Bvc2l0aW9uJyxuZXcgRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZSh2ZXJ0aWNlcywzKSk7X3RoaXM3NS5zZXRBdHRyaWJ1dGUoJ25vcm1hbCcsbmV3IEZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUobm9ybWFscywzKSk7X3RoaXM3NS5zZXRBdHRyaWJ1dGUoJ3V2JyxuZXcgRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZSh1dnMsMikpO3JldHVybiBfdGhpczc1O31fY3JlYXRlQ2xhc3MoVG9ydXNHZW9tZXRyeSxudWxsLFt7a2V5OiJmcm9tSlNPTiIsdmFsdWU6ZnVuY3Rpb24gZnJvbUpTT04oZGF0YSl7cmV0dXJuIG5ldyBUb3J1c0dlb21ldHJ5KGRhdGEucmFkaXVzLGRhdGEudHViZSxkYXRhLnJhZGlhbFNlZ21lbnRzLGRhdGEudHVidWxhclNlZ21lbnRzLGRhdGEuYXJjKTt9fV0pO3JldHVybiBUb3J1c0dlb21ldHJ5O30oQnVmZmVyR2VvbWV0cnkpO3ZhciBUb3J1c0tub3RHZW9tZXRyeT0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX0J1ZmZlckdlb21ldHJ5MTMpe19pbmhlcml0cyhUb3J1c0tub3RHZW9tZXRyeSxfQnVmZmVyR2VvbWV0cnkxMyk7dmFyIF9zdXBlcjg2PV9jcmVhdGVTdXBlcihUb3J1c0tub3RHZW9tZXRyeSk7ZnVuY3Rpb24gVG9ydXNLbm90R2VvbWV0cnkoKXt2YXIgX3RoaXM3Njt2YXIgcmFkaXVzPWFyZ3VtZW50cy5sZW5ndGg+MCYmYXJndW1lbnRzWzBdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1swXToxO3ZhciB0dWJlPWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1sxXTowLjQ7dmFyIHR1YnVsYXJTZWdtZW50cz1hcmd1bWVudHMubGVuZ3RoPjImJmFyZ3VtZW50c1syXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMl06NjQ7dmFyIHJhZGlhbFNlZ21lbnRzPWFyZ3VtZW50cy5sZW5ndGg+MyYmYXJndW1lbnRzWzNdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1szXTo4O3ZhciBwPWFyZ3VtZW50cy5sZW5ndGg+NCYmYXJndW1lbnRzWzRdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1s0XToyO3ZhciBxPWFyZ3VtZW50cy5sZW5ndGg+NSYmYXJndW1lbnRzWzVdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1s1XTozO19jbGFzc0NhbGxDaGVjayh0aGlzLFRvcnVzS25vdEdlb21ldHJ5KTtfdGhpczc2PV9zdXBlcjg2LmNhbGwodGhpcyk7X3RoaXM3Ni50eXBlPSdUb3J1c0tub3RHZW9tZXRyeSc7X3RoaXM3Ni5wYXJhbWV0ZXJzPXtyYWRpdXM6cmFkaXVzLHR1YmU6dHViZSx0dWJ1bGFyU2VnbWVudHM6dHVidWxhclNlZ21lbnRzLHJhZGlhbFNlZ21lbnRzOnJhZGlhbFNlZ21lbnRzLHA6cCxxOnF9O3R1YnVsYXJTZWdtZW50cz1NYXRoLmZsb29yKHR1YnVsYXJTZWdtZW50cyk7cmFkaWFsU2VnbWVudHM9TWF0aC5mbG9vcihyYWRpYWxTZWdtZW50cyk7Ly8gYnVmZmVycwp2YXIgaW5kaWNlcz1bXTt2YXIgdmVydGljZXM9W107dmFyIG5vcm1hbHM9W107dmFyIHV2cz1bXTsvLyBoZWxwZXIgdmFyaWFibGVzCnZhciB2ZXJ0ZXg9bmV3IFZlY3RvcjMoKTt2YXIgbm9ybWFsPW5ldyBWZWN0b3IzKCk7dmFyIFAxPW5ldyBWZWN0b3IzKCk7dmFyIFAyPW5ldyBWZWN0b3IzKCk7dmFyIEI9bmV3IFZlY3RvcjMoKTt2YXIgVD1uZXcgVmVjdG9yMygpO3ZhciBOPW5ldyBWZWN0b3IzKCk7Ly8gZ2VuZXJhdGUgdmVydGljZXMsIG5vcm1hbHMgYW5kIHV2cwpmb3IodmFyIF9pMjQxPTA7X2kyNDE8PXR1YnVsYXJTZWdtZW50czsrK19pMjQxKXsvLyB0aGUgcmFkaWFuICJ1IiBpcyB1c2VkIHRvIGNhbGN1bGF0ZSB0aGUgcG9zaXRpb24gb24gdGhlIHRvcnVzIGN1cnZlIG9mIHRoZSBjdXJyZW50IHR1YnVsYXIgc2VnZW1lbnQKdmFyIHU9X2kyNDEvdHVidWxhclNlZ21lbnRzKnAqTWF0aC5QSSoyOy8vIG5vdyB3ZSBjYWxjdWxhdGUgdHdvIHBvaW50cy4gUDEgaXMgb3VyIGN1cnJlbnQgcG9zaXRpb24gb24gdGhlIGN1cnZlLCBQMiBpcyBhIGxpdHRsZSBmYXJ0aGVyIGFoZWFkLgovLyB0aGVzZSBwb2ludHMgYXJlIHVzZWQgdG8gY3JlYXRlIGEgc3BlY2lhbCAiY29vcmRpbmF0ZSBzcGFjZSIsIHdoaWNoIGlzIG5lY2Vzc2FyeSB0byBjYWxjdWxhdGUgdGhlIGNvcnJlY3QgdmVydGV4IHBvc2l0aW9ucwpjYWxjdWxhdGVQb3NpdGlvbk9uQ3VydmUodSxwLHEscmFkaXVzLFAxKTtjYWxjdWxhdGVQb3NpdGlvbk9uQ3VydmUodSswLjAxLHAscSxyYWRpdXMsUDIpOy8vIGNhbGN1bGF0ZSBvcnRob25vcm1hbCBiYXNpcwpULnN1YlZlY3RvcnMoUDIsUDEpO04uYWRkVmVjdG9ycyhQMixQMSk7Qi5jcm9zc1ZlY3RvcnMoVCxOKTtOLmNyb3NzVmVjdG9ycyhCLFQpOy8vIG5vcm1hbGl6ZSBCLCBOLiBUIGNhbiBiZSBpZ25vcmVkLCB3ZSBkb24ndCB1c2UgaXQKQi5ub3JtYWxpemUoKTtOLm5vcm1hbGl6ZSgpO2Zvcih2YXIgaj0wO2o8PXJhZGlhbFNlZ21lbnRzOysrail7Ly8gbm93IGNhbGN1bGF0ZSB0aGUgdmVydGljZXMuIHRoZXkgYXJlIG5vdGhpbmcgbW9yZSB0aGFuIGFuIGV4dHJ1c2lvbiBvZiB0aGUgdG9ydXMgY3VydmUuCi8vIGJlY2F1c2Ugd2UgZXh0cnVkZSBhIHNoYXBlIGluIHRoZSB4eS1wbGFuZSwgdGhlcmUgaXMgbm8gbmVlZCB0byBjYWxjdWxhdGUgYSB6LXZhbHVlLgp2YXIgdj1qL3JhZGlhbFNlZ21lbnRzKk1hdGguUEkqMjt2YXIgY3g9LXR1YmUqTWF0aC5jb3Modik7dmFyIGN5PXR1YmUqTWF0aC5zaW4odik7Ly8gbm93IGNhbGN1bGF0ZSB0aGUgZmluYWwgdmVydGV4IHBvc2l0aW9uLgovLyBmaXJzdCB3ZSBvcmllbnQgdGhlIGV4dHJ1c2lvbiB3aXRoIG91ciBiYXNpcyB2ZWN0b3MsIHRoZW4gd2UgYWRkIGl0IHRvIHRoZSBjdXJyZW50IHBvc2l0aW9uIG9uIHRoZSBjdXJ2ZQp2ZXJ0ZXgueD1QMS54KyhjeCpOLngrY3kqQi54KTt2ZXJ0ZXgueT1QMS55KyhjeCpOLnkrY3kqQi55KTt2ZXJ0ZXguej1QMS56KyhjeCpOLnorY3kqQi56KTt2ZXJ0aWNlcy5wdXNoKHZlcnRleC54LHZlcnRleC55LHZlcnRleC56KTsvLyBub3JtYWwgKFAxIGlzIGFsd2F5cyB0aGUgY2VudGVyL29yaWdpbiBvZiB0aGUgZXh0cnVzaW9uLCB0aHVzIHdlIGNhbiB1c2UgaXQgdG8gY2FsY3VsYXRlIHRoZSBub3JtYWwpCm5vcm1hbC5zdWJWZWN0b3JzKHZlcnRleCxQMSkubm9ybWFsaXplKCk7bm9ybWFscy5wdXNoKG5vcm1hbC54LG5vcm1hbC55LG5vcm1hbC56KTsvLyB1dgp1dnMucHVzaChfaTI0MS90dWJ1bGFyU2VnbWVudHMpO3V2cy5wdXNoKGovcmFkaWFsU2VnbWVudHMpO319Ly8gZ2VuZXJhdGUgaW5kaWNlcwpmb3IodmFyIF9qMTI9MTtfajEyPD10dWJ1bGFyU2VnbWVudHM7X2oxMisrKXtmb3IodmFyIF9pMjQyPTE7X2kyNDI8PXJhZGlhbFNlZ21lbnRzO19pMjQyKyspey8vIGluZGljZXMKdmFyIGE9KHJhZGlhbFNlZ21lbnRzKzEpKihfajEyLTEpKyhfaTI0Mi0xKTt2YXIgYj0ocmFkaWFsU2VnbWVudHMrMSkqX2oxMisoX2kyNDItMSk7dmFyIGM9KHJhZGlhbFNlZ21lbnRzKzEpKl9qMTIrX2kyNDI7dmFyIGQ9KHJhZGlhbFNlZ21lbnRzKzEpKihfajEyLTEpK19pMjQyOy8vIGZhY2VzCmluZGljZXMucHVzaChhLGIsZCk7aW5kaWNlcy5wdXNoKGIsYyxkKTt9fS8vIGJ1aWxkIGdlb21ldHJ5Cl90aGlzNzYuc2V0SW5kZXgoaW5kaWNlcyk7X3RoaXM3Ni5zZXRBdHRyaWJ1dGUoJ3Bvc2l0aW9uJyxuZXcgRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZSh2ZXJ0aWNlcywzKSk7X3RoaXM3Ni5zZXRBdHRyaWJ1dGUoJ25vcm1hbCcsbmV3IEZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUobm9ybWFscywzKSk7X3RoaXM3Ni5zZXRBdHRyaWJ1dGUoJ3V2JyxuZXcgRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZSh1dnMsMikpOy8vIHRoaXMgZnVuY3Rpb24gY2FsY3VsYXRlcyB0aGUgY3VycmVudCBwb3NpdGlvbiBvbiB0aGUgdG9ydXMgY3VydmUKZnVuY3Rpb24gY2FsY3VsYXRlUG9zaXRpb25PbkN1cnZlKHUscCxxLHJhZGl1cyxwb3NpdGlvbil7dmFyIGN1PU1hdGguY29zKHUpO3ZhciBzdT1NYXRoLnNpbih1KTt2YXIgcXVPdmVyUD1xL3AqdTt2YXIgY3M9TWF0aC5jb3MocXVPdmVyUCk7cG9zaXRpb24ueD1yYWRpdXMqKDIrY3MpKjAuNSpjdTtwb3NpdGlvbi55PXJhZGl1cyooMitjcykqc3UqMC41O3Bvc2l0aW9uLno9cmFkaXVzKk1hdGguc2luKHF1T3ZlclApKjAuNTt9cmV0dXJuIF90aGlzNzY7fV9jcmVhdGVDbGFzcyhUb3J1c0tub3RHZW9tZXRyeSxudWxsLFt7a2V5OiJmcm9tSlNPTiIsdmFsdWU6ZnVuY3Rpb24gZnJvbUpTT04oZGF0YSl7cmV0dXJuIG5ldyBUb3J1c0tub3RHZW9tZXRyeShkYXRhLnJhZGl1cyxkYXRhLnR1YmUsZGF0YS50dWJ1bGFyU2VnbWVudHMsZGF0YS5yYWRpYWxTZWdtZW50cyxkYXRhLnAsZGF0YS5xKTt9fV0pO3JldHVybiBUb3J1c0tub3RHZW9tZXRyeTt9KEJ1ZmZlckdlb21ldHJ5KTt2YXIgVHViZUdlb21ldHJ5PS8qI19fUFVSRV9fKi9mdW5jdGlvbihfQnVmZmVyR2VvbWV0cnkxNCl7X2luaGVyaXRzKFR1YmVHZW9tZXRyeSxfQnVmZmVyR2VvbWV0cnkxNCk7dmFyIF9zdXBlcjg3PV9jcmVhdGVTdXBlcihUdWJlR2VvbWV0cnkpO2Z1bmN0aW9uIFR1YmVHZW9tZXRyeSgpe3ZhciBfdGhpczc3O3ZhciBwYXRoPWFyZ3VtZW50cy5sZW5ndGg+MCYmYXJndW1lbnRzWzBdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1swXTpuZXcgUXVhZHJhdGljQmV6aWVyQ3VydmUzKG5ldyBWZWN0b3IzKC0xLC0xLDApLG5ldyBWZWN0b3IzKC0xLDEsMCksbmV3IFZlY3RvcjMoMSwxLDApKTt2YXIgdHVidWxhclNlZ21lbnRzPWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1sxXTo2NDt2YXIgcmFkaXVzPWFyZ3VtZW50cy5sZW5ndGg+MiYmYXJndW1lbnRzWzJdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1syXToxO3ZhciByYWRpYWxTZWdtZW50cz1hcmd1bWVudHMubGVuZ3RoPjMmJmFyZ3VtZW50c1szXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbM106ODt2YXIgY2xvc2VkPWFyZ3VtZW50cy5sZW5ndGg+NCYmYXJndW1lbnRzWzRdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1s0XTpmYWxzZTtfY2xhc3NDYWxsQ2hlY2sodGhpcyxUdWJlR2VvbWV0cnkpO190aGlzNzc9X3N1cGVyODcuY2FsbCh0aGlzKTtfdGhpczc3LnR5cGU9J1R1YmVHZW9tZXRyeSc7X3RoaXM3Ny5wYXJhbWV0ZXJzPXtwYXRoOnBhdGgsdHVidWxhclNlZ21lbnRzOnR1YnVsYXJTZWdtZW50cyxyYWRpdXM6cmFkaXVzLHJhZGlhbFNlZ21lbnRzOnJhZGlhbFNlZ21lbnRzLGNsb3NlZDpjbG9zZWR9O3ZhciBmcmFtZXM9cGF0aC5jb21wdXRlRnJlbmV0RnJhbWVzKHR1YnVsYXJTZWdtZW50cyxjbG9zZWQpOy8vIGV4cG9zZSBpbnRlcm5hbHMKX3RoaXM3Ny50YW5nZW50cz1mcmFtZXMudGFuZ2VudHM7X3RoaXM3Ny5ub3JtYWxzPWZyYW1lcy5ub3JtYWxzO190aGlzNzcuYmlub3JtYWxzPWZyYW1lcy5iaW5vcm1hbHM7Ly8gaGVscGVyIHZhcmlhYmxlcwp2YXIgdmVydGV4PW5ldyBWZWN0b3IzKCk7dmFyIG5vcm1hbD1uZXcgVmVjdG9yMygpO3ZhciB1dj1uZXcgVmVjdG9yMigpO3ZhciBQPW5ldyBWZWN0b3IzKCk7Ly8gYnVmZmVyCnZhciB2ZXJ0aWNlcz1bXTt2YXIgbm9ybWFscz1bXTt2YXIgdXZzPVtdO3ZhciBpbmRpY2VzPVtdOy8vIGNyZWF0ZSBidWZmZXIgZGF0YQpnZW5lcmF0ZUJ1ZmZlckRhdGEoKTsvLyBidWlsZCBnZW9tZXRyeQpfdGhpczc3LnNldEluZGV4KGluZGljZXMpO190aGlzNzcuc2V0QXR0cmlidXRlKCdwb3NpdGlvbicsbmV3IEZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUodmVydGljZXMsMykpO190aGlzNzcuc2V0QXR0cmlidXRlKCdub3JtYWwnLG5ldyBGbG9hdDMyQnVmZmVyQXR0cmlidXRlKG5vcm1hbHMsMykpO190aGlzNzcuc2V0QXR0cmlidXRlKCd1dicsbmV3IEZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUodXZzLDIpKTsvLyBmdW5jdGlvbnMKZnVuY3Rpb24gZ2VuZXJhdGVCdWZmZXJEYXRhKCl7Zm9yKHZhciBfaTI0Mz0wO19pMjQzPHR1YnVsYXJTZWdtZW50cztfaTI0MysrKXtnZW5lcmF0ZVNlZ21lbnQoX2kyNDMpO30vLyBpZiB0aGUgZ2VvbWV0cnkgaXMgbm90IGNsb3NlZCwgZ2VuZXJhdGUgdGhlIGxhc3Qgcm93IG9mIHZlcnRpY2VzIGFuZCBub3JtYWxzCi8vIGF0IHRoZSByZWd1bGFyIHBvc2l0aW9uIG9uIHRoZSBnaXZlbiBwYXRoCi8vCi8vIGlmIHRoZSBnZW9tZXRyeSBpcyBjbG9zZWQsIGR1cGxpY2F0ZSB0aGUgZmlyc3Qgcm93IG9mIHZlcnRpY2VzIGFuZCBub3JtYWxzICh1dnMgd2lsbCBkaWZmZXIpCmdlbmVyYXRlU2VnbWVudChjbG9zZWQ9PT1mYWxzZT90dWJ1bGFyU2VnbWVudHM6MCk7Ly8gdXZzIGFyZSBnZW5lcmF0ZWQgaW4gYSBzZXBhcmF0ZSBmdW5jdGlvbi4KLy8gdGhpcyBtYWtlcyBpdCBlYXN5IGNvbXB1dGUgY29ycmVjdCB2YWx1ZXMgZm9yIGNsb3NlZCBnZW9tZXRyaWVzCmdlbmVyYXRlVVZzKCk7Ly8gZmluYWxseSBjcmVhdGUgZmFjZXMKZ2VuZXJhdGVJbmRpY2VzKCk7fWZ1bmN0aW9uIGdlbmVyYXRlU2VnbWVudChpKXsvLyB3ZSB1c2UgZ2V0UG9pbnRBdCB0byBzYW1wbGUgZXZlbmx5IGRpc3RyaWJ1dGVkIHBvaW50cyBmcm9tIHRoZSBnaXZlbiBwYXRoClA9cGF0aC5nZXRQb2ludEF0KGkvdHVidWxhclNlZ21lbnRzLFApOy8vIHJldHJpZXZlIGNvcnJlc3BvbmRpbmcgbm9ybWFsIGFuZCBiaW5vcm1hbAp2YXIgTj1mcmFtZXMubm9ybWFsc1tpXTt2YXIgQj1mcmFtZXMuYmlub3JtYWxzW2ldOy8vIGdlbmVyYXRlIG5vcm1hbHMgYW5kIHZlcnRpY2VzIGZvciB0aGUgY3VycmVudCBzZWdtZW50CmZvcih2YXIgaj0wO2o8PXJhZGlhbFNlZ21lbnRzO2orKyl7dmFyIHY9ai9yYWRpYWxTZWdtZW50cypNYXRoLlBJKjI7dmFyIHNpbj1NYXRoLnNpbih2KTt2YXIgY29zPS1NYXRoLmNvcyh2KTsvLyBub3JtYWwKbm9ybWFsLng9Y29zKk4ueCtzaW4qQi54O25vcm1hbC55PWNvcypOLnkrc2luKkIueTtub3JtYWwuej1jb3MqTi56K3NpbipCLno7bm9ybWFsLm5vcm1hbGl6ZSgpO25vcm1hbHMucHVzaChub3JtYWwueCxub3JtYWwueSxub3JtYWwueik7Ly8gdmVydGV4CnZlcnRleC54PVAueCtyYWRpdXMqbm9ybWFsLng7dmVydGV4Lnk9UC55K3JhZGl1cypub3JtYWwueTt2ZXJ0ZXguej1QLnorcmFkaXVzKm5vcm1hbC56O3ZlcnRpY2VzLnB1c2godmVydGV4LngsdmVydGV4LnksdmVydGV4LnopO319ZnVuY3Rpb24gZ2VuZXJhdGVJbmRpY2VzKCl7Zm9yKHZhciBqPTE7ajw9dHVidWxhclNlZ21lbnRzO2orKyl7Zm9yKHZhciBfaTI0ND0xO19pMjQ0PD1yYWRpYWxTZWdtZW50cztfaTI0NCsrKXt2YXIgYT0ocmFkaWFsU2VnbWVudHMrMSkqKGotMSkrKF9pMjQ0LTEpO3ZhciBiPShyYWRpYWxTZWdtZW50cysxKSpqKyhfaTI0NC0xKTt2YXIgYz0ocmFkaWFsU2VnbWVudHMrMSkqaitfaTI0NDt2YXIgZD0ocmFkaWFsU2VnbWVudHMrMSkqKGotMSkrX2kyNDQ7Ly8gZmFjZXMKaW5kaWNlcy5wdXNoKGEsYixkKTtpbmRpY2VzLnB1c2goYixjLGQpO319fWZ1bmN0aW9uIGdlbmVyYXRlVVZzKCl7Zm9yKHZhciBfaTI0NT0wO19pMjQ1PD10dWJ1bGFyU2VnbWVudHM7X2kyNDUrKyl7Zm9yKHZhciBqPTA7ajw9cmFkaWFsU2VnbWVudHM7aisrKXt1di54PV9pMjQ1L3R1YnVsYXJTZWdtZW50czt1di55PWovcmFkaWFsU2VnbWVudHM7dXZzLnB1c2godXYueCx1di55KTt9fX1yZXR1cm4gX3RoaXM3Nzt9X2NyZWF0ZUNsYXNzKFR1YmVHZW9tZXRyeSxbe2tleToidG9KU09OIix2YWx1ZTpmdW5jdGlvbiB0b0pTT04oKXt2YXIgZGF0YT1fZ2V0KF9nZXRQcm90b3R5cGVPZihUdWJlR2VvbWV0cnkucHJvdG90eXBlKSwidG9KU09OIix0aGlzKS5jYWxsKHRoaXMpO2RhdGEucGF0aD10aGlzLnBhcmFtZXRlcnMucGF0aC50b0pTT04oKTtyZXR1cm4gZGF0YTt9fV0sW3trZXk6ImZyb21KU09OIix2YWx1ZTpmdW5jdGlvbiBmcm9tSlNPTihkYXRhKXsvLyBUaGlzIG9ubHkgd29ya3MgZm9yIGJ1aWx0LWluIGN1cnZlcyAoZS5nLiBDYXRtdWxsUm9tQ3VydmUzKS4KLy8gVXNlciBkZWZpbmVkIGN1cnZlcyBvciBpbnN0YW5jZXMgb2YgQ3VydmVQYXRoIHdpbGwgbm90IGJlIGRlc2VyaWFsaXplZC4KcmV0dXJuIG5ldyBUdWJlR2VvbWV0cnkobmV3IEN1cnZlc1tkYXRhLnBhdGgudHlwZV0oKS5mcm9tSlNPTihkYXRhLnBhdGgpLGRhdGEudHVidWxhclNlZ21lbnRzLGRhdGEucmFkaXVzLGRhdGEucmFkaWFsU2VnbWVudHMsZGF0YS5jbG9zZWQpO319XSk7cmV0dXJuIFR1YmVHZW9tZXRyeTt9KEJ1ZmZlckdlb21ldHJ5KTt2YXIgV2lyZWZyYW1lR2VvbWV0cnk9LyojX19QVVJFX18qL2Z1bmN0aW9uKF9CdWZmZXJHZW9tZXRyeTE1KXtfaW5oZXJpdHMoV2lyZWZyYW1lR2VvbWV0cnksX0J1ZmZlckdlb21ldHJ5MTUpO3ZhciBfc3VwZXI4OD1fY3JlYXRlU3VwZXIoV2lyZWZyYW1lR2VvbWV0cnkpO2Z1bmN0aW9uIFdpcmVmcmFtZUdlb21ldHJ5KCl7dmFyIF90aGlzNzg7dmFyIGdlb21ldHJ5PWFyZ3VtZW50cy5sZW5ndGg+MCYmYXJndW1lbnRzWzBdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1swXTpudWxsO19jbGFzc0NhbGxDaGVjayh0aGlzLFdpcmVmcmFtZUdlb21ldHJ5KTtfdGhpczc4PV9zdXBlcjg4LmNhbGwodGhpcyk7X3RoaXM3OC50eXBlPSdXaXJlZnJhbWVHZW9tZXRyeSc7X3RoaXM3OC5wYXJhbWV0ZXJzPXtnZW9tZXRyeTpnZW9tZXRyeX07aWYoZ2VvbWV0cnkhPT1udWxsKXsvLyBidWZmZXIKdmFyIHZlcnRpY2VzPVtdO3ZhciBlZGdlcz1uZXcgU2V0KCk7Ly8gaGVscGVyIHZhcmlhYmxlcwp2YXIgc3RhcnQ9bmV3IFZlY3RvcjMoKTt2YXIgZW5kPW5ldyBWZWN0b3IzKCk7aWYoZ2VvbWV0cnkuaW5kZXghPT1udWxsKXsvLyBpbmRleGVkIEJ1ZmZlckdlb21ldHJ5CnZhciBwb3NpdGlvbj1nZW9tZXRyeS5hdHRyaWJ1dGVzLnBvc2l0aW9uO3ZhciBpbmRpY2VzPWdlb21ldHJ5LmluZGV4O3ZhciBncm91cHM9Z2VvbWV0cnkuZ3JvdXBzO2lmKGdyb3Vwcy5sZW5ndGg9PT0wKXtncm91cHM9W3tzdGFydDowLGNvdW50OmluZGljZXMuY291bnQsbWF0ZXJpYWxJbmRleDowfV07fS8vIGNyZWF0ZSBhIGRhdGEgc3RydWN0dXJlIHRoYXQgY29udGFpbnMgYWxsIGVnZXMgd2l0aG91dCBkdXBsaWNhdGVzCmZvcih2YXIgbz0wLG9sPWdyb3Vwcy5sZW5ndGg7bzxvbDsrK28pe3ZhciBncm91cD1ncm91cHNbb107dmFyIGdyb3VwU3RhcnQ9Z3JvdXAuc3RhcnQ7dmFyIGdyb3VwQ291bnQ9Z3JvdXAuY291bnQ7Zm9yKHZhciBfaTI0Nj1ncm91cFN0YXJ0LGw9Z3JvdXBTdGFydCtncm91cENvdW50O19pMjQ2PGw7X2kyNDYrPTMpe2Zvcih2YXIgaj0wO2o8MztqKyspe3ZhciBpbmRleDE9aW5kaWNlcy5nZXRYKF9pMjQ2K2opO3ZhciBpbmRleDI9aW5kaWNlcy5nZXRYKF9pMjQ2KyhqKzEpJTMpO3N0YXJ0LmZyb21CdWZmZXJBdHRyaWJ1dGUocG9zaXRpb24saW5kZXgxKTtlbmQuZnJvbUJ1ZmZlckF0dHJpYnV0ZShwb3NpdGlvbixpbmRleDIpO2lmKGlzVW5pcXVlRWRnZShzdGFydCxlbmQsZWRnZXMpPT09dHJ1ZSl7dmVydGljZXMucHVzaChzdGFydC54LHN0YXJ0Lnksc3RhcnQueik7dmVydGljZXMucHVzaChlbmQueCxlbmQueSxlbmQueik7fX19fX1lbHNley8vIG5vbi1pbmRleGVkIEJ1ZmZlckdlb21ldHJ5CnZhciBfcG9zaXRpb24yPWdlb21ldHJ5LmF0dHJpYnV0ZXMucG9zaXRpb247Zm9yKHZhciBfaTI0Nz0wLF9sMTE9X3Bvc2l0aW9uMi5jb3VudC8zO19pMjQ3PF9sMTE7X2kyNDcrKyl7Zm9yKHZhciBfajEzPTA7X2oxMzwzO19qMTMrKyl7Ly8gdGhyZWUgZWRnZXMgcGVyIHRyaWFuZ2xlLCBhbiBlZGdlIGlzIHJlcHJlc2VudGVkIGFzIChpbmRleDEsIGluZGV4MikKLy8gZS5nLiB0aGUgZmlyc3QgdHJpYW5nbGUgaGFzIHRoZSBmb2xsb3dpbmcgZWRnZXM6ICgwLDEpLCgxLDIpLCgyLDApCnZhciBfaW5kZXg9MypfaTI0NytfajEzO3ZhciBfaW5kZXgyPTMqX2kyNDcrKF9qMTMrMSklMztzdGFydC5mcm9tQnVmZmVyQXR0cmlidXRlKF9wb3NpdGlvbjIsX2luZGV4KTtlbmQuZnJvbUJ1ZmZlckF0dHJpYnV0ZShfcG9zaXRpb24yLF9pbmRleDIpO2lmKGlzVW5pcXVlRWRnZShzdGFydCxlbmQsZWRnZXMpPT09dHJ1ZSl7dmVydGljZXMucHVzaChzdGFydC54LHN0YXJ0Lnksc3RhcnQueik7dmVydGljZXMucHVzaChlbmQueCxlbmQueSxlbmQueik7fX19fS8vIGJ1aWxkIGdlb21ldHJ5Cl90aGlzNzguc2V0QXR0cmlidXRlKCdwb3NpdGlvbicsbmV3IEZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUodmVydGljZXMsMykpO31yZXR1cm4gX3RoaXM3ODt9cmV0dXJuIF9jcmVhdGVDbGFzcyhXaXJlZnJhbWVHZW9tZXRyeSk7fShCdWZmZXJHZW9tZXRyeSk7ZnVuY3Rpb24gaXNVbmlxdWVFZGdlKHN0YXJ0LGVuZCxlZGdlcyl7dmFyIGhhc2gxPSIiLmNvbmNhdChzdGFydC54LCIsIikuY29uY2F0KHN0YXJ0LnksIiwiKS5jb25jYXQoc3RhcnQueiwiLSIpLmNvbmNhdChlbmQueCwiLCIpLmNvbmNhdChlbmQueSwiLCIpLmNvbmNhdChlbmQueik7dmFyIGhhc2gyPSIiLmNvbmNhdChlbmQueCwiLCIpLmNvbmNhdChlbmQueSwiLCIpLmNvbmNhdChlbmQueiwiLSIpLmNvbmNhdChzdGFydC54LCIsIikuY29uY2F0KHN0YXJ0LnksIiwiKS5jb25jYXQoc3RhcnQueik7Ly8gY29pbmNpZGVudCBlZGdlCmlmKGVkZ2VzLmhhcyhoYXNoMSk9PT10cnVlfHxlZGdlcy5oYXMoaGFzaDIpPT09dHJ1ZSl7cmV0dXJuIGZhbHNlO31lbHNle2VkZ2VzLmFkZChoYXNoMSxoYXNoMik7cmV0dXJuIHRydWU7fX12YXIgR2VvbWV0cmllcz0vKiNfX1BVUkVfXyovT2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsQm94R2VvbWV0cnk6Qm94R2VvbWV0cnksQm94QnVmZmVyR2VvbWV0cnk6Qm94R2VvbWV0cnksQ2lyY2xlR2VvbWV0cnk6Q2lyY2xlR2VvbWV0cnksQ2lyY2xlQnVmZmVyR2VvbWV0cnk6Q2lyY2xlR2VvbWV0cnksQ29uZUdlb21ldHJ5OkNvbmVHZW9tZXRyeSxDb25lQnVmZmVyR2VvbWV0cnk6Q29uZUdlb21ldHJ5LEN5bGluZGVyR2VvbWV0cnk6Q3lsaW5kZXJHZW9tZXRyeSxDeWxpbmRlckJ1ZmZlckdlb21ldHJ5OkN5bGluZGVyR2VvbWV0cnksRG9kZWNhaGVkcm9uR2VvbWV0cnk6RG9kZWNhaGVkcm9uR2VvbWV0cnksRG9kZWNhaGVkcm9uQnVmZmVyR2VvbWV0cnk6RG9kZWNhaGVkcm9uR2VvbWV0cnksRWRnZXNHZW9tZXRyeTpFZGdlc0dlb21ldHJ5LEV4dHJ1ZGVHZW9tZXRyeTpFeHRydWRlR2VvbWV0cnksRXh0cnVkZUJ1ZmZlckdlb21ldHJ5OkV4dHJ1ZGVHZW9tZXRyeSxJY29zYWhlZHJvbkdlb21ldHJ5Okljb3NhaGVkcm9uR2VvbWV0cnksSWNvc2FoZWRyb25CdWZmZXJHZW9tZXRyeTpJY29zYWhlZHJvbkdlb21ldHJ5LExhdGhlR2VvbWV0cnk6TGF0aGVHZW9tZXRyeSxMYXRoZUJ1ZmZlckdlb21ldHJ5OkxhdGhlR2VvbWV0cnksT2N0YWhlZHJvbkdlb21ldHJ5Ok9jdGFoZWRyb25HZW9tZXRyeSxPY3RhaGVkcm9uQnVmZmVyR2VvbWV0cnk6T2N0YWhlZHJvbkdlb21ldHJ5LFBsYW5lR2VvbWV0cnk6UGxhbmVHZW9tZXRyeSxQbGFuZUJ1ZmZlckdlb21ldHJ5OlBsYW5lR2VvbWV0cnksUG9seWhlZHJvbkdlb21ldHJ5OlBvbHloZWRyb25HZW9tZXRyeSxQb2x5aGVkcm9uQnVmZmVyR2VvbWV0cnk6UG9seWhlZHJvbkdlb21ldHJ5LFJpbmdHZW9tZXRyeTpSaW5nR2VvbWV0cnksUmluZ0J1ZmZlckdlb21ldHJ5OlJpbmdHZW9tZXRyeSxTaGFwZUdlb21ldHJ5OlNoYXBlR2VvbWV0cnksU2hhcGVCdWZmZXJHZW9tZXRyeTpTaGFwZUdlb21ldHJ5LFNwaGVyZUdlb21ldHJ5OlNwaGVyZUdlb21ldHJ5LFNwaGVyZUJ1ZmZlckdlb21ldHJ5OlNwaGVyZUdlb21ldHJ5LFRldHJhaGVkcm9uR2VvbWV0cnk6VGV0cmFoZWRyb25HZW9tZXRyeSxUZXRyYWhlZHJvbkJ1ZmZlckdlb21ldHJ5OlRldHJhaGVkcm9uR2VvbWV0cnksVG9ydXNHZW9tZXRyeTpUb3J1c0dlb21ldHJ5LFRvcnVzQnVmZmVyR2VvbWV0cnk6VG9ydXNHZW9tZXRyeSxUb3J1c0tub3RHZW9tZXRyeTpUb3J1c0tub3RHZW9tZXRyeSxUb3J1c0tub3RCdWZmZXJHZW9tZXRyeTpUb3J1c0tub3RHZW9tZXRyeSxUdWJlR2VvbWV0cnk6VHViZUdlb21ldHJ5LFR1YmVCdWZmZXJHZW9tZXRyeTpUdWJlR2VvbWV0cnksV2lyZWZyYW1lR2VvbWV0cnk6V2lyZWZyYW1lR2VvbWV0cnl9KTsvKioKICogcGFyYW1ldGVycyA9IHsKICogIGNvbG9yOiA8VEhSRUUuQ29sb3I+CiAqIH0KICovdmFyIFNoYWRvd01hdGVyaWFsPS8qI19fUFVSRV9fKi9mdW5jdGlvbihfTWF0ZXJpYWw4KXtfaW5oZXJpdHMoU2hhZG93TWF0ZXJpYWwsX01hdGVyaWFsOCk7dmFyIF9zdXBlcjg5PV9jcmVhdGVTdXBlcihTaGFkb3dNYXRlcmlhbCk7ZnVuY3Rpb24gU2hhZG93TWF0ZXJpYWwocGFyYW1ldGVycyl7dmFyIF90aGlzNzk7X2NsYXNzQ2FsbENoZWNrKHRoaXMsU2hhZG93TWF0ZXJpYWwpO190aGlzNzk9X3N1cGVyODkuY2FsbCh0aGlzKTtfdGhpczc5LnR5cGU9J1NoYWRvd01hdGVyaWFsJztfdGhpczc5LmNvbG9yPW5ldyBDb2xvcigweDAwMDAwMCk7X3RoaXM3OS50cmFuc3BhcmVudD10cnVlO190aGlzNzkuc2V0VmFsdWVzKHBhcmFtZXRlcnMpO3JldHVybiBfdGhpczc5O31fY3JlYXRlQ2xhc3MoU2hhZG93TWF0ZXJpYWwsW3trZXk6ImNvcHkiLHZhbHVlOmZ1bmN0aW9uIGNvcHkoc291cmNlKXtfZ2V0KF9nZXRQcm90b3R5cGVPZihTaGFkb3dNYXRlcmlhbC5wcm90b3R5cGUpLCJjb3B5Iix0aGlzKS5jYWxsKHRoaXMsc291cmNlKTt0aGlzLmNvbG9yLmNvcHkoc291cmNlLmNvbG9yKTtyZXR1cm4gdGhpczt9fV0pO3JldHVybiBTaGFkb3dNYXRlcmlhbDt9KE1hdGVyaWFsKTtTaGFkb3dNYXRlcmlhbC5wcm90b3R5cGUuaXNTaGFkb3dNYXRlcmlhbD10cnVlOy8qKgogKiBwYXJhbWV0ZXJzID0gewogKiAgY29sb3I6IDxoZXg+LAogKiAgcm91Z2huZXNzOiA8ZmxvYXQ+LAogKiAgbWV0YWxuZXNzOiA8ZmxvYXQ+LAogKiAgb3BhY2l0eTogPGZsb2F0PiwKICoKICogIG1hcDogbmV3IFRIUkVFLlRleHR1cmUoIDxJbWFnZT4gKSwKICoKICogIGxpZ2h0TWFwOiBuZXcgVEhSRUUuVGV4dHVyZSggPEltYWdlPiApLAogKiAgbGlnaHRNYXBJbnRlbnNpdHk6IDxmbG9hdD4KICoKICogIGFvTWFwOiBuZXcgVEhSRUUuVGV4dHVyZSggPEltYWdlPiApLAogKiAgYW9NYXBJbnRlbnNpdHk6IDxmbG9hdD4KICoKICogIGVtaXNzaXZlOiA8aGV4PiwKICogIGVtaXNzaXZlSW50ZW5zaXR5OiA8ZmxvYXQ+CiAqICBlbWlzc2l2ZU1hcDogbmV3IFRIUkVFLlRleHR1cmUoIDxJbWFnZT4gKSwKICoKICogIGJ1bXBNYXA6IG5ldyBUSFJFRS5UZXh0dXJlKCA8SW1hZ2U+ICksCiAqICBidW1wU2NhbGU6IDxmbG9hdD4sCiAqCiAqICBub3JtYWxNYXA6IG5ldyBUSFJFRS5UZXh0dXJlKCA8SW1hZ2U+ICksCiAqICBub3JtYWxNYXBUeXBlOiBUSFJFRS5UYW5nZW50U3BhY2VOb3JtYWxNYXAsCiAqICBub3JtYWxTY2FsZTogPFZlY3RvcjI+LAogKgogKiAgZGlzcGxhY2VtZW50TWFwOiBuZXcgVEhSRUUuVGV4dHVyZSggPEltYWdlPiApLAogKiAgZGlzcGxhY2VtZW50U2NhbGU6IDxmbG9hdD4sCiAqICBkaXNwbGFjZW1lbnRCaWFzOiA8ZmxvYXQ+LAogKgogKiAgcm91Z2huZXNzTWFwOiBuZXcgVEhSRUUuVGV4dHVyZSggPEltYWdlPiApLAogKgogKiAgbWV0YWxuZXNzTWFwOiBuZXcgVEhSRUUuVGV4dHVyZSggPEltYWdlPiApLAogKgogKiAgYWxwaGFNYXA6IG5ldyBUSFJFRS5UZXh0dXJlKCA8SW1hZ2U+ICksCiAqCiAqICBlbnZNYXA6IG5ldyBUSFJFRS5DdWJlVGV4dHVyZSggW3Bvc3gsIG5lZ3gsIHBvc3ksIG5lZ3ksIHBvc3osIG5lZ3pdICksCiAqICBlbnZNYXBJbnRlbnNpdHk6IDxmbG9hdD4KICoKICogIHJlZnJhY3Rpb25SYXRpbzogPGZsb2F0PiwKICoKICogIHdpcmVmcmFtZTogPGJvb2xlYW4+LAogKiAgd2lyZWZyYW1lTGluZXdpZHRoOiA8ZmxvYXQ+LAogKgogKiAgZmxhdFNoYWRpbmc6IDxib29sPgogKiB9CiAqL3ZhciBNZXNoU3RhbmRhcmRNYXRlcmlhbD0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX01hdGVyaWFsOSl7X2luaGVyaXRzKE1lc2hTdGFuZGFyZE1hdGVyaWFsLF9NYXRlcmlhbDkpO3ZhciBfc3VwZXI5MD1fY3JlYXRlU3VwZXIoTWVzaFN0YW5kYXJkTWF0ZXJpYWwpO2Z1bmN0aW9uIE1lc2hTdGFuZGFyZE1hdGVyaWFsKHBhcmFtZXRlcnMpe3ZhciBfdGhpczgwO19jbGFzc0NhbGxDaGVjayh0aGlzLE1lc2hTdGFuZGFyZE1hdGVyaWFsKTtfdGhpczgwPV9zdXBlcjkwLmNhbGwodGhpcyk7X3RoaXM4MC5kZWZpbmVzPXsnU1RBTkRBUkQnOicnfTtfdGhpczgwLnR5cGU9J01lc2hTdGFuZGFyZE1hdGVyaWFsJztfdGhpczgwLmNvbG9yPW5ldyBDb2xvcigweGZmZmZmZik7Ly8gZGlmZnVzZQpfdGhpczgwLnJvdWdobmVzcz0xLjA7X3RoaXM4MC5tZXRhbG5lc3M9MC4wO190aGlzODAubWFwPW51bGw7X3RoaXM4MC5saWdodE1hcD1udWxsO190aGlzODAubGlnaHRNYXBJbnRlbnNpdHk9MS4wO190aGlzODAuYW9NYXA9bnVsbDtfdGhpczgwLmFvTWFwSW50ZW5zaXR5PTEuMDtfdGhpczgwLmVtaXNzaXZlPW5ldyBDb2xvcigweDAwMDAwMCk7X3RoaXM4MC5lbWlzc2l2ZUludGVuc2l0eT0xLjA7X3RoaXM4MC5lbWlzc2l2ZU1hcD1udWxsO190aGlzODAuYnVtcE1hcD1udWxsO190aGlzODAuYnVtcFNjYWxlPTE7X3RoaXM4MC5ub3JtYWxNYXA9bnVsbDtfdGhpczgwLm5vcm1hbE1hcFR5cGU9VGFuZ2VudFNwYWNlTm9ybWFsTWFwO190aGlzODAubm9ybWFsU2NhbGU9bmV3IFZlY3RvcjIoMSwxKTtfdGhpczgwLmRpc3BsYWNlbWVudE1hcD1udWxsO190aGlzODAuZGlzcGxhY2VtZW50U2NhbGU9MTtfdGhpczgwLmRpc3BsYWNlbWVudEJpYXM9MDtfdGhpczgwLnJvdWdobmVzc01hcD1udWxsO190aGlzODAubWV0YWxuZXNzTWFwPW51bGw7X3RoaXM4MC5hbHBoYU1hcD1udWxsO190aGlzODAuZW52TWFwPW51bGw7X3RoaXM4MC5lbnZNYXBJbnRlbnNpdHk9MS4wO190aGlzODAucmVmcmFjdGlvblJhdGlvPTAuOTg7X3RoaXM4MC53aXJlZnJhbWU9ZmFsc2U7X3RoaXM4MC53aXJlZnJhbWVMaW5ld2lkdGg9MTtfdGhpczgwLndpcmVmcmFtZUxpbmVjYXA9J3JvdW5kJztfdGhpczgwLndpcmVmcmFtZUxpbmVqb2luPSdyb3VuZCc7X3RoaXM4MC5mbGF0U2hhZGluZz1mYWxzZTtfdGhpczgwLnNldFZhbHVlcyhwYXJhbWV0ZXJzKTtyZXR1cm4gX3RoaXM4MDt9X2NyZWF0ZUNsYXNzKE1lc2hTdGFuZGFyZE1hdGVyaWFsLFt7a2V5OiJjb3B5Iix2YWx1ZTpmdW5jdGlvbiBjb3B5KHNvdXJjZSl7X2dldChfZ2V0UHJvdG90eXBlT2YoTWVzaFN0YW5kYXJkTWF0ZXJpYWwucHJvdG90eXBlKSwiY29weSIsdGhpcykuY2FsbCh0aGlzLHNvdXJjZSk7dGhpcy5kZWZpbmVzPXsnU1RBTkRBUkQnOicnfTt0aGlzLmNvbG9yLmNvcHkoc291cmNlLmNvbG9yKTt0aGlzLnJvdWdobmVzcz1zb3VyY2Uucm91Z2huZXNzO3RoaXMubWV0YWxuZXNzPXNvdXJjZS5tZXRhbG5lc3M7dGhpcy5tYXA9c291cmNlLm1hcDt0aGlzLmxpZ2h0TWFwPXNvdXJjZS5saWdodE1hcDt0aGlzLmxpZ2h0TWFwSW50ZW5zaXR5PXNvdXJjZS5saWdodE1hcEludGVuc2l0eTt0aGlzLmFvTWFwPXNvdXJjZS5hb01hcDt0aGlzLmFvTWFwSW50ZW5zaXR5PXNvdXJjZS5hb01hcEludGVuc2l0eTt0aGlzLmVtaXNzaXZlLmNvcHkoc291cmNlLmVtaXNzaXZlKTt0aGlzLmVtaXNzaXZlTWFwPXNvdXJjZS5lbWlzc2l2ZU1hcDt0aGlzLmVtaXNzaXZlSW50ZW5zaXR5PXNvdXJjZS5lbWlzc2l2ZUludGVuc2l0eTt0aGlzLmJ1bXBNYXA9c291cmNlLmJ1bXBNYXA7dGhpcy5idW1wU2NhbGU9c291cmNlLmJ1bXBTY2FsZTt0aGlzLm5vcm1hbE1hcD1zb3VyY2Uubm9ybWFsTWFwO3RoaXMubm9ybWFsTWFwVHlwZT1zb3VyY2Uubm9ybWFsTWFwVHlwZTt0aGlzLm5vcm1hbFNjYWxlLmNvcHkoc291cmNlLm5vcm1hbFNjYWxlKTt0aGlzLmRpc3BsYWNlbWVudE1hcD1zb3VyY2UuZGlzcGxhY2VtZW50TWFwO3RoaXMuZGlzcGxhY2VtZW50U2NhbGU9c291cmNlLmRpc3BsYWNlbWVudFNjYWxlO3RoaXMuZGlzcGxhY2VtZW50Qmlhcz1zb3VyY2UuZGlzcGxhY2VtZW50Qmlhczt0aGlzLnJvdWdobmVzc01hcD1zb3VyY2Uucm91Z2huZXNzTWFwO3RoaXMubWV0YWxuZXNzTWFwPXNvdXJjZS5tZXRhbG5lc3NNYXA7dGhpcy5hbHBoYU1hcD1zb3VyY2UuYWxwaGFNYXA7dGhpcy5lbnZNYXA9c291cmNlLmVudk1hcDt0aGlzLmVudk1hcEludGVuc2l0eT1zb3VyY2UuZW52TWFwSW50ZW5zaXR5O3RoaXMucmVmcmFjdGlvblJhdGlvPXNvdXJjZS5yZWZyYWN0aW9uUmF0aW87dGhpcy53aXJlZnJhbWU9c291cmNlLndpcmVmcmFtZTt0aGlzLndpcmVmcmFtZUxpbmV3aWR0aD1zb3VyY2Uud2lyZWZyYW1lTGluZXdpZHRoO3RoaXMud2lyZWZyYW1lTGluZWNhcD1zb3VyY2Uud2lyZWZyYW1lTGluZWNhcDt0aGlzLndpcmVmcmFtZUxpbmVqb2luPXNvdXJjZS53aXJlZnJhbWVMaW5lam9pbjt0aGlzLmZsYXRTaGFkaW5nPXNvdXJjZS5mbGF0U2hhZGluZztyZXR1cm4gdGhpczt9fV0pO3JldHVybiBNZXNoU3RhbmRhcmRNYXRlcmlhbDt9KE1hdGVyaWFsKTtNZXNoU3RhbmRhcmRNYXRlcmlhbC5wcm90b3R5cGUuaXNNZXNoU3RhbmRhcmRNYXRlcmlhbD10cnVlOy8qKgogKiBwYXJhbWV0ZXJzID0gewogKiAgY2xlYXJjb2F0OiA8ZmxvYXQ+LAogKiAgY2xlYXJjb2F0TWFwOiBuZXcgVEhSRUUuVGV4dHVyZSggPEltYWdlPiApLAogKiAgY2xlYXJjb2F0Um91Z2huZXNzOiA8ZmxvYXQ+LAogKiAgY2xlYXJjb2F0Um91Z2huZXNzTWFwOiBuZXcgVEhSRUUuVGV4dHVyZSggPEltYWdlPiApLAogKiAgY2xlYXJjb2F0Tm9ybWFsU2NhbGU6IDxWZWN0b3IyPiwKICogIGNsZWFyY29hdE5vcm1hbE1hcDogbmV3IFRIUkVFLlRleHR1cmUoIDxJbWFnZT4gKSwKICoKICogIGlvcjogPGZsb2F0PiwKICogIHJlZmxlY3Rpdml0eTogPGZsb2F0PiwKICoKICogIHNoZWVuOiA8ZmxvYXQ+LAogKiAgc2hlZW5Db2xvcjogPENvbG9yPiwKICogIHNoZWVuQ29sb3JNYXA6IG5ldyBUSFJFRS5UZXh0dXJlKCA8SW1hZ2U+ICksCiAqICBzaGVlblJvdWdobmVzczogPGZsb2F0PiwKICogIHNoZWVuUm91Z2huZXNzTWFwOiBuZXcgVEhSRUUuVGV4dHVyZSggPEltYWdlPiApLAogKgogKiAgdHJhbnNtaXNzaW9uOiA8ZmxvYXQ+LAogKiAgdHJhbnNtaXNzaW9uTWFwOiBuZXcgVEhSRUUuVGV4dHVyZSggPEltYWdlPiApLAogKgogKiAgdGhpY2tuZXNzOiA8ZmxvYXQ+LAogKiAgdGhpY2tuZXNzTWFwOiBuZXcgVEhSRUUuVGV4dHVyZSggPEltYWdlPiApLAogKiAgYXR0ZW51YXRpb25EaXN0YW5jZTogPGZsb2F0PiwKICogIGF0dGVudWF0aW9uQ29sb3I6IDxDb2xvcj4sCiAqCiAqICBzcGVjdWxhckludGVuc2l0eTogPGZsb2F0PiwKICogIHNwZWN1bGFySW50ZW5zaXR5TWFwOiBuZXcgVEhSRUUuVGV4dHVyZSggPEltYWdlPiApLAogKiAgc3BlY3VsYXJDb2xvcjogPENvbG9yPiwKICogIHNwZWN1bGFyQ29sb3JNYXA6IG5ldyBUSFJFRS5UZXh0dXJlKCA8SW1hZ2U+ICkKICogfQogKi92YXIgTWVzaFBoeXNpY2FsTWF0ZXJpYWw9LyojX19QVVJFX18qL2Z1bmN0aW9uKF9NZXNoU3RhbmRhcmRNYXRlcmlhbCl7X2luaGVyaXRzKE1lc2hQaHlzaWNhbE1hdGVyaWFsLF9NZXNoU3RhbmRhcmRNYXRlcmlhbCk7dmFyIF9zdXBlcjkxPV9jcmVhdGVTdXBlcihNZXNoUGh5c2ljYWxNYXRlcmlhbCk7ZnVuY3Rpb24gTWVzaFBoeXNpY2FsTWF0ZXJpYWwocGFyYW1ldGVycyl7dmFyIF90aGlzODE7X2NsYXNzQ2FsbENoZWNrKHRoaXMsTWVzaFBoeXNpY2FsTWF0ZXJpYWwpO190aGlzODE9X3N1cGVyOTEuY2FsbCh0aGlzKTtfdGhpczgxLmRlZmluZXM9eydTVEFOREFSRCc6JycsJ1BIWVNJQ0FMJzonJ307X3RoaXM4MS50eXBlPSdNZXNoUGh5c2ljYWxNYXRlcmlhbCc7X3RoaXM4MS5jbGVhcmNvYXRNYXA9bnVsbDtfdGhpczgxLmNsZWFyY29hdFJvdWdobmVzcz0wLjA7X3RoaXM4MS5jbGVhcmNvYXRSb3VnaG5lc3NNYXA9bnVsbDtfdGhpczgxLmNsZWFyY29hdE5vcm1hbFNjYWxlPW5ldyBWZWN0b3IyKDEsMSk7X3RoaXM4MS5jbGVhcmNvYXROb3JtYWxNYXA9bnVsbDtfdGhpczgxLmlvcj0xLjU7T2JqZWN0LmRlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXM4MSksJ3JlZmxlY3Rpdml0eScse2dldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gY2xhbXAoMi41Kih0aGlzLmlvci0xKS8odGhpcy5pb3IrMSksMCwxKTt9LHNldDpmdW5jdGlvbiBzZXQocmVmbGVjdGl2aXR5KXt0aGlzLmlvcj0oMSswLjQqcmVmbGVjdGl2aXR5KS8oMS0wLjQqcmVmbGVjdGl2aXR5KTt9fSk7X3RoaXM4MS5zaGVlbkNvbG9yPW5ldyBDb2xvcigweDAwMDAwMCk7X3RoaXM4MS5zaGVlbkNvbG9yTWFwPW51bGw7X3RoaXM4MS5zaGVlblJvdWdobmVzcz0xLjA7X3RoaXM4MS5zaGVlblJvdWdobmVzc01hcD1udWxsO190aGlzODEudHJhbnNtaXNzaW9uTWFwPW51bGw7X3RoaXM4MS50aGlja25lc3M9MDtfdGhpczgxLnRoaWNrbmVzc01hcD1udWxsO190aGlzODEuYXR0ZW51YXRpb25EaXN0YW5jZT0wLjA7X3RoaXM4MS5hdHRlbnVhdGlvbkNvbG9yPW5ldyBDb2xvcigxLDEsMSk7X3RoaXM4MS5zcGVjdWxhckludGVuc2l0eT0xLjA7X3RoaXM4MS5zcGVjdWxhckludGVuc2l0eU1hcD1udWxsO190aGlzODEuc3BlY3VsYXJDb2xvcj1uZXcgQ29sb3IoMSwxLDEpO190aGlzODEuc3BlY3VsYXJDb2xvck1hcD1udWxsO190aGlzODEuX3NoZWVuPTAuMDtfdGhpczgxLl9jbGVhcmNvYXQ9MDtfdGhpczgxLl90cmFuc21pc3Npb249MDtfdGhpczgxLnNldFZhbHVlcyhwYXJhbWV0ZXJzKTtyZXR1cm4gX3RoaXM4MTt9X2NyZWF0ZUNsYXNzKE1lc2hQaHlzaWNhbE1hdGVyaWFsLFt7a2V5OiJzaGVlbiIsZ2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiB0aGlzLl9zaGVlbjt9LHNldDpmdW5jdGlvbiBzZXQodmFsdWUpe2lmKHRoaXMuX3NoZWVuPjAhPT12YWx1ZT4wKXt0aGlzLnZlcnNpb24rKzt9dGhpcy5fc2hlZW49dmFsdWU7fX0se2tleToiY2xlYXJjb2F0IixnZXQ6ZnVuY3Rpb24gZ2V0KCl7cmV0dXJuIHRoaXMuX2NsZWFyY29hdDt9LHNldDpmdW5jdGlvbiBzZXQodmFsdWUpe2lmKHRoaXMuX2NsZWFyY29hdD4wIT09dmFsdWU+MCl7dGhpcy52ZXJzaW9uKys7fXRoaXMuX2NsZWFyY29hdD12YWx1ZTt9fSx7a2V5OiJ0cmFuc21pc3Npb24iLGdldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5fdHJhbnNtaXNzaW9uO30sc2V0OmZ1bmN0aW9uIHNldCh2YWx1ZSl7aWYodGhpcy5fdHJhbnNtaXNzaW9uPjAhPT12YWx1ZT4wKXt0aGlzLnZlcnNpb24rKzt9dGhpcy5fdHJhbnNtaXNzaW9uPXZhbHVlO319LHtrZXk6ImNvcHkiLHZhbHVlOmZ1bmN0aW9uIGNvcHkoc291cmNlKXtfZ2V0KF9nZXRQcm90b3R5cGVPZihNZXNoUGh5c2ljYWxNYXRlcmlhbC5wcm90b3R5cGUpLCJjb3B5Iix0aGlzKS5jYWxsKHRoaXMsc291cmNlKTt0aGlzLmRlZmluZXM9eydTVEFOREFSRCc6JycsJ1BIWVNJQ0FMJzonJ307dGhpcy5jbGVhcmNvYXQ9c291cmNlLmNsZWFyY29hdDt0aGlzLmNsZWFyY29hdE1hcD1zb3VyY2UuY2xlYXJjb2F0TWFwO3RoaXMuY2xlYXJjb2F0Um91Z2huZXNzPXNvdXJjZS5jbGVhcmNvYXRSb3VnaG5lc3M7dGhpcy5jbGVhcmNvYXRSb3VnaG5lc3NNYXA9c291cmNlLmNsZWFyY29hdFJvdWdobmVzc01hcDt0aGlzLmNsZWFyY29hdE5vcm1hbE1hcD1zb3VyY2UuY2xlYXJjb2F0Tm9ybWFsTWFwO3RoaXMuY2xlYXJjb2F0Tm9ybWFsU2NhbGUuY29weShzb3VyY2UuY2xlYXJjb2F0Tm9ybWFsU2NhbGUpO3RoaXMuaW9yPXNvdXJjZS5pb3I7dGhpcy5zaGVlbj1zb3VyY2Uuc2hlZW47dGhpcy5zaGVlbkNvbG9yLmNvcHkoc291cmNlLnNoZWVuQ29sb3IpO3RoaXMuc2hlZW5Db2xvck1hcD1zb3VyY2Uuc2hlZW5Db2xvck1hcDt0aGlzLnNoZWVuUm91Z2huZXNzPXNvdXJjZS5zaGVlblJvdWdobmVzczt0aGlzLnNoZWVuUm91Z2huZXNzTWFwPXNvdXJjZS5zaGVlblJvdWdobmVzc01hcDt0aGlzLnRyYW5zbWlzc2lvbj1zb3VyY2UudHJhbnNtaXNzaW9uO3RoaXMudHJhbnNtaXNzaW9uTWFwPXNvdXJjZS50cmFuc21pc3Npb25NYXA7dGhpcy50aGlja25lc3M9c291cmNlLnRoaWNrbmVzczt0aGlzLnRoaWNrbmVzc01hcD1zb3VyY2UudGhpY2tuZXNzTWFwO3RoaXMuYXR0ZW51YXRpb25EaXN0YW5jZT1zb3VyY2UuYXR0ZW51YXRpb25EaXN0YW5jZTt0aGlzLmF0dGVudWF0aW9uQ29sb3IuY29weShzb3VyY2UuYXR0ZW51YXRpb25Db2xvcik7dGhpcy5zcGVjdWxhckludGVuc2l0eT1zb3VyY2Uuc3BlY3VsYXJJbnRlbnNpdHk7dGhpcy5zcGVjdWxhckludGVuc2l0eU1hcD1zb3VyY2Uuc3BlY3VsYXJJbnRlbnNpdHlNYXA7dGhpcy5zcGVjdWxhckNvbG9yLmNvcHkoc291cmNlLnNwZWN1bGFyQ29sb3IpO3RoaXMuc3BlY3VsYXJDb2xvck1hcD1zb3VyY2Uuc3BlY3VsYXJDb2xvck1hcDtyZXR1cm4gdGhpczt9fV0pO3JldHVybiBNZXNoUGh5c2ljYWxNYXRlcmlhbDt9KE1lc2hTdGFuZGFyZE1hdGVyaWFsKTtNZXNoUGh5c2ljYWxNYXRlcmlhbC5wcm90b3R5cGUuaXNNZXNoUGh5c2ljYWxNYXRlcmlhbD10cnVlOy8qKgogKiBwYXJhbWV0ZXJzID0gewogKiAgY29sb3I6IDxoZXg+LAogKiAgc3BlY3VsYXI6IDxoZXg+LAogKiAgc2hpbmluZXNzOiA8ZmxvYXQ+LAogKiAgb3BhY2l0eTogPGZsb2F0PiwKICoKICogIG1hcDogbmV3IFRIUkVFLlRleHR1cmUoIDxJbWFnZT4gKSwKICoKICogIGxpZ2h0TWFwOiBuZXcgVEhSRUUuVGV4dHVyZSggPEltYWdlPiApLAogKiAgbGlnaHRNYXBJbnRlbnNpdHk6IDxmbG9hdD4KICoKICogIGFvTWFwOiBuZXcgVEhSRUUuVGV4dHVyZSggPEltYWdlPiApLAogKiAgYW9NYXBJbnRlbnNpdHk6IDxmbG9hdD4KICoKICogIGVtaXNzaXZlOiA8aGV4PiwKICogIGVtaXNzaXZlSW50ZW5zaXR5OiA8ZmxvYXQ+CiAqICBlbWlzc2l2ZU1hcDogbmV3IFRIUkVFLlRleHR1cmUoIDxJbWFnZT4gKSwKICoKICogIGJ1bXBNYXA6IG5ldyBUSFJFRS5UZXh0dXJlKCA8SW1hZ2U+ICksCiAqICBidW1wU2NhbGU6IDxmbG9hdD4sCiAqCiAqICBub3JtYWxNYXA6IG5ldyBUSFJFRS5UZXh0dXJlKCA8SW1hZ2U+ICksCiAqICBub3JtYWxNYXBUeXBlOiBUSFJFRS5UYW5nZW50U3BhY2VOb3JtYWxNYXAsCiAqICBub3JtYWxTY2FsZTogPFZlY3RvcjI+LAogKgogKiAgZGlzcGxhY2VtZW50TWFwOiBuZXcgVEhSRUUuVGV4dHVyZSggPEltYWdlPiApLAogKiAgZGlzcGxhY2VtZW50U2NhbGU6IDxmbG9hdD4sCiAqICBkaXNwbGFjZW1lbnRCaWFzOiA8ZmxvYXQ+LAogKgogKiAgc3BlY3VsYXJNYXA6IG5ldyBUSFJFRS5UZXh0dXJlKCA8SW1hZ2U+ICksCiAqCiAqICBhbHBoYU1hcDogbmV3IFRIUkVFLlRleHR1cmUoIDxJbWFnZT4gKSwKICoKICogIGVudk1hcDogbmV3IFRIUkVFLkN1YmVUZXh0dXJlKCBbcG9zeCwgbmVneCwgcG9zeSwgbmVneSwgcG9zeiwgbmVnel0gKSwKICogIGNvbWJpbmU6IFRIUkVFLk11bHRpcGx5T3BlcmF0aW9uLAogKiAgcmVmbGVjdGl2aXR5OiA8ZmxvYXQ+LAogKiAgcmVmcmFjdGlvblJhdGlvOiA8ZmxvYXQ+LAogKgogKiAgd2lyZWZyYW1lOiA8Ym9vbGVhbj4sCiAqICB3aXJlZnJhbWVMaW5ld2lkdGg6IDxmbG9hdD4sCiAqCiAqICBmbGF0U2hhZGluZzogPGJvb2w+CiAqIH0KICovdmFyIE1lc2hQaG9uZ01hdGVyaWFsPS8qI19fUFVSRV9fKi9mdW5jdGlvbihfTWF0ZXJpYWwxMCl7X2luaGVyaXRzKE1lc2hQaG9uZ01hdGVyaWFsLF9NYXRlcmlhbDEwKTt2YXIgX3N1cGVyOTI9X2NyZWF0ZVN1cGVyKE1lc2hQaG9uZ01hdGVyaWFsKTtmdW5jdGlvbiBNZXNoUGhvbmdNYXRlcmlhbChwYXJhbWV0ZXJzKXt2YXIgX3RoaXM4MjtfY2xhc3NDYWxsQ2hlY2sodGhpcyxNZXNoUGhvbmdNYXRlcmlhbCk7X3RoaXM4Mj1fc3VwZXI5Mi5jYWxsKHRoaXMpO190aGlzODIudHlwZT0nTWVzaFBob25nTWF0ZXJpYWwnO190aGlzODIuY29sb3I9bmV3IENvbG9yKDB4ZmZmZmZmKTsvLyBkaWZmdXNlCl90aGlzODIuc3BlY3VsYXI9bmV3IENvbG9yKDB4MTExMTExKTtfdGhpczgyLnNoaW5pbmVzcz0zMDtfdGhpczgyLm1hcD1udWxsO190aGlzODIubGlnaHRNYXA9bnVsbDtfdGhpczgyLmxpZ2h0TWFwSW50ZW5zaXR5PTEuMDtfdGhpczgyLmFvTWFwPW51bGw7X3RoaXM4Mi5hb01hcEludGVuc2l0eT0xLjA7X3RoaXM4Mi5lbWlzc2l2ZT1uZXcgQ29sb3IoMHgwMDAwMDApO190aGlzODIuZW1pc3NpdmVJbnRlbnNpdHk9MS4wO190aGlzODIuZW1pc3NpdmVNYXA9bnVsbDtfdGhpczgyLmJ1bXBNYXA9bnVsbDtfdGhpczgyLmJ1bXBTY2FsZT0xO190aGlzODIubm9ybWFsTWFwPW51bGw7X3RoaXM4Mi5ub3JtYWxNYXBUeXBlPVRhbmdlbnRTcGFjZU5vcm1hbE1hcDtfdGhpczgyLm5vcm1hbFNjYWxlPW5ldyBWZWN0b3IyKDEsMSk7X3RoaXM4Mi5kaXNwbGFjZW1lbnRNYXA9bnVsbDtfdGhpczgyLmRpc3BsYWNlbWVudFNjYWxlPTE7X3RoaXM4Mi5kaXNwbGFjZW1lbnRCaWFzPTA7X3RoaXM4Mi5zcGVjdWxhck1hcD1udWxsO190aGlzODIuYWxwaGFNYXA9bnVsbDtfdGhpczgyLmVudk1hcD1udWxsO190aGlzODIuY29tYmluZT1NdWx0aXBseU9wZXJhdGlvbjtfdGhpczgyLnJlZmxlY3Rpdml0eT0xO190aGlzODIucmVmcmFjdGlvblJhdGlvPTAuOTg7X3RoaXM4Mi53aXJlZnJhbWU9ZmFsc2U7X3RoaXM4Mi53aXJlZnJhbWVMaW5ld2lkdGg9MTtfdGhpczgyLndpcmVmcmFtZUxpbmVjYXA9J3JvdW5kJztfdGhpczgyLndpcmVmcmFtZUxpbmVqb2luPSdyb3VuZCc7X3RoaXM4Mi5mbGF0U2hhZGluZz1mYWxzZTtfdGhpczgyLnNldFZhbHVlcyhwYXJhbWV0ZXJzKTtyZXR1cm4gX3RoaXM4Mjt9X2NyZWF0ZUNsYXNzKE1lc2hQaG9uZ01hdGVyaWFsLFt7a2V5OiJjb3B5Iix2YWx1ZTpmdW5jdGlvbiBjb3B5KHNvdXJjZSl7X2dldChfZ2V0UHJvdG90eXBlT2YoTWVzaFBob25nTWF0ZXJpYWwucHJvdG90eXBlKSwiY29weSIsdGhpcykuY2FsbCh0aGlzLHNvdXJjZSk7dGhpcy5jb2xvci5jb3B5KHNvdXJjZS5jb2xvcik7dGhpcy5zcGVjdWxhci5jb3B5KHNvdXJjZS5zcGVjdWxhcik7dGhpcy5zaGluaW5lc3M9c291cmNlLnNoaW5pbmVzczt0aGlzLm1hcD1zb3VyY2UubWFwO3RoaXMubGlnaHRNYXA9c291cmNlLmxpZ2h0TWFwO3RoaXMubGlnaHRNYXBJbnRlbnNpdHk9c291cmNlLmxpZ2h0TWFwSW50ZW5zaXR5O3RoaXMuYW9NYXA9c291cmNlLmFvTWFwO3RoaXMuYW9NYXBJbnRlbnNpdHk9c291cmNlLmFvTWFwSW50ZW5zaXR5O3RoaXMuZW1pc3NpdmUuY29weShzb3VyY2UuZW1pc3NpdmUpO3RoaXMuZW1pc3NpdmVNYXA9c291cmNlLmVtaXNzaXZlTWFwO3RoaXMuZW1pc3NpdmVJbnRlbnNpdHk9c291cmNlLmVtaXNzaXZlSW50ZW5zaXR5O3RoaXMuYnVtcE1hcD1zb3VyY2UuYnVtcE1hcDt0aGlzLmJ1bXBTY2FsZT1zb3VyY2UuYnVtcFNjYWxlO3RoaXMubm9ybWFsTWFwPXNvdXJjZS5ub3JtYWxNYXA7dGhpcy5ub3JtYWxNYXBUeXBlPXNvdXJjZS5ub3JtYWxNYXBUeXBlO3RoaXMubm9ybWFsU2NhbGUuY29weShzb3VyY2Uubm9ybWFsU2NhbGUpO3RoaXMuZGlzcGxhY2VtZW50TWFwPXNvdXJjZS5kaXNwbGFjZW1lbnRNYXA7dGhpcy5kaXNwbGFjZW1lbnRTY2FsZT1zb3VyY2UuZGlzcGxhY2VtZW50U2NhbGU7dGhpcy5kaXNwbGFjZW1lbnRCaWFzPXNvdXJjZS5kaXNwbGFjZW1lbnRCaWFzO3RoaXMuc3BlY3VsYXJNYXA9c291cmNlLnNwZWN1bGFyTWFwO3RoaXMuYWxwaGFNYXA9c291cmNlLmFscGhhTWFwO3RoaXMuZW52TWFwPXNvdXJjZS5lbnZNYXA7dGhpcy5jb21iaW5lPXNvdXJjZS5jb21iaW5lO3RoaXMucmVmbGVjdGl2aXR5PXNvdXJjZS5yZWZsZWN0aXZpdHk7dGhpcy5yZWZyYWN0aW9uUmF0aW89c291cmNlLnJlZnJhY3Rpb25SYXRpbzt0aGlzLndpcmVmcmFtZT1zb3VyY2Uud2lyZWZyYW1lO3RoaXMud2lyZWZyYW1lTGluZXdpZHRoPXNvdXJjZS53aXJlZnJhbWVMaW5ld2lkdGg7dGhpcy53aXJlZnJhbWVMaW5lY2FwPXNvdXJjZS53aXJlZnJhbWVMaW5lY2FwO3RoaXMud2lyZWZyYW1lTGluZWpvaW49c291cmNlLndpcmVmcmFtZUxpbmVqb2luO3RoaXMuZmxhdFNoYWRpbmc9c291cmNlLmZsYXRTaGFkaW5nO3JldHVybiB0aGlzO319XSk7cmV0dXJuIE1lc2hQaG9uZ01hdGVyaWFsO30oTWF0ZXJpYWwpO01lc2hQaG9uZ01hdGVyaWFsLnByb3RvdHlwZS5pc01lc2hQaG9uZ01hdGVyaWFsPXRydWU7LyoqCiAqIHBhcmFtZXRlcnMgPSB7CiAqICBjb2xvcjogPGhleD4sCiAqCiAqICBtYXA6IG5ldyBUSFJFRS5UZXh0dXJlKCA8SW1hZ2U+ICksCiAqICBncmFkaWVudE1hcDogbmV3IFRIUkVFLlRleHR1cmUoIDxJbWFnZT4gKSwKICoKICogIGxpZ2h0TWFwOiBuZXcgVEhSRUUuVGV4dHVyZSggPEltYWdlPiApLAogKiAgbGlnaHRNYXBJbnRlbnNpdHk6IDxmbG9hdD4KICoKICogIGFvTWFwOiBuZXcgVEhSRUUuVGV4dHVyZSggPEltYWdlPiApLAogKiAgYW9NYXBJbnRlbnNpdHk6IDxmbG9hdD4KICoKICogIGVtaXNzaXZlOiA8aGV4PiwKICogIGVtaXNzaXZlSW50ZW5zaXR5OiA8ZmxvYXQ+CiAqICBlbWlzc2l2ZU1hcDogbmV3IFRIUkVFLlRleHR1cmUoIDxJbWFnZT4gKSwKICoKICogIGJ1bXBNYXA6IG5ldyBUSFJFRS5UZXh0dXJlKCA8SW1hZ2U+ICksCiAqICBidW1wU2NhbGU6IDxmbG9hdD4sCiAqCiAqICBub3JtYWxNYXA6IG5ldyBUSFJFRS5UZXh0dXJlKCA8SW1hZ2U+ICksCiAqICBub3JtYWxNYXBUeXBlOiBUSFJFRS5UYW5nZW50U3BhY2VOb3JtYWxNYXAsCiAqICBub3JtYWxTY2FsZTogPFZlY3RvcjI+LAogKgogKiAgZGlzcGxhY2VtZW50TWFwOiBuZXcgVEhSRUUuVGV4dHVyZSggPEltYWdlPiApLAogKiAgZGlzcGxhY2VtZW50U2NhbGU6IDxmbG9hdD4sCiAqICBkaXNwbGFjZW1lbnRCaWFzOiA8ZmxvYXQ+LAogKgogKiAgYWxwaGFNYXA6IG5ldyBUSFJFRS5UZXh0dXJlKCA8SW1hZ2U+ICksCiAqCiAqICB3aXJlZnJhbWU6IDxib29sZWFuPiwKICogIHdpcmVmcmFtZUxpbmV3aWR0aDogPGZsb2F0PiwKICoKICogfQogKi92YXIgTWVzaFRvb25NYXRlcmlhbD0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX01hdGVyaWFsMTEpe19pbmhlcml0cyhNZXNoVG9vbk1hdGVyaWFsLF9NYXRlcmlhbDExKTt2YXIgX3N1cGVyOTM9X2NyZWF0ZVN1cGVyKE1lc2hUb29uTWF0ZXJpYWwpO2Z1bmN0aW9uIE1lc2hUb29uTWF0ZXJpYWwocGFyYW1ldGVycyl7dmFyIF90aGlzODM7X2NsYXNzQ2FsbENoZWNrKHRoaXMsTWVzaFRvb25NYXRlcmlhbCk7X3RoaXM4Mz1fc3VwZXI5My5jYWxsKHRoaXMpO190aGlzODMuZGVmaW5lcz17J1RPT04nOicnfTtfdGhpczgzLnR5cGU9J01lc2hUb29uTWF0ZXJpYWwnO190aGlzODMuY29sb3I9bmV3IENvbG9yKDB4ZmZmZmZmKTtfdGhpczgzLm1hcD1udWxsO190aGlzODMuZ3JhZGllbnRNYXA9bnVsbDtfdGhpczgzLmxpZ2h0TWFwPW51bGw7X3RoaXM4My5saWdodE1hcEludGVuc2l0eT0xLjA7X3RoaXM4My5hb01hcD1udWxsO190aGlzODMuYW9NYXBJbnRlbnNpdHk9MS4wO190aGlzODMuZW1pc3NpdmU9bmV3IENvbG9yKDB4MDAwMDAwKTtfdGhpczgzLmVtaXNzaXZlSW50ZW5zaXR5PTEuMDtfdGhpczgzLmVtaXNzaXZlTWFwPW51bGw7X3RoaXM4My5idW1wTWFwPW51bGw7X3RoaXM4My5idW1wU2NhbGU9MTtfdGhpczgzLm5vcm1hbE1hcD1udWxsO190aGlzODMubm9ybWFsTWFwVHlwZT1UYW5nZW50U3BhY2VOb3JtYWxNYXA7X3RoaXM4My5ub3JtYWxTY2FsZT1uZXcgVmVjdG9yMigxLDEpO190aGlzODMuZGlzcGxhY2VtZW50TWFwPW51bGw7X3RoaXM4My5kaXNwbGFjZW1lbnRTY2FsZT0xO190aGlzODMuZGlzcGxhY2VtZW50Qmlhcz0wO190aGlzODMuYWxwaGFNYXA9bnVsbDtfdGhpczgzLndpcmVmcmFtZT1mYWxzZTtfdGhpczgzLndpcmVmcmFtZUxpbmV3aWR0aD0xO190aGlzODMud2lyZWZyYW1lTGluZWNhcD0ncm91bmQnO190aGlzODMud2lyZWZyYW1lTGluZWpvaW49J3JvdW5kJztfdGhpczgzLnNldFZhbHVlcyhwYXJhbWV0ZXJzKTtyZXR1cm4gX3RoaXM4Mzt9X2NyZWF0ZUNsYXNzKE1lc2hUb29uTWF0ZXJpYWwsW3trZXk6ImNvcHkiLHZhbHVlOmZ1bmN0aW9uIGNvcHkoc291cmNlKXtfZ2V0KF9nZXRQcm90b3R5cGVPZihNZXNoVG9vbk1hdGVyaWFsLnByb3RvdHlwZSksImNvcHkiLHRoaXMpLmNhbGwodGhpcyxzb3VyY2UpO3RoaXMuY29sb3IuY29weShzb3VyY2UuY29sb3IpO3RoaXMubWFwPXNvdXJjZS5tYXA7dGhpcy5ncmFkaWVudE1hcD1zb3VyY2UuZ3JhZGllbnRNYXA7dGhpcy5saWdodE1hcD1zb3VyY2UubGlnaHRNYXA7dGhpcy5saWdodE1hcEludGVuc2l0eT1zb3VyY2UubGlnaHRNYXBJbnRlbnNpdHk7dGhpcy5hb01hcD1zb3VyY2UuYW9NYXA7dGhpcy5hb01hcEludGVuc2l0eT1zb3VyY2UuYW9NYXBJbnRlbnNpdHk7dGhpcy5lbWlzc2l2ZS5jb3B5KHNvdXJjZS5lbWlzc2l2ZSk7dGhpcy5lbWlzc2l2ZU1hcD1zb3VyY2UuZW1pc3NpdmVNYXA7dGhpcy5lbWlzc2l2ZUludGVuc2l0eT1zb3VyY2UuZW1pc3NpdmVJbnRlbnNpdHk7dGhpcy5idW1wTWFwPXNvdXJjZS5idW1wTWFwO3RoaXMuYnVtcFNjYWxlPXNvdXJjZS5idW1wU2NhbGU7dGhpcy5ub3JtYWxNYXA9c291cmNlLm5vcm1hbE1hcDt0aGlzLm5vcm1hbE1hcFR5cGU9c291cmNlLm5vcm1hbE1hcFR5cGU7dGhpcy5ub3JtYWxTY2FsZS5jb3B5KHNvdXJjZS5ub3JtYWxTY2FsZSk7dGhpcy5kaXNwbGFjZW1lbnRNYXA9c291cmNlLmRpc3BsYWNlbWVudE1hcDt0aGlzLmRpc3BsYWNlbWVudFNjYWxlPXNvdXJjZS5kaXNwbGFjZW1lbnRTY2FsZTt0aGlzLmRpc3BsYWNlbWVudEJpYXM9c291cmNlLmRpc3BsYWNlbWVudEJpYXM7dGhpcy5hbHBoYU1hcD1zb3VyY2UuYWxwaGFNYXA7dGhpcy53aXJlZnJhbWU9c291cmNlLndpcmVmcmFtZTt0aGlzLndpcmVmcmFtZUxpbmV3aWR0aD1zb3VyY2Uud2lyZWZyYW1lTGluZXdpZHRoO3RoaXMud2lyZWZyYW1lTGluZWNhcD1zb3VyY2Uud2lyZWZyYW1lTGluZWNhcDt0aGlzLndpcmVmcmFtZUxpbmVqb2luPXNvdXJjZS53aXJlZnJhbWVMaW5lam9pbjtyZXR1cm4gdGhpczt9fV0pO3JldHVybiBNZXNoVG9vbk1hdGVyaWFsO30oTWF0ZXJpYWwpO01lc2hUb29uTWF0ZXJpYWwucHJvdG90eXBlLmlzTWVzaFRvb25NYXRlcmlhbD10cnVlOy8qKgogKiBwYXJhbWV0ZXJzID0gewogKiAgb3BhY2l0eTogPGZsb2F0PiwKICoKICogIGJ1bXBNYXA6IG5ldyBUSFJFRS5UZXh0dXJlKCA8SW1hZ2U+ICksCiAqICBidW1wU2NhbGU6IDxmbG9hdD4sCiAqCiAqICBub3JtYWxNYXA6IG5ldyBUSFJFRS5UZXh0dXJlKCA8SW1hZ2U+ICksCiAqICBub3JtYWxNYXBUeXBlOiBUSFJFRS5UYW5nZW50U3BhY2VOb3JtYWxNYXAsCiAqICBub3JtYWxTY2FsZTogPFZlY3RvcjI+LAogKgogKiAgZGlzcGxhY2VtZW50TWFwOiBuZXcgVEhSRUUuVGV4dHVyZSggPEltYWdlPiApLAogKiAgZGlzcGxhY2VtZW50U2NhbGU6IDxmbG9hdD4sCiAqICBkaXNwbGFjZW1lbnRCaWFzOiA8ZmxvYXQ+LAogKgogKiAgd2lyZWZyYW1lOiA8Ym9vbGVhbj4sCiAqICB3aXJlZnJhbWVMaW5ld2lkdGg6IDxmbG9hdD4KICoKICogIGZsYXRTaGFkaW5nOiA8Ym9vbD4KICogfQogKi92YXIgTWVzaE5vcm1hbE1hdGVyaWFsPS8qI19fUFVSRV9fKi9mdW5jdGlvbihfTWF0ZXJpYWwxMil7X2luaGVyaXRzKE1lc2hOb3JtYWxNYXRlcmlhbCxfTWF0ZXJpYWwxMik7dmFyIF9zdXBlcjk0PV9jcmVhdGVTdXBlcihNZXNoTm9ybWFsTWF0ZXJpYWwpO2Z1bmN0aW9uIE1lc2hOb3JtYWxNYXRlcmlhbChwYXJhbWV0ZXJzKXt2YXIgX3RoaXM4NDtfY2xhc3NDYWxsQ2hlY2sodGhpcyxNZXNoTm9ybWFsTWF0ZXJpYWwpO190aGlzODQ9X3N1cGVyOTQuY2FsbCh0aGlzKTtfdGhpczg0LnR5cGU9J01lc2hOb3JtYWxNYXRlcmlhbCc7X3RoaXM4NC5idW1wTWFwPW51bGw7X3RoaXM4NC5idW1wU2NhbGU9MTtfdGhpczg0Lm5vcm1hbE1hcD1udWxsO190aGlzODQubm9ybWFsTWFwVHlwZT1UYW5nZW50U3BhY2VOb3JtYWxNYXA7X3RoaXM4NC5ub3JtYWxTY2FsZT1uZXcgVmVjdG9yMigxLDEpO190aGlzODQuZGlzcGxhY2VtZW50TWFwPW51bGw7X3RoaXM4NC5kaXNwbGFjZW1lbnRTY2FsZT0xO190aGlzODQuZGlzcGxhY2VtZW50Qmlhcz0wO190aGlzODQud2lyZWZyYW1lPWZhbHNlO190aGlzODQud2lyZWZyYW1lTGluZXdpZHRoPTE7X3RoaXM4NC5mb2c9ZmFsc2U7X3RoaXM4NC5mbGF0U2hhZGluZz1mYWxzZTtfdGhpczg0LnNldFZhbHVlcyhwYXJhbWV0ZXJzKTtyZXR1cm4gX3RoaXM4NDt9X2NyZWF0ZUNsYXNzKE1lc2hOb3JtYWxNYXRlcmlhbCxbe2tleToiY29weSIsdmFsdWU6ZnVuY3Rpb24gY29weShzb3VyY2Upe19nZXQoX2dldFByb3RvdHlwZU9mKE1lc2hOb3JtYWxNYXRlcmlhbC5wcm90b3R5cGUpLCJjb3B5Iix0aGlzKS5jYWxsKHRoaXMsc291cmNlKTt0aGlzLmJ1bXBNYXA9c291cmNlLmJ1bXBNYXA7dGhpcy5idW1wU2NhbGU9c291cmNlLmJ1bXBTY2FsZTt0aGlzLm5vcm1hbE1hcD1zb3VyY2Uubm9ybWFsTWFwO3RoaXMubm9ybWFsTWFwVHlwZT1zb3VyY2Uubm9ybWFsTWFwVHlwZTt0aGlzLm5vcm1hbFNjYWxlLmNvcHkoc291cmNlLm5vcm1hbFNjYWxlKTt0aGlzLmRpc3BsYWNlbWVudE1hcD1zb3VyY2UuZGlzcGxhY2VtZW50TWFwO3RoaXMuZGlzcGxhY2VtZW50U2NhbGU9c291cmNlLmRpc3BsYWNlbWVudFNjYWxlO3RoaXMuZGlzcGxhY2VtZW50Qmlhcz1zb3VyY2UuZGlzcGxhY2VtZW50Qmlhczt0aGlzLndpcmVmcmFtZT1zb3VyY2Uud2lyZWZyYW1lO3RoaXMud2lyZWZyYW1lTGluZXdpZHRoPXNvdXJjZS53aXJlZnJhbWVMaW5ld2lkdGg7dGhpcy5mbGF0U2hhZGluZz1zb3VyY2UuZmxhdFNoYWRpbmc7cmV0dXJuIHRoaXM7fX1dKTtyZXR1cm4gTWVzaE5vcm1hbE1hdGVyaWFsO30oTWF0ZXJpYWwpO01lc2hOb3JtYWxNYXRlcmlhbC5wcm90b3R5cGUuaXNNZXNoTm9ybWFsTWF0ZXJpYWw9dHJ1ZTsvKioKICogcGFyYW1ldGVycyA9IHsKICogIGNvbG9yOiA8aGV4PiwKICogIG9wYWNpdHk6IDxmbG9hdD4sCiAqCiAqICBtYXA6IG5ldyBUSFJFRS5UZXh0dXJlKCA8SW1hZ2U+ICksCiAqCiAqICBsaWdodE1hcDogbmV3IFRIUkVFLlRleHR1cmUoIDxJbWFnZT4gKSwKICogIGxpZ2h0TWFwSW50ZW5zaXR5OiA8ZmxvYXQ+CiAqCiAqICBhb01hcDogbmV3IFRIUkVFLlRleHR1cmUoIDxJbWFnZT4gKSwKICogIGFvTWFwSW50ZW5zaXR5OiA8ZmxvYXQ+CiAqCiAqICBlbWlzc2l2ZTogPGhleD4sCiAqICBlbWlzc2l2ZUludGVuc2l0eTogPGZsb2F0PgogKiAgZW1pc3NpdmVNYXA6IG5ldyBUSFJFRS5UZXh0dXJlKCA8SW1hZ2U+ICksCiAqCiAqICBzcGVjdWxhck1hcDogbmV3IFRIUkVFLlRleHR1cmUoIDxJbWFnZT4gKSwKICoKICogIGFscGhhTWFwOiBuZXcgVEhSRUUuVGV4dHVyZSggPEltYWdlPiApLAogKgogKiAgZW52TWFwOiBuZXcgVEhSRUUuQ3ViZVRleHR1cmUoIFtwb3N4LCBuZWd4LCBwb3N5LCBuZWd5LCBwb3N6LCBuZWd6XSApLAogKiAgY29tYmluZTogVEhSRUUuTXVsdGlwbHksCiAqICByZWZsZWN0aXZpdHk6IDxmbG9hdD4sCiAqICByZWZyYWN0aW9uUmF0aW86IDxmbG9hdD4sCiAqCiAqICB3aXJlZnJhbWU6IDxib29sZWFuPiwKICogIHdpcmVmcmFtZUxpbmV3aWR0aDogPGZsb2F0PiwKICoKICogfQogKi92YXIgTWVzaExhbWJlcnRNYXRlcmlhbD0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX01hdGVyaWFsMTMpe19pbmhlcml0cyhNZXNoTGFtYmVydE1hdGVyaWFsLF9NYXRlcmlhbDEzKTt2YXIgX3N1cGVyOTU9X2NyZWF0ZVN1cGVyKE1lc2hMYW1iZXJ0TWF0ZXJpYWwpO2Z1bmN0aW9uIE1lc2hMYW1iZXJ0TWF0ZXJpYWwocGFyYW1ldGVycyl7dmFyIF90aGlzODU7X2NsYXNzQ2FsbENoZWNrKHRoaXMsTWVzaExhbWJlcnRNYXRlcmlhbCk7X3RoaXM4NT1fc3VwZXI5NS5jYWxsKHRoaXMpO190aGlzODUudHlwZT0nTWVzaExhbWJlcnRNYXRlcmlhbCc7X3RoaXM4NS5jb2xvcj1uZXcgQ29sb3IoMHhmZmZmZmYpOy8vIGRpZmZ1c2UKX3RoaXM4NS5tYXA9bnVsbDtfdGhpczg1LmxpZ2h0TWFwPW51bGw7X3RoaXM4NS5saWdodE1hcEludGVuc2l0eT0xLjA7X3RoaXM4NS5hb01hcD1udWxsO190aGlzODUuYW9NYXBJbnRlbnNpdHk9MS4wO190aGlzODUuZW1pc3NpdmU9bmV3IENvbG9yKDB4MDAwMDAwKTtfdGhpczg1LmVtaXNzaXZlSW50ZW5zaXR5PTEuMDtfdGhpczg1LmVtaXNzaXZlTWFwPW51bGw7X3RoaXM4NS5zcGVjdWxhck1hcD1udWxsO190aGlzODUuYWxwaGFNYXA9bnVsbDtfdGhpczg1LmVudk1hcD1udWxsO190aGlzODUuY29tYmluZT1NdWx0aXBseU9wZXJhdGlvbjtfdGhpczg1LnJlZmxlY3Rpdml0eT0xO190aGlzODUucmVmcmFjdGlvblJhdGlvPTAuOTg7X3RoaXM4NS53aXJlZnJhbWU9ZmFsc2U7X3RoaXM4NS53aXJlZnJhbWVMaW5ld2lkdGg9MTtfdGhpczg1LndpcmVmcmFtZUxpbmVjYXA9J3JvdW5kJztfdGhpczg1LndpcmVmcmFtZUxpbmVqb2luPSdyb3VuZCc7X3RoaXM4NS5zZXRWYWx1ZXMocGFyYW1ldGVycyk7cmV0dXJuIF90aGlzODU7fV9jcmVhdGVDbGFzcyhNZXNoTGFtYmVydE1hdGVyaWFsLFt7a2V5OiJjb3B5Iix2YWx1ZTpmdW5jdGlvbiBjb3B5KHNvdXJjZSl7X2dldChfZ2V0UHJvdG90eXBlT2YoTWVzaExhbWJlcnRNYXRlcmlhbC5wcm90b3R5cGUpLCJjb3B5Iix0aGlzKS5jYWxsKHRoaXMsc291cmNlKTt0aGlzLmNvbG9yLmNvcHkoc291cmNlLmNvbG9yKTt0aGlzLm1hcD1zb3VyY2UubWFwO3RoaXMubGlnaHRNYXA9c291cmNlLmxpZ2h0TWFwO3RoaXMubGlnaHRNYXBJbnRlbnNpdHk9c291cmNlLmxpZ2h0TWFwSW50ZW5zaXR5O3RoaXMuYW9NYXA9c291cmNlLmFvTWFwO3RoaXMuYW9NYXBJbnRlbnNpdHk9c291cmNlLmFvTWFwSW50ZW5zaXR5O3RoaXMuZW1pc3NpdmUuY29weShzb3VyY2UuZW1pc3NpdmUpO3RoaXMuZW1pc3NpdmVNYXA9c291cmNlLmVtaXNzaXZlTWFwO3RoaXMuZW1pc3NpdmVJbnRlbnNpdHk9c291cmNlLmVtaXNzaXZlSW50ZW5zaXR5O3RoaXMuc3BlY3VsYXJNYXA9c291cmNlLnNwZWN1bGFyTWFwO3RoaXMuYWxwaGFNYXA9c291cmNlLmFscGhhTWFwO3RoaXMuZW52TWFwPXNvdXJjZS5lbnZNYXA7dGhpcy5jb21iaW5lPXNvdXJjZS5jb21iaW5lO3RoaXMucmVmbGVjdGl2aXR5PXNvdXJjZS5yZWZsZWN0aXZpdHk7dGhpcy5yZWZyYWN0aW9uUmF0aW89c291cmNlLnJlZnJhY3Rpb25SYXRpbzt0aGlzLndpcmVmcmFtZT1zb3VyY2Uud2lyZWZyYW1lO3RoaXMud2lyZWZyYW1lTGluZXdpZHRoPXNvdXJjZS53aXJlZnJhbWVMaW5ld2lkdGg7dGhpcy53aXJlZnJhbWVMaW5lY2FwPXNvdXJjZS53aXJlZnJhbWVMaW5lY2FwO3RoaXMud2lyZWZyYW1lTGluZWpvaW49c291cmNlLndpcmVmcmFtZUxpbmVqb2luO3JldHVybiB0aGlzO319XSk7cmV0dXJuIE1lc2hMYW1iZXJ0TWF0ZXJpYWw7fShNYXRlcmlhbCk7TWVzaExhbWJlcnRNYXRlcmlhbC5wcm90b3R5cGUuaXNNZXNoTGFtYmVydE1hdGVyaWFsPXRydWU7LyoqCiAqIHBhcmFtZXRlcnMgPSB7CiAqICBjb2xvcjogPGhleD4sCiAqICBvcGFjaXR5OiA8ZmxvYXQ+LAogKgogKiAgbWF0Y2FwOiBuZXcgVEhSRUUuVGV4dHVyZSggPEltYWdlPiApLAogKgogKiAgbWFwOiBuZXcgVEhSRUUuVGV4dHVyZSggPEltYWdlPiApLAogKgogKiAgYnVtcE1hcDogbmV3IFRIUkVFLlRleHR1cmUoIDxJbWFnZT4gKSwKICogIGJ1bXBTY2FsZTogPGZsb2F0PiwKICoKICogIG5vcm1hbE1hcDogbmV3IFRIUkVFLlRleHR1cmUoIDxJbWFnZT4gKSwKICogIG5vcm1hbE1hcFR5cGU6IFRIUkVFLlRhbmdlbnRTcGFjZU5vcm1hbE1hcCwKICogIG5vcm1hbFNjYWxlOiA8VmVjdG9yMj4sCiAqCiAqICBkaXNwbGFjZW1lbnRNYXA6IG5ldyBUSFJFRS5UZXh0dXJlKCA8SW1hZ2U+ICksCiAqICBkaXNwbGFjZW1lbnRTY2FsZTogPGZsb2F0PiwKICogIGRpc3BsYWNlbWVudEJpYXM6IDxmbG9hdD4sCiAqCiAqICBhbHBoYU1hcDogbmV3IFRIUkVFLlRleHR1cmUoIDxJbWFnZT4gKSwKICoKICogIGZsYXRTaGFkaW5nOiA8Ym9vbD4KICogfQogKi92YXIgTWVzaE1hdGNhcE1hdGVyaWFsPS8qI19fUFVSRV9fKi9mdW5jdGlvbihfTWF0ZXJpYWwxNCl7X2luaGVyaXRzKE1lc2hNYXRjYXBNYXRlcmlhbCxfTWF0ZXJpYWwxNCk7dmFyIF9zdXBlcjk2PV9jcmVhdGVTdXBlcihNZXNoTWF0Y2FwTWF0ZXJpYWwpO2Z1bmN0aW9uIE1lc2hNYXRjYXBNYXRlcmlhbChwYXJhbWV0ZXJzKXt2YXIgX3RoaXM4NjtfY2xhc3NDYWxsQ2hlY2sodGhpcyxNZXNoTWF0Y2FwTWF0ZXJpYWwpO190aGlzODY9X3N1cGVyOTYuY2FsbCh0aGlzKTtfdGhpczg2LmRlZmluZXM9eydNQVRDQVAnOicnfTtfdGhpczg2LnR5cGU9J01lc2hNYXRjYXBNYXRlcmlhbCc7X3RoaXM4Ni5jb2xvcj1uZXcgQ29sb3IoMHhmZmZmZmYpOy8vIGRpZmZ1c2UKX3RoaXM4Ni5tYXRjYXA9bnVsbDtfdGhpczg2Lm1hcD1udWxsO190aGlzODYuYnVtcE1hcD1udWxsO190aGlzODYuYnVtcFNjYWxlPTE7X3RoaXM4Ni5ub3JtYWxNYXA9bnVsbDtfdGhpczg2Lm5vcm1hbE1hcFR5cGU9VGFuZ2VudFNwYWNlTm9ybWFsTWFwO190aGlzODYubm9ybWFsU2NhbGU9bmV3IFZlY3RvcjIoMSwxKTtfdGhpczg2LmRpc3BsYWNlbWVudE1hcD1udWxsO190aGlzODYuZGlzcGxhY2VtZW50U2NhbGU9MTtfdGhpczg2LmRpc3BsYWNlbWVudEJpYXM9MDtfdGhpczg2LmFscGhhTWFwPW51bGw7X3RoaXM4Ni5mbGF0U2hhZGluZz1mYWxzZTtfdGhpczg2LnNldFZhbHVlcyhwYXJhbWV0ZXJzKTtyZXR1cm4gX3RoaXM4Njt9X2NyZWF0ZUNsYXNzKE1lc2hNYXRjYXBNYXRlcmlhbCxbe2tleToiY29weSIsdmFsdWU6ZnVuY3Rpb24gY29weShzb3VyY2Upe19nZXQoX2dldFByb3RvdHlwZU9mKE1lc2hNYXRjYXBNYXRlcmlhbC5wcm90b3R5cGUpLCJjb3B5Iix0aGlzKS5jYWxsKHRoaXMsc291cmNlKTt0aGlzLmRlZmluZXM9eydNQVRDQVAnOicnfTt0aGlzLmNvbG9yLmNvcHkoc291cmNlLmNvbG9yKTt0aGlzLm1hdGNhcD1zb3VyY2UubWF0Y2FwO3RoaXMubWFwPXNvdXJjZS5tYXA7dGhpcy5idW1wTWFwPXNvdXJjZS5idW1wTWFwO3RoaXMuYnVtcFNjYWxlPXNvdXJjZS5idW1wU2NhbGU7dGhpcy5ub3JtYWxNYXA9c291cmNlLm5vcm1hbE1hcDt0aGlzLm5vcm1hbE1hcFR5cGU9c291cmNlLm5vcm1hbE1hcFR5cGU7dGhpcy5ub3JtYWxTY2FsZS5jb3B5KHNvdXJjZS5ub3JtYWxTY2FsZSk7dGhpcy5kaXNwbGFjZW1lbnRNYXA9c291cmNlLmRpc3BsYWNlbWVudE1hcDt0aGlzLmRpc3BsYWNlbWVudFNjYWxlPXNvdXJjZS5kaXNwbGFjZW1lbnRTY2FsZTt0aGlzLmRpc3BsYWNlbWVudEJpYXM9c291cmNlLmRpc3BsYWNlbWVudEJpYXM7dGhpcy5hbHBoYU1hcD1zb3VyY2UuYWxwaGFNYXA7dGhpcy5mbGF0U2hhZGluZz1zb3VyY2UuZmxhdFNoYWRpbmc7cmV0dXJuIHRoaXM7fX1dKTtyZXR1cm4gTWVzaE1hdGNhcE1hdGVyaWFsO30oTWF0ZXJpYWwpO01lc2hNYXRjYXBNYXRlcmlhbC5wcm90b3R5cGUuaXNNZXNoTWF0Y2FwTWF0ZXJpYWw9dHJ1ZTsvKioKICogcGFyYW1ldGVycyA9IHsKICogIGNvbG9yOiA8aGV4PiwKICogIG9wYWNpdHk6IDxmbG9hdD4sCiAqCiAqICBsaW5ld2lkdGg6IDxmbG9hdD4sCiAqCiAqICBzY2FsZTogPGZsb2F0PiwKICogIGRhc2hTaXplOiA8ZmxvYXQ+LAogKiAgZ2FwU2l6ZTogPGZsb2F0PgogKiB9CiAqL3ZhciBMaW5lRGFzaGVkTWF0ZXJpYWw9LyojX19QVVJFX18qL2Z1bmN0aW9uKF9MaW5lQmFzaWNNYXRlcmlhbCl7X2luaGVyaXRzKExpbmVEYXNoZWRNYXRlcmlhbCxfTGluZUJhc2ljTWF0ZXJpYWwpO3ZhciBfc3VwZXI5Nz1fY3JlYXRlU3VwZXIoTGluZURhc2hlZE1hdGVyaWFsKTtmdW5jdGlvbiBMaW5lRGFzaGVkTWF0ZXJpYWwocGFyYW1ldGVycyl7dmFyIF90aGlzODc7X2NsYXNzQ2FsbENoZWNrKHRoaXMsTGluZURhc2hlZE1hdGVyaWFsKTtfdGhpczg3PV9zdXBlcjk3LmNhbGwodGhpcyk7X3RoaXM4Ny50eXBlPSdMaW5lRGFzaGVkTWF0ZXJpYWwnO190aGlzODcuc2NhbGU9MTtfdGhpczg3LmRhc2hTaXplPTM7X3RoaXM4Ny5nYXBTaXplPTE7X3RoaXM4Ny5zZXRWYWx1ZXMocGFyYW1ldGVycyk7cmV0dXJuIF90aGlzODc7fV9jcmVhdGVDbGFzcyhMaW5lRGFzaGVkTWF0ZXJpYWwsW3trZXk6ImNvcHkiLHZhbHVlOmZ1bmN0aW9uIGNvcHkoc291cmNlKXtfZ2V0KF9nZXRQcm90b3R5cGVPZihMaW5lRGFzaGVkTWF0ZXJpYWwucHJvdG90eXBlKSwiY29weSIsdGhpcykuY2FsbCh0aGlzLHNvdXJjZSk7dGhpcy5zY2FsZT1zb3VyY2Uuc2NhbGU7dGhpcy5kYXNoU2l6ZT1zb3VyY2UuZGFzaFNpemU7dGhpcy5nYXBTaXplPXNvdXJjZS5nYXBTaXplO3JldHVybiB0aGlzO319XSk7cmV0dXJuIExpbmVEYXNoZWRNYXRlcmlhbDt9KExpbmVCYXNpY01hdGVyaWFsKTtMaW5lRGFzaGVkTWF0ZXJpYWwucHJvdG90eXBlLmlzTGluZURhc2hlZE1hdGVyaWFsPXRydWU7dmFyIE1hdGVyaWFscz0vKiNfX1BVUkVfXyovT2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsU2hhZG93TWF0ZXJpYWw6U2hhZG93TWF0ZXJpYWwsU3ByaXRlTWF0ZXJpYWw6U3ByaXRlTWF0ZXJpYWwsUmF3U2hhZGVyTWF0ZXJpYWw6UmF3U2hhZGVyTWF0ZXJpYWwsU2hhZGVyTWF0ZXJpYWw6U2hhZGVyTWF0ZXJpYWwsUG9pbnRzTWF0ZXJpYWw6UG9pbnRzTWF0ZXJpYWwsTWVzaFBoeXNpY2FsTWF0ZXJpYWw6TWVzaFBoeXNpY2FsTWF0ZXJpYWwsTWVzaFN0YW5kYXJkTWF0ZXJpYWw6TWVzaFN0YW5kYXJkTWF0ZXJpYWwsTWVzaFBob25nTWF0ZXJpYWw6TWVzaFBob25nTWF0ZXJpYWwsTWVzaFRvb25NYXRlcmlhbDpNZXNoVG9vbk1hdGVyaWFsLE1lc2hOb3JtYWxNYXRlcmlhbDpNZXNoTm9ybWFsTWF0ZXJpYWwsTWVzaExhbWJlcnRNYXRlcmlhbDpNZXNoTGFtYmVydE1hdGVyaWFsLE1lc2hEZXB0aE1hdGVyaWFsOk1lc2hEZXB0aE1hdGVyaWFsLE1lc2hEaXN0YW5jZU1hdGVyaWFsOk1lc2hEaXN0YW5jZU1hdGVyaWFsLE1lc2hCYXNpY01hdGVyaWFsOk1lc2hCYXNpY01hdGVyaWFsLE1lc2hNYXRjYXBNYXRlcmlhbDpNZXNoTWF0Y2FwTWF0ZXJpYWwsTGluZURhc2hlZE1hdGVyaWFsOkxpbmVEYXNoZWRNYXRlcmlhbCxMaW5lQmFzaWNNYXRlcmlhbDpMaW5lQmFzaWNNYXRlcmlhbCxNYXRlcmlhbDpNYXRlcmlhbH0pO3ZhciBBbmltYXRpb25VdGlscz17Ly8gc2FtZSBhcyBBcnJheS5wcm90b3R5cGUuc2xpY2UsIGJ1dCBhbHNvIHdvcmtzIG9uIHR5cGVkIGFycmF5cwphcnJheVNsaWNlOmZ1bmN0aW9uIGFycmF5U2xpY2UoYXJyYXksZnJvbSx0byl7aWYoQW5pbWF0aW9uVXRpbHMuaXNUeXBlZEFycmF5KGFycmF5KSl7Ly8gaW4gaW9zOSBhcnJheS5zdWJhcnJheShmcm9tLCB1bmRlZmluZWQpIHdpbGwgcmV0dXJuIGVtcHR5IGFycmF5Ci8vIGJ1dCBhcnJheS5zdWJhcnJheShmcm9tKSBvciBhcnJheS5zdWJhcnJheShmcm9tLCBsZW4pIGlzIGNvcnJlY3QKcmV0dXJuIG5ldyBhcnJheS5jb25zdHJ1Y3RvcihhcnJheS5zdWJhcnJheShmcm9tLHRvIT09dW5kZWZpbmVkP3RvOmFycmF5Lmxlbmd0aCkpO31yZXR1cm4gYXJyYXkuc2xpY2UoZnJvbSx0byk7fSwvLyBjb252ZXJ0cyBhbiBhcnJheSB0byBhIHNwZWNpZmljIHR5cGUKY29udmVydEFycmF5OmZ1bmN0aW9uIGNvbnZlcnRBcnJheShhcnJheSx0eXBlLGZvcmNlQ2xvbmUpe2lmKCFhcnJheXx8Ly8gbGV0ICd1bmRlZmluZWQnIGFuZCAnbnVsbCcgcGFzcwohZm9yY2VDbG9uZSYmYXJyYXkuY29uc3RydWN0b3I9PT10eXBlKXJldHVybiBhcnJheTtpZih0eXBlb2YgdHlwZS5CWVRFU19QRVJfRUxFTUVOVD09PSdudW1iZXInKXtyZXR1cm4gbmV3IHR5cGUoYXJyYXkpOy8vIGNyZWF0ZSB0eXBlZCBhcnJheQp9cmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFycmF5KTsvLyBjcmVhdGUgQXJyYXkKfSxpc1R5cGVkQXJyYXk6ZnVuY3Rpb24gaXNUeXBlZEFycmF5KG9iamVjdCl7cmV0dXJuIEFycmF5QnVmZmVyLmlzVmlldyhvYmplY3QpJiYhKG9iamVjdCBpbnN0YW5jZW9mIERhdGFWaWV3KTt9LC8vIHJldHVybnMgYW4gYXJyYXkgYnkgd2hpY2ggdGltZXMgYW5kIHZhbHVlcyBjYW4gYmUgc29ydGVkCmdldEtleWZyYW1lT3JkZXI6ZnVuY3Rpb24gZ2V0S2V5ZnJhbWVPcmRlcih0aW1lcyl7ZnVuY3Rpb24gY29tcGFyZVRpbWUoaSxqKXtyZXR1cm4gdGltZXNbaV0tdGltZXNbal07fXZhciBuPXRpbWVzLmxlbmd0aDt2YXIgcmVzdWx0PW5ldyBBcnJheShuKTtmb3IodmFyIF9pMjQ4PTA7X2kyNDghPT1uOysrX2kyNDgpcmVzdWx0W19pMjQ4XT1faTI0ODtyZXN1bHQuc29ydChjb21wYXJlVGltZSk7cmV0dXJuIHJlc3VsdDt9LC8vIHVzZXMgdGhlIGFycmF5IHByZXZpb3VzbHkgcmV0dXJuZWQgYnkgJ2dldEtleWZyYW1lT3JkZXInIHRvIHNvcnQgZGF0YQpzb3J0ZWRBcnJheTpmdW5jdGlvbiBzb3J0ZWRBcnJheSh2YWx1ZXMsc3RyaWRlLG9yZGVyKXt2YXIgblZhbHVlcz12YWx1ZXMubGVuZ3RoO3ZhciByZXN1bHQ9bmV3IHZhbHVlcy5jb25zdHJ1Y3RvcihuVmFsdWVzKTtmb3IodmFyIF9pMjQ5PTAsZHN0T2Zmc2V0PTA7ZHN0T2Zmc2V0IT09blZhbHVlczsrK19pMjQ5KXt2YXIgc3JjT2Zmc2V0PW9yZGVyW19pMjQ5XSpzdHJpZGU7Zm9yKHZhciBqPTA7aiE9PXN0cmlkZTsrK2ope3Jlc3VsdFtkc3RPZmZzZXQrK109dmFsdWVzW3NyY09mZnNldCtqXTt9fXJldHVybiByZXN1bHQ7fSwvLyBmdW5jdGlvbiBmb3IgcGFyc2luZyBBT1Mga2V5ZnJhbWUgZm9ybWF0cwpmbGF0dGVuSlNPTjpmdW5jdGlvbiBmbGF0dGVuSlNPTihqc29uS2V5cyx0aW1lcyx2YWx1ZXMsdmFsdWVQcm9wZXJ0eU5hbWUpe3ZhciBpPTEsa2V5PWpzb25LZXlzWzBdO3doaWxlKGtleSE9PXVuZGVmaW5lZCYma2V5W3ZhbHVlUHJvcGVydHlOYW1lXT09PXVuZGVmaW5lZCl7a2V5PWpzb25LZXlzW2krK107fWlmKGtleT09PXVuZGVmaW5lZClyZXR1cm47Ly8gbm8gZGF0YQp2YXIgdmFsdWU9a2V5W3ZhbHVlUHJvcGVydHlOYW1lXTtpZih2YWx1ZT09PXVuZGVmaW5lZClyZXR1cm47Ly8gbm8gZGF0YQppZihBcnJheS5pc0FycmF5KHZhbHVlKSl7ZG97dmFsdWU9a2V5W3ZhbHVlUHJvcGVydHlOYW1lXTtpZih2YWx1ZSE9PXVuZGVmaW5lZCl7dGltZXMucHVzaChrZXkudGltZSk7dmFsdWVzLnB1c2guYXBwbHkodmFsdWVzLHZhbHVlKTsvLyBwdXNoIGFsbCBlbGVtZW50cwp9a2V5PWpzb25LZXlzW2krK107fXdoaWxlKGtleSE9PXVuZGVmaW5lZCk7fWVsc2UgaWYodmFsdWUudG9BcnJheSE9PXVuZGVmaW5lZCl7Ly8gLi4uYXNzdW1lIFRIUkVFLk1hdGgtaXNoCmRve3ZhbHVlPWtleVt2YWx1ZVByb3BlcnR5TmFtZV07aWYodmFsdWUhPT11bmRlZmluZWQpe3RpbWVzLnB1c2goa2V5LnRpbWUpO3ZhbHVlLnRvQXJyYXkodmFsdWVzLHZhbHVlcy5sZW5ndGgpO31rZXk9anNvbktleXNbaSsrXTt9d2hpbGUoa2V5IT09dW5kZWZpbmVkKTt9ZWxzZXsvLyBvdGhlcndpc2UgcHVzaCBhcy1pcwpkb3t2YWx1ZT1rZXlbdmFsdWVQcm9wZXJ0eU5hbWVdO2lmKHZhbHVlIT09dW5kZWZpbmVkKXt0aW1lcy5wdXNoKGtleS50aW1lKTt2YWx1ZXMucHVzaCh2YWx1ZSk7fWtleT1qc29uS2V5c1tpKytdO313aGlsZShrZXkhPT11bmRlZmluZWQpO319LHN1YmNsaXA6ZnVuY3Rpb24gc3ViY2xpcChzb3VyY2VDbGlwLG5hbWUsc3RhcnRGcmFtZSxlbmRGcmFtZSl7dmFyIGZwcz1hcmd1bWVudHMubGVuZ3RoPjQmJmFyZ3VtZW50c1s0XSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbNF06MzA7dmFyIGNsaXA9c291cmNlQ2xpcC5jbG9uZSgpO2NsaXAubmFtZT1uYW1lO3ZhciB0cmFja3M9W107Zm9yKHZhciBfaTI1MD0wO19pMjUwPGNsaXAudHJhY2tzLmxlbmd0aDsrK19pMjUwKXt2YXIgdHJhY2s9Y2xpcC50cmFja3NbX2kyNTBdO3ZhciB2YWx1ZVNpemU9dHJhY2suZ2V0VmFsdWVTaXplKCk7dmFyIHRpbWVzPVtdO3ZhciB2YWx1ZXM9W107Zm9yKHZhciBqPTA7ajx0cmFjay50aW1lcy5sZW5ndGg7KytqKXt2YXIgZnJhbWU9dHJhY2sudGltZXNbal0qZnBzO2lmKGZyYW1lPHN0YXJ0RnJhbWV8fGZyYW1lPj1lbmRGcmFtZSljb250aW51ZTt0aW1lcy5wdXNoKHRyYWNrLnRpbWVzW2pdKTtmb3IodmFyIGs9MDtrPHZhbHVlU2l6ZTsrK2spe3ZhbHVlcy5wdXNoKHRyYWNrLnZhbHVlc1tqKnZhbHVlU2l6ZStrXSk7fX1pZih0aW1lcy5sZW5ndGg9PT0wKWNvbnRpbnVlO3RyYWNrLnRpbWVzPUFuaW1hdGlvblV0aWxzLmNvbnZlcnRBcnJheSh0aW1lcyx0cmFjay50aW1lcy5jb25zdHJ1Y3Rvcik7dHJhY2sudmFsdWVzPUFuaW1hdGlvblV0aWxzLmNvbnZlcnRBcnJheSh2YWx1ZXMsdHJhY2sudmFsdWVzLmNvbnN0cnVjdG9yKTt0cmFja3MucHVzaCh0cmFjayk7fWNsaXAudHJhY2tzPXRyYWNrczsvLyBmaW5kIG1pbmltdW0gLnRpbWVzIHZhbHVlIGFjcm9zcyBhbGwgdHJhY2tzIGluIHRoZSB0cmltbWVkIGNsaXAKdmFyIG1pblN0YXJ0VGltZT1JbmZpbml0eTtmb3IodmFyIF9pMjUxPTA7X2kyNTE8Y2xpcC50cmFja3MubGVuZ3RoOysrX2kyNTEpe2lmKG1pblN0YXJ0VGltZT5jbGlwLnRyYWNrc1tfaTI1MV0udGltZXNbMF0pe21pblN0YXJ0VGltZT1jbGlwLnRyYWNrc1tfaTI1MV0udGltZXNbMF07fX0vLyBzaGlmdCBhbGwgdHJhY2tzIHN1Y2ggdGhhdCBjbGlwIGJlZ2lucyBhdCB0PTAKZm9yKHZhciBfaTI1Mj0wO19pMjUyPGNsaXAudHJhY2tzLmxlbmd0aDsrK19pMjUyKXtjbGlwLnRyYWNrc1tfaTI1Ml0uc2hpZnQoLTEqbWluU3RhcnRUaW1lKTt9Y2xpcC5yZXNldER1cmF0aW9uKCk7cmV0dXJuIGNsaXA7fSxtYWtlQ2xpcEFkZGl0aXZlOmZ1bmN0aW9uIG1ha2VDbGlwQWRkaXRpdmUodGFyZ2V0Q2xpcCl7dmFyIHJlZmVyZW5jZUZyYW1lPWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1sxXTowO3ZhciByZWZlcmVuY2VDbGlwPWFyZ3VtZW50cy5sZW5ndGg+MiYmYXJndW1lbnRzWzJdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1syXTp0YXJnZXRDbGlwO3ZhciBmcHM9YXJndW1lbnRzLmxlbmd0aD4zJiZhcmd1bWVudHNbM10hPT11bmRlZmluZWQ/YXJndW1lbnRzWzNdOjMwO2lmKGZwczw9MClmcHM9MzA7dmFyIG51bVRyYWNrcz1yZWZlcmVuY2VDbGlwLnRyYWNrcy5sZW5ndGg7dmFyIHJlZmVyZW5jZVRpbWU9cmVmZXJlbmNlRnJhbWUvZnBzOy8vIE1ha2UgZWFjaCB0cmFjaydzIHZhbHVlcyByZWxhdGl2ZSB0byB0aGUgdmFsdWVzIGF0IHRoZSByZWZlcmVuY2UgZnJhbWUKdmFyIF9sb29wPWZ1bmN0aW9uIF9sb29wKCl7dmFyIHJlZmVyZW5jZVRyYWNrPXJlZmVyZW5jZUNsaXAudHJhY2tzW19pMjUzXTt2YXIgcmVmZXJlbmNlVHJhY2tUeXBlPXJlZmVyZW5jZVRyYWNrLlZhbHVlVHlwZU5hbWU7Ly8gU2tpcCB0aGlzIHRyYWNrIGlmIGl0J3Mgbm9uLW51bWVyaWMKaWYocmVmZXJlbmNlVHJhY2tUeXBlPT09J2Jvb2wnfHxyZWZlcmVuY2VUcmFja1R5cGU9PT0nc3RyaW5nJylyZXR1cm4gMDsvLyBjb250aW51ZQovLyBGaW5kIHRoZSB0cmFjayBpbiB0aGUgdGFyZ2V0IGNsaXAgd2hvc2UgbmFtZSBhbmQgdHlwZSBtYXRjaGVzIHRoZSByZWZlcmVuY2UgdHJhY2sKdmFyIHRhcmdldFRyYWNrPXRhcmdldENsaXAudHJhY2tzLmZpbmQoZnVuY3Rpb24odHJhY2spe3JldHVybiB0cmFjay5uYW1lPT09cmVmZXJlbmNlVHJhY2submFtZSYmdHJhY2suVmFsdWVUeXBlTmFtZT09PXJlZmVyZW5jZVRyYWNrVHlwZTt9KTtpZih0YXJnZXRUcmFjaz09PXVuZGVmaW5lZClyZXR1cm4gMDsvLyBjb250aW51ZQp2YXIgcmVmZXJlbmNlT2Zmc2V0PTA7dmFyIHJlZmVyZW5jZVZhbHVlU2l6ZT1yZWZlcmVuY2VUcmFjay5nZXRWYWx1ZVNpemUoKTtpZihyZWZlcmVuY2VUcmFjay5jcmVhdGVJbnRlcnBvbGFudC5pc0ludGVycG9sYW50RmFjdG9yeU1ldGhvZEdMVEZDdWJpY1NwbGluZSl7cmVmZXJlbmNlT2Zmc2V0PXJlZmVyZW5jZVZhbHVlU2l6ZS8zO312YXIgdGFyZ2V0T2Zmc2V0PTA7dmFyIHRhcmdldFZhbHVlU2l6ZT10YXJnZXRUcmFjay5nZXRWYWx1ZVNpemUoKTtpZih0YXJnZXRUcmFjay5jcmVhdGVJbnRlcnBvbGFudC5pc0ludGVycG9sYW50RmFjdG9yeU1ldGhvZEdMVEZDdWJpY1NwbGluZSl7dGFyZ2V0T2Zmc2V0PXRhcmdldFZhbHVlU2l6ZS8zO312YXIgbGFzdEluZGV4PXJlZmVyZW5jZVRyYWNrLnRpbWVzLmxlbmd0aC0xO3ZhciByZWZlcmVuY2VWYWx1ZTsvLyBGaW5kIHRoZSB2YWx1ZSB0byBzdWJ0cmFjdCBvdXQgb2YgdGhlIHRyYWNrCmlmKHJlZmVyZW5jZVRpbWU8PXJlZmVyZW5jZVRyYWNrLnRpbWVzWzBdKXsvLyBSZWZlcmVuY2UgZnJhbWUgaXMgZWFybGllciB0aGFuIHRoZSBmaXJzdCBrZXlmcmFtZSwgc28ganVzdCB1c2UgdGhlIGZpcnN0IGtleWZyYW1lCnZhciBzdGFydEluZGV4PXJlZmVyZW5jZU9mZnNldDt2YXIgZW5kSW5kZXg9cmVmZXJlbmNlVmFsdWVTaXplLXJlZmVyZW5jZU9mZnNldDtyZWZlcmVuY2VWYWx1ZT1BbmltYXRpb25VdGlscy5hcnJheVNsaWNlKHJlZmVyZW5jZVRyYWNrLnZhbHVlcyxzdGFydEluZGV4LGVuZEluZGV4KTt9ZWxzZSBpZihyZWZlcmVuY2VUaW1lPj1yZWZlcmVuY2VUcmFjay50aW1lc1tsYXN0SW5kZXhdKXsvLyBSZWZlcmVuY2UgZnJhbWUgaXMgYWZ0ZXIgdGhlIGxhc3Qga2V5ZnJhbWUsIHNvIGp1c3QgdXNlIHRoZSBsYXN0IGtleWZyYW1lCnZhciBfc3RhcnRJbmRleD1sYXN0SW5kZXgqcmVmZXJlbmNlVmFsdWVTaXplK3JlZmVyZW5jZU9mZnNldDt2YXIgX2VuZEluZGV4PV9zdGFydEluZGV4K3JlZmVyZW5jZVZhbHVlU2l6ZS1yZWZlcmVuY2VPZmZzZXQ7cmVmZXJlbmNlVmFsdWU9QW5pbWF0aW9uVXRpbHMuYXJyYXlTbGljZShyZWZlcmVuY2VUcmFjay52YWx1ZXMsX3N0YXJ0SW5kZXgsX2VuZEluZGV4KTt9ZWxzZXsvLyBJbnRlcnBvbGF0ZSB0byB0aGUgcmVmZXJlbmNlIHZhbHVlCnZhciBpbnRlcnBvbGFudD1yZWZlcmVuY2VUcmFjay5jcmVhdGVJbnRlcnBvbGFudCgpO3ZhciBfc3RhcnRJbmRleDI9cmVmZXJlbmNlT2Zmc2V0O3ZhciBfZW5kSW5kZXgyPXJlZmVyZW5jZVZhbHVlU2l6ZS1yZWZlcmVuY2VPZmZzZXQ7aW50ZXJwb2xhbnQuZXZhbHVhdGUocmVmZXJlbmNlVGltZSk7cmVmZXJlbmNlVmFsdWU9QW5pbWF0aW9uVXRpbHMuYXJyYXlTbGljZShpbnRlcnBvbGFudC5yZXN1bHRCdWZmZXIsX3N0YXJ0SW5kZXgyLF9lbmRJbmRleDIpO30vLyBDb25qdWdhdGUgdGhlIHF1YXRlcm5pb24KaWYocmVmZXJlbmNlVHJhY2tUeXBlPT09J3F1YXRlcm5pb24nKXt2YXIgcmVmZXJlbmNlUXVhdD1uZXcgUXVhdGVybmlvbigpLmZyb21BcnJheShyZWZlcmVuY2VWYWx1ZSkubm9ybWFsaXplKCkuY29uanVnYXRlKCk7cmVmZXJlbmNlUXVhdC50b0FycmF5KHJlZmVyZW5jZVZhbHVlKTt9Ly8gU3VidHJhY3QgdGhlIHJlZmVyZW5jZSB2YWx1ZSBmcm9tIGFsbCBvZiB0aGUgdHJhY2sgdmFsdWVzCnZhciBudW1UaW1lcz10YXJnZXRUcmFjay50aW1lcy5sZW5ndGg7Zm9yKHZhciBqPTA7ajxudW1UaW1lczsrK2ope3ZhciB2YWx1ZVN0YXJ0PWoqdGFyZ2V0VmFsdWVTaXplK3RhcmdldE9mZnNldDtpZihyZWZlcmVuY2VUcmFja1R5cGU9PT0ncXVhdGVybmlvbicpey8vIE11bHRpcGx5IHRoZSBjb25qdWdhdGUgZm9yIHF1YXRlcm5pb24gdHJhY2sgdHlwZXMKUXVhdGVybmlvbi5tdWx0aXBseVF1YXRlcm5pb25zRmxhdCh0YXJnZXRUcmFjay52YWx1ZXMsdmFsdWVTdGFydCxyZWZlcmVuY2VWYWx1ZSwwLHRhcmdldFRyYWNrLnZhbHVlcyx2YWx1ZVN0YXJ0KTt9ZWxzZXt2YXIgdmFsdWVFbmQ9dGFyZ2V0VmFsdWVTaXplLXRhcmdldE9mZnNldCoyOy8vIFN1YnRyYWN0IGVhY2ggdmFsdWUgZm9yIGFsbCBvdGhlciBudW1lcmljIHRyYWNrIHR5cGVzCmZvcih2YXIgaz0wO2s8dmFsdWVFbmQ7KytrKXt0YXJnZXRUcmFjay52YWx1ZXNbdmFsdWVTdGFydCtrXS09cmVmZXJlbmNlVmFsdWVba107fX19fSxfcmV0O2Zvcih2YXIgX2kyNTM9MDtfaTI1MzxudW1UcmFja3M7KytfaTI1Myl7X3JldD1fbG9vcCgpO2lmKF9yZXQ9PT0wKWNvbnRpbnVlO310YXJnZXRDbGlwLmJsZW5kTW9kZT1BZGRpdGl2ZUFuaW1hdGlvbkJsZW5kTW9kZTtyZXR1cm4gdGFyZ2V0Q2xpcDt9fTsvKioKICogQWJzdHJhY3QgYmFzZSBjbGFzcyBvZiBpbnRlcnBvbGFudHMgb3ZlciBwYXJhbWV0cmljIHNhbXBsZXMuCiAqCiAqIFRoZSBwYXJhbWV0ZXIgZG9tYWluIGlzIG9uZSBkaW1lbnNpb25hbCwgdHlwaWNhbGx5IHRoZSB0aW1lIG9yIGEgcGF0aAogKiBhbG9uZyBhIGN1cnZlIGRlZmluZWQgYnkgdGhlIGRhdGEuCiAqCiAqIFRoZSBzYW1wbGUgdmFsdWVzIGNhbiBoYXZlIGFueSBkaW1lbnNpb25hbGl0eSBhbmQgZGVyaXZlZCBjbGFzc2VzIG1heQogKiBhcHBseSBzcGVjaWFsIGludGVycHJldGF0aW9ucyB0byB0aGUgZGF0YS4KICoKICogVGhpcyBjbGFzcyBwcm92aWRlcyB0aGUgaW50ZXJ2YWwgc2VlayBpbiBhIFRlbXBsYXRlIE1ldGhvZCwgZGVmZXJyaW5nCiAqIHRoZSBhY3R1YWwgaW50ZXJwb2xhdGlvbiB0byBkZXJpdmVkIGNsYXNzZXMuCiAqCiAqIFRpbWUgY29tcGxleGl0eSBpcyBPKDEpIGZvciBsaW5lYXIgYWNjZXNzIGNyb3NzaW5nIGF0IG1vc3QgdHdvIHBvaW50cwogKiBhbmQgTyhsb2cgTikgZm9yIHJhbmRvbSBhY2Nlc3MsIHdoZXJlIE4gaXMgdGhlIG51bWJlciBvZiBwb3NpdGlvbnMuCiAqCiAqIFJlZmVyZW5jZXM6CiAqCiAqIAkJaHR0cDovL3d3dy5vb2Rlc2lnbi5jb20vdGVtcGxhdGUtbWV0aG9kLXBhdHRlcm4uaHRtbAogKgogKi92YXIgSW50ZXJwb2xhbnQ9LyojX19QVVJFX18qL2Z1bmN0aW9uKCl7ZnVuY3Rpb24gSW50ZXJwb2xhbnQocGFyYW1ldGVyUG9zaXRpb25zLHNhbXBsZVZhbHVlcyxzYW1wbGVTaXplLHJlc3VsdEJ1ZmZlcil7X2NsYXNzQ2FsbENoZWNrKHRoaXMsSW50ZXJwb2xhbnQpO3RoaXMucGFyYW1ldGVyUG9zaXRpb25zPXBhcmFtZXRlclBvc2l0aW9uczt0aGlzLl9jYWNoZWRJbmRleD0wO3RoaXMucmVzdWx0QnVmZmVyPXJlc3VsdEJ1ZmZlciE9PXVuZGVmaW5lZD9yZXN1bHRCdWZmZXI6bmV3IHNhbXBsZVZhbHVlcy5jb25zdHJ1Y3RvcihzYW1wbGVTaXplKTt0aGlzLnNhbXBsZVZhbHVlcz1zYW1wbGVWYWx1ZXM7dGhpcy52YWx1ZVNpemU9c2FtcGxlU2l6ZTt0aGlzLnNldHRpbmdzPW51bGw7dGhpcy5EZWZhdWx0U2V0dGluZ3NfPXt9O31fY3JlYXRlQ2xhc3MoSW50ZXJwb2xhbnQsW3trZXk6ImV2YWx1YXRlIix2YWx1ZTpmdW5jdGlvbiBldmFsdWF0ZSh0KXt2YXIgcHA9dGhpcy5wYXJhbWV0ZXJQb3NpdGlvbnM7dmFyIGkxPXRoaXMuX2NhY2hlZEluZGV4LHQxPXBwW2kxXSx0MD1wcFtpMS0xXTt2YWxpZGF0ZV9pbnRlcnZhbDp7c2Vlazp7dmFyIHJpZ2h0O2xpbmVhcl9zY2FuOnsvLy0gU2VlIGh0dHA6Ly9qc3BlcmYuY29tL2NvbXBhcmlzb24tdG8tdW5kZWZpbmVkLzMKLy8tIHNsb3dlciBjb2RlOgovLy0KLy8tIAkJCQlpZiAoIHQgPj0gdDEgfHwgdDEgPT09IHVuZGVmaW5lZCApIHsKZm9yd2FyZF9zY2FuOmlmKCEodDx0MSkpe2Zvcih2YXIgZ2l2ZVVwQXQ9aTErMjs7KXtpZih0MT09PXVuZGVmaW5lZCl7aWYodDx0MClicmVhayBmb3J3YXJkX3NjYW47Ly8gYWZ0ZXIgZW5kCmkxPXBwLmxlbmd0aDt0aGlzLl9jYWNoZWRJbmRleD1pMTtyZXR1cm4gdGhpcy5hZnRlckVuZF8oaTEtMSx0LHQwKTt9aWYoaTE9PT1naXZlVXBBdClicmVhazsvLyB0aGlzIGxvb3AKdDA9dDE7dDE9cHBbKytpMV07aWYodDx0MSl7Ly8gd2UgaGF2ZSBhcnJpdmVkIGF0IHRoZSBzb3VnaHQgaW50ZXJ2YWwKYnJlYWsgc2Vlazt9fS8vIHByZXBhcmUgYmluYXJ5IHNlYXJjaCBvbiB0aGUgcmlnaHQgc2lkZSBvZiB0aGUgaW5kZXgKcmlnaHQ9cHAubGVuZ3RoO2JyZWFrIGxpbmVhcl9zY2FuO30vLy0gc2xvd2VyIGNvZGU6Ci8vLQkJCQkJaWYgKCB0IDwgdDAgfHwgdDAgPT09IHVuZGVmaW5lZCApIHsKaWYoISh0Pj10MCkpey8vIGxvb3Bpbmc/CnZhciB0MWdsb2JhbD1wcFsxXTtpZih0PHQxZ2xvYmFsKXtpMT0yOy8vICsgMSwgdXNpbmcgdGhlIHNjYW4gZm9yIHRoZSBkZXRhaWxzCnQwPXQxZ2xvYmFsO30vLyBsaW5lYXIgcmV2ZXJzZSBzY2FuCmZvcih2YXIgX2dpdmVVcEF0PWkxLTI7Oyl7aWYodDA9PT11bmRlZmluZWQpey8vIGJlZm9yZSBzdGFydAp0aGlzLl9jYWNoZWRJbmRleD0wO3JldHVybiB0aGlzLmJlZm9yZVN0YXJ0XygwLHQsdDEpO31pZihpMT09PV9naXZlVXBBdClicmVhazsvLyB0aGlzIGxvb3AKdDE9dDA7dDA9cHBbLS1pMS0xXTtpZih0Pj10MCl7Ly8gd2UgaGF2ZSBhcnJpdmVkIGF0IHRoZSBzb3VnaHQgaW50ZXJ2YWwKYnJlYWsgc2Vlazt9fS8vIHByZXBhcmUgYmluYXJ5IHNlYXJjaCBvbiB0aGUgbGVmdCBzaWRlIG9mIHRoZSBpbmRleApyaWdodD1pMTtpMT0wO2JyZWFrIGxpbmVhcl9zY2FuO30vLyB0aGUgaW50ZXJ2YWwgaXMgdmFsaWQKYnJlYWsgdmFsaWRhdGVfaW50ZXJ2YWw7fS8vIGxpbmVhciBzY2FuCi8vIGJpbmFyeSBzZWFyY2gKd2hpbGUoaTE8cmlnaHQpe3ZhciBtaWQ9aTErcmlnaHQ+Pj4xO2lmKHQ8cHBbbWlkXSl7cmlnaHQ9bWlkO31lbHNle2kxPW1pZCsxO319dDE9cHBbaTFdO3QwPXBwW2kxLTFdOy8vIGNoZWNrIGJvdW5kYXJ5IGNhc2VzLCBhZ2FpbgppZih0MD09PXVuZGVmaW5lZCl7dGhpcy5fY2FjaGVkSW5kZXg9MDtyZXR1cm4gdGhpcy5iZWZvcmVTdGFydF8oMCx0LHQxKTt9aWYodDE9PT11bmRlZmluZWQpe2kxPXBwLmxlbmd0aDt0aGlzLl9jYWNoZWRJbmRleD1pMTtyZXR1cm4gdGhpcy5hZnRlckVuZF8oaTEtMSx0MCx0KTt9fS8vIHNlZWsKdGhpcy5fY2FjaGVkSW5kZXg9aTE7dGhpcy5pbnRlcnZhbENoYW5nZWRfKGkxLHQwLHQxKTt9Ly8gdmFsaWRhdGVfaW50ZXJ2YWwKcmV0dXJuIHRoaXMuaW50ZXJwb2xhdGVfKGkxLHQwLHQsdDEpO319LHtrZXk6ImdldFNldHRpbmdzXyIsdmFsdWU6ZnVuY3Rpb24gZ2V0U2V0dGluZ3NfKCl7cmV0dXJuIHRoaXMuc2V0dGluZ3N8fHRoaXMuRGVmYXVsdFNldHRpbmdzXzt9fSx7a2V5OiJjb3B5U2FtcGxlVmFsdWVfIix2YWx1ZTpmdW5jdGlvbiBjb3B5U2FtcGxlVmFsdWVfKGluZGV4KXsvLyBjb3BpZXMgYSBzYW1wbGUgdmFsdWUgdG8gdGhlIHJlc3VsdCBidWZmZXIKdmFyIHJlc3VsdD10aGlzLnJlc3VsdEJ1ZmZlcix2YWx1ZXM9dGhpcy5zYW1wbGVWYWx1ZXMsc3RyaWRlPXRoaXMudmFsdWVTaXplLG9mZnNldD1pbmRleCpzdHJpZGU7Zm9yKHZhciBfaTI1ND0wO19pMjU0IT09c3RyaWRlOysrX2kyNTQpe3Jlc3VsdFtfaTI1NF09dmFsdWVzW29mZnNldCtfaTI1NF07fXJldHVybiByZXN1bHQ7fS8vIFRlbXBsYXRlIG1ldGhvZHMgZm9yIGRlcml2ZWQgY2xhc3NlczoKfSx7a2V5OiJpbnRlcnBvbGF0ZV8iLHZhbHVlOmZ1bmN0aW9uIGludGVycG9sYXRlXygvKiBpMSwgdDAsIHQsIHQxICovKXt0aHJvdyBuZXcgRXJyb3IoJ2NhbGwgdG8gYWJzdHJhY3QgbWV0aG9kJyk7Ly8gaW1wbGVtZW50YXRpb25zIHNoYWxsIHJldHVybiB0aGlzLnJlc3VsdEJ1ZmZlcgp9fSx7a2V5OiJpbnRlcnZhbENoYW5nZWRfIix2YWx1ZTpmdW5jdGlvbiBpbnRlcnZhbENoYW5nZWRfKC8qIGkxLCB0MCwgdDEgKi8pey8vIGVtcHR5Cn19XSk7cmV0dXJuIEludGVycG9sYW50O30oKTsvLyBBTElBUyBERUZJTklUSU9OUwpJbnRlcnBvbGFudC5wcm90b3R5cGUuYmVmb3JlU3RhcnRfPUludGVycG9sYW50LnByb3RvdHlwZS5jb3B5U2FtcGxlVmFsdWVfO0ludGVycG9sYW50LnByb3RvdHlwZS5hZnRlckVuZF89SW50ZXJwb2xhbnQucHJvdG90eXBlLmNvcHlTYW1wbGVWYWx1ZV87LyoqCiAqIEZhc3QgYW5kIHNpbXBsZSBjdWJpYyBzcGxpbmUgaW50ZXJwb2xhbnQuCiAqCiAqIEl0IHdhcyBkZXJpdmVkIGZyb20gYSBIZXJtaXRpYW4gY29uc3RydWN0aW9uIHNldHRpbmcgdGhlIGZpcnN0IGRlcml2YXRpdmUKICogYXQgZWFjaCBzYW1wbGUgcG9zaXRpb24gdG8gdGhlIGxpbmVhciBzbG9wZSBiZXR3ZWVuIG5laWdoYm9yaW5nIHBvc2l0aW9ucwogKiBvdmVyIHRoZWlyIHBhcmFtZXRlciBpbnRlcnZhbC4KICovdmFyIEN1YmljSW50ZXJwb2xhbnQ9LyojX19QVVJFX18qL2Z1bmN0aW9uKF9JbnRlcnBvbGFudCl7X2luaGVyaXRzKEN1YmljSW50ZXJwb2xhbnQsX0ludGVycG9sYW50KTt2YXIgX3N1cGVyOTg9X2NyZWF0ZVN1cGVyKEN1YmljSW50ZXJwb2xhbnQpO2Z1bmN0aW9uIEN1YmljSW50ZXJwb2xhbnQocGFyYW1ldGVyUG9zaXRpb25zLHNhbXBsZVZhbHVlcyxzYW1wbGVTaXplLHJlc3VsdEJ1ZmZlcil7dmFyIF90aGlzODg7X2NsYXNzQ2FsbENoZWNrKHRoaXMsQ3ViaWNJbnRlcnBvbGFudCk7X3RoaXM4OD1fc3VwZXI5OC5jYWxsKHRoaXMscGFyYW1ldGVyUG9zaXRpb25zLHNhbXBsZVZhbHVlcyxzYW1wbGVTaXplLHJlc3VsdEJ1ZmZlcik7X3RoaXM4OC5fd2VpZ2h0UHJldj0tMDtfdGhpczg4Ll9vZmZzZXRQcmV2PS0wO190aGlzODguX3dlaWdodE5leHQ9LTA7X3RoaXM4OC5fb2Zmc2V0TmV4dD0tMDtfdGhpczg4LkRlZmF1bHRTZXR0aW5nc189e2VuZGluZ1N0YXJ0Olplcm9DdXJ2YXR1cmVFbmRpbmcsZW5kaW5nRW5kOlplcm9DdXJ2YXR1cmVFbmRpbmd9O3JldHVybiBfdGhpczg4O31fY3JlYXRlQ2xhc3MoQ3ViaWNJbnRlcnBvbGFudCxbe2tleToiaW50ZXJ2YWxDaGFuZ2VkXyIsdmFsdWU6ZnVuY3Rpb24gaW50ZXJ2YWxDaGFuZ2VkXyhpMSx0MCx0MSl7dmFyIHBwPXRoaXMucGFyYW1ldGVyUG9zaXRpb25zO3ZhciBpUHJldj1pMS0yLGlOZXh0PWkxKzEsdFByZXY9cHBbaVByZXZdLHROZXh0PXBwW2lOZXh0XTtpZih0UHJldj09PXVuZGVmaW5lZCl7c3dpdGNoKHRoaXMuZ2V0U2V0dGluZ3NfKCkuZW5kaW5nU3RhcnQpe2Nhc2UgWmVyb1Nsb3BlRW5kaW5nOi8vIGYnKHQwKSA9IDAKaVByZXY9aTE7dFByZXY9Mip0MC10MTticmVhaztjYXNlIFdyYXBBcm91bmRFbmRpbmc6Ly8gdXNlIHRoZSBvdGhlciBlbmQgb2YgdGhlIGN1cnZlCmlQcmV2PXBwLmxlbmd0aC0yO3RQcmV2PXQwK3BwW2lQcmV2XS1wcFtpUHJldisxXTticmVhaztkZWZhdWx0Oi8vIFplcm9DdXJ2YXR1cmVFbmRpbmcKLy8gZicnKHQwKSA9IDAgYS5rLmEuIE5hdHVyYWwgU3BsaW5lCmlQcmV2PWkxO3RQcmV2PXQxO319aWYodE5leHQ9PT11bmRlZmluZWQpe3N3aXRjaCh0aGlzLmdldFNldHRpbmdzXygpLmVuZGluZ0VuZCl7Y2FzZSBaZXJvU2xvcGVFbmRpbmc6Ly8gZicodE4pID0gMAppTmV4dD1pMTt0TmV4dD0yKnQxLXQwO2JyZWFrO2Nhc2UgV3JhcEFyb3VuZEVuZGluZzovLyB1c2UgdGhlIG90aGVyIGVuZCBvZiB0aGUgY3VydmUKaU5leHQ9MTt0TmV4dD10MStwcFsxXS1wcFswXTticmVhaztkZWZhdWx0Oi8vIFplcm9DdXJ2YXR1cmVFbmRpbmcKLy8gZicnKHROKSA9IDAsIGEuay5hLiBOYXR1cmFsIFNwbGluZQppTmV4dD1pMS0xO3ROZXh0PXQwO319dmFyIGhhbGZEdD0odDEtdDApKjAuNSxzdHJpZGU9dGhpcy52YWx1ZVNpemU7dGhpcy5fd2VpZ2h0UHJldj1oYWxmRHQvKHQwLXRQcmV2KTt0aGlzLl93ZWlnaHROZXh0PWhhbGZEdC8odE5leHQtdDEpO3RoaXMuX29mZnNldFByZXY9aVByZXYqc3RyaWRlO3RoaXMuX29mZnNldE5leHQ9aU5leHQqc3RyaWRlO319LHtrZXk6ImludGVycG9sYXRlXyIsdmFsdWU6ZnVuY3Rpb24gaW50ZXJwb2xhdGVfKGkxLHQwLHQsdDEpe3ZhciByZXN1bHQ9dGhpcy5yZXN1bHRCdWZmZXIsdmFsdWVzPXRoaXMuc2FtcGxlVmFsdWVzLHN0cmlkZT10aGlzLnZhbHVlU2l6ZSxvMT1pMSpzdHJpZGUsbzA9bzEtc3RyaWRlLG9QPXRoaXMuX29mZnNldFByZXYsb049dGhpcy5fb2Zmc2V0TmV4dCx3UD10aGlzLl93ZWlnaHRQcmV2LHdOPXRoaXMuX3dlaWdodE5leHQscD0odC10MCkvKHQxLXQwKSxwcD1wKnAscHBwPXBwKnA7Ly8gZXZhbHVhdGUgcG9seW5vbWlhbHMKdmFyIHNQPS13UCpwcHArMip3UCpwcC13UCpwO3ZhciBzMD0oMSt3UCkqcHBwKygtMS41LTIqd1ApKnBwKygtMC41K3dQKSpwKzE7dmFyIHMxPSgtMS13TikqcHBwKygxLjUrd04pKnBwKzAuNSpwO3ZhciBzTj13TipwcHAtd04qcHA7Ly8gY29tYmluZSBkYXRhIGxpbmVhcmx5CmZvcih2YXIgX2kyNTU9MDtfaTI1NSE9PXN0cmlkZTsrK19pMjU1KXtyZXN1bHRbX2kyNTVdPXNQKnZhbHVlc1tvUCtfaTI1NV0rczAqdmFsdWVzW28wK19pMjU1XStzMSp2YWx1ZXNbbzErX2kyNTVdK3NOKnZhbHVlc1tvTitfaTI1NV07fXJldHVybiByZXN1bHQ7fX1dKTtyZXR1cm4gQ3ViaWNJbnRlcnBvbGFudDt9KEludGVycG9sYW50KTt2YXIgTGluZWFySW50ZXJwb2xhbnQ9LyojX19QVVJFX18qL2Z1bmN0aW9uKF9JbnRlcnBvbGFudDIpe19pbmhlcml0cyhMaW5lYXJJbnRlcnBvbGFudCxfSW50ZXJwb2xhbnQyKTt2YXIgX3N1cGVyOTk9X2NyZWF0ZVN1cGVyKExpbmVhckludGVycG9sYW50KTtmdW5jdGlvbiBMaW5lYXJJbnRlcnBvbGFudChwYXJhbWV0ZXJQb3NpdGlvbnMsc2FtcGxlVmFsdWVzLHNhbXBsZVNpemUscmVzdWx0QnVmZmVyKXtfY2xhc3NDYWxsQ2hlY2sodGhpcyxMaW5lYXJJbnRlcnBvbGFudCk7cmV0dXJuIF9zdXBlcjk5LmNhbGwodGhpcyxwYXJhbWV0ZXJQb3NpdGlvbnMsc2FtcGxlVmFsdWVzLHNhbXBsZVNpemUscmVzdWx0QnVmZmVyKTt9X2NyZWF0ZUNsYXNzKExpbmVhckludGVycG9sYW50LFt7a2V5OiJpbnRlcnBvbGF0ZV8iLHZhbHVlOmZ1bmN0aW9uIGludGVycG9sYXRlXyhpMSx0MCx0LHQxKXt2YXIgcmVzdWx0PXRoaXMucmVzdWx0QnVmZmVyLHZhbHVlcz10aGlzLnNhbXBsZVZhbHVlcyxzdHJpZGU9dGhpcy52YWx1ZVNpemUsb2Zmc2V0MT1pMSpzdHJpZGUsb2Zmc2V0MD1vZmZzZXQxLXN0cmlkZSx3ZWlnaHQxPSh0LXQwKS8odDEtdDApLHdlaWdodDA9MS13ZWlnaHQxO2Zvcih2YXIgX2kyNTY9MDtfaTI1NiE9PXN0cmlkZTsrK19pMjU2KXtyZXN1bHRbX2kyNTZdPXZhbHVlc1tvZmZzZXQwK19pMjU2XSp3ZWlnaHQwK3ZhbHVlc1tvZmZzZXQxK19pMjU2XSp3ZWlnaHQxO31yZXR1cm4gcmVzdWx0O319XSk7cmV0dXJuIExpbmVhckludGVycG9sYW50O30oSW50ZXJwb2xhbnQpOy8qKgogKgogKiBJbnRlcnBvbGFudCB0aGF0IGV2YWx1YXRlcyB0byB0aGUgc2FtcGxlIHZhbHVlIGF0IHRoZSBwb3NpdGlvbiBwcmVjZWVkaW5nCiAqIHRoZSBwYXJhbWV0ZXIuCiAqL3ZhciBEaXNjcmV0ZUludGVycG9sYW50PS8qI19fUFVSRV9fKi9mdW5jdGlvbihfSW50ZXJwb2xhbnQzKXtfaW5oZXJpdHMoRGlzY3JldGVJbnRlcnBvbGFudCxfSW50ZXJwb2xhbnQzKTt2YXIgX3N1cGVyMTAwPV9jcmVhdGVTdXBlcihEaXNjcmV0ZUludGVycG9sYW50KTtmdW5jdGlvbiBEaXNjcmV0ZUludGVycG9sYW50KHBhcmFtZXRlclBvc2l0aW9ucyxzYW1wbGVWYWx1ZXMsc2FtcGxlU2l6ZSxyZXN1bHRCdWZmZXIpe19jbGFzc0NhbGxDaGVjayh0aGlzLERpc2NyZXRlSW50ZXJwb2xhbnQpO3JldHVybiBfc3VwZXIxMDAuY2FsbCh0aGlzLHBhcmFtZXRlclBvc2l0aW9ucyxzYW1wbGVWYWx1ZXMsc2FtcGxlU2l6ZSxyZXN1bHRCdWZmZXIpO31fY3JlYXRlQ2xhc3MoRGlzY3JldGVJbnRlcnBvbGFudCxbe2tleToiaW50ZXJwb2xhdGVfIix2YWx1ZTpmdW5jdGlvbiBpbnRlcnBvbGF0ZV8oaTEvKiwgdDAsIHQsIHQxICovKXtyZXR1cm4gdGhpcy5jb3B5U2FtcGxlVmFsdWVfKGkxLTEpO319XSk7cmV0dXJuIERpc2NyZXRlSW50ZXJwb2xhbnQ7fShJbnRlcnBvbGFudCk7dmFyIEtleWZyYW1lVHJhY2s9LyojX19QVVJFX18qL2Z1bmN0aW9uKCl7ZnVuY3Rpb24gS2V5ZnJhbWVUcmFjayhuYW1lLHRpbWVzLHZhbHVlcyxpbnRlcnBvbGF0aW9uKXtfY2xhc3NDYWxsQ2hlY2sodGhpcyxLZXlmcmFtZVRyYWNrKTtpZihuYW1lPT09dW5kZWZpbmVkKXRocm93IG5ldyBFcnJvcignVEhSRUUuS2V5ZnJhbWVUcmFjazogdHJhY2sgbmFtZSBpcyB1bmRlZmluZWQnKTtpZih0aW1lcz09PXVuZGVmaW5lZHx8dGltZXMubGVuZ3RoPT09MCl0aHJvdyBuZXcgRXJyb3IoJ1RIUkVFLktleWZyYW1lVHJhY2s6IG5vIGtleWZyYW1lcyBpbiB0cmFjayBuYW1lZCAnK25hbWUpO3RoaXMubmFtZT1uYW1lO3RoaXMudGltZXM9QW5pbWF0aW9uVXRpbHMuY29udmVydEFycmF5KHRpbWVzLHRoaXMuVGltZUJ1ZmZlclR5cGUpO3RoaXMudmFsdWVzPUFuaW1hdGlvblV0aWxzLmNvbnZlcnRBcnJheSh2YWx1ZXMsdGhpcy5WYWx1ZUJ1ZmZlclR5cGUpO3RoaXMuc2V0SW50ZXJwb2xhdGlvbihpbnRlcnBvbGF0aW9ufHx0aGlzLkRlZmF1bHRJbnRlcnBvbGF0aW9uKTt9Ly8gU2VyaWFsaXphdGlvbiAoaW4gc3RhdGljIGNvbnRleHQsIGJlY2F1c2Ugb2YgY29uc3RydWN0b3IgaW52b2NhdGlvbgovLyBhbmQgYXV0b21hdGljIGludm9jYXRpb24gb2YgLnRvSlNPTik6Cl9jcmVhdGVDbGFzcyhLZXlmcmFtZVRyYWNrLFt7a2V5OiJJbnRlcnBvbGFudEZhY3RvcnlNZXRob2REaXNjcmV0ZSIsdmFsdWU6ZnVuY3Rpb24gSW50ZXJwb2xhbnRGYWN0b3J5TWV0aG9kRGlzY3JldGUocmVzdWx0KXtyZXR1cm4gbmV3IERpc2NyZXRlSW50ZXJwb2xhbnQodGhpcy50aW1lcyx0aGlzLnZhbHVlcyx0aGlzLmdldFZhbHVlU2l6ZSgpLHJlc3VsdCk7fX0se2tleToiSW50ZXJwb2xhbnRGYWN0b3J5TWV0aG9kTGluZWFyIix2YWx1ZTpmdW5jdGlvbiBJbnRlcnBvbGFudEZhY3RvcnlNZXRob2RMaW5lYXIocmVzdWx0KXtyZXR1cm4gbmV3IExpbmVhckludGVycG9sYW50KHRoaXMudGltZXMsdGhpcy52YWx1ZXMsdGhpcy5nZXRWYWx1ZVNpemUoKSxyZXN1bHQpO319LHtrZXk6IkludGVycG9sYW50RmFjdG9yeU1ldGhvZFNtb290aCIsdmFsdWU6ZnVuY3Rpb24gSW50ZXJwb2xhbnRGYWN0b3J5TWV0aG9kU21vb3RoKHJlc3VsdCl7cmV0dXJuIG5ldyBDdWJpY0ludGVycG9sYW50KHRoaXMudGltZXMsdGhpcy52YWx1ZXMsdGhpcy5nZXRWYWx1ZVNpemUoKSxyZXN1bHQpO319LHtrZXk6InNldEludGVycG9sYXRpb24iLHZhbHVlOmZ1bmN0aW9uIHNldEludGVycG9sYXRpb24oaW50ZXJwb2xhdGlvbil7dmFyIGZhY3RvcnlNZXRob2Q7c3dpdGNoKGludGVycG9sYXRpb24pe2Nhc2UgSW50ZXJwb2xhdGVEaXNjcmV0ZTpmYWN0b3J5TWV0aG9kPXRoaXMuSW50ZXJwb2xhbnRGYWN0b3J5TWV0aG9kRGlzY3JldGU7YnJlYWs7Y2FzZSBJbnRlcnBvbGF0ZUxpbmVhcjpmYWN0b3J5TWV0aG9kPXRoaXMuSW50ZXJwb2xhbnRGYWN0b3J5TWV0aG9kTGluZWFyO2JyZWFrO2Nhc2UgSW50ZXJwb2xhdGVTbW9vdGg6ZmFjdG9yeU1ldGhvZD10aGlzLkludGVycG9sYW50RmFjdG9yeU1ldGhvZFNtb290aDticmVhazt9aWYoZmFjdG9yeU1ldGhvZD09PXVuZGVmaW5lZCl7dmFyIG1lc3NhZ2U9J3Vuc3VwcG9ydGVkIGludGVycG9sYXRpb24gZm9yICcrdGhpcy5WYWx1ZVR5cGVOYW1lKycga2V5ZnJhbWUgdHJhY2sgbmFtZWQgJyt0aGlzLm5hbWU7aWYodGhpcy5jcmVhdGVJbnRlcnBvbGFudD09PXVuZGVmaW5lZCl7Ly8gZmFsbCBiYWNrIHRvIGRlZmF1bHQsIHVubGVzcyB0aGUgZGVmYXVsdCBpdHNlbGYgaXMgbWVzc2VkIHVwCmlmKGludGVycG9sYXRpb24hPT10aGlzLkRlZmF1bHRJbnRlcnBvbGF0aW9uKXt0aGlzLnNldEludGVycG9sYXRpb24odGhpcy5EZWZhdWx0SW50ZXJwb2xhdGlvbik7fWVsc2V7dGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpOy8vIGZhdGFsLCBpbiB0aGlzIGNhc2UKfX1jb25zb2xlLndhcm4oJ1RIUkVFLktleWZyYW1lVHJhY2s6JyxtZXNzYWdlKTtyZXR1cm4gdGhpczt9dGhpcy5jcmVhdGVJbnRlcnBvbGFudD1mYWN0b3J5TWV0aG9kO3JldHVybiB0aGlzO319LHtrZXk6ImdldEludGVycG9sYXRpb24iLHZhbHVlOmZ1bmN0aW9uIGdldEludGVycG9sYXRpb24oKXtzd2l0Y2godGhpcy5jcmVhdGVJbnRlcnBvbGFudCl7Y2FzZSB0aGlzLkludGVycG9sYW50RmFjdG9yeU1ldGhvZERpc2NyZXRlOnJldHVybiBJbnRlcnBvbGF0ZURpc2NyZXRlO2Nhc2UgdGhpcy5JbnRlcnBvbGFudEZhY3RvcnlNZXRob2RMaW5lYXI6cmV0dXJuIEludGVycG9sYXRlTGluZWFyO2Nhc2UgdGhpcy5JbnRlcnBvbGFudEZhY3RvcnlNZXRob2RTbW9vdGg6cmV0dXJuIEludGVycG9sYXRlU21vb3RoO319fSx7a2V5OiJnZXRWYWx1ZVNpemUiLHZhbHVlOmZ1bmN0aW9uIGdldFZhbHVlU2l6ZSgpe3JldHVybiB0aGlzLnZhbHVlcy5sZW5ndGgvdGhpcy50aW1lcy5sZW5ndGg7fS8vIG1vdmUgYWxsIGtleWZyYW1lcyBlaXRoZXIgZm9yd2FyZHMgb3IgYmFja3dhcmRzIGluIHRpbWUKfSx7a2V5OiJzaGlmdCIsdmFsdWU6ZnVuY3Rpb24gc2hpZnQodGltZU9mZnNldCl7aWYodGltZU9mZnNldCE9PTAuMCl7dmFyIHRpbWVzPXRoaXMudGltZXM7Zm9yKHZhciBfaTI1Nz0wLG49dGltZXMubGVuZ3RoO19pMjU3IT09bjsrK19pMjU3KXt0aW1lc1tfaTI1N10rPXRpbWVPZmZzZXQ7fX1yZXR1cm4gdGhpczt9Ly8gc2NhbGUgYWxsIGtleWZyYW1lIHRpbWVzIGJ5IGEgZmFjdG9yICh1c2VmdWwgZm9yIGZyYW1lIDwtPiBzZWNvbmRzIGNvbnZlcnNpb25zKQp9LHtrZXk6InNjYWxlIix2YWx1ZTpmdW5jdGlvbiBzY2FsZSh0aW1lU2NhbGUpe2lmKHRpbWVTY2FsZSE9PTEuMCl7dmFyIHRpbWVzPXRoaXMudGltZXM7Zm9yKHZhciBfaTI1OD0wLG49dGltZXMubGVuZ3RoO19pMjU4IT09bjsrK19pMjU4KXt0aW1lc1tfaTI1OF0qPXRpbWVTY2FsZTt9fXJldHVybiB0aGlzO30vLyByZW1vdmVzIGtleWZyYW1lcyBiZWZvcmUgYW5kIGFmdGVyIGFuaW1hdGlvbiB3aXRob3V0IGNoYW5naW5nIGFueSB2YWx1ZXMgd2l0aGluIHRoZSByYW5nZSBbc3RhcnRUaW1lLCBlbmRUaW1lXS4KLy8gSU1QT1JUQU5UOiBXZSBkbyBub3Qgc2hpZnQgYXJvdW5kIGtleXMgdG8gdGhlIHN0YXJ0IG9mIHRoZSB0cmFjayB0aW1lLCBiZWNhdXNlIGZvciBpbnRlcnBvbGF0ZWQga2V5cyB0aGlzIHdpbGwgY2hhbmdlIHRoZWlyIHZhbHVlcwp9LHtrZXk6InRyaW0iLHZhbHVlOmZ1bmN0aW9uIHRyaW0oc3RhcnRUaW1lLGVuZFRpbWUpe3ZhciB0aW1lcz10aGlzLnRpbWVzLG5LZXlzPXRpbWVzLmxlbmd0aDt2YXIgZnJvbT0wLHRvPW5LZXlzLTE7d2hpbGUoZnJvbSE9PW5LZXlzJiZ0aW1lc1tmcm9tXTxzdGFydFRpbWUpeysrZnJvbTt9d2hpbGUodG8hPT0tMSYmdGltZXNbdG9dPmVuZFRpbWUpey0tdG87fSsrdG87Ly8gaW5jbHVzaXZlIC0+IGV4Y2x1c2l2ZSBib3VuZAppZihmcm9tIT09MHx8dG8hPT1uS2V5cyl7Ly8gZW1wdHkgdHJhY2tzIGFyZSBmb3JiaWRkZW4sIHNvIGtlZXAgYXQgbGVhc3Qgb25lIGtleWZyYW1lCmlmKGZyb20+PXRvKXt0bz1NYXRoLm1heCh0bywxKTtmcm9tPXRvLTE7fXZhciBzdHJpZGU9dGhpcy5nZXRWYWx1ZVNpemUoKTt0aGlzLnRpbWVzPUFuaW1hdGlvblV0aWxzLmFycmF5U2xpY2UodGltZXMsZnJvbSx0byk7dGhpcy52YWx1ZXM9QW5pbWF0aW9uVXRpbHMuYXJyYXlTbGljZSh0aGlzLnZhbHVlcyxmcm9tKnN0cmlkZSx0bypzdHJpZGUpO31yZXR1cm4gdGhpczt9Ly8gZW5zdXJlIHdlIGRvIG5vdCBnZXQgYSBHYXJiYWdlSW5HYXJiYWdlT3V0IHNpdHVhdGlvbiwgbWFrZSBzdXJlIHRyYWNrcyBhcmUgYXQgbGVhc3QgbWluaW1hbGx5IHZpYWJsZQp9LHtrZXk6InZhbGlkYXRlIix2YWx1ZTpmdW5jdGlvbiB2YWxpZGF0ZSgpe3ZhciB2YWxpZD10cnVlO3ZhciB2YWx1ZVNpemU9dGhpcy5nZXRWYWx1ZVNpemUoKTtpZih2YWx1ZVNpemUtTWF0aC5mbG9vcih2YWx1ZVNpemUpIT09MCl7Y29uc29sZS5lcnJvcignVEhSRUUuS2V5ZnJhbWVUcmFjazogSW52YWxpZCB2YWx1ZSBzaXplIGluIHRyYWNrLicsdGhpcyk7dmFsaWQ9ZmFsc2U7fXZhciB0aW1lcz10aGlzLnRpbWVzLHZhbHVlcz10aGlzLnZhbHVlcyxuS2V5cz10aW1lcy5sZW5ndGg7aWYobktleXM9PT0wKXtjb25zb2xlLmVycm9yKCdUSFJFRS5LZXlmcmFtZVRyYWNrOiBUcmFjayBpcyBlbXB0eS4nLHRoaXMpO3ZhbGlkPWZhbHNlO312YXIgcHJldlRpbWU9bnVsbDtmb3IodmFyIF9pMjU5PTA7X2kyNTkhPT1uS2V5cztfaTI1OSsrKXt2YXIgY3VyclRpbWU9dGltZXNbX2kyNTldO2lmKHR5cGVvZiBjdXJyVGltZT09PSdudW1iZXInJiZpc05hTihjdXJyVGltZSkpe2NvbnNvbGUuZXJyb3IoJ1RIUkVFLktleWZyYW1lVHJhY2s6IFRpbWUgaXMgbm90IGEgdmFsaWQgbnVtYmVyLicsdGhpcyxfaTI1OSxjdXJyVGltZSk7dmFsaWQ9ZmFsc2U7YnJlYWs7fWlmKHByZXZUaW1lIT09bnVsbCYmcHJldlRpbWU+Y3VyclRpbWUpe2NvbnNvbGUuZXJyb3IoJ1RIUkVFLktleWZyYW1lVHJhY2s6IE91dCBvZiBvcmRlciBrZXlzLicsdGhpcyxfaTI1OSxjdXJyVGltZSxwcmV2VGltZSk7dmFsaWQ9ZmFsc2U7YnJlYWs7fXByZXZUaW1lPWN1cnJUaW1lO31pZih2YWx1ZXMhPT11bmRlZmluZWQpe2lmKEFuaW1hdGlvblV0aWxzLmlzVHlwZWRBcnJheSh2YWx1ZXMpKXtmb3IodmFyIF9pMjYwPTAsbj12YWx1ZXMubGVuZ3RoO19pMjYwIT09bjsrK19pMjYwKXt2YXIgX3ZhbHVlNT12YWx1ZXNbX2kyNjBdO2lmKGlzTmFOKF92YWx1ZTUpKXtjb25zb2xlLmVycm9yKCdUSFJFRS5LZXlmcmFtZVRyYWNrOiBWYWx1ZSBpcyBub3QgYSB2YWxpZCBudW1iZXIuJyx0aGlzLF9pMjYwLF92YWx1ZTUpO3ZhbGlkPWZhbHNlO2JyZWFrO319fX1yZXR1cm4gdmFsaWQ7fS8vIHJlbW92ZXMgZXF1aXZhbGVudCBzZXF1ZW50aWFsIGtleXMgYXMgY29tbW9uIGluIG1vcnBoIHRhcmdldCBzZXF1ZW5jZXMKLy8gKDAsMCwwLDAsMSwxLDEsMCwwLDAsMCwwLDAsMCkgLS0+ICgwLDAsMSwxLDAsMCkKfSx7a2V5OiJvcHRpbWl6ZSIsdmFsdWU6ZnVuY3Rpb24gb3B0aW1pemUoKXsvLyB0aW1lcyBvciB2YWx1ZXMgbWF5IGJlIHNoYXJlZCB3aXRoIG90aGVyIHRyYWNrcywgc28gb3ZlcndyaXRpbmcgaXMgdW5zYWZlCnZhciB0aW1lcz1BbmltYXRpb25VdGlscy5hcnJheVNsaWNlKHRoaXMudGltZXMpLHZhbHVlcz1BbmltYXRpb25VdGlscy5hcnJheVNsaWNlKHRoaXMudmFsdWVzKSxzdHJpZGU9dGhpcy5nZXRWYWx1ZVNpemUoKSxzbW9vdGhJbnRlcnBvbGF0aW9uPXRoaXMuZ2V0SW50ZXJwb2xhdGlvbigpPT09SW50ZXJwb2xhdGVTbW9vdGgsbGFzdEluZGV4PXRpbWVzLmxlbmd0aC0xO3ZhciB3cml0ZUluZGV4PTE7Zm9yKHZhciBfaTI2MT0xO19pMjYxPGxhc3RJbmRleDsrK19pMjYxKXt2YXIga2VlcD1mYWxzZTt2YXIgdGltZT10aW1lc1tfaTI2MV07dmFyIHRpbWVOZXh0PXRpbWVzW19pMjYxKzFdOy8vIHJlbW92ZSBhZGphY2VudCBrZXlmcmFtZXMgc2NoZWR1bGVkIGF0IHRoZSBzYW1lIHRpbWUKaWYodGltZSE9PXRpbWVOZXh0JiYoX2kyNjEhPT0xfHx0aW1lIT09dGltZXNbMF0pKXtpZighc21vb3RoSW50ZXJwb2xhdGlvbil7Ly8gcmVtb3ZlIHVubmVjZXNzYXJ5IGtleWZyYW1lcyBzYW1lIGFzIHRoZWlyIG5laWdoYm9ycwp2YXIgb2Zmc2V0PV9pMjYxKnN0cmlkZSxvZmZzZXRQPW9mZnNldC1zdHJpZGUsb2Zmc2V0Tj1vZmZzZXQrc3RyaWRlO2Zvcih2YXIgaj0wO2ohPT1zdHJpZGU7KytqKXt2YXIgX3ZhbHVlNj12YWx1ZXNbb2Zmc2V0K2pdO2lmKF92YWx1ZTYhPT12YWx1ZXNbb2Zmc2V0UCtqXXx8X3ZhbHVlNiE9PXZhbHVlc1tvZmZzZXROK2pdKXtrZWVwPXRydWU7YnJlYWs7fX19ZWxzZXtrZWVwPXRydWU7fX0vLyBpbi1wbGFjZSBjb21wYWN0aW9uCmlmKGtlZXApe2lmKF9pMjYxIT09d3JpdGVJbmRleCl7dGltZXNbd3JpdGVJbmRleF09dGltZXNbX2kyNjFdO3ZhciByZWFkT2Zmc2V0PV9pMjYxKnN0cmlkZSx3cml0ZU9mZnNldD13cml0ZUluZGV4KnN0cmlkZTtmb3IodmFyIF9qMTQ9MDtfajE0IT09c3RyaWRlOysrX2oxNCl7dmFsdWVzW3dyaXRlT2Zmc2V0K19qMTRdPXZhbHVlc1tyZWFkT2Zmc2V0K19qMTRdO319Kyt3cml0ZUluZGV4O319Ly8gZmx1c2ggbGFzdCBrZXlmcmFtZSAoY29tcGFjdGlvbiBsb29rcyBhaGVhZCkKaWYobGFzdEluZGV4PjApe3RpbWVzW3dyaXRlSW5kZXhdPXRpbWVzW2xhc3RJbmRleF07Zm9yKHZhciBfcmVhZE9mZnNldD1sYXN0SW5kZXgqc3RyaWRlLF93cml0ZU9mZnNldD13cml0ZUluZGV4KnN0cmlkZSxfajE1PTA7X2oxNSE9PXN0cmlkZTsrK19qMTUpe3ZhbHVlc1tfd3JpdGVPZmZzZXQrX2oxNV09dmFsdWVzW19yZWFkT2Zmc2V0K19qMTVdO30rK3dyaXRlSW5kZXg7fWlmKHdyaXRlSW5kZXghPT10aW1lcy5sZW5ndGgpe3RoaXMudGltZXM9QW5pbWF0aW9uVXRpbHMuYXJyYXlTbGljZSh0aW1lcywwLHdyaXRlSW5kZXgpO3RoaXMudmFsdWVzPUFuaW1hdGlvblV0aWxzLmFycmF5U2xpY2UodmFsdWVzLDAsd3JpdGVJbmRleCpzdHJpZGUpO31lbHNle3RoaXMudGltZXM9dGltZXM7dGhpcy52YWx1ZXM9dmFsdWVzO31yZXR1cm4gdGhpczt9fSx7a2V5OiJjbG9uZSIsdmFsdWU6ZnVuY3Rpb24gY2xvbmUoKXt2YXIgdGltZXM9QW5pbWF0aW9uVXRpbHMuYXJyYXlTbGljZSh0aGlzLnRpbWVzLDApO3ZhciB2YWx1ZXM9QW5pbWF0aW9uVXRpbHMuYXJyYXlTbGljZSh0aGlzLnZhbHVlcywwKTt2YXIgVHlwZWRLZXlmcmFtZVRyYWNrPXRoaXMuY29uc3RydWN0b3I7dmFyIHRyYWNrPW5ldyBUeXBlZEtleWZyYW1lVHJhY2sodGhpcy5uYW1lLHRpbWVzLHZhbHVlcyk7Ly8gSW50ZXJwb2xhbnQgYXJndW1lbnQgdG8gY29uc3RydWN0b3IgaXMgbm90IHNhdmVkLCBzbyBjb3B5IHRoZSBmYWN0b3J5IG1ldGhvZCBkaXJlY3RseS4KdHJhY2suY3JlYXRlSW50ZXJwb2xhbnQ9dGhpcy5jcmVhdGVJbnRlcnBvbGFudDtyZXR1cm4gdHJhY2s7fX1dLFt7a2V5OiJ0b0pTT04iLHZhbHVlOmZ1bmN0aW9uIHRvSlNPTih0cmFjayl7dmFyIHRyYWNrVHlwZT10cmFjay5jb25zdHJ1Y3Rvcjt2YXIganNvbjsvLyBkZXJpdmVkIGNsYXNzZXMgY2FuIGRlZmluZSBhIHN0YXRpYyB0b0pTT04gbWV0aG9kCmlmKHRyYWNrVHlwZS50b0pTT04hPT10aGlzLnRvSlNPTil7anNvbj10cmFja1R5cGUudG9KU09OKHRyYWNrKTt9ZWxzZXsvLyBieSBkZWZhdWx0LCB3ZSBhc3N1bWUgdGhlIGRhdGEgY2FuIGJlIHNlcmlhbGl6ZWQgYXMtaXMKanNvbj17J25hbWUnOnRyYWNrLm5hbWUsJ3RpbWVzJzpBbmltYXRpb25VdGlscy5jb252ZXJ0QXJyYXkodHJhY2sudGltZXMsQXJyYXkpLCd2YWx1ZXMnOkFuaW1hdGlvblV0aWxzLmNvbnZlcnRBcnJheSh0cmFjay52YWx1ZXMsQXJyYXkpfTt2YXIgaW50ZXJwb2xhdGlvbj10cmFjay5nZXRJbnRlcnBvbGF0aW9uKCk7aWYoaW50ZXJwb2xhdGlvbiE9PXRyYWNrLkRlZmF1bHRJbnRlcnBvbGF0aW9uKXtqc29uLmludGVycG9sYXRpb249aW50ZXJwb2xhdGlvbjt9fWpzb24udHlwZT10cmFjay5WYWx1ZVR5cGVOYW1lOy8vIG1hbmRhdG9yeQpyZXR1cm4ganNvbjt9fV0pO3JldHVybiBLZXlmcmFtZVRyYWNrO30oKTtLZXlmcmFtZVRyYWNrLnByb3RvdHlwZS5UaW1lQnVmZmVyVHlwZT1GbG9hdDMyQXJyYXk7S2V5ZnJhbWVUcmFjay5wcm90b3R5cGUuVmFsdWVCdWZmZXJUeXBlPUZsb2F0MzJBcnJheTtLZXlmcmFtZVRyYWNrLnByb3RvdHlwZS5EZWZhdWx0SW50ZXJwb2xhdGlvbj1JbnRlcnBvbGF0ZUxpbmVhcjsvKioKICogQSBUcmFjayBvZiBCb29sZWFuIGtleWZyYW1lIHZhbHVlcy4KICovdmFyIEJvb2xlYW5LZXlmcmFtZVRyYWNrPS8qI19fUFVSRV9fKi9mdW5jdGlvbihfS2V5ZnJhbWVUcmFjayl7X2luaGVyaXRzKEJvb2xlYW5LZXlmcmFtZVRyYWNrLF9LZXlmcmFtZVRyYWNrKTt2YXIgX3N1cGVyMTAxPV9jcmVhdGVTdXBlcihCb29sZWFuS2V5ZnJhbWVUcmFjayk7ZnVuY3Rpb24gQm9vbGVhbktleWZyYW1lVHJhY2soKXtfY2xhc3NDYWxsQ2hlY2sodGhpcyxCb29sZWFuS2V5ZnJhbWVUcmFjayk7cmV0dXJuIF9zdXBlcjEwMS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiBfY3JlYXRlQ2xhc3MoQm9vbGVhbktleWZyYW1lVHJhY2spO30oS2V5ZnJhbWVUcmFjayk7Qm9vbGVhbktleWZyYW1lVHJhY2sucHJvdG90eXBlLlZhbHVlVHlwZU5hbWU9J2Jvb2wnO0Jvb2xlYW5LZXlmcmFtZVRyYWNrLnByb3RvdHlwZS5WYWx1ZUJ1ZmZlclR5cGU9QXJyYXk7Qm9vbGVhbktleWZyYW1lVHJhY2sucHJvdG90eXBlLkRlZmF1bHRJbnRlcnBvbGF0aW9uPUludGVycG9sYXRlRGlzY3JldGU7Qm9vbGVhbktleWZyYW1lVHJhY2sucHJvdG90eXBlLkludGVycG9sYW50RmFjdG9yeU1ldGhvZExpbmVhcj11bmRlZmluZWQ7Qm9vbGVhbktleWZyYW1lVHJhY2sucHJvdG90eXBlLkludGVycG9sYW50RmFjdG9yeU1ldGhvZFNtb290aD11bmRlZmluZWQ7LyoqCiAqIEEgVHJhY2sgb2Yga2V5ZnJhbWUgdmFsdWVzIHRoYXQgcmVwcmVzZW50IGNvbG9yLgogKi92YXIgQ29sb3JLZXlmcmFtZVRyYWNrPS8qI19fUFVSRV9fKi9mdW5jdGlvbihfS2V5ZnJhbWVUcmFjazIpe19pbmhlcml0cyhDb2xvcktleWZyYW1lVHJhY2ssX0tleWZyYW1lVHJhY2syKTt2YXIgX3N1cGVyMTAyPV9jcmVhdGVTdXBlcihDb2xvcktleWZyYW1lVHJhY2spO2Z1bmN0aW9uIENvbG9yS2V5ZnJhbWVUcmFjaygpe19jbGFzc0NhbGxDaGVjayh0aGlzLENvbG9yS2V5ZnJhbWVUcmFjayk7cmV0dXJuIF9zdXBlcjEwMi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiBfY3JlYXRlQ2xhc3MoQ29sb3JLZXlmcmFtZVRyYWNrKTt9KEtleWZyYW1lVHJhY2spO0NvbG9yS2V5ZnJhbWVUcmFjay5wcm90b3R5cGUuVmFsdWVUeXBlTmFtZT0nY29sb3InOy8qKgogKiBBIFRyYWNrIG9mIG51bWVyaWMga2V5ZnJhbWUgdmFsdWVzLgogKi92YXIgTnVtYmVyS2V5ZnJhbWVUcmFjaz0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX0tleWZyYW1lVHJhY2szKXtfaW5oZXJpdHMoTnVtYmVyS2V5ZnJhbWVUcmFjayxfS2V5ZnJhbWVUcmFjazMpO3ZhciBfc3VwZXIxMDM9X2NyZWF0ZVN1cGVyKE51bWJlcktleWZyYW1lVHJhY2spO2Z1bmN0aW9uIE51bWJlcktleWZyYW1lVHJhY2soKXtfY2xhc3NDYWxsQ2hlY2sodGhpcyxOdW1iZXJLZXlmcmFtZVRyYWNrKTtyZXR1cm4gX3N1cGVyMTAzLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9cmV0dXJuIF9jcmVhdGVDbGFzcyhOdW1iZXJLZXlmcmFtZVRyYWNrKTt9KEtleWZyYW1lVHJhY2spO051bWJlcktleWZyYW1lVHJhY2sucHJvdG90eXBlLlZhbHVlVHlwZU5hbWU9J251bWJlcic7LyoqCiAqIFNwaGVyaWNhbCBsaW5lYXIgdW5pdCBxdWF0ZXJuaW9uIGludGVycG9sYW50LgogKi92YXIgUXVhdGVybmlvbkxpbmVhckludGVycG9sYW50PS8qI19fUFVSRV9fKi9mdW5jdGlvbihfSW50ZXJwb2xhbnQ0KXtfaW5oZXJpdHMoUXVhdGVybmlvbkxpbmVhckludGVycG9sYW50LF9JbnRlcnBvbGFudDQpO3ZhciBfc3VwZXIxMDQ9X2NyZWF0ZVN1cGVyKFF1YXRlcm5pb25MaW5lYXJJbnRlcnBvbGFudCk7ZnVuY3Rpb24gUXVhdGVybmlvbkxpbmVhckludGVycG9sYW50KHBhcmFtZXRlclBvc2l0aW9ucyxzYW1wbGVWYWx1ZXMsc2FtcGxlU2l6ZSxyZXN1bHRCdWZmZXIpe19jbGFzc0NhbGxDaGVjayh0aGlzLFF1YXRlcm5pb25MaW5lYXJJbnRlcnBvbGFudCk7cmV0dXJuIF9zdXBlcjEwNC5jYWxsKHRoaXMscGFyYW1ldGVyUG9zaXRpb25zLHNhbXBsZVZhbHVlcyxzYW1wbGVTaXplLHJlc3VsdEJ1ZmZlcik7fV9jcmVhdGVDbGFzcyhRdWF0ZXJuaW9uTGluZWFySW50ZXJwb2xhbnQsW3trZXk6ImludGVycG9sYXRlXyIsdmFsdWU6ZnVuY3Rpb24gaW50ZXJwb2xhdGVfKGkxLHQwLHQsdDEpe3ZhciByZXN1bHQ9dGhpcy5yZXN1bHRCdWZmZXIsdmFsdWVzPXRoaXMuc2FtcGxlVmFsdWVzLHN0cmlkZT10aGlzLnZhbHVlU2l6ZSxhbHBoYT0odC10MCkvKHQxLXQwKTt2YXIgb2Zmc2V0PWkxKnN0cmlkZTtmb3IodmFyIGVuZD1vZmZzZXQrc3RyaWRlO29mZnNldCE9PWVuZDtvZmZzZXQrPTQpe1F1YXRlcm5pb24uc2xlcnBGbGF0KHJlc3VsdCwwLHZhbHVlcyxvZmZzZXQtc3RyaWRlLHZhbHVlcyxvZmZzZXQsYWxwaGEpO31yZXR1cm4gcmVzdWx0O319XSk7cmV0dXJuIFF1YXRlcm5pb25MaW5lYXJJbnRlcnBvbGFudDt9KEludGVycG9sYW50KTsvKioKICogQSBUcmFjayBvZiBxdWF0ZXJuaW9uIGtleWZyYW1lIHZhbHVlcy4KICovdmFyIFF1YXRlcm5pb25LZXlmcmFtZVRyYWNrPS8qI19fUFVSRV9fKi9mdW5jdGlvbihfS2V5ZnJhbWVUcmFjazQpe19pbmhlcml0cyhRdWF0ZXJuaW9uS2V5ZnJhbWVUcmFjayxfS2V5ZnJhbWVUcmFjazQpO3ZhciBfc3VwZXIxMDU9X2NyZWF0ZVN1cGVyKFF1YXRlcm5pb25LZXlmcmFtZVRyYWNrKTtmdW5jdGlvbiBRdWF0ZXJuaW9uS2V5ZnJhbWVUcmFjaygpe19jbGFzc0NhbGxDaGVjayh0aGlzLFF1YXRlcm5pb25LZXlmcmFtZVRyYWNrKTtyZXR1cm4gX3N1cGVyMTA1LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9X2NyZWF0ZUNsYXNzKFF1YXRlcm5pb25LZXlmcmFtZVRyYWNrLFt7a2V5OiJJbnRlcnBvbGFudEZhY3RvcnlNZXRob2RMaW5lYXIiLHZhbHVlOmZ1bmN0aW9uIEludGVycG9sYW50RmFjdG9yeU1ldGhvZExpbmVhcihyZXN1bHQpe3JldHVybiBuZXcgUXVhdGVybmlvbkxpbmVhckludGVycG9sYW50KHRoaXMudGltZXMsdGhpcy52YWx1ZXMsdGhpcy5nZXRWYWx1ZVNpemUoKSxyZXN1bHQpO319XSk7cmV0dXJuIFF1YXRlcm5pb25LZXlmcmFtZVRyYWNrO30oS2V5ZnJhbWVUcmFjayk7UXVhdGVybmlvbktleWZyYW1lVHJhY2sucHJvdG90eXBlLlZhbHVlVHlwZU5hbWU9J3F1YXRlcm5pb24nOy8vIFZhbHVlQnVmZmVyVHlwZSBpcyBpbmhlcml0ZWQKUXVhdGVybmlvbktleWZyYW1lVHJhY2sucHJvdG90eXBlLkRlZmF1bHRJbnRlcnBvbGF0aW9uPUludGVycG9sYXRlTGluZWFyO1F1YXRlcm5pb25LZXlmcmFtZVRyYWNrLnByb3RvdHlwZS5JbnRlcnBvbGFudEZhY3RvcnlNZXRob2RTbW9vdGg9dW5kZWZpbmVkOy8qKgogKiBBIFRyYWNrIHRoYXQgaW50ZXJwb2xhdGVzIFN0cmluZ3MKICovdmFyIFN0cmluZ0tleWZyYW1lVHJhY2s9LyojX19QVVJFX18qL2Z1bmN0aW9uKF9LZXlmcmFtZVRyYWNrNSl7X2luaGVyaXRzKFN0cmluZ0tleWZyYW1lVHJhY2ssX0tleWZyYW1lVHJhY2s1KTt2YXIgX3N1cGVyMTA2PV9jcmVhdGVTdXBlcihTdHJpbmdLZXlmcmFtZVRyYWNrKTtmdW5jdGlvbiBTdHJpbmdLZXlmcmFtZVRyYWNrKCl7X2NsYXNzQ2FsbENoZWNrKHRoaXMsU3RyaW5nS2V5ZnJhbWVUcmFjayk7cmV0dXJuIF9zdXBlcjEwNi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiBfY3JlYXRlQ2xhc3MoU3RyaW5nS2V5ZnJhbWVUcmFjayk7fShLZXlmcmFtZVRyYWNrKTtTdHJpbmdLZXlmcmFtZVRyYWNrLnByb3RvdHlwZS5WYWx1ZVR5cGVOYW1lPSdzdHJpbmcnO1N0cmluZ0tleWZyYW1lVHJhY2sucHJvdG90eXBlLlZhbHVlQnVmZmVyVHlwZT1BcnJheTtTdHJpbmdLZXlmcmFtZVRyYWNrLnByb3RvdHlwZS5EZWZhdWx0SW50ZXJwb2xhdGlvbj1JbnRlcnBvbGF0ZURpc2NyZXRlO1N0cmluZ0tleWZyYW1lVHJhY2sucHJvdG90eXBlLkludGVycG9sYW50RmFjdG9yeU1ldGhvZExpbmVhcj11bmRlZmluZWQ7U3RyaW5nS2V5ZnJhbWVUcmFjay5wcm90b3R5cGUuSW50ZXJwb2xhbnRGYWN0b3J5TWV0aG9kU21vb3RoPXVuZGVmaW5lZDsvKioKICogQSBUcmFjayBvZiB2ZWN0b3JlZCBrZXlmcmFtZSB2YWx1ZXMuCiAqL3ZhciBWZWN0b3JLZXlmcmFtZVRyYWNrPS8qI19fUFVSRV9fKi9mdW5jdGlvbihfS2V5ZnJhbWVUcmFjazYpe19pbmhlcml0cyhWZWN0b3JLZXlmcmFtZVRyYWNrLF9LZXlmcmFtZVRyYWNrNik7dmFyIF9zdXBlcjEwNz1fY3JlYXRlU3VwZXIoVmVjdG9yS2V5ZnJhbWVUcmFjayk7ZnVuY3Rpb24gVmVjdG9yS2V5ZnJhbWVUcmFjaygpe19jbGFzc0NhbGxDaGVjayh0aGlzLFZlY3RvcktleWZyYW1lVHJhY2spO3JldHVybiBfc3VwZXIxMDcuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gX2NyZWF0ZUNsYXNzKFZlY3RvcktleWZyYW1lVHJhY2spO30oS2V5ZnJhbWVUcmFjayk7VmVjdG9yS2V5ZnJhbWVUcmFjay5wcm90b3R5cGUuVmFsdWVUeXBlTmFtZT0ndmVjdG9yJzt2YXIgQW5pbWF0aW9uQ2xpcD0vKiNfX1BVUkVfXyovZnVuY3Rpb24oKXtmdW5jdGlvbiBBbmltYXRpb25DbGlwKG5hbWUpe3ZhciBkdXJhdGlvbj1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMV06LTE7dmFyIHRyYWNrcz1hcmd1bWVudHMubGVuZ3RoPjI/YXJndW1lbnRzWzJdOnVuZGVmaW5lZDt2YXIgYmxlbmRNb2RlPWFyZ3VtZW50cy5sZW5ndGg+MyYmYXJndW1lbnRzWzNdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1szXTpOb3JtYWxBbmltYXRpb25CbGVuZE1vZGU7X2NsYXNzQ2FsbENoZWNrKHRoaXMsQW5pbWF0aW9uQ2xpcCk7dGhpcy5uYW1lPW5hbWU7dGhpcy50cmFja3M9dHJhY2tzO3RoaXMuZHVyYXRpb249ZHVyYXRpb247dGhpcy5ibGVuZE1vZGU9YmxlbmRNb2RlO3RoaXMudXVpZD1nZW5lcmF0ZVVVSUQoKTsvLyB0aGlzIG1lYW5zIGl0IHNob3VsZCBmaWd1cmUgb3V0IGl0cyBkdXJhdGlvbiBieSBzY2FubmluZyB0aGUgdHJhY2tzCmlmKHRoaXMuZHVyYXRpb248MCl7dGhpcy5yZXNldER1cmF0aW9uKCk7fX1fY3JlYXRlQ2xhc3MoQW5pbWF0aW9uQ2xpcCxbe2tleToicmVzZXREdXJhdGlvbiIsdmFsdWU6ZnVuY3Rpb24gcmVzZXREdXJhdGlvbigpe3ZhciB0cmFja3M9dGhpcy50cmFja3M7dmFyIGR1cmF0aW9uPTA7Zm9yKHZhciBfaTI2Mj0wLG49dHJhY2tzLmxlbmd0aDtfaTI2MiE9PW47KytfaTI2Mil7dmFyIHRyYWNrPXRoaXMudHJhY2tzW19pMjYyXTtkdXJhdGlvbj1NYXRoLm1heChkdXJhdGlvbix0cmFjay50aW1lc1t0cmFjay50aW1lcy5sZW5ndGgtMV0pO310aGlzLmR1cmF0aW9uPWR1cmF0aW9uO3JldHVybiB0aGlzO319LHtrZXk6InRyaW0iLHZhbHVlOmZ1bmN0aW9uIHRyaW0oKXtmb3IodmFyIF9pMjYzPTA7X2kyNjM8dGhpcy50cmFja3MubGVuZ3RoO19pMjYzKyspe3RoaXMudHJhY2tzW19pMjYzXS50cmltKDAsdGhpcy5kdXJhdGlvbik7fXJldHVybiB0aGlzO319LHtrZXk6InZhbGlkYXRlIix2YWx1ZTpmdW5jdGlvbiB2YWxpZGF0ZSgpe3ZhciB2YWxpZD10cnVlO2Zvcih2YXIgX2kyNjQ9MDtfaTI2NDx0aGlzLnRyYWNrcy5sZW5ndGg7X2kyNjQrKyl7dmFsaWQ9dmFsaWQmJnRoaXMudHJhY2tzW19pMjY0XS52YWxpZGF0ZSgpO31yZXR1cm4gdmFsaWQ7fX0se2tleToib3B0aW1pemUiLHZhbHVlOmZ1bmN0aW9uIG9wdGltaXplKCl7Zm9yKHZhciBfaTI2NT0wO19pMjY1PHRoaXMudHJhY2tzLmxlbmd0aDtfaTI2NSsrKXt0aGlzLnRyYWNrc1tfaTI2NV0ub3B0aW1pemUoKTt9cmV0dXJuIHRoaXM7fX0se2tleToiY2xvbmUiLHZhbHVlOmZ1bmN0aW9uIGNsb25lKCl7dmFyIHRyYWNrcz1bXTtmb3IodmFyIF9pMjY2PTA7X2kyNjY8dGhpcy50cmFja3MubGVuZ3RoO19pMjY2Kyspe3RyYWNrcy5wdXNoKHRoaXMudHJhY2tzW19pMjY2XS5jbG9uZSgpKTt9cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMubmFtZSx0aGlzLmR1cmF0aW9uLHRyYWNrcyx0aGlzLmJsZW5kTW9kZSk7fX0se2tleToidG9KU09OIix2YWx1ZTpmdW5jdGlvbiB0b0pTT04oKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci50b0pTT04odGhpcyk7fX1dLFt7a2V5OiJwYXJzZSIsdmFsdWU6ZnVuY3Rpb24gcGFyc2UoanNvbil7dmFyIHRyYWNrcz1bXSxqc29uVHJhY2tzPWpzb24udHJhY2tzLGZyYW1lVGltZT0xLjAvKGpzb24uZnBzfHwxLjApO2Zvcih2YXIgX2kyNjc9MCxuPWpzb25UcmFja3MubGVuZ3RoO19pMjY3IT09bjsrK19pMjY3KXt0cmFja3MucHVzaChwYXJzZUtleWZyYW1lVHJhY2soanNvblRyYWNrc1tfaTI2N10pLnNjYWxlKGZyYW1lVGltZSkpO312YXIgY2xpcD1uZXcgdGhpcyhqc29uLm5hbWUsanNvbi5kdXJhdGlvbix0cmFja3MsanNvbi5ibGVuZE1vZGUpO2NsaXAudXVpZD1qc29uLnV1aWQ7cmV0dXJuIGNsaXA7fX0se2tleToidG9KU09OIix2YWx1ZTpmdW5jdGlvbiB0b0pTT04oY2xpcCl7dmFyIHRyYWNrcz1bXSxjbGlwVHJhY2tzPWNsaXAudHJhY2tzO3ZhciBqc29uPXsnbmFtZSc6Y2xpcC5uYW1lLCdkdXJhdGlvbic6Y2xpcC5kdXJhdGlvbiwndHJhY2tzJzp0cmFja3MsJ3V1aWQnOmNsaXAudXVpZCwnYmxlbmRNb2RlJzpjbGlwLmJsZW5kTW9kZX07Zm9yKHZhciBfaTI2OD0wLG49Y2xpcFRyYWNrcy5sZW5ndGg7X2kyNjghPT1uOysrX2kyNjgpe3RyYWNrcy5wdXNoKEtleWZyYW1lVHJhY2sudG9KU09OKGNsaXBUcmFja3NbX2kyNjhdKSk7fXJldHVybiBqc29uO319LHtrZXk6IkNyZWF0ZUZyb21Nb3JwaFRhcmdldFNlcXVlbmNlIix2YWx1ZTpmdW5jdGlvbiBDcmVhdGVGcm9tTW9ycGhUYXJnZXRTZXF1ZW5jZShuYW1lLG1vcnBoVGFyZ2V0U2VxdWVuY2UsZnBzLG5vTG9vcCl7dmFyIG51bU1vcnBoVGFyZ2V0cz1tb3JwaFRhcmdldFNlcXVlbmNlLmxlbmd0aDt2YXIgdHJhY2tzPVtdO2Zvcih2YXIgX2kyNjk9MDtfaTI2OTxudW1Nb3JwaFRhcmdldHM7X2kyNjkrKyl7dmFyIHRpbWVzPVtdO3ZhciB2YWx1ZXM9W107dGltZXMucHVzaCgoX2kyNjkrbnVtTW9ycGhUYXJnZXRzLTEpJW51bU1vcnBoVGFyZ2V0cyxfaTI2OSwoX2kyNjkrMSklbnVtTW9ycGhUYXJnZXRzKTt2YWx1ZXMucHVzaCgwLDEsMCk7dmFyIG9yZGVyPUFuaW1hdGlvblV0aWxzLmdldEtleWZyYW1lT3JkZXIodGltZXMpO3RpbWVzPUFuaW1hdGlvblV0aWxzLnNvcnRlZEFycmF5KHRpbWVzLDEsb3JkZXIpO3ZhbHVlcz1BbmltYXRpb25VdGlscy5zb3J0ZWRBcnJheSh2YWx1ZXMsMSxvcmRlcik7Ly8gaWYgdGhlcmUgaXMgYSBrZXkgYXQgdGhlIGZpcnN0IGZyYW1lLCBkdXBsaWNhdGUgaXQgYXMgdGhlCi8vIGxhc3QgZnJhbWUgYXMgd2VsbCBmb3IgcGVyZmVjdCBsb29wLgppZighbm9Mb29wJiZ0aW1lc1swXT09PTApe3RpbWVzLnB1c2gobnVtTW9ycGhUYXJnZXRzKTt2YWx1ZXMucHVzaCh2YWx1ZXNbMF0pO310cmFja3MucHVzaChuZXcgTnVtYmVyS2V5ZnJhbWVUcmFjaygnLm1vcnBoVGFyZ2V0SW5mbHVlbmNlc1snK21vcnBoVGFyZ2V0U2VxdWVuY2VbX2kyNjldLm5hbWUrJ10nLHRpbWVzLHZhbHVlcykuc2NhbGUoMS4wL2ZwcykpO31yZXR1cm4gbmV3IHRoaXMobmFtZSwtMSx0cmFja3MpO319LHtrZXk6ImZpbmRCeU5hbWUiLHZhbHVlOmZ1bmN0aW9uIGZpbmRCeU5hbWUob2JqZWN0T3JDbGlwQXJyYXksbmFtZSl7dmFyIGNsaXBBcnJheT1vYmplY3RPckNsaXBBcnJheTtpZighQXJyYXkuaXNBcnJheShvYmplY3RPckNsaXBBcnJheSkpe3ZhciBvPW9iamVjdE9yQ2xpcEFycmF5O2NsaXBBcnJheT1vLmdlb21ldHJ5JiZvLmdlb21ldHJ5LmFuaW1hdGlvbnN8fG8uYW5pbWF0aW9uczt9Zm9yKHZhciBfaTI3MD0wO19pMjcwPGNsaXBBcnJheS5sZW5ndGg7X2kyNzArKyl7aWYoY2xpcEFycmF5W19pMjcwXS5uYW1lPT09bmFtZSl7cmV0dXJuIGNsaXBBcnJheVtfaTI3MF07fX1yZXR1cm4gbnVsbDt9fSx7a2V5OiJDcmVhdGVDbGlwc0Zyb21Nb3JwaFRhcmdldFNlcXVlbmNlcyIsdmFsdWU6ZnVuY3Rpb24gQ3JlYXRlQ2xpcHNGcm9tTW9ycGhUYXJnZXRTZXF1ZW5jZXMobW9ycGhUYXJnZXRzLGZwcyxub0xvb3Ape3ZhciBhbmltYXRpb25Ub01vcnBoVGFyZ2V0cz17fTsvLyB0ZXN0ZWQgd2l0aCBodHRwczovL3JlZ2V4MTAxLmNvbS8gb24gdHJpY2sgc2VxdWVuY2VzCi8vIHN1Y2ggZmxhbWluZ29fZmx5QV8wMDMsIGZsYW1pbmdvX3J1bjFfMDAzLCBjcmRlYXRoMDA1OQp2YXIgcGF0dGVybj0vXihbXHctXSo/KShbXGRdKykkLzsvLyBzb3J0IG1vcnBoIHRhcmdldCBuYW1lcyBpbnRvIGFuaW1hdGlvbiBncm91cHMgYmFzZWQKLy8gcGF0dGVybnMgbGlrZSBXYWxrXzAwMSwgV2Fsa18wMDIsIFJ1bl8wMDEsIFJ1bl8wMDIKZm9yKHZhciBfaTI3MT0wLGlsPW1vcnBoVGFyZ2V0cy5sZW5ndGg7X2kyNzE8aWw7X2kyNzErKyl7dmFyIG1vcnBoVGFyZ2V0PW1vcnBoVGFyZ2V0c1tfaTI3MV07dmFyIHBhcnRzPW1vcnBoVGFyZ2V0Lm5hbWUubWF0Y2gocGF0dGVybik7aWYocGFydHMmJnBhcnRzLmxlbmd0aD4xKXt2YXIgbmFtZT1wYXJ0c1sxXTt2YXIgYW5pbWF0aW9uTW9ycGhUYXJnZXRzPWFuaW1hdGlvblRvTW9ycGhUYXJnZXRzW25hbWVdO2lmKCFhbmltYXRpb25Nb3JwaFRhcmdldHMpe2FuaW1hdGlvblRvTW9ycGhUYXJnZXRzW25hbWVdPWFuaW1hdGlvbk1vcnBoVGFyZ2V0cz1bXTt9YW5pbWF0aW9uTW9ycGhUYXJnZXRzLnB1c2gobW9ycGhUYXJnZXQpO319dmFyIGNsaXBzPVtdO2Zvcih2YXIgX25hbWU0IGluIGFuaW1hdGlvblRvTW9ycGhUYXJnZXRzKXtjbGlwcy5wdXNoKHRoaXMuQ3JlYXRlRnJvbU1vcnBoVGFyZ2V0U2VxdWVuY2UoX25hbWU0LGFuaW1hdGlvblRvTW9ycGhUYXJnZXRzW19uYW1lNF0sZnBzLG5vTG9vcCkpO31yZXR1cm4gY2xpcHM7fS8vIHBhcnNlIHRoZSBhbmltYXRpb24uaGllcmFyY2h5IGZvcm1hdAp9LHtrZXk6InBhcnNlQW5pbWF0aW9uIix2YWx1ZTpmdW5jdGlvbiBwYXJzZUFuaW1hdGlvbihhbmltYXRpb24sYm9uZXMpe2lmKCFhbmltYXRpb24pe2NvbnNvbGUuZXJyb3IoJ1RIUkVFLkFuaW1hdGlvbkNsaXA6IE5vIGFuaW1hdGlvbiBpbiBKU09OTG9hZGVyIGRhdGEuJyk7cmV0dXJuIG51bGw7fXZhciBhZGROb25lbXB0eVRyYWNrPWZ1bmN0aW9uIGFkZE5vbmVtcHR5VHJhY2sodHJhY2tUeXBlLHRyYWNrTmFtZSxhbmltYXRpb25LZXlzLHByb3BlcnR5TmFtZSxkZXN0VHJhY2tzKXsvLyBvbmx5IHJldHVybiB0cmFjayBpZiB0aGVyZSBhcmUgYWN0dWFsbHkga2V5cy4KaWYoYW5pbWF0aW9uS2V5cy5sZW5ndGghPT0wKXt2YXIgdGltZXM9W107dmFyIHZhbHVlcz1bXTtBbmltYXRpb25VdGlscy5mbGF0dGVuSlNPTihhbmltYXRpb25LZXlzLHRpbWVzLHZhbHVlcyxwcm9wZXJ0eU5hbWUpOy8vIGVtcHR5IGtleXMgYXJlIGZpbHRlcmVkIG91dCwgc28gY2hlY2sgYWdhaW4KaWYodGltZXMubGVuZ3RoIT09MCl7ZGVzdFRyYWNrcy5wdXNoKG5ldyB0cmFja1R5cGUodHJhY2tOYW1lLHRpbWVzLHZhbHVlcykpO319fTt2YXIgdHJhY2tzPVtdO3ZhciBjbGlwTmFtZT1hbmltYXRpb24ubmFtZXx8J2RlZmF1bHQnO3ZhciBmcHM9YW5pbWF0aW9uLmZwc3x8MzA7dmFyIGJsZW5kTW9kZT1hbmltYXRpb24uYmxlbmRNb2RlOy8vIGF1dG9tYXRpYyBsZW5ndGggZGV0ZXJtaW5hdGlvbiBpbiBBbmltYXRpb25DbGlwLgp2YXIgZHVyYXRpb249YW5pbWF0aW9uLmxlbmd0aHx8LTE7dmFyIGhpZXJhcmNoeVRyYWNrcz1hbmltYXRpb24uaGllcmFyY2h5fHxbXTtmb3IodmFyIGg9MDtoPGhpZXJhcmNoeVRyYWNrcy5sZW5ndGg7aCsrKXt2YXIgYW5pbWF0aW9uS2V5cz1oaWVyYXJjaHlUcmFja3NbaF0ua2V5czsvLyBza2lwIGVtcHR5IHRyYWNrcwppZighYW5pbWF0aW9uS2V5c3x8YW5pbWF0aW9uS2V5cy5sZW5ndGg9PT0wKWNvbnRpbnVlOy8vIHByb2Nlc3MgbW9ycGggdGFyZ2V0cwppZihhbmltYXRpb25LZXlzWzBdLm1vcnBoVGFyZ2V0cyl7Ly8gZmlndXJlIG91dCBhbGwgbW9ycGggdGFyZ2V0cyB1c2VkIGluIHRoaXMgdHJhY2sKdmFyIG1vcnBoVGFyZ2V0TmFtZXM9e307dmFyIGs9dm9pZCAwO2ZvcihrPTA7azxhbmltYXRpb25LZXlzLmxlbmd0aDtrKyspe2lmKGFuaW1hdGlvbktleXNba10ubW9ycGhUYXJnZXRzKXtmb3IodmFyIG09MDttPGFuaW1hdGlvbktleXNba10ubW9ycGhUYXJnZXRzLmxlbmd0aDttKyspe21vcnBoVGFyZ2V0TmFtZXNbYW5pbWF0aW9uS2V5c1trXS5tb3JwaFRhcmdldHNbbV1dPS0xO319fS8vIGNyZWF0ZSBhIHRyYWNrIGZvciBlYWNoIG1vcnBoIHRhcmdldCB3aXRoIGFsbCB6ZXJvCi8vIG1vcnBoVGFyZ2V0SW5mbHVlbmNlcyBleGNlcHQgZm9yIHRoZSBrZXlzIGluIHdoaWNoCi8vIHRoZSBtb3JwaFRhcmdldCBpcyBuYW1lZC4KZm9yKHZhciBtb3JwaFRhcmdldE5hbWUgaW4gbW9ycGhUYXJnZXROYW1lcyl7dmFyIHRpbWVzPVtdO3ZhciB2YWx1ZXM9W107Zm9yKHZhciBfbT0wO19tIT09YW5pbWF0aW9uS2V5c1trXS5tb3JwaFRhcmdldHMubGVuZ3RoOysrX20pe3ZhciBhbmltYXRpb25LZXk9YW5pbWF0aW9uS2V5c1trXTt0aW1lcy5wdXNoKGFuaW1hdGlvbktleS50aW1lKTt2YWx1ZXMucHVzaChhbmltYXRpb25LZXkubW9ycGhUYXJnZXQ9PT1tb3JwaFRhcmdldE5hbWU/MTowKTt9dHJhY2tzLnB1c2gobmV3IE51bWJlcktleWZyYW1lVHJhY2soJy5tb3JwaFRhcmdldEluZmx1ZW5jZVsnK21vcnBoVGFyZ2V0TmFtZSsnXScsdGltZXMsdmFsdWVzKSk7fWR1cmF0aW9uPW1vcnBoVGFyZ2V0TmFtZXMubGVuZ3RoKihmcHN8fDEuMCk7fWVsc2V7Ly8gLi4uYXNzdW1lIHNrZWxldGFsIGFuaW1hdGlvbgp2YXIgYm9uZU5hbWU9Jy5ib25lc1snK2JvbmVzW2hdLm5hbWUrJ10nO2FkZE5vbmVtcHR5VHJhY2soVmVjdG9yS2V5ZnJhbWVUcmFjayxib25lTmFtZSsnLnBvc2l0aW9uJyxhbmltYXRpb25LZXlzLCdwb3MnLHRyYWNrcyk7YWRkTm9uZW1wdHlUcmFjayhRdWF0ZXJuaW9uS2V5ZnJhbWVUcmFjayxib25lTmFtZSsnLnF1YXRlcm5pb24nLGFuaW1hdGlvbktleXMsJ3JvdCcsdHJhY2tzKTthZGROb25lbXB0eVRyYWNrKFZlY3RvcktleWZyYW1lVHJhY2ssYm9uZU5hbWUrJy5zY2FsZScsYW5pbWF0aW9uS2V5cywnc2NsJyx0cmFja3MpO319aWYodHJhY2tzLmxlbmd0aD09PTApe3JldHVybiBudWxsO312YXIgY2xpcD1uZXcgdGhpcyhjbGlwTmFtZSxkdXJhdGlvbix0cmFja3MsYmxlbmRNb2RlKTtyZXR1cm4gY2xpcDt9fV0pO3JldHVybiBBbmltYXRpb25DbGlwO30oKTtmdW5jdGlvbiBnZXRUcmFja1R5cGVGb3JWYWx1ZVR5cGVOYW1lKHR5cGVOYW1lKXtzd2l0Y2godHlwZU5hbWUudG9Mb3dlckNhc2UoKSl7Y2FzZSdzY2FsYXInOmNhc2UnZG91YmxlJzpjYXNlJ2Zsb2F0JzpjYXNlJ251bWJlcic6Y2FzZSdpbnRlZ2VyJzpyZXR1cm4gTnVtYmVyS2V5ZnJhbWVUcmFjaztjYXNlJ3ZlY3Rvcic6Y2FzZSd2ZWN0b3IyJzpjYXNlJ3ZlY3RvcjMnOmNhc2UndmVjdG9yNCc6cmV0dXJuIFZlY3RvcktleWZyYW1lVHJhY2s7Y2FzZSdjb2xvcic6cmV0dXJuIENvbG9yS2V5ZnJhbWVUcmFjaztjYXNlJ3F1YXRlcm5pb24nOnJldHVybiBRdWF0ZXJuaW9uS2V5ZnJhbWVUcmFjaztjYXNlJ2Jvb2wnOmNhc2UnYm9vbGVhbic6cmV0dXJuIEJvb2xlYW5LZXlmcmFtZVRyYWNrO2Nhc2Unc3RyaW5nJzpyZXR1cm4gU3RyaW5nS2V5ZnJhbWVUcmFjazt9dGhyb3cgbmV3IEVycm9yKCdUSFJFRS5LZXlmcmFtZVRyYWNrOiBVbnN1cHBvcnRlZCB0eXBlTmFtZTogJyt0eXBlTmFtZSk7fWZ1bmN0aW9uIHBhcnNlS2V5ZnJhbWVUcmFjayhqc29uKXtpZihqc29uLnR5cGU9PT11bmRlZmluZWQpe3Rocm93IG5ldyBFcnJvcignVEhSRUUuS2V5ZnJhbWVUcmFjazogdHJhY2sgdHlwZSB1bmRlZmluZWQsIGNhbiBub3QgcGFyc2UnKTt9dmFyIHRyYWNrVHlwZT1nZXRUcmFja1R5cGVGb3JWYWx1ZVR5cGVOYW1lKGpzb24udHlwZSk7aWYoanNvbi50aW1lcz09PXVuZGVmaW5lZCl7dmFyIHRpbWVzPVtdLHZhbHVlcz1bXTtBbmltYXRpb25VdGlscy5mbGF0dGVuSlNPTihqc29uLmtleXMsdGltZXMsdmFsdWVzLCd2YWx1ZScpO2pzb24udGltZXM9dGltZXM7anNvbi52YWx1ZXM9dmFsdWVzO30vLyBkZXJpdmVkIGNsYXNzZXMgY2FuIGRlZmluZSBhIHN0YXRpYyBwYXJzZSBtZXRob2QKaWYodHJhY2tUeXBlLnBhcnNlIT09dW5kZWZpbmVkKXtyZXR1cm4gdHJhY2tUeXBlLnBhcnNlKGpzb24pO31lbHNley8vIGJ5IGRlZmF1bHQsIHdlIGFzc3VtZSBhIGNvbnN0cnVjdG9yIGNvbXBhdGlibGUgd2l0aCB0aGUgYmFzZQpyZXR1cm4gbmV3IHRyYWNrVHlwZShqc29uLm5hbWUsanNvbi50aW1lcyxqc29uLnZhbHVlcyxqc29uLmludGVycG9sYXRpb24pO319dmFyIENhY2hlPXtlbmFibGVkOmZhbHNlLGZpbGVzOnt9LGFkZDpmdW5jdGlvbiBhZGQoa2V5LGZpbGUpe2lmKHRoaXMuZW5hYmxlZD09PWZhbHNlKXJldHVybjsvLyBjb25zb2xlLmxvZyggJ1RIUkVFLkNhY2hlJywgJ0FkZGluZyBrZXk6Jywga2V5ICk7CnRoaXMuZmlsZXNba2V5XT1maWxlO30sZ2V0OmZ1bmN0aW9uIGdldChrZXkpe2lmKHRoaXMuZW5hYmxlZD09PWZhbHNlKXJldHVybjsvLyBjb25zb2xlLmxvZyggJ1RIUkVFLkNhY2hlJywgJ0NoZWNraW5nIGtleTonLCBrZXkgKTsKcmV0dXJuIHRoaXMuZmlsZXNba2V5XTt9LHJlbW92ZTpmdW5jdGlvbiByZW1vdmUoa2V5KXtkZWxldGUgdGhpcy5maWxlc1trZXldO30sY2xlYXI6ZnVuY3Rpb24gY2xlYXIoKXt0aGlzLmZpbGVzPXt9O319O3ZhciBMb2FkaW5nTWFuYWdlcj0vKiNfX1BVUkVfXyovX2NyZWF0ZUNsYXNzKGZ1bmN0aW9uIExvYWRpbmdNYW5hZ2VyKG9uTG9hZCxvblByb2dyZXNzLG9uRXJyb3Ipe19jbGFzc0NhbGxDaGVjayh0aGlzLExvYWRpbmdNYW5hZ2VyKTt2YXIgc2NvcGU9dGhpczt2YXIgaXNMb2FkaW5nPWZhbHNlO3ZhciBpdGVtc0xvYWRlZD0wO3ZhciBpdGVtc1RvdGFsPTA7dmFyIHVybE1vZGlmaWVyPXVuZGVmaW5lZDt2YXIgaGFuZGxlcnM9W107Ly8gUmVmZXIgdG8gIzU2ODkgZm9yIHRoZSByZWFzb24gd2h5IHdlIGRvbid0IHNldCAub25TdGFydAovLyBpbiB0aGUgY29uc3RydWN0b3IKdGhpcy5vblN0YXJ0PXVuZGVmaW5lZDt0aGlzLm9uTG9hZD1vbkxvYWQ7dGhpcy5vblByb2dyZXNzPW9uUHJvZ3Jlc3M7dGhpcy5vbkVycm9yPW9uRXJyb3I7dGhpcy5pdGVtU3RhcnQ9ZnVuY3Rpb24odXJsKXtpdGVtc1RvdGFsKys7aWYoaXNMb2FkaW5nPT09ZmFsc2Upe2lmKHNjb3BlLm9uU3RhcnQhPT11bmRlZmluZWQpe3Njb3BlLm9uU3RhcnQodXJsLGl0ZW1zTG9hZGVkLGl0ZW1zVG90YWwpO319aXNMb2FkaW5nPXRydWU7fTt0aGlzLml0ZW1FbmQ9ZnVuY3Rpb24odXJsKXtpdGVtc0xvYWRlZCsrO2lmKHNjb3BlLm9uUHJvZ3Jlc3MhPT11bmRlZmluZWQpe3Njb3BlLm9uUHJvZ3Jlc3ModXJsLGl0ZW1zTG9hZGVkLGl0ZW1zVG90YWwpO31pZihpdGVtc0xvYWRlZD09PWl0ZW1zVG90YWwpe2lzTG9hZGluZz1mYWxzZTtpZihzY29wZS5vbkxvYWQhPT11bmRlZmluZWQpe3Njb3BlLm9uTG9hZCgpO319fTt0aGlzLml0ZW1FcnJvcj1mdW5jdGlvbih1cmwpe2lmKHNjb3BlLm9uRXJyb3IhPT11bmRlZmluZWQpe3Njb3BlLm9uRXJyb3IodXJsKTt9fTt0aGlzLnJlc29sdmVVUkw9ZnVuY3Rpb24odXJsKXtpZih1cmxNb2RpZmllcil7cmV0dXJuIHVybE1vZGlmaWVyKHVybCk7fXJldHVybiB1cmw7fTt0aGlzLnNldFVSTE1vZGlmaWVyPWZ1bmN0aW9uKHRyYW5zZm9ybSl7dXJsTW9kaWZpZXI9dHJhbnNmb3JtO3JldHVybiB0aGlzO307dGhpcy5hZGRIYW5kbGVyPWZ1bmN0aW9uKHJlZ2V4LGxvYWRlcil7aGFuZGxlcnMucHVzaChyZWdleCxsb2FkZXIpO3JldHVybiB0aGlzO307dGhpcy5yZW1vdmVIYW5kbGVyPWZ1bmN0aW9uKHJlZ2V4KXt2YXIgaW5kZXg9aGFuZGxlcnMuaW5kZXhPZihyZWdleCk7aWYoaW5kZXghPT0tMSl7aGFuZGxlcnMuc3BsaWNlKGluZGV4LDIpO31yZXR1cm4gdGhpczt9O3RoaXMuZ2V0SGFuZGxlcj1mdW5jdGlvbihmaWxlKXtmb3IodmFyIF9pMjcyPTAsbD1oYW5kbGVycy5sZW5ndGg7X2kyNzI8bDtfaTI3Mis9Mil7dmFyIHJlZ2V4PWhhbmRsZXJzW19pMjcyXTt2YXIgbG9hZGVyPWhhbmRsZXJzW19pMjcyKzFdO2lmKHJlZ2V4Lmdsb2JhbClyZWdleC5sYXN0SW5kZXg9MDsvLyBzZWUgIzE3OTIwCmlmKHJlZ2V4LnRlc3QoZmlsZSkpe3JldHVybiBsb2FkZXI7fX1yZXR1cm4gbnVsbDt9O30pO3ZhciBEZWZhdWx0TG9hZGluZ01hbmFnZXI9bmV3IExvYWRpbmdNYW5hZ2VyKCk7dmFyIExvYWRlcj0vKiNfX1BVUkVfXyovZnVuY3Rpb24oKXtmdW5jdGlvbiBMb2FkZXIobWFuYWdlcil7X2NsYXNzQ2FsbENoZWNrKHRoaXMsTG9hZGVyKTt0aGlzLm1hbmFnZXI9bWFuYWdlciE9PXVuZGVmaW5lZD9tYW5hZ2VyOkRlZmF1bHRMb2FkaW5nTWFuYWdlcjt0aGlzLmNyb3NzT3JpZ2luPSdhbm9ueW1vdXMnO3RoaXMud2l0aENyZWRlbnRpYWxzPWZhbHNlO3RoaXMucGF0aD0nJzt0aGlzLnJlc291cmNlUGF0aD0nJzt0aGlzLnJlcXVlc3RIZWFkZXI9e307fV9jcmVhdGVDbGFzcyhMb2FkZXIsW3trZXk6ImxvYWQiLHZhbHVlOmZ1bmN0aW9uIGxvYWQoLyogdXJsLCBvbkxvYWQsIG9uUHJvZ3Jlc3MsIG9uRXJyb3IgKi8pe319LHtrZXk6ImxvYWRBc3luYyIsdmFsdWU6ZnVuY3Rpb24gbG9hZEFzeW5jKHVybCxvblByb2dyZXNzKXt2YXIgc2NvcGU9dGhpcztyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSxyZWplY3Qpe3Njb3BlLmxvYWQodXJsLHJlc29sdmUsb25Qcm9ncmVzcyxyZWplY3QpO30pO319LHtrZXk6InBhcnNlIix2YWx1ZTpmdW5jdGlvbiBwYXJzZSgvKiBkYXRhICovKXt9fSx7a2V5OiJzZXRDcm9zc09yaWdpbiIsdmFsdWU6ZnVuY3Rpb24gc2V0Q3Jvc3NPcmlnaW4oY3Jvc3NPcmlnaW4pe3RoaXMuY3Jvc3NPcmlnaW49Y3Jvc3NPcmlnaW47cmV0dXJuIHRoaXM7fX0se2tleToic2V0V2l0aENyZWRlbnRpYWxzIix2YWx1ZTpmdW5jdGlvbiBzZXRXaXRoQ3JlZGVudGlhbHModmFsdWUpe3RoaXMud2l0aENyZWRlbnRpYWxzPXZhbHVlO3JldHVybiB0aGlzO319LHtrZXk6InNldFBhdGgiLHZhbHVlOmZ1bmN0aW9uIHNldFBhdGgocGF0aCl7dGhpcy5wYXRoPXBhdGg7cmV0dXJuIHRoaXM7fX0se2tleToic2V0UmVzb3VyY2VQYXRoIix2YWx1ZTpmdW5jdGlvbiBzZXRSZXNvdXJjZVBhdGgocmVzb3VyY2VQYXRoKXt0aGlzLnJlc291cmNlUGF0aD1yZXNvdXJjZVBhdGg7cmV0dXJuIHRoaXM7fX0se2tleToic2V0UmVxdWVzdEhlYWRlciIsdmFsdWU6ZnVuY3Rpb24gc2V0UmVxdWVzdEhlYWRlcihyZXF1ZXN0SGVhZGVyKXt0aGlzLnJlcXVlc3RIZWFkZXI9cmVxdWVzdEhlYWRlcjtyZXR1cm4gdGhpczt9fV0pO3JldHVybiBMb2FkZXI7fSgpO3ZhciBsb2FkaW5nPXt9O3ZhciBGaWxlTG9hZGVyPS8qI19fUFVSRV9fKi9mdW5jdGlvbihfTG9hZGVyKXtfaW5oZXJpdHMoRmlsZUxvYWRlcixfTG9hZGVyKTt2YXIgX3N1cGVyMTA4PV9jcmVhdGVTdXBlcihGaWxlTG9hZGVyKTtmdW5jdGlvbiBGaWxlTG9hZGVyKG1hbmFnZXIpe19jbGFzc0NhbGxDaGVjayh0aGlzLEZpbGVMb2FkZXIpO3JldHVybiBfc3VwZXIxMDguY2FsbCh0aGlzLG1hbmFnZXIpO31fY3JlYXRlQ2xhc3MoRmlsZUxvYWRlcixbe2tleToibG9hZCIsdmFsdWU6ZnVuY3Rpb24gbG9hZCh1cmwsb25Mb2FkLG9uUHJvZ3Jlc3Msb25FcnJvcil7dmFyIF90aGlzODk9dGhpcztpZih1cmw9PT11bmRlZmluZWQpdXJsPScnO2lmKHRoaXMucGF0aCE9PXVuZGVmaW5lZCl1cmw9dGhpcy5wYXRoK3VybDt1cmw9dGhpcy5tYW5hZ2VyLnJlc29sdmVVUkwodXJsKTt2YXIgY2FjaGVkPUNhY2hlLmdldCh1cmwpO2lmKGNhY2hlZCE9PXVuZGVmaW5lZCl7dGhpcy5tYW5hZ2VyLml0ZW1TdGFydCh1cmwpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtpZihvbkxvYWQpb25Mb2FkKGNhY2hlZCk7X3RoaXM4OS5tYW5hZ2VyLml0ZW1FbmQodXJsKTt9LDApO3JldHVybiBjYWNoZWQ7fS8vIENoZWNrIGlmIHJlcXVlc3QgaXMgZHVwbGljYXRlCmlmKGxvYWRpbmdbdXJsXSE9PXVuZGVmaW5lZCl7bG9hZGluZ1t1cmxdLnB1c2goe29uTG9hZDpvbkxvYWQsb25Qcm9ncmVzczpvblByb2dyZXNzLG9uRXJyb3I6b25FcnJvcn0pO3JldHVybjt9Ly8gSW5pdGlhbGlzZSBhcnJheSBmb3IgZHVwbGljYXRlIHJlcXVlc3RzCmxvYWRpbmdbdXJsXT1bXTtsb2FkaW5nW3VybF0ucHVzaCh7b25Mb2FkOm9uTG9hZCxvblByb2dyZXNzOm9uUHJvZ3Jlc3Msb25FcnJvcjpvbkVycm9yfSk7Ly8gY3JlYXRlIHJlcXVlc3QKdmFyIHJlcT1uZXcgUmVxdWVzdCh1cmwse2hlYWRlcnM6bmV3IEhlYWRlcnModGhpcy5yZXF1ZXN0SGVhZGVyKSxjcmVkZW50aWFsczp0aGlzLndpdGhDcmVkZW50aWFscz8naW5jbHVkZSc6J3NhbWUtb3JpZ2luJy8vIEFuIGFib3J0IGNvbnRyb2xsZXIgY291bGQgYmUgYWRkZWQgd2l0aGluIGEgZnV0dXJlIFBSCn0pOy8vIHJlY29yZCBzdGF0ZXMgKCBhdm9pZCBkYXRhIHJhY2UgKQp2YXIgbWltZVR5cGU9dGhpcy5taW1lVHlwZTt2YXIgcmVzcG9uc2VUeXBlPXRoaXMucmVzcG9uc2VUeXBlOy8vIHN0YXJ0IHRoZSBmZXRjaApmZXRjaChyZXEpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe2lmKHJlc3BvbnNlLnN0YXR1cz09PTIwMHx8cmVzcG9uc2Uuc3RhdHVzPT09MCl7Ly8gU29tZSBicm93c2VycyByZXR1cm4gSFRUUCBTdGF0dXMgMCB3aGVuIHVzaW5nIG5vbi1odHRwIHByb3RvY29sCi8vIGUuZy4gJ2ZpbGU6Ly8nIG9yICdkYXRhOi8vJy4gSGFuZGxlIGFzIHN1Y2Nlc3MuCmlmKHJlc3BvbnNlLnN0YXR1cz09PTApe2NvbnNvbGUud2FybignVEhSRUUuRmlsZUxvYWRlcjogSFRUUCBTdGF0dXMgMCByZWNlaXZlZC4nKTt9aWYodHlwZW9mIFJlYWRhYmxlU3RyZWFtPT09J3VuZGVmaW5lZCd8fHJlc3BvbnNlLmJvZHkuZ2V0UmVhZGVyPT09dW5kZWZpbmVkKXtyZXR1cm4gcmVzcG9uc2U7fXZhciBjYWxsYmFja3M9bG9hZGluZ1t1cmxdO3ZhciByZWFkZXI9cmVzcG9uc2UuYm9keS5nZXRSZWFkZXIoKTt2YXIgY29udGVudExlbmd0aD1yZXNwb25zZS5oZWFkZXJzLmdldCgnQ29udGVudC1MZW5ndGgnKTt2YXIgdG90YWw9Y29udGVudExlbmd0aD9wYXJzZUludChjb250ZW50TGVuZ3RoKTowO3ZhciBsZW5ndGhDb21wdXRhYmxlPXRvdGFsIT09MDt2YXIgbG9hZGVkPTA7Ly8gcGVyaW9kaWNhbGx5IHJlYWQgZGF0YSBpbnRvIHRoZSBuZXcgc3RyZWFtIHRyYWNraW5nIHdoaWxlIGRvd25sb2FkIHByb2dyZXNzCnZhciBzdHJlYW09bmV3IFJlYWRhYmxlU3RyZWFtKHtzdGFydDpmdW5jdGlvbiBzdGFydChjb250cm9sbGVyKXtyZWFkRGF0YSgpO2Z1bmN0aW9uIHJlYWREYXRhKCl7cmVhZGVyLnJlYWQoKS50aGVuKGZ1bmN0aW9uKF9yZWYyKXt2YXIgZG9uZT1fcmVmMi5kb25lLHZhbHVlPV9yZWYyLnZhbHVlO2lmKGRvbmUpe2NvbnRyb2xsZXIuY2xvc2UoKTt9ZWxzZXtsb2FkZWQrPXZhbHVlLmJ5dGVMZW5ndGg7dmFyIGV2ZW50PW5ldyBQcm9ncmVzc0V2ZW50KCdwcm9ncmVzcycse2xlbmd0aENvbXB1dGFibGU6bGVuZ3RoQ29tcHV0YWJsZSxsb2FkZWQ6bG9hZGVkLHRvdGFsOnRvdGFsfSk7Zm9yKHZhciBfaTI3Mz0wLGlsPWNhbGxiYWNrcy5sZW5ndGg7X2kyNzM8aWw7X2kyNzMrKyl7dmFyIGNhbGxiYWNrPWNhbGxiYWNrc1tfaTI3M107aWYoY2FsbGJhY2sub25Qcm9ncmVzcyljYWxsYmFjay5vblByb2dyZXNzKGV2ZW50KTt9Y29udHJvbGxlci5lbnF1ZXVlKHZhbHVlKTtyZWFkRGF0YSgpO319KTt9fX0pO3JldHVybiBuZXcgUmVzcG9uc2Uoc3RyZWFtKTt9ZWxzZXt0aHJvdyBFcnJvcigiZmV0Y2ggZm9yIFwiIi5jb25jYXQocmVzcG9uc2UudXJsLCJcIiByZXNwb25kZWQgd2l0aCAiKS5jb25jYXQocmVzcG9uc2Uuc3RhdHVzLCI6ICIpLmNvbmNhdChyZXNwb25zZS5zdGF0dXNUZXh0KSk7fX0pLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe3N3aXRjaChyZXNwb25zZVR5cGUpe2Nhc2UnYXJyYXlidWZmZXInOnJldHVybiByZXNwb25zZS5hcnJheUJ1ZmZlcigpO2Nhc2UnYmxvYic6cmV0dXJuIHJlc3BvbnNlLmJsb2IoKTtjYXNlJ2RvY3VtZW50JzpyZXR1cm4gcmVzcG9uc2UudGV4dCgpLnRoZW4oZnVuY3Rpb24odGV4dCl7dmFyIHBhcnNlcj1uZXcgRE9NUGFyc2VyKCk7cmV0dXJuIHBhcnNlci5wYXJzZUZyb21TdHJpbmcodGV4dCxtaW1lVHlwZSk7fSk7Y2FzZSdqc29uJzpyZXR1cm4gcmVzcG9uc2UuanNvbigpO2RlZmF1bHQ6aWYobWltZVR5cGU9PT11bmRlZmluZWQpe3JldHVybiByZXNwb25zZS50ZXh0KCk7fWVsc2V7Ly8gc25pZmYgZW5jb2RpbmcKdmFyIHJlPS9jaGFyc2V0PSI/KFteOyJcc10qKSI/L2k7dmFyIGV4ZWM9cmUuZXhlYyhtaW1lVHlwZSk7dmFyIGxhYmVsPWV4ZWMmJmV4ZWNbMV0/ZXhlY1sxXS50b0xvd2VyQ2FzZSgpOnVuZGVmaW5lZDt2YXIgZGVjb2Rlcj1uZXcgVGV4dERlY29kZXIobGFiZWwpO3JldHVybiByZXNwb25zZS5hcnJheUJ1ZmZlcigpLnRoZW4oZnVuY3Rpb24oYWIpe3JldHVybiBkZWNvZGVyLmRlY29kZShhYik7fSk7fX19KS50aGVuKGZ1bmN0aW9uKGRhdGEpey8vIEFkZCB0byBjYWNoZSBvbmx5IG9uIEhUVFAgc3VjY2Vzcywgc28gdGhhdCB3ZSBkbyBub3QgY2FjaGUKLy8gZXJyb3IgcmVzcG9uc2UgYm9kaWVzIGFzIHByb3BlciByZXNwb25zZXMgdG8gcmVxdWVzdHMuCkNhY2hlLmFkZCh1cmwsZGF0YSk7dmFyIGNhbGxiYWNrcz1sb2FkaW5nW3VybF07ZGVsZXRlIGxvYWRpbmdbdXJsXTtmb3IodmFyIF9pMjc0PTAsaWw9Y2FsbGJhY2tzLmxlbmd0aDtfaTI3NDxpbDtfaTI3NCsrKXt2YXIgY2FsbGJhY2s9Y2FsbGJhY2tzW19pMjc0XTtpZihjYWxsYmFjay5vbkxvYWQpY2FsbGJhY2sub25Mb2FkKGRhdGEpO319KS5jYXRjaChmdW5jdGlvbihlcnIpey8vIEFib3J0IGVycm9ycyBhbmQgb3RoZXIgZXJyb3JzIGFyZSBoYW5kbGVkIHRoZSBzYW1lCnZhciBjYWxsYmFja3M9bG9hZGluZ1t1cmxdO2lmKGNhbGxiYWNrcz09PXVuZGVmaW5lZCl7Ly8gV2hlbiBvbkxvYWQgd2FzIGNhbGxlZCBhbmQgdXJsIHdhcyBkZWxldGVkIGluIGBsb2FkaW5nYApfdGhpczg5Lm1hbmFnZXIuaXRlbUVycm9yKHVybCk7dGhyb3cgZXJyO31kZWxldGUgbG9hZGluZ1t1cmxdO2Zvcih2YXIgX2kyNzU9MCxpbD1jYWxsYmFja3MubGVuZ3RoO19pMjc1PGlsO19pMjc1Kyspe3ZhciBjYWxsYmFjaz1jYWxsYmFja3NbX2kyNzVdO2lmKGNhbGxiYWNrLm9uRXJyb3IpY2FsbGJhY2sub25FcnJvcihlcnIpO31fdGhpczg5Lm1hbmFnZXIuaXRlbUVycm9yKHVybCk7fSkuZmluYWxseShmdW5jdGlvbigpe190aGlzODkubWFuYWdlci5pdGVtRW5kKHVybCk7fSk7dGhpcy5tYW5hZ2VyLml0ZW1TdGFydCh1cmwpO319LHtrZXk6InNldFJlc3BvbnNlVHlwZSIsdmFsdWU6ZnVuY3Rpb24gc2V0UmVzcG9uc2VUeXBlKHZhbHVlKXt0aGlzLnJlc3BvbnNlVHlwZT12YWx1ZTtyZXR1cm4gdGhpczt9fSx7a2V5OiJzZXRNaW1lVHlwZSIsdmFsdWU6ZnVuY3Rpb24gc2V0TWltZVR5cGUodmFsdWUpe3RoaXMubWltZVR5cGU9dmFsdWU7cmV0dXJuIHRoaXM7fX1dKTtyZXR1cm4gRmlsZUxvYWRlcjt9KExvYWRlcik7dmFyIEFuaW1hdGlvbkxvYWRlcj0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX0xvYWRlcjIpe19pbmhlcml0cyhBbmltYXRpb25Mb2FkZXIsX0xvYWRlcjIpO3ZhciBfc3VwZXIxMDk9X2NyZWF0ZVN1cGVyKEFuaW1hdGlvbkxvYWRlcik7ZnVuY3Rpb24gQW5pbWF0aW9uTG9hZGVyKG1hbmFnZXIpe19jbGFzc0NhbGxDaGVjayh0aGlzLEFuaW1hdGlvbkxvYWRlcik7cmV0dXJuIF9zdXBlcjEwOS5jYWxsKHRoaXMsbWFuYWdlcik7fV9jcmVhdGVDbGFzcyhBbmltYXRpb25Mb2FkZXIsW3trZXk6ImxvYWQiLHZhbHVlOmZ1bmN0aW9uIGxvYWQodXJsLG9uTG9hZCxvblByb2dyZXNzLG9uRXJyb3Ipe3ZhciBzY29wZT10aGlzO3ZhciBsb2FkZXI9bmV3IEZpbGVMb2FkZXIodGhpcy5tYW5hZ2VyKTtsb2FkZXIuc2V0UGF0aCh0aGlzLnBhdGgpO2xvYWRlci5zZXRSZXF1ZXN0SGVhZGVyKHRoaXMucmVxdWVzdEhlYWRlcik7bG9hZGVyLnNldFdpdGhDcmVkZW50aWFscyh0aGlzLndpdGhDcmVkZW50aWFscyk7bG9hZGVyLmxvYWQodXJsLGZ1bmN0aW9uKHRleHQpe3RyeXtvbkxvYWQoc2NvcGUucGFyc2UoSlNPTi5wYXJzZSh0ZXh0KSkpO31jYXRjaChlKXtpZihvbkVycm9yKXtvbkVycm9yKGUpO31lbHNle2NvbnNvbGUuZXJyb3IoZSk7fXNjb3BlLm1hbmFnZXIuaXRlbUVycm9yKHVybCk7fX0sb25Qcm9ncmVzcyxvbkVycm9yKTt9fSx7a2V5OiJwYXJzZSIsdmFsdWU6ZnVuY3Rpb24gcGFyc2UoanNvbil7dmFyIGFuaW1hdGlvbnM9W107Zm9yKHZhciBfaTI3Nj0wO19pMjc2PGpzb24ubGVuZ3RoO19pMjc2Kyspe3ZhciBjbGlwPUFuaW1hdGlvbkNsaXAucGFyc2UoanNvbltfaTI3Nl0pO2FuaW1hdGlvbnMucHVzaChjbGlwKTt9cmV0dXJuIGFuaW1hdGlvbnM7fX1dKTtyZXR1cm4gQW5pbWF0aW9uTG9hZGVyO30oTG9hZGVyKTsvKioKICogQWJzdHJhY3QgQmFzZSBjbGFzcyB0byBibG9jayBiYXNlZCB0ZXh0dXJlcyBsb2FkZXIgKGRkcywgcHZyLCAuLi4pCiAqCiAqIFN1YiBjbGFzc2VzIGhhdmUgdG8gaW1wbGVtZW50IHRoZSBwYXJzZSgpIG1ldGhvZCB3aGljaCB3aWxsIGJlIHVzZWQgaW4gbG9hZCgpLgogKi92YXIgQ29tcHJlc3NlZFRleHR1cmVMb2FkZXI9LyojX19QVVJFX18qL2Z1bmN0aW9uKF9Mb2FkZXIzKXtfaW5oZXJpdHMoQ29tcHJlc3NlZFRleHR1cmVMb2FkZXIsX0xvYWRlcjMpO3ZhciBfc3VwZXIxMTA9X2NyZWF0ZVN1cGVyKENvbXByZXNzZWRUZXh0dXJlTG9hZGVyKTtmdW5jdGlvbiBDb21wcmVzc2VkVGV4dHVyZUxvYWRlcihtYW5hZ2VyKXtfY2xhc3NDYWxsQ2hlY2sodGhpcyxDb21wcmVzc2VkVGV4dHVyZUxvYWRlcik7cmV0dXJuIF9zdXBlcjExMC5jYWxsKHRoaXMsbWFuYWdlcik7fV9jcmVhdGVDbGFzcyhDb21wcmVzc2VkVGV4dHVyZUxvYWRlcixbe2tleToibG9hZCIsdmFsdWU6ZnVuY3Rpb24gbG9hZCh1cmwsb25Mb2FkLG9uUHJvZ3Jlc3Msb25FcnJvcil7dmFyIHNjb3BlPXRoaXM7dmFyIGltYWdlcz1bXTt2YXIgdGV4dHVyZT1uZXcgQ29tcHJlc3NlZFRleHR1cmUoKTt2YXIgbG9hZGVyPW5ldyBGaWxlTG9hZGVyKHRoaXMubWFuYWdlcik7bG9hZGVyLnNldFBhdGgodGhpcy5wYXRoKTtsb2FkZXIuc2V0UmVzcG9uc2VUeXBlKCdhcnJheWJ1ZmZlcicpO2xvYWRlci5zZXRSZXF1ZXN0SGVhZGVyKHRoaXMucmVxdWVzdEhlYWRlcik7bG9hZGVyLnNldFdpdGhDcmVkZW50aWFscyhzY29wZS53aXRoQ3JlZGVudGlhbHMpO3ZhciBsb2FkZWQ9MDtmdW5jdGlvbiBsb2FkVGV4dHVyZShpKXtsb2FkZXIubG9hZCh1cmxbaV0sZnVuY3Rpb24oYnVmZmVyKXt2YXIgdGV4RGF0YXM9c2NvcGUucGFyc2UoYnVmZmVyLHRydWUpO2ltYWdlc1tpXT17d2lkdGg6dGV4RGF0YXMud2lkdGgsaGVpZ2h0OnRleERhdGFzLmhlaWdodCxmb3JtYXQ6dGV4RGF0YXMuZm9ybWF0LG1pcG1hcHM6dGV4RGF0YXMubWlwbWFwc307bG9hZGVkKz0xO2lmKGxvYWRlZD09PTYpe2lmKHRleERhdGFzLm1pcG1hcENvdW50PT09MSl0ZXh0dXJlLm1pbkZpbHRlcj1MaW5lYXJGaWx0ZXI7dGV4dHVyZS5pbWFnZT1pbWFnZXM7dGV4dHVyZS5mb3JtYXQ9dGV4RGF0YXMuZm9ybWF0O3RleHR1cmUubmVlZHNVcGRhdGU9dHJ1ZTtpZihvbkxvYWQpb25Mb2FkKHRleHR1cmUpO319LG9uUHJvZ3Jlc3Msb25FcnJvcik7fWlmKEFycmF5LmlzQXJyYXkodXJsKSl7Zm9yKHZhciBfaTI3Nz0wLGlsPXVybC5sZW5ndGg7X2kyNzc8aWw7KytfaTI3Nyl7bG9hZFRleHR1cmUoX2kyNzcpO319ZWxzZXsvLyBjb21wcmVzc2VkIGN1YmVtYXAgdGV4dHVyZSBzdG9yZWQgaW4gYSBzaW5nbGUgRERTIGZpbGUKbG9hZGVyLmxvYWQodXJsLGZ1bmN0aW9uKGJ1ZmZlcil7dmFyIHRleERhdGFzPXNjb3BlLnBhcnNlKGJ1ZmZlcix0cnVlKTtpZih0ZXhEYXRhcy5pc0N1YmVtYXApe3ZhciBmYWNlcz10ZXhEYXRhcy5taXBtYXBzLmxlbmd0aC90ZXhEYXRhcy5taXBtYXBDb3VudDtmb3IodmFyIGY9MDtmPGZhY2VzO2YrKyl7aW1hZ2VzW2ZdPXttaXBtYXBzOltdfTtmb3IodmFyIF9pMjc4PTA7X2kyNzg8dGV4RGF0YXMubWlwbWFwQ291bnQ7X2kyNzgrKyl7aW1hZ2VzW2ZdLm1pcG1hcHMucHVzaCh0ZXhEYXRhcy5taXBtYXBzW2YqdGV4RGF0YXMubWlwbWFwQ291bnQrX2kyNzhdKTtpbWFnZXNbZl0uZm9ybWF0PXRleERhdGFzLmZvcm1hdDtpbWFnZXNbZl0ud2lkdGg9dGV4RGF0YXMud2lkdGg7aW1hZ2VzW2ZdLmhlaWdodD10ZXhEYXRhcy5oZWlnaHQ7fX10ZXh0dXJlLmltYWdlPWltYWdlczt9ZWxzZXt0ZXh0dXJlLmltYWdlLndpZHRoPXRleERhdGFzLndpZHRoO3RleHR1cmUuaW1hZ2UuaGVpZ2h0PXRleERhdGFzLmhlaWdodDt0ZXh0dXJlLm1pcG1hcHM9dGV4RGF0YXMubWlwbWFwczt9aWYodGV4RGF0YXMubWlwbWFwQ291bnQ9PT0xKXt0ZXh0dXJlLm1pbkZpbHRlcj1MaW5lYXJGaWx0ZXI7fXRleHR1cmUuZm9ybWF0PXRleERhdGFzLmZvcm1hdDt0ZXh0dXJlLm5lZWRzVXBkYXRlPXRydWU7aWYob25Mb2FkKW9uTG9hZCh0ZXh0dXJlKTt9LG9uUHJvZ3Jlc3Msb25FcnJvcik7fXJldHVybiB0ZXh0dXJlO319XSk7cmV0dXJuIENvbXByZXNzZWRUZXh0dXJlTG9hZGVyO30oTG9hZGVyKTt2YXIgSW1hZ2VMb2FkZXI9LyojX19QVVJFX18qL2Z1bmN0aW9uKF9Mb2FkZXI0KXtfaW5oZXJpdHMoSW1hZ2VMb2FkZXIsX0xvYWRlcjQpO3ZhciBfc3VwZXIxMTE9X2NyZWF0ZVN1cGVyKEltYWdlTG9hZGVyKTtmdW5jdGlvbiBJbWFnZUxvYWRlcihtYW5hZ2VyKXtfY2xhc3NDYWxsQ2hlY2sodGhpcyxJbWFnZUxvYWRlcik7cmV0dXJuIF9zdXBlcjExMS5jYWxsKHRoaXMsbWFuYWdlcik7fV9jcmVhdGVDbGFzcyhJbWFnZUxvYWRlcixbe2tleToibG9hZCIsdmFsdWU6ZnVuY3Rpb24gbG9hZCh1cmwsb25Mb2FkLG9uUHJvZ3Jlc3Msb25FcnJvcil7aWYodGhpcy5wYXRoIT09dW5kZWZpbmVkKXVybD10aGlzLnBhdGgrdXJsO3VybD10aGlzLm1hbmFnZXIucmVzb2x2ZVVSTCh1cmwpO3ZhciBzY29wZT10aGlzO3ZhciBjYWNoZWQ9Q2FjaGUuZ2V0KHVybCk7aWYoY2FjaGVkIT09dW5kZWZpbmVkKXtzY29wZS5tYW5hZ2VyLml0ZW1TdGFydCh1cmwpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtpZihvbkxvYWQpb25Mb2FkKGNhY2hlZCk7c2NvcGUubWFuYWdlci5pdGVtRW5kKHVybCk7fSwwKTtyZXR1cm4gY2FjaGVkO312YXIgaW1hZ2U9Y3JlYXRlRWxlbWVudE5TKCdpbWcnKTtmdW5jdGlvbiBvbkltYWdlTG9hZCgpe3JlbW92ZUV2ZW50TGlzdGVuZXJzKCk7Q2FjaGUuYWRkKHVybCx0aGlzKTtpZihvbkxvYWQpb25Mb2FkKHRoaXMpO3Njb3BlLm1hbmFnZXIuaXRlbUVuZCh1cmwpO31mdW5jdGlvbiBvbkltYWdlRXJyb3IoZXZlbnQpe3JlbW92ZUV2ZW50TGlzdGVuZXJzKCk7aWYob25FcnJvcilvbkVycm9yKGV2ZW50KTtzY29wZS5tYW5hZ2VyLml0ZW1FcnJvcih1cmwpO3Njb3BlLm1hbmFnZXIuaXRlbUVuZCh1cmwpO31mdW5jdGlvbiByZW1vdmVFdmVudExpc3RlbmVycygpe2ltYWdlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2xvYWQnLG9uSW1hZ2VMb2FkLGZhbHNlKTtpbWFnZS5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsb25JbWFnZUVycm9yLGZhbHNlKTt9aW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsb25JbWFnZUxvYWQsZmFsc2UpO2ltYWdlLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJyxvbkltYWdlRXJyb3IsZmFsc2UpO2lmKHVybC5zdWJzdHIoMCw1KSE9PSdkYXRhOicpe2lmKHRoaXMuY3Jvc3NPcmlnaW4hPT11bmRlZmluZWQpaW1hZ2UuY3Jvc3NPcmlnaW49dGhpcy5jcm9zc09yaWdpbjt9c2NvcGUubWFuYWdlci5pdGVtU3RhcnQodXJsKTtpbWFnZS5zcmM9dXJsO3JldHVybiBpbWFnZTt9fV0pO3JldHVybiBJbWFnZUxvYWRlcjt9KExvYWRlcik7dmFyIEN1YmVUZXh0dXJlTG9hZGVyPS8qI19fUFVSRV9fKi9mdW5jdGlvbihfTG9hZGVyNSl7X2luaGVyaXRzKEN1YmVUZXh0dXJlTG9hZGVyLF9Mb2FkZXI1KTt2YXIgX3N1cGVyMTEyPV9jcmVhdGVTdXBlcihDdWJlVGV4dHVyZUxvYWRlcik7ZnVuY3Rpb24gQ3ViZVRleHR1cmVMb2FkZXIobWFuYWdlcil7X2NsYXNzQ2FsbENoZWNrKHRoaXMsQ3ViZVRleHR1cmVMb2FkZXIpO3JldHVybiBfc3VwZXIxMTIuY2FsbCh0aGlzLG1hbmFnZXIpO31fY3JlYXRlQ2xhc3MoQ3ViZVRleHR1cmVMb2FkZXIsW3trZXk6ImxvYWQiLHZhbHVlOmZ1bmN0aW9uIGxvYWQodXJscyxvbkxvYWQsb25Qcm9ncmVzcyxvbkVycm9yKXt2YXIgdGV4dHVyZT1uZXcgQ3ViZVRleHR1cmUoKTt2YXIgbG9hZGVyPW5ldyBJbWFnZUxvYWRlcih0aGlzLm1hbmFnZXIpO2xvYWRlci5zZXRDcm9zc09yaWdpbih0aGlzLmNyb3NzT3JpZ2luKTtsb2FkZXIuc2V0UGF0aCh0aGlzLnBhdGgpO3ZhciBsb2FkZWQ9MDtmdW5jdGlvbiBsb2FkVGV4dHVyZShpKXtsb2FkZXIubG9hZCh1cmxzW2ldLGZ1bmN0aW9uKGltYWdlKXt0ZXh0dXJlLmltYWdlc1tpXT1pbWFnZTtsb2FkZWQrKztpZihsb2FkZWQ9PT02KXt0ZXh0dXJlLm5lZWRzVXBkYXRlPXRydWU7aWYob25Mb2FkKW9uTG9hZCh0ZXh0dXJlKTt9fSx1bmRlZmluZWQsb25FcnJvcik7fWZvcih2YXIgX2kyNzk9MDtfaTI3OTx1cmxzLmxlbmd0aDsrK19pMjc5KXtsb2FkVGV4dHVyZShfaTI3OSk7fXJldHVybiB0ZXh0dXJlO319XSk7cmV0dXJuIEN1YmVUZXh0dXJlTG9hZGVyO30oTG9hZGVyKTsvKioKICogQWJzdHJhY3QgQmFzZSBjbGFzcyB0byBsb2FkIGdlbmVyaWMgYmluYXJ5IHRleHR1cmVzIGZvcm1hdHMgKHJnYmUsIGhkciwgLi4uKQogKgogKiBTdWIgY2xhc3NlcyBoYXZlIHRvIGltcGxlbWVudCB0aGUgcGFyc2UoKSBtZXRob2Qgd2hpY2ggd2lsbCBiZSB1c2VkIGluIGxvYWQoKS4KICovdmFyIERhdGFUZXh0dXJlTG9hZGVyPS8qI19fUFVSRV9fKi9mdW5jdGlvbihfTG9hZGVyNil7X2luaGVyaXRzKERhdGFUZXh0dXJlTG9hZGVyLF9Mb2FkZXI2KTt2YXIgX3N1cGVyMTEzPV9jcmVhdGVTdXBlcihEYXRhVGV4dHVyZUxvYWRlcik7ZnVuY3Rpb24gRGF0YVRleHR1cmVMb2FkZXIobWFuYWdlcil7X2NsYXNzQ2FsbENoZWNrKHRoaXMsRGF0YVRleHR1cmVMb2FkZXIpO3JldHVybiBfc3VwZXIxMTMuY2FsbCh0aGlzLG1hbmFnZXIpO31fY3JlYXRlQ2xhc3MoRGF0YVRleHR1cmVMb2FkZXIsW3trZXk6ImxvYWQiLHZhbHVlOmZ1bmN0aW9uIGxvYWQodXJsLG9uTG9hZCxvblByb2dyZXNzLG9uRXJyb3Ipe3ZhciBzY29wZT10aGlzO3ZhciB0ZXh0dXJlPW5ldyBEYXRhVGV4dHVyZSgpO3ZhciBsb2FkZXI9bmV3IEZpbGVMb2FkZXIodGhpcy5tYW5hZ2VyKTtsb2FkZXIuc2V0UmVzcG9uc2VUeXBlKCdhcnJheWJ1ZmZlcicpO2xvYWRlci5zZXRSZXF1ZXN0SGVhZGVyKHRoaXMucmVxdWVzdEhlYWRlcik7bG9hZGVyLnNldFBhdGgodGhpcy5wYXRoKTtsb2FkZXIuc2V0V2l0aENyZWRlbnRpYWxzKHNjb3BlLndpdGhDcmVkZW50aWFscyk7bG9hZGVyLmxvYWQodXJsLGZ1bmN0aW9uKGJ1ZmZlcil7dmFyIHRleERhdGE9c2NvcGUucGFyc2UoYnVmZmVyKTtpZighdGV4RGF0YSlyZXR1cm47aWYodGV4RGF0YS5pbWFnZSE9PXVuZGVmaW5lZCl7dGV4dHVyZS5pbWFnZT10ZXhEYXRhLmltYWdlO31lbHNlIGlmKHRleERhdGEuZGF0YSE9PXVuZGVmaW5lZCl7dGV4dHVyZS5pbWFnZS53aWR0aD10ZXhEYXRhLndpZHRoO3RleHR1cmUuaW1hZ2UuaGVpZ2h0PXRleERhdGEuaGVpZ2h0O3RleHR1cmUuaW1hZ2UuZGF0YT10ZXhEYXRhLmRhdGE7fXRleHR1cmUud3JhcFM9dGV4RGF0YS53cmFwUyE9PXVuZGVmaW5lZD90ZXhEYXRhLndyYXBTOkNsYW1wVG9FZGdlV3JhcHBpbmc7dGV4dHVyZS53cmFwVD10ZXhEYXRhLndyYXBUIT09dW5kZWZpbmVkP3RleERhdGEud3JhcFQ6Q2xhbXBUb0VkZ2VXcmFwcGluZzt0ZXh0dXJlLm1hZ0ZpbHRlcj10ZXhEYXRhLm1hZ0ZpbHRlciE9PXVuZGVmaW5lZD90ZXhEYXRhLm1hZ0ZpbHRlcjpMaW5lYXJGaWx0ZXI7dGV4dHVyZS5taW5GaWx0ZXI9dGV4RGF0YS5taW5GaWx0ZXIhPT11bmRlZmluZWQ/dGV4RGF0YS5taW5GaWx0ZXI6TGluZWFyRmlsdGVyO3RleHR1cmUuYW5pc290cm9weT10ZXhEYXRhLmFuaXNvdHJvcHkhPT11bmRlZmluZWQ/dGV4RGF0YS5hbmlzb3Ryb3B5OjE7aWYodGV4RGF0YS5lbmNvZGluZyE9PXVuZGVmaW5lZCl7dGV4dHVyZS5lbmNvZGluZz10ZXhEYXRhLmVuY29kaW5nO31pZih0ZXhEYXRhLmZsaXBZIT09dW5kZWZpbmVkKXt0ZXh0dXJlLmZsaXBZPXRleERhdGEuZmxpcFk7fWlmKHRleERhdGEuZm9ybWF0IT09dW5kZWZpbmVkKXt0ZXh0dXJlLmZvcm1hdD10ZXhEYXRhLmZvcm1hdDt9aWYodGV4RGF0YS50eXBlIT09dW5kZWZpbmVkKXt0ZXh0dXJlLnR5cGU9dGV4RGF0YS50eXBlO31pZih0ZXhEYXRhLm1pcG1hcHMhPT11bmRlZmluZWQpe3RleHR1cmUubWlwbWFwcz10ZXhEYXRhLm1pcG1hcHM7dGV4dHVyZS5taW5GaWx0ZXI9TGluZWFyTWlwbWFwTGluZWFyRmlsdGVyOy8vIHByZXN1bWFibHkuLi4KfWlmKHRleERhdGEubWlwbWFwQ291bnQ9PT0xKXt0ZXh0dXJlLm1pbkZpbHRlcj1MaW5lYXJGaWx0ZXI7fWlmKHRleERhdGEuZ2VuZXJhdGVNaXBtYXBzIT09dW5kZWZpbmVkKXt0ZXh0dXJlLmdlbmVyYXRlTWlwbWFwcz10ZXhEYXRhLmdlbmVyYXRlTWlwbWFwczt9dGV4dHVyZS5uZWVkc1VwZGF0ZT10cnVlO2lmKG9uTG9hZClvbkxvYWQodGV4dHVyZSx0ZXhEYXRhKTt9LG9uUHJvZ3Jlc3Msb25FcnJvcik7cmV0dXJuIHRleHR1cmU7fX1dKTtyZXR1cm4gRGF0YVRleHR1cmVMb2FkZXI7fShMb2FkZXIpO3ZhciBUZXh0dXJlTG9hZGVyPS8qI19fUFVSRV9fKi9mdW5jdGlvbihfTG9hZGVyNyl7X2luaGVyaXRzKFRleHR1cmVMb2FkZXIsX0xvYWRlcjcpO3ZhciBfc3VwZXIxMTQ9X2NyZWF0ZVN1cGVyKFRleHR1cmVMb2FkZXIpO2Z1bmN0aW9uIFRleHR1cmVMb2FkZXIobWFuYWdlcil7X2NsYXNzQ2FsbENoZWNrKHRoaXMsVGV4dHVyZUxvYWRlcik7cmV0dXJuIF9zdXBlcjExNC5jYWxsKHRoaXMsbWFuYWdlcik7fV9jcmVhdGVDbGFzcyhUZXh0dXJlTG9hZGVyLFt7a2V5OiJsb2FkIix2YWx1ZTpmdW5jdGlvbiBsb2FkKHVybCxvbkxvYWQsb25Qcm9ncmVzcyxvbkVycm9yKXt2YXIgdGV4dHVyZT1uZXcgVGV4dHVyZSgpO3ZhciBsb2FkZXI9bmV3IEltYWdlTG9hZGVyKHRoaXMubWFuYWdlcik7bG9hZGVyLnNldENyb3NzT3JpZ2luKHRoaXMuY3Jvc3NPcmlnaW4pO2xvYWRlci5zZXRQYXRoKHRoaXMucGF0aCk7bG9hZGVyLmxvYWQodXJsLGZ1bmN0aW9uKGltYWdlKXt0ZXh0dXJlLmltYWdlPWltYWdlO3RleHR1cmUubmVlZHNVcGRhdGU9dHJ1ZTtpZihvbkxvYWQhPT11bmRlZmluZWQpe29uTG9hZCh0ZXh0dXJlKTt9fSxvblByb2dyZXNzLG9uRXJyb3IpO3JldHVybiB0ZXh0dXJlO319XSk7cmV0dXJuIFRleHR1cmVMb2FkZXI7fShMb2FkZXIpO3ZhciBMaWdodD0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX09iamVjdDNEMTEpe19pbmhlcml0cyhMaWdodCxfT2JqZWN0M0QxMSk7dmFyIF9zdXBlcjExNT1fY3JlYXRlU3VwZXIoTGlnaHQpO2Z1bmN0aW9uIExpZ2h0KGNvbG9yKXt2YXIgX3RoaXM5MDt2YXIgaW50ZW5zaXR5PWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1sxXToxO19jbGFzc0NhbGxDaGVjayh0aGlzLExpZ2h0KTtfdGhpczkwPV9zdXBlcjExNS5jYWxsKHRoaXMpO190aGlzOTAudHlwZT0nTGlnaHQnO190aGlzOTAuY29sb3I9bmV3IENvbG9yKGNvbG9yKTtfdGhpczkwLmludGVuc2l0eT1pbnRlbnNpdHk7cmV0dXJuIF90aGlzOTA7fV9jcmVhdGVDbGFzcyhMaWdodCxbe2tleToiZGlzcG9zZSIsdmFsdWU6ZnVuY3Rpb24gZGlzcG9zZSgpey8vIEVtcHR5IGhlcmUgaW4gYmFzZSBjbGFzczsgc29tZSBzdWJjbGFzc2VzIG92ZXJyaWRlLgp9fSx7a2V5OiJjb3B5Iix2YWx1ZTpmdW5jdGlvbiBjb3B5KHNvdXJjZSl7X2dldChfZ2V0UHJvdG90eXBlT2YoTGlnaHQucHJvdG90eXBlKSwiY29weSIsdGhpcykuY2FsbCh0aGlzLHNvdXJjZSk7dGhpcy5jb2xvci5jb3B5KHNvdXJjZS5jb2xvcik7dGhpcy5pbnRlbnNpdHk9c291cmNlLmludGVuc2l0eTtyZXR1cm4gdGhpczt9fSx7a2V5OiJ0b0pTT04iLHZhbHVlOmZ1bmN0aW9uIHRvSlNPTihtZXRhKXt2YXIgZGF0YT1fZ2V0KF9nZXRQcm90b3R5cGVPZihMaWdodC5wcm90b3R5cGUpLCJ0b0pTT04iLHRoaXMpLmNhbGwodGhpcyxtZXRhKTtkYXRhLm9iamVjdC5jb2xvcj10aGlzLmNvbG9yLmdldEhleCgpO2RhdGEub2JqZWN0LmludGVuc2l0eT10aGlzLmludGVuc2l0eTtpZih0aGlzLmdyb3VuZENvbG9yIT09dW5kZWZpbmVkKWRhdGEub2JqZWN0Lmdyb3VuZENvbG9yPXRoaXMuZ3JvdW5kQ29sb3IuZ2V0SGV4KCk7aWYodGhpcy5kaXN0YW5jZSE9PXVuZGVmaW5lZClkYXRhLm9iamVjdC5kaXN0YW5jZT10aGlzLmRpc3RhbmNlO2lmKHRoaXMuYW5nbGUhPT11bmRlZmluZWQpZGF0YS5vYmplY3QuYW5nbGU9dGhpcy5hbmdsZTtpZih0aGlzLmRlY2F5IT09dW5kZWZpbmVkKWRhdGEub2JqZWN0LmRlY2F5PXRoaXMuZGVjYXk7aWYodGhpcy5wZW51bWJyYSE9PXVuZGVmaW5lZClkYXRhLm9iamVjdC5wZW51bWJyYT10aGlzLnBlbnVtYnJhO2lmKHRoaXMuc2hhZG93IT09dW5kZWZpbmVkKWRhdGEub2JqZWN0LnNoYWRvdz10aGlzLnNoYWRvdy50b0pTT04oKTtyZXR1cm4gZGF0YTt9fV0pO3JldHVybiBMaWdodDt9KE9iamVjdDNEKTtMaWdodC5wcm90b3R5cGUuaXNMaWdodD10cnVlO3ZhciBIZW1pc3BoZXJlTGlnaHQ9LyojX19QVVJFX18qL2Z1bmN0aW9uKF9MaWdodCl7X2luaGVyaXRzKEhlbWlzcGhlcmVMaWdodCxfTGlnaHQpO3ZhciBfc3VwZXIxMTY9X2NyZWF0ZVN1cGVyKEhlbWlzcGhlcmVMaWdodCk7ZnVuY3Rpb24gSGVtaXNwaGVyZUxpZ2h0KHNreUNvbG9yLGdyb3VuZENvbG9yLGludGVuc2l0eSl7dmFyIF90aGlzOTE7X2NsYXNzQ2FsbENoZWNrKHRoaXMsSGVtaXNwaGVyZUxpZ2h0KTtfdGhpczkxPV9zdXBlcjExNi5jYWxsKHRoaXMsc2t5Q29sb3IsaW50ZW5zaXR5KTtfdGhpczkxLnR5cGU9J0hlbWlzcGhlcmVMaWdodCc7X3RoaXM5MS5wb3NpdGlvbi5jb3B5KE9iamVjdDNELkRlZmF1bHRVcCk7X3RoaXM5MS51cGRhdGVNYXRyaXgoKTtfdGhpczkxLmdyb3VuZENvbG9yPW5ldyBDb2xvcihncm91bmRDb2xvcik7cmV0dXJuIF90aGlzOTE7fV9jcmVhdGVDbGFzcyhIZW1pc3BoZXJlTGlnaHQsW3trZXk6ImNvcHkiLHZhbHVlOmZ1bmN0aW9uIGNvcHkoc291cmNlKXtMaWdodC5wcm90b3R5cGUuY29weS5jYWxsKHRoaXMsc291cmNlKTt0aGlzLmdyb3VuZENvbG9yLmNvcHkoc291cmNlLmdyb3VuZENvbG9yKTtyZXR1cm4gdGhpczt9fV0pO3JldHVybiBIZW1pc3BoZXJlTGlnaHQ7fShMaWdodCk7SGVtaXNwaGVyZUxpZ2h0LnByb3RvdHlwZS5pc0hlbWlzcGhlcmVMaWdodD10cnVlO3ZhciBfcHJvalNjcmVlbk1hdHJpeCQxPS8qQF9fUFVSRV9fKi9uZXcgTWF0cml4NCgpO3ZhciBfbGlnaHRQb3NpdGlvbldvcmxkJDE9LypAX19QVVJFX18qL25ldyBWZWN0b3IzKCk7dmFyIF9sb29rVGFyZ2V0JDE9LypAX19QVVJFX18qL25ldyBWZWN0b3IzKCk7dmFyIExpZ2h0U2hhZG93PS8qI19fUFVSRV9fKi9mdW5jdGlvbigpe2Z1bmN0aW9uIExpZ2h0U2hhZG93KGNhbWVyYSl7X2NsYXNzQ2FsbENoZWNrKHRoaXMsTGlnaHRTaGFkb3cpO3RoaXMuY2FtZXJhPWNhbWVyYTt0aGlzLmJpYXM9MDt0aGlzLm5vcm1hbEJpYXM9MDt0aGlzLnJhZGl1cz0xO3RoaXMuYmx1clNhbXBsZXM9ODt0aGlzLm1hcFNpemU9bmV3IFZlY3RvcjIoNTEyLDUxMik7dGhpcy5tYXA9bnVsbDt0aGlzLm1hcFBhc3M9bnVsbDt0aGlzLm1hdHJpeD1uZXcgTWF0cml4NCgpO3RoaXMuYXV0b1VwZGF0ZT10cnVlO3RoaXMubmVlZHNVcGRhdGU9ZmFsc2U7dGhpcy5fZnJ1c3R1bT1uZXcgRnJ1c3R1bSgpO3RoaXMuX2ZyYW1lRXh0ZW50cz1uZXcgVmVjdG9yMigxLDEpO3RoaXMuX3ZpZXdwb3J0Q291bnQ9MTt0aGlzLl92aWV3cG9ydHM9W25ldyBWZWN0b3I0KDAsMCwxLDEpXTt9X2NyZWF0ZUNsYXNzKExpZ2h0U2hhZG93LFt7a2V5OiJnZXRWaWV3cG9ydENvdW50Iix2YWx1ZTpmdW5jdGlvbiBnZXRWaWV3cG9ydENvdW50KCl7cmV0dXJuIHRoaXMuX3ZpZXdwb3J0Q291bnQ7fX0se2tleToiZ2V0RnJ1c3R1bSIsdmFsdWU6ZnVuY3Rpb24gZ2V0RnJ1c3R1bSgpe3JldHVybiB0aGlzLl9mcnVzdHVtO319LHtrZXk6InVwZGF0ZU1hdHJpY2VzIix2YWx1ZTpmdW5jdGlvbiB1cGRhdGVNYXRyaWNlcyhsaWdodCl7dmFyIHNoYWRvd0NhbWVyYT10aGlzLmNhbWVyYTt2YXIgc2hhZG93TWF0cml4PXRoaXMubWF0cml4O19saWdodFBvc2l0aW9uV29ybGQkMS5zZXRGcm9tTWF0cml4UG9zaXRpb24obGlnaHQubWF0cml4V29ybGQpO3NoYWRvd0NhbWVyYS5wb3NpdGlvbi5jb3B5KF9saWdodFBvc2l0aW9uV29ybGQkMSk7X2xvb2tUYXJnZXQkMS5zZXRGcm9tTWF0cml4UG9zaXRpb24obGlnaHQudGFyZ2V0Lm1hdHJpeFdvcmxkKTtzaGFkb3dDYW1lcmEubG9va0F0KF9sb29rVGFyZ2V0JDEpO3NoYWRvd0NhbWVyYS51cGRhdGVNYXRyaXhXb3JsZCgpO19wcm9qU2NyZWVuTWF0cml4JDEubXVsdGlwbHlNYXRyaWNlcyhzaGFkb3dDYW1lcmEucHJvamVjdGlvbk1hdHJpeCxzaGFkb3dDYW1lcmEubWF0cml4V29ybGRJbnZlcnNlKTt0aGlzLl9mcnVzdHVtLnNldEZyb21Qcm9qZWN0aW9uTWF0cml4KF9wcm9qU2NyZWVuTWF0cml4JDEpO3NoYWRvd01hdHJpeC5zZXQoMC41LDAuMCwwLjAsMC41LDAuMCwwLjUsMC4wLDAuNSwwLjAsMC4wLDAuNSwwLjUsMC4wLDAuMCwwLjAsMS4wKTtzaGFkb3dNYXRyaXgubXVsdGlwbHkoc2hhZG93Q2FtZXJhLnByb2plY3Rpb25NYXRyaXgpO3NoYWRvd01hdHJpeC5tdWx0aXBseShzaGFkb3dDYW1lcmEubWF0cml4V29ybGRJbnZlcnNlKTt9fSx7a2V5OiJnZXRWaWV3cG9ydCIsdmFsdWU6ZnVuY3Rpb24gZ2V0Vmlld3BvcnQodmlld3BvcnRJbmRleCl7cmV0dXJuIHRoaXMuX3ZpZXdwb3J0c1t2aWV3cG9ydEluZGV4XTt9fSx7a2V5OiJnZXRGcmFtZUV4dGVudHMiLHZhbHVlOmZ1bmN0aW9uIGdldEZyYW1lRXh0ZW50cygpe3JldHVybiB0aGlzLl9mcmFtZUV4dGVudHM7fX0se2tleToiZGlzcG9zZSIsdmFsdWU6ZnVuY3Rpb24gZGlzcG9zZSgpe2lmKHRoaXMubWFwKXt0aGlzLm1hcC5kaXNwb3NlKCk7fWlmKHRoaXMubWFwUGFzcyl7dGhpcy5tYXBQYXNzLmRpc3Bvc2UoKTt9fX0se2tleToiY29weSIsdmFsdWU6ZnVuY3Rpb24gY29weShzb3VyY2Upe3RoaXMuY2FtZXJhPXNvdXJjZS5jYW1lcmEuY2xvbmUoKTt0aGlzLmJpYXM9c291cmNlLmJpYXM7dGhpcy5yYWRpdXM9c291cmNlLnJhZGl1czt0aGlzLm1hcFNpemUuY29weShzb3VyY2UubWFwU2l6ZSk7cmV0dXJuIHRoaXM7fX0se2tleToiY2xvbmUiLHZhbHVlOmZ1bmN0aW9uIGNsb25lKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKCkuY29weSh0aGlzKTt9fSx7a2V5OiJ0b0pTT04iLHZhbHVlOmZ1bmN0aW9uIHRvSlNPTigpe3ZhciBvYmplY3Q9e307aWYodGhpcy5iaWFzIT09MClvYmplY3QuYmlhcz10aGlzLmJpYXM7aWYodGhpcy5ub3JtYWxCaWFzIT09MClvYmplY3Qubm9ybWFsQmlhcz10aGlzLm5vcm1hbEJpYXM7aWYodGhpcy5yYWRpdXMhPT0xKW9iamVjdC5yYWRpdXM9dGhpcy5yYWRpdXM7aWYodGhpcy5tYXBTaXplLnghPT01MTJ8fHRoaXMubWFwU2l6ZS55IT09NTEyKW9iamVjdC5tYXBTaXplPXRoaXMubWFwU2l6ZS50b0FycmF5KCk7b2JqZWN0LmNhbWVyYT10aGlzLmNhbWVyYS50b0pTT04oZmFsc2UpLm9iamVjdDtkZWxldGUgb2JqZWN0LmNhbWVyYS5tYXRyaXg7cmV0dXJuIG9iamVjdDt9fV0pO3JldHVybiBMaWdodFNoYWRvdzt9KCk7dmFyIFNwb3RMaWdodFNoYWRvdz0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX0xpZ2h0U2hhZG93KXtfaW5oZXJpdHMoU3BvdExpZ2h0U2hhZG93LF9MaWdodFNoYWRvdyk7dmFyIF9zdXBlcjExNz1fY3JlYXRlU3VwZXIoU3BvdExpZ2h0U2hhZG93KTtmdW5jdGlvbiBTcG90TGlnaHRTaGFkb3coKXt2YXIgX3RoaXM5MjtfY2xhc3NDYWxsQ2hlY2sodGhpcyxTcG90TGlnaHRTaGFkb3cpO190aGlzOTI9X3N1cGVyMTE3LmNhbGwodGhpcyxuZXcgUGVyc3BlY3RpdmVDYW1lcmEoNTAsMSwwLjUsNTAwKSk7X3RoaXM5Mi5mb2N1cz0xO3JldHVybiBfdGhpczkyO31fY3JlYXRlQ2xhc3MoU3BvdExpZ2h0U2hhZG93LFt7a2V5OiJ1cGRhdGVNYXRyaWNlcyIsdmFsdWU6ZnVuY3Rpb24gdXBkYXRlTWF0cmljZXMobGlnaHQpe3ZhciBjYW1lcmE9dGhpcy5jYW1lcmE7dmFyIGZvdj1SQUQyREVHKjIqbGlnaHQuYW5nbGUqdGhpcy5mb2N1czt2YXIgYXNwZWN0PXRoaXMubWFwU2l6ZS53aWR0aC90aGlzLm1hcFNpemUuaGVpZ2h0O3ZhciBmYXI9bGlnaHQuZGlzdGFuY2V8fGNhbWVyYS5mYXI7aWYoZm92IT09Y2FtZXJhLmZvdnx8YXNwZWN0IT09Y2FtZXJhLmFzcGVjdHx8ZmFyIT09Y2FtZXJhLmZhcil7Y2FtZXJhLmZvdj1mb3Y7Y2FtZXJhLmFzcGVjdD1hc3BlY3Q7Y2FtZXJhLmZhcj1mYXI7Y2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTt9X2dldChfZ2V0UHJvdG90eXBlT2YoU3BvdExpZ2h0U2hhZG93LnByb3RvdHlwZSksInVwZGF0ZU1hdHJpY2VzIix0aGlzKS5jYWxsKHRoaXMsbGlnaHQpO319LHtrZXk6ImNvcHkiLHZhbHVlOmZ1bmN0aW9uIGNvcHkoc291cmNlKXtfZ2V0KF9nZXRQcm90b3R5cGVPZihTcG90TGlnaHRTaGFkb3cucHJvdG90eXBlKSwiY29weSIsdGhpcykuY2FsbCh0aGlzLHNvdXJjZSk7dGhpcy5mb2N1cz1zb3VyY2UuZm9jdXM7cmV0dXJuIHRoaXM7fX1dKTtyZXR1cm4gU3BvdExpZ2h0U2hhZG93O30oTGlnaHRTaGFkb3cpO1Nwb3RMaWdodFNoYWRvdy5wcm90b3R5cGUuaXNTcG90TGlnaHRTaGFkb3c9dHJ1ZTt2YXIgU3BvdExpZ2h0PS8qI19fUFVSRV9fKi9mdW5jdGlvbihfTGlnaHQyKXtfaW5oZXJpdHMoU3BvdExpZ2h0LF9MaWdodDIpO3ZhciBfc3VwZXIxMTg9X2NyZWF0ZVN1cGVyKFNwb3RMaWdodCk7ZnVuY3Rpb24gU3BvdExpZ2h0KGNvbG9yLGludGVuc2l0eSl7dmFyIF90aGlzOTM7dmFyIGRpc3RhbmNlPWFyZ3VtZW50cy5sZW5ndGg+MiYmYXJndW1lbnRzWzJdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1syXTowO3ZhciBhbmdsZT1hcmd1bWVudHMubGVuZ3RoPjMmJmFyZ3VtZW50c1szXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbM106TWF0aC5QSS8zO3ZhciBwZW51bWJyYT1hcmd1bWVudHMubGVuZ3RoPjQmJmFyZ3VtZW50c1s0XSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbNF06MDt2YXIgZGVjYXk9YXJndW1lbnRzLmxlbmd0aD41JiZhcmd1bWVudHNbNV0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzVdOjE7X2NsYXNzQ2FsbENoZWNrKHRoaXMsU3BvdExpZ2h0KTtfdGhpczkzPV9zdXBlcjExOC5jYWxsKHRoaXMsY29sb3IsaW50ZW5zaXR5KTtfdGhpczkzLnR5cGU9J1Nwb3RMaWdodCc7X3RoaXM5My5wb3NpdGlvbi5jb3B5KE9iamVjdDNELkRlZmF1bHRVcCk7X3RoaXM5My51cGRhdGVNYXRyaXgoKTtfdGhpczkzLnRhcmdldD1uZXcgT2JqZWN0M0QoKTtfdGhpczkzLmRpc3RhbmNlPWRpc3RhbmNlO190aGlzOTMuYW5nbGU9YW5nbGU7X3RoaXM5My5wZW51bWJyYT1wZW51bWJyYTtfdGhpczkzLmRlY2F5PWRlY2F5Oy8vIGZvciBwaHlzaWNhbGx5IGNvcnJlY3QgbGlnaHRzLCBzaG91bGQgYmUgMi4KX3RoaXM5My5zaGFkb3c9bmV3IFNwb3RMaWdodFNoYWRvdygpO3JldHVybiBfdGhpczkzO31fY3JlYXRlQ2xhc3MoU3BvdExpZ2h0LFt7a2V5OiJwb3dlciIsZ2V0OmZ1bmN0aW9uIGdldCgpey8vIGNvbXB1dGUgdGhlIGxpZ2h0J3MgbHVtaW5vdXMgcG93ZXIgKGluIGx1bWVucykgZnJvbSBpdHMgaW50ZW5zaXR5IChpbiBjYW5kZWxhKQovLyBieSBjb252ZW50aW9uIGZvciBhIHNwb3RsaWdodCwgbHVtaW5vdXMgcG93ZXIgKGxtKSA9IM+AICogbHVtaW5vdXMgaW50ZW5zaXR5IChjZCkKcmV0dXJuIHRoaXMuaW50ZW5zaXR5Kk1hdGguUEk7fSxzZXQ6ZnVuY3Rpb24gc2V0KHBvd2VyKXsvLyBzZXQgdGhlIGxpZ2h0J3MgaW50ZW5zaXR5IChpbiBjYW5kZWxhKSBmcm9tIHRoZSBkZXNpcmVkIGx1bWlub3VzIHBvd2VyIChpbiBsdW1lbnMpCnRoaXMuaW50ZW5zaXR5PXBvd2VyL01hdGguUEk7fX0se2tleToiZGlzcG9zZSIsdmFsdWU6ZnVuY3Rpb24gZGlzcG9zZSgpe3RoaXMuc2hhZG93LmRpc3Bvc2UoKTt9fSx7a2V5OiJjb3B5Iix2YWx1ZTpmdW5jdGlvbiBjb3B5KHNvdXJjZSl7X2dldChfZ2V0UHJvdG90eXBlT2YoU3BvdExpZ2h0LnByb3RvdHlwZSksImNvcHkiLHRoaXMpLmNhbGwodGhpcyxzb3VyY2UpO3RoaXMuZGlzdGFuY2U9c291cmNlLmRpc3RhbmNlO3RoaXMuYW5nbGU9c291cmNlLmFuZ2xlO3RoaXMucGVudW1icmE9c291cmNlLnBlbnVtYnJhO3RoaXMuZGVjYXk9c291cmNlLmRlY2F5O3RoaXMudGFyZ2V0PXNvdXJjZS50YXJnZXQuY2xvbmUoKTt0aGlzLnNoYWRvdz1zb3VyY2Uuc2hhZG93LmNsb25lKCk7cmV0dXJuIHRoaXM7fX1dKTtyZXR1cm4gU3BvdExpZ2h0O30oTGlnaHQpO1Nwb3RMaWdodC5wcm90b3R5cGUuaXNTcG90TGlnaHQ9dHJ1ZTt2YXIgX3Byb2pTY3JlZW5NYXRyaXg9LypAX19QVVJFX18qL25ldyBNYXRyaXg0KCk7dmFyIF9saWdodFBvc2l0aW9uV29ybGQ9LypAX19QVVJFX18qL25ldyBWZWN0b3IzKCk7dmFyIF9sb29rVGFyZ2V0PS8qQF9fUFVSRV9fKi9uZXcgVmVjdG9yMygpO3ZhciBQb2ludExpZ2h0U2hhZG93PS8qI19fUFVSRV9fKi9mdW5jdGlvbihfTGlnaHRTaGFkb3cyKXtfaW5oZXJpdHMoUG9pbnRMaWdodFNoYWRvdyxfTGlnaHRTaGFkb3cyKTt2YXIgX3N1cGVyMTE5PV9jcmVhdGVTdXBlcihQb2ludExpZ2h0U2hhZG93KTtmdW5jdGlvbiBQb2ludExpZ2h0U2hhZG93KCl7dmFyIF90aGlzOTQ7X2NsYXNzQ2FsbENoZWNrKHRoaXMsUG9pbnRMaWdodFNoYWRvdyk7X3RoaXM5ND1fc3VwZXIxMTkuY2FsbCh0aGlzLG5ldyBQZXJzcGVjdGl2ZUNhbWVyYSg5MCwxLDAuNSw1MDApKTtfdGhpczk0Ll9mcmFtZUV4dGVudHM9bmV3IFZlY3RvcjIoNCwyKTtfdGhpczk0Ll92aWV3cG9ydENvdW50PTY7X3RoaXM5NC5fdmlld3BvcnRzPVsvLyBUaGVzZSB2aWV3cG9ydHMgbWFwIGEgY3ViZS1tYXAgb250byBhIDJEIHRleHR1cmUgd2l0aCB0aGUKLy8gZm9sbG93aW5nIG9yaWVudGF0aW9uOgovLwovLyAgeHpYWgovLyAgIHkgWQovLwovLyBYIC0gUG9zaXRpdmUgeCBkaXJlY3Rpb24KLy8geCAtIE5lZ2F0aXZlIHggZGlyZWN0aW9uCi8vIFkgLSBQb3NpdGl2ZSB5IGRpcmVjdGlvbgovLyB5IC0gTmVnYXRpdmUgeSBkaXJlY3Rpb24KLy8gWiAtIFBvc2l0aXZlIHogZGlyZWN0aW9uCi8vIHogLSBOZWdhdGl2ZSB6IGRpcmVjdGlvbgovLyBwb3NpdGl2ZSBYCm5ldyBWZWN0b3I0KDIsMSwxLDEpLC8vIG5lZ2F0aXZlIFgKbmV3IFZlY3RvcjQoMCwxLDEsMSksLy8gcG9zaXRpdmUgWgpuZXcgVmVjdG9yNCgzLDEsMSwxKSwvLyBuZWdhdGl2ZSBaCm5ldyBWZWN0b3I0KDEsMSwxLDEpLC8vIHBvc2l0aXZlIFkKbmV3IFZlY3RvcjQoMywwLDEsMSksLy8gbmVnYXRpdmUgWQpuZXcgVmVjdG9yNCgxLDAsMSwxKV07X3RoaXM5NC5fY3ViZURpcmVjdGlvbnM9W25ldyBWZWN0b3IzKDEsMCwwKSxuZXcgVmVjdG9yMygtMSwwLDApLG5ldyBWZWN0b3IzKDAsMCwxKSxuZXcgVmVjdG9yMygwLDAsLTEpLG5ldyBWZWN0b3IzKDAsMSwwKSxuZXcgVmVjdG9yMygwLC0xLDApXTtfdGhpczk0Ll9jdWJlVXBzPVtuZXcgVmVjdG9yMygwLDEsMCksbmV3IFZlY3RvcjMoMCwxLDApLG5ldyBWZWN0b3IzKDAsMSwwKSxuZXcgVmVjdG9yMygwLDEsMCksbmV3IFZlY3RvcjMoMCwwLDEpLG5ldyBWZWN0b3IzKDAsMCwtMSldO3JldHVybiBfdGhpczk0O31fY3JlYXRlQ2xhc3MoUG9pbnRMaWdodFNoYWRvdyxbe2tleToidXBkYXRlTWF0cmljZXMiLHZhbHVlOmZ1bmN0aW9uIHVwZGF0ZU1hdHJpY2VzKGxpZ2h0KXt2YXIgdmlld3BvcnRJbmRleD1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMV06MDt2YXIgY2FtZXJhPXRoaXMuY2FtZXJhO3ZhciBzaGFkb3dNYXRyaXg9dGhpcy5tYXRyaXg7dmFyIGZhcj1saWdodC5kaXN0YW5jZXx8Y2FtZXJhLmZhcjtpZihmYXIhPT1jYW1lcmEuZmFyKXtjYW1lcmEuZmFyPWZhcjtjYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO31fbGlnaHRQb3NpdGlvbldvcmxkLnNldEZyb21NYXRyaXhQb3NpdGlvbihsaWdodC5tYXRyaXhXb3JsZCk7Y2FtZXJhLnBvc2l0aW9uLmNvcHkoX2xpZ2h0UG9zaXRpb25Xb3JsZCk7X2xvb2tUYXJnZXQuY29weShjYW1lcmEucG9zaXRpb24pO19sb29rVGFyZ2V0LmFkZCh0aGlzLl9jdWJlRGlyZWN0aW9uc1t2aWV3cG9ydEluZGV4XSk7Y2FtZXJhLnVwLmNvcHkodGhpcy5fY3ViZVVwc1t2aWV3cG9ydEluZGV4XSk7Y2FtZXJhLmxvb2tBdChfbG9va1RhcmdldCk7Y2FtZXJhLnVwZGF0ZU1hdHJpeFdvcmxkKCk7c2hhZG93TWF0cml4Lm1ha2VUcmFuc2xhdGlvbigtX2xpZ2h0UG9zaXRpb25Xb3JsZC54LC1fbGlnaHRQb3NpdGlvbldvcmxkLnksLV9saWdodFBvc2l0aW9uV29ybGQueik7X3Byb2pTY3JlZW5NYXRyaXgubXVsdGlwbHlNYXRyaWNlcyhjYW1lcmEucHJvamVjdGlvbk1hdHJpeCxjYW1lcmEubWF0cml4V29ybGRJbnZlcnNlKTt0aGlzLl9mcnVzdHVtLnNldEZyb21Qcm9qZWN0aW9uTWF0cml4KF9wcm9qU2NyZWVuTWF0cml4KTt9fV0pO3JldHVybiBQb2ludExpZ2h0U2hhZG93O30oTGlnaHRTaGFkb3cpO1BvaW50TGlnaHRTaGFkb3cucHJvdG90eXBlLmlzUG9pbnRMaWdodFNoYWRvdz10cnVlO3ZhciBQb2ludExpZ2h0PS8qI19fUFVSRV9fKi9mdW5jdGlvbihfTGlnaHQzKXtfaW5oZXJpdHMoUG9pbnRMaWdodCxfTGlnaHQzKTt2YXIgX3N1cGVyMTIwPV9jcmVhdGVTdXBlcihQb2ludExpZ2h0KTtmdW5jdGlvbiBQb2ludExpZ2h0KGNvbG9yLGludGVuc2l0eSl7dmFyIF90aGlzOTU7dmFyIGRpc3RhbmNlPWFyZ3VtZW50cy5sZW5ndGg+MiYmYXJndW1lbnRzWzJdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1syXTowO3ZhciBkZWNheT1hcmd1bWVudHMubGVuZ3RoPjMmJmFyZ3VtZW50c1szXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbM106MTtfY2xhc3NDYWxsQ2hlY2sodGhpcyxQb2ludExpZ2h0KTtfdGhpczk1PV9zdXBlcjEyMC5jYWxsKHRoaXMsY29sb3IsaW50ZW5zaXR5KTtfdGhpczk1LnR5cGU9J1BvaW50TGlnaHQnO190aGlzOTUuZGlzdGFuY2U9ZGlzdGFuY2U7X3RoaXM5NS5kZWNheT1kZWNheTsvLyBmb3IgcGh5c2ljYWxseSBjb3JyZWN0IGxpZ2h0cywgc2hvdWxkIGJlIDIuCl90aGlzOTUuc2hhZG93PW5ldyBQb2ludExpZ2h0U2hhZG93KCk7cmV0dXJuIF90aGlzOTU7fV9jcmVhdGVDbGFzcyhQb2ludExpZ2h0LFt7a2V5OiJwb3dlciIsZ2V0OmZ1bmN0aW9uIGdldCgpey8vIGNvbXB1dGUgdGhlIGxpZ2h0J3MgbHVtaW5vdXMgcG93ZXIgKGluIGx1bWVucykgZnJvbSBpdHMgaW50ZW5zaXR5IChpbiBjYW5kZWxhKQovLyBmb3IgYW4gaXNvdHJvcGljIGxpZ2h0IHNvdXJjZSwgbHVtaW5vdXMgcG93ZXIgKGxtKSA9IDQgz4AgbHVtaW5vdXMgaW50ZW5zaXR5IChjZCkKcmV0dXJuIHRoaXMuaW50ZW5zaXR5KjQqTWF0aC5QSTt9LHNldDpmdW5jdGlvbiBzZXQocG93ZXIpey8vIHNldCB0aGUgbGlnaHQncyBpbnRlbnNpdHkgKGluIGNhbmRlbGEpIGZyb20gdGhlIGRlc2lyZWQgbHVtaW5vdXMgcG93ZXIgKGluIGx1bWVucykKdGhpcy5pbnRlbnNpdHk9cG93ZXIvKDQqTWF0aC5QSSk7fX0se2tleToiZGlzcG9zZSIsdmFsdWU6ZnVuY3Rpb24gZGlzcG9zZSgpe3RoaXMuc2hhZG93LmRpc3Bvc2UoKTt9fSx7a2V5OiJjb3B5Iix2YWx1ZTpmdW5jdGlvbiBjb3B5KHNvdXJjZSl7X2dldChfZ2V0UHJvdG90eXBlT2YoUG9pbnRMaWdodC5wcm90b3R5cGUpLCJjb3B5Iix0aGlzKS5jYWxsKHRoaXMsc291cmNlKTt0aGlzLmRpc3RhbmNlPXNvdXJjZS5kaXN0YW5jZTt0aGlzLmRlY2F5PXNvdXJjZS5kZWNheTt0aGlzLnNoYWRvdz1zb3VyY2Uuc2hhZG93LmNsb25lKCk7cmV0dXJuIHRoaXM7fX1dKTtyZXR1cm4gUG9pbnRMaWdodDt9KExpZ2h0KTtQb2ludExpZ2h0LnByb3RvdHlwZS5pc1BvaW50TGlnaHQ9dHJ1ZTt2YXIgRGlyZWN0aW9uYWxMaWdodFNoYWRvdz0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX0xpZ2h0U2hhZG93Myl7X2luaGVyaXRzKERpcmVjdGlvbmFsTGlnaHRTaGFkb3csX0xpZ2h0U2hhZG93Myk7dmFyIF9zdXBlcjEyMT1fY3JlYXRlU3VwZXIoRGlyZWN0aW9uYWxMaWdodFNoYWRvdyk7ZnVuY3Rpb24gRGlyZWN0aW9uYWxMaWdodFNoYWRvdygpe19jbGFzc0NhbGxDaGVjayh0aGlzLERpcmVjdGlvbmFsTGlnaHRTaGFkb3cpO3JldHVybiBfc3VwZXIxMjEuY2FsbCh0aGlzLG5ldyBPcnRob2dyYXBoaWNDYW1lcmEoLTUsNSw1LC01LDAuNSw1MDApKTt9cmV0dXJuIF9jcmVhdGVDbGFzcyhEaXJlY3Rpb25hbExpZ2h0U2hhZG93KTt9KExpZ2h0U2hhZG93KTtEaXJlY3Rpb25hbExpZ2h0U2hhZG93LnByb3RvdHlwZS5pc0RpcmVjdGlvbmFsTGlnaHRTaGFkb3c9dHJ1ZTt2YXIgRGlyZWN0aW9uYWxMaWdodD0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX0xpZ2h0NCl7X2luaGVyaXRzKERpcmVjdGlvbmFsTGlnaHQsX0xpZ2h0NCk7dmFyIF9zdXBlcjEyMj1fY3JlYXRlU3VwZXIoRGlyZWN0aW9uYWxMaWdodCk7ZnVuY3Rpb24gRGlyZWN0aW9uYWxMaWdodChjb2xvcixpbnRlbnNpdHkpe3ZhciBfdGhpczk2O19jbGFzc0NhbGxDaGVjayh0aGlzLERpcmVjdGlvbmFsTGlnaHQpO190aGlzOTY9X3N1cGVyMTIyLmNhbGwodGhpcyxjb2xvcixpbnRlbnNpdHkpO190aGlzOTYudHlwZT0nRGlyZWN0aW9uYWxMaWdodCc7X3RoaXM5Ni5wb3NpdGlvbi5jb3B5KE9iamVjdDNELkRlZmF1bHRVcCk7X3RoaXM5Ni51cGRhdGVNYXRyaXgoKTtfdGhpczk2LnRhcmdldD1uZXcgT2JqZWN0M0QoKTtfdGhpczk2LnNoYWRvdz1uZXcgRGlyZWN0aW9uYWxMaWdodFNoYWRvdygpO3JldHVybiBfdGhpczk2O31fY3JlYXRlQ2xhc3MoRGlyZWN0aW9uYWxMaWdodCxbe2tleToiZGlzcG9zZSIsdmFsdWU6ZnVuY3Rpb24gZGlzcG9zZSgpe3RoaXMuc2hhZG93LmRpc3Bvc2UoKTt9fSx7a2V5OiJjb3B5Iix2YWx1ZTpmdW5jdGlvbiBjb3B5KHNvdXJjZSl7X2dldChfZ2V0UHJvdG90eXBlT2YoRGlyZWN0aW9uYWxMaWdodC5wcm90b3R5cGUpLCJjb3B5Iix0aGlzKS5jYWxsKHRoaXMsc291cmNlKTt0aGlzLnRhcmdldD1zb3VyY2UudGFyZ2V0LmNsb25lKCk7dGhpcy5zaGFkb3c9c291cmNlLnNoYWRvdy5jbG9uZSgpO3JldHVybiB0aGlzO319XSk7cmV0dXJuIERpcmVjdGlvbmFsTGlnaHQ7fShMaWdodCk7RGlyZWN0aW9uYWxMaWdodC5wcm90b3R5cGUuaXNEaXJlY3Rpb25hbExpZ2h0PXRydWU7dmFyIEFtYmllbnRMaWdodD0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX0xpZ2h0NSl7X2luaGVyaXRzKEFtYmllbnRMaWdodCxfTGlnaHQ1KTt2YXIgX3N1cGVyMTIzPV9jcmVhdGVTdXBlcihBbWJpZW50TGlnaHQpO2Z1bmN0aW9uIEFtYmllbnRMaWdodChjb2xvcixpbnRlbnNpdHkpe3ZhciBfdGhpczk3O19jbGFzc0NhbGxDaGVjayh0aGlzLEFtYmllbnRMaWdodCk7X3RoaXM5Nz1fc3VwZXIxMjMuY2FsbCh0aGlzLGNvbG9yLGludGVuc2l0eSk7X3RoaXM5Ny50eXBlPSdBbWJpZW50TGlnaHQnO3JldHVybiBfdGhpczk3O31yZXR1cm4gX2NyZWF0ZUNsYXNzKEFtYmllbnRMaWdodCk7fShMaWdodCk7QW1iaWVudExpZ2h0LnByb3RvdHlwZS5pc0FtYmllbnRMaWdodD10cnVlO3ZhciBSZWN0QXJlYUxpZ2h0PS8qI19fUFVSRV9fKi9mdW5jdGlvbihfTGlnaHQ2KXtfaW5oZXJpdHMoUmVjdEFyZWFMaWdodCxfTGlnaHQ2KTt2YXIgX3N1cGVyMTI0PV9jcmVhdGVTdXBlcihSZWN0QXJlYUxpZ2h0KTtmdW5jdGlvbiBSZWN0QXJlYUxpZ2h0KGNvbG9yLGludGVuc2l0eSl7dmFyIF90aGlzOTg7dmFyIHdpZHRoPWFyZ3VtZW50cy5sZW5ndGg+MiYmYXJndW1lbnRzWzJdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1syXToxMDt2YXIgaGVpZ2h0PWFyZ3VtZW50cy5sZW5ndGg+MyYmYXJndW1lbnRzWzNdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1szXToxMDtfY2xhc3NDYWxsQ2hlY2sodGhpcyxSZWN0QXJlYUxpZ2h0KTtfdGhpczk4PV9zdXBlcjEyNC5jYWxsKHRoaXMsY29sb3IsaW50ZW5zaXR5KTtfdGhpczk4LnR5cGU9J1JlY3RBcmVhTGlnaHQnO190aGlzOTgud2lkdGg9d2lkdGg7X3RoaXM5OC5oZWlnaHQ9aGVpZ2h0O3JldHVybiBfdGhpczk4O31fY3JlYXRlQ2xhc3MoUmVjdEFyZWFMaWdodCxbe2tleToicG93ZXIiLGdldDpmdW5jdGlvbiBnZXQoKXsvLyBjb21wdXRlIHRoZSBsaWdodCdzIGx1bWlub3VzIHBvd2VyIChpbiBsdW1lbnMpIGZyb20gaXRzIGludGVuc2l0eSAoaW4gbml0cykKcmV0dXJuIHRoaXMuaW50ZW5zaXR5KnRoaXMud2lkdGgqdGhpcy5oZWlnaHQqTWF0aC5QSTt9LHNldDpmdW5jdGlvbiBzZXQocG93ZXIpey8vIHNldCB0aGUgbGlnaHQncyBpbnRlbnNpdHkgKGluIG5pdHMpIGZyb20gdGhlIGRlc2lyZWQgbHVtaW5vdXMgcG93ZXIgKGluIGx1bWVucykKdGhpcy5pbnRlbnNpdHk9cG93ZXIvKHRoaXMud2lkdGgqdGhpcy5oZWlnaHQqTWF0aC5QSSk7fX0se2tleToiY29weSIsdmFsdWU6ZnVuY3Rpb24gY29weShzb3VyY2Upe19nZXQoX2dldFByb3RvdHlwZU9mKFJlY3RBcmVhTGlnaHQucHJvdG90eXBlKSwiY29weSIsdGhpcykuY2FsbCh0aGlzLHNvdXJjZSk7dGhpcy53aWR0aD1zb3VyY2Uud2lkdGg7dGhpcy5oZWlnaHQ9c291cmNlLmhlaWdodDtyZXR1cm4gdGhpczt9fSx7a2V5OiJ0b0pTT04iLHZhbHVlOmZ1bmN0aW9uIHRvSlNPTihtZXRhKXt2YXIgZGF0YT1fZ2V0KF9nZXRQcm90b3R5cGVPZihSZWN0QXJlYUxpZ2h0LnByb3RvdHlwZSksInRvSlNPTiIsdGhpcykuY2FsbCh0aGlzLG1ldGEpO2RhdGEub2JqZWN0LndpZHRoPXRoaXMud2lkdGg7ZGF0YS5vYmplY3QuaGVpZ2h0PXRoaXMuaGVpZ2h0O3JldHVybiBkYXRhO319XSk7cmV0dXJuIFJlY3RBcmVhTGlnaHQ7fShMaWdodCk7UmVjdEFyZWFMaWdodC5wcm90b3R5cGUuaXNSZWN0QXJlYUxpZ2h0PXRydWU7LyoqCiAqIFByaW1hcnkgcmVmZXJlbmNlOgogKiAgIGh0dHBzOi8vZ3JhcGhpY3Muc3RhbmZvcmQuZWR1L3BhcGVycy9lbnZtYXAvZW52bWFwLnBkZgogKgogKiBTZWNvbmRhcnkgcmVmZXJlbmNlOgogKiAgIGh0dHBzOi8vd3d3LnBwc2xvYW4ub3JnL3B1YmxpY2F0aW9ucy9TdHVwaWRTSDM2LnBkZgogKi8gLy8gMy1iYW5kIFNIIGRlZmluZWQgYnkgOSBjb2VmZmljaWVudHMKdmFyIFNwaGVyaWNhbEhhcm1vbmljczM9LyojX19QVVJFX18qL2Z1bmN0aW9uKCl7ZnVuY3Rpb24gU3BoZXJpY2FsSGFybW9uaWNzMygpe19jbGFzc0NhbGxDaGVjayh0aGlzLFNwaGVyaWNhbEhhcm1vbmljczMpO3RoaXMuY29lZmZpY2llbnRzPVtdO2Zvcih2YXIgX2kyODA9MDtfaTI4MDw5O19pMjgwKyspe3RoaXMuY29lZmZpY2llbnRzLnB1c2gobmV3IFZlY3RvcjMoKSk7fX1fY3JlYXRlQ2xhc3MoU3BoZXJpY2FsSGFybW9uaWNzMyxbe2tleToic2V0Iix2YWx1ZTpmdW5jdGlvbiBzZXQoY29lZmZpY2llbnRzKXtmb3IodmFyIF9pMjgxPTA7X2kyODE8OTtfaTI4MSsrKXt0aGlzLmNvZWZmaWNpZW50c1tfaTI4MV0uY29weShjb2VmZmljaWVudHNbX2kyODFdKTt9cmV0dXJuIHRoaXM7fX0se2tleToiemVybyIsdmFsdWU6ZnVuY3Rpb24gemVybygpe2Zvcih2YXIgX2kyODI9MDtfaTI4Mjw5O19pMjgyKyspe3RoaXMuY29lZmZpY2llbnRzW19pMjgyXS5zZXQoMCwwLDApO31yZXR1cm4gdGhpczt9Ly8gZ2V0IHRoZSByYWRpYW5jZSBpbiB0aGUgZGlyZWN0aW9uIG9mIHRoZSBub3JtYWwKLy8gdGFyZ2V0IGlzIGEgVmVjdG9yMwp9LHtrZXk6ImdldEF0Iix2YWx1ZTpmdW5jdGlvbiBnZXRBdChub3JtYWwsdGFyZ2V0KXsvLyBub3JtYWwgaXMgYXNzdW1lZCB0byBiZSB1bml0IGxlbmd0aAp2YXIgeD1ub3JtYWwueCx5PW5vcm1hbC55LHo9bm9ybWFsLno7dmFyIGNvZWZmPXRoaXMuY29lZmZpY2llbnRzOy8vIGJhbmQgMAp0YXJnZXQuY29weShjb2VmZlswXSkubXVsdGlwbHlTY2FsYXIoMC4yODIwOTUpOy8vIGJhbmQgMQp0YXJnZXQuYWRkU2NhbGVkVmVjdG9yKGNvZWZmWzFdLDAuNDg4NjAzKnkpO3RhcmdldC5hZGRTY2FsZWRWZWN0b3IoY29lZmZbMl0sMC40ODg2MDMqeik7dGFyZ2V0LmFkZFNjYWxlZFZlY3Rvcihjb2VmZlszXSwwLjQ4ODYwMyp4KTsvLyBiYW5kIDIKdGFyZ2V0LmFkZFNjYWxlZFZlY3Rvcihjb2VmZls0XSwxLjA5MjU0OCooeCp5KSk7dGFyZ2V0LmFkZFNjYWxlZFZlY3Rvcihjb2VmZls1XSwxLjA5MjU0OCooeSp6KSk7dGFyZ2V0LmFkZFNjYWxlZFZlY3Rvcihjb2VmZls2XSwwLjMxNTM5MiooMy4wKnoqei0xLjApKTt0YXJnZXQuYWRkU2NhbGVkVmVjdG9yKGNvZWZmWzddLDEuMDkyNTQ4Kih4KnopKTt0YXJnZXQuYWRkU2NhbGVkVmVjdG9yKGNvZWZmWzhdLDAuNTQ2Mjc0Kih4KngteSp5KSk7cmV0dXJuIHRhcmdldDt9Ly8gZ2V0IHRoZSBpcnJhZGlhbmNlIChyYWRpYW5jZSBjb252b2x2ZWQgd2l0aCBjb3NpbmUgbG9iZSkgaW4gdGhlIGRpcmVjdGlvbiBvZiB0aGUgbm9ybWFsCi8vIHRhcmdldCBpcyBhIFZlY3RvcjMKLy8gaHR0cHM6Ly9ncmFwaGljcy5zdGFuZm9yZC5lZHUvcGFwZXJzL2Vudm1hcC9lbnZtYXAucGRmCn0se2tleToiZ2V0SXJyYWRpYW5jZUF0Iix2YWx1ZTpmdW5jdGlvbiBnZXRJcnJhZGlhbmNlQXQobm9ybWFsLHRhcmdldCl7Ly8gbm9ybWFsIGlzIGFzc3VtZWQgdG8gYmUgdW5pdCBsZW5ndGgKdmFyIHg9bm9ybWFsLngseT1ub3JtYWwueSx6PW5vcm1hbC56O3ZhciBjb2VmZj10aGlzLmNvZWZmaWNpZW50czsvLyBiYW5kIDAKdGFyZ2V0LmNvcHkoY29lZmZbMF0pLm11bHRpcGx5U2NhbGFyKDAuODg2MjI3KTsvLyDPgCAqIDAuMjgyMDk1Ci8vIGJhbmQgMQp0YXJnZXQuYWRkU2NhbGVkVmVjdG9yKGNvZWZmWzFdLDIuMCowLjUxMTY2NCp5KTsvLyAoIDIgKiDPgCAvIDMgKSAqIDAuNDg4NjAzCnRhcmdldC5hZGRTY2FsZWRWZWN0b3IoY29lZmZbMl0sMi4wKjAuNTExNjY0KnopO3RhcmdldC5hZGRTY2FsZWRWZWN0b3IoY29lZmZbM10sMi4wKjAuNTExNjY0KngpOy8vIGJhbmQgMgp0YXJnZXQuYWRkU2NhbGVkVmVjdG9yKGNvZWZmWzRdLDIuMCowLjQyOTA0Myp4KnkpOy8vICggz4AgLyA0ICkgKiAxLjA5MjU0OAp0YXJnZXQuYWRkU2NhbGVkVmVjdG9yKGNvZWZmWzVdLDIuMCowLjQyOTA0Myp5KnopO3RhcmdldC5hZGRTY2FsZWRWZWN0b3IoY29lZmZbNl0sMC43NDMxMjUqeip6LTAuMjQ3NzA4KTsvLyAoIM+AIC8gNCApICogMC4zMTUzOTIgKiAzCnRhcmdldC5hZGRTY2FsZWRWZWN0b3IoY29lZmZbN10sMi4wKjAuNDI5MDQzKngqeik7dGFyZ2V0LmFkZFNjYWxlZFZlY3Rvcihjb2VmZls4XSwwLjQyOTA0MyooeCp4LXkqeSkpOy8vICggz4AgLyA0ICkgKiAwLjU0NjI3NApyZXR1cm4gdGFyZ2V0O319LHtrZXk6ImFkZCIsdmFsdWU6ZnVuY3Rpb24gYWRkKHNoKXtmb3IodmFyIF9pMjgzPTA7X2kyODM8OTtfaTI4MysrKXt0aGlzLmNvZWZmaWNpZW50c1tfaTI4M10uYWRkKHNoLmNvZWZmaWNpZW50c1tfaTI4M10pO31yZXR1cm4gdGhpczt9fSx7a2V5OiJhZGRTY2FsZWRTSCIsdmFsdWU6ZnVuY3Rpb24gYWRkU2NhbGVkU0goc2gscyl7Zm9yKHZhciBfaTI4ND0wO19pMjg0PDk7X2kyODQrKyl7dGhpcy5jb2VmZmljaWVudHNbX2kyODRdLmFkZFNjYWxlZFZlY3RvcihzaC5jb2VmZmljaWVudHNbX2kyODRdLHMpO31yZXR1cm4gdGhpczt9fSx7a2V5OiJzY2FsZSIsdmFsdWU6ZnVuY3Rpb24gc2NhbGUocyl7Zm9yKHZhciBfaTI4NT0wO19pMjg1PDk7X2kyODUrKyl7dGhpcy5jb2VmZmljaWVudHNbX2kyODVdLm11bHRpcGx5U2NhbGFyKHMpO31yZXR1cm4gdGhpczt9fSx7a2V5OiJsZXJwIix2YWx1ZTpmdW5jdGlvbiBsZXJwKHNoLGFscGhhKXtmb3IodmFyIF9pMjg2PTA7X2kyODY8OTtfaTI4NisrKXt0aGlzLmNvZWZmaWNpZW50c1tfaTI4Nl0ubGVycChzaC5jb2VmZmljaWVudHNbX2kyODZdLGFscGhhKTt9cmV0dXJuIHRoaXM7fX0se2tleToiZXF1YWxzIix2YWx1ZTpmdW5jdGlvbiBlcXVhbHMoc2gpe2Zvcih2YXIgX2kyODc9MDtfaTI4Nzw5O19pMjg3Kyspe2lmKCF0aGlzLmNvZWZmaWNpZW50c1tfaTI4N10uZXF1YWxzKHNoLmNvZWZmaWNpZW50c1tfaTI4N10pKXtyZXR1cm4gZmFsc2U7fX1yZXR1cm4gdHJ1ZTt9fSx7a2V5OiJjb3B5Iix2YWx1ZTpmdW5jdGlvbiBjb3B5KHNoKXtyZXR1cm4gdGhpcy5zZXQoc2guY29lZmZpY2llbnRzKTt9fSx7a2V5OiJjbG9uZSIsdmFsdWU6ZnVuY3Rpb24gY2xvbmUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoKS5jb3B5KHRoaXMpO319LHtrZXk6ImZyb21BcnJheSIsdmFsdWU6ZnVuY3Rpb24gZnJvbUFycmF5KGFycmF5KXt2YXIgb2Zmc2V0PWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1sxXTowO3ZhciBjb2VmZmljaWVudHM9dGhpcy5jb2VmZmljaWVudHM7Zm9yKHZhciBfaTI4OD0wO19pMjg4PDk7X2kyODgrKyl7Y29lZmZpY2llbnRzW19pMjg4XS5mcm9tQXJyYXkoYXJyYXksb2Zmc2V0K19pMjg4KjMpO31yZXR1cm4gdGhpczt9fSx7a2V5OiJ0b0FycmF5Iix2YWx1ZTpmdW5jdGlvbiB0b0FycmF5KCl7dmFyIGFycmF5PWFyZ3VtZW50cy5sZW5ndGg+MCYmYXJndW1lbnRzWzBdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1swXTpbXTt2YXIgb2Zmc2V0PWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1sxXTowO3ZhciBjb2VmZmljaWVudHM9dGhpcy5jb2VmZmljaWVudHM7Zm9yKHZhciBfaTI4OT0wO19pMjg5PDk7X2kyODkrKyl7Y29lZmZpY2llbnRzW19pMjg5XS50b0FycmF5KGFycmF5LG9mZnNldCtfaTI4OSozKTt9cmV0dXJuIGFycmF5O30vLyBldmFsdWF0ZSB0aGUgYmFzaXMgZnVuY3Rpb25zCi8vIHNoQmFzaXMgaXMgYW4gQXJyYXlbIDkgXQp9XSxbe2tleToiZ2V0QmFzaXNBdCIsdmFsdWU6ZnVuY3Rpb24gZ2V0QmFzaXNBdChub3JtYWwsc2hCYXNpcyl7Ly8gbm9ybWFsIGlzIGFzc3VtZWQgdG8gYmUgdW5pdCBsZW5ndGgKdmFyIHg9bm9ybWFsLngseT1ub3JtYWwueSx6PW5vcm1hbC56Oy8vIGJhbmQgMApzaEJhc2lzWzBdPTAuMjgyMDk1Oy8vIGJhbmQgMQpzaEJhc2lzWzFdPTAuNDg4NjAzKnk7c2hCYXNpc1syXT0wLjQ4ODYwMyp6O3NoQmFzaXNbM109MC40ODg2MDMqeDsvLyBiYW5kIDIKc2hCYXNpc1s0XT0xLjA5MjU0OCp4Knk7c2hCYXNpc1s1XT0xLjA5MjU0OCp5Kno7c2hCYXNpc1s2XT0wLjMxNTM5MiooMyp6KnotMSk7c2hCYXNpc1s3XT0xLjA5MjU0OCp4Kno7c2hCYXNpc1s4XT0wLjU0NjI3NCooeCp4LXkqeSk7fX1dKTtyZXR1cm4gU3BoZXJpY2FsSGFybW9uaWNzMzt9KCk7U3BoZXJpY2FsSGFybW9uaWNzMy5wcm90b3R5cGUuaXNTcGhlcmljYWxIYXJtb25pY3MzPXRydWU7dmFyIExpZ2h0UHJvYmU9LyojX19QVVJFX18qL2Z1bmN0aW9uKF9MaWdodDcpe19pbmhlcml0cyhMaWdodFByb2JlLF9MaWdodDcpO3ZhciBfc3VwZXIxMjU9X2NyZWF0ZVN1cGVyKExpZ2h0UHJvYmUpO2Z1bmN0aW9uIExpZ2h0UHJvYmUoKXt2YXIgX3RoaXM5OTt2YXIgc2g9YXJndW1lbnRzLmxlbmd0aD4wJiZhcmd1bWVudHNbMF0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzBdOm5ldyBTcGhlcmljYWxIYXJtb25pY3MzKCk7dmFyIGludGVuc2l0eT1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMV06MTtfY2xhc3NDYWxsQ2hlY2sodGhpcyxMaWdodFByb2JlKTtfdGhpczk5PV9zdXBlcjEyNS5jYWxsKHRoaXMsdW5kZWZpbmVkLGludGVuc2l0eSk7X3RoaXM5OS5zaD1zaDtyZXR1cm4gX3RoaXM5OTt9X2NyZWF0ZUNsYXNzKExpZ2h0UHJvYmUsW3trZXk6ImNvcHkiLHZhbHVlOmZ1bmN0aW9uIGNvcHkoc291cmNlKXtfZ2V0KF9nZXRQcm90b3R5cGVPZihMaWdodFByb2JlLnByb3RvdHlwZSksImNvcHkiLHRoaXMpLmNhbGwodGhpcyxzb3VyY2UpO3RoaXMuc2guY29weShzb3VyY2Uuc2gpO3JldHVybiB0aGlzO319LHtrZXk6ImZyb21KU09OIix2YWx1ZTpmdW5jdGlvbiBmcm9tSlNPTihqc29uKXt0aGlzLmludGVuc2l0eT1qc29uLmludGVuc2l0eTsvLyBUT0RPOiBNb3ZlIHRoaXMgYml0IHRvIExpZ2h0LmZyb21KU09OKCk7CnRoaXMuc2guZnJvbUFycmF5KGpzb24uc2gpO3JldHVybiB0aGlzO319LHtrZXk6InRvSlNPTiIsdmFsdWU6ZnVuY3Rpb24gdG9KU09OKG1ldGEpe3ZhciBkYXRhPV9nZXQoX2dldFByb3RvdHlwZU9mKExpZ2h0UHJvYmUucHJvdG90eXBlKSwidG9KU09OIix0aGlzKS5jYWxsKHRoaXMsbWV0YSk7ZGF0YS5vYmplY3Quc2g9dGhpcy5zaC50b0FycmF5KCk7cmV0dXJuIGRhdGE7fX1dKTtyZXR1cm4gTGlnaHRQcm9iZTt9KExpZ2h0KTtMaWdodFByb2JlLnByb3RvdHlwZS5pc0xpZ2h0UHJvYmU9dHJ1ZTt2YXIgTWF0ZXJpYWxMb2FkZXI9LyojX19QVVJFX18qL2Z1bmN0aW9uKF9Mb2FkZXI4KXtfaW5oZXJpdHMoTWF0ZXJpYWxMb2FkZXIsX0xvYWRlcjgpO3ZhciBfc3VwZXIxMjY9X2NyZWF0ZVN1cGVyKE1hdGVyaWFsTG9hZGVyKTtmdW5jdGlvbiBNYXRlcmlhbExvYWRlcihtYW5hZ2VyKXt2YXIgX3RoaXMxMDA7X2NsYXNzQ2FsbENoZWNrKHRoaXMsTWF0ZXJpYWxMb2FkZXIpO190aGlzMTAwPV9zdXBlcjEyNi5jYWxsKHRoaXMsbWFuYWdlcik7X3RoaXMxMDAudGV4dHVyZXM9e307cmV0dXJuIF90aGlzMTAwO31fY3JlYXRlQ2xhc3MoTWF0ZXJpYWxMb2FkZXIsW3trZXk6ImxvYWQiLHZhbHVlOmZ1bmN0aW9uIGxvYWQodXJsLG9uTG9hZCxvblByb2dyZXNzLG9uRXJyb3Ipe3ZhciBzY29wZT10aGlzO3ZhciBsb2FkZXI9bmV3IEZpbGVMb2FkZXIoc2NvcGUubWFuYWdlcik7bG9hZGVyLnNldFBhdGgoc2NvcGUucGF0aCk7bG9hZGVyLnNldFJlcXVlc3RIZWFkZXIoc2NvcGUucmVxdWVzdEhlYWRlcik7bG9hZGVyLnNldFdpdGhDcmVkZW50aWFscyhzY29wZS53aXRoQ3JlZGVudGlhbHMpO2xvYWRlci5sb2FkKHVybCxmdW5jdGlvbih0ZXh0KXt0cnl7b25Mb2FkKHNjb3BlLnBhcnNlKEpTT04ucGFyc2UodGV4dCkpKTt9Y2F0Y2goZSl7aWYob25FcnJvcil7b25FcnJvcihlKTt9ZWxzZXtjb25zb2xlLmVycm9yKGUpO31zY29wZS5tYW5hZ2VyLml0ZW1FcnJvcih1cmwpO319LG9uUHJvZ3Jlc3Msb25FcnJvcik7fX0se2tleToicGFyc2UiLHZhbHVlOmZ1bmN0aW9uIHBhcnNlKGpzb24pe3ZhciB0ZXh0dXJlcz10aGlzLnRleHR1cmVzO2Z1bmN0aW9uIGdldFRleHR1cmUobmFtZSl7aWYodGV4dHVyZXNbbmFtZV09PT11bmRlZmluZWQpe2NvbnNvbGUud2FybignVEhSRUUuTWF0ZXJpYWxMb2FkZXI6IFVuZGVmaW5lZCB0ZXh0dXJlJyxuYW1lKTt9cmV0dXJuIHRleHR1cmVzW25hbWVdO312YXIgbWF0ZXJpYWw9bmV3IE1hdGVyaWFsc1tqc29uLnR5cGVdKCk7aWYoanNvbi51dWlkIT09dW5kZWZpbmVkKW1hdGVyaWFsLnV1aWQ9anNvbi51dWlkO2lmKGpzb24ubmFtZSE9PXVuZGVmaW5lZCltYXRlcmlhbC5uYW1lPWpzb24ubmFtZTtpZihqc29uLmNvbG9yIT09dW5kZWZpbmVkJiZtYXRlcmlhbC5jb2xvciE9PXVuZGVmaW5lZCltYXRlcmlhbC5jb2xvci5zZXRIZXgoanNvbi5jb2xvcik7aWYoanNvbi5yb3VnaG5lc3MhPT11bmRlZmluZWQpbWF0ZXJpYWwucm91Z2huZXNzPWpzb24ucm91Z2huZXNzO2lmKGpzb24ubWV0YWxuZXNzIT09dW5kZWZpbmVkKW1hdGVyaWFsLm1ldGFsbmVzcz1qc29uLm1ldGFsbmVzcztpZihqc29uLnNoZWVuIT09dW5kZWZpbmVkKW1hdGVyaWFsLnNoZWVuPWpzb24uc2hlZW47aWYoanNvbi5zaGVlbkNvbG9yIT09dW5kZWZpbmVkKW1hdGVyaWFsLnNoZWVuQ29sb3I9bmV3IENvbG9yKCkuc2V0SGV4KGpzb24uc2hlZW5Db2xvcik7aWYoanNvbi5zaGVlblJvdWdobmVzcyE9PXVuZGVmaW5lZCltYXRlcmlhbC5zaGVlblJvdWdobmVzcz1qc29uLnNoZWVuUm91Z2huZXNzO2lmKGpzb24uZW1pc3NpdmUhPT11bmRlZmluZWQmJm1hdGVyaWFsLmVtaXNzaXZlIT09dW5kZWZpbmVkKW1hdGVyaWFsLmVtaXNzaXZlLnNldEhleChqc29uLmVtaXNzaXZlKTtpZihqc29uLnNwZWN1bGFyIT09dW5kZWZpbmVkJiZtYXRlcmlhbC5zcGVjdWxhciE9PXVuZGVmaW5lZCltYXRlcmlhbC5zcGVjdWxhci5zZXRIZXgoanNvbi5zcGVjdWxhcik7aWYoanNvbi5zcGVjdWxhckludGVuc2l0eSE9PXVuZGVmaW5lZCltYXRlcmlhbC5zcGVjdWxhckludGVuc2l0eT1qc29uLnNwZWN1bGFySW50ZW5zaXR5O2lmKGpzb24uc3BlY3VsYXJDb2xvciE9PXVuZGVmaW5lZCYmbWF0ZXJpYWwuc3BlY3VsYXJDb2xvciE9PXVuZGVmaW5lZCltYXRlcmlhbC5zcGVjdWxhckNvbG9yLnNldEhleChqc29uLnNwZWN1bGFyQ29sb3IpO2lmKGpzb24uc2hpbmluZXNzIT09dW5kZWZpbmVkKW1hdGVyaWFsLnNoaW5pbmVzcz1qc29uLnNoaW5pbmVzcztpZihqc29uLmNsZWFyY29hdCE9PXVuZGVmaW5lZCltYXRlcmlhbC5jbGVhcmNvYXQ9anNvbi5jbGVhcmNvYXQ7aWYoanNvbi5jbGVhcmNvYXRSb3VnaG5lc3MhPT11bmRlZmluZWQpbWF0ZXJpYWwuY2xlYXJjb2F0Um91Z2huZXNzPWpzb24uY2xlYXJjb2F0Um91Z2huZXNzO2lmKGpzb24udHJhbnNtaXNzaW9uIT09dW5kZWZpbmVkKW1hdGVyaWFsLnRyYW5zbWlzc2lvbj1qc29uLnRyYW5zbWlzc2lvbjtpZihqc29uLnRoaWNrbmVzcyE9PXVuZGVmaW5lZCltYXRlcmlhbC50aGlja25lc3M9anNvbi50aGlja25lc3M7aWYoanNvbi5hdHRlbnVhdGlvbkRpc3RhbmNlIT09dW5kZWZpbmVkKW1hdGVyaWFsLmF0dGVudWF0aW9uRGlzdGFuY2U9anNvbi5hdHRlbnVhdGlvbkRpc3RhbmNlO2lmKGpzb24uYXR0ZW51YXRpb25Db2xvciE9PXVuZGVmaW5lZCYmbWF0ZXJpYWwuYXR0ZW51YXRpb25Db2xvciE9PXVuZGVmaW5lZCltYXRlcmlhbC5hdHRlbnVhdGlvbkNvbG9yLnNldEhleChqc29uLmF0dGVudWF0aW9uQ29sb3IpO2lmKGpzb24uZm9nIT09dW5kZWZpbmVkKW1hdGVyaWFsLmZvZz1qc29uLmZvZztpZihqc29uLmZsYXRTaGFkaW5nIT09dW5kZWZpbmVkKW1hdGVyaWFsLmZsYXRTaGFkaW5nPWpzb24uZmxhdFNoYWRpbmc7aWYoanNvbi5ibGVuZGluZyE9PXVuZGVmaW5lZCltYXRlcmlhbC5ibGVuZGluZz1qc29uLmJsZW5kaW5nO2lmKGpzb24uY29tYmluZSE9PXVuZGVmaW5lZCltYXRlcmlhbC5jb21iaW5lPWpzb24uY29tYmluZTtpZihqc29uLnNpZGUhPT11bmRlZmluZWQpbWF0ZXJpYWwuc2lkZT1qc29uLnNpZGU7aWYoanNvbi5zaGFkb3dTaWRlIT09dW5kZWZpbmVkKW1hdGVyaWFsLnNoYWRvd1NpZGU9anNvbi5zaGFkb3dTaWRlO2lmKGpzb24ub3BhY2l0eSE9PXVuZGVmaW5lZCltYXRlcmlhbC5vcGFjaXR5PWpzb24ub3BhY2l0eTtpZihqc29uLnRyYW5zcGFyZW50IT09dW5kZWZpbmVkKW1hdGVyaWFsLnRyYW5zcGFyZW50PWpzb24udHJhbnNwYXJlbnQ7aWYoanNvbi5hbHBoYVRlc3QhPT11bmRlZmluZWQpbWF0ZXJpYWwuYWxwaGFUZXN0PWpzb24uYWxwaGFUZXN0O2lmKGpzb24uZGVwdGhUZXN0IT09dW5kZWZpbmVkKW1hdGVyaWFsLmRlcHRoVGVzdD1qc29uLmRlcHRoVGVzdDtpZihqc29uLmRlcHRoV3JpdGUhPT11bmRlZmluZWQpbWF0ZXJpYWwuZGVwdGhXcml0ZT1qc29uLmRlcHRoV3JpdGU7aWYoanNvbi5jb2xvcldyaXRlIT09dW5kZWZpbmVkKW1hdGVyaWFsLmNvbG9yV3JpdGU9anNvbi5jb2xvcldyaXRlO2lmKGpzb24uc3RlbmNpbFdyaXRlIT09dW5kZWZpbmVkKW1hdGVyaWFsLnN0ZW5jaWxXcml0ZT1qc29uLnN0ZW5jaWxXcml0ZTtpZihqc29uLnN0ZW5jaWxXcml0ZU1hc2shPT11bmRlZmluZWQpbWF0ZXJpYWwuc3RlbmNpbFdyaXRlTWFzaz1qc29uLnN0ZW5jaWxXcml0ZU1hc2s7aWYoanNvbi5zdGVuY2lsRnVuYyE9PXVuZGVmaW5lZCltYXRlcmlhbC5zdGVuY2lsRnVuYz1qc29uLnN0ZW5jaWxGdW5jO2lmKGpzb24uc3RlbmNpbFJlZiE9PXVuZGVmaW5lZCltYXRlcmlhbC5zdGVuY2lsUmVmPWpzb24uc3RlbmNpbFJlZjtpZihqc29uLnN0ZW5jaWxGdW5jTWFzayE9PXVuZGVmaW5lZCltYXRlcmlhbC5zdGVuY2lsRnVuY01hc2s9anNvbi5zdGVuY2lsRnVuY01hc2s7aWYoanNvbi5zdGVuY2lsRmFpbCE9PXVuZGVmaW5lZCltYXRlcmlhbC5zdGVuY2lsRmFpbD1qc29uLnN0ZW5jaWxGYWlsO2lmKGpzb24uc3RlbmNpbFpGYWlsIT09dW5kZWZpbmVkKW1hdGVyaWFsLnN0ZW5jaWxaRmFpbD1qc29uLnN0ZW5jaWxaRmFpbDtpZihqc29uLnN0ZW5jaWxaUGFzcyE9PXVuZGVmaW5lZCltYXRlcmlhbC5zdGVuY2lsWlBhc3M9anNvbi5zdGVuY2lsWlBhc3M7aWYoanNvbi53aXJlZnJhbWUhPT11bmRlZmluZWQpbWF0ZXJpYWwud2lyZWZyYW1lPWpzb24ud2lyZWZyYW1lO2lmKGpzb24ud2lyZWZyYW1lTGluZXdpZHRoIT09dW5kZWZpbmVkKW1hdGVyaWFsLndpcmVmcmFtZUxpbmV3aWR0aD1qc29uLndpcmVmcmFtZUxpbmV3aWR0aDtpZihqc29uLndpcmVmcmFtZUxpbmVjYXAhPT11bmRlZmluZWQpbWF0ZXJpYWwud2lyZWZyYW1lTGluZWNhcD1qc29uLndpcmVmcmFtZUxpbmVjYXA7aWYoanNvbi53aXJlZnJhbWVMaW5lam9pbiE9PXVuZGVmaW5lZCltYXRlcmlhbC53aXJlZnJhbWVMaW5lam9pbj1qc29uLndpcmVmcmFtZUxpbmVqb2luO2lmKGpzb24ucm90YXRpb24hPT11bmRlZmluZWQpbWF0ZXJpYWwucm90YXRpb249anNvbi5yb3RhdGlvbjtpZihqc29uLmxpbmV3aWR0aCE9PTEpbWF0ZXJpYWwubGluZXdpZHRoPWpzb24ubGluZXdpZHRoO2lmKGpzb24uZGFzaFNpemUhPT11bmRlZmluZWQpbWF0ZXJpYWwuZGFzaFNpemU9anNvbi5kYXNoU2l6ZTtpZihqc29uLmdhcFNpemUhPT11bmRlZmluZWQpbWF0ZXJpYWwuZ2FwU2l6ZT1qc29uLmdhcFNpemU7aWYoanNvbi5zY2FsZSE9PXVuZGVmaW5lZCltYXRlcmlhbC5zY2FsZT1qc29uLnNjYWxlO2lmKGpzb24ucG9seWdvbk9mZnNldCE9PXVuZGVmaW5lZCltYXRlcmlhbC5wb2x5Z29uT2Zmc2V0PWpzb24ucG9seWdvbk9mZnNldDtpZihqc29uLnBvbHlnb25PZmZzZXRGYWN0b3IhPT11bmRlZmluZWQpbWF0ZXJpYWwucG9seWdvbk9mZnNldEZhY3Rvcj1qc29uLnBvbHlnb25PZmZzZXRGYWN0b3I7aWYoanNvbi5wb2x5Z29uT2Zmc2V0VW5pdHMhPT11bmRlZmluZWQpbWF0ZXJpYWwucG9seWdvbk9mZnNldFVuaXRzPWpzb24ucG9seWdvbk9mZnNldFVuaXRzO2lmKGpzb24uZGl0aGVyaW5nIT09dW5kZWZpbmVkKW1hdGVyaWFsLmRpdGhlcmluZz1qc29uLmRpdGhlcmluZztpZihqc29uLmFscGhhVG9Db3ZlcmFnZSE9PXVuZGVmaW5lZCltYXRlcmlhbC5hbHBoYVRvQ292ZXJhZ2U9anNvbi5hbHBoYVRvQ292ZXJhZ2U7aWYoanNvbi5wcmVtdWx0aXBsaWVkQWxwaGEhPT11bmRlZmluZWQpbWF0ZXJpYWwucHJlbXVsdGlwbGllZEFscGhhPWpzb24ucHJlbXVsdGlwbGllZEFscGhhO2lmKGpzb24udmlzaWJsZSE9PXVuZGVmaW5lZCltYXRlcmlhbC52aXNpYmxlPWpzb24udmlzaWJsZTtpZihqc29uLnRvbmVNYXBwZWQhPT11bmRlZmluZWQpbWF0ZXJpYWwudG9uZU1hcHBlZD1qc29uLnRvbmVNYXBwZWQ7aWYoanNvbi51c2VyRGF0YSE9PXVuZGVmaW5lZCltYXRlcmlhbC51c2VyRGF0YT1qc29uLnVzZXJEYXRhO2lmKGpzb24udmVydGV4Q29sb3JzIT09dW5kZWZpbmVkKXtpZih0eXBlb2YganNvbi52ZXJ0ZXhDb2xvcnM9PT0nbnVtYmVyJyl7bWF0ZXJpYWwudmVydGV4Q29sb3JzPWpzb24udmVydGV4Q29sb3JzPjA/dHJ1ZTpmYWxzZTt9ZWxzZXttYXRlcmlhbC52ZXJ0ZXhDb2xvcnM9anNvbi52ZXJ0ZXhDb2xvcnM7fX0vLyBTaGFkZXIgTWF0ZXJpYWwKaWYoanNvbi51bmlmb3JtcyE9PXVuZGVmaW5lZCl7Zm9yKHZhciBuYW1lIGluIGpzb24udW5pZm9ybXMpe3ZhciB1bmlmb3JtPWpzb24udW5pZm9ybXNbbmFtZV07bWF0ZXJpYWwudW5pZm9ybXNbbmFtZV09e307c3dpdGNoKHVuaWZvcm0udHlwZSl7Y2FzZSd0JzptYXRlcmlhbC51bmlmb3Jtc1tuYW1lXS52YWx1ZT1nZXRUZXh0dXJlKHVuaWZvcm0udmFsdWUpO2JyZWFrO2Nhc2UnYyc6bWF0ZXJpYWwudW5pZm9ybXNbbmFtZV0udmFsdWU9bmV3IENvbG9yKCkuc2V0SGV4KHVuaWZvcm0udmFsdWUpO2JyZWFrO2Nhc2UndjInOm1hdGVyaWFsLnVuaWZvcm1zW25hbWVdLnZhbHVlPW5ldyBWZWN0b3IyKCkuZnJvbUFycmF5KHVuaWZvcm0udmFsdWUpO2JyZWFrO2Nhc2UndjMnOm1hdGVyaWFsLnVuaWZvcm1zW25hbWVdLnZhbHVlPW5ldyBWZWN0b3IzKCkuZnJvbUFycmF5KHVuaWZvcm0udmFsdWUpO2JyZWFrO2Nhc2UndjQnOm1hdGVyaWFsLnVuaWZvcm1zW25hbWVdLnZhbHVlPW5ldyBWZWN0b3I0KCkuZnJvbUFycmF5KHVuaWZvcm0udmFsdWUpO2JyZWFrO2Nhc2UnbTMnOm1hdGVyaWFsLnVuaWZvcm1zW25hbWVdLnZhbHVlPW5ldyBNYXRyaXgzKCkuZnJvbUFycmF5KHVuaWZvcm0udmFsdWUpO2JyZWFrO2Nhc2UnbTQnOm1hdGVyaWFsLnVuaWZvcm1zW25hbWVdLnZhbHVlPW5ldyBNYXRyaXg0KCkuZnJvbUFycmF5KHVuaWZvcm0udmFsdWUpO2JyZWFrO2RlZmF1bHQ6bWF0ZXJpYWwudW5pZm9ybXNbbmFtZV0udmFsdWU9dW5pZm9ybS52YWx1ZTt9fX1pZihqc29uLmRlZmluZXMhPT11bmRlZmluZWQpbWF0ZXJpYWwuZGVmaW5lcz1qc29uLmRlZmluZXM7aWYoanNvbi52ZXJ0ZXhTaGFkZXIhPT11bmRlZmluZWQpbWF0ZXJpYWwudmVydGV4U2hhZGVyPWpzb24udmVydGV4U2hhZGVyO2lmKGpzb24uZnJhZ21lbnRTaGFkZXIhPT11bmRlZmluZWQpbWF0ZXJpYWwuZnJhZ21lbnRTaGFkZXI9anNvbi5mcmFnbWVudFNoYWRlcjtpZihqc29uLmV4dGVuc2lvbnMhPT11bmRlZmluZWQpe2Zvcih2YXIga2V5IGluIGpzb24uZXh0ZW5zaW9ucyl7bWF0ZXJpYWwuZXh0ZW5zaW9uc1trZXldPWpzb24uZXh0ZW5zaW9uc1trZXldO319Ly8gRGVwcmVjYXRlZAppZihqc29uLnNoYWRpbmchPT11bmRlZmluZWQpbWF0ZXJpYWwuZmxhdFNoYWRpbmc9anNvbi5zaGFkaW5nPT09MTsvLyBUSFJFRS5GbGF0U2hhZGluZwovLyBmb3IgUG9pbnRzTWF0ZXJpYWwKaWYoanNvbi5zaXplIT09dW5kZWZpbmVkKW1hdGVyaWFsLnNpemU9anNvbi5zaXplO2lmKGpzb24uc2l6ZUF0dGVudWF0aW9uIT09dW5kZWZpbmVkKW1hdGVyaWFsLnNpemVBdHRlbnVhdGlvbj1qc29uLnNpemVBdHRlbnVhdGlvbjsvLyBtYXBzCmlmKGpzb24ubWFwIT09dW5kZWZpbmVkKW1hdGVyaWFsLm1hcD1nZXRUZXh0dXJlKGpzb24ubWFwKTtpZihqc29uLm1hdGNhcCE9PXVuZGVmaW5lZCltYXRlcmlhbC5tYXRjYXA9Z2V0VGV4dHVyZShqc29uLm1hdGNhcCk7aWYoanNvbi5hbHBoYU1hcCE9PXVuZGVmaW5lZCltYXRlcmlhbC5hbHBoYU1hcD1nZXRUZXh0dXJlKGpzb24uYWxwaGFNYXApO2lmKGpzb24uYnVtcE1hcCE9PXVuZGVmaW5lZCltYXRlcmlhbC5idW1wTWFwPWdldFRleHR1cmUoanNvbi5idW1wTWFwKTtpZihqc29uLmJ1bXBTY2FsZSE9PXVuZGVmaW5lZCltYXRlcmlhbC5idW1wU2NhbGU9anNvbi5idW1wU2NhbGU7aWYoanNvbi5ub3JtYWxNYXAhPT11bmRlZmluZWQpbWF0ZXJpYWwubm9ybWFsTWFwPWdldFRleHR1cmUoanNvbi5ub3JtYWxNYXApO2lmKGpzb24ubm9ybWFsTWFwVHlwZSE9PXVuZGVmaW5lZCltYXRlcmlhbC5ub3JtYWxNYXBUeXBlPWpzb24ubm9ybWFsTWFwVHlwZTtpZihqc29uLm5vcm1hbFNjYWxlIT09dW5kZWZpbmVkKXt2YXIgbm9ybWFsU2NhbGU9anNvbi5ub3JtYWxTY2FsZTtpZihBcnJheS5pc0FycmF5KG5vcm1hbFNjYWxlKT09PWZhbHNlKXsvLyBCbGVuZGVyIGV4cG9ydGVyIHVzZWQgdG8gZXhwb3J0IGEgc2NhbGFyLiBTZWUgIzc0NTkKbm9ybWFsU2NhbGU9W25vcm1hbFNjYWxlLG5vcm1hbFNjYWxlXTt9bWF0ZXJpYWwubm9ybWFsU2NhbGU9bmV3IFZlY3RvcjIoKS5mcm9tQXJyYXkobm9ybWFsU2NhbGUpO31pZihqc29uLmRpc3BsYWNlbWVudE1hcCE9PXVuZGVmaW5lZCltYXRlcmlhbC5kaXNwbGFjZW1lbnRNYXA9Z2V0VGV4dHVyZShqc29uLmRpc3BsYWNlbWVudE1hcCk7aWYoanNvbi5kaXNwbGFjZW1lbnRTY2FsZSE9PXVuZGVmaW5lZCltYXRlcmlhbC5kaXNwbGFjZW1lbnRTY2FsZT1qc29uLmRpc3BsYWNlbWVudFNjYWxlO2lmKGpzb24uZGlzcGxhY2VtZW50QmlhcyE9PXVuZGVmaW5lZCltYXRlcmlhbC5kaXNwbGFjZW1lbnRCaWFzPWpzb24uZGlzcGxhY2VtZW50QmlhcztpZihqc29uLnJvdWdobmVzc01hcCE9PXVuZGVmaW5lZCltYXRlcmlhbC5yb3VnaG5lc3NNYXA9Z2V0VGV4dHVyZShqc29uLnJvdWdobmVzc01hcCk7aWYoanNvbi5tZXRhbG5lc3NNYXAhPT11bmRlZmluZWQpbWF0ZXJpYWwubWV0YWxuZXNzTWFwPWdldFRleHR1cmUoanNvbi5tZXRhbG5lc3NNYXApO2lmKGpzb24uZW1pc3NpdmVNYXAhPT11bmRlZmluZWQpbWF0ZXJpYWwuZW1pc3NpdmVNYXA9Z2V0VGV4dHVyZShqc29uLmVtaXNzaXZlTWFwKTtpZihqc29uLmVtaXNzaXZlSW50ZW5zaXR5IT09dW5kZWZpbmVkKW1hdGVyaWFsLmVtaXNzaXZlSW50ZW5zaXR5PWpzb24uZW1pc3NpdmVJbnRlbnNpdHk7aWYoanNvbi5zcGVjdWxhck1hcCE9PXVuZGVmaW5lZCltYXRlcmlhbC5zcGVjdWxhck1hcD1nZXRUZXh0dXJlKGpzb24uc3BlY3VsYXJNYXApO2lmKGpzb24uc3BlY3VsYXJJbnRlbnNpdHlNYXAhPT11bmRlZmluZWQpbWF0ZXJpYWwuc3BlY3VsYXJJbnRlbnNpdHlNYXA9Z2V0VGV4dHVyZShqc29uLnNwZWN1bGFySW50ZW5zaXR5TWFwKTtpZihqc29uLnNwZWN1bGFyQ29sb3JNYXAhPT11bmRlZmluZWQpbWF0ZXJpYWwuc3BlY3VsYXJDb2xvck1hcD1nZXRUZXh0dXJlKGpzb24uc3BlY3VsYXJDb2xvck1hcCk7aWYoanNvbi5lbnZNYXAhPT11bmRlZmluZWQpbWF0ZXJpYWwuZW52TWFwPWdldFRleHR1cmUoanNvbi5lbnZNYXApO2lmKGpzb24uZW52TWFwSW50ZW5zaXR5IT09dW5kZWZpbmVkKW1hdGVyaWFsLmVudk1hcEludGVuc2l0eT1qc29uLmVudk1hcEludGVuc2l0eTtpZihqc29uLnJlZmxlY3Rpdml0eSE9PXVuZGVmaW5lZCltYXRlcmlhbC5yZWZsZWN0aXZpdHk9anNvbi5yZWZsZWN0aXZpdHk7aWYoanNvbi5yZWZyYWN0aW9uUmF0aW8hPT11bmRlZmluZWQpbWF0ZXJpYWwucmVmcmFjdGlvblJhdGlvPWpzb24ucmVmcmFjdGlvblJhdGlvO2lmKGpzb24ubGlnaHRNYXAhPT11bmRlZmluZWQpbWF0ZXJpYWwubGlnaHRNYXA9Z2V0VGV4dHVyZShqc29uLmxpZ2h0TWFwKTtpZihqc29uLmxpZ2h0TWFwSW50ZW5zaXR5IT09dW5kZWZpbmVkKW1hdGVyaWFsLmxpZ2h0TWFwSW50ZW5zaXR5PWpzb24ubGlnaHRNYXBJbnRlbnNpdHk7aWYoanNvbi5hb01hcCE9PXVuZGVmaW5lZCltYXRlcmlhbC5hb01hcD1nZXRUZXh0dXJlKGpzb24uYW9NYXApO2lmKGpzb24uYW9NYXBJbnRlbnNpdHkhPT11bmRlZmluZWQpbWF0ZXJpYWwuYW9NYXBJbnRlbnNpdHk9anNvbi5hb01hcEludGVuc2l0eTtpZihqc29uLmdyYWRpZW50TWFwIT09dW5kZWZpbmVkKW1hdGVyaWFsLmdyYWRpZW50TWFwPWdldFRleHR1cmUoanNvbi5ncmFkaWVudE1hcCk7aWYoanNvbi5jbGVhcmNvYXRNYXAhPT11bmRlZmluZWQpbWF0ZXJpYWwuY2xlYXJjb2F0TWFwPWdldFRleHR1cmUoanNvbi5jbGVhcmNvYXRNYXApO2lmKGpzb24uY2xlYXJjb2F0Um91Z2huZXNzTWFwIT09dW5kZWZpbmVkKW1hdGVyaWFsLmNsZWFyY29hdFJvdWdobmVzc01hcD1nZXRUZXh0dXJlKGpzb24uY2xlYXJjb2F0Um91Z2huZXNzTWFwKTtpZihqc29uLmNsZWFyY29hdE5vcm1hbE1hcCE9PXVuZGVmaW5lZCltYXRlcmlhbC5jbGVhcmNvYXROb3JtYWxNYXA9Z2V0VGV4dHVyZShqc29uLmNsZWFyY29hdE5vcm1hbE1hcCk7aWYoanNvbi5jbGVhcmNvYXROb3JtYWxTY2FsZSE9PXVuZGVmaW5lZCltYXRlcmlhbC5jbGVhcmNvYXROb3JtYWxTY2FsZT1uZXcgVmVjdG9yMigpLmZyb21BcnJheShqc29uLmNsZWFyY29hdE5vcm1hbFNjYWxlKTtpZihqc29uLnRyYW5zbWlzc2lvbk1hcCE9PXVuZGVmaW5lZCltYXRlcmlhbC50cmFuc21pc3Npb25NYXA9Z2V0VGV4dHVyZShqc29uLnRyYW5zbWlzc2lvbk1hcCk7aWYoanNvbi50aGlja25lc3NNYXAhPT11bmRlZmluZWQpbWF0ZXJpYWwudGhpY2tuZXNzTWFwPWdldFRleHR1cmUoanNvbi50aGlja25lc3NNYXApO2lmKGpzb24uc2hlZW5Db2xvck1hcCE9PXVuZGVmaW5lZCltYXRlcmlhbC5zaGVlbkNvbG9yTWFwPWdldFRleHR1cmUoanNvbi5zaGVlbkNvbG9yTWFwKTtpZihqc29uLnNoZWVuUm91Z2huZXNzTWFwIT09dW5kZWZpbmVkKW1hdGVyaWFsLnNoZWVuUm91Z2huZXNzTWFwPWdldFRleHR1cmUoanNvbi5zaGVlblJvdWdobmVzc01hcCk7cmV0dXJuIG1hdGVyaWFsO319LHtrZXk6InNldFRleHR1cmVzIix2YWx1ZTpmdW5jdGlvbiBzZXRUZXh0dXJlcyh2YWx1ZSl7dGhpcy50ZXh0dXJlcz12YWx1ZTtyZXR1cm4gdGhpczt9fV0pO3JldHVybiBNYXRlcmlhbExvYWRlcjt9KExvYWRlcik7dmFyIExvYWRlclV0aWxzPS8qI19fUFVSRV9fKi9mdW5jdGlvbigpe2Z1bmN0aW9uIExvYWRlclV0aWxzKCl7X2NsYXNzQ2FsbENoZWNrKHRoaXMsTG9hZGVyVXRpbHMpO31fY3JlYXRlQ2xhc3MoTG9hZGVyVXRpbHMsbnVsbCxbe2tleToiZGVjb2RlVGV4dCIsdmFsdWU6ZnVuY3Rpb24gZGVjb2RlVGV4dChhcnJheSl7aWYodHlwZW9mIFRleHREZWNvZGVyIT09J3VuZGVmaW5lZCcpe3JldHVybiBuZXcgVGV4dERlY29kZXIoKS5kZWNvZGUoYXJyYXkpO30vLyBBdm9pZCB0aGUgU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLCBhcnJheSkgc2hvcnRjdXQsIHdoaWNoCi8vIHRocm93cyBhICJtYXhpbXVtIGNhbGwgc3RhY2sgc2l6ZSBleGNlZWRlZCIgZXJyb3IgZm9yIGxhcmdlIGFycmF5cy4KdmFyIHM9Jyc7Zm9yKHZhciBfaTI5MD0wLGlsPWFycmF5Lmxlbmd0aDtfaTI5MDxpbDtfaTI5MCsrKXsvLyBJbXBsaWNpdGx5IGFzc3VtZXMgbGl0dGxlLWVuZGlhbi4Kcys9U3RyaW5nLmZyb21DaGFyQ29kZShhcnJheVtfaTI5MF0pO310cnl7Ly8gbWVyZ2VzIG11bHRpLWJ5dGUgdXRmLTggY2hhcmFjdGVycy4KcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChlc2NhcGUocykpO31jYXRjaChlKXsvLyBzZWUgIzE2MzU4CnJldHVybiBzO319fSx7a2V5OiJleHRyYWN0VXJsQmFzZSIsdmFsdWU6ZnVuY3Rpb24gZXh0cmFjdFVybEJhc2UodXJsKXt2YXIgaW5kZXg9dXJsLmxhc3RJbmRleE9mKCcvJyk7aWYoaW5kZXg9PT0tMSlyZXR1cm4nLi8nO3JldHVybiB1cmwuc3Vic3RyKDAsaW5kZXgrMSk7fX0se2tleToicmVzb2x2ZVVSTCIsdmFsdWU6ZnVuY3Rpb24gcmVzb2x2ZVVSTCh1cmwscGF0aCl7Ly8gSW52YWxpZCBVUkwKaWYodHlwZW9mIHVybCE9PSdzdHJpbmcnfHx1cmw9PT0nJylyZXR1cm4nJzsvLyBIb3N0IFJlbGF0aXZlIFVSTAppZigvXmh0dHBzPzpcL1wvL2kudGVzdChwYXRoKSYmL15cLy8udGVzdCh1cmwpKXtwYXRoPXBhdGgucmVwbGFjZSgvKF5odHRwcz86XC9cL1teXC9dKykuKi9pLCckMScpO30vLyBBYnNvbHV0ZSBVUkwgaHR0cDovLyxodHRwczovLywvLwppZigvXihodHRwcz86KT9cL1wvL2kudGVzdCh1cmwpKXJldHVybiB1cmw7Ly8gRGF0YSBVUkkKaWYoL15kYXRhOi4qLC4qJC9pLnRlc3QodXJsKSlyZXR1cm4gdXJsOy8vIEJsb2IgVVJMCmlmKC9eYmxvYjouKiQvaS50ZXN0KHVybCkpcmV0dXJuIHVybDsvLyBSZWxhdGl2ZSBVUkwKcmV0dXJuIHBhdGgrdXJsO319XSk7cmV0dXJuIExvYWRlclV0aWxzO30oKTt2YXIgSW5zdGFuY2VkQnVmZmVyR2VvbWV0cnk9LyojX19QVVJFX18qL2Z1bmN0aW9uKF9CdWZmZXJHZW9tZXRyeTE2KXtfaW5oZXJpdHMoSW5zdGFuY2VkQnVmZmVyR2VvbWV0cnksX0J1ZmZlckdlb21ldHJ5MTYpO3ZhciBfc3VwZXIxMjc9X2NyZWF0ZVN1cGVyKEluc3RhbmNlZEJ1ZmZlckdlb21ldHJ5KTtmdW5jdGlvbiBJbnN0YW5jZWRCdWZmZXJHZW9tZXRyeSgpe3ZhciBfdGhpczEwMTtfY2xhc3NDYWxsQ2hlY2sodGhpcyxJbnN0YW5jZWRCdWZmZXJHZW9tZXRyeSk7X3RoaXMxMDE9X3N1cGVyMTI3LmNhbGwodGhpcyk7X3RoaXMxMDEudHlwZT0nSW5zdGFuY2VkQnVmZmVyR2VvbWV0cnknO190aGlzMTAxLmluc3RhbmNlQ291bnQ9SW5maW5pdHk7cmV0dXJuIF90aGlzMTAxO31fY3JlYXRlQ2xhc3MoSW5zdGFuY2VkQnVmZmVyR2VvbWV0cnksW3trZXk6ImNvcHkiLHZhbHVlOmZ1bmN0aW9uIGNvcHkoc291cmNlKXtfZ2V0KF9nZXRQcm90b3R5cGVPZihJbnN0YW5jZWRCdWZmZXJHZW9tZXRyeS5wcm90b3R5cGUpLCJjb3B5Iix0aGlzKS5jYWxsKHRoaXMsc291cmNlKTt0aGlzLmluc3RhbmNlQ291bnQ9c291cmNlLmluc3RhbmNlQ291bnQ7cmV0dXJuIHRoaXM7fX0se2tleToiY2xvbmUiLHZhbHVlOmZ1bmN0aW9uIGNsb25lKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKCkuY29weSh0aGlzKTt9fSx7a2V5OiJ0b0pTT04iLHZhbHVlOmZ1bmN0aW9uIHRvSlNPTigpe3ZhciBkYXRhPV9nZXQoX2dldFByb3RvdHlwZU9mKEluc3RhbmNlZEJ1ZmZlckdlb21ldHJ5LnByb3RvdHlwZSksInRvSlNPTiIsdGhpcykuY2FsbCh0aGlzLHRoaXMpO2RhdGEuaW5zdGFuY2VDb3VudD10aGlzLmluc3RhbmNlQ291bnQ7ZGF0YS5pc0luc3RhbmNlZEJ1ZmZlckdlb21ldHJ5PXRydWU7cmV0dXJuIGRhdGE7fX1dKTtyZXR1cm4gSW5zdGFuY2VkQnVmZmVyR2VvbWV0cnk7fShCdWZmZXJHZW9tZXRyeSk7SW5zdGFuY2VkQnVmZmVyR2VvbWV0cnkucHJvdG90eXBlLmlzSW5zdGFuY2VkQnVmZmVyR2VvbWV0cnk9dHJ1ZTt2YXIgQnVmZmVyR2VvbWV0cnlMb2FkZXI9LyojX19QVVJFX18qL2Z1bmN0aW9uKF9Mb2FkZXI5KXtfaW5oZXJpdHMoQnVmZmVyR2VvbWV0cnlMb2FkZXIsX0xvYWRlcjkpO3ZhciBfc3VwZXIxMjg9X2NyZWF0ZVN1cGVyKEJ1ZmZlckdlb21ldHJ5TG9hZGVyKTtmdW5jdGlvbiBCdWZmZXJHZW9tZXRyeUxvYWRlcihtYW5hZ2VyKXtfY2xhc3NDYWxsQ2hlY2sodGhpcyxCdWZmZXJHZW9tZXRyeUxvYWRlcik7cmV0dXJuIF9zdXBlcjEyOC5jYWxsKHRoaXMsbWFuYWdlcik7fV9jcmVhdGVDbGFzcyhCdWZmZXJHZW9tZXRyeUxvYWRlcixbe2tleToibG9hZCIsdmFsdWU6ZnVuY3Rpb24gbG9hZCh1cmwsb25Mb2FkLG9uUHJvZ3Jlc3Msb25FcnJvcil7dmFyIHNjb3BlPXRoaXM7dmFyIGxvYWRlcj1uZXcgRmlsZUxvYWRlcihzY29wZS5tYW5hZ2VyKTtsb2FkZXIuc2V0UGF0aChzY29wZS5wYXRoKTtsb2FkZXIuc2V0UmVxdWVzdEhlYWRlcihzY29wZS5yZXF1ZXN0SGVhZGVyKTtsb2FkZXIuc2V0V2l0aENyZWRlbnRpYWxzKHNjb3BlLndpdGhDcmVkZW50aWFscyk7bG9hZGVyLmxvYWQodXJsLGZ1bmN0aW9uKHRleHQpe3RyeXtvbkxvYWQoc2NvcGUucGFyc2UoSlNPTi5wYXJzZSh0ZXh0KSkpO31jYXRjaChlKXtpZihvbkVycm9yKXtvbkVycm9yKGUpO31lbHNle2NvbnNvbGUuZXJyb3IoZSk7fXNjb3BlLm1hbmFnZXIuaXRlbUVycm9yKHVybCk7fX0sb25Qcm9ncmVzcyxvbkVycm9yKTt9fSx7a2V5OiJwYXJzZSIsdmFsdWU6ZnVuY3Rpb24gcGFyc2UoanNvbil7dmFyIGludGVybGVhdmVkQnVmZmVyTWFwPXt9O3ZhciBhcnJheUJ1ZmZlck1hcD17fTtmdW5jdGlvbiBnZXRJbnRlcmxlYXZlZEJ1ZmZlcihqc29uLHV1aWQpe2lmKGludGVybGVhdmVkQnVmZmVyTWFwW3V1aWRdIT09dW5kZWZpbmVkKXJldHVybiBpbnRlcmxlYXZlZEJ1ZmZlck1hcFt1dWlkXTt2YXIgaW50ZXJsZWF2ZWRCdWZmZXJzPWpzb24uaW50ZXJsZWF2ZWRCdWZmZXJzO3ZhciBpbnRlcmxlYXZlZEJ1ZmZlcj1pbnRlcmxlYXZlZEJ1ZmZlcnNbdXVpZF07dmFyIGJ1ZmZlcj1nZXRBcnJheUJ1ZmZlcihqc29uLGludGVybGVhdmVkQnVmZmVyLmJ1ZmZlcik7dmFyIGFycmF5PWdldFR5cGVkQXJyYXkoaW50ZXJsZWF2ZWRCdWZmZXIudHlwZSxidWZmZXIpO3ZhciBpYj1uZXcgSW50ZXJsZWF2ZWRCdWZmZXIoYXJyYXksaW50ZXJsZWF2ZWRCdWZmZXIuc3RyaWRlKTtpYi51dWlkPWludGVybGVhdmVkQnVmZmVyLnV1aWQ7aW50ZXJsZWF2ZWRCdWZmZXJNYXBbdXVpZF09aWI7cmV0dXJuIGliO31mdW5jdGlvbiBnZXRBcnJheUJ1ZmZlcihqc29uLHV1aWQpe2lmKGFycmF5QnVmZmVyTWFwW3V1aWRdIT09dW5kZWZpbmVkKXJldHVybiBhcnJheUJ1ZmZlck1hcFt1dWlkXTt2YXIgYXJyYXlCdWZmZXJzPWpzb24uYXJyYXlCdWZmZXJzO3ZhciBhcnJheUJ1ZmZlcj1hcnJheUJ1ZmZlcnNbdXVpZF07dmFyIGFiPW5ldyBVaW50MzJBcnJheShhcnJheUJ1ZmZlcikuYnVmZmVyO2FycmF5QnVmZmVyTWFwW3V1aWRdPWFiO3JldHVybiBhYjt9dmFyIGdlb21ldHJ5PWpzb24uaXNJbnN0YW5jZWRCdWZmZXJHZW9tZXRyeT9uZXcgSW5zdGFuY2VkQnVmZmVyR2VvbWV0cnkoKTpuZXcgQnVmZmVyR2VvbWV0cnkoKTt2YXIgaW5kZXg9anNvbi5kYXRhLmluZGV4O2lmKGluZGV4IT09dW5kZWZpbmVkKXt2YXIgdHlwZWRBcnJheT1nZXRUeXBlZEFycmF5KGluZGV4LnR5cGUsaW5kZXguYXJyYXkpO2dlb21ldHJ5LnNldEluZGV4KG5ldyBCdWZmZXJBdHRyaWJ1dGUodHlwZWRBcnJheSwxKSk7fXZhciBhdHRyaWJ1dGVzPWpzb24uZGF0YS5hdHRyaWJ1dGVzO2Zvcih2YXIga2V5IGluIGF0dHJpYnV0ZXMpe3ZhciBhdHRyaWJ1dGU9YXR0cmlidXRlc1trZXldO3ZhciBidWZmZXJBdHRyaWJ1dGU9dm9pZCAwO2lmKGF0dHJpYnV0ZS5pc0ludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlKXt2YXIgaW50ZXJsZWF2ZWRCdWZmZXI9Z2V0SW50ZXJsZWF2ZWRCdWZmZXIoanNvbi5kYXRhLGF0dHJpYnV0ZS5kYXRhKTtidWZmZXJBdHRyaWJ1dGU9bmV3IEludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlKGludGVybGVhdmVkQnVmZmVyLGF0dHJpYnV0ZS5pdGVtU2l6ZSxhdHRyaWJ1dGUub2Zmc2V0LGF0dHJpYnV0ZS5ub3JtYWxpemVkKTt9ZWxzZXt2YXIgX3R5cGVkQXJyYXk9Z2V0VHlwZWRBcnJheShhdHRyaWJ1dGUudHlwZSxhdHRyaWJ1dGUuYXJyYXkpO3ZhciBidWZmZXJBdHRyaWJ1dGVDb25zdHI9YXR0cmlidXRlLmlzSW5zdGFuY2VkQnVmZmVyQXR0cmlidXRlP0luc3RhbmNlZEJ1ZmZlckF0dHJpYnV0ZTpCdWZmZXJBdHRyaWJ1dGU7YnVmZmVyQXR0cmlidXRlPW5ldyBidWZmZXJBdHRyaWJ1dGVDb25zdHIoX3R5cGVkQXJyYXksYXR0cmlidXRlLml0ZW1TaXplLGF0dHJpYnV0ZS5ub3JtYWxpemVkKTt9aWYoYXR0cmlidXRlLm5hbWUhPT11bmRlZmluZWQpYnVmZmVyQXR0cmlidXRlLm5hbWU9YXR0cmlidXRlLm5hbWU7aWYoYXR0cmlidXRlLnVzYWdlIT09dW5kZWZpbmVkKWJ1ZmZlckF0dHJpYnV0ZS5zZXRVc2FnZShhdHRyaWJ1dGUudXNhZ2UpO2lmKGF0dHJpYnV0ZS51cGRhdGVSYW5nZSE9PXVuZGVmaW5lZCl7YnVmZmVyQXR0cmlidXRlLnVwZGF0ZVJhbmdlLm9mZnNldD1hdHRyaWJ1dGUudXBkYXRlUmFuZ2Uub2Zmc2V0O2J1ZmZlckF0dHJpYnV0ZS51cGRhdGVSYW5nZS5jb3VudD1hdHRyaWJ1dGUudXBkYXRlUmFuZ2UuY291bnQ7fWdlb21ldHJ5LnNldEF0dHJpYnV0ZShrZXksYnVmZmVyQXR0cmlidXRlKTt9dmFyIG1vcnBoQXR0cmlidXRlcz1qc29uLmRhdGEubW9ycGhBdHRyaWJ1dGVzO2lmKG1vcnBoQXR0cmlidXRlcyl7Zm9yKHZhciBfa2V5MyBpbiBtb3JwaEF0dHJpYnV0ZXMpe3ZhciBhdHRyaWJ1dGVBcnJheT1tb3JwaEF0dHJpYnV0ZXNbX2tleTNdO3ZhciBhcnJheT1bXTtmb3IodmFyIF9pMjkxPTAsaWw9YXR0cmlidXRlQXJyYXkubGVuZ3RoO19pMjkxPGlsO19pMjkxKyspe3ZhciBfYXR0cmlidXRlMz1hdHRyaWJ1dGVBcnJheVtfaTI5MV07dmFyIF9idWZmZXJBdHRyaWJ1dGU9dm9pZCAwO2lmKF9hdHRyaWJ1dGUzLmlzSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGUpe3ZhciBfaW50ZXJsZWF2ZWRCdWZmZXI9Z2V0SW50ZXJsZWF2ZWRCdWZmZXIoanNvbi5kYXRhLF9hdHRyaWJ1dGUzLmRhdGEpO19idWZmZXJBdHRyaWJ1dGU9bmV3IEludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlKF9pbnRlcmxlYXZlZEJ1ZmZlcixfYXR0cmlidXRlMy5pdGVtU2l6ZSxfYXR0cmlidXRlMy5vZmZzZXQsX2F0dHJpYnV0ZTMubm9ybWFsaXplZCk7fWVsc2V7dmFyIF90eXBlZEFycmF5Mj1nZXRUeXBlZEFycmF5KF9hdHRyaWJ1dGUzLnR5cGUsX2F0dHJpYnV0ZTMuYXJyYXkpO19idWZmZXJBdHRyaWJ1dGU9bmV3IEJ1ZmZlckF0dHJpYnV0ZShfdHlwZWRBcnJheTIsX2F0dHJpYnV0ZTMuaXRlbVNpemUsX2F0dHJpYnV0ZTMubm9ybWFsaXplZCk7fWlmKF9hdHRyaWJ1dGUzLm5hbWUhPT11bmRlZmluZWQpX2J1ZmZlckF0dHJpYnV0ZS5uYW1lPV9hdHRyaWJ1dGUzLm5hbWU7YXJyYXkucHVzaChfYnVmZmVyQXR0cmlidXRlKTt9Z2VvbWV0cnkubW9ycGhBdHRyaWJ1dGVzW19rZXkzXT1hcnJheTt9fXZhciBtb3JwaFRhcmdldHNSZWxhdGl2ZT1qc29uLmRhdGEubW9ycGhUYXJnZXRzUmVsYXRpdmU7aWYobW9ycGhUYXJnZXRzUmVsYXRpdmUpe2dlb21ldHJ5Lm1vcnBoVGFyZ2V0c1JlbGF0aXZlPXRydWU7fXZhciBncm91cHM9anNvbi5kYXRhLmdyb3Vwc3x8anNvbi5kYXRhLmRyYXdjYWxsc3x8anNvbi5kYXRhLm9mZnNldHM7aWYoZ3JvdXBzIT09dW5kZWZpbmVkKXtmb3IodmFyIF9pMjkyPTAsbj1ncm91cHMubGVuZ3RoO19pMjkyIT09bjsrK19pMjkyKXt2YXIgZ3JvdXA9Z3JvdXBzW19pMjkyXTtnZW9tZXRyeS5hZGRHcm91cChncm91cC5zdGFydCxncm91cC5jb3VudCxncm91cC5tYXRlcmlhbEluZGV4KTt9fXZhciBib3VuZGluZ1NwaGVyZT1qc29uLmRhdGEuYm91bmRpbmdTcGhlcmU7aWYoYm91bmRpbmdTcGhlcmUhPT11bmRlZmluZWQpe3ZhciBjZW50ZXI9bmV3IFZlY3RvcjMoKTtpZihib3VuZGluZ1NwaGVyZS5jZW50ZXIhPT11bmRlZmluZWQpe2NlbnRlci5mcm9tQXJyYXkoYm91bmRpbmdTcGhlcmUuY2VudGVyKTt9Z2VvbWV0cnkuYm91bmRpbmdTcGhlcmU9bmV3IFNwaGVyZShjZW50ZXIsYm91bmRpbmdTcGhlcmUucmFkaXVzKTt9aWYoanNvbi5uYW1lKWdlb21ldHJ5Lm5hbWU9anNvbi5uYW1lO2lmKGpzb24udXNlckRhdGEpZ2VvbWV0cnkudXNlckRhdGE9anNvbi51c2VyRGF0YTtyZXR1cm4gZ2VvbWV0cnk7fX1dKTtyZXR1cm4gQnVmZmVyR2VvbWV0cnlMb2FkZXI7fShMb2FkZXIpO3ZhciBPYmplY3RMb2FkZXI9LyojX19QVVJFX18qL2Z1bmN0aW9uKF9Mb2FkZXIxMCl7X2luaGVyaXRzKE9iamVjdExvYWRlcixfTG9hZGVyMTApO3ZhciBfc3VwZXIxMjk9X2NyZWF0ZVN1cGVyKE9iamVjdExvYWRlcik7ZnVuY3Rpb24gT2JqZWN0TG9hZGVyKG1hbmFnZXIpe19jbGFzc0NhbGxDaGVjayh0aGlzLE9iamVjdExvYWRlcik7cmV0dXJuIF9zdXBlcjEyOS5jYWxsKHRoaXMsbWFuYWdlcik7fV9jcmVhdGVDbGFzcyhPYmplY3RMb2FkZXIsW3trZXk6ImxvYWQiLHZhbHVlOmZ1bmN0aW9uIGxvYWQodXJsLG9uTG9hZCxvblByb2dyZXNzLG9uRXJyb3Ipe3ZhciBzY29wZT10aGlzO3ZhciBwYXRoPXRoaXMucGF0aD09PScnP0xvYWRlclV0aWxzLmV4dHJhY3RVcmxCYXNlKHVybCk6dGhpcy5wYXRoO3RoaXMucmVzb3VyY2VQYXRoPXRoaXMucmVzb3VyY2VQYXRofHxwYXRoO3ZhciBsb2FkZXI9bmV3IEZpbGVMb2FkZXIodGhpcy5tYW5hZ2VyKTtsb2FkZXIuc2V0UGF0aCh0aGlzLnBhdGgpO2xvYWRlci5zZXRSZXF1ZXN0SGVhZGVyKHRoaXMucmVxdWVzdEhlYWRlcik7bG9hZGVyLnNldFdpdGhDcmVkZW50aWFscyh0aGlzLndpdGhDcmVkZW50aWFscyk7bG9hZGVyLmxvYWQodXJsLGZ1bmN0aW9uKHRleHQpe3ZhciBqc29uPW51bGw7dHJ5e2pzb249SlNPTi5wYXJzZSh0ZXh0KTt9Y2F0Y2goZXJyb3Ipe2lmKG9uRXJyb3IhPT11bmRlZmluZWQpb25FcnJvcihlcnJvcik7Y29uc29sZS5lcnJvcignVEhSRUU6T2JqZWN0TG9hZGVyOiBDYW5cJ3QgcGFyc2UgJyt1cmwrJy4nLGVycm9yLm1lc3NhZ2UpO3JldHVybjt9dmFyIG1ldGFkYXRhPWpzb24ubWV0YWRhdGE7aWYobWV0YWRhdGE9PT11bmRlZmluZWR8fG1ldGFkYXRhLnR5cGU9PT11bmRlZmluZWR8fG1ldGFkYXRhLnR5cGUudG9Mb3dlckNhc2UoKT09PSdnZW9tZXRyeScpe2NvbnNvbGUuZXJyb3IoJ1RIUkVFLk9iamVjdExvYWRlcjogQ2FuXCd0IGxvYWQgJyt1cmwpO3JldHVybjt9c2NvcGUucGFyc2UoanNvbixvbkxvYWQpO30sb25Qcm9ncmVzcyxvbkVycm9yKTt9fSx7a2V5OiJsb2FkQXN5bmMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIF9sb2FkQXN5bmM9X2FzeW5jVG9HZW5lcmF0b3IoLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKHVybCxvblByb2dyZXNzKXt2YXIgc2NvcGUscGF0aCxsb2FkZXIsdGV4dCxqc29uLG1ldGFkYXRhO3JldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQ2KXt3aGlsZSgxKXN3aXRjaChfY29udGV4dDYucHJldj1fY29udGV4dDYubmV4dCl7Y2FzZSAwOnNjb3BlPXRoaXM7cGF0aD10aGlzLnBhdGg9PT0nJz9Mb2FkZXJVdGlscy5leHRyYWN0VXJsQmFzZSh1cmwpOnRoaXMucGF0aDt0aGlzLnJlc291cmNlUGF0aD10aGlzLnJlc291cmNlUGF0aHx8cGF0aDtsb2FkZXI9bmV3IEZpbGVMb2FkZXIodGhpcy5tYW5hZ2VyKTtsb2FkZXIuc2V0UGF0aCh0aGlzLnBhdGgpO2xvYWRlci5zZXRSZXF1ZXN0SGVhZGVyKHRoaXMucmVxdWVzdEhlYWRlcik7bG9hZGVyLnNldFdpdGhDcmVkZW50aWFscyh0aGlzLndpdGhDcmVkZW50aWFscyk7X2NvbnRleHQ2Lm5leHQ9OTtyZXR1cm4gbG9hZGVyLmxvYWRBc3luYyh1cmwsb25Qcm9ncmVzcyk7Y2FzZSA5OnRleHQ9X2NvbnRleHQ2LnNlbnQ7anNvbj1KU09OLnBhcnNlKHRleHQpO21ldGFkYXRhPWpzb24ubWV0YWRhdGE7aWYoIShtZXRhZGF0YT09PXVuZGVmaW5lZHx8bWV0YWRhdGEudHlwZT09PXVuZGVmaW5lZHx8bWV0YWRhdGEudHlwZS50b0xvd2VyQ2FzZSgpPT09J2dlb21ldHJ5Jykpe19jb250ZXh0Ni5uZXh0PTE0O2JyZWFrO310aHJvdyBuZXcgRXJyb3IoJ1RIUkVFLk9iamVjdExvYWRlcjogQ2FuXCd0IGxvYWQgJyt1cmwpO2Nhc2UgMTQ6X2NvbnRleHQ2Lm5leHQ9MTY7cmV0dXJuIHNjb3BlLnBhcnNlQXN5bmMoanNvbik7Y2FzZSAxNjpyZXR1cm4gX2NvbnRleHQ2LmFicnVwdCgicmV0dXJuIixfY29udGV4dDYuc2VudCk7Y2FzZSAxNzpjYXNlImVuZCI6cmV0dXJuIF9jb250ZXh0Ni5zdG9wKCk7fX0sX2NhbGxlZTIsdGhpcyk7fSkpO2Z1bmN0aW9uIGxvYWRBc3luYyhfeDcsX3g4KXtyZXR1cm4gX2xvYWRBc3luYy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fXJldHVybiBsb2FkQXN5bmM7fSgpfSx7a2V5OiJwYXJzZSIsdmFsdWU6ZnVuY3Rpb24gcGFyc2UoanNvbixvbkxvYWQpe3ZhciBhbmltYXRpb25zPXRoaXMucGFyc2VBbmltYXRpb25zKGpzb24uYW5pbWF0aW9ucyk7dmFyIHNoYXBlcz10aGlzLnBhcnNlU2hhcGVzKGpzb24uc2hhcGVzKTt2YXIgZ2VvbWV0cmllcz10aGlzLnBhcnNlR2VvbWV0cmllcyhqc29uLmdlb21ldHJpZXMsc2hhcGVzKTt2YXIgaW1hZ2VzPXRoaXMucGFyc2VJbWFnZXMoanNvbi5pbWFnZXMsZnVuY3Rpb24oKXtpZihvbkxvYWQhPT11bmRlZmluZWQpb25Mb2FkKG9iamVjdCk7fSk7dmFyIHRleHR1cmVzPXRoaXMucGFyc2VUZXh0dXJlcyhqc29uLnRleHR1cmVzLGltYWdlcyk7dmFyIG1hdGVyaWFscz10aGlzLnBhcnNlTWF0ZXJpYWxzKGpzb24ubWF0ZXJpYWxzLHRleHR1cmVzKTt2YXIgb2JqZWN0PXRoaXMucGFyc2VPYmplY3QoanNvbi5vYmplY3QsZ2VvbWV0cmllcyxtYXRlcmlhbHMsdGV4dHVyZXMsYW5pbWF0aW9ucyk7dmFyIHNrZWxldG9ucz10aGlzLnBhcnNlU2tlbGV0b25zKGpzb24uc2tlbGV0b25zLG9iamVjdCk7dGhpcy5iaW5kU2tlbGV0b25zKG9iamVjdCxza2VsZXRvbnMpOy8vCmlmKG9uTG9hZCE9PXVuZGVmaW5lZCl7dmFyIGhhc0ltYWdlcz1mYWxzZTtmb3IodmFyIHV1aWQgaW4gaW1hZ2VzKXtpZihpbWFnZXNbdXVpZF1pbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnQpe2hhc0ltYWdlcz10cnVlO2JyZWFrO319aWYoaGFzSW1hZ2VzPT09ZmFsc2Upb25Mb2FkKG9iamVjdCk7fXJldHVybiBvYmplY3Q7fX0se2tleToicGFyc2VBc3luYyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgX3BhcnNlQXN5bmM9X2FzeW5jVG9HZW5lcmF0b3IoLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKGpzb24pe3ZhciBhbmltYXRpb25zLHNoYXBlcyxnZW9tZXRyaWVzLGltYWdlcyx0ZXh0dXJlcyxtYXRlcmlhbHMsb2JqZWN0LHNrZWxldG9ucztyZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0Nyl7d2hpbGUoMSlzd2l0Y2goX2NvbnRleHQ3LnByZXY9X2NvbnRleHQ3Lm5leHQpe2Nhc2UgMDphbmltYXRpb25zPXRoaXMucGFyc2VBbmltYXRpb25zKGpzb24uYW5pbWF0aW9ucyk7c2hhcGVzPXRoaXMucGFyc2VTaGFwZXMoanNvbi5zaGFwZXMpO2dlb21ldHJpZXM9dGhpcy5wYXJzZUdlb21ldHJpZXMoanNvbi5nZW9tZXRyaWVzLHNoYXBlcyk7X2NvbnRleHQ3Lm5leHQ9NTtyZXR1cm4gdGhpcy5wYXJzZUltYWdlc0FzeW5jKGpzb24uaW1hZ2VzKTtjYXNlIDU6aW1hZ2VzPV9jb250ZXh0Ny5zZW50O3RleHR1cmVzPXRoaXMucGFyc2VUZXh0dXJlcyhqc29uLnRleHR1cmVzLGltYWdlcyk7bWF0ZXJpYWxzPXRoaXMucGFyc2VNYXRlcmlhbHMoanNvbi5tYXRlcmlhbHMsdGV4dHVyZXMpO29iamVjdD10aGlzLnBhcnNlT2JqZWN0KGpzb24ub2JqZWN0LGdlb21ldHJpZXMsbWF0ZXJpYWxzLHRleHR1cmVzLGFuaW1hdGlvbnMpO3NrZWxldG9ucz10aGlzLnBhcnNlU2tlbGV0b25zKGpzb24uc2tlbGV0b25zLG9iamVjdCk7dGhpcy5iaW5kU2tlbGV0b25zKG9iamVjdCxza2VsZXRvbnMpO3JldHVybiBfY29udGV4dDcuYWJydXB0KCJyZXR1cm4iLG9iamVjdCk7Y2FzZSAxMjpjYXNlImVuZCI6cmV0dXJuIF9jb250ZXh0Ny5zdG9wKCk7fX0sX2NhbGxlZTMsdGhpcyk7fSkpO2Z1bmN0aW9uIHBhcnNlQXN5bmMoX3g5KXtyZXR1cm4gX3BhcnNlQXN5bmMuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gcGFyc2VBc3luYzt9KCl9LHtrZXk6InBhcnNlU2hhcGVzIix2YWx1ZTpmdW5jdGlvbiBwYXJzZVNoYXBlcyhqc29uKXt2YXIgc2hhcGVzPXt9O2lmKGpzb24hPT11bmRlZmluZWQpe2Zvcih2YXIgX2kyOTM9MCxsPWpzb24ubGVuZ3RoO19pMjkzPGw7X2kyOTMrKyl7dmFyIHNoYXBlPW5ldyBTaGFwZSgpLmZyb21KU09OKGpzb25bX2kyOTNdKTtzaGFwZXNbc2hhcGUudXVpZF09c2hhcGU7fX1yZXR1cm4gc2hhcGVzO319LHtrZXk6InBhcnNlU2tlbGV0b25zIix2YWx1ZTpmdW5jdGlvbiBwYXJzZVNrZWxldG9ucyhqc29uLG9iamVjdCl7dmFyIHNrZWxldG9ucz17fTt2YXIgYm9uZXM9e307Ly8gZ2VuZXJhdGUgYm9uZSBsb29rdXAgdGFibGUKb2JqZWN0LnRyYXZlcnNlKGZ1bmN0aW9uKGNoaWxkKXtpZihjaGlsZC5pc0JvbmUpYm9uZXNbY2hpbGQudXVpZF09Y2hpbGQ7fSk7Ly8gY3JlYXRlIHNrZWxldG9ucwppZihqc29uIT09dW5kZWZpbmVkKXtmb3IodmFyIF9pMjk0PTAsbD1qc29uLmxlbmd0aDtfaTI5NDxsO19pMjk0Kyspe3ZhciBza2VsZXRvbj1uZXcgU2tlbGV0b24oKS5mcm9tSlNPTihqc29uW19pMjk0XSxib25lcyk7c2tlbGV0b25zW3NrZWxldG9uLnV1aWRdPXNrZWxldG9uO319cmV0dXJuIHNrZWxldG9uczt9fSx7a2V5OiJwYXJzZUdlb21ldHJpZXMiLHZhbHVlOmZ1bmN0aW9uIHBhcnNlR2VvbWV0cmllcyhqc29uLHNoYXBlcyl7dmFyIGdlb21ldHJpZXM9e307aWYoanNvbiE9PXVuZGVmaW5lZCl7dmFyIGJ1ZmZlckdlb21ldHJ5TG9hZGVyPW5ldyBCdWZmZXJHZW9tZXRyeUxvYWRlcigpO2Zvcih2YXIgX2kyOTU9MCxsPWpzb24ubGVuZ3RoO19pMjk1PGw7X2kyOTUrKyl7dmFyIGdlb21ldHJ5PXZvaWQgMDt2YXIgZGF0YT1qc29uW19pMjk1XTtzd2l0Y2goZGF0YS50eXBlKXtjYXNlJ0J1ZmZlckdlb21ldHJ5JzpjYXNlJ0luc3RhbmNlZEJ1ZmZlckdlb21ldHJ5JzpnZW9tZXRyeT1idWZmZXJHZW9tZXRyeUxvYWRlci5wYXJzZShkYXRhKTticmVhaztjYXNlJ0dlb21ldHJ5Jzpjb25zb2xlLmVycm9yKCdUSFJFRS5PYmplY3RMb2FkZXI6IFRoZSBsZWdhY3kgR2VvbWV0cnkgdHlwZSBpcyBubyBsb25nZXIgc3VwcG9ydGVkLicpO2JyZWFrO2RlZmF1bHQ6aWYoZGF0YS50eXBlIGluIEdlb21ldHJpZXMpe2dlb21ldHJ5PUdlb21ldHJpZXNbZGF0YS50eXBlXS5mcm9tSlNPTihkYXRhLHNoYXBlcyk7fWVsc2V7Y29uc29sZS53YXJuKCJUSFJFRS5PYmplY3RMb2FkZXI6IFVuc3VwcG9ydGVkIGdlb21ldHJ5IHR5cGUgXCIiLmNvbmNhdChkYXRhLnR5cGUsIlwiIikpO319Z2VvbWV0cnkudXVpZD1kYXRhLnV1aWQ7aWYoZGF0YS5uYW1lIT09dW5kZWZpbmVkKWdlb21ldHJ5Lm5hbWU9ZGF0YS5uYW1lO2lmKGdlb21ldHJ5LmlzQnVmZmVyR2VvbWV0cnk9PT10cnVlJiZkYXRhLnVzZXJEYXRhIT09dW5kZWZpbmVkKWdlb21ldHJ5LnVzZXJEYXRhPWRhdGEudXNlckRhdGE7Z2VvbWV0cmllc1tkYXRhLnV1aWRdPWdlb21ldHJ5O319cmV0dXJuIGdlb21ldHJpZXM7fX0se2tleToicGFyc2VNYXRlcmlhbHMiLHZhbHVlOmZ1bmN0aW9uIHBhcnNlTWF0ZXJpYWxzKGpzb24sdGV4dHVyZXMpe3ZhciBjYWNoZT17fTsvLyBNdWx0aU1hdGVyaWFsCnZhciBtYXRlcmlhbHM9e307aWYoanNvbiE9PXVuZGVmaW5lZCl7dmFyIGxvYWRlcj1uZXcgTWF0ZXJpYWxMb2FkZXIoKTtsb2FkZXIuc2V0VGV4dHVyZXModGV4dHVyZXMpO2Zvcih2YXIgX2kyOTY9MCxsPWpzb24ubGVuZ3RoO19pMjk2PGw7X2kyOTYrKyl7dmFyIGRhdGE9anNvbltfaTI5Nl07aWYoZGF0YS50eXBlPT09J011bHRpTWF0ZXJpYWwnKXsvLyBEZXByZWNhdGVkCnZhciBhcnJheT1bXTtmb3IodmFyIGo9MDtqPGRhdGEubWF0ZXJpYWxzLmxlbmd0aDtqKyspe3ZhciBtYXRlcmlhbD1kYXRhLm1hdGVyaWFsc1tqXTtpZihjYWNoZVttYXRlcmlhbC51dWlkXT09PXVuZGVmaW5lZCl7Y2FjaGVbbWF0ZXJpYWwudXVpZF09bG9hZGVyLnBhcnNlKG1hdGVyaWFsKTt9YXJyYXkucHVzaChjYWNoZVttYXRlcmlhbC51dWlkXSk7fW1hdGVyaWFsc1tkYXRhLnV1aWRdPWFycmF5O31lbHNle2lmKGNhY2hlW2RhdGEudXVpZF09PT11bmRlZmluZWQpe2NhY2hlW2RhdGEudXVpZF09bG9hZGVyLnBhcnNlKGRhdGEpO31tYXRlcmlhbHNbZGF0YS51dWlkXT1jYWNoZVtkYXRhLnV1aWRdO319fXJldHVybiBtYXRlcmlhbHM7fX0se2tleToicGFyc2VBbmltYXRpb25zIix2YWx1ZTpmdW5jdGlvbiBwYXJzZUFuaW1hdGlvbnMoanNvbil7dmFyIGFuaW1hdGlvbnM9e307aWYoanNvbiE9PXVuZGVmaW5lZCl7Zm9yKHZhciBfaTI5Nz0wO19pMjk3PGpzb24ubGVuZ3RoO19pMjk3Kyspe3ZhciBkYXRhPWpzb25bX2kyOTddO3ZhciBjbGlwPUFuaW1hdGlvbkNsaXAucGFyc2UoZGF0YSk7YW5pbWF0aW9uc1tjbGlwLnV1aWRdPWNsaXA7fX1yZXR1cm4gYW5pbWF0aW9uczt9fSx7a2V5OiJwYXJzZUltYWdlcyIsdmFsdWU6ZnVuY3Rpb24gcGFyc2VJbWFnZXMoanNvbixvbkxvYWQpe3ZhciBzY29wZT10aGlzO3ZhciBpbWFnZXM9e307dmFyIGxvYWRlcjtmdW5jdGlvbiBsb2FkSW1hZ2UodXJsKXtzY29wZS5tYW5hZ2VyLml0ZW1TdGFydCh1cmwpO3JldHVybiBsb2FkZXIubG9hZCh1cmwsZnVuY3Rpb24oKXtzY29wZS5tYW5hZ2VyLml0ZW1FbmQodXJsKTt9LHVuZGVmaW5lZCxmdW5jdGlvbigpe3Njb3BlLm1hbmFnZXIuaXRlbUVycm9yKHVybCk7c2NvcGUubWFuYWdlci5pdGVtRW5kKHVybCk7fSk7fWZ1bmN0aW9uIGRlc2VyaWFsaXplSW1hZ2UoaW1hZ2Upe2lmKHR5cGVvZiBpbWFnZT09PSdzdHJpbmcnKXt2YXIgdXJsPWltYWdlO3ZhciBwYXRoPS9eKFwvXC8pfChbYS16XSs6KFwvXC8pPykvaS50ZXN0KHVybCk/dXJsOnNjb3BlLnJlc291cmNlUGF0aCt1cmw7cmV0dXJuIGxvYWRJbWFnZShwYXRoKTt9ZWxzZXtpZihpbWFnZS5kYXRhKXtyZXR1cm57ZGF0YTpnZXRUeXBlZEFycmF5KGltYWdlLnR5cGUsaW1hZ2UuZGF0YSksd2lkdGg6aW1hZ2Uud2lkdGgsaGVpZ2h0OmltYWdlLmhlaWdodH07fWVsc2V7cmV0dXJuIG51bGw7fX19aWYoanNvbiE9PXVuZGVmaW5lZCYmanNvbi5sZW5ndGg+MCl7dmFyIG1hbmFnZXI9bmV3IExvYWRpbmdNYW5hZ2VyKG9uTG9hZCk7bG9hZGVyPW5ldyBJbWFnZUxvYWRlcihtYW5hZ2VyKTtsb2FkZXIuc2V0Q3Jvc3NPcmlnaW4odGhpcy5jcm9zc09yaWdpbik7Zm9yKHZhciBfaTI5OD0wLGlsPWpzb24ubGVuZ3RoO19pMjk4PGlsO19pMjk4Kyspe3ZhciBpbWFnZT1qc29uW19pMjk4XTt2YXIgdXJsPWltYWdlLnVybDtpZihBcnJheS5pc0FycmF5KHVybCkpey8vIGxvYWQgYXJyYXkgb2YgaW1hZ2VzIGUuZyBDdWJlVGV4dHVyZQppbWFnZXNbaW1hZ2UudXVpZF09W107Zm9yKHZhciBqPTAsamw9dXJsLmxlbmd0aDtqPGpsO2orKyl7dmFyIGN1cnJlbnRVcmw9dXJsW2pdO3ZhciBkZXNlcmlhbGl6ZWRJbWFnZT1kZXNlcmlhbGl6ZUltYWdlKGN1cnJlbnRVcmwpO2lmKGRlc2VyaWFsaXplZEltYWdlIT09bnVsbCl7aWYoZGVzZXJpYWxpemVkSW1hZ2UgaW5zdGFuY2VvZiBIVE1MSW1hZ2VFbGVtZW50KXtpbWFnZXNbaW1hZ2UudXVpZF0ucHVzaChkZXNlcmlhbGl6ZWRJbWFnZSk7fWVsc2V7Ly8gc3BlY2lhbCBjYXNlOiBoYW5kbGUgYXJyYXkgb2YgZGF0YSB0ZXh0dXJlcyBmb3IgY3ViZSB0ZXh0dXJlcwppbWFnZXNbaW1hZ2UudXVpZF0ucHVzaChuZXcgRGF0YVRleHR1cmUoZGVzZXJpYWxpemVkSW1hZ2UuZGF0YSxkZXNlcmlhbGl6ZWRJbWFnZS53aWR0aCxkZXNlcmlhbGl6ZWRJbWFnZS5oZWlnaHQpKTt9fX19ZWxzZXsvLyBsb2FkIHNpbmdsZSBpbWFnZQp2YXIgX2Rlc2VyaWFsaXplZEltYWdlPWRlc2VyaWFsaXplSW1hZ2UoaW1hZ2UudXJsKTtpZihfZGVzZXJpYWxpemVkSW1hZ2UhPT1udWxsKXtpbWFnZXNbaW1hZ2UudXVpZF09X2Rlc2VyaWFsaXplZEltYWdlO319fX1yZXR1cm4gaW1hZ2VzO319LHtrZXk6InBhcnNlSW1hZ2VzQXN5bmMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIF9wYXJzZUltYWdlc0FzeW5jPV9hc3luY1RvR2VuZXJhdG9yKC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNShqc29uKXt2YXIgc2NvcGUsaW1hZ2VzLGxvYWRlcixkZXNlcmlhbGl6ZUltYWdlLF9kZXNlcmlhbGl6ZUltYWdlLF9pMjk5LGlsLGltYWdlLHVybCxqLGpsLGN1cnJlbnRVcmwsZGVzZXJpYWxpemVkSW1hZ2UsX2Rlc2VyaWFsaXplZEltYWdlMjtyZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0OSl7d2hpbGUoMSlzd2l0Y2goX2NvbnRleHQ5LnByZXY9X2NvbnRleHQ5Lm5leHQpe2Nhc2UgMDpfZGVzZXJpYWxpemVJbWFnZT1mdW5jdGlvbiBfZGVzZXJpYWxpemVJbWFnZTMoKXtfZGVzZXJpYWxpemVJbWFnZT1fYXN5bmNUb0dlbmVyYXRvcigvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoaW1hZ2Upe3ZhciBfdXJsLHBhdGg7cmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDgpe3doaWxlKDEpc3dpdGNoKF9jb250ZXh0OC5wcmV2PV9jb250ZXh0OC5uZXh0KXtjYXNlIDA6aWYoISh0eXBlb2YgaW1hZ2U9PT0nc3RyaW5nJykpe19jb250ZXh0OC5uZXh0PTg7YnJlYWs7fV91cmw9aW1hZ2U7cGF0aD0vXihcL1wvKXwoW2Etel0rOihcL1wvKT8pL2kudGVzdChfdXJsKT9fdXJsOnNjb3BlLnJlc291cmNlUGF0aCtfdXJsO19jb250ZXh0OC5uZXh0PTU7cmV0dXJuIGxvYWRlci5sb2FkQXN5bmMocGF0aCk7Y2FzZSA1OnJldHVybiBfY29udGV4dDguYWJydXB0KCJyZXR1cm4iLF9jb250ZXh0OC5zZW50KTtjYXNlIDg6aWYoIWltYWdlLmRhdGEpe19jb250ZXh0OC5uZXh0PTEyO2JyZWFrO31yZXR1cm4gX2NvbnRleHQ4LmFicnVwdCgicmV0dXJuIix7ZGF0YTpnZXRUeXBlZEFycmF5KGltYWdlLnR5cGUsaW1hZ2UuZGF0YSksd2lkdGg6aW1hZ2Uud2lkdGgsaGVpZ2h0OmltYWdlLmhlaWdodH0pO2Nhc2UgMTI6cmV0dXJuIF9jb250ZXh0OC5hYnJ1cHQoInJldHVybiIsbnVsbCk7Y2FzZSAxMzpjYXNlImVuZCI6cmV0dXJuIF9jb250ZXh0OC5zdG9wKCk7fX0sX2NhbGxlZTQpO30pKTtyZXR1cm4gX2Rlc2VyaWFsaXplSW1hZ2UuYXBwbHkodGhpcyxhcmd1bWVudHMpO307ZGVzZXJpYWxpemVJbWFnZT1mdW5jdGlvbiBfZGVzZXJpYWxpemVJbWFnZTIoX3gxMSl7cmV0dXJuIF9kZXNlcmlhbGl6ZUltYWdlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9O3Njb3BlPXRoaXM7aW1hZ2VzPXt9O2lmKCEoanNvbiE9PXVuZGVmaW5lZCYmanNvbi5sZW5ndGg+MCkpe19jb250ZXh0OS5uZXh0PTMyO2JyZWFrO31sb2FkZXI9bmV3IEltYWdlTG9hZGVyKHRoaXMubWFuYWdlcik7bG9hZGVyLnNldENyb3NzT3JpZ2luKHRoaXMuY3Jvc3NPcmlnaW4pO19pMjk5PTAsaWw9anNvbi5sZW5ndGg7Y2FzZSA4OmlmKCEoX2kyOTk8aWwpKXtfY29udGV4dDkubmV4dD0zMjticmVhazt9aW1hZ2U9anNvbltfaTI5OV07dXJsPWltYWdlLnVybDtpZighQXJyYXkuaXNBcnJheSh1cmwpKXtfY29udGV4dDkubmV4dD0yNTticmVhazt9Ly8gbG9hZCBhcnJheSBvZiBpbWFnZXMgZS5nIEN1YmVUZXh0dXJlCmltYWdlc1tpbWFnZS51dWlkXT1bXTtqPTAsamw9dXJsLmxlbmd0aDtjYXNlIDE0OmlmKCEoajxqbCkpe19jb250ZXh0OS5uZXh0PTIzO2JyZWFrO31jdXJyZW50VXJsPXVybFtqXTtfY29udGV4dDkubmV4dD0xODtyZXR1cm4gZGVzZXJpYWxpemVJbWFnZShjdXJyZW50VXJsKTtjYXNlIDE4OmRlc2VyaWFsaXplZEltYWdlPV9jb250ZXh0OS5zZW50O2lmKGRlc2VyaWFsaXplZEltYWdlIT09bnVsbCl7aWYoZGVzZXJpYWxpemVkSW1hZ2UgaW5zdGFuY2VvZiBIVE1MSW1hZ2VFbGVtZW50KXtpbWFnZXNbaW1hZ2UudXVpZF0ucHVzaChkZXNlcmlhbGl6ZWRJbWFnZSk7fWVsc2V7Ly8gc3BlY2lhbCBjYXNlOiBoYW5kbGUgYXJyYXkgb2YgZGF0YSB0ZXh0dXJlcyBmb3IgY3ViZSB0ZXh0dXJlcwppbWFnZXNbaW1hZ2UudXVpZF0ucHVzaChuZXcgRGF0YVRleHR1cmUoZGVzZXJpYWxpemVkSW1hZ2UuZGF0YSxkZXNlcmlhbGl6ZWRJbWFnZS53aWR0aCxkZXNlcmlhbGl6ZWRJbWFnZS5oZWlnaHQpKTt9fWNhc2UgMjA6aisrO19jb250ZXh0OS5uZXh0PTE0O2JyZWFrO2Nhc2UgMjM6X2NvbnRleHQ5Lm5leHQ9Mjk7YnJlYWs7Y2FzZSAyNTpfY29udGV4dDkubmV4dD0yNztyZXR1cm4gZGVzZXJpYWxpemVJbWFnZShpbWFnZS51cmwpO2Nhc2UgMjc6X2Rlc2VyaWFsaXplZEltYWdlMj1fY29udGV4dDkuc2VudDtpZihfZGVzZXJpYWxpemVkSW1hZ2UyIT09bnVsbCl7aW1hZ2VzW2ltYWdlLnV1aWRdPV9kZXNlcmlhbGl6ZWRJbWFnZTI7fWNhc2UgMjk6X2kyOTkrKztfY29udGV4dDkubmV4dD04O2JyZWFrO2Nhc2UgMzI6cmV0dXJuIF9jb250ZXh0OS5hYnJ1cHQoInJldHVybiIsaW1hZ2VzKTtjYXNlIDMzOmNhc2UiZW5kIjpyZXR1cm4gX2NvbnRleHQ5LnN0b3AoKTt9fSxfY2FsbGVlNSx0aGlzKTt9KSk7ZnVuY3Rpb24gcGFyc2VJbWFnZXNBc3luYyhfeDEwKXtyZXR1cm4gX3BhcnNlSW1hZ2VzQXN5bmMuYXBwbHkodGhpcyxhcmd1bWVudHMpO31yZXR1cm4gcGFyc2VJbWFnZXNBc3luYzt9KCl9LHtrZXk6InBhcnNlVGV4dHVyZXMiLHZhbHVlOmZ1bmN0aW9uIHBhcnNlVGV4dHVyZXMoanNvbixpbWFnZXMpe2Z1bmN0aW9uIHBhcnNlQ29uc3RhbnQodmFsdWUsdHlwZSl7aWYodHlwZW9mIHZhbHVlPT09J251bWJlcicpcmV0dXJuIHZhbHVlO2NvbnNvbGUud2FybignVEhSRUUuT2JqZWN0TG9hZGVyLnBhcnNlVGV4dHVyZTogQ29uc3RhbnQgc2hvdWxkIGJlIGluIG51bWVyaWMgZm9ybS4nLHZhbHVlKTtyZXR1cm4gdHlwZVt2YWx1ZV07fXZhciB0ZXh0dXJlcz17fTtpZihqc29uIT09dW5kZWZpbmVkKXtmb3IodmFyIF9pMzAwPTAsbD1qc29uLmxlbmd0aDtfaTMwMDxsO19pMzAwKyspe3ZhciBkYXRhPWpzb25bX2kzMDBdO2lmKGRhdGEuaW1hZ2U9PT11bmRlZmluZWQpe2NvbnNvbGUud2FybignVEhSRUUuT2JqZWN0TG9hZGVyOiBObyAiaW1hZ2UiIHNwZWNpZmllZCBmb3InLGRhdGEudXVpZCk7fWlmKGltYWdlc1tkYXRhLmltYWdlXT09PXVuZGVmaW5lZCl7Y29uc29sZS53YXJuKCdUSFJFRS5PYmplY3RMb2FkZXI6IFVuZGVmaW5lZCBpbWFnZScsZGF0YS5pbWFnZSk7fXZhciB0ZXh0dXJlPXZvaWQgMDt2YXIgaW1hZ2U9aW1hZ2VzW2RhdGEuaW1hZ2VdO2lmKEFycmF5LmlzQXJyYXkoaW1hZ2UpKXt0ZXh0dXJlPW5ldyBDdWJlVGV4dHVyZShpbWFnZSk7aWYoaW1hZ2UubGVuZ3RoPT09Nil0ZXh0dXJlLm5lZWRzVXBkYXRlPXRydWU7fWVsc2V7aWYoaW1hZ2UmJmltYWdlLmRhdGEpe3RleHR1cmU9bmV3IERhdGFUZXh0dXJlKGltYWdlLmRhdGEsaW1hZ2Uud2lkdGgsaW1hZ2UuaGVpZ2h0KTt9ZWxzZXt0ZXh0dXJlPW5ldyBUZXh0dXJlKGltYWdlKTt9aWYoaW1hZ2UpdGV4dHVyZS5uZWVkc1VwZGF0ZT10cnVlOy8vIHRleHR1cmVzIGNhbiBoYXZlIHVuZGVmaW5lZCBpbWFnZSBkYXRhCn10ZXh0dXJlLnV1aWQ9ZGF0YS51dWlkO2lmKGRhdGEubmFtZSE9PXVuZGVmaW5lZCl0ZXh0dXJlLm5hbWU9ZGF0YS5uYW1lO2lmKGRhdGEubWFwcGluZyE9PXVuZGVmaW5lZCl0ZXh0dXJlLm1hcHBpbmc9cGFyc2VDb25zdGFudChkYXRhLm1hcHBpbmcsVEVYVFVSRV9NQVBQSU5HKTtpZihkYXRhLm9mZnNldCE9PXVuZGVmaW5lZCl0ZXh0dXJlLm9mZnNldC5mcm9tQXJyYXkoZGF0YS5vZmZzZXQpO2lmKGRhdGEucmVwZWF0IT09dW5kZWZpbmVkKXRleHR1cmUucmVwZWF0LmZyb21BcnJheShkYXRhLnJlcGVhdCk7aWYoZGF0YS5jZW50ZXIhPT11bmRlZmluZWQpdGV4dHVyZS5jZW50ZXIuZnJvbUFycmF5KGRhdGEuY2VudGVyKTtpZihkYXRhLnJvdGF0aW9uIT09dW5kZWZpbmVkKXRleHR1cmUucm90YXRpb249ZGF0YS5yb3RhdGlvbjtpZihkYXRhLndyYXAhPT11bmRlZmluZWQpe3RleHR1cmUud3JhcFM9cGFyc2VDb25zdGFudChkYXRhLndyYXBbMF0sVEVYVFVSRV9XUkFQUElORyk7dGV4dHVyZS53cmFwVD1wYXJzZUNvbnN0YW50KGRhdGEud3JhcFsxXSxURVhUVVJFX1dSQVBQSU5HKTt9aWYoZGF0YS5mb3JtYXQhPT11bmRlZmluZWQpdGV4dHVyZS5mb3JtYXQ9ZGF0YS5mb3JtYXQ7aWYoZGF0YS50eXBlIT09dW5kZWZpbmVkKXRleHR1cmUudHlwZT1kYXRhLnR5cGU7aWYoZGF0YS5lbmNvZGluZyE9PXVuZGVmaW5lZCl0ZXh0dXJlLmVuY29kaW5nPWRhdGEuZW5jb2Rpbmc7aWYoZGF0YS5taW5GaWx0ZXIhPT11bmRlZmluZWQpdGV4dHVyZS5taW5GaWx0ZXI9cGFyc2VDb25zdGFudChkYXRhLm1pbkZpbHRlcixURVhUVVJFX0ZJTFRFUik7aWYoZGF0YS5tYWdGaWx0ZXIhPT11bmRlZmluZWQpdGV4dHVyZS5tYWdGaWx0ZXI9cGFyc2VDb25zdGFudChkYXRhLm1hZ0ZpbHRlcixURVhUVVJFX0ZJTFRFUik7aWYoZGF0YS5hbmlzb3Ryb3B5IT09dW5kZWZpbmVkKXRleHR1cmUuYW5pc290cm9weT1kYXRhLmFuaXNvdHJvcHk7aWYoZGF0YS5mbGlwWSE9PXVuZGVmaW5lZCl0ZXh0dXJlLmZsaXBZPWRhdGEuZmxpcFk7aWYoZGF0YS5wcmVtdWx0aXBseUFscGhhIT09dW5kZWZpbmVkKXRleHR1cmUucHJlbXVsdGlwbHlBbHBoYT1kYXRhLnByZW11bHRpcGx5QWxwaGE7aWYoZGF0YS51bnBhY2tBbGlnbm1lbnQhPT11bmRlZmluZWQpdGV4dHVyZS51bnBhY2tBbGlnbm1lbnQ9ZGF0YS51bnBhY2tBbGlnbm1lbnQ7aWYoZGF0YS51c2VyRGF0YSE9PXVuZGVmaW5lZCl0ZXh0dXJlLnVzZXJEYXRhPWRhdGEudXNlckRhdGE7dGV4dHVyZXNbZGF0YS51dWlkXT10ZXh0dXJlO319cmV0dXJuIHRleHR1cmVzO319LHtrZXk6InBhcnNlT2JqZWN0Iix2YWx1ZTpmdW5jdGlvbiBwYXJzZU9iamVjdChkYXRhLGdlb21ldHJpZXMsbWF0ZXJpYWxzLHRleHR1cmVzLGFuaW1hdGlvbnMpe3ZhciBvYmplY3Q7ZnVuY3Rpb24gZ2V0R2VvbWV0cnkobmFtZSl7aWYoZ2VvbWV0cmllc1tuYW1lXT09PXVuZGVmaW5lZCl7Y29uc29sZS53YXJuKCdUSFJFRS5PYmplY3RMb2FkZXI6IFVuZGVmaW5lZCBnZW9tZXRyeScsbmFtZSk7fXJldHVybiBnZW9tZXRyaWVzW25hbWVdO31mdW5jdGlvbiBnZXRNYXRlcmlhbChuYW1lKXtpZihuYW1lPT09dW5kZWZpbmVkKXJldHVybiB1bmRlZmluZWQ7aWYoQXJyYXkuaXNBcnJheShuYW1lKSl7dmFyIGFycmF5PVtdO2Zvcih2YXIgX2kzMDE9MCxsPW5hbWUubGVuZ3RoO19pMzAxPGw7X2kzMDErKyl7dmFyIHV1aWQ9bmFtZVtfaTMwMV07aWYobWF0ZXJpYWxzW3V1aWRdPT09dW5kZWZpbmVkKXtjb25zb2xlLndhcm4oJ1RIUkVFLk9iamVjdExvYWRlcjogVW5kZWZpbmVkIG1hdGVyaWFsJyx1dWlkKTt9YXJyYXkucHVzaChtYXRlcmlhbHNbdXVpZF0pO31yZXR1cm4gYXJyYXk7fWlmKG1hdGVyaWFsc1tuYW1lXT09PXVuZGVmaW5lZCl7Y29uc29sZS53YXJuKCdUSFJFRS5PYmplY3RMb2FkZXI6IFVuZGVmaW5lZCBtYXRlcmlhbCcsbmFtZSk7fXJldHVybiBtYXRlcmlhbHNbbmFtZV07fWZ1bmN0aW9uIGdldFRleHR1cmUodXVpZCl7aWYodGV4dHVyZXNbdXVpZF09PT11bmRlZmluZWQpe2NvbnNvbGUud2FybignVEhSRUUuT2JqZWN0TG9hZGVyOiBVbmRlZmluZWQgdGV4dHVyZScsdXVpZCk7fXJldHVybiB0ZXh0dXJlc1t1dWlkXTt9dmFyIGdlb21ldHJ5LG1hdGVyaWFsO3N3aXRjaChkYXRhLnR5cGUpe2Nhc2UnU2NlbmUnOm9iamVjdD1uZXcgU2NlbmUoKTtpZihkYXRhLmJhY2tncm91bmQhPT11bmRlZmluZWQpe2lmKE51bWJlci5pc0ludGVnZXIoZGF0YS5iYWNrZ3JvdW5kKSl7b2JqZWN0LmJhY2tncm91bmQ9bmV3IENvbG9yKGRhdGEuYmFja2dyb3VuZCk7fWVsc2V7b2JqZWN0LmJhY2tncm91bmQ9Z2V0VGV4dHVyZShkYXRhLmJhY2tncm91bmQpO319aWYoZGF0YS5lbnZpcm9ubWVudCE9PXVuZGVmaW5lZCl7b2JqZWN0LmVudmlyb25tZW50PWdldFRleHR1cmUoZGF0YS5lbnZpcm9ubWVudCk7fWlmKGRhdGEuZm9nIT09dW5kZWZpbmVkKXtpZihkYXRhLmZvZy50eXBlPT09J0ZvZycpe29iamVjdC5mb2c9bmV3IEZvZyhkYXRhLmZvZy5jb2xvcixkYXRhLmZvZy5uZWFyLGRhdGEuZm9nLmZhcik7fWVsc2UgaWYoZGF0YS5mb2cudHlwZT09PSdGb2dFeHAyJyl7b2JqZWN0LmZvZz1uZXcgRm9nRXhwMihkYXRhLmZvZy5jb2xvcixkYXRhLmZvZy5kZW5zaXR5KTt9fWJyZWFrO2Nhc2UnUGVyc3BlY3RpdmVDYW1lcmEnOm9iamVjdD1uZXcgUGVyc3BlY3RpdmVDYW1lcmEoZGF0YS5mb3YsZGF0YS5hc3BlY3QsZGF0YS5uZWFyLGRhdGEuZmFyKTtpZihkYXRhLmZvY3VzIT09dW5kZWZpbmVkKW9iamVjdC5mb2N1cz1kYXRhLmZvY3VzO2lmKGRhdGEuem9vbSE9PXVuZGVmaW5lZClvYmplY3Quem9vbT1kYXRhLnpvb207aWYoZGF0YS5maWxtR2F1Z2UhPT11bmRlZmluZWQpb2JqZWN0LmZpbG1HYXVnZT1kYXRhLmZpbG1HYXVnZTtpZihkYXRhLmZpbG1PZmZzZXQhPT11bmRlZmluZWQpb2JqZWN0LmZpbG1PZmZzZXQ9ZGF0YS5maWxtT2Zmc2V0O2lmKGRhdGEudmlldyE9PXVuZGVmaW5lZClvYmplY3Qudmlldz1PYmplY3QuYXNzaWduKHt9LGRhdGEudmlldyk7YnJlYWs7Y2FzZSdPcnRob2dyYXBoaWNDYW1lcmEnOm9iamVjdD1uZXcgT3J0aG9ncmFwaGljQ2FtZXJhKGRhdGEubGVmdCxkYXRhLnJpZ2h0LGRhdGEudG9wLGRhdGEuYm90dG9tLGRhdGEubmVhcixkYXRhLmZhcik7aWYoZGF0YS56b29tIT09dW5kZWZpbmVkKW9iamVjdC56b29tPWRhdGEuem9vbTtpZihkYXRhLnZpZXchPT11bmRlZmluZWQpb2JqZWN0LnZpZXc9T2JqZWN0LmFzc2lnbih7fSxkYXRhLnZpZXcpO2JyZWFrO2Nhc2UnQW1iaWVudExpZ2h0JzpvYmplY3Q9bmV3IEFtYmllbnRMaWdodChkYXRhLmNvbG9yLGRhdGEuaW50ZW5zaXR5KTticmVhaztjYXNlJ0RpcmVjdGlvbmFsTGlnaHQnOm9iamVjdD1uZXcgRGlyZWN0aW9uYWxMaWdodChkYXRhLmNvbG9yLGRhdGEuaW50ZW5zaXR5KTticmVhaztjYXNlJ1BvaW50TGlnaHQnOm9iamVjdD1uZXcgUG9pbnRMaWdodChkYXRhLmNvbG9yLGRhdGEuaW50ZW5zaXR5LGRhdGEuZGlzdGFuY2UsZGF0YS5kZWNheSk7YnJlYWs7Y2FzZSdSZWN0QXJlYUxpZ2h0JzpvYmplY3Q9bmV3IFJlY3RBcmVhTGlnaHQoZGF0YS5jb2xvcixkYXRhLmludGVuc2l0eSxkYXRhLndpZHRoLGRhdGEuaGVpZ2h0KTticmVhaztjYXNlJ1Nwb3RMaWdodCc6b2JqZWN0PW5ldyBTcG90TGlnaHQoZGF0YS5jb2xvcixkYXRhLmludGVuc2l0eSxkYXRhLmRpc3RhbmNlLGRhdGEuYW5nbGUsZGF0YS5wZW51bWJyYSxkYXRhLmRlY2F5KTticmVhaztjYXNlJ0hlbWlzcGhlcmVMaWdodCc6b2JqZWN0PW5ldyBIZW1pc3BoZXJlTGlnaHQoZGF0YS5jb2xvcixkYXRhLmdyb3VuZENvbG9yLGRhdGEuaW50ZW5zaXR5KTticmVhaztjYXNlJ0xpZ2h0UHJvYmUnOm9iamVjdD1uZXcgTGlnaHRQcm9iZSgpLmZyb21KU09OKGRhdGEpO2JyZWFrO2Nhc2UnU2tpbm5lZE1lc2gnOmdlb21ldHJ5PWdldEdlb21ldHJ5KGRhdGEuZ2VvbWV0cnkpO21hdGVyaWFsPWdldE1hdGVyaWFsKGRhdGEubWF0ZXJpYWwpO29iamVjdD1uZXcgU2tpbm5lZE1lc2goZ2VvbWV0cnksbWF0ZXJpYWwpO2lmKGRhdGEuYmluZE1vZGUhPT11bmRlZmluZWQpb2JqZWN0LmJpbmRNb2RlPWRhdGEuYmluZE1vZGU7aWYoZGF0YS5iaW5kTWF0cml4IT09dW5kZWZpbmVkKW9iamVjdC5iaW5kTWF0cml4LmZyb21BcnJheShkYXRhLmJpbmRNYXRyaXgpO2lmKGRhdGEuc2tlbGV0b24hPT11bmRlZmluZWQpb2JqZWN0LnNrZWxldG9uPWRhdGEuc2tlbGV0b247YnJlYWs7Y2FzZSdNZXNoJzpnZW9tZXRyeT1nZXRHZW9tZXRyeShkYXRhLmdlb21ldHJ5KTttYXRlcmlhbD1nZXRNYXRlcmlhbChkYXRhLm1hdGVyaWFsKTtvYmplY3Q9bmV3IE1lc2goZ2VvbWV0cnksbWF0ZXJpYWwpO2JyZWFrO2Nhc2UnSW5zdGFuY2VkTWVzaCc6Z2VvbWV0cnk9Z2V0R2VvbWV0cnkoZGF0YS5nZW9tZXRyeSk7bWF0ZXJpYWw9Z2V0TWF0ZXJpYWwoZGF0YS5tYXRlcmlhbCk7dmFyIGNvdW50PWRhdGEuY291bnQ7dmFyIGluc3RhbmNlTWF0cml4PWRhdGEuaW5zdGFuY2VNYXRyaXg7dmFyIGluc3RhbmNlQ29sb3I9ZGF0YS5pbnN0YW5jZUNvbG9yO29iamVjdD1uZXcgSW5zdGFuY2VkTWVzaChnZW9tZXRyeSxtYXRlcmlhbCxjb3VudCk7b2JqZWN0Lmluc3RhbmNlTWF0cml4PW5ldyBJbnN0YW5jZWRCdWZmZXJBdHRyaWJ1dGUobmV3IEZsb2F0MzJBcnJheShpbnN0YW5jZU1hdHJpeC5hcnJheSksMTYpO2lmKGluc3RhbmNlQ29sb3IhPT11bmRlZmluZWQpb2JqZWN0Lmluc3RhbmNlQ29sb3I9bmV3IEluc3RhbmNlZEJ1ZmZlckF0dHJpYnV0ZShuZXcgRmxvYXQzMkFycmF5KGluc3RhbmNlQ29sb3IuYXJyYXkpLGluc3RhbmNlQ29sb3IuaXRlbVNpemUpO2JyZWFrO2Nhc2UnTE9EJzpvYmplY3Q9bmV3IExPRCgpO2JyZWFrO2Nhc2UnTGluZSc6b2JqZWN0PW5ldyBMaW5lKGdldEdlb21ldHJ5KGRhdGEuZ2VvbWV0cnkpLGdldE1hdGVyaWFsKGRhdGEubWF0ZXJpYWwpKTticmVhaztjYXNlJ0xpbmVMb29wJzpvYmplY3Q9bmV3IExpbmVMb29wKGdldEdlb21ldHJ5KGRhdGEuZ2VvbWV0cnkpLGdldE1hdGVyaWFsKGRhdGEubWF0ZXJpYWwpKTticmVhaztjYXNlJ0xpbmVTZWdtZW50cyc6b2JqZWN0PW5ldyBMaW5lU2VnbWVudHMoZ2V0R2VvbWV0cnkoZGF0YS5nZW9tZXRyeSksZ2V0TWF0ZXJpYWwoZGF0YS5tYXRlcmlhbCkpO2JyZWFrO2Nhc2UnUG9pbnRDbG91ZCc6Y2FzZSdQb2ludHMnOm9iamVjdD1uZXcgUG9pbnRzKGdldEdlb21ldHJ5KGRhdGEuZ2VvbWV0cnkpLGdldE1hdGVyaWFsKGRhdGEubWF0ZXJpYWwpKTticmVhaztjYXNlJ1Nwcml0ZSc6b2JqZWN0PW5ldyBTcHJpdGUoZ2V0TWF0ZXJpYWwoZGF0YS5tYXRlcmlhbCkpO2JyZWFrO2Nhc2UnR3JvdXAnOm9iamVjdD1uZXcgR3JvdXAoKTticmVhaztjYXNlJ0JvbmUnOm9iamVjdD1uZXcgQm9uZSgpO2JyZWFrO2RlZmF1bHQ6b2JqZWN0PW5ldyBPYmplY3QzRCgpO31vYmplY3QudXVpZD1kYXRhLnV1aWQ7aWYoZGF0YS5uYW1lIT09dW5kZWZpbmVkKW9iamVjdC5uYW1lPWRhdGEubmFtZTtpZihkYXRhLm1hdHJpeCE9PXVuZGVmaW5lZCl7b2JqZWN0Lm1hdHJpeC5mcm9tQXJyYXkoZGF0YS5tYXRyaXgpO2lmKGRhdGEubWF0cml4QXV0b1VwZGF0ZSE9PXVuZGVmaW5lZClvYmplY3QubWF0cml4QXV0b1VwZGF0ZT1kYXRhLm1hdHJpeEF1dG9VcGRhdGU7aWYob2JqZWN0Lm1hdHJpeEF1dG9VcGRhdGUpb2JqZWN0Lm1hdHJpeC5kZWNvbXBvc2Uob2JqZWN0LnBvc2l0aW9uLG9iamVjdC5xdWF0ZXJuaW9uLG9iamVjdC5zY2FsZSk7fWVsc2V7aWYoZGF0YS5wb3NpdGlvbiE9PXVuZGVmaW5lZClvYmplY3QucG9zaXRpb24uZnJvbUFycmF5KGRhdGEucG9zaXRpb24pO2lmKGRhdGEucm90YXRpb24hPT11bmRlZmluZWQpb2JqZWN0LnJvdGF0aW9uLmZyb21BcnJheShkYXRhLnJvdGF0aW9uKTtpZihkYXRhLnF1YXRlcm5pb24hPT11bmRlZmluZWQpb2JqZWN0LnF1YXRlcm5pb24uZnJvbUFycmF5KGRhdGEucXVhdGVybmlvbik7aWYoZGF0YS5zY2FsZSE9PXVuZGVmaW5lZClvYmplY3Quc2NhbGUuZnJvbUFycmF5KGRhdGEuc2NhbGUpO31pZihkYXRhLmNhc3RTaGFkb3chPT11bmRlZmluZWQpb2JqZWN0LmNhc3RTaGFkb3c9ZGF0YS5jYXN0U2hhZG93O2lmKGRhdGEucmVjZWl2ZVNoYWRvdyE9PXVuZGVmaW5lZClvYmplY3QucmVjZWl2ZVNoYWRvdz1kYXRhLnJlY2VpdmVTaGFkb3c7aWYoZGF0YS5zaGFkb3cpe2lmKGRhdGEuc2hhZG93LmJpYXMhPT11bmRlZmluZWQpb2JqZWN0LnNoYWRvdy5iaWFzPWRhdGEuc2hhZG93LmJpYXM7aWYoZGF0YS5zaGFkb3cubm9ybWFsQmlhcyE9PXVuZGVmaW5lZClvYmplY3Quc2hhZG93Lm5vcm1hbEJpYXM9ZGF0YS5zaGFkb3cubm9ybWFsQmlhcztpZihkYXRhLnNoYWRvdy5yYWRpdXMhPT11bmRlZmluZWQpb2JqZWN0LnNoYWRvdy5yYWRpdXM9ZGF0YS5zaGFkb3cucmFkaXVzO2lmKGRhdGEuc2hhZG93Lm1hcFNpemUhPT11bmRlZmluZWQpb2JqZWN0LnNoYWRvdy5tYXBTaXplLmZyb21BcnJheShkYXRhLnNoYWRvdy5tYXBTaXplKTtpZihkYXRhLnNoYWRvdy5jYW1lcmEhPT11bmRlZmluZWQpb2JqZWN0LnNoYWRvdy5jYW1lcmE9dGhpcy5wYXJzZU9iamVjdChkYXRhLnNoYWRvdy5jYW1lcmEpO31pZihkYXRhLnZpc2libGUhPT11bmRlZmluZWQpb2JqZWN0LnZpc2libGU9ZGF0YS52aXNpYmxlO2lmKGRhdGEuZnJ1c3R1bUN1bGxlZCE9PXVuZGVmaW5lZClvYmplY3QuZnJ1c3R1bUN1bGxlZD1kYXRhLmZydXN0dW1DdWxsZWQ7aWYoZGF0YS5yZW5kZXJPcmRlciE9PXVuZGVmaW5lZClvYmplY3QucmVuZGVyT3JkZXI9ZGF0YS5yZW5kZXJPcmRlcjtpZihkYXRhLnVzZXJEYXRhIT09dW5kZWZpbmVkKW9iamVjdC51c2VyRGF0YT1kYXRhLnVzZXJEYXRhO2lmKGRhdGEubGF5ZXJzIT09dW5kZWZpbmVkKW9iamVjdC5sYXllcnMubWFzaz1kYXRhLmxheWVycztpZihkYXRhLmNoaWxkcmVuIT09dW5kZWZpbmVkKXt2YXIgY2hpbGRyZW49ZGF0YS5jaGlsZHJlbjtmb3IodmFyIF9pMzAyPTA7X2kzMDI8Y2hpbGRyZW4ubGVuZ3RoO19pMzAyKyspe29iamVjdC5hZGQodGhpcy5wYXJzZU9iamVjdChjaGlsZHJlbltfaTMwMl0sZ2VvbWV0cmllcyxtYXRlcmlhbHMsdGV4dHVyZXMsYW5pbWF0aW9ucykpO319aWYoZGF0YS5hbmltYXRpb25zIT09dW5kZWZpbmVkKXt2YXIgb2JqZWN0QW5pbWF0aW9ucz1kYXRhLmFuaW1hdGlvbnM7Zm9yKHZhciBfaTMwMz0wO19pMzAzPG9iamVjdEFuaW1hdGlvbnMubGVuZ3RoO19pMzAzKyspe3ZhciB1dWlkPW9iamVjdEFuaW1hdGlvbnNbX2kzMDNdO29iamVjdC5hbmltYXRpb25zLnB1c2goYW5pbWF0aW9uc1t1dWlkXSk7fX1pZihkYXRhLnR5cGU9PT0nTE9EJyl7aWYoZGF0YS5hdXRvVXBkYXRlIT09dW5kZWZpbmVkKW9iamVjdC5hdXRvVXBkYXRlPWRhdGEuYXV0b1VwZGF0ZTt2YXIgbGV2ZWxzPWRhdGEubGV2ZWxzO2Zvcih2YXIgbD0wO2w8bGV2ZWxzLmxlbmd0aDtsKyspe3ZhciBsZXZlbD1sZXZlbHNbbF07dmFyIGNoaWxkPW9iamVjdC5nZXRPYmplY3RCeVByb3BlcnR5KCd1dWlkJyxsZXZlbC5vYmplY3QpO2lmKGNoaWxkIT09dW5kZWZpbmVkKXtvYmplY3QuYWRkTGV2ZWwoY2hpbGQsbGV2ZWwuZGlzdGFuY2UpO319fXJldHVybiBvYmplY3Q7fX0se2tleToiYmluZFNrZWxldG9ucyIsdmFsdWU6ZnVuY3Rpb24gYmluZFNrZWxldG9ucyhvYmplY3Qsc2tlbGV0b25zKXtpZihPYmplY3Qua2V5cyhza2VsZXRvbnMpLmxlbmd0aD09PTApcmV0dXJuO29iamVjdC50cmF2ZXJzZShmdW5jdGlvbihjaGlsZCl7aWYoY2hpbGQuaXNTa2lubmVkTWVzaD09PXRydWUmJmNoaWxkLnNrZWxldG9uIT09dW5kZWZpbmVkKXt2YXIgc2tlbGV0b249c2tlbGV0b25zW2NoaWxkLnNrZWxldG9uXTtpZihza2VsZXRvbj09PXVuZGVmaW5lZCl7Y29uc29sZS53YXJuKCdUSFJFRS5PYmplY3RMb2FkZXI6IE5vIHNrZWxldG9uIGZvdW5kIHdpdGggVVVJRDonLGNoaWxkLnNrZWxldG9uKTt9ZWxzZXtjaGlsZC5iaW5kKHNrZWxldG9uLGNoaWxkLmJpbmRNYXRyaXgpO319fSk7fS8qIERFUFJFQ0FURUQgKi99LHtrZXk6InNldFRleHR1cmVQYXRoIix2YWx1ZTpmdW5jdGlvbiBzZXRUZXh0dXJlUGF0aCh2YWx1ZSl7Y29uc29sZS53YXJuKCdUSFJFRS5PYmplY3RMb2FkZXI6IC5zZXRUZXh0dXJlUGF0aCgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLnNldFJlc291cmNlUGF0aCgpLicpO3JldHVybiB0aGlzLnNldFJlc291cmNlUGF0aCh2YWx1ZSk7fX1dKTtyZXR1cm4gT2JqZWN0TG9hZGVyO30oTG9hZGVyKTt2YXIgVEVYVFVSRV9NQVBQSU5HPXtVVk1hcHBpbmc6VVZNYXBwaW5nLEN1YmVSZWZsZWN0aW9uTWFwcGluZzpDdWJlUmVmbGVjdGlvbk1hcHBpbmcsQ3ViZVJlZnJhY3Rpb25NYXBwaW5nOkN1YmVSZWZyYWN0aW9uTWFwcGluZyxFcXVpcmVjdGFuZ3VsYXJSZWZsZWN0aW9uTWFwcGluZzpFcXVpcmVjdGFuZ3VsYXJSZWZsZWN0aW9uTWFwcGluZyxFcXVpcmVjdGFuZ3VsYXJSZWZyYWN0aW9uTWFwcGluZzpFcXVpcmVjdGFuZ3VsYXJSZWZyYWN0aW9uTWFwcGluZyxDdWJlVVZSZWZsZWN0aW9uTWFwcGluZzpDdWJlVVZSZWZsZWN0aW9uTWFwcGluZyxDdWJlVVZSZWZyYWN0aW9uTWFwcGluZzpDdWJlVVZSZWZyYWN0aW9uTWFwcGluZ307dmFyIFRFWFRVUkVfV1JBUFBJTkc9e1JlcGVhdFdyYXBwaW5nOlJlcGVhdFdyYXBwaW5nLENsYW1wVG9FZGdlV3JhcHBpbmc6Q2xhbXBUb0VkZ2VXcmFwcGluZyxNaXJyb3JlZFJlcGVhdFdyYXBwaW5nOk1pcnJvcmVkUmVwZWF0V3JhcHBpbmd9O3ZhciBURVhUVVJFX0ZJTFRFUj17TmVhcmVzdEZpbHRlcjpOZWFyZXN0RmlsdGVyLE5lYXJlc3RNaXBtYXBOZWFyZXN0RmlsdGVyOk5lYXJlc3RNaXBtYXBOZWFyZXN0RmlsdGVyLE5lYXJlc3RNaXBtYXBMaW5lYXJGaWx0ZXI6TmVhcmVzdE1pcG1hcExpbmVhckZpbHRlcixMaW5lYXJGaWx0ZXI6TGluZWFyRmlsdGVyLExpbmVhck1pcG1hcE5lYXJlc3RGaWx0ZXI6TGluZWFyTWlwbWFwTmVhcmVzdEZpbHRlcixMaW5lYXJNaXBtYXBMaW5lYXJGaWx0ZXI6TGluZWFyTWlwbWFwTGluZWFyRmlsdGVyfTt2YXIgSW1hZ2VCaXRtYXBMb2FkZXI9LyojX19QVVJFX18qL2Z1bmN0aW9uKF9Mb2FkZXIxMSl7X2luaGVyaXRzKEltYWdlQml0bWFwTG9hZGVyLF9Mb2FkZXIxMSk7dmFyIF9zdXBlcjEzMD1fY3JlYXRlU3VwZXIoSW1hZ2VCaXRtYXBMb2FkZXIpO2Z1bmN0aW9uIEltYWdlQml0bWFwTG9hZGVyKG1hbmFnZXIpe3ZhciBfdGhpczEwMjtfY2xhc3NDYWxsQ2hlY2sodGhpcyxJbWFnZUJpdG1hcExvYWRlcik7X3RoaXMxMDI9X3N1cGVyMTMwLmNhbGwodGhpcyxtYW5hZ2VyKTtpZih0eXBlb2YgY3JlYXRlSW1hZ2VCaXRtYXA9PT0ndW5kZWZpbmVkJyl7Y29uc29sZS53YXJuKCdUSFJFRS5JbWFnZUJpdG1hcExvYWRlcjogY3JlYXRlSW1hZ2VCaXRtYXAoKSBub3Qgc3VwcG9ydGVkLicpO31pZih0eXBlb2YgZmV0Y2g9PT0ndW5kZWZpbmVkJyl7Y29uc29sZS53YXJuKCdUSFJFRS5JbWFnZUJpdG1hcExvYWRlcjogZmV0Y2goKSBub3Qgc3VwcG9ydGVkLicpO31fdGhpczEwMi5vcHRpb25zPXtwcmVtdWx0aXBseUFscGhhOidub25lJ307cmV0dXJuIF90aGlzMTAyO31fY3JlYXRlQ2xhc3MoSW1hZ2VCaXRtYXBMb2FkZXIsW3trZXk6InNldE9wdGlvbnMiLHZhbHVlOmZ1bmN0aW9uIHNldE9wdGlvbnMob3B0aW9ucyl7dGhpcy5vcHRpb25zPW9wdGlvbnM7cmV0dXJuIHRoaXM7fX0se2tleToibG9hZCIsdmFsdWU6ZnVuY3Rpb24gbG9hZCh1cmwsb25Mb2FkLG9uUHJvZ3Jlc3Msb25FcnJvcil7aWYodXJsPT09dW5kZWZpbmVkKXVybD0nJztpZih0aGlzLnBhdGghPT11bmRlZmluZWQpdXJsPXRoaXMucGF0aCt1cmw7dXJsPXRoaXMubWFuYWdlci5yZXNvbHZlVVJMKHVybCk7dmFyIHNjb3BlPXRoaXM7dmFyIGNhY2hlZD1DYWNoZS5nZXQodXJsKTtpZihjYWNoZWQhPT11bmRlZmluZWQpe3Njb3BlLm1hbmFnZXIuaXRlbVN0YXJ0KHVybCk7c2V0VGltZW91dChmdW5jdGlvbigpe2lmKG9uTG9hZClvbkxvYWQoY2FjaGVkKTtzY29wZS5tYW5hZ2VyLml0ZW1FbmQodXJsKTt9LDApO3JldHVybiBjYWNoZWQ7fXZhciBmZXRjaE9wdGlvbnM9e307ZmV0Y2hPcHRpb25zLmNyZWRlbnRpYWxzPXRoaXMuY3Jvc3NPcmlnaW49PT0nYW5vbnltb3VzJz8nc2FtZS1vcmlnaW4nOidpbmNsdWRlJztmZXRjaE9wdGlvbnMuaGVhZGVycz10aGlzLnJlcXVlc3RIZWFkZXI7ZmV0Y2godXJsLGZldGNoT3B0aW9ucykudGhlbihmdW5jdGlvbihyZXMpe3JldHVybiByZXMuYmxvYigpO30pLnRoZW4oZnVuY3Rpb24oYmxvYil7cmV0dXJuIGNyZWF0ZUltYWdlQml0bWFwKGJsb2IsT2JqZWN0LmFzc2lnbihzY29wZS5vcHRpb25zLHtjb2xvclNwYWNlQ29udmVyc2lvbjonbm9uZSd9KSk7fSkudGhlbihmdW5jdGlvbihpbWFnZUJpdG1hcCl7Q2FjaGUuYWRkKHVybCxpbWFnZUJpdG1hcCk7aWYob25Mb2FkKW9uTG9hZChpbWFnZUJpdG1hcCk7c2NvcGUubWFuYWdlci5pdGVtRW5kKHVybCk7fSkuY2F0Y2goZnVuY3Rpb24oZSl7aWYob25FcnJvcilvbkVycm9yKGUpO3Njb3BlLm1hbmFnZXIuaXRlbUVycm9yKHVybCk7c2NvcGUubWFuYWdlci5pdGVtRW5kKHVybCk7fSk7c2NvcGUubWFuYWdlci5pdGVtU3RhcnQodXJsKTt9fV0pO3JldHVybiBJbWFnZUJpdG1hcExvYWRlcjt9KExvYWRlcik7SW1hZ2VCaXRtYXBMb2FkZXIucHJvdG90eXBlLmlzSW1hZ2VCaXRtYXBMb2FkZXI9dHJ1ZTt2YXIgX2NvbnRleHQ7dmFyIEF1ZGlvQ29udGV4dD17Z2V0Q29udGV4dDpmdW5jdGlvbiBnZXRDb250ZXh0KCl7aWYoX2NvbnRleHQ9PT11bmRlZmluZWQpe19jb250ZXh0PW5ldyh3aW5kb3cuQXVkaW9Db250ZXh0fHx3aW5kb3cud2Via2l0QXVkaW9Db250ZXh0KSgpO31yZXR1cm4gX2NvbnRleHQ7fSxzZXRDb250ZXh0OmZ1bmN0aW9uIHNldENvbnRleHQodmFsdWUpe19jb250ZXh0PXZhbHVlO319O3ZhciBBdWRpb0xvYWRlcj0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX0xvYWRlcjEyKXtfaW5oZXJpdHMoQXVkaW9Mb2FkZXIsX0xvYWRlcjEyKTt2YXIgX3N1cGVyMTMxPV9jcmVhdGVTdXBlcihBdWRpb0xvYWRlcik7ZnVuY3Rpb24gQXVkaW9Mb2FkZXIobWFuYWdlcil7X2NsYXNzQ2FsbENoZWNrKHRoaXMsQXVkaW9Mb2FkZXIpO3JldHVybiBfc3VwZXIxMzEuY2FsbCh0aGlzLG1hbmFnZXIpO31fY3JlYXRlQ2xhc3MoQXVkaW9Mb2FkZXIsW3trZXk6ImxvYWQiLHZhbHVlOmZ1bmN0aW9uIGxvYWQodXJsLG9uTG9hZCxvblByb2dyZXNzLG9uRXJyb3Ipe3ZhciBzY29wZT10aGlzO3ZhciBsb2FkZXI9bmV3IEZpbGVMb2FkZXIodGhpcy5tYW5hZ2VyKTtsb2FkZXIuc2V0UmVzcG9uc2VUeXBlKCdhcnJheWJ1ZmZlcicpO2xvYWRlci5zZXRQYXRoKHRoaXMucGF0aCk7bG9hZGVyLnNldFJlcXVlc3RIZWFkZXIodGhpcy5yZXF1ZXN0SGVhZGVyKTtsb2FkZXIuc2V0V2l0aENyZWRlbnRpYWxzKHRoaXMud2l0aENyZWRlbnRpYWxzKTtsb2FkZXIubG9hZCh1cmwsZnVuY3Rpb24oYnVmZmVyKXt0cnl7Ly8gQ3JlYXRlIGEgY29weSBvZiB0aGUgYnVmZmVyLiBUaGUgYGRlY29kZUF1ZGlvRGF0YWAgbWV0aG9kCi8vIGRldGFjaGVzIHRoZSBidWZmZXIgd2hlbiBjb21wbGV0ZSwgcHJldmVudGluZyByZXVzZS4KdmFyIGJ1ZmZlckNvcHk9YnVmZmVyLnNsaWNlKDApO3ZhciBjb250ZXh0PUF1ZGlvQ29udGV4dC5nZXRDb250ZXh0KCk7Y29udGV4dC5kZWNvZGVBdWRpb0RhdGEoYnVmZmVyQ29weSxmdW5jdGlvbihhdWRpb0J1ZmZlcil7b25Mb2FkKGF1ZGlvQnVmZmVyKTt9KTt9Y2F0Y2goZSl7aWYob25FcnJvcil7b25FcnJvcihlKTt9ZWxzZXtjb25zb2xlLmVycm9yKGUpO31zY29wZS5tYW5hZ2VyLml0ZW1FcnJvcih1cmwpO319LG9uUHJvZ3Jlc3Msb25FcnJvcik7fX1dKTtyZXR1cm4gQXVkaW9Mb2FkZXI7fShMb2FkZXIpO3ZhciBIZW1pc3BoZXJlTGlnaHRQcm9iZT0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX0xpZ2h0UHJvYmUpe19pbmhlcml0cyhIZW1pc3BoZXJlTGlnaHRQcm9iZSxfTGlnaHRQcm9iZSk7dmFyIF9zdXBlcjEzMj1fY3JlYXRlU3VwZXIoSGVtaXNwaGVyZUxpZ2h0UHJvYmUpO2Z1bmN0aW9uIEhlbWlzcGhlcmVMaWdodFByb2JlKHNreUNvbG9yLGdyb3VuZENvbG9yKXt2YXIgX3RoaXMxMDM7dmFyIGludGVuc2l0eT1hcmd1bWVudHMubGVuZ3RoPjImJmFyZ3VtZW50c1syXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMl06MTtfY2xhc3NDYWxsQ2hlY2sodGhpcyxIZW1pc3BoZXJlTGlnaHRQcm9iZSk7X3RoaXMxMDM9X3N1cGVyMTMyLmNhbGwodGhpcyx1bmRlZmluZWQsaW50ZW5zaXR5KTt2YXIgY29sb3IxPW5ldyBDb2xvcigpLnNldChza3lDb2xvcik7dmFyIGNvbG9yMj1uZXcgQ29sb3IoKS5zZXQoZ3JvdW5kQ29sb3IpO3ZhciBza3k9bmV3IFZlY3RvcjMoY29sb3IxLnIsY29sb3IxLmcsY29sb3IxLmIpO3ZhciBncm91bmQ9bmV3IFZlY3RvcjMoY29sb3IyLnIsY29sb3IyLmcsY29sb3IyLmIpOy8vIHdpdGhvdXQgZXh0cmEgZmFjdG9yIG9mIFBJIGluIHRoZSBzaGFkZXIsIHNob3VsZCA9IDEgLyBNYXRoLnNxcnQoIE1hdGguUEkgKTsKdmFyIGMwPU1hdGguc3FydChNYXRoLlBJKTt2YXIgYzE9YzAqTWF0aC5zcXJ0KDAuNzUpO190aGlzMTAzLnNoLmNvZWZmaWNpZW50c1swXS5jb3B5KHNreSkuYWRkKGdyb3VuZCkubXVsdGlwbHlTY2FsYXIoYzApO190aGlzMTAzLnNoLmNvZWZmaWNpZW50c1sxXS5jb3B5KHNreSkuc3ViKGdyb3VuZCkubXVsdGlwbHlTY2FsYXIoYzEpO3JldHVybiBfdGhpczEwMzt9cmV0dXJuIF9jcmVhdGVDbGFzcyhIZW1pc3BoZXJlTGlnaHRQcm9iZSk7fShMaWdodFByb2JlKTtIZW1pc3BoZXJlTGlnaHRQcm9iZS5wcm90b3R5cGUuaXNIZW1pc3BoZXJlTGlnaHRQcm9iZT10cnVlO3ZhciBBbWJpZW50TGlnaHRQcm9iZT0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX0xpZ2h0UHJvYmUyKXtfaW5oZXJpdHMoQW1iaWVudExpZ2h0UHJvYmUsX0xpZ2h0UHJvYmUyKTt2YXIgX3N1cGVyMTMzPV9jcmVhdGVTdXBlcihBbWJpZW50TGlnaHRQcm9iZSk7ZnVuY3Rpb24gQW1iaWVudExpZ2h0UHJvYmUoY29sb3Ipe3ZhciBfdGhpczEwNDt2YXIgaW50ZW5zaXR5PWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1sxXToxO19jbGFzc0NhbGxDaGVjayh0aGlzLEFtYmllbnRMaWdodFByb2JlKTtfdGhpczEwND1fc3VwZXIxMzMuY2FsbCh0aGlzLHVuZGVmaW5lZCxpbnRlbnNpdHkpO3ZhciBjb2xvcjE9bmV3IENvbG9yKCkuc2V0KGNvbG9yKTsvLyB3aXRob3V0IGV4dHJhIGZhY3RvciBvZiBQSSBpbiB0aGUgc2hhZGVyLCB3b3VsZCBiZSAyIC8gTWF0aC5zcXJ0KCBNYXRoLlBJICk7Cl90aGlzMTA0LnNoLmNvZWZmaWNpZW50c1swXS5zZXQoY29sb3IxLnIsY29sb3IxLmcsY29sb3IxLmIpLm11bHRpcGx5U2NhbGFyKDIqTWF0aC5zcXJ0KE1hdGguUEkpKTtyZXR1cm4gX3RoaXMxMDQ7fXJldHVybiBfY3JlYXRlQ2xhc3MoQW1iaWVudExpZ2h0UHJvYmUpO30oTGlnaHRQcm9iZSk7QW1iaWVudExpZ2h0UHJvYmUucHJvdG90eXBlLmlzQW1iaWVudExpZ2h0UHJvYmU9dHJ1ZTt2YXIgX2V5ZVJpZ2h0PS8qQF9fUFVSRV9fKi9uZXcgTWF0cml4NCgpO3ZhciBfZXllTGVmdD0vKkBfX1BVUkVfXyovbmV3IE1hdHJpeDQoKTt2YXIgX3Byb2plY3Rpb25NYXRyaXg9LypAX19QVVJFX18qL25ldyBNYXRyaXg0KCk7dmFyIFN0ZXJlb0NhbWVyYT0vKiNfX1BVUkVfXyovZnVuY3Rpb24oKXtmdW5jdGlvbiBTdGVyZW9DYW1lcmEoKXtfY2xhc3NDYWxsQ2hlY2sodGhpcyxTdGVyZW9DYW1lcmEpO3RoaXMudHlwZT0nU3RlcmVvQ2FtZXJhJzt0aGlzLmFzcGVjdD0xO3RoaXMuZXllU2VwPTAuMDY0O3RoaXMuY2FtZXJhTD1uZXcgUGVyc3BlY3RpdmVDYW1lcmEoKTt0aGlzLmNhbWVyYUwubGF5ZXJzLmVuYWJsZSgxKTt0aGlzLmNhbWVyYUwubWF0cml4QXV0b1VwZGF0ZT1mYWxzZTt0aGlzLmNhbWVyYVI9bmV3IFBlcnNwZWN0aXZlQ2FtZXJhKCk7dGhpcy5jYW1lcmFSLmxheWVycy5lbmFibGUoMik7dGhpcy5jYW1lcmFSLm1hdHJpeEF1dG9VcGRhdGU9ZmFsc2U7dGhpcy5fY2FjaGU9e2ZvY3VzOm51bGwsZm92Om51bGwsYXNwZWN0Om51bGwsbmVhcjpudWxsLGZhcjpudWxsLHpvb206bnVsbCxleWVTZXA6bnVsbH07fV9jcmVhdGVDbGFzcyhTdGVyZW9DYW1lcmEsW3trZXk6InVwZGF0ZSIsdmFsdWU6ZnVuY3Rpb24gdXBkYXRlKGNhbWVyYSl7dmFyIGNhY2hlPXRoaXMuX2NhY2hlO3ZhciBuZWVkc1VwZGF0ZT1jYWNoZS5mb2N1cyE9PWNhbWVyYS5mb2N1c3x8Y2FjaGUuZm92IT09Y2FtZXJhLmZvdnx8Y2FjaGUuYXNwZWN0IT09Y2FtZXJhLmFzcGVjdCp0aGlzLmFzcGVjdHx8Y2FjaGUubmVhciE9PWNhbWVyYS5uZWFyfHxjYWNoZS5mYXIhPT1jYW1lcmEuZmFyfHxjYWNoZS56b29tIT09Y2FtZXJhLnpvb218fGNhY2hlLmV5ZVNlcCE9PXRoaXMuZXllU2VwO2lmKG5lZWRzVXBkYXRlKXtjYWNoZS5mb2N1cz1jYW1lcmEuZm9jdXM7Y2FjaGUuZm92PWNhbWVyYS5mb3Y7Y2FjaGUuYXNwZWN0PWNhbWVyYS5hc3BlY3QqdGhpcy5hc3BlY3Q7Y2FjaGUubmVhcj1jYW1lcmEubmVhcjtjYWNoZS5mYXI9Y2FtZXJhLmZhcjtjYWNoZS56b29tPWNhbWVyYS56b29tO2NhY2hlLmV5ZVNlcD10aGlzLmV5ZVNlcDsvLyBPZmYtYXhpcyBzdGVyZW9zY29waWMgZWZmZWN0IGJhc2VkIG9uCi8vIGh0dHA6Ly9wYXVsYm91cmtlLm5ldC9zdGVyZW9ncmFwaGljcy9zdGVyZW9yZW5kZXIvCl9wcm9qZWN0aW9uTWF0cml4LmNvcHkoY2FtZXJhLnByb2plY3Rpb25NYXRyaXgpO3ZhciBleWVTZXBIYWxmPWNhY2hlLmV5ZVNlcC8yO3ZhciBleWVTZXBPblByb2plY3Rpb249ZXllU2VwSGFsZipjYWNoZS5uZWFyL2NhY2hlLmZvY3VzO3ZhciB5bWF4PWNhY2hlLm5lYXIqTWF0aC50YW4oREVHMlJBRCpjYWNoZS5mb3YqMC41KS9jYWNoZS56b29tO3ZhciB4bWluLHhtYXg7Ly8gdHJhbnNsYXRlIHhPZmZzZXQKX2V5ZUxlZnQuZWxlbWVudHNbMTJdPS1leWVTZXBIYWxmO19leWVSaWdodC5lbGVtZW50c1sxMl09ZXllU2VwSGFsZjsvLyBmb3IgbGVmdCBleWUKeG1pbj0teW1heCpjYWNoZS5hc3BlY3QrZXllU2VwT25Qcm9qZWN0aW9uO3htYXg9eW1heCpjYWNoZS5hc3BlY3QrZXllU2VwT25Qcm9qZWN0aW9uO19wcm9qZWN0aW9uTWF0cml4LmVsZW1lbnRzWzBdPTIqY2FjaGUubmVhci8oeG1heC14bWluKTtfcHJvamVjdGlvbk1hdHJpeC5lbGVtZW50c1s4XT0oeG1heCt4bWluKS8oeG1heC14bWluKTt0aGlzLmNhbWVyYUwucHJvamVjdGlvbk1hdHJpeC5jb3B5KF9wcm9qZWN0aW9uTWF0cml4KTsvLyBmb3IgcmlnaHQgZXllCnhtaW49LXltYXgqY2FjaGUuYXNwZWN0LWV5ZVNlcE9uUHJvamVjdGlvbjt4bWF4PXltYXgqY2FjaGUuYXNwZWN0LWV5ZVNlcE9uUHJvamVjdGlvbjtfcHJvamVjdGlvbk1hdHJpeC5lbGVtZW50c1swXT0yKmNhY2hlLm5lYXIvKHhtYXgteG1pbik7X3Byb2plY3Rpb25NYXRyaXguZWxlbWVudHNbOF09KHhtYXgreG1pbikvKHhtYXgteG1pbik7dGhpcy5jYW1lcmFSLnByb2plY3Rpb25NYXRyaXguY29weShfcHJvamVjdGlvbk1hdHJpeCk7fXRoaXMuY2FtZXJhTC5tYXRyaXhXb3JsZC5jb3B5KGNhbWVyYS5tYXRyaXhXb3JsZCkubXVsdGlwbHkoX2V5ZUxlZnQpO3RoaXMuY2FtZXJhUi5tYXRyaXhXb3JsZC5jb3B5KGNhbWVyYS5tYXRyaXhXb3JsZCkubXVsdGlwbHkoX2V5ZVJpZ2h0KTt9fV0pO3JldHVybiBTdGVyZW9DYW1lcmE7fSgpO3ZhciBDbG9jaz0vKiNfX1BVUkVfXyovZnVuY3Rpb24oKXtmdW5jdGlvbiBDbG9jaygpe3ZhciBhdXRvU3RhcnQ9YXJndW1lbnRzLmxlbmd0aD4wJiZhcmd1bWVudHNbMF0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzBdOnRydWU7X2NsYXNzQ2FsbENoZWNrKHRoaXMsQ2xvY2spO3RoaXMuYXV0b1N0YXJ0PWF1dG9TdGFydDt0aGlzLnN0YXJ0VGltZT0wO3RoaXMub2xkVGltZT0wO3RoaXMuZWxhcHNlZFRpbWU9MDt0aGlzLnJ1bm5pbmc9ZmFsc2U7fV9jcmVhdGVDbGFzcyhDbG9jayxbe2tleToic3RhcnQiLHZhbHVlOmZ1bmN0aW9uIHN0YXJ0KCl7dGhpcy5zdGFydFRpbWU9bm93KCk7dGhpcy5vbGRUaW1lPXRoaXMuc3RhcnRUaW1lO3RoaXMuZWxhcHNlZFRpbWU9MDt0aGlzLnJ1bm5pbmc9dHJ1ZTt9fSx7a2V5OiJzdG9wIix2YWx1ZTpmdW5jdGlvbiBzdG9wKCl7dGhpcy5nZXRFbGFwc2VkVGltZSgpO3RoaXMucnVubmluZz1mYWxzZTt0aGlzLmF1dG9TdGFydD1mYWxzZTt9fSx7a2V5OiJnZXRFbGFwc2VkVGltZSIsdmFsdWU6ZnVuY3Rpb24gZ2V0RWxhcHNlZFRpbWUoKXt0aGlzLmdldERlbHRhKCk7cmV0dXJuIHRoaXMuZWxhcHNlZFRpbWU7fX0se2tleToiZ2V0RGVsdGEiLHZhbHVlOmZ1bmN0aW9uIGdldERlbHRhKCl7dmFyIGRpZmY9MDtpZih0aGlzLmF1dG9TdGFydCYmIXRoaXMucnVubmluZyl7dGhpcy5zdGFydCgpO3JldHVybiAwO31pZih0aGlzLnJ1bm5pbmcpe3ZhciBuZXdUaW1lPW5vdygpO2RpZmY9KG5ld1RpbWUtdGhpcy5vbGRUaW1lKS8xMDAwO3RoaXMub2xkVGltZT1uZXdUaW1lO3RoaXMuZWxhcHNlZFRpbWUrPWRpZmY7fXJldHVybiBkaWZmO319XSk7cmV0dXJuIENsb2NrO30oKTtmdW5jdGlvbiBub3coKXtyZXR1cm4odHlwZW9mIHBlcmZvcm1hbmNlPT09J3VuZGVmaW5lZCc/RGF0ZTpwZXJmb3JtYW5jZSkubm93KCk7Ly8gc2VlICMxMDczMgp9dmFyIF9wb3NpdGlvbiQxPS8qQF9fUFVSRV9fKi9uZXcgVmVjdG9yMygpO3ZhciBfcXVhdGVybmlvbiQxPS8qQF9fUFVSRV9fKi9uZXcgUXVhdGVybmlvbigpO3ZhciBfc2NhbGUkMT0vKkBfX1BVUkVfXyovbmV3IFZlY3RvcjMoKTt2YXIgX29yaWVudGF0aW9uJDE9LypAX19QVVJFX18qL25ldyBWZWN0b3IzKCk7dmFyIEF1ZGlvTGlzdGVuZXI9LyojX19QVVJFX18qL2Z1bmN0aW9uKF9PYmplY3QzRDEyKXtfaW5oZXJpdHMoQXVkaW9MaXN0ZW5lcixfT2JqZWN0M0QxMik7dmFyIF9zdXBlcjEzND1fY3JlYXRlU3VwZXIoQXVkaW9MaXN0ZW5lcik7ZnVuY3Rpb24gQXVkaW9MaXN0ZW5lcigpe3ZhciBfdGhpczEwNTtfY2xhc3NDYWxsQ2hlY2sodGhpcyxBdWRpb0xpc3RlbmVyKTtfdGhpczEwNT1fc3VwZXIxMzQuY2FsbCh0aGlzKTtfdGhpczEwNS50eXBlPSdBdWRpb0xpc3RlbmVyJztfdGhpczEwNS5jb250ZXh0PUF1ZGlvQ29udGV4dC5nZXRDb250ZXh0KCk7X3RoaXMxMDUuZ2Fpbj1fdGhpczEwNS5jb250ZXh0LmNyZWF0ZUdhaW4oKTtfdGhpczEwNS5nYWluLmNvbm5lY3QoX3RoaXMxMDUuY29udGV4dC5kZXN0aW5hdGlvbik7X3RoaXMxMDUuZmlsdGVyPW51bGw7X3RoaXMxMDUudGltZURlbHRhPTA7Ly8gcHJpdmF0ZQpfdGhpczEwNS5fY2xvY2s9bmV3IENsb2NrKCk7cmV0dXJuIF90aGlzMTA1O31fY3JlYXRlQ2xhc3MoQXVkaW9MaXN0ZW5lcixbe2tleToiZ2V0SW5wdXQiLHZhbHVlOmZ1bmN0aW9uIGdldElucHV0KCl7cmV0dXJuIHRoaXMuZ2Fpbjt9fSx7a2V5OiJyZW1vdmVGaWx0ZXIiLHZhbHVlOmZ1bmN0aW9uIHJlbW92ZUZpbHRlcigpe2lmKHRoaXMuZmlsdGVyIT09bnVsbCl7dGhpcy5nYWluLmRpc2Nvbm5lY3QodGhpcy5maWx0ZXIpO3RoaXMuZmlsdGVyLmRpc2Nvbm5lY3QodGhpcy5jb250ZXh0LmRlc3RpbmF0aW9uKTt0aGlzLmdhaW4uY29ubmVjdCh0aGlzLmNvbnRleHQuZGVzdGluYXRpb24pO3RoaXMuZmlsdGVyPW51bGw7fXJldHVybiB0aGlzO319LHtrZXk6ImdldEZpbHRlciIsdmFsdWU6ZnVuY3Rpb24gZ2V0RmlsdGVyKCl7cmV0dXJuIHRoaXMuZmlsdGVyO319LHtrZXk6InNldEZpbHRlciIsdmFsdWU6ZnVuY3Rpb24gc2V0RmlsdGVyKHZhbHVlKXtpZih0aGlzLmZpbHRlciE9PW51bGwpe3RoaXMuZ2Fpbi5kaXNjb25uZWN0KHRoaXMuZmlsdGVyKTt0aGlzLmZpbHRlci5kaXNjb25uZWN0KHRoaXMuY29udGV4dC5kZXN0aW5hdGlvbik7fWVsc2V7dGhpcy5nYWluLmRpc2Nvbm5lY3QodGhpcy5jb250ZXh0LmRlc3RpbmF0aW9uKTt9dGhpcy5maWx0ZXI9dmFsdWU7dGhpcy5nYWluLmNvbm5lY3QodGhpcy5maWx0ZXIpO3RoaXMuZmlsdGVyLmNvbm5lY3QodGhpcy5jb250ZXh0LmRlc3RpbmF0aW9uKTtyZXR1cm4gdGhpczt9fSx7a2V5OiJnZXRNYXN0ZXJWb2x1bWUiLHZhbHVlOmZ1bmN0aW9uIGdldE1hc3RlclZvbHVtZSgpe3JldHVybiB0aGlzLmdhaW4uZ2Fpbi52YWx1ZTt9fSx7a2V5OiJzZXRNYXN0ZXJWb2x1bWUiLHZhbHVlOmZ1bmN0aW9uIHNldE1hc3RlclZvbHVtZSh2YWx1ZSl7dGhpcy5nYWluLmdhaW4uc2V0VGFyZ2V0QXRUaW1lKHZhbHVlLHRoaXMuY29udGV4dC5jdXJyZW50VGltZSwwLjAxKTtyZXR1cm4gdGhpczt9fSx7a2V5OiJ1cGRhdGVNYXRyaXhXb3JsZCIsdmFsdWU6ZnVuY3Rpb24gdXBkYXRlTWF0cml4V29ybGQoZm9yY2Upe19nZXQoX2dldFByb3RvdHlwZU9mKEF1ZGlvTGlzdGVuZXIucHJvdG90eXBlKSwidXBkYXRlTWF0cml4V29ybGQiLHRoaXMpLmNhbGwodGhpcyxmb3JjZSk7dmFyIGxpc3RlbmVyPXRoaXMuY29udGV4dC5saXN0ZW5lcjt2YXIgdXA9dGhpcy51cDt0aGlzLnRpbWVEZWx0YT10aGlzLl9jbG9jay5nZXREZWx0YSgpO3RoaXMubWF0cml4V29ybGQuZGVjb21wb3NlKF9wb3NpdGlvbiQxLF9xdWF0ZXJuaW9uJDEsX3NjYWxlJDEpO19vcmllbnRhdGlvbiQxLnNldCgwLDAsLTEpLmFwcGx5UXVhdGVybmlvbihfcXVhdGVybmlvbiQxKTtpZihsaXN0ZW5lci5wb3NpdGlvblgpey8vIGNvZGUgcGF0aCBmb3IgQ2hyb21lIChzZWUgIzE0MzkzKQp2YXIgZW5kVGltZT10aGlzLmNvbnRleHQuY3VycmVudFRpbWUrdGhpcy50aW1lRGVsdGE7bGlzdGVuZXIucG9zaXRpb25YLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKF9wb3NpdGlvbiQxLngsZW5kVGltZSk7bGlzdGVuZXIucG9zaXRpb25ZLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKF9wb3NpdGlvbiQxLnksZW5kVGltZSk7bGlzdGVuZXIucG9zaXRpb25aLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKF9wb3NpdGlvbiQxLnosZW5kVGltZSk7bGlzdGVuZXIuZm9yd2FyZFgubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUoX29yaWVudGF0aW9uJDEueCxlbmRUaW1lKTtsaXN0ZW5lci5mb3J3YXJkWS5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZShfb3JpZW50YXRpb24kMS55LGVuZFRpbWUpO2xpc3RlbmVyLmZvcndhcmRaLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKF9vcmllbnRhdGlvbiQxLnosZW5kVGltZSk7bGlzdGVuZXIudXBYLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKHVwLngsZW5kVGltZSk7bGlzdGVuZXIudXBZLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKHVwLnksZW5kVGltZSk7bGlzdGVuZXIudXBaLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKHVwLnosZW5kVGltZSk7fWVsc2V7bGlzdGVuZXIuc2V0UG9zaXRpb24oX3Bvc2l0aW9uJDEueCxfcG9zaXRpb24kMS55LF9wb3NpdGlvbiQxLnopO2xpc3RlbmVyLnNldE9yaWVudGF0aW9uKF9vcmllbnRhdGlvbiQxLngsX29yaWVudGF0aW9uJDEueSxfb3JpZW50YXRpb24kMS56LHVwLngsdXAueSx1cC56KTt9fX1dKTtyZXR1cm4gQXVkaW9MaXN0ZW5lcjt9KE9iamVjdDNEKTt2YXIgQXVkaW89LyojX19QVVJFX18qL2Z1bmN0aW9uKF9PYmplY3QzRDEzKXtfaW5oZXJpdHMoQXVkaW8sX09iamVjdDNEMTMpO3ZhciBfc3VwZXIxMzU9X2NyZWF0ZVN1cGVyKEF1ZGlvKTtmdW5jdGlvbiBBdWRpbyhsaXN0ZW5lcil7dmFyIF90aGlzMTA2O19jbGFzc0NhbGxDaGVjayh0aGlzLEF1ZGlvKTtfdGhpczEwNj1fc3VwZXIxMzUuY2FsbCh0aGlzKTtfdGhpczEwNi50eXBlPSdBdWRpbyc7X3RoaXMxMDYubGlzdGVuZXI9bGlzdGVuZXI7X3RoaXMxMDYuY29udGV4dD1saXN0ZW5lci5jb250ZXh0O190aGlzMTA2LmdhaW49X3RoaXMxMDYuY29udGV4dC5jcmVhdGVHYWluKCk7X3RoaXMxMDYuZ2Fpbi5jb25uZWN0KGxpc3RlbmVyLmdldElucHV0KCkpO190aGlzMTA2LmF1dG9wbGF5PWZhbHNlO190aGlzMTA2LmJ1ZmZlcj1udWxsO190aGlzMTA2LmRldHVuZT0wO190aGlzMTA2Lmxvb3A9ZmFsc2U7X3RoaXMxMDYubG9vcFN0YXJ0PTA7X3RoaXMxMDYubG9vcEVuZD0wO190aGlzMTA2Lm9mZnNldD0wO190aGlzMTA2LmR1cmF0aW9uPXVuZGVmaW5lZDtfdGhpczEwNi5wbGF5YmFja1JhdGU9MTtfdGhpczEwNi5pc1BsYXlpbmc9ZmFsc2U7X3RoaXMxMDYuaGFzUGxheWJhY2tDb250cm9sPXRydWU7X3RoaXMxMDYuc291cmNlPW51bGw7X3RoaXMxMDYuc291cmNlVHlwZT0nZW1wdHknO190aGlzMTA2Ll9zdGFydGVkQXQ9MDtfdGhpczEwNi5fcHJvZ3Jlc3M9MDtfdGhpczEwNi5fY29ubmVjdGVkPWZhbHNlO190aGlzMTA2LmZpbHRlcnM9W107cmV0dXJuIF90aGlzMTA2O31fY3JlYXRlQ2xhc3MoQXVkaW8sW3trZXk6ImdldE91dHB1dCIsdmFsdWU6ZnVuY3Rpb24gZ2V0T3V0cHV0KCl7cmV0dXJuIHRoaXMuZ2Fpbjt9fSx7a2V5OiJzZXROb2RlU291cmNlIix2YWx1ZTpmdW5jdGlvbiBzZXROb2RlU291cmNlKGF1ZGlvTm9kZSl7dGhpcy5oYXNQbGF5YmFja0NvbnRyb2w9ZmFsc2U7dGhpcy5zb3VyY2VUeXBlPSdhdWRpb05vZGUnO3RoaXMuc291cmNlPWF1ZGlvTm9kZTt0aGlzLmNvbm5lY3QoKTtyZXR1cm4gdGhpczt9fSx7a2V5OiJzZXRNZWRpYUVsZW1lbnRTb3VyY2UiLHZhbHVlOmZ1bmN0aW9uIHNldE1lZGlhRWxlbWVudFNvdXJjZShtZWRpYUVsZW1lbnQpe3RoaXMuaGFzUGxheWJhY2tDb250cm9sPWZhbHNlO3RoaXMuc291cmNlVHlwZT0nbWVkaWFOb2RlJzt0aGlzLnNvdXJjZT10aGlzLmNvbnRleHQuY3JlYXRlTWVkaWFFbGVtZW50U291cmNlKG1lZGlhRWxlbWVudCk7dGhpcy5jb25uZWN0KCk7cmV0dXJuIHRoaXM7fX0se2tleToic2V0TWVkaWFTdHJlYW1Tb3VyY2UiLHZhbHVlOmZ1bmN0aW9uIHNldE1lZGlhU3RyZWFtU291cmNlKG1lZGlhU3RyZWFtKXt0aGlzLmhhc1BsYXliYWNrQ29udHJvbD1mYWxzZTt0aGlzLnNvdXJjZVR5cGU9J21lZGlhU3RyZWFtTm9kZSc7dGhpcy5zb3VyY2U9dGhpcy5jb250ZXh0LmNyZWF0ZU1lZGlhU3RyZWFtU291cmNlKG1lZGlhU3RyZWFtKTt0aGlzLmNvbm5lY3QoKTtyZXR1cm4gdGhpczt9fSx7a2V5OiJzZXRCdWZmZXIiLHZhbHVlOmZ1bmN0aW9uIHNldEJ1ZmZlcihhdWRpb0J1ZmZlcil7dGhpcy5idWZmZXI9YXVkaW9CdWZmZXI7dGhpcy5zb3VyY2VUeXBlPSdidWZmZXInO2lmKHRoaXMuYXV0b3BsYXkpdGhpcy5wbGF5KCk7cmV0dXJuIHRoaXM7fX0se2tleToicGxheSIsdmFsdWU6ZnVuY3Rpb24gcGxheSgpe3ZhciBkZWxheT1hcmd1bWVudHMubGVuZ3RoPjAmJmFyZ3VtZW50c1swXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMF06MDtpZih0aGlzLmlzUGxheWluZz09PXRydWUpe2NvbnNvbGUud2FybignVEhSRUUuQXVkaW86IEF1ZGlvIGlzIGFscmVhZHkgcGxheWluZy4nKTtyZXR1cm47fWlmKHRoaXMuaGFzUGxheWJhY2tDb250cm9sPT09ZmFsc2Upe2NvbnNvbGUud2FybignVEhSRUUuQXVkaW86IHRoaXMgQXVkaW8gaGFzIG5vIHBsYXliYWNrIGNvbnRyb2wuJyk7cmV0dXJuO310aGlzLl9zdGFydGVkQXQ9dGhpcy5jb250ZXh0LmN1cnJlbnRUaW1lK2RlbGF5O3ZhciBzb3VyY2U9dGhpcy5jb250ZXh0LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpO3NvdXJjZS5idWZmZXI9dGhpcy5idWZmZXI7c291cmNlLmxvb3A9dGhpcy5sb29wO3NvdXJjZS5sb29wU3RhcnQ9dGhpcy5sb29wU3RhcnQ7c291cmNlLmxvb3BFbmQ9dGhpcy5sb29wRW5kO3NvdXJjZS5vbmVuZGVkPXRoaXMub25FbmRlZC5iaW5kKHRoaXMpO3NvdXJjZS5zdGFydCh0aGlzLl9zdGFydGVkQXQsdGhpcy5fcHJvZ3Jlc3MrdGhpcy5vZmZzZXQsdGhpcy5kdXJhdGlvbik7dGhpcy5pc1BsYXlpbmc9dHJ1ZTt0aGlzLnNvdXJjZT1zb3VyY2U7dGhpcy5zZXREZXR1bmUodGhpcy5kZXR1bmUpO3RoaXMuc2V0UGxheWJhY2tSYXRlKHRoaXMucGxheWJhY2tSYXRlKTtyZXR1cm4gdGhpcy5jb25uZWN0KCk7fX0se2tleToicGF1c2UiLHZhbHVlOmZ1bmN0aW9uIHBhdXNlKCl7aWYodGhpcy5oYXNQbGF5YmFja0NvbnRyb2w9PT1mYWxzZSl7Y29uc29sZS53YXJuKCdUSFJFRS5BdWRpbzogdGhpcyBBdWRpbyBoYXMgbm8gcGxheWJhY2sgY29udHJvbC4nKTtyZXR1cm47fWlmKHRoaXMuaXNQbGF5aW5nPT09dHJ1ZSl7Ly8gdXBkYXRlIGN1cnJlbnQgcHJvZ3Jlc3MKdGhpcy5fcHJvZ3Jlc3MrPU1hdGgubWF4KHRoaXMuY29udGV4dC5jdXJyZW50VGltZS10aGlzLl9zdGFydGVkQXQsMCkqdGhpcy5wbGF5YmFja1JhdGU7aWYodGhpcy5sb29wPT09dHJ1ZSl7Ly8gZW5zdXJlIF9wcm9ncmVzcyBkb2VzIG5vdCBleGNlZWQgZHVyYXRpb24gd2l0aCBsb29wZWQgYXVkaW9zCnRoaXMuX3Byb2dyZXNzPXRoaXMuX3Byb2dyZXNzJSh0aGlzLmR1cmF0aW9ufHx0aGlzLmJ1ZmZlci5kdXJhdGlvbik7fXRoaXMuc291cmNlLnN0b3AoKTt0aGlzLnNvdXJjZS5vbmVuZGVkPW51bGw7dGhpcy5pc1BsYXlpbmc9ZmFsc2U7fXJldHVybiB0aGlzO319LHtrZXk6InN0b3AiLHZhbHVlOmZ1bmN0aW9uIHN0b3AoKXtpZih0aGlzLmhhc1BsYXliYWNrQ29udHJvbD09PWZhbHNlKXtjb25zb2xlLndhcm4oJ1RIUkVFLkF1ZGlvOiB0aGlzIEF1ZGlvIGhhcyBubyBwbGF5YmFjayBjb250cm9sLicpO3JldHVybjt9dGhpcy5fcHJvZ3Jlc3M9MDt0aGlzLnNvdXJjZS5zdG9wKCk7dGhpcy5zb3VyY2Uub25lbmRlZD1udWxsO3RoaXMuaXNQbGF5aW5nPWZhbHNlO3JldHVybiB0aGlzO319LHtrZXk6ImNvbm5lY3QiLHZhbHVlOmZ1bmN0aW9uIGNvbm5lY3QoKXtpZih0aGlzLmZpbHRlcnMubGVuZ3RoPjApe3RoaXMuc291cmNlLmNvbm5lY3QodGhpcy5maWx0ZXJzWzBdKTtmb3IodmFyIF9pMzA0PTEsbD10aGlzLmZpbHRlcnMubGVuZ3RoO19pMzA0PGw7X2kzMDQrKyl7dGhpcy5maWx0ZXJzW19pMzA0LTFdLmNvbm5lY3QodGhpcy5maWx0ZXJzW19pMzA0XSk7fXRoaXMuZmlsdGVyc1t0aGlzLmZpbHRlcnMubGVuZ3RoLTFdLmNvbm5lY3QodGhpcy5nZXRPdXRwdXQoKSk7fWVsc2V7dGhpcy5zb3VyY2UuY29ubmVjdCh0aGlzLmdldE91dHB1dCgpKTt9dGhpcy5fY29ubmVjdGVkPXRydWU7cmV0dXJuIHRoaXM7fX0se2tleToiZGlzY29ubmVjdCIsdmFsdWU6ZnVuY3Rpb24gZGlzY29ubmVjdCgpe2lmKHRoaXMuZmlsdGVycy5sZW5ndGg+MCl7dGhpcy5zb3VyY2UuZGlzY29ubmVjdCh0aGlzLmZpbHRlcnNbMF0pO2Zvcih2YXIgX2kzMDU9MSxsPXRoaXMuZmlsdGVycy5sZW5ndGg7X2kzMDU8bDtfaTMwNSsrKXt0aGlzLmZpbHRlcnNbX2kzMDUtMV0uZGlzY29ubmVjdCh0aGlzLmZpbHRlcnNbX2kzMDVdKTt9dGhpcy5maWx0ZXJzW3RoaXMuZmlsdGVycy5sZW5ndGgtMV0uZGlzY29ubmVjdCh0aGlzLmdldE91dHB1dCgpKTt9ZWxzZXt0aGlzLnNvdXJjZS5kaXNjb25uZWN0KHRoaXMuZ2V0T3V0cHV0KCkpO310aGlzLl9jb25uZWN0ZWQ9ZmFsc2U7cmV0dXJuIHRoaXM7fX0se2tleToiZ2V0RmlsdGVycyIsdmFsdWU6ZnVuY3Rpb24gZ2V0RmlsdGVycygpe3JldHVybiB0aGlzLmZpbHRlcnM7fX0se2tleToic2V0RmlsdGVycyIsdmFsdWU6ZnVuY3Rpb24gc2V0RmlsdGVycyh2YWx1ZSl7aWYoIXZhbHVlKXZhbHVlPVtdO2lmKHRoaXMuX2Nvbm5lY3RlZD09PXRydWUpe3RoaXMuZGlzY29ubmVjdCgpO3RoaXMuZmlsdGVycz12YWx1ZS5zbGljZSgpO3RoaXMuY29ubmVjdCgpO31lbHNle3RoaXMuZmlsdGVycz12YWx1ZS5zbGljZSgpO31yZXR1cm4gdGhpczt9fSx7a2V5OiJzZXREZXR1bmUiLHZhbHVlOmZ1bmN0aW9uIHNldERldHVuZSh2YWx1ZSl7dGhpcy5kZXR1bmU9dmFsdWU7aWYodGhpcy5zb3VyY2UuZGV0dW5lPT09dW5kZWZpbmVkKXJldHVybjsvLyBvbmx5IHNldCBkZXR1bmUgd2hlbiBhdmFpbGFibGUKaWYodGhpcy5pc1BsYXlpbmc9PT10cnVlKXt0aGlzLnNvdXJjZS5kZXR1bmUuc2V0VGFyZ2V0QXRUaW1lKHRoaXMuZGV0dW5lLHRoaXMuY29udGV4dC5jdXJyZW50VGltZSwwLjAxKTt9cmV0dXJuIHRoaXM7fX0se2tleToiZ2V0RGV0dW5lIix2YWx1ZTpmdW5jdGlvbiBnZXREZXR1bmUoKXtyZXR1cm4gdGhpcy5kZXR1bmU7fX0se2tleToiZ2V0RmlsdGVyIix2YWx1ZTpmdW5jdGlvbiBnZXRGaWx0ZXIoKXtyZXR1cm4gdGhpcy5nZXRGaWx0ZXJzKClbMF07fX0se2tleToic2V0RmlsdGVyIix2YWx1ZTpmdW5jdGlvbiBzZXRGaWx0ZXIoZmlsdGVyKXtyZXR1cm4gdGhpcy5zZXRGaWx0ZXJzKGZpbHRlcj9bZmlsdGVyXTpbXSk7fX0se2tleToic2V0UGxheWJhY2tSYXRlIix2YWx1ZTpmdW5jdGlvbiBzZXRQbGF5YmFja1JhdGUodmFsdWUpe2lmKHRoaXMuaGFzUGxheWJhY2tDb250cm9sPT09ZmFsc2Upe2NvbnNvbGUud2FybignVEhSRUUuQXVkaW86IHRoaXMgQXVkaW8gaGFzIG5vIHBsYXliYWNrIGNvbnRyb2wuJyk7cmV0dXJuO310aGlzLnBsYXliYWNrUmF0ZT12YWx1ZTtpZih0aGlzLmlzUGxheWluZz09PXRydWUpe3RoaXMuc291cmNlLnBsYXliYWNrUmF0ZS5zZXRUYXJnZXRBdFRpbWUodGhpcy5wbGF5YmFja1JhdGUsdGhpcy5jb250ZXh0LmN1cnJlbnRUaW1lLDAuMDEpO31yZXR1cm4gdGhpczt9fSx7a2V5OiJnZXRQbGF5YmFja1JhdGUiLHZhbHVlOmZ1bmN0aW9uIGdldFBsYXliYWNrUmF0ZSgpe3JldHVybiB0aGlzLnBsYXliYWNrUmF0ZTt9fSx7a2V5OiJvbkVuZGVkIix2YWx1ZTpmdW5jdGlvbiBvbkVuZGVkKCl7dGhpcy5pc1BsYXlpbmc9ZmFsc2U7fX0se2tleToiZ2V0TG9vcCIsdmFsdWU6ZnVuY3Rpb24gZ2V0TG9vcCgpe2lmKHRoaXMuaGFzUGxheWJhY2tDb250cm9sPT09ZmFsc2Upe2NvbnNvbGUud2FybignVEhSRUUuQXVkaW86IHRoaXMgQXVkaW8gaGFzIG5vIHBsYXliYWNrIGNvbnRyb2wuJyk7cmV0dXJuIGZhbHNlO31yZXR1cm4gdGhpcy5sb29wO319LHtrZXk6InNldExvb3AiLHZhbHVlOmZ1bmN0aW9uIHNldExvb3AodmFsdWUpe2lmKHRoaXMuaGFzUGxheWJhY2tDb250cm9sPT09ZmFsc2Upe2NvbnNvbGUud2FybignVEhSRUUuQXVkaW86IHRoaXMgQXVkaW8gaGFzIG5vIHBsYXliYWNrIGNvbnRyb2wuJyk7cmV0dXJuO310aGlzLmxvb3A9dmFsdWU7aWYodGhpcy5pc1BsYXlpbmc9PT10cnVlKXt0aGlzLnNvdXJjZS5sb29wPXRoaXMubG9vcDt9cmV0dXJuIHRoaXM7fX0se2tleToic2V0TG9vcFN0YXJ0Iix2YWx1ZTpmdW5jdGlvbiBzZXRMb29wU3RhcnQodmFsdWUpe3RoaXMubG9vcFN0YXJ0PXZhbHVlO3JldHVybiB0aGlzO319LHtrZXk6InNldExvb3BFbmQiLHZhbHVlOmZ1bmN0aW9uIHNldExvb3BFbmQodmFsdWUpe3RoaXMubG9vcEVuZD12YWx1ZTtyZXR1cm4gdGhpczt9fSx7a2V5OiJnZXRWb2x1bWUiLHZhbHVlOmZ1bmN0aW9uIGdldFZvbHVtZSgpe3JldHVybiB0aGlzLmdhaW4uZ2Fpbi52YWx1ZTt9fSx7a2V5OiJzZXRWb2x1bWUiLHZhbHVlOmZ1bmN0aW9uIHNldFZvbHVtZSh2YWx1ZSl7dGhpcy5nYWluLmdhaW4uc2V0VGFyZ2V0QXRUaW1lKHZhbHVlLHRoaXMuY29udGV4dC5jdXJyZW50VGltZSwwLjAxKTtyZXR1cm4gdGhpczt9fV0pO3JldHVybiBBdWRpbzt9KE9iamVjdDNEKTt2YXIgX3Bvc2l0aW9uPS8qQF9fUFVSRV9fKi9uZXcgVmVjdG9yMygpO3ZhciBfcXVhdGVybmlvbj0vKkBfX1BVUkVfXyovbmV3IFF1YXRlcm5pb24oKTt2YXIgX3NjYWxlPS8qQF9fUFVSRV9fKi9uZXcgVmVjdG9yMygpO3ZhciBfb3JpZW50YXRpb249LypAX19QVVJFX18qL25ldyBWZWN0b3IzKCk7dmFyIFBvc2l0aW9uYWxBdWRpbz0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX0F1ZGlvKXtfaW5oZXJpdHMoUG9zaXRpb25hbEF1ZGlvLF9BdWRpbyk7dmFyIF9zdXBlcjEzNj1fY3JlYXRlU3VwZXIoUG9zaXRpb25hbEF1ZGlvKTtmdW5jdGlvbiBQb3NpdGlvbmFsQXVkaW8obGlzdGVuZXIpe3ZhciBfdGhpczEwNztfY2xhc3NDYWxsQ2hlY2sodGhpcyxQb3NpdGlvbmFsQXVkaW8pO190aGlzMTA3PV9zdXBlcjEzNi5jYWxsKHRoaXMsbGlzdGVuZXIpO190aGlzMTA3LnBhbm5lcj1fdGhpczEwNy5jb250ZXh0LmNyZWF0ZVBhbm5lcigpO190aGlzMTA3LnBhbm5lci5wYW5uaW5nTW9kZWw9J0hSVEYnO190aGlzMTA3LnBhbm5lci5jb25uZWN0KF90aGlzMTA3LmdhaW4pO3JldHVybiBfdGhpczEwNzt9X2NyZWF0ZUNsYXNzKFBvc2l0aW9uYWxBdWRpbyxbe2tleToiZ2V0T3V0cHV0Iix2YWx1ZTpmdW5jdGlvbiBnZXRPdXRwdXQoKXtyZXR1cm4gdGhpcy5wYW5uZXI7fX0se2tleToiZ2V0UmVmRGlzdGFuY2UiLHZhbHVlOmZ1bmN0aW9uIGdldFJlZkRpc3RhbmNlKCl7cmV0dXJuIHRoaXMucGFubmVyLnJlZkRpc3RhbmNlO319LHtrZXk6InNldFJlZkRpc3RhbmNlIix2YWx1ZTpmdW5jdGlvbiBzZXRSZWZEaXN0YW5jZSh2YWx1ZSl7dGhpcy5wYW5uZXIucmVmRGlzdGFuY2U9dmFsdWU7cmV0dXJuIHRoaXM7fX0se2tleToiZ2V0Um9sbG9mZkZhY3RvciIsdmFsdWU6ZnVuY3Rpb24gZ2V0Um9sbG9mZkZhY3Rvcigpe3JldHVybiB0aGlzLnBhbm5lci5yb2xsb2ZmRmFjdG9yO319LHtrZXk6InNldFJvbGxvZmZGYWN0b3IiLHZhbHVlOmZ1bmN0aW9uIHNldFJvbGxvZmZGYWN0b3IodmFsdWUpe3RoaXMucGFubmVyLnJvbGxvZmZGYWN0b3I9dmFsdWU7cmV0dXJuIHRoaXM7fX0se2tleToiZ2V0RGlzdGFuY2VNb2RlbCIsdmFsdWU6ZnVuY3Rpb24gZ2V0RGlzdGFuY2VNb2RlbCgpe3JldHVybiB0aGlzLnBhbm5lci5kaXN0YW5jZU1vZGVsO319LHtrZXk6InNldERpc3RhbmNlTW9kZWwiLHZhbHVlOmZ1bmN0aW9uIHNldERpc3RhbmNlTW9kZWwodmFsdWUpe3RoaXMucGFubmVyLmRpc3RhbmNlTW9kZWw9dmFsdWU7cmV0dXJuIHRoaXM7fX0se2tleToiZ2V0TWF4RGlzdGFuY2UiLHZhbHVlOmZ1bmN0aW9uIGdldE1heERpc3RhbmNlKCl7cmV0dXJuIHRoaXMucGFubmVyLm1heERpc3RhbmNlO319LHtrZXk6InNldE1heERpc3RhbmNlIix2YWx1ZTpmdW5jdGlvbiBzZXRNYXhEaXN0YW5jZSh2YWx1ZSl7dGhpcy5wYW5uZXIubWF4RGlzdGFuY2U9dmFsdWU7cmV0dXJuIHRoaXM7fX0se2tleToic2V0RGlyZWN0aW9uYWxDb25lIix2YWx1ZTpmdW5jdGlvbiBzZXREaXJlY3Rpb25hbENvbmUoY29uZUlubmVyQW5nbGUsY29uZU91dGVyQW5nbGUsY29uZU91dGVyR2Fpbil7dGhpcy5wYW5uZXIuY29uZUlubmVyQW5nbGU9Y29uZUlubmVyQW5nbGU7dGhpcy5wYW5uZXIuY29uZU91dGVyQW5nbGU9Y29uZU91dGVyQW5nbGU7dGhpcy5wYW5uZXIuY29uZU91dGVyR2Fpbj1jb25lT3V0ZXJHYWluO3JldHVybiB0aGlzO319LHtrZXk6InVwZGF0ZU1hdHJpeFdvcmxkIix2YWx1ZTpmdW5jdGlvbiB1cGRhdGVNYXRyaXhXb3JsZChmb3JjZSl7X2dldChfZ2V0UHJvdG90eXBlT2YoUG9zaXRpb25hbEF1ZGlvLnByb3RvdHlwZSksInVwZGF0ZU1hdHJpeFdvcmxkIix0aGlzKS5jYWxsKHRoaXMsZm9yY2UpO2lmKHRoaXMuaGFzUGxheWJhY2tDb250cm9sPT09dHJ1ZSYmdGhpcy5pc1BsYXlpbmc9PT1mYWxzZSlyZXR1cm47dGhpcy5tYXRyaXhXb3JsZC5kZWNvbXBvc2UoX3Bvc2l0aW9uLF9xdWF0ZXJuaW9uLF9zY2FsZSk7X29yaWVudGF0aW9uLnNldCgwLDAsMSkuYXBwbHlRdWF0ZXJuaW9uKF9xdWF0ZXJuaW9uKTt2YXIgcGFubmVyPXRoaXMucGFubmVyO2lmKHBhbm5lci5wb3NpdGlvblgpey8vIGNvZGUgcGF0aCBmb3IgQ2hyb21lIGFuZCBGaXJlZm94IChzZWUgIzE0MzkzKQp2YXIgZW5kVGltZT10aGlzLmNvbnRleHQuY3VycmVudFRpbWUrdGhpcy5saXN0ZW5lci50aW1lRGVsdGE7cGFubmVyLnBvc2l0aW9uWC5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZShfcG9zaXRpb24ueCxlbmRUaW1lKTtwYW5uZXIucG9zaXRpb25ZLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKF9wb3NpdGlvbi55LGVuZFRpbWUpO3Bhbm5lci5wb3NpdGlvbloubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUoX3Bvc2l0aW9uLnosZW5kVGltZSk7cGFubmVyLm9yaWVudGF0aW9uWC5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZShfb3JpZW50YXRpb24ueCxlbmRUaW1lKTtwYW5uZXIub3JpZW50YXRpb25ZLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKF9vcmllbnRhdGlvbi55LGVuZFRpbWUpO3Bhbm5lci5vcmllbnRhdGlvbloubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUoX29yaWVudGF0aW9uLnosZW5kVGltZSk7fWVsc2V7cGFubmVyLnNldFBvc2l0aW9uKF9wb3NpdGlvbi54LF9wb3NpdGlvbi55LF9wb3NpdGlvbi56KTtwYW5uZXIuc2V0T3JpZW50YXRpb24oX29yaWVudGF0aW9uLngsX29yaWVudGF0aW9uLnksX29yaWVudGF0aW9uLnopO319fV0pO3JldHVybiBQb3NpdGlvbmFsQXVkaW87fShBdWRpbyk7dmFyIEF1ZGlvQW5hbHlzZXI9LyojX19QVVJFX18qL2Z1bmN0aW9uKCl7ZnVuY3Rpb24gQXVkaW9BbmFseXNlcihhdWRpbyl7dmFyIGZmdFNpemU9YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzFdOjIwNDg7X2NsYXNzQ2FsbENoZWNrKHRoaXMsQXVkaW9BbmFseXNlcik7dGhpcy5hbmFseXNlcj1hdWRpby5jb250ZXh0LmNyZWF0ZUFuYWx5c2VyKCk7dGhpcy5hbmFseXNlci5mZnRTaXplPWZmdFNpemU7dGhpcy5kYXRhPW5ldyBVaW50OEFycmF5KHRoaXMuYW5hbHlzZXIuZnJlcXVlbmN5QmluQ291bnQpO2F1ZGlvLmdldE91dHB1dCgpLmNvbm5lY3QodGhpcy5hbmFseXNlcik7fV9jcmVhdGVDbGFzcyhBdWRpb0FuYWx5c2VyLFt7a2V5OiJnZXRGcmVxdWVuY3lEYXRhIix2YWx1ZTpmdW5jdGlvbiBnZXRGcmVxdWVuY3lEYXRhKCl7dGhpcy5hbmFseXNlci5nZXRCeXRlRnJlcXVlbmN5RGF0YSh0aGlzLmRhdGEpO3JldHVybiB0aGlzLmRhdGE7fX0se2tleToiZ2V0QXZlcmFnZUZyZXF1ZW5jeSIsdmFsdWU6ZnVuY3Rpb24gZ2V0QXZlcmFnZUZyZXF1ZW5jeSgpe3ZhciB2YWx1ZT0wO3ZhciBkYXRhPXRoaXMuZ2V0RnJlcXVlbmN5RGF0YSgpO2Zvcih2YXIgX2kzMDY9MDtfaTMwNjxkYXRhLmxlbmd0aDtfaTMwNisrKXt2YWx1ZSs9ZGF0YVtfaTMwNl07fXJldHVybiB2YWx1ZS9kYXRhLmxlbmd0aDt9fV0pO3JldHVybiBBdWRpb0FuYWx5c2VyO30oKTt2YXIgUHJvcGVydHlNaXhlcj0vKiNfX1BVUkVfXyovZnVuY3Rpb24oKXtmdW5jdGlvbiBQcm9wZXJ0eU1peGVyKGJpbmRpbmcsdHlwZU5hbWUsdmFsdWVTaXplKXtfY2xhc3NDYWxsQ2hlY2sodGhpcyxQcm9wZXJ0eU1peGVyKTt0aGlzLmJpbmRpbmc9YmluZGluZzt0aGlzLnZhbHVlU2l6ZT12YWx1ZVNpemU7dmFyIG1peEZ1bmN0aW9uLG1peEZ1bmN0aW9uQWRkaXRpdmUsc2V0SWRlbnRpdHk7Ly8gYnVmZmVyIGxheW91dDogWyBpbmNvbWluZyB8IGFjY3UwIHwgYWNjdTEgfCBvcmlnIHwgYWRkQWNjdSB8IChvcHRpb25hbCB3b3JrKSBdCi8vCi8vIGludGVycG9sYXRvcnMgY2FuIHVzZSAuYnVmZmVyIGFzIHRoZWlyIC5yZXN1bHQKLy8gdGhlIGRhdGEgdGhlbiBnb2VzIHRvICdpbmNvbWluZycKLy8KLy8gJ2FjY3UwJyBhbmQgJ2FjY3UxJyBhcmUgdXNlZCBmcmFtZS1pbnRlcmxlYXZlZCBmb3IKLy8gdGhlIGN1bXVsYXRpdmUgcmVzdWx0IGFuZCBhcmUgY29tcGFyZWQgdG8gZGV0ZWN0Ci8vIGNoYW5nZXMKLy8KLy8gJ29yaWcnIHN0b3JlcyB0aGUgb3JpZ2luYWwgc3RhdGUgb2YgdGhlIHByb3BlcnR5Ci8vCi8vICdhZGQnIGlzIHVzZWQgZm9yIGFkZGl0aXZlIGN1bXVsYXRpdmUgcmVzdWx0cwovLwovLyAnd29yaycgaXMgb3B0aW9uYWwgYW5kIGlzIG9ubHkgcHJlc2VudCBmb3IgcXVhdGVybmlvbiB0eXBlcy4gSXQgaXMgdXNlZAovLyB0byBzdG9yZSBpbnRlcm1lZGlhdGUgcXVhdGVybmlvbiBtdWx0aXBsaWNhdGlvbiByZXN1bHRzCnN3aXRjaCh0eXBlTmFtZSl7Y2FzZSdxdWF0ZXJuaW9uJzptaXhGdW5jdGlvbj10aGlzLl9zbGVycDttaXhGdW5jdGlvbkFkZGl0aXZlPXRoaXMuX3NsZXJwQWRkaXRpdmU7c2V0SWRlbnRpdHk9dGhpcy5fc2V0QWRkaXRpdmVJZGVudGl0eVF1YXRlcm5pb247dGhpcy5idWZmZXI9bmV3IEZsb2F0NjRBcnJheSh2YWx1ZVNpemUqNik7dGhpcy5fd29ya0luZGV4PTU7YnJlYWs7Y2FzZSdzdHJpbmcnOmNhc2UnYm9vbCc6bWl4RnVuY3Rpb249dGhpcy5fc2VsZWN0Oy8vIFVzZSB0aGUgcmVndWxhciBtaXggZnVuY3Rpb24gYW5kIGZvciBhZGRpdGl2ZSBvbiB0aGVzZSB0eXBlcywKLy8gYWRkaXRpdmUgaXMgbm90IHJlbGV2YW50IGZvciBub24tbnVtZXJpYyB0eXBlcwptaXhGdW5jdGlvbkFkZGl0aXZlPXRoaXMuX3NlbGVjdDtzZXRJZGVudGl0eT10aGlzLl9zZXRBZGRpdGl2ZUlkZW50aXR5T3RoZXI7dGhpcy5idWZmZXI9bmV3IEFycmF5KHZhbHVlU2l6ZSo1KTticmVhaztkZWZhdWx0Om1peEZ1bmN0aW9uPXRoaXMuX2xlcnA7bWl4RnVuY3Rpb25BZGRpdGl2ZT10aGlzLl9sZXJwQWRkaXRpdmU7c2V0SWRlbnRpdHk9dGhpcy5fc2V0QWRkaXRpdmVJZGVudGl0eU51bWVyaWM7dGhpcy5idWZmZXI9bmV3IEZsb2F0NjRBcnJheSh2YWx1ZVNpemUqNSk7fXRoaXMuX21peEJ1ZmZlclJlZ2lvbj1taXhGdW5jdGlvbjt0aGlzLl9taXhCdWZmZXJSZWdpb25BZGRpdGl2ZT1taXhGdW5jdGlvbkFkZGl0aXZlO3RoaXMuX3NldElkZW50aXR5PXNldElkZW50aXR5O3RoaXMuX29yaWdJbmRleD0zO3RoaXMuX2FkZEluZGV4PTQ7dGhpcy5jdW11bGF0aXZlV2VpZ2h0PTA7dGhpcy5jdW11bGF0aXZlV2VpZ2h0QWRkaXRpdmU9MDt0aGlzLnVzZUNvdW50PTA7dGhpcy5yZWZlcmVuY2VDb3VudD0wO30vLyBhY2N1bXVsYXRlIGRhdGEgaW4gdGhlICdpbmNvbWluZycgcmVnaW9uIGludG8gJ2FjY3U8aT4nCl9jcmVhdGVDbGFzcyhQcm9wZXJ0eU1peGVyLFt7a2V5OiJhY2N1bXVsYXRlIix2YWx1ZTpmdW5jdGlvbiBhY2N1bXVsYXRlKGFjY3VJbmRleCx3ZWlnaHQpey8vIG5vdGU6IGhhcHBpbHkgYWNjdW11bGF0aW5nIG5vdGhpbmcgd2hlbiB3ZWlnaHQgPSAwLCB0aGUgY2FsbGVyIGtub3dzCi8vIHRoZSB3ZWlnaHQgYW5kIHNob3VsZG4ndCBoYXZlIG1hZGUgdGhlIGNhbGwgaW4gdGhlIGZpcnN0IHBsYWNlCnZhciBidWZmZXI9dGhpcy5idWZmZXIsc3RyaWRlPXRoaXMudmFsdWVTaXplLG9mZnNldD1hY2N1SW5kZXgqc3RyaWRlK3N0cmlkZTt2YXIgY3VycmVudFdlaWdodD10aGlzLmN1bXVsYXRpdmVXZWlnaHQ7aWYoY3VycmVudFdlaWdodD09PTApey8vIGFjY3VOIDo9IGluY29taW5nICogd2VpZ2h0CmZvcih2YXIgX2kzMDc9MDtfaTMwNyE9PXN0cmlkZTsrK19pMzA3KXtidWZmZXJbb2Zmc2V0K19pMzA3XT1idWZmZXJbX2kzMDddO31jdXJyZW50V2VpZ2h0PXdlaWdodDt9ZWxzZXsvLyBhY2N1TiA6PSBhY2N1TiArIGluY29taW5nICogd2VpZ2h0CmN1cnJlbnRXZWlnaHQrPXdlaWdodDt2YXIgbWl4PXdlaWdodC9jdXJyZW50V2VpZ2h0O3RoaXMuX21peEJ1ZmZlclJlZ2lvbihidWZmZXIsb2Zmc2V0LDAsbWl4LHN0cmlkZSk7fXRoaXMuY3VtdWxhdGl2ZVdlaWdodD1jdXJyZW50V2VpZ2h0O30vLyBhY2N1bXVsYXRlIGRhdGEgaW4gdGhlICdpbmNvbWluZycgcmVnaW9uIGludG8gJ2FkZCcKfSx7a2V5OiJhY2N1bXVsYXRlQWRkaXRpdmUiLHZhbHVlOmZ1bmN0aW9uIGFjY3VtdWxhdGVBZGRpdGl2ZSh3ZWlnaHQpe3ZhciBidWZmZXI9dGhpcy5idWZmZXIsc3RyaWRlPXRoaXMudmFsdWVTaXplLG9mZnNldD1zdHJpZGUqdGhpcy5fYWRkSW5kZXg7aWYodGhpcy5jdW11bGF0aXZlV2VpZ2h0QWRkaXRpdmU9PT0wKXsvLyBhZGQgPSBpZGVudGl0eQp0aGlzLl9zZXRJZGVudGl0eSgpO30vLyBhZGQgOj0gYWRkICsgaW5jb21pbmcgKiB3ZWlnaHQKdGhpcy5fbWl4QnVmZmVyUmVnaW9uQWRkaXRpdmUoYnVmZmVyLG9mZnNldCwwLHdlaWdodCxzdHJpZGUpO3RoaXMuY3VtdWxhdGl2ZVdlaWdodEFkZGl0aXZlKz13ZWlnaHQ7fS8vIGFwcGx5IHRoZSBzdGF0ZSBvZiAnYWNjdTxpPicgdG8gdGhlIGJpbmRpbmcgd2hlbiBhY2N1cyBkaWZmZXIKfSx7a2V5OiJhcHBseSIsdmFsdWU6ZnVuY3Rpb24gYXBwbHkoYWNjdUluZGV4KXt2YXIgc3RyaWRlPXRoaXMudmFsdWVTaXplLGJ1ZmZlcj10aGlzLmJ1ZmZlcixvZmZzZXQ9YWNjdUluZGV4KnN0cmlkZStzdHJpZGUsd2VpZ2h0PXRoaXMuY3VtdWxhdGl2ZVdlaWdodCx3ZWlnaHRBZGRpdGl2ZT10aGlzLmN1bXVsYXRpdmVXZWlnaHRBZGRpdGl2ZSxiaW5kaW5nPXRoaXMuYmluZGluZzt0aGlzLmN1bXVsYXRpdmVXZWlnaHQ9MDt0aGlzLmN1bXVsYXRpdmVXZWlnaHRBZGRpdGl2ZT0wO2lmKHdlaWdodDwxKXsvLyBhY2N1TiA6PSBhY2N1TiArIG9yaWdpbmFsICogKCAxIC0gY3VtdWxhdGl2ZVdlaWdodCApCnZhciBvcmlnaW5hbFZhbHVlT2Zmc2V0PXN0cmlkZSp0aGlzLl9vcmlnSW5kZXg7dGhpcy5fbWl4QnVmZmVyUmVnaW9uKGJ1ZmZlcixvZmZzZXQsb3JpZ2luYWxWYWx1ZU9mZnNldCwxLXdlaWdodCxzdHJpZGUpO31pZih3ZWlnaHRBZGRpdGl2ZT4wKXsvLyBhY2N1TiA6PSBhY2N1TiArIGFkZGl0aXZlIGFjY3VOCnRoaXMuX21peEJ1ZmZlclJlZ2lvbkFkZGl0aXZlKGJ1ZmZlcixvZmZzZXQsdGhpcy5fYWRkSW5kZXgqc3RyaWRlLDEsc3RyaWRlKTt9Zm9yKHZhciBfaTMwOD1zdHJpZGUsZT1zdHJpZGUrc3RyaWRlO19pMzA4IT09ZTsrK19pMzA4KXtpZihidWZmZXJbX2kzMDhdIT09YnVmZmVyW19pMzA4K3N0cmlkZV0pey8vIHZhbHVlIGhhcyBjaGFuZ2VkIC0+IHVwZGF0ZSBzY2VuZSBncmFwaApiaW5kaW5nLnNldFZhbHVlKGJ1ZmZlcixvZmZzZXQpO2JyZWFrO319fS8vIHJlbWVtYmVyIHRoZSBzdGF0ZSBvZiB0aGUgYm91bmQgcHJvcGVydHkgYW5kIGNvcHkgaXQgdG8gYm90aCBhY2N1cwp9LHtrZXk6InNhdmVPcmlnaW5hbFN0YXRlIix2YWx1ZTpmdW5jdGlvbiBzYXZlT3JpZ2luYWxTdGF0ZSgpe3ZhciBiaW5kaW5nPXRoaXMuYmluZGluZzt2YXIgYnVmZmVyPXRoaXMuYnVmZmVyLHN0cmlkZT10aGlzLnZhbHVlU2l6ZSxvcmlnaW5hbFZhbHVlT2Zmc2V0PXN0cmlkZSp0aGlzLl9vcmlnSW5kZXg7YmluZGluZy5nZXRWYWx1ZShidWZmZXIsb3JpZ2luYWxWYWx1ZU9mZnNldCk7Ly8gYWNjdVswLi4xXSA6PSBvcmlnIC0tIGluaXRpYWxseSBkZXRlY3QgY2hhbmdlcyBhZ2FpbnN0IHRoZSBvcmlnaW5hbApmb3IodmFyIF9pMzA5PXN0cmlkZSxlPW9yaWdpbmFsVmFsdWVPZmZzZXQ7X2kzMDkhPT1lOysrX2kzMDkpe2J1ZmZlcltfaTMwOV09YnVmZmVyW29yaWdpbmFsVmFsdWVPZmZzZXQrX2kzMDklc3RyaWRlXTt9Ly8gQWRkIHRvIGlkZW50aXR5IGZvciBhZGRpdGl2ZQp0aGlzLl9zZXRJZGVudGl0eSgpO3RoaXMuY3VtdWxhdGl2ZVdlaWdodD0wO3RoaXMuY3VtdWxhdGl2ZVdlaWdodEFkZGl0aXZlPTA7fS8vIGFwcGx5IHRoZSBzdGF0ZSBwcmV2aW91c2x5IHRha2VuIHZpYSAnc2F2ZU9yaWdpbmFsU3RhdGUnIHRvIHRoZSBiaW5kaW5nCn0se2tleToicmVzdG9yZU9yaWdpbmFsU3RhdGUiLHZhbHVlOmZ1bmN0aW9uIHJlc3RvcmVPcmlnaW5hbFN0YXRlKCl7dmFyIG9yaWdpbmFsVmFsdWVPZmZzZXQ9dGhpcy52YWx1ZVNpemUqMzt0aGlzLmJpbmRpbmcuc2V0VmFsdWUodGhpcy5idWZmZXIsb3JpZ2luYWxWYWx1ZU9mZnNldCk7fX0se2tleToiX3NldEFkZGl0aXZlSWRlbnRpdHlOdW1lcmljIix2YWx1ZTpmdW5jdGlvbiBfc2V0QWRkaXRpdmVJZGVudGl0eU51bWVyaWMoKXt2YXIgc3RhcnRJbmRleD10aGlzLl9hZGRJbmRleCp0aGlzLnZhbHVlU2l6ZTt2YXIgZW5kSW5kZXg9c3RhcnRJbmRleCt0aGlzLnZhbHVlU2l6ZTtmb3IodmFyIF9pMzEwPXN0YXJ0SW5kZXg7X2kzMTA8ZW5kSW5kZXg7X2kzMTArKyl7dGhpcy5idWZmZXJbX2kzMTBdPTA7fX19LHtrZXk6Il9zZXRBZGRpdGl2ZUlkZW50aXR5UXVhdGVybmlvbiIsdmFsdWU6ZnVuY3Rpb24gX3NldEFkZGl0aXZlSWRlbnRpdHlRdWF0ZXJuaW9uKCl7dGhpcy5fc2V0QWRkaXRpdmVJZGVudGl0eU51bWVyaWMoKTt0aGlzLmJ1ZmZlclt0aGlzLl9hZGRJbmRleCp0aGlzLnZhbHVlU2l6ZSszXT0xO319LHtrZXk6Il9zZXRBZGRpdGl2ZUlkZW50aXR5T3RoZXIiLHZhbHVlOmZ1bmN0aW9uIF9zZXRBZGRpdGl2ZUlkZW50aXR5T3RoZXIoKXt2YXIgc3RhcnRJbmRleD10aGlzLl9vcmlnSW5kZXgqdGhpcy52YWx1ZVNpemU7dmFyIHRhcmdldEluZGV4PXRoaXMuX2FkZEluZGV4KnRoaXMudmFsdWVTaXplO2Zvcih2YXIgX2kzMTE9MDtfaTMxMTx0aGlzLnZhbHVlU2l6ZTtfaTMxMSsrKXt0aGlzLmJ1ZmZlclt0YXJnZXRJbmRleCtfaTMxMV09dGhpcy5idWZmZXJbc3RhcnRJbmRleCtfaTMxMV07fX0vLyBtaXggZnVuY3Rpb25zCn0se2tleToiX3NlbGVjdCIsdmFsdWU6ZnVuY3Rpb24gX3NlbGVjdChidWZmZXIsZHN0T2Zmc2V0LHNyY09mZnNldCx0LHN0cmlkZSl7aWYodD49MC41KXtmb3IodmFyIF9pMzEyPTA7X2kzMTIhPT1zdHJpZGU7KytfaTMxMil7YnVmZmVyW2RzdE9mZnNldCtfaTMxMl09YnVmZmVyW3NyY09mZnNldCtfaTMxMl07fX19fSx7a2V5OiJfc2xlcnAiLHZhbHVlOmZ1bmN0aW9uIF9zbGVycChidWZmZXIsZHN0T2Zmc2V0LHNyY09mZnNldCx0KXtRdWF0ZXJuaW9uLnNsZXJwRmxhdChidWZmZXIsZHN0T2Zmc2V0LGJ1ZmZlcixkc3RPZmZzZXQsYnVmZmVyLHNyY09mZnNldCx0KTt9fSx7a2V5OiJfc2xlcnBBZGRpdGl2ZSIsdmFsdWU6ZnVuY3Rpb24gX3NsZXJwQWRkaXRpdmUoYnVmZmVyLGRzdE9mZnNldCxzcmNPZmZzZXQsdCxzdHJpZGUpe3ZhciB3b3JrT2Zmc2V0PXRoaXMuX3dvcmtJbmRleCpzdHJpZGU7Ly8gU3RvcmUgcmVzdWx0IGluIGludGVybWVkaWF0ZSBidWZmZXIgb2Zmc2V0ClF1YXRlcm5pb24ubXVsdGlwbHlRdWF0ZXJuaW9uc0ZsYXQoYnVmZmVyLHdvcmtPZmZzZXQsYnVmZmVyLGRzdE9mZnNldCxidWZmZXIsc3JjT2Zmc2V0KTsvLyBTbGVycCB0byB0aGUgaW50ZXJtZWRpYXRlIHJlc3VsdApRdWF0ZXJuaW9uLnNsZXJwRmxhdChidWZmZXIsZHN0T2Zmc2V0LGJ1ZmZlcixkc3RPZmZzZXQsYnVmZmVyLHdvcmtPZmZzZXQsdCk7fX0se2tleToiX2xlcnAiLHZhbHVlOmZ1bmN0aW9uIF9sZXJwKGJ1ZmZlcixkc3RPZmZzZXQsc3JjT2Zmc2V0LHQsc3RyaWRlKXt2YXIgcz0xLXQ7Zm9yKHZhciBfaTMxMz0wO19pMzEzIT09c3RyaWRlOysrX2kzMTMpe3ZhciBqPWRzdE9mZnNldCtfaTMxMztidWZmZXJbal09YnVmZmVyW2pdKnMrYnVmZmVyW3NyY09mZnNldCtfaTMxM10qdDt9fX0se2tleToiX2xlcnBBZGRpdGl2ZSIsdmFsdWU6ZnVuY3Rpb24gX2xlcnBBZGRpdGl2ZShidWZmZXIsZHN0T2Zmc2V0LHNyY09mZnNldCx0LHN0cmlkZSl7Zm9yKHZhciBfaTMxND0wO19pMzE0IT09c3RyaWRlOysrX2kzMTQpe3ZhciBqPWRzdE9mZnNldCtfaTMxNDtidWZmZXJbal09YnVmZmVyW2pdK2J1ZmZlcltzcmNPZmZzZXQrX2kzMTRdKnQ7fX19XSk7cmV0dXJuIFByb3BlcnR5TWl4ZXI7fSgpOy8vIENoYXJhY3RlcnMgW10uOi8gYXJlIHJlc2VydmVkIGZvciB0cmFjayBiaW5kaW5nIHN5bnRheC4KdmFyIF9SRVNFUlZFRF9DSEFSU19SRT0nXFxbXFxdXFwuOlxcLyc7dmFyIF9yZXNlcnZlZFJlPW5ldyBSZWdFeHAoJ1snK19SRVNFUlZFRF9DSEFSU19SRSsnXScsJ2cnKTsvLyBBdHRlbXB0cyB0byBhbGxvdyBub2RlIG5hbWVzIGZyb20gYW55IGxhbmd1YWdlLiBFUzUncyBgXHdgIHJlZ2V4cCBtYXRjaGVzCi8vIG9ubHkgbGF0aW4gY2hhcmFjdGVycywgYW5kIHRoZSB1bmljb2RlIFxwe0x9IGlzIG5vdCB5ZXQgc3VwcG9ydGVkLiBTbwovLyBpbnN0ZWFkLCB3ZSBleGNsdWRlIHJlc2VydmVkIGNoYXJhY3RlcnMgYW5kIG1hdGNoIGV2ZXJ5dGhpbmcgZWxzZS4KdmFyIF93b3JkQ2hhcj0nW14nK19SRVNFUlZFRF9DSEFSU19SRSsnXSc7dmFyIF93b3JkQ2hhck9yRG90PSdbXicrX1JFU0VSVkVEX0NIQVJTX1JFLnJlcGxhY2UoJ1xcLicsJycpKyddJzsvLyBQYXJlbnQgZGlyZWN0b3JpZXMsIGRlbGltaXRlZCBieSAnLycgb3IgJzonLiBDdXJyZW50bHkgdW51c2VkLCBidXQgbXVzdAovLyBiZSBtYXRjaGVkIHRvIHBhcnNlIHRoZSByZXN0IG9mIHRoZSB0cmFjayBuYW1lLgp2YXIgX2RpcmVjdG9yeVJlPS8oKD86V0MrW1wvOl0pKikvLnNvdXJjZS5yZXBsYWNlKCdXQycsX3dvcmRDaGFyKTsvLyBUYXJnZXQgbm9kZS4gTWF5IGNvbnRhaW4gd29yZCBjaGFyYWN0ZXJzIChhLXpBLVowLTlfKSBhbmQgJy4nIG9yICctJy4KdmFyIF9ub2RlUmU9LyhXQ09EKyk/Ly5zb3VyY2UucmVwbGFjZSgnV0NPRCcsX3dvcmRDaGFyT3JEb3QpOy8vIE9iamVjdCBvbiB0YXJnZXQgbm9kZSwgYW5kIGFjY2Vzc29yLiBNYXkgbm90IGNvbnRhaW4gcmVzZXJ2ZWQKLy8gY2hhcmFjdGVycy4gQWNjZXNzb3IgbWF5IGNvbnRhaW4gYW55IGNoYXJhY3RlciBleGNlcHQgY2xvc2luZyBicmFja2V0Lgp2YXIgX29iamVjdFJlPS8oPzpcLihXQyspKD86XFsoLispXF0pPyk/Ly5zb3VyY2UucmVwbGFjZSgnV0MnLF93b3JkQ2hhcik7Ly8gUHJvcGVydHkgYW5kIGFjY2Vzc29yLiBNYXkgbm90IGNvbnRhaW4gcmVzZXJ2ZWQgY2hhcmFjdGVycy4gQWNjZXNzb3IgbWF5Ci8vIGNvbnRhaW4gYW55IG5vbi1icmFja2V0IGNoYXJhY3RlcnMuCnZhciBfcHJvcGVydHlSZT0vXC4oV0MrKSg/OlxbKC4rKVxdKT8vLnNvdXJjZS5yZXBsYWNlKCdXQycsX3dvcmRDaGFyKTt2YXIgX3RyYWNrUmU9bmV3IFJlZ0V4cCgnJysnXicrX2RpcmVjdG9yeVJlK19ub2RlUmUrX29iamVjdFJlK19wcm9wZXJ0eVJlKyckJyk7dmFyIF9zdXBwb3J0ZWRPYmplY3ROYW1lcz1bJ21hdGVyaWFsJywnbWF0ZXJpYWxzJywnYm9uZXMnXTt2YXIgQ29tcG9zaXRlPS8qI19fUFVSRV9fKi9mdW5jdGlvbigpe2Z1bmN0aW9uIENvbXBvc2l0ZSh0YXJnZXRHcm91cCxwYXRoLG9wdGlvbmFsUGFyc2VkUGF0aCl7X2NsYXNzQ2FsbENoZWNrKHRoaXMsQ29tcG9zaXRlKTt2YXIgcGFyc2VkUGF0aD1vcHRpb25hbFBhcnNlZFBhdGh8fFByb3BlcnR5QmluZGluZy5wYXJzZVRyYWNrTmFtZShwYXRoKTt0aGlzLl90YXJnZXRHcm91cD10YXJnZXRHcm91cDt0aGlzLl9iaW5kaW5ncz10YXJnZXRHcm91cC5zdWJzY3JpYmVfKHBhdGgscGFyc2VkUGF0aCk7fV9jcmVhdGVDbGFzcyhDb21wb3NpdGUsW3trZXk6ImdldFZhbHVlIix2YWx1ZTpmdW5jdGlvbiBnZXRWYWx1ZShhcnJheSxvZmZzZXQpe3RoaXMuYmluZCgpOy8vIGJpbmQgYWxsIGJpbmRpbmcKdmFyIGZpcnN0VmFsaWRJbmRleD10aGlzLl90YXJnZXRHcm91cC5uQ2FjaGVkT2JqZWN0c18sYmluZGluZz10aGlzLl9iaW5kaW5nc1tmaXJzdFZhbGlkSW5kZXhdOy8vIGFuZCBvbmx5IGNhbGwgLmdldFZhbHVlIG9uIHRoZSBmaXJzdAppZihiaW5kaW5nIT09dW5kZWZpbmVkKWJpbmRpbmcuZ2V0VmFsdWUoYXJyYXksb2Zmc2V0KTt9fSx7a2V5OiJzZXRWYWx1ZSIsdmFsdWU6ZnVuY3Rpb24gc2V0VmFsdWUoYXJyYXksb2Zmc2V0KXt2YXIgYmluZGluZ3M9dGhpcy5fYmluZGluZ3M7Zm9yKHZhciBfaTMxNT10aGlzLl90YXJnZXRHcm91cC5uQ2FjaGVkT2JqZWN0c18sbj1iaW5kaW5ncy5sZW5ndGg7X2kzMTUhPT1uOysrX2kzMTUpe2JpbmRpbmdzW19pMzE1XS5zZXRWYWx1ZShhcnJheSxvZmZzZXQpO319fSx7a2V5OiJiaW5kIix2YWx1ZTpmdW5jdGlvbiBiaW5kKCl7dmFyIGJpbmRpbmdzPXRoaXMuX2JpbmRpbmdzO2Zvcih2YXIgX2kzMTY9dGhpcy5fdGFyZ2V0R3JvdXAubkNhY2hlZE9iamVjdHNfLG49YmluZGluZ3MubGVuZ3RoO19pMzE2IT09bjsrK19pMzE2KXtiaW5kaW5nc1tfaTMxNl0uYmluZCgpO319fSx7a2V5OiJ1bmJpbmQiLHZhbHVlOmZ1bmN0aW9uIHVuYmluZCgpe3ZhciBiaW5kaW5ncz10aGlzLl9iaW5kaW5ncztmb3IodmFyIF9pMzE3PXRoaXMuX3RhcmdldEdyb3VwLm5DYWNoZWRPYmplY3RzXyxuPWJpbmRpbmdzLmxlbmd0aDtfaTMxNyE9PW47KytfaTMxNyl7YmluZGluZ3NbX2kzMTddLnVuYmluZCgpO319fV0pO3JldHVybiBDb21wb3NpdGU7fSgpOy8vIE5vdGU6IFRoaXMgY2xhc3MgdXNlcyBhIFN0YXRlIHBhdHRlcm4gb24gYSBwZXItbWV0aG9kIGJhc2lzOgovLyAnYmluZCcgc2V0cyAndGhpcy5nZXRWYWx1ZScgLyAnc2V0VmFsdWUnIGFuZCBzaGFkb3dzIHRoZQovLyBwcm90b3R5cGUgdmVyc2lvbiBvZiB0aGVzZSBtZXRob2RzIHdpdGggb25lIHRoYXQgcmVwcmVzZW50cwovLyB0aGUgYm91bmQgc3RhdGUuIFdoZW4gdGhlIHByb3BlcnR5IGlzIG5vdCBmb3VuZCwgdGhlIG1ldGhvZHMKLy8gYmVjb21lIG5vLW9wcy4KdmFyIFByb3BlcnR5QmluZGluZz0vKiNfX1BVUkVfXyovZnVuY3Rpb24oKXtmdW5jdGlvbiBQcm9wZXJ0eUJpbmRpbmcocm9vdE5vZGUscGF0aCxwYXJzZWRQYXRoKXtfY2xhc3NDYWxsQ2hlY2sodGhpcyxQcm9wZXJ0eUJpbmRpbmcpO3RoaXMucGF0aD1wYXRoO3RoaXMucGFyc2VkUGF0aD1wYXJzZWRQYXRofHxQcm9wZXJ0eUJpbmRpbmcucGFyc2VUcmFja05hbWUocGF0aCk7dGhpcy5ub2RlPVByb3BlcnR5QmluZGluZy5maW5kTm9kZShyb290Tm9kZSx0aGlzLnBhcnNlZFBhdGgubm9kZU5hbWUpfHxyb290Tm9kZTt0aGlzLnJvb3ROb2RlPXJvb3ROb2RlOy8vIGluaXRpYWwgc3RhdGUgb2YgdGhlc2UgbWV0aG9kcyB0aGF0IGNhbGxzICdiaW5kJwp0aGlzLmdldFZhbHVlPXRoaXMuX2dldFZhbHVlX3VuYm91bmQ7dGhpcy5zZXRWYWx1ZT10aGlzLl9zZXRWYWx1ZV91bmJvdW5kO31fY3JlYXRlQ2xhc3MoUHJvcGVydHlCaW5kaW5nLFt7a2V5OiJfZ2V0VmFsdWVfdW5hdmFpbGFibGUiLHZhbHVlOi8vIHRoZXNlIGFyZSB1c2VkIHRvICJiaW5kIiBhIG5vbmV4aXN0ZW50IHByb3BlcnR5CmZ1bmN0aW9uIF9nZXRWYWx1ZV91bmF2YWlsYWJsZSgpe319LHtrZXk6Il9zZXRWYWx1ZV91bmF2YWlsYWJsZSIsdmFsdWU6ZnVuY3Rpb24gX3NldFZhbHVlX3VuYXZhaWxhYmxlKCl7fS8vIEdldHRlcnMKfSx7a2V5OiJfZ2V0VmFsdWVfZGlyZWN0Iix2YWx1ZTpmdW5jdGlvbiBfZ2V0VmFsdWVfZGlyZWN0KGJ1ZmZlcixvZmZzZXQpe2J1ZmZlcltvZmZzZXRdPXRoaXMudGFyZ2V0T2JqZWN0W3RoaXMucHJvcGVydHlOYW1lXTt9fSx7a2V5OiJfZ2V0VmFsdWVfYXJyYXkiLHZhbHVlOmZ1bmN0aW9uIF9nZXRWYWx1ZV9hcnJheShidWZmZXIsb2Zmc2V0KXt2YXIgc291cmNlPXRoaXMucmVzb2x2ZWRQcm9wZXJ0eTtmb3IodmFyIF9pMzE4PTAsbj1zb3VyY2UubGVuZ3RoO19pMzE4IT09bjsrK19pMzE4KXtidWZmZXJbb2Zmc2V0KytdPXNvdXJjZVtfaTMxOF07fX19LHtrZXk6Il9nZXRWYWx1ZV9hcnJheUVsZW1lbnQiLHZhbHVlOmZ1bmN0aW9uIF9nZXRWYWx1ZV9hcnJheUVsZW1lbnQoYnVmZmVyLG9mZnNldCl7YnVmZmVyW29mZnNldF09dGhpcy5yZXNvbHZlZFByb3BlcnR5W3RoaXMucHJvcGVydHlJbmRleF07fX0se2tleToiX2dldFZhbHVlX3RvQXJyYXkiLHZhbHVlOmZ1bmN0aW9uIF9nZXRWYWx1ZV90b0FycmF5KGJ1ZmZlcixvZmZzZXQpe3RoaXMucmVzb2x2ZWRQcm9wZXJ0eS50b0FycmF5KGJ1ZmZlcixvZmZzZXQpO30vLyBEaXJlY3QKfSx7a2V5OiJfc2V0VmFsdWVfZGlyZWN0Iix2YWx1ZTpmdW5jdGlvbiBfc2V0VmFsdWVfZGlyZWN0KGJ1ZmZlcixvZmZzZXQpe3RoaXMudGFyZ2V0T2JqZWN0W3RoaXMucHJvcGVydHlOYW1lXT1idWZmZXJbb2Zmc2V0XTt9fSx7a2V5OiJfc2V0VmFsdWVfZGlyZWN0X3NldE5lZWRzVXBkYXRlIix2YWx1ZTpmdW5jdGlvbiBfc2V0VmFsdWVfZGlyZWN0X3NldE5lZWRzVXBkYXRlKGJ1ZmZlcixvZmZzZXQpe3RoaXMudGFyZ2V0T2JqZWN0W3RoaXMucHJvcGVydHlOYW1lXT1idWZmZXJbb2Zmc2V0XTt0aGlzLnRhcmdldE9iamVjdC5uZWVkc1VwZGF0ZT10cnVlO319LHtrZXk6Il9zZXRWYWx1ZV9kaXJlY3Rfc2V0TWF0cml4V29ybGROZWVkc1VwZGF0ZSIsdmFsdWU6ZnVuY3Rpb24gX3NldFZhbHVlX2RpcmVjdF9zZXRNYXRyaXhXb3JsZE5lZWRzVXBkYXRlKGJ1ZmZlcixvZmZzZXQpe3RoaXMudGFyZ2V0T2JqZWN0W3RoaXMucHJvcGVydHlOYW1lXT1idWZmZXJbb2Zmc2V0XTt0aGlzLnRhcmdldE9iamVjdC5tYXRyaXhXb3JsZE5lZWRzVXBkYXRlPXRydWU7fS8vIEVudGlyZUFycmF5Cn0se2tleToiX3NldFZhbHVlX2FycmF5Iix2YWx1ZTpmdW5jdGlvbiBfc2V0VmFsdWVfYXJyYXkoYnVmZmVyLG9mZnNldCl7dmFyIGRlc3Q9dGhpcy5yZXNvbHZlZFByb3BlcnR5O2Zvcih2YXIgX2kzMTk9MCxuPWRlc3QubGVuZ3RoO19pMzE5IT09bjsrK19pMzE5KXtkZXN0W19pMzE5XT1idWZmZXJbb2Zmc2V0KytdO319fSx7a2V5OiJfc2V0VmFsdWVfYXJyYXlfc2V0TmVlZHNVcGRhdGUiLHZhbHVlOmZ1bmN0aW9uIF9zZXRWYWx1ZV9hcnJheV9zZXROZWVkc1VwZGF0ZShidWZmZXIsb2Zmc2V0KXt2YXIgZGVzdD10aGlzLnJlc29sdmVkUHJvcGVydHk7Zm9yKHZhciBfaTMyMD0wLG49ZGVzdC5sZW5ndGg7X2kzMjAhPT1uOysrX2kzMjApe2Rlc3RbX2kzMjBdPWJ1ZmZlcltvZmZzZXQrK107fXRoaXMudGFyZ2V0T2JqZWN0Lm5lZWRzVXBkYXRlPXRydWU7fX0se2tleToiX3NldFZhbHVlX2FycmF5X3NldE1hdHJpeFdvcmxkTmVlZHNVcGRhdGUiLHZhbHVlOmZ1bmN0aW9uIF9zZXRWYWx1ZV9hcnJheV9zZXRNYXRyaXhXb3JsZE5lZWRzVXBkYXRlKGJ1ZmZlcixvZmZzZXQpe3ZhciBkZXN0PXRoaXMucmVzb2x2ZWRQcm9wZXJ0eTtmb3IodmFyIF9pMzIxPTAsbj1kZXN0Lmxlbmd0aDtfaTMyMSE9PW47KytfaTMyMSl7ZGVzdFtfaTMyMV09YnVmZmVyW29mZnNldCsrXTt9dGhpcy50YXJnZXRPYmplY3QubWF0cml4V29ybGROZWVkc1VwZGF0ZT10cnVlO30vLyBBcnJheUVsZW1lbnQKfSx7a2V5OiJfc2V0VmFsdWVfYXJyYXlFbGVtZW50Iix2YWx1ZTpmdW5jdGlvbiBfc2V0VmFsdWVfYXJyYXlFbGVtZW50KGJ1ZmZlcixvZmZzZXQpe3RoaXMucmVzb2x2ZWRQcm9wZXJ0eVt0aGlzLnByb3BlcnR5SW5kZXhdPWJ1ZmZlcltvZmZzZXRdO319LHtrZXk6Il9zZXRWYWx1ZV9hcnJheUVsZW1lbnRfc2V0TmVlZHNVcGRhdGUiLHZhbHVlOmZ1bmN0aW9uIF9zZXRWYWx1ZV9hcnJheUVsZW1lbnRfc2V0TmVlZHNVcGRhdGUoYnVmZmVyLG9mZnNldCl7dGhpcy5yZXNvbHZlZFByb3BlcnR5W3RoaXMucHJvcGVydHlJbmRleF09YnVmZmVyW29mZnNldF07dGhpcy50YXJnZXRPYmplY3QubmVlZHNVcGRhdGU9dHJ1ZTt9fSx7a2V5OiJfc2V0VmFsdWVfYXJyYXlFbGVtZW50X3NldE1hdHJpeFdvcmxkTmVlZHNVcGRhdGUiLHZhbHVlOmZ1bmN0aW9uIF9zZXRWYWx1ZV9hcnJheUVsZW1lbnRfc2V0TWF0cml4V29ybGROZWVkc1VwZGF0ZShidWZmZXIsb2Zmc2V0KXt0aGlzLnJlc29sdmVkUHJvcGVydHlbdGhpcy5wcm9wZXJ0eUluZGV4XT1idWZmZXJbb2Zmc2V0XTt0aGlzLnRhcmdldE9iamVjdC5tYXRyaXhXb3JsZE5lZWRzVXBkYXRlPXRydWU7fS8vIEhhc1RvRnJvbUFycmF5Cn0se2tleToiX3NldFZhbHVlX2Zyb21BcnJheSIsdmFsdWU6ZnVuY3Rpb24gX3NldFZhbHVlX2Zyb21BcnJheShidWZmZXIsb2Zmc2V0KXt0aGlzLnJlc29sdmVkUHJvcGVydHkuZnJvbUFycmF5KGJ1ZmZlcixvZmZzZXQpO319LHtrZXk6Il9zZXRWYWx1ZV9mcm9tQXJyYXlfc2V0TmVlZHNVcGRhdGUiLHZhbHVlOmZ1bmN0aW9uIF9zZXRWYWx1ZV9mcm9tQXJyYXlfc2V0TmVlZHNVcGRhdGUoYnVmZmVyLG9mZnNldCl7dGhpcy5yZXNvbHZlZFByb3BlcnR5LmZyb21BcnJheShidWZmZXIsb2Zmc2V0KTt0aGlzLnRhcmdldE9iamVjdC5uZWVkc1VwZGF0ZT10cnVlO319LHtrZXk6Il9zZXRWYWx1ZV9mcm9tQXJyYXlfc2V0TWF0cml4V29ybGROZWVkc1VwZGF0ZSIsdmFsdWU6ZnVuY3Rpb24gX3NldFZhbHVlX2Zyb21BcnJheV9zZXRNYXRyaXhXb3JsZE5lZWRzVXBkYXRlKGJ1ZmZlcixvZmZzZXQpe3RoaXMucmVzb2x2ZWRQcm9wZXJ0eS5mcm9tQXJyYXkoYnVmZmVyLG9mZnNldCk7dGhpcy50YXJnZXRPYmplY3QubWF0cml4V29ybGROZWVkc1VwZGF0ZT10cnVlO319LHtrZXk6Il9nZXRWYWx1ZV91bmJvdW5kIix2YWx1ZTpmdW5jdGlvbiBfZ2V0VmFsdWVfdW5ib3VuZCh0YXJnZXRBcnJheSxvZmZzZXQpe3RoaXMuYmluZCgpO3RoaXMuZ2V0VmFsdWUodGFyZ2V0QXJyYXksb2Zmc2V0KTt9fSx7a2V5OiJfc2V0VmFsdWVfdW5ib3VuZCIsdmFsdWU6ZnVuY3Rpb24gX3NldFZhbHVlX3VuYm91bmQoc291cmNlQXJyYXksb2Zmc2V0KXt0aGlzLmJpbmQoKTt0aGlzLnNldFZhbHVlKHNvdXJjZUFycmF5LG9mZnNldCk7fS8vIGNyZWF0ZSBnZXR0ZXIgLyBzZXR0ZXIgcGFpciBmb3IgYSBwcm9wZXJ0eSBpbiB0aGUgc2NlbmUgZ3JhcGgKfSx7a2V5OiJiaW5kIix2YWx1ZTpmdW5jdGlvbiBiaW5kKCl7dmFyIHRhcmdldE9iamVjdD10aGlzLm5vZGU7dmFyIHBhcnNlZFBhdGg9dGhpcy5wYXJzZWRQYXRoO3ZhciBvYmplY3ROYW1lPXBhcnNlZFBhdGgub2JqZWN0TmFtZTt2YXIgcHJvcGVydHlOYW1lPXBhcnNlZFBhdGgucHJvcGVydHlOYW1lO3ZhciBwcm9wZXJ0eUluZGV4PXBhcnNlZFBhdGgucHJvcGVydHlJbmRleDtpZighdGFyZ2V0T2JqZWN0KXt0YXJnZXRPYmplY3Q9UHJvcGVydHlCaW5kaW5nLmZpbmROb2RlKHRoaXMucm9vdE5vZGUscGFyc2VkUGF0aC5ub2RlTmFtZSl8fHRoaXMucm9vdE5vZGU7dGhpcy5ub2RlPXRhcmdldE9iamVjdDt9Ly8gc2V0IGZhaWwgc3RhdGUgc28gd2UgY2FuIGp1c3QgJ3JldHVybicgb24gZXJyb3IKdGhpcy5nZXRWYWx1ZT10aGlzLl9nZXRWYWx1ZV91bmF2YWlsYWJsZTt0aGlzLnNldFZhbHVlPXRoaXMuX3NldFZhbHVlX3VuYXZhaWxhYmxlOy8vIGVuc3VyZSB0aGVyZSBpcyBhIHZhbHVlIG5vZGUKaWYoIXRhcmdldE9iamVjdCl7Y29uc29sZS5lcnJvcignVEhSRUUuUHJvcGVydHlCaW5kaW5nOiBUcnlpbmcgdG8gdXBkYXRlIG5vZGUgZm9yIHRyYWNrOiAnK3RoaXMucGF0aCsnIGJ1dCBpdCB3YXNuXCd0IGZvdW5kLicpO3JldHVybjt9aWYob2JqZWN0TmFtZSl7dmFyIG9iamVjdEluZGV4PXBhcnNlZFBhdGgub2JqZWN0SW5kZXg7Ly8gc3BlY2lhbCBjYXNlcyB3ZXJlIHdlIG5lZWQgdG8gcmVhY2ggZGVlcGVyIGludG8gdGhlIGhpZXJhcmNoeSB0byBnZXQgdGhlIGZhY2UgbWF0ZXJpYWxzLi4uLgpzd2l0Y2gob2JqZWN0TmFtZSl7Y2FzZSdtYXRlcmlhbHMnOmlmKCF0YXJnZXRPYmplY3QubWF0ZXJpYWwpe2NvbnNvbGUuZXJyb3IoJ1RIUkVFLlByb3BlcnR5QmluZGluZzogQ2FuIG5vdCBiaW5kIHRvIG1hdGVyaWFsIGFzIG5vZGUgZG9lcyBub3QgaGF2ZSBhIG1hdGVyaWFsLicsdGhpcyk7cmV0dXJuO31pZighdGFyZ2V0T2JqZWN0Lm1hdGVyaWFsLm1hdGVyaWFscyl7Y29uc29sZS5lcnJvcignVEhSRUUuUHJvcGVydHlCaW5kaW5nOiBDYW4gbm90IGJpbmQgdG8gbWF0ZXJpYWwubWF0ZXJpYWxzIGFzIG5vZGUubWF0ZXJpYWwgZG9lcyBub3QgaGF2ZSBhIG1hdGVyaWFscyBhcnJheS4nLHRoaXMpO3JldHVybjt9dGFyZ2V0T2JqZWN0PXRhcmdldE9iamVjdC5tYXRlcmlhbC5tYXRlcmlhbHM7YnJlYWs7Y2FzZSdib25lcyc6aWYoIXRhcmdldE9iamVjdC5za2VsZXRvbil7Y29uc29sZS5lcnJvcignVEhSRUUuUHJvcGVydHlCaW5kaW5nOiBDYW4gbm90IGJpbmQgdG8gYm9uZXMgYXMgbm9kZSBkb2VzIG5vdCBoYXZlIGEgc2tlbGV0b24uJyx0aGlzKTtyZXR1cm47fS8vIHBvdGVudGlhbCBmdXR1cmUgb3B0aW1pemF0aW9uOiBza2lwIHRoaXMgaWYgcHJvcGVydHlJbmRleCBpcyBhbHJlYWR5IGFuIGludGVnZXIKLy8gYW5kIGNvbnZlcnQgdGhlIGludGVnZXIgc3RyaW5nIHRvIGEgdHJ1ZSBpbnRlZ2VyLgp0YXJnZXRPYmplY3Q9dGFyZ2V0T2JqZWN0LnNrZWxldG9uLmJvbmVzOy8vIHN1cHBvcnQgcmVzb2x2aW5nIG1vcnBoVGFyZ2V0IG5hbWVzIGludG8gaW5kaWNlcy4KZm9yKHZhciBfaTMyMj0wO19pMzIyPHRhcmdldE9iamVjdC5sZW5ndGg7X2kzMjIrKyl7aWYodGFyZ2V0T2JqZWN0W19pMzIyXS5uYW1lPT09b2JqZWN0SW5kZXgpe29iamVjdEluZGV4PV9pMzIyO2JyZWFrO319YnJlYWs7ZGVmYXVsdDppZih0YXJnZXRPYmplY3Rbb2JqZWN0TmFtZV09PT11bmRlZmluZWQpe2NvbnNvbGUuZXJyb3IoJ1RIUkVFLlByb3BlcnR5QmluZGluZzogQ2FuIG5vdCBiaW5kIHRvIG9iamVjdE5hbWUgb2Ygbm9kZSB1bmRlZmluZWQuJyx0aGlzKTtyZXR1cm47fXRhcmdldE9iamVjdD10YXJnZXRPYmplY3Rbb2JqZWN0TmFtZV07fWlmKG9iamVjdEluZGV4IT09dW5kZWZpbmVkKXtpZih0YXJnZXRPYmplY3Rbb2JqZWN0SW5kZXhdPT09dW5kZWZpbmVkKXtjb25zb2xlLmVycm9yKCdUSFJFRS5Qcm9wZXJ0eUJpbmRpbmc6IFRyeWluZyB0byBiaW5kIHRvIG9iamVjdEluZGV4IG9mIG9iamVjdE5hbWUsIGJ1dCBpcyB1bmRlZmluZWQuJyx0aGlzLHRhcmdldE9iamVjdCk7cmV0dXJuO310YXJnZXRPYmplY3Q9dGFyZ2V0T2JqZWN0W29iamVjdEluZGV4XTt9fS8vIHJlc29sdmUgcHJvcGVydHkKdmFyIG5vZGVQcm9wZXJ0eT10YXJnZXRPYmplY3RbcHJvcGVydHlOYW1lXTtpZihub2RlUHJvcGVydHk9PT11bmRlZmluZWQpe3ZhciBub2RlTmFtZT1wYXJzZWRQYXRoLm5vZGVOYW1lO2NvbnNvbGUuZXJyb3IoJ1RIUkVFLlByb3BlcnR5QmluZGluZzogVHJ5aW5nIHRvIHVwZGF0ZSBwcm9wZXJ0eSBmb3IgdHJhY2s6ICcrbm9kZU5hbWUrJy4nK3Byb3BlcnR5TmFtZSsnIGJ1dCBpdCB3YXNuXCd0IGZvdW5kLicsdGFyZ2V0T2JqZWN0KTtyZXR1cm47fS8vIGRldGVybWluZSB2ZXJzaW9uaW5nIHNjaGVtZQp2YXIgdmVyc2lvbmluZz10aGlzLlZlcnNpb25pbmcuTm9uZTt0aGlzLnRhcmdldE9iamVjdD10YXJnZXRPYmplY3Q7aWYodGFyZ2V0T2JqZWN0Lm5lZWRzVXBkYXRlIT09dW5kZWZpbmVkKXsvLyBtYXRlcmlhbAp2ZXJzaW9uaW5nPXRoaXMuVmVyc2lvbmluZy5OZWVkc1VwZGF0ZTt9ZWxzZSBpZih0YXJnZXRPYmplY3QubWF0cml4V29ybGROZWVkc1VwZGF0ZSE9PXVuZGVmaW5lZCl7Ly8gbm9kZSB0cmFuc2Zvcm0KdmVyc2lvbmluZz10aGlzLlZlcnNpb25pbmcuTWF0cml4V29ybGROZWVkc1VwZGF0ZTt9Ly8gZGV0ZXJtaW5lIGhvdyB0aGUgcHJvcGVydHkgZ2V0cyBib3VuZAp2YXIgYmluZGluZ1R5cGU9dGhpcy5CaW5kaW5nVHlwZS5EaXJlY3Q7aWYocHJvcGVydHlJbmRleCE9PXVuZGVmaW5lZCl7Ly8gYWNjZXNzIGEgc3ViIGVsZW1lbnQgb2YgdGhlIHByb3BlcnR5IGFycmF5IChvbmx5IHByaW1pdGl2ZXMgYXJlIHN1cHBvcnRlZCByaWdodCBub3cpCmlmKHByb3BlcnR5TmFtZT09PSdtb3JwaFRhcmdldEluZmx1ZW5jZXMnKXsvLyBwb3RlbnRpYWwgb3B0aW1pemF0aW9uLCBza2lwIHRoaXMgaWYgcHJvcGVydHlJbmRleCBpcyBhbHJlYWR5IGFuIGludGVnZXIsIGFuZCBjb252ZXJ0IHRoZSBpbnRlZ2VyIHN0cmluZyB0byBhIHRydWUgaW50ZWdlci4KLy8gc3VwcG9ydCByZXNvbHZpbmcgbW9ycGhUYXJnZXQgbmFtZXMgaW50byBpbmRpY2VzLgppZighdGFyZ2V0T2JqZWN0Lmdlb21ldHJ5KXtjb25zb2xlLmVycm9yKCdUSFJFRS5Qcm9wZXJ0eUJpbmRpbmc6IENhbiBub3QgYmluZCB0byBtb3JwaFRhcmdldEluZmx1ZW5jZXMgYmVjYXVzZSBub2RlIGRvZXMgbm90IGhhdmUgYSBnZW9tZXRyeS4nLHRoaXMpO3JldHVybjt9aWYodGFyZ2V0T2JqZWN0Lmdlb21ldHJ5LmlzQnVmZmVyR2VvbWV0cnkpe2lmKCF0YXJnZXRPYmplY3QuZ2VvbWV0cnkubW9ycGhBdHRyaWJ1dGVzKXtjb25zb2xlLmVycm9yKCdUSFJFRS5Qcm9wZXJ0eUJpbmRpbmc6IENhbiBub3QgYmluZCB0byBtb3JwaFRhcmdldEluZmx1ZW5jZXMgYmVjYXVzZSBub2RlIGRvZXMgbm90IGhhdmUgYSBnZW9tZXRyeS5tb3JwaEF0dHJpYnV0ZXMuJyx0aGlzKTtyZXR1cm47fWlmKHRhcmdldE9iamVjdC5tb3JwaFRhcmdldERpY3Rpb25hcnlbcHJvcGVydHlJbmRleF0hPT11bmRlZmluZWQpe3Byb3BlcnR5SW5kZXg9dGFyZ2V0T2JqZWN0Lm1vcnBoVGFyZ2V0RGljdGlvbmFyeVtwcm9wZXJ0eUluZGV4XTt9fWVsc2V7Y29uc29sZS5lcnJvcignVEhSRUUuUHJvcGVydHlCaW5kaW5nOiBDYW4gbm90IGJpbmQgdG8gbW9ycGhUYXJnZXRJbmZsdWVuY2VzIG9uIFRIUkVFLkdlb21ldHJ5LiBVc2UgVEhSRUUuQnVmZmVyR2VvbWV0cnkgaW5zdGVhZC4nLHRoaXMpO3JldHVybjt9fWJpbmRpbmdUeXBlPXRoaXMuQmluZGluZ1R5cGUuQXJyYXlFbGVtZW50O3RoaXMucmVzb2x2ZWRQcm9wZXJ0eT1ub2RlUHJvcGVydHk7dGhpcy5wcm9wZXJ0eUluZGV4PXByb3BlcnR5SW5kZXg7fWVsc2UgaWYobm9kZVByb3BlcnR5LmZyb21BcnJheSE9PXVuZGVmaW5lZCYmbm9kZVByb3BlcnR5LnRvQXJyYXkhPT11bmRlZmluZWQpey8vIG11c3QgdXNlIGNvcHkgZm9yIE9iamVjdDNELkV1bGVyL1F1YXRlcm5pb24KYmluZGluZ1R5cGU9dGhpcy5CaW5kaW5nVHlwZS5IYXNGcm9tVG9BcnJheTt0aGlzLnJlc29sdmVkUHJvcGVydHk9bm9kZVByb3BlcnR5O31lbHNlIGlmKEFycmF5LmlzQXJyYXkobm9kZVByb3BlcnR5KSl7YmluZGluZ1R5cGU9dGhpcy5CaW5kaW5nVHlwZS5FbnRpcmVBcnJheTt0aGlzLnJlc29sdmVkUHJvcGVydHk9bm9kZVByb3BlcnR5O31lbHNle3RoaXMucHJvcGVydHlOYW1lPXByb3BlcnR5TmFtZTt9Ly8gc2VsZWN0IGdldHRlciAvIHNldHRlcgp0aGlzLmdldFZhbHVlPXRoaXMuR2V0dGVyQnlCaW5kaW5nVHlwZVtiaW5kaW5nVHlwZV07dGhpcy5zZXRWYWx1ZT10aGlzLlNldHRlckJ5QmluZGluZ1R5cGVBbmRWZXJzaW9uaW5nW2JpbmRpbmdUeXBlXVt2ZXJzaW9uaW5nXTt9fSx7a2V5OiJ1bmJpbmQiLHZhbHVlOmZ1bmN0aW9uIHVuYmluZCgpe3RoaXMubm9kZT1udWxsOy8vIGJhY2sgdG8gdGhlIHByb3RvdHlwZSB2ZXJzaW9uIG9mIGdldFZhbHVlIC8gc2V0VmFsdWUKLy8gbm90ZTogYXZvaWRpbmcgdG8gbXV0YXRlIHRoZSBzaGFwZSBvZiAndGhpcycgdmlhICdkZWxldGUnCnRoaXMuZ2V0VmFsdWU9dGhpcy5fZ2V0VmFsdWVfdW5ib3VuZDt0aGlzLnNldFZhbHVlPXRoaXMuX3NldFZhbHVlX3VuYm91bmQ7fX1dLFt7a2V5OiJjcmVhdGUiLHZhbHVlOmZ1bmN0aW9uIGNyZWF0ZShyb290LHBhdGgscGFyc2VkUGF0aCl7aWYoIShyb290JiZyb290LmlzQW5pbWF0aW9uT2JqZWN0R3JvdXApKXtyZXR1cm4gbmV3IFByb3BlcnR5QmluZGluZyhyb290LHBhdGgscGFyc2VkUGF0aCk7fWVsc2V7cmV0dXJuIG5ldyBQcm9wZXJ0eUJpbmRpbmcuQ29tcG9zaXRlKHJvb3QscGF0aCxwYXJzZWRQYXRoKTt9fS8qKgoJICogUmVwbGFjZXMgc3BhY2VzIHdpdGggdW5kZXJzY29yZXMgYW5kIHJlbW92ZXMgdW5zdXBwb3J0ZWQgY2hhcmFjdGVycyBmcm9tCgkgKiBub2RlIG5hbWVzLCB0byBlbnN1cmUgY29tcGF0aWJpbGl0eSB3aXRoIHBhcnNlVHJhY2tOYW1lKCkuCgkgKgoJICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgTm9kZSBuYW1lIHRvIGJlIHNhbml0aXplZC4KCSAqIEByZXR1cm4ge3N0cmluZ30KCSAqL30se2tleToic2FuaXRpemVOb2RlTmFtZSIsdmFsdWU6ZnVuY3Rpb24gc2FuaXRpemVOb2RlTmFtZShuYW1lKXtyZXR1cm4gbmFtZS5yZXBsYWNlKC9ccy9nLCdfJykucmVwbGFjZShfcmVzZXJ2ZWRSZSwnJyk7fX0se2tleToicGFyc2VUcmFja05hbWUiLHZhbHVlOmZ1bmN0aW9uIHBhcnNlVHJhY2tOYW1lKHRyYWNrTmFtZSl7dmFyIG1hdGNoZXM9X3RyYWNrUmUuZXhlYyh0cmFja05hbWUpO2lmKCFtYXRjaGVzKXt0aHJvdyBuZXcgRXJyb3IoJ1Byb3BlcnR5QmluZGluZzogQ2Fubm90IHBhcnNlIHRyYWNrTmFtZTogJyt0cmFja05hbWUpO312YXIgcmVzdWx0cz17Ly8gZGlyZWN0b3J5TmFtZTogbWF0Y2hlc1sgMSBdLCAvLyAodHNjaHcpIGN1cnJlbnRseSB1bnVzZWQKbm9kZU5hbWU6bWF0Y2hlc1syXSxvYmplY3ROYW1lOm1hdGNoZXNbM10sb2JqZWN0SW5kZXg6bWF0Y2hlc1s0XSxwcm9wZXJ0eU5hbWU6bWF0Y2hlc1s1XSwvLyByZXF1aXJlZApwcm9wZXJ0eUluZGV4Om1hdGNoZXNbNl19O3ZhciBsYXN0RG90PXJlc3VsdHMubm9kZU5hbWUmJnJlc3VsdHMubm9kZU5hbWUubGFzdEluZGV4T2YoJy4nKTtpZihsYXN0RG90IT09dW5kZWZpbmVkJiZsYXN0RG90IT09LTEpe3ZhciBvYmplY3ROYW1lPXJlc3VsdHMubm9kZU5hbWUuc3Vic3RyaW5nKGxhc3REb3QrMSk7Ly8gT2JqZWN0IG5hbWVzIG11c3QgYmUgY2hlY2tlZCBhZ2FpbnN0IGFuIGFsbG93bGlzdC4gT3RoZXJ3aXNlLCB0aGVyZQovLyBpcyBubyB3YXkgdG8gcGFyc2UgJ2Zvby5iYXIuYmF6JzogJ2JheicgbXVzdCBiZSBhIHByb3BlcnR5LCBidXQKLy8gJ2JhcicgY291bGQgYmUgdGhlIG9iamVjdE5hbWUsIG9yIHBhcnQgb2YgYSBub2RlTmFtZSAod2hpY2ggY2FuCi8vIGluY2x1ZGUgJy4nIGNoYXJhY3RlcnMpLgppZihfc3VwcG9ydGVkT2JqZWN0TmFtZXMuaW5kZXhPZihvYmplY3ROYW1lKSE9PS0xKXtyZXN1bHRzLm5vZGVOYW1lPXJlc3VsdHMubm9kZU5hbWUuc3Vic3RyaW5nKDAsbGFzdERvdCk7cmVzdWx0cy5vYmplY3ROYW1lPW9iamVjdE5hbWU7fX1pZihyZXN1bHRzLnByb3BlcnR5TmFtZT09PW51bGx8fHJlc3VsdHMucHJvcGVydHlOYW1lLmxlbmd0aD09PTApe3Rocm93IG5ldyBFcnJvcignUHJvcGVydHlCaW5kaW5nOiBjYW4gbm90IHBhcnNlIHByb3BlcnR5TmFtZSBmcm9tIHRyYWNrTmFtZTogJyt0cmFja05hbWUpO31yZXR1cm4gcmVzdWx0czt9fSx7a2V5OiJmaW5kTm9kZSIsdmFsdWU6ZnVuY3Rpb24gZmluZE5vZGUocm9vdCxub2RlTmFtZSl7aWYoIW5vZGVOYW1lfHxub2RlTmFtZT09PScnfHxub2RlTmFtZT09PScuJ3x8bm9kZU5hbWU9PT0tMXx8bm9kZU5hbWU9PT1yb290Lm5hbWV8fG5vZGVOYW1lPT09cm9vdC51dWlkKXtyZXR1cm4gcm9vdDt9Ly8gc2VhcmNoIGludG8gc2tlbGV0b24gYm9uZXMuCmlmKHJvb3Quc2tlbGV0b24pe3ZhciBib25lPXJvb3Quc2tlbGV0b24uZ2V0Qm9uZUJ5TmFtZShub2RlTmFtZSk7aWYoYm9uZSE9PXVuZGVmaW5lZCl7cmV0dXJuIGJvbmU7fX0vLyBzZWFyY2ggaW50byBub2RlIHN1YnRyZWUuCmlmKHJvb3QuY2hpbGRyZW4pe3ZhciBzZWFyY2hOb2RlU3VidHJlZT1mdW5jdGlvbiBzZWFyY2hOb2RlU3VidHJlZShjaGlsZHJlbil7Zm9yKHZhciBfaTMyMz0wO19pMzIzPGNoaWxkcmVuLmxlbmd0aDtfaTMyMysrKXt2YXIgY2hpbGROb2RlPWNoaWxkcmVuW19pMzIzXTtpZihjaGlsZE5vZGUubmFtZT09PW5vZGVOYW1lfHxjaGlsZE5vZGUudXVpZD09PW5vZGVOYW1lKXtyZXR1cm4gY2hpbGROb2RlO312YXIgcmVzdWx0PXNlYXJjaE5vZGVTdWJ0cmVlKGNoaWxkTm9kZS5jaGlsZHJlbik7aWYocmVzdWx0KXJldHVybiByZXN1bHQ7fXJldHVybiBudWxsO307dmFyIHN1YlRyZWVOb2RlPXNlYXJjaE5vZGVTdWJ0cmVlKHJvb3QuY2hpbGRyZW4pO2lmKHN1YlRyZWVOb2RlKXtyZXR1cm4gc3ViVHJlZU5vZGU7fX1yZXR1cm4gbnVsbDt9fV0pO3JldHVybiBQcm9wZXJ0eUJpbmRpbmc7fSgpO1Byb3BlcnR5QmluZGluZy5Db21wb3NpdGU9Q29tcG9zaXRlO1Byb3BlcnR5QmluZGluZy5wcm90b3R5cGUuQmluZGluZ1R5cGU9e0RpcmVjdDowLEVudGlyZUFycmF5OjEsQXJyYXlFbGVtZW50OjIsSGFzRnJvbVRvQXJyYXk6M307UHJvcGVydHlCaW5kaW5nLnByb3RvdHlwZS5WZXJzaW9uaW5nPXtOb25lOjAsTmVlZHNVcGRhdGU6MSxNYXRyaXhXb3JsZE5lZWRzVXBkYXRlOjJ9O1Byb3BlcnR5QmluZGluZy5wcm90b3R5cGUuR2V0dGVyQnlCaW5kaW5nVHlwZT1bUHJvcGVydHlCaW5kaW5nLnByb3RvdHlwZS5fZ2V0VmFsdWVfZGlyZWN0LFByb3BlcnR5QmluZGluZy5wcm90b3R5cGUuX2dldFZhbHVlX2FycmF5LFByb3BlcnR5QmluZGluZy5wcm90b3R5cGUuX2dldFZhbHVlX2FycmF5RWxlbWVudCxQcm9wZXJ0eUJpbmRpbmcucHJvdG90eXBlLl9nZXRWYWx1ZV90b0FycmF5XTtQcm9wZXJ0eUJpbmRpbmcucHJvdG90eXBlLlNldHRlckJ5QmluZGluZ1R5cGVBbmRWZXJzaW9uaW5nPVtbLy8gRGlyZWN0ClByb3BlcnR5QmluZGluZy5wcm90b3R5cGUuX3NldFZhbHVlX2RpcmVjdCxQcm9wZXJ0eUJpbmRpbmcucHJvdG90eXBlLl9zZXRWYWx1ZV9kaXJlY3Rfc2V0TmVlZHNVcGRhdGUsUHJvcGVydHlCaW5kaW5nLnByb3RvdHlwZS5fc2V0VmFsdWVfZGlyZWN0X3NldE1hdHJpeFdvcmxkTmVlZHNVcGRhdGVdLFsvLyBFbnRpcmVBcnJheQpQcm9wZXJ0eUJpbmRpbmcucHJvdG90eXBlLl9zZXRWYWx1ZV9hcnJheSxQcm9wZXJ0eUJpbmRpbmcucHJvdG90eXBlLl9zZXRWYWx1ZV9hcnJheV9zZXROZWVkc1VwZGF0ZSxQcm9wZXJ0eUJpbmRpbmcucHJvdG90eXBlLl9zZXRWYWx1ZV9hcnJheV9zZXRNYXRyaXhXb3JsZE5lZWRzVXBkYXRlXSxbLy8gQXJyYXlFbGVtZW50ClByb3BlcnR5QmluZGluZy5wcm90b3R5cGUuX3NldFZhbHVlX2FycmF5RWxlbWVudCxQcm9wZXJ0eUJpbmRpbmcucHJvdG90eXBlLl9zZXRWYWx1ZV9hcnJheUVsZW1lbnRfc2V0TmVlZHNVcGRhdGUsUHJvcGVydHlCaW5kaW5nLnByb3RvdHlwZS5fc2V0VmFsdWVfYXJyYXlFbGVtZW50X3NldE1hdHJpeFdvcmxkTmVlZHNVcGRhdGVdLFsvLyBIYXNUb0Zyb21BcnJheQpQcm9wZXJ0eUJpbmRpbmcucHJvdG90eXBlLl9zZXRWYWx1ZV9mcm9tQXJyYXksUHJvcGVydHlCaW5kaW5nLnByb3RvdHlwZS5fc2V0VmFsdWVfZnJvbUFycmF5X3NldE5lZWRzVXBkYXRlLFByb3BlcnR5QmluZGluZy5wcm90b3R5cGUuX3NldFZhbHVlX2Zyb21BcnJheV9zZXRNYXRyaXhXb3JsZE5lZWRzVXBkYXRlXV07LyoqCiAqCiAqIEEgZ3JvdXAgb2Ygb2JqZWN0cyB0aGF0IHJlY2VpdmVzIGEgc2hhcmVkIGFuaW1hdGlvbiBzdGF0ZS4KICoKICogVXNhZ2U6CiAqCiAqICAtIEFkZCBvYmplY3RzIHlvdSB3b3VsZCBvdGhlcndpc2UgcGFzcyBhcyAncm9vdCcgdG8gdGhlCiAqICAgIGNvbnN0cnVjdG9yIG9yIHRoZSAuY2xpcEFjdGlvbiBtZXRob2Qgb2YgQW5pbWF0aW9uTWl4ZXIuCiAqCiAqICAtIEluc3RlYWQgcGFzcyB0aGlzIG9iamVjdCBhcyAncm9vdCcuCiAqCiAqICAtIFlvdSBjYW4gYWxzbyBhZGQgYW5kIHJlbW92ZSBvYmplY3RzIGxhdGVyIHdoZW4gdGhlIG1peGVyCiAqICAgIGlzIHJ1bm5pbmcuCiAqCiAqIE5vdGU6CiAqCiAqICAgIE9iamVjdHMgb2YgdGhpcyBjbGFzcyBhcHBlYXIgYXMgb25lIG9iamVjdCB0byB0aGUgbWl4ZXIsCiAqICAgIHNvIGNhY2hlIGNvbnRyb2wgb2YgdGhlIGluZGl2aWR1YWwgb2JqZWN0cyBtdXN0IGJlIGRvbmUKICogICAgb24gdGhlIGdyb3VwLgogKgogKiBMaW1pdGF0aW9uOgogKgogKiAgLSBUaGUgYW5pbWF0ZWQgcHJvcGVydGllcyBtdXN0IGJlIGNvbXBhdGlibGUgYW1vbmcgdGhlCiAqICAgIGFsbCBvYmplY3RzIGluIHRoZSBncm91cC4KICoKICogIC0gQSBzaW5nbGUgcHJvcGVydHkgY2FuIGVpdGhlciBiZSBjb250cm9sbGVkIHRocm91Z2ggYQogKiAgICB0YXJnZXQgZ3JvdXAgb3IgZGlyZWN0bHksIGJ1dCBub3QgYm90aC4KICovdmFyIEFuaW1hdGlvbk9iamVjdEdyb3VwPS8qI19fUFVSRV9fKi9mdW5jdGlvbigpe2Z1bmN0aW9uIEFuaW1hdGlvbk9iamVjdEdyb3VwKCl7X2NsYXNzQ2FsbENoZWNrKHRoaXMsQW5pbWF0aW9uT2JqZWN0R3JvdXApO3RoaXMudXVpZD1nZW5lcmF0ZVVVSUQoKTsvLyBjYWNoZWQgb2JqZWN0cyBmb2xsb3dlZCBieSB0aGUgYWN0aXZlIG9uZXMKdGhpcy5fb2JqZWN0cz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO3RoaXMubkNhY2hlZE9iamVjdHNfPTA7Ly8gdGhyZXNob2xkCi8vIG5vdGU6IHJlYWQgYnkgUHJvcGVydHlCaW5kaW5nLkNvbXBvc2l0ZQp2YXIgaW5kaWNlcz17fTt0aGlzLl9pbmRpY2VzQnlVVUlEPWluZGljZXM7Ly8gZm9yIGJvb2trZWVwaW5nCmZvcih2YXIgX2kzMjQ9MCxuPWFyZ3VtZW50cy5sZW5ndGg7X2kzMjQhPT1uOysrX2kzMjQpe2luZGljZXNbYXJndW1lbnRzW19pMzI0XS51dWlkXT1faTMyNDt9dGhpcy5fcGF0aHM9W107Ly8gaW5zaWRlOiBzdHJpbmcKdGhpcy5fcGFyc2VkUGF0aHM9W107Ly8gaW5zaWRlOiB7IHdlIGRvbid0IGNhcmUsIGhlcmUgfQp0aGlzLl9iaW5kaW5ncz1bXTsvLyBpbnNpZGU6IEFycmF5PCBQcm9wZXJ0eUJpbmRpbmcgPgp0aGlzLl9iaW5kaW5nc0luZGljZXNCeVBhdGg9e307Ly8gaW5zaWRlOiBpbmRpY2VzIGluIHRoZXNlIGFycmF5cwp2YXIgc2NvcGU9dGhpczt0aGlzLnN0YXRzPXtvYmplY3RzOntnZXQgdG90YWwoKXtyZXR1cm4gc2NvcGUuX29iamVjdHMubGVuZ3RoO30sZ2V0IGluVXNlKCl7cmV0dXJuIHRoaXMudG90YWwtc2NvcGUubkNhY2hlZE9iamVjdHNfO319LGdldCBiaW5kaW5nc1Blck9iamVjdCgpe3JldHVybiBzY29wZS5fYmluZGluZ3MubGVuZ3RoO319O31fY3JlYXRlQ2xhc3MoQW5pbWF0aW9uT2JqZWN0R3JvdXAsW3trZXk6ImFkZCIsdmFsdWU6ZnVuY3Rpb24gYWRkKCl7dmFyIG9iamVjdHM9dGhpcy5fb2JqZWN0cyxpbmRpY2VzQnlVVUlEPXRoaXMuX2luZGljZXNCeVVVSUQscGF0aHM9dGhpcy5fcGF0aHMscGFyc2VkUGF0aHM9dGhpcy5fcGFyc2VkUGF0aHMsYmluZGluZ3M9dGhpcy5fYmluZGluZ3MsbkJpbmRpbmdzPWJpbmRpbmdzLmxlbmd0aDt2YXIga25vd25PYmplY3Q9dW5kZWZpbmVkLG5PYmplY3RzPW9iamVjdHMubGVuZ3RoLG5DYWNoZWRPYmplY3RzPXRoaXMubkNhY2hlZE9iamVjdHNfO2Zvcih2YXIgX2kzMjU9MCxuPWFyZ3VtZW50cy5sZW5ndGg7X2kzMjUhPT1uOysrX2kzMjUpe3ZhciBvYmplY3Q9YXJndW1lbnRzW19pMzI1XSx1dWlkPW9iamVjdC51dWlkO3ZhciBpbmRleD1pbmRpY2VzQnlVVUlEW3V1aWRdO2lmKGluZGV4PT09dW5kZWZpbmVkKXsvLyB1bmtub3duIG9iamVjdCAtPiBhZGQgaXQgdG8gdGhlIEFDVElWRSByZWdpb24KaW5kZXg9bk9iamVjdHMrKztpbmRpY2VzQnlVVUlEW3V1aWRdPWluZGV4O29iamVjdHMucHVzaChvYmplY3QpOy8vIGFjY291bnRpbmcgaXMgZG9uZSwgbm93IGRvIHRoZSBzYW1lIGZvciBhbGwgYmluZGluZ3MKZm9yKHZhciBqPTAsbT1uQmluZGluZ3M7aiE9PW07KytqKXtiaW5kaW5nc1tqXS5wdXNoKG5ldyBQcm9wZXJ0eUJpbmRpbmcob2JqZWN0LHBhdGhzW2pdLHBhcnNlZFBhdGhzW2pdKSk7fX1lbHNlIGlmKGluZGV4PG5DYWNoZWRPYmplY3RzKXtrbm93bk9iamVjdD1vYmplY3RzW2luZGV4XTsvLyBtb3ZlIGV4aXN0aW5nIG9iamVjdCB0byB0aGUgQUNUSVZFIHJlZ2lvbgp2YXIgZmlyc3RBY3RpdmVJbmRleD0tLW5DYWNoZWRPYmplY3RzLGxhc3RDYWNoZWRPYmplY3Q9b2JqZWN0c1tmaXJzdEFjdGl2ZUluZGV4XTtpbmRpY2VzQnlVVUlEW2xhc3RDYWNoZWRPYmplY3QudXVpZF09aW5kZXg7b2JqZWN0c1tpbmRleF09bGFzdENhY2hlZE9iamVjdDtpbmRpY2VzQnlVVUlEW3V1aWRdPWZpcnN0QWN0aXZlSW5kZXg7b2JqZWN0c1tmaXJzdEFjdGl2ZUluZGV4XT1vYmplY3Q7Ly8gYWNjb3VudGluZyBpcyBkb25lLCBub3cgZG8gdGhlIHNhbWUgZm9yIGFsbCBiaW5kaW5ncwpmb3IodmFyIF9qMTY9MCxfbTI9bkJpbmRpbmdzO19qMTYhPT1fbTI7KytfajE2KXt2YXIgYmluZGluZ3NGb3JQYXRoPWJpbmRpbmdzW19qMTZdLGxhc3RDYWNoZWQ9YmluZGluZ3NGb3JQYXRoW2ZpcnN0QWN0aXZlSW5kZXhdO3ZhciBiaW5kaW5nPWJpbmRpbmdzRm9yUGF0aFtpbmRleF07YmluZGluZ3NGb3JQYXRoW2luZGV4XT1sYXN0Q2FjaGVkO2lmKGJpbmRpbmc9PT11bmRlZmluZWQpey8vIHNpbmNlIHdlIGRvIG5vdCBib3RoZXIgdG8gY3JlYXRlIG5ldyBiaW5kaW5ncwovLyBmb3Igb2JqZWN0cyB0aGF0IGFyZSBjYWNoZWQsIHRoZSBiaW5kaW5nIG1heQovLyBvciBtYXkgbm90IGV4aXN0CmJpbmRpbmc9bmV3IFByb3BlcnR5QmluZGluZyhvYmplY3QscGF0aHNbX2oxNl0scGFyc2VkUGF0aHNbX2oxNl0pO31iaW5kaW5nc0ZvclBhdGhbZmlyc3RBY3RpdmVJbmRleF09YmluZGluZzt9fWVsc2UgaWYob2JqZWN0c1tpbmRleF0hPT1rbm93bk9iamVjdCl7Y29uc29sZS5lcnJvcignVEhSRUUuQW5pbWF0aW9uT2JqZWN0R3JvdXA6IERpZmZlcmVudCBvYmplY3RzIHdpdGggdGhlIHNhbWUgVVVJRCAnKydkZXRlY3RlZC4gQ2xlYW4gdGhlIGNhY2hlcyBvciByZWNyZWF0ZSB5b3VyIGluZnJhc3RydWN0dXJlIHdoZW4gcmVsb2FkaW5nIHNjZW5lcy4nKTt9Ly8gZWxzZSB0aGUgb2JqZWN0IGlzIGFscmVhZHkgd2hlcmUgd2Ugd2FudCBpdCB0byBiZQp9Ly8gZm9yIGFyZ3VtZW50cwp0aGlzLm5DYWNoZWRPYmplY3RzXz1uQ2FjaGVkT2JqZWN0czt9fSx7a2V5OiJyZW1vdmUiLHZhbHVlOmZ1bmN0aW9uIHJlbW92ZSgpe3ZhciBvYmplY3RzPXRoaXMuX29iamVjdHMsaW5kaWNlc0J5VVVJRD10aGlzLl9pbmRpY2VzQnlVVUlELGJpbmRpbmdzPXRoaXMuX2JpbmRpbmdzLG5CaW5kaW5ncz1iaW5kaW5ncy5sZW5ndGg7dmFyIG5DYWNoZWRPYmplY3RzPXRoaXMubkNhY2hlZE9iamVjdHNfO2Zvcih2YXIgX2kzMjY9MCxuPWFyZ3VtZW50cy5sZW5ndGg7X2kzMjYhPT1uOysrX2kzMjYpe3ZhciBvYmplY3Q9YXJndW1lbnRzW19pMzI2XSx1dWlkPW9iamVjdC51dWlkLGluZGV4PWluZGljZXNCeVVVSURbdXVpZF07aWYoaW5kZXghPT11bmRlZmluZWQmJmluZGV4Pj1uQ2FjaGVkT2JqZWN0cyl7Ly8gbW92ZSBleGlzdGluZyBvYmplY3QgaW50byB0aGUgQ0FDSEVEIHJlZ2lvbgp2YXIgbGFzdENhY2hlZEluZGV4PW5DYWNoZWRPYmplY3RzKyssZmlyc3RBY3RpdmVPYmplY3Q9b2JqZWN0c1tsYXN0Q2FjaGVkSW5kZXhdO2luZGljZXNCeVVVSURbZmlyc3RBY3RpdmVPYmplY3QudXVpZF09aW5kZXg7b2JqZWN0c1tpbmRleF09Zmlyc3RBY3RpdmVPYmplY3Q7aW5kaWNlc0J5VVVJRFt1dWlkXT1sYXN0Q2FjaGVkSW5kZXg7b2JqZWN0c1tsYXN0Q2FjaGVkSW5kZXhdPW9iamVjdDsvLyBhY2NvdW50aW5nIGlzIGRvbmUsIG5vdyBkbyB0aGUgc2FtZSBmb3IgYWxsIGJpbmRpbmdzCmZvcih2YXIgaj0wLG09bkJpbmRpbmdzO2ohPT1tOysrail7dmFyIGJpbmRpbmdzRm9yUGF0aD1iaW5kaW5nc1tqXSxmaXJzdEFjdGl2ZT1iaW5kaW5nc0ZvclBhdGhbbGFzdENhY2hlZEluZGV4XSxiaW5kaW5nPWJpbmRpbmdzRm9yUGF0aFtpbmRleF07YmluZGluZ3NGb3JQYXRoW2luZGV4XT1maXJzdEFjdGl2ZTtiaW5kaW5nc0ZvclBhdGhbbGFzdENhY2hlZEluZGV4XT1iaW5kaW5nO319fS8vIGZvciBhcmd1bWVudHMKdGhpcy5uQ2FjaGVkT2JqZWN0c189bkNhY2hlZE9iamVjdHM7fS8vIHJlbW92ZSAmIGZvcmdldAp9LHtrZXk6InVuY2FjaGUiLHZhbHVlOmZ1bmN0aW9uIHVuY2FjaGUoKXt2YXIgb2JqZWN0cz10aGlzLl9vYmplY3RzLGluZGljZXNCeVVVSUQ9dGhpcy5faW5kaWNlc0J5VVVJRCxiaW5kaW5ncz10aGlzLl9iaW5kaW5ncyxuQmluZGluZ3M9YmluZGluZ3MubGVuZ3RoO3ZhciBuQ2FjaGVkT2JqZWN0cz10aGlzLm5DYWNoZWRPYmplY3RzXyxuT2JqZWN0cz1vYmplY3RzLmxlbmd0aDtmb3IodmFyIF9pMzI3PTAsbj1hcmd1bWVudHMubGVuZ3RoO19pMzI3IT09bjsrK19pMzI3KXt2YXIgb2JqZWN0PWFyZ3VtZW50c1tfaTMyN10sdXVpZD1vYmplY3QudXVpZCxpbmRleD1pbmRpY2VzQnlVVUlEW3V1aWRdO2lmKGluZGV4IT09dW5kZWZpbmVkKXtkZWxldGUgaW5kaWNlc0J5VVVJRFt1dWlkXTtpZihpbmRleDxuQ2FjaGVkT2JqZWN0cyl7Ly8gb2JqZWN0IGlzIGNhY2hlZCwgc2hyaW5rIHRoZSBDQUNIRUQgcmVnaW9uCnZhciBmaXJzdEFjdGl2ZUluZGV4PS0tbkNhY2hlZE9iamVjdHMsbGFzdENhY2hlZE9iamVjdD1vYmplY3RzW2ZpcnN0QWN0aXZlSW5kZXhdLGxhc3RJbmRleD0tLW5PYmplY3RzLGxhc3RPYmplY3Q9b2JqZWN0c1tsYXN0SW5kZXhdOy8vIGxhc3QgY2FjaGVkIG9iamVjdCB0YWtlcyB0aGlzIG9iamVjdCdzIHBsYWNlCmluZGljZXNCeVVVSURbbGFzdENhY2hlZE9iamVjdC51dWlkXT1pbmRleDtvYmplY3RzW2luZGV4XT1sYXN0Q2FjaGVkT2JqZWN0Oy8vIGxhc3Qgb2JqZWN0IGdvZXMgdG8gdGhlIGFjdGl2YXRlZCBzbG90IGFuZCBwb3AKaW5kaWNlc0J5VVVJRFtsYXN0T2JqZWN0LnV1aWRdPWZpcnN0QWN0aXZlSW5kZXg7b2JqZWN0c1tmaXJzdEFjdGl2ZUluZGV4XT1sYXN0T2JqZWN0O29iamVjdHMucG9wKCk7Ly8gYWNjb3VudGluZyBpcyBkb25lLCBub3cgZG8gdGhlIHNhbWUgZm9yIGFsbCBiaW5kaW5ncwpmb3IodmFyIGo9MCxtPW5CaW5kaW5ncztqIT09bTsrK2ope3ZhciBiaW5kaW5nc0ZvclBhdGg9YmluZGluZ3Nbal0sbGFzdENhY2hlZD1iaW5kaW5nc0ZvclBhdGhbZmlyc3RBY3RpdmVJbmRleF0sbGFzdD1iaW5kaW5nc0ZvclBhdGhbbGFzdEluZGV4XTtiaW5kaW5nc0ZvclBhdGhbaW5kZXhdPWxhc3RDYWNoZWQ7YmluZGluZ3NGb3JQYXRoW2ZpcnN0QWN0aXZlSW5kZXhdPWxhc3Q7YmluZGluZ3NGb3JQYXRoLnBvcCgpO319ZWxzZXsvLyBvYmplY3QgaXMgYWN0aXZlLCBqdXN0IHN3YXAgd2l0aCB0aGUgbGFzdCBhbmQgcG9wCnZhciBfbGFzdEluZGV4PS0tbk9iamVjdHMsX2xhc3RPYmplY3Q9b2JqZWN0c1tfbGFzdEluZGV4XTtpZihfbGFzdEluZGV4PjApe2luZGljZXNCeVVVSURbX2xhc3RPYmplY3QudXVpZF09aW5kZXg7fW9iamVjdHNbaW5kZXhdPV9sYXN0T2JqZWN0O29iamVjdHMucG9wKCk7Ly8gYWNjb3VudGluZyBpcyBkb25lLCBub3cgZG8gdGhlIHNhbWUgZm9yIGFsbCBiaW5kaW5ncwpmb3IodmFyIF9qMTc9MCxfbTM9bkJpbmRpbmdzO19qMTchPT1fbTM7KytfajE3KXt2YXIgX2JpbmRpbmdzRm9yUGF0aD1iaW5kaW5nc1tfajE3XTtfYmluZGluZ3NGb3JQYXRoW2luZGV4XT1fYmluZGluZ3NGb3JQYXRoW19sYXN0SW5kZXhdO19iaW5kaW5nc0ZvclBhdGgucG9wKCk7fX0vLyBjYWNoZWQgb3IgYWN0aXZlCn0vLyBpZiBvYmplY3QgaXMga25vd24KfS8vIGZvciBhcmd1bWVudHMKdGhpcy5uQ2FjaGVkT2JqZWN0c189bkNhY2hlZE9iamVjdHM7fS8vIEludGVybmFsIGludGVyZmFjZSB1c2VkIGJ5IGJlZnJpZW5kZWQgUHJvcGVydHlCaW5kaW5nLkNvbXBvc2l0ZToKfSx7a2V5OiJzdWJzY3JpYmVfIix2YWx1ZTpmdW5jdGlvbiBzdWJzY3JpYmVfKHBhdGgscGFyc2VkUGF0aCl7Ly8gcmV0dXJucyBhbiBhcnJheSBvZiBiaW5kaW5ncyBmb3IgdGhlIGdpdmVuIHBhdGggdGhhdCBpcyBjaGFuZ2VkCi8vIGFjY29yZGluZyB0byB0aGUgY29udGFpbmVkIG9iamVjdHMgaW4gdGhlIGdyb3VwCnZhciBpbmRpY2VzQnlQYXRoPXRoaXMuX2JpbmRpbmdzSW5kaWNlc0J5UGF0aDt2YXIgaW5kZXg9aW5kaWNlc0J5UGF0aFtwYXRoXTt2YXIgYmluZGluZ3M9dGhpcy5fYmluZGluZ3M7aWYoaW5kZXghPT11bmRlZmluZWQpcmV0dXJuIGJpbmRpbmdzW2luZGV4XTt2YXIgcGF0aHM9dGhpcy5fcGF0aHMscGFyc2VkUGF0aHM9dGhpcy5fcGFyc2VkUGF0aHMsb2JqZWN0cz10aGlzLl9vYmplY3RzLG5PYmplY3RzPW9iamVjdHMubGVuZ3RoLG5DYWNoZWRPYmplY3RzPXRoaXMubkNhY2hlZE9iamVjdHNfLGJpbmRpbmdzRm9yUGF0aD1uZXcgQXJyYXkobk9iamVjdHMpO2luZGV4PWJpbmRpbmdzLmxlbmd0aDtpbmRpY2VzQnlQYXRoW3BhdGhdPWluZGV4O3BhdGhzLnB1c2gocGF0aCk7cGFyc2VkUGF0aHMucHVzaChwYXJzZWRQYXRoKTtiaW5kaW5ncy5wdXNoKGJpbmRpbmdzRm9yUGF0aCk7Zm9yKHZhciBfaTMyOD1uQ2FjaGVkT2JqZWN0cyxuPW9iamVjdHMubGVuZ3RoO19pMzI4IT09bjsrK19pMzI4KXt2YXIgb2JqZWN0PW9iamVjdHNbX2kzMjhdO2JpbmRpbmdzRm9yUGF0aFtfaTMyOF09bmV3IFByb3BlcnR5QmluZGluZyhvYmplY3QscGF0aCxwYXJzZWRQYXRoKTt9cmV0dXJuIGJpbmRpbmdzRm9yUGF0aDt9fSx7a2V5OiJ1bnN1YnNjcmliZV8iLHZhbHVlOmZ1bmN0aW9uIHVuc3Vic2NyaWJlXyhwYXRoKXsvLyB0ZWxscyB0aGUgZ3JvdXAgdG8gZm9yZ2V0IGFib3V0IGEgcHJvcGVydHkgcGF0aCBhbmQgbm8gbG9uZ2VyCi8vIHVwZGF0ZSB0aGUgYXJyYXkgcHJldmlvdXNseSBvYnRhaW5lZCB3aXRoICdzdWJzY3JpYmVfJwp2YXIgaW5kaWNlc0J5UGF0aD10aGlzLl9iaW5kaW5nc0luZGljZXNCeVBhdGgsaW5kZXg9aW5kaWNlc0J5UGF0aFtwYXRoXTtpZihpbmRleCE9PXVuZGVmaW5lZCl7dmFyIHBhdGhzPXRoaXMuX3BhdGhzLHBhcnNlZFBhdGhzPXRoaXMuX3BhcnNlZFBhdGhzLGJpbmRpbmdzPXRoaXMuX2JpbmRpbmdzLGxhc3RCaW5kaW5nc0luZGV4PWJpbmRpbmdzLmxlbmd0aC0xLGxhc3RCaW5kaW5ncz1iaW5kaW5nc1tsYXN0QmluZGluZ3NJbmRleF0sbGFzdEJpbmRpbmdzUGF0aD1wYXRoW2xhc3RCaW5kaW5nc0luZGV4XTtpbmRpY2VzQnlQYXRoW2xhc3RCaW5kaW5nc1BhdGhdPWluZGV4O2JpbmRpbmdzW2luZGV4XT1sYXN0QmluZGluZ3M7YmluZGluZ3MucG9wKCk7cGFyc2VkUGF0aHNbaW5kZXhdPXBhcnNlZFBhdGhzW2xhc3RCaW5kaW5nc0luZGV4XTtwYXJzZWRQYXRocy5wb3AoKTtwYXRoc1tpbmRleF09cGF0aHNbbGFzdEJpbmRpbmdzSW5kZXhdO3BhdGhzLnBvcCgpO319fV0pO3JldHVybiBBbmltYXRpb25PYmplY3RHcm91cDt9KCk7QW5pbWF0aW9uT2JqZWN0R3JvdXAucHJvdG90eXBlLmlzQW5pbWF0aW9uT2JqZWN0R3JvdXA9dHJ1ZTt2YXIgQW5pbWF0aW9uQWN0aW9uPS8qI19fUFVSRV9fKi9mdW5jdGlvbigpe2Z1bmN0aW9uIEFuaW1hdGlvbkFjdGlvbihtaXhlcixjbGlwKXt2YXIgbG9jYWxSb290PWFyZ3VtZW50cy5sZW5ndGg+MiYmYXJndW1lbnRzWzJdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1syXTpudWxsO3ZhciBibGVuZE1vZGU9YXJndW1lbnRzLmxlbmd0aD4zJiZhcmd1bWVudHNbM10hPT11bmRlZmluZWQ/YXJndW1lbnRzWzNdOmNsaXAuYmxlbmRNb2RlO19jbGFzc0NhbGxDaGVjayh0aGlzLEFuaW1hdGlvbkFjdGlvbik7dGhpcy5fbWl4ZXI9bWl4ZXI7dGhpcy5fY2xpcD1jbGlwO3RoaXMuX2xvY2FsUm9vdD1sb2NhbFJvb3Q7dGhpcy5ibGVuZE1vZGU9YmxlbmRNb2RlO3ZhciB0cmFja3M9Y2xpcC50cmFja3MsblRyYWNrcz10cmFja3MubGVuZ3RoLGludGVycG9sYW50cz1uZXcgQXJyYXkoblRyYWNrcyk7dmFyIGludGVycG9sYW50U2V0dGluZ3M9e2VuZGluZ1N0YXJ0Olplcm9DdXJ2YXR1cmVFbmRpbmcsZW5kaW5nRW5kOlplcm9DdXJ2YXR1cmVFbmRpbmd9O2Zvcih2YXIgX2kzMjk9MDtfaTMyOSE9PW5UcmFja3M7KytfaTMyOSl7dmFyIGludGVycG9sYW50PXRyYWNrc1tfaTMyOV0uY3JlYXRlSW50ZXJwb2xhbnQobnVsbCk7aW50ZXJwb2xhbnRzW19pMzI5XT1pbnRlcnBvbGFudDtpbnRlcnBvbGFudC5zZXR0aW5ncz1pbnRlcnBvbGFudFNldHRpbmdzO310aGlzLl9pbnRlcnBvbGFudFNldHRpbmdzPWludGVycG9sYW50U2V0dGluZ3M7dGhpcy5faW50ZXJwb2xhbnRzPWludGVycG9sYW50czsvLyBib3VuZCBieSB0aGUgbWl4ZXIKLy8gaW5zaWRlOiBQcm9wZXJ0eU1peGVyIChtYW5hZ2VkIGJ5IHRoZSBtaXhlcikKdGhpcy5fcHJvcGVydHlCaW5kaW5ncz1uZXcgQXJyYXkoblRyYWNrcyk7dGhpcy5fY2FjaGVJbmRleD1udWxsOy8vIGZvciB0aGUgbWVtb3J5IG1hbmFnZXIKdGhpcy5fYnlDbGlwQ2FjaGVJbmRleD1udWxsOy8vIGZvciB0aGUgbWVtb3J5IG1hbmFnZXIKdGhpcy5fdGltZVNjYWxlSW50ZXJwb2xhbnQ9bnVsbDt0aGlzLl93ZWlnaHRJbnRlcnBvbGFudD1udWxsO3RoaXMubG9vcD1Mb29wUmVwZWF0O3RoaXMuX2xvb3BDb3VudD0tMTsvLyBnbG9iYWwgbWl4ZXIgdGltZSB3aGVuIHRoZSBhY3Rpb24gaXMgdG8gYmUgc3RhcnRlZAovLyBpdCdzIHNldCBiYWNrIHRvICdudWxsJyB1cG9uIHN0YXJ0IG9mIHRoZSBhY3Rpb24KdGhpcy5fc3RhcnRUaW1lPW51bGw7Ly8gc2NhbGVkIGxvY2FsIHRpbWUgb2YgdGhlIGFjdGlvbgovLyBnZXRzIGNsYW1wZWQgb3Igd3JhcHBlZCB0byAwLi5jbGlwLmR1cmF0aW9uIGFjY29yZGluZyB0byBsb29wCnRoaXMudGltZT0wO3RoaXMudGltZVNjYWxlPTE7dGhpcy5fZWZmZWN0aXZlVGltZVNjYWxlPTE7dGhpcy53ZWlnaHQ9MTt0aGlzLl9lZmZlY3RpdmVXZWlnaHQ9MTt0aGlzLnJlcGV0aXRpb25zPUluZmluaXR5Oy8vIG5vLiBvZiByZXBldGl0aW9ucyB3aGVuIGxvb3BpbmcKdGhpcy5wYXVzZWQ9ZmFsc2U7Ly8gdHJ1ZSAtPiB6ZXJvIGVmZmVjdGl2ZSB0aW1lIHNjYWxlCnRoaXMuZW5hYmxlZD10cnVlOy8vIGZhbHNlIC0+IHplcm8gZWZmZWN0aXZlIHdlaWdodAp0aGlzLmNsYW1wV2hlbkZpbmlzaGVkPWZhbHNlOy8vIGtlZXAgZmVlZGluZyB0aGUgbGFzdCBmcmFtZT8KdGhpcy56ZXJvU2xvcGVBdFN0YXJ0PXRydWU7Ly8gZm9yIHNtb290aCBpbnRlcnBvbGF0aW9uIHcvbyBzZXBhcmF0ZQp0aGlzLnplcm9TbG9wZUF0RW5kPXRydWU7Ly8gY2xpcHMgZm9yIHN0YXJ0LCBsb29wIGFuZCBlbmQKfS8vIFN0YXRlICYgU2NoZWR1bGluZwpfY3JlYXRlQ2xhc3MoQW5pbWF0aW9uQWN0aW9uLFt7a2V5OiJwbGF5Iix2YWx1ZTpmdW5jdGlvbiBwbGF5KCl7dGhpcy5fbWl4ZXIuX2FjdGl2YXRlQWN0aW9uKHRoaXMpO3JldHVybiB0aGlzO319LHtrZXk6InN0b3AiLHZhbHVlOmZ1bmN0aW9uIHN0b3AoKXt0aGlzLl9taXhlci5fZGVhY3RpdmF0ZUFjdGlvbih0aGlzKTtyZXR1cm4gdGhpcy5yZXNldCgpO319LHtrZXk6InJlc2V0Iix2YWx1ZTpmdW5jdGlvbiByZXNldCgpe3RoaXMucGF1c2VkPWZhbHNlO3RoaXMuZW5hYmxlZD10cnVlO3RoaXMudGltZT0wOy8vIHJlc3RhcnQgY2xpcAp0aGlzLl9sb29wQ291bnQ9LTE7Ly8gZm9yZ2V0IHByZXZpb3VzIGxvb3BzCnRoaXMuX3N0YXJ0VGltZT1udWxsOy8vIGZvcmdldCBzY2hlZHVsaW5nCnJldHVybiB0aGlzLnN0b3BGYWRpbmcoKS5zdG9wV2FycGluZygpO319LHtrZXk6ImlzUnVubmluZyIsdmFsdWU6ZnVuY3Rpb24gaXNSdW5uaW5nKCl7cmV0dXJuIHRoaXMuZW5hYmxlZCYmIXRoaXMucGF1c2VkJiZ0aGlzLnRpbWVTY2FsZSE9PTAmJnRoaXMuX3N0YXJ0VGltZT09PW51bGwmJnRoaXMuX21peGVyLl9pc0FjdGl2ZUFjdGlvbih0aGlzKTt9Ly8gcmV0dXJuIHRydWUgd2hlbiBwbGF5IGhhcyBiZWVuIGNhbGxlZAp9LHtrZXk6ImlzU2NoZWR1bGVkIix2YWx1ZTpmdW5jdGlvbiBpc1NjaGVkdWxlZCgpe3JldHVybiB0aGlzLl9taXhlci5faXNBY3RpdmVBY3Rpb24odGhpcyk7fX0se2tleToic3RhcnRBdCIsdmFsdWU6ZnVuY3Rpb24gc3RhcnRBdCh0aW1lKXt0aGlzLl9zdGFydFRpbWU9dGltZTtyZXR1cm4gdGhpczt9fSx7a2V5OiJzZXRMb29wIix2YWx1ZTpmdW5jdGlvbiBzZXRMb29wKG1vZGUscmVwZXRpdGlvbnMpe3RoaXMubG9vcD1tb2RlO3RoaXMucmVwZXRpdGlvbnM9cmVwZXRpdGlvbnM7cmV0dXJuIHRoaXM7fS8vIFdlaWdodAovLyBzZXQgdGhlIHdlaWdodCBzdG9wcGluZyBhbnkgc2NoZWR1bGVkIGZhZGluZwovLyBhbHRob3VnaCAuZW5hYmxlZCA9IGZhbHNlIHlpZWxkcyBhbiBlZmZlY3RpdmUgd2VpZ2h0IG9mIHplcm8sIHRoaXMKLy8gbWV0aG9kIGRvZXMgKm5vdCogY2hhbmdlIC5lbmFibGVkLCBiZWNhdXNlIGl0IHdvdWxkIGJlIGNvbmZ1c2luZwp9LHtrZXk6InNldEVmZmVjdGl2ZVdlaWdodCIsdmFsdWU6ZnVuY3Rpb24gc2V0RWZmZWN0aXZlV2VpZ2h0KHdlaWdodCl7dGhpcy53ZWlnaHQ9d2VpZ2h0Oy8vIG5vdGU6IHNhbWUgbG9naWMgYXMgd2hlbiB1cGRhdGVkIGF0IHJ1bnRpbWUKdGhpcy5fZWZmZWN0aXZlV2VpZ2h0PXRoaXMuZW5hYmxlZD93ZWlnaHQ6MDtyZXR1cm4gdGhpcy5zdG9wRmFkaW5nKCk7fS8vIHJldHVybiB0aGUgd2VpZ2h0IGNvbnNpZGVyaW5nIGZhZGluZyBhbmQgLmVuYWJsZWQKfSx7a2V5OiJnZXRFZmZlY3RpdmVXZWlnaHQiLHZhbHVlOmZ1bmN0aW9uIGdldEVmZmVjdGl2ZVdlaWdodCgpe3JldHVybiB0aGlzLl9lZmZlY3RpdmVXZWlnaHQ7fX0se2tleToiZmFkZUluIix2YWx1ZTpmdW5jdGlvbiBmYWRlSW4oZHVyYXRpb24pe3JldHVybiB0aGlzLl9zY2hlZHVsZUZhZGluZyhkdXJhdGlvbiwwLDEpO319LHtrZXk6ImZhZGVPdXQiLHZhbHVlOmZ1bmN0aW9uIGZhZGVPdXQoZHVyYXRpb24pe3JldHVybiB0aGlzLl9zY2hlZHVsZUZhZGluZyhkdXJhdGlvbiwxLDApO319LHtrZXk6ImNyb3NzRmFkZUZyb20iLHZhbHVlOmZ1bmN0aW9uIGNyb3NzRmFkZUZyb20oZmFkZU91dEFjdGlvbixkdXJhdGlvbix3YXJwKXtmYWRlT3V0QWN0aW9uLmZhZGVPdXQoZHVyYXRpb24pO3RoaXMuZmFkZUluKGR1cmF0aW9uKTtpZih3YXJwKXt2YXIgZmFkZUluRHVyYXRpb249dGhpcy5fY2xpcC5kdXJhdGlvbixmYWRlT3V0RHVyYXRpb249ZmFkZU91dEFjdGlvbi5fY2xpcC5kdXJhdGlvbixzdGFydEVuZFJhdGlvPWZhZGVPdXREdXJhdGlvbi9mYWRlSW5EdXJhdGlvbixlbmRTdGFydFJhdGlvPWZhZGVJbkR1cmF0aW9uL2ZhZGVPdXREdXJhdGlvbjtmYWRlT3V0QWN0aW9uLndhcnAoMS4wLHN0YXJ0RW5kUmF0aW8sZHVyYXRpb24pO3RoaXMud2FycChlbmRTdGFydFJhdGlvLDEuMCxkdXJhdGlvbik7fXJldHVybiB0aGlzO319LHtrZXk6ImNyb3NzRmFkZVRvIix2YWx1ZTpmdW5jdGlvbiBjcm9zc0ZhZGVUbyhmYWRlSW5BY3Rpb24sZHVyYXRpb24sd2FycCl7cmV0dXJuIGZhZGVJbkFjdGlvbi5jcm9zc0ZhZGVGcm9tKHRoaXMsZHVyYXRpb24sd2FycCk7fX0se2tleToic3RvcEZhZGluZyIsdmFsdWU6ZnVuY3Rpb24gc3RvcEZhZGluZygpe3ZhciB3ZWlnaHRJbnRlcnBvbGFudD10aGlzLl93ZWlnaHRJbnRlcnBvbGFudDtpZih3ZWlnaHRJbnRlcnBvbGFudCE9PW51bGwpe3RoaXMuX3dlaWdodEludGVycG9sYW50PW51bGw7dGhpcy5fbWl4ZXIuX3Rha2VCYWNrQ29udHJvbEludGVycG9sYW50KHdlaWdodEludGVycG9sYW50KTt9cmV0dXJuIHRoaXM7fS8vIFRpbWUgU2NhbGUgQ29udHJvbAovLyBzZXQgdGhlIHRpbWUgc2NhbGUgc3RvcHBpbmcgYW55IHNjaGVkdWxlZCB3YXJwaW5nCi8vIGFsdGhvdWdoIC5wYXVzZWQgPSB0cnVlIHlpZWxkcyBhbiBlZmZlY3RpdmUgdGltZSBzY2FsZSBvZiB6ZXJvLCB0aGlzCi8vIG1ldGhvZCBkb2VzICpub3QqIGNoYW5nZSAucGF1c2VkLCBiZWNhdXNlIGl0IHdvdWxkIGJlIGNvbmZ1c2luZwp9LHtrZXk6InNldEVmZmVjdGl2ZVRpbWVTY2FsZSIsdmFsdWU6ZnVuY3Rpb24gc2V0RWZmZWN0aXZlVGltZVNjYWxlKHRpbWVTY2FsZSl7dGhpcy50aW1lU2NhbGU9dGltZVNjYWxlO3RoaXMuX2VmZmVjdGl2ZVRpbWVTY2FsZT10aGlzLnBhdXNlZD8wOnRpbWVTY2FsZTtyZXR1cm4gdGhpcy5zdG9wV2FycGluZygpO30vLyByZXR1cm4gdGhlIHRpbWUgc2NhbGUgY29uc2lkZXJpbmcgd2FycGluZyBhbmQgLnBhdXNlZAp9LHtrZXk6ImdldEVmZmVjdGl2ZVRpbWVTY2FsZSIsdmFsdWU6ZnVuY3Rpb24gZ2V0RWZmZWN0aXZlVGltZVNjYWxlKCl7cmV0dXJuIHRoaXMuX2VmZmVjdGl2ZVRpbWVTY2FsZTt9fSx7a2V5OiJzZXREdXJhdGlvbiIsdmFsdWU6ZnVuY3Rpb24gc2V0RHVyYXRpb24oZHVyYXRpb24pe3RoaXMudGltZVNjYWxlPXRoaXMuX2NsaXAuZHVyYXRpb24vZHVyYXRpb247cmV0dXJuIHRoaXMuc3RvcFdhcnBpbmcoKTt9fSx7a2V5OiJzeW5jV2l0aCIsdmFsdWU6ZnVuY3Rpb24gc3luY1dpdGgoYWN0aW9uKXt0aGlzLnRpbWU9YWN0aW9uLnRpbWU7dGhpcy50aW1lU2NhbGU9YWN0aW9uLnRpbWVTY2FsZTtyZXR1cm4gdGhpcy5zdG9wV2FycGluZygpO319LHtrZXk6ImhhbHQiLHZhbHVlOmZ1bmN0aW9uIGhhbHQoZHVyYXRpb24pe3JldHVybiB0aGlzLndhcnAodGhpcy5fZWZmZWN0aXZlVGltZVNjYWxlLDAsZHVyYXRpb24pO319LHtrZXk6IndhcnAiLHZhbHVlOmZ1bmN0aW9uIHdhcnAoc3RhcnRUaW1lU2NhbGUsZW5kVGltZVNjYWxlLGR1cmF0aW9uKXt2YXIgbWl4ZXI9dGhpcy5fbWl4ZXIsbm93PW1peGVyLnRpbWUsdGltZVNjYWxlPXRoaXMudGltZVNjYWxlO3ZhciBpbnRlcnBvbGFudD10aGlzLl90aW1lU2NhbGVJbnRlcnBvbGFudDtpZihpbnRlcnBvbGFudD09PW51bGwpe2ludGVycG9sYW50PW1peGVyLl9sZW5kQ29udHJvbEludGVycG9sYW50KCk7dGhpcy5fdGltZVNjYWxlSW50ZXJwb2xhbnQ9aW50ZXJwb2xhbnQ7fXZhciB0aW1lcz1pbnRlcnBvbGFudC5wYXJhbWV0ZXJQb3NpdGlvbnMsdmFsdWVzPWludGVycG9sYW50LnNhbXBsZVZhbHVlczt0aW1lc1swXT1ub3c7dGltZXNbMV09bm93K2R1cmF0aW9uO3ZhbHVlc1swXT1zdGFydFRpbWVTY2FsZS90aW1lU2NhbGU7dmFsdWVzWzFdPWVuZFRpbWVTY2FsZS90aW1lU2NhbGU7cmV0dXJuIHRoaXM7fX0se2tleToic3RvcFdhcnBpbmciLHZhbHVlOmZ1bmN0aW9uIHN0b3BXYXJwaW5nKCl7dmFyIHRpbWVTY2FsZUludGVycG9sYW50PXRoaXMuX3RpbWVTY2FsZUludGVycG9sYW50O2lmKHRpbWVTY2FsZUludGVycG9sYW50IT09bnVsbCl7dGhpcy5fdGltZVNjYWxlSW50ZXJwb2xhbnQ9bnVsbDt0aGlzLl9taXhlci5fdGFrZUJhY2tDb250cm9sSW50ZXJwb2xhbnQodGltZVNjYWxlSW50ZXJwb2xhbnQpO31yZXR1cm4gdGhpczt9Ly8gT2JqZWN0IEFjY2Vzc29ycwp9LHtrZXk6ImdldE1peGVyIix2YWx1ZTpmdW5jdGlvbiBnZXRNaXhlcigpe3JldHVybiB0aGlzLl9taXhlcjt9fSx7a2V5OiJnZXRDbGlwIix2YWx1ZTpmdW5jdGlvbiBnZXRDbGlwKCl7cmV0dXJuIHRoaXMuX2NsaXA7fX0se2tleToiZ2V0Um9vdCIsdmFsdWU6ZnVuY3Rpb24gZ2V0Um9vdCgpe3JldHVybiB0aGlzLl9sb2NhbFJvb3R8fHRoaXMuX21peGVyLl9yb290O30vLyBJbnRlcm5hCn0se2tleToiX3VwZGF0ZSIsdmFsdWU6ZnVuY3Rpb24gX3VwZGF0ZSh0aW1lLGRlbHRhVGltZSx0aW1lRGlyZWN0aW9uLGFjY3VJbmRleCl7Ly8gY2FsbGVkIGJ5IHRoZSBtaXhlcgppZighdGhpcy5lbmFibGVkKXsvLyBjYWxsIC5fdXBkYXRlV2VpZ2h0KCkgdG8gdXBkYXRlIC5fZWZmZWN0aXZlV2VpZ2h0CnRoaXMuX3VwZGF0ZVdlaWdodCh0aW1lKTtyZXR1cm47fXZhciBzdGFydFRpbWU9dGhpcy5fc3RhcnRUaW1lO2lmKHN0YXJ0VGltZSE9PW51bGwpey8vIGNoZWNrIGZvciBzY2hlZHVsZWQgc3RhcnQgb2YgYWN0aW9uCnZhciB0aW1lUnVubmluZz0odGltZS1zdGFydFRpbWUpKnRpbWVEaXJlY3Rpb247aWYodGltZVJ1bm5pbmc8MHx8dGltZURpcmVjdGlvbj09PTApe3JldHVybjsvLyB5ZXQgdG8gY29tZSAvIGRvbid0IGRlY2lkZSB3aGVuIGRlbHRhID0gMAp9Ly8gc3RhcnQKdGhpcy5fc3RhcnRUaW1lPW51bGw7Ly8gdW5zY2hlZHVsZQpkZWx0YVRpbWU9dGltZURpcmVjdGlvbip0aW1lUnVubmluZzt9Ly8gYXBwbHkgdGltZSBzY2FsZSBhbmQgYWR2YW5jZSB0aW1lCmRlbHRhVGltZSo9dGhpcy5fdXBkYXRlVGltZVNjYWxlKHRpbWUpO3ZhciBjbGlwVGltZT10aGlzLl91cGRhdGVUaW1lKGRlbHRhVGltZSk7Ly8gbm90ZTogX3VwZGF0ZVRpbWUgbWF5IGRpc2FibGUgdGhlIGFjdGlvbiByZXN1bHRpbmcgaW4KLy8gYW4gZWZmZWN0aXZlIHdlaWdodCBvZiAwCnZhciB3ZWlnaHQ9dGhpcy5fdXBkYXRlV2VpZ2h0KHRpbWUpO2lmKHdlaWdodD4wKXt2YXIgaW50ZXJwb2xhbnRzPXRoaXMuX2ludGVycG9sYW50czt2YXIgcHJvcGVydHlNaXhlcnM9dGhpcy5fcHJvcGVydHlCaW5kaW5ncztzd2l0Y2godGhpcy5ibGVuZE1vZGUpe2Nhc2UgQWRkaXRpdmVBbmltYXRpb25CbGVuZE1vZGU6Zm9yKHZhciBqPTAsbT1pbnRlcnBvbGFudHMubGVuZ3RoO2ohPT1tOysrail7aW50ZXJwb2xhbnRzW2pdLmV2YWx1YXRlKGNsaXBUaW1lKTtwcm9wZXJ0eU1peGVyc1tqXS5hY2N1bXVsYXRlQWRkaXRpdmUod2VpZ2h0KTt9YnJlYWs7Y2FzZSBOb3JtYWxBbmltYXRpb25CbGVuZE1vZGU6ZGVmYXVsdDpmb3IodmFyIF9qMTg9MCxfbTQ9aW50ZXJwb2xhbnRzLmxlbmd0aDtfajE4IT09X200OysrX2oxOCl7aW50ZXJwb2xhbnRzW19qMThdLmV2YWx1YXRlKGNsaXBUaW1lKTtwcm9wZXJ0eU1peGVyc1tfajE4XS5hY2N1bXVsYXRlKGFjY3VJbmRleCx3ZWlnaHQpO319fX19LHtrZXk6Il91cGRhdGVXZWlnaHQiLHZhbHVlOmZ1bmN0aW9uIF91cGRhdGVXZWlnaHQodGltZSl7dmFyIHdlaWdodD0wO2lmKHRoaXMuZW5hYmxlZCl7d2VpZ2h0PXRoaXMud2VpZ2h0O3ZhciBpbnRlcnBvbGFudD10aGlzLl93ZWlnaHRJbnRlcnBvbGFudDtpZihpbnRlcnBvbGFudCE9PW51bGwpe3ZhciBpbnRlcnBvbGFudFZhbHVlPWludGVycG9sYW50LmV2YWx1YXRlKHRpbWUpWzBdO3dlaWdodCo9aW50ZXJwb2xhbnRWYWx1ZTtpZih0aW1lPmludGVycG9sYW50LnBhcmFtZXRlclBvc2l0aW9uc1sxXSl7dGhpcy5zdG9wRmFkaW5nKCk7aWYoaW50ZXJwb2xhbnRWYWx1ZT09PTApey8vIGZhZGVkIG91dCwgZGlzYWJsZQp0aGlzLmVuYWJsZWQ9ZmFsc2U7fX19fXRoaXMuX2VmZmVjdGl2ZVdlaWdodD13ZWlnaHQ7cmV0dXJuIHdlaWdodDt9fSx7a2V5OiJfdXBkYXRlVGltZVNjYWxlIix2YWx1ZTpmdW5jdGlvbiBfdXBkYXRlVGltZVNjYWxlKHRpbWUpe3ZhciB0aW1lU2NhbGU9MDtpZighdGhpcy5wYXVzZWQpe3RpbWVTY2FsZT10aGlzLnRpbWVTY2FsZTt2YXIgaW50ZXJwb2xhbnQ9dGhpcy5fdGltZVNjYWxlSW50ZXJwb2xhbnQ7aWYoaW50ZXJwb2xhbnQhPT1udWxsKXt2YXIgaW50ZXJwb2xhbnRWYWx1ZT1pbnRlcnBvbGFudC5ldmFsdWF0ZSh0aW1lKVswXTt0aW1lU2NhbGUqPWludGVycG9sYW50VmFsdWU7aWYodGltZT5pbnRlcnBvbGFudC5wYXJhbWV0ZXJQb3NpdGlvbnNbMV0pe3RoaXMuc3RvcFdhcnBpbmcoKTtpZih0aW1lU2NhbGU9PT0wKXsvLyBtb3Rpb24gaGFzIGhhbHRlZCwgcGF1c2UKdGhpcy5wYXVzZWQ9dHJ1ZTt9ZWxzZXsvLyB3YXJwIGRvbmUgLSBhcHBseSBmaW5hbCB0aW1lIHNjYWxlCnRoaXMudGltZVNjYWxlPXRpbWVTY2FsZTt9fX19dGhpcy5fZWZmZWN0aXZlVGltZVNjYWxlPXRpbWVTY2FsZTtyZXR1cm4gdGltZVNjYWxlO319LHtrZXk6Il91cGRhdGVUaW1lIix2YWx1ZTpmdW5jdGlvbiBfdXBkYXRlVGltZShkZWx0YVRpbWUpe3ZhciBkdXJhdGlvbj10aGlzLl9jbGlwLmR1cmF0aW9uO3ZhciBsb29wPXRoaXMubG9vcDt2YXIgdGltZT10aGlzLnRpbWUrZGVsdGFUaW1lO3ZhciBsb29wQ291bnQ9dGhpcy5fbG9vcENvdW50O3ZhciBwaW5nUG9uZz1sb29wPT09TG9vcFBpbmdQb25nO2lmKGRlbHRhVGltZT09PTApe2lmKGxvb3BDb3VudD09PS0xKXJldHVybiB0aW1lO3JldHVybiBwaW5nUG9uZyYmKGxvb3BDb3VudCYxKT09PTE/ZHVyYXRpb24tdGltZTp0aW1lO31pZihsb29wPT09TG9vcE9uY2Upe2lmKGxvb3BDb3VudD09PS0xKXsvLyBqdXN0IHN0YXJ0ZWQKdGhpcy5fbG9vcENvdW50PTA7dGhpcy5fc2V0RW5kaW5ncyh0cnVlLHRydWUsZmFsc2UpO31oYW5kbGVfc3RvcDp7aWYodGltZT49ZHVyYXRpb24pe3RpbWU9ZHVyYXRpb247fWVsc2UgaWYodGltZTwwKXt0aW1lPTA7fWVsc2V7dGhpcy50aW1lPXRpbWU7YnJlYWsgaGFuZGxlX3N0b3A7fWlmKHRoaXMuY2xhbXBXaGVuRmluaXNoZWQpdGhpcy5wYXVzZWQ9dHJ1ZTtlbHNlIHRoaXMuZW5hYmxlZD1mYWxzZTt0aGlzLnRpbWU9dGltZTt0aGlzLl9taXhlci5kaXNwYXRjaEV2ZW50KHt0eXBlOidmaW5pc2hlZCcsYWN0aW9uOnRoaXMsZGlyZWN0aW9uOmRlbHRhVGltZTwwPy0xOjF9KTt9fWVsc2V7Ly8gcmVwZXRpdGl2ZSBSZXBlYXQgb3IgUGluZ1BvbmcKaWYobG9vcENvdW50PT09LTEpey8vIGp1c3Qgc3RhcnRlZAppZihkZWx0YVRpbWU+PTApe2xvb3BDb3VudD0wO3RoaXMuX3NldEVuZGluZ3ModHJ1ZSx0aGlzLnJlcGV0aXRpb25zPT09MCxwaW5nUG9uZyk7fWVsc2V7Ly8gd2hlbiBsb29waW5nIGluIHJldmVyc2UgZGlyZWN0aW9uLCB0aGUgaW5pdGlhbAovLyB0cmFuc2l0aW9uIHRocm91Z2ggemVybyBjb3VudHMgYXMgYSByZXBldGl0aW9uLAovLyBzbyBsZWF2ZSBsb29wQ291bnQgYXQgLTEKdGhpcy5fc2V0RW5kaW5ncyh0aGlzLnJlcGV0aXRpb25zPT09MCx0cnVlLHBpbmdQb25nKTt9fWlmKHRpbWU+PWR1cmF0aW9ufHx0aW1lPDApey8vIHdyYXAgYXJvdW5kCnZhciBsb29wRGVsdGE9TWF0aC5mbG9vcih0aW1lL2R1cmF0aW9uKTsvLyBzaWduZWQKdGltZS09ZHVyYXRpb24qbG9vcERlbHRhO2xvb3BDb3VudCs9TWF0aC5hYnMobG9vcERlbHRhKTt2YXIgcGVuZGluZz10aGlzLnJlcGV0aXRpb25zLWxvb3BDb3VudDtpZihwZW5kaW5nPD0wKXsvLyBoYXZlIHRvIHN0b3AgKHN3aXRjaCBzdGF0ZSwgY2xhbXAgdGltZSwgZmlyZSBldmVudCkKaWYodGhpcy5jbGFtcFdoZW5GaW5pc2hlZCl0aGlzLnBhdXNlZD10cnVlO2Vsc2UgdGhpcy5lbmFibGVkPWZhbHNlO3RpbWU9ZGVsdGFUaW1lPjA/ZHVyYXRpb246MDt0aGlzLnRpbWU9dGltZTt0aGlzLl9taXhlci5kaXNwYXRjaEV2ZW50KHt0eXBlOidmaW5pc2hlZCcsYWN0aW9uOnRoaXMsZGlyZWN0aW9uOmRlbHRhVGltZT4wPzE6LTF9KTt9ZWxzZXsvLyBrZWVwIHJ1bm5pbmcKaWYocGVuZGluZz09PTEpey8vIGVudGVyaW5nIHRoZSBsYXN0IHJvdW5kCnZhciBhdFN0YXJ0PWRlbHRhVGltZTwwO3RoaXMuX3NldEVuZGluZ3MoYXRTdGFydCwhYXRTdGFydCxwaW5nUG9uZyk7fWVsc2V7dGhpcy5fc2V0RW5kaW5ncyhmYWxzZSxmYWxzZSxwaW5nUG9uZyk7fXRoaXMuX2xvb3BDb3VudD1sb29wQ291bnQ7dGhpcy50aW1lPXRpbWU7dGhpcy5fbWl4ZXIuZGlzcGF0Y2hFdmVudCh7dHlwZTonbG9vcCcsYWN0aW9uOnRoaXMsbG9vcERlbHRhOmxvb3BEZWx0YX0pO319ZWxzZXt0aGlzLnRpbWU9dGltZTt9aWYocGluZ1BvbmcmJihsb29wQ291bnQmMSk9PT0xKXsvLyBpbnZlcnQgdGltZSBmb3IgdGhlICJwb25nIHJvdW5kIgpyZXR1cm4gZHVyYXRpb24tdGltZTt9fXJldHVybiB0aW1lO319LHtrZXk6Il9zZXRFbmRpbmdzIix2YWx1ZTpmdW5jdGlvbiBfc2V0RW5kaW5ncyhhdFN0YXJ0LGF0RW5kLHBpbmdQb25nKXt2YXIgc2V0dGluZ3M9dGhpcy5faW50ZXJwb2xhbnRTZXR0aW5ncztpZihwaW5nUG9uZyl7c2V0dGluZ3MuZW5kaW5nU3RhcnQ9WmVyb1Nsb3BlRW5kaW5nO3NldHRpbmdzLmVuZGluZ0VuZD1aZXJvU2xvcGVFbmRpbmc7fWVsc2V7Ly8gYXNzdW1pbmcgZm9yIExvb3BPbmNlIGF0U3RhcnQgPT0gYXRFbmQgPT0gdHJ1ZQppZihhdFN0YXJ0KXtzZXR0aW5ncy5lbmRpbmdTdGFydD10aGlzLnplcm9TbG9wZUF0U3RhcnQ/WmVyb1Nsb3BlRW5kaW5nOlplcm9DdXJ2YXR1cmVFbmRpbmc7fWVsc2V7c2V0dGluZ3MuZW5kaW5nU3RhcnQ9V3JhcEFyb3VuZEVuZGluZzt9aWYoYXRFbmQpe3NldHRpbmdzLmVuZGluZ0VuZD10aGlzLnplcm9TbG9wZUF0RW5kP1plcm9TbG9wZUVuZGluZzpaZXJvQ3VydmF0dXJlRW5kaW5nO31lbHNle3NldHRpbmdzLmVuZGluZ0VuZD1XcmFwQXJvdW5kRW5kaW5nO319fX0se2tleToiX3NjaGVkdWxlRmFkaW5nIix2YWx1ZTpmdW5jdGlvbiBfc2NoZWR1bGVGYWRpbmcoZHVyYXRpb24sd2VpZ2h0Tm93LHdlaWdodFRoZW4pe3ZhciBtaXhlcj10aGlzLl9taXhlcixub3c9bWl4ZXIudGltZTt2YXIgaW50ZXJwb2xhbnQ9dGhpcy5fd2VpZ2h0SW50ZXJwb2xhbnQ7aWYoaW50ZXJwb2xhbnQ9PT1udWxsKXtpbnRlcnBvbGFudD1taXhlci5fbGVuZENvbnRyb2xJbnRlcnBvbGFudCgpO3RoaXMuX3dlaWdodEludGVycG9sYW50PWludGVycG9sYW50O312YXIgdGltZXM9aW50ZXJwb2xhbnQucGFyYW1ldGVyUG9zaXRpb25zLHZhbHVlcz1pbnRlcnBvbGFudC5zYW1wbGVWYWx1ZXM7dGltZXNbMF09bm93O3ZhbHVlc1swXT13ZWlnaHROb3c7dGltZXNbMV09bm93K2R1cmF0aW9uO3ZhbHVlc1sxXT13ZWlnaHRUaGVuO3JldHVybiB0aGlzO319XSk7cmV0dXJuIEFuaW1hdGlvbkFjdGlvbjt9KCk7dmFyIEFuaW1hdGlvbk1peGVyPS8qI19fUFVSRV9fKi9mdW5jdGlvbihfRXZlbnREaXNwYXRjaGVyNyl7X2luaGVyaXRzKEFuaW1hdGlvbk1peGVyLF9FdmVudERpc3BhdGNoZXI3KTt2YXIgX3N1cGVyMTM3PV9jcmVhdGVTdXBlcihBbmltYXRpb25NaXhlcik7ZnVuY3Rpb24gQW5pbWF0aW9uTWl4ZXIocm9vdCl7dmFyIF90aGlzMTA4O19jbGFzc0NhbGxDaGVjayh0aGlzLEFuaW1hdGlvbk1peGVyKTtfdGhpczEwOD1fc3VwZXIxMzcuY2FsbCh0aGlzKTtfdGhpczEwOC5fcm9vdD1yb290O190aGlzMTA4Ll9pbml0TWVtb3J5TWFuYWdlcigpO190aGlzMTA4Ll9hY2N1SW5kZXg9MDtfdGhpczEwOC50aW1lPTA7X3RoaXMxMDgudGltZVNjYWxlPTEuMDtyZXR1cm4gX3RoaXMxMDg7fV9jcmVhdGVDbGFzcyhBbmltYXRpb25NaXhlcixbe2tleToiX2JpbmRBY3Rpb24iLHZhbHVlOmZ1bmN0aW9uIF9iaW5kQWN0aW9uKGFjdGlvbixwcm90b3R5cGVBY3Rpb24pe3ZhciByb290PWFjdGlvbi5fbG9jYWxSb290fHx0aGlzLl9yb290LHRyYWNrcz1hY3Rpb24uX2NsaXAudHJhY2tzLG5UcmFja3M9dHJhY2tzLmxlbmd0aCxiaW5kaW5ncz1hY3Rpb24uX3Byb3BlcnR5QmluZGluZ3MsaW50ZXJwb2xhbnRzPWFjdGlvbi5faW50ZXJwb2xhbnRzLHJvb3RVdWlkPXJvb3QudXVpZCxiaW5kaW5nc0J5Um9vdD10aGlzLl9iaW5kaW5nc0J5Um9vdEFuZE5hbWU7dmFyIGJpbmRpbmdzQnlOYW1lPWJpbmRpbmdzQnlSb290W3Jvb3RVdWlkXTtpZihiaW5kaW5nc0J5TmFtZT09PXVuZGVmaW5lZCl7YmluZGluZ3NCeU5hbWU9e307YmluZGluZ3NCeVJvb3Rbcm9vdFV1aWRdPWJpbmRpbmdzQnlOYW1lO31mb3IodmFyIF9pMzMwPTA7X2kzMzAhPT1uVHJhY2tzOysrX2kzMzApe3ZhciB0cmFjaz10cmFja3NbX2kzMzBdLHRyYWNrTmFtZT10cmFjay5uYW1lO3ZhciBiaW5kaW5nPWJpbmRpbmdzQnlOYW1lW3RyYWNrTmFtZV07aWYoYmluZGluZyE9PXVuZGVmaW5lZCl7KytiaW5kaW5nLnJlZmVyZW5jZUNvdW50O2JpbmRpbmdzW19pMzMwXT1iaW5kaW5nO31lbHNle2JpbmRpbmc9YmluZGluZ3NbX2kzMzBdO2lmKGJpbmRpbmchPT11bmRlZmluZWQpey8vIGV4aXN0aW5nIGJpbmRpbmcsIG1ha2Ugc3VyZSB0aGUgY2FjaGUga25vd3MKaWYoYmluZGluZy5fY2FjaGVJbmRleD09PW51bGwpeysrYmluZGluZy5yZWZlcmVuY2VDb3VudDt0aGlzLl9hZGRJbmFjdGl2ZUJpbmRpbmcoYmluZGluZyxyb290VXVpZCx0cmFja05hbWUpO31jb250aW51ZTt9dmFyIHBhdGg9cHJvdG90eXBlQWN0aW9uJiZwcm90b3R5cGVBY3Rpb24uX3Byb3BlcnR5QmluZGluZ3NbX2kzMzBdLmJpbmRpbmcucGFyc2VkUGF0aDtiaW5kaW5nPW5ldyBQcm9wZXJ0eU1peGVyKFByb3BlcnR5QmluZGluZy5jcmVhdGUocm9vdCx0cmFja05hbWUscGF0aCksdHJhY2suVmFsdWVUeXBlTmFtZSx0cmFjay5nZXRWYWx1ZVNpemUoKSk7KytiaW5kaW5nLnJlZmVyZW5jZUNvdW50O3RoaXMuX2FkZEluYWN0aXZlQmluZGluZyhiaW5kaW5nLHJvb3RVdWlkLHRyYWNrTmFtZSk7YmluZGluZ3NbX2kzMzBdPWJpbmRpbmc7fWludGVycG9sYW50c1tfaTMzMF0ucmVzdWx0QnVmZmVyPWJpbmRpbmcuYnVmZmVyO319fSx7a2V5OiJfYWN0aXZhdGVBY3Rpb24iLHZhbHVlOmZ1bmN0aW9uIF9hY3RpdmF0ZUFjdGlvbihhY3Rpb24pe2lmKCF0aGlzLl9pc0FjdGl2ZUFjdGlvbihhY3Rpb24pKXtpZihhY3Rpb24uX2NhY2hlSW5kZXg9PT1udWxsKXsvLyB0aGlzIGFjdGlvbiBoYXMgYmVlbiBmb3Jnb3R0ZW4gYnkgdGhlIGNhY2hlLCBidXQgdGhlIHVzZXIKLy8gYXBwZWFycyB0byBiZSBzdGlsbCB1c2luZyBpdCAtPiByZWJpbmQKdmFyIHJvb3RVdWlkPShhY3Rpb24uX2xvY2FsUm9vdHx8dGhpcy5fcm9vdCkudXVpZCxjbGlwVXVpZD1hY3Rpb24uX2NsaXAudXVpZCxhY3Rpb25zRm9yQ2xpcD10aGlzLl9hY3Rpb25zQnlDbGlwW2NsaXBVdWlkXTt0aGlzLl9iaW5kQWN0aW9uKGFjdGlvbixhY3Rpb25zRm9yQ2xpcCYmYWN0aW9uc0ZvckNsaXAua25vd25BY3Rpb25zWzBdKTt0aGlzLl9hZGRJbmFjdGl2ZUFjdGlvbihhY3Rpb24sY2xpcFV1aWQscm9vdFV1aWQpO312YXIgYmluZGluZ3M9YWN0aW9uLl9wcm9wZXJ0eUJpbmRpbmdzOy8vIGluY3JlbWVudCByZWZlcmVuY2UgY291bnRzIC8gc29ydCBvdXQgc3RhdGUKZm9yKHZhciBfaTMzMT0wLG49YmluZGluZ3MubGVuZ3RoO19pMzMxIT09bjsrK19pMzMxKXt2YXIgYmluZGluZz1iaW5kaW5nc1tfaTMzMV07aWYoYmluZGluZy51c2VDb3VudCsrPT09MCl7dGhpcy5fbGVuZEJpbmRpbmcoYmluZGluZyk7YmluZGluZy5zYXZlT3JpZ2luYWxTdGF0ZSgpO319dGhpcy5fbGVuZEFjdGlvbihhY3Rpb24pO319fSx7a2V5OiJfZGVhY3RpdmF0ZUFjdGlvbiIsdmFsdWU6ZnVuY3Rpb24gX2RlYWN0aXZhdGVBY3Rpb24oYWN0aW9uKXtpZih0aGlzLl9pc0FjdGl2ZUFjdGlvbihhY3Rpb24pKXt2YXIgYmluZGluZ3M9YWN0aW9uLl9wcm9wZXJ0eUJpbmRpbmdzOy8vIGRlY3JlbWVudCByZWZlcmVuY2UgY291bnRzIC8gc29ydCBvdXQgc3RhdGUKZm9yKHZhciBfaTMzMj0wLG49YmluZGluZ3MubGVuZ3RoO19pMzMyIT09bjsrK19pMzMyKXt2YXIgYmluZGluZz1iaW5kaW5nc1tfaTMzMl07aWYoLS1iaW5kaW5nLnVzZUNvdW50PT09MCl7YmluZGluZy5yZXN0b3JlT3JpZ2luYWxTdGF0ZSgpO3RoaXMuX3Rha2VCYWNrQmluZGluZyhiaW5kaW5nKTt9fXRoaXMuX3Rha2VCYWNrQWN0aW9uKGFjdGlvbik7fX0vLyBNZW1vcnkgbWFuYWdlcgp9LHtrZXk6Il9pbml0TWVtb3J5TWFuYWdlciIsdmFsdWU6ZnVuY3Rpb24gX2luaXRNZW1vcnlNYW5hZ2VyKCl7dGhpcy5fYWN0aW9ucz1bXTsvLyAnbkFjdGl2ZUFjdGlvbnMnIGZvbGxvd2VkIGJ5IGluYWN0aXZlIG9uZXMKdGhpcy5fbkFjdGl2ZUFjdGlvbnM9MDt0aGlzLl9hY3Rpb25zQnlDbGlwPXt9Oy8vIGluc2lkZToKLy8gewovLyAJa25vd25BY3Rpb25zOiBBcnJheTwgQW5pbWF0aW9uQWN0aW9uID4gLSB1c2VkIGFzIHByb3RvdHlwZXMKLy8gCWFjdGlvbkJ5Um9vdDogQW5pbWF0aW9uQWN0aW9uIC0gbG9va3VwCi8vIH0KdGhpcy5fYmluZGluZ3M9W107Ly8gJ25BY3RpdmVCaW5kaW5ncycgZm9sbG93ZWQgYnkgaW5hY3RpdmUgb25lcwp0aGlzLl9uQWN0aXZlQmluZGluZ3M9MDt0aGlzLl9iaW5kaW5nc0J5Um9vdEFuZE5hbWU9e307Ly8gaW5zaWRlOiBNYXA8IG5hbWUsIFByb3BlcnR5TWl4ZXIgPgp0aGlzLl9jb250cm9sSW50ZXJwb2xhbnRzPVtdOy8vIHNhbWUgZ2FtZSBhcyBhYm92ZQp0aGlzLl9uQWN0aXZlQ29udHJvbEludGVycG9sYW50cz0wO3ZhciBzY29wZT10aGlzO3RoaXMuc3RhdHM9e2FjdGlvbnM6e2dldCB0b3RhbCgpe3JldHVybiBzY29wZS5fYWN0aW9ucy5sZW5ndGg7fSxnZXQgaW5Vc2UoKXtyZXR1cm4gc2NvcGUuX25BY3RpdmVBY3Rpb25zO319LGJpbmRpbmdzOntnZXQgdG90YWwoKXtyZXR1cm4gc2NvcGUuX2JpbmRpbmdzLmxlbmd0aDt9LGdldCBpblVzZSgpe3JldHVybiBzY29wZS5fbkFjdGl2ZUJpbmRpbmdzO319LGNvbnRyb2xJbnRlcnBvbGFudHM6e2dldCB0b3RhbCgpe3JldHVybiBzY29wZS5fY29udHJvbEludGVycG9sYW50cy5sZW5ndGg7fSxnZXQgaW5Vc2UoKXtyZXR1cm4gc2NvcGUuX25BY3RpdmVDb250cm9sSW50ZXJwb2xhbnRzO319fTt9Ly8gTWVtb3J5IG1hbmFnZW1lbnQgZm9yIEFuaW1hdGlvbkFjdGlvbiBvYmplY3RzCn0se2tleToiX2lzQWN0aXZlQWN0aW9uIix2YWx1ZTpmdW5jdGlvbiBfaXNBY3RpdmVBY3Rpb24oYWN0aW9uKXt2YXIgaW5kZXg9YWN0aW9uLl9jYWNoZUluZGV4O3JldHVybiBpbmRleCE9PW51bGwmJmluZGV4PHRoaXMuX25BY3RpdmVBY3Rpb25zO319LHtrZXk6Il9hZGRJbmFjdGl2ZUFjdGlvbiIsdmFsdWU6ZnVuY3Rpb24gX2FkZEluYWN0aXZlQWN0aW9uKGFjdGlvbixjbGlwVXVpZCxyb290VXVpZCl7dmFyIGFjdGlvbnM9dGhpcy5fYWN0aW9ucyxhY3Rpb25zQnlDbGlwPXRoaXMuX2FjdGlvbnNCeUNsaXA7dmFyIGFjdGlvbnNGb3JDbGlwPWFjdGlvbnNCeUNsaXBbY2xpcFV1aWRdO2lmKGFjdGlvbnNGb3JDbGlwPT09dW5kZWZpbmVkKXthY3Rpb25zRm9yQ2xpcD17a25vd25BY3Rpb25zOlthY3Rpb25dLGFjdGlvbkJ5Um9vdDp7fX07YWN0aW9uLl9ieUNsaXBDYWNoZUluZGV4PTA7YWN0aW9uc0J5Q2xpcFtjbGlwVXVpZF09YWN0aW9uc0ZvckNsaXA7fWVsc2V7dmFyIGtub3duQWN0aW9ucz1hY3Rpb25zRm9yQ2xpcC5rbm93bkFjdGlvbnM7YWN0aW9uLl9ieUNsaXBDYWNoZUluZGV4PWtub3duQWN0aW9ucy5sZW5ndGg7a25vd25BY3Rpb25zLnB1c2goYWN0aW9uKTt9YWN0aW9uLl9jYWNoZUluZGV4PWFjdGlvbnMubGVuZ3RoO2FjdGlvbnMucHVzaChhY3Rpb24pO2FjdGlvbnNGb3JDbGlwLmFjdGlvbkJ5Um9vdFtyb290VXVpZF09YWN0aW9uO319LHtrZXk6Il9yZW1vdmVJbmFjdGl2ZUFjdGlvbiIsdmFsdWU6ZnVuY3Rpb24gX3JlbW92ZUluYWN0aXZlQWN0aW9uKGFjdGlvbil7dmFyIGFjdGlvbnM9dGhpcy5fYWN0aW9ucyxsYXN0SW5hY3RpdmVBY3Rpb249YWN0aW9uc1thY3Rpb25zLmxlbmd0aC0xXSxjYWNoZUluZGV4PWFjdGlvbi5fY2FjaGVJbmRleDtsYXN0SW5hY3RpdmVBY3Rpb24uX2NhY2hlSW5kZXg9Y2FjaGVJbmRleDthY3Rpb25zW2NhY2hlSW5kZXhdPWxhc3RJbmFjdGl2ZUFjdGlvbjthY3Rpb25zLnBvcCgpO2FjdGlvbi5fY2FjaGVJbmRleD1udWxsO3ZhciBjbGlwVXVpZD1hY3Rpb24uX2NsaXAudXVpZCxhY3Rpb25zQnlDbGlwPXRoaXMuX2FjdGlvbnNCeUNsaXAsYWN0aW9uc0ZvckNsaXA9YWN0aW9uc0J5Q2xpcFtjbGlwVXVpZF0sa25vd25BY3Rpb25zRm9yQ2xpcD1hY3Rpb25zRm9yQ2xpcC5rbm93bkFjdGlvbnMsbGFzdEtub3duQWN0aW9uPWtub3duQWN0aW9uc0ZvckNsaXBba25vd25BY3Rpb25zRm9yQ2xpcC5sZW5ndGgtMV0sYnlDbGlwQ2FjaGVJbmRleD1hY3Rpb24uX2J5Q2xpcENhY2hlSW5kZXg7bGFzdEtub3duQWN0aW9uLl9ieUNsaXBDYWNoZUluZGV4PWJ5Q2xpcENhY2hlSW5kZXg7a25vd25BY3Rpb25zRm9yQ2xpcFtieUNsaXBDYWNoZUluZGV4XT1sYXN0S25vd25BY3Rpb247a25vd25BY3Rpb25zRm9yQ2xpcC5wb3AoKTthY3Rpb24uX2J5Q2xpcENhY2hlSW5kZXg9bnVsbDt2YXIgYWN0aW9uQnlSb290PWFjdGlvbnNGb3JDbGlwLmFjdGlvbkJ5Um9vdCxyb290VXVpZD0oYWN0aW9uLl9sb2NhbFJvb3R8fHRoaXMuX3Jvb3QpLnV1aWQ7ZGVsZXRlIGFjdGlvbkJ5Um9vdFtyb290VXVpZF07aWYoa25vd25BY3Rpb25zRm9yQ2xpcC5sZW5ndGg9PT0wKXtkZWxldGUgYWN0aW9uc0J5Q2xpcFtjbGlwVXVpZF07fXRoaXMuX3JlbW92ZUluYWN0aXZlQmluZGluZ3NGb3JBY3Rpb24oYWN0aW9uKTt9fSx7a2V5OiJfcmVtb3ZlSW5hY3RpdmVCaW5kaW5nc0ZvckFjdGlvbiIsdmFsdWU6ZnVuY3Rpb24gX3JlbW92ZUluYWN0aXZlQmluZGluZ3NGb3JBY3Rpb24oYWN0aW9uKXt2YXIgYmluZGluZ3M9YWN0aW9uLl9wcm9wZXJ0eUJpbmRpbmdzO2Zvcih2YXIgX2kzMzM9MCxuPWJpbmRpbmdzLmxlbmd0aDtfaTMzMyE9PW47KytfaTMzMyl7dmFyIGJpbmRpbmc9YmluZGluZ3NbX2kzMzNdO2lmKC0tYmluZGluZy5yZWZlcmVuY2VDb3VudD09PTApe3RoaXMuX3JlbW92ZUluYWN0aXZlQmluZGluZyhiaW5kaW5nKTt9fX19LHtrZXk6Il9sZW5kQWN0aW9uIix2YWx1ZTpmdW5jdGlvbiBfbGVuZEFjdGlvbihhY3Rpb24pey8vIFsgYWN0aXZlIGFjdGlvbnMgfCAgaW5hY3RpdmUgYWN0aW9ucyAgXQovLyBbICBhY3RpdmUgYWN0aW9ucyA+fCBpbmFjdGl2ZSBhY3Rpb25zIF0KLy8gICAgICAgICAgICAgICAgIHMgICAgICAgIGEKLy8gICAgICAgICAgICAgICAgICA8LXN3YXAtPgovLyAgICAgICAgICAgICAgICAgYSAgICAgICAgcwp2YXIgYWN0aW9ucz10aGlzLl9hY3Rpb25zLHByZXZJbmRleD1hY3Rpb24uX2NhY2hlSW5kZXgsbGFzdEFjdGl2ZUluZGV4PXRoaXMuX25BY3RpdmVBY3Rpb25zKyssZmlyc3RJbmFjdGl2ZUFjdGlvbj1hY3Rpb25zW2xhc3RBY3RpdmVJbmRleF07YWN0aW9uLl9jYWNoZUluZGV4PWxhc3RBY3RpdmVJbmRleDthY3Rpb25zW2xhc3RBY3RpdmVJbmRleF09YWN0aW9uO2ZpcnN0SW5hY3RpdmVBY3Rpb24uX2NhY2hlSW5kZXg9cHJldkluZGV4O2FjdGlvbnNbcHJldkluZGV4XT1maXJzdEluYWN0aXZlQWN0aW9uO319LHtrZXk6Il90YWtlQmFja0FjdGlvbiIsdmFsdWU6ZnVuY3Rpb24gX3Rha2VCYWNrQWN0aW9uKGFjdGlvbil7Ly8gWyAgYWN0aXZlIGFjdGlvbnMgIHwgaW5hY3RpdmUgYWN0aW9ucyBdCi8vIFsgYWN0aXZlIGFjdGlvbnMgfDwgaW5hY3RpdmUgYWN0aW9ucyAgXQovLyAgICAgICAgYSAgICAgICAgcwovLyAgICAgICAgIDwtc3dhcC0+Ci8vICAgICAgICBzICAgICAgICBhCnZhciBhY3Rpb25zPXRoaXMuX2FjdGlvbnMscHJldkluZGV4PWFjdGlvbi5fY2FjaGVJbmRleCxmaXJzdEluYWN0aXZlSW5kZXg9LS10aGlzLl9uQWN0aXZlQWN0aW9ucyxsYXN0QWN0aXZlQWN0aW9uPWFjdGlvbnNbZmlyc3RJbmFjdGl2ZUluZGV4XTthY3Rpb24uX2NhY2hlSW5kZXg9Zmlyc3RJbmFjdGl2ZUluZGV4O2FjdGlvbnNbZmlyc3RJbmFjdGl2ZUluZGV4XT1hY3Rpb247bGFzdEFjdGl2ZUFjdGlvbi5fY2FjaGVJbmRleD1wcmV2SW5kZXg7YWN0aW9uc1twcmV2SW5kZXhdPWxhc3RBY3RpdmVBY3Rpb247fS8vIE1lbW9yeSBtYW5hZ2VtZW50IGZvciBQcm9wZXJ0eU1peGVyIG9iamVjdHMKfSx7a2V5OiJfYWRkSW5hY3RpdmVCaW5kaW5nIix2YWx1ZTpmdW5jdGlvbiBfYWRkSW5hY3RpdmVCaW5kaW5nKGJpbmRpbmcscm9vdFV1aWQsdHJhY2tOYW1lKXt2YXIgYmluZGluZ3NCeVJvb3Q9dGhpcy5fYmluZGluZ3NCeVJvb3RBbmROYW1lLGJpbmRpbmdzPXRoaXMuX2JpbmRpbmdzO3ZhciBiaW5kaW5nQnlOYW1lPWJpbmRpbmdzQnlSb290W3Jvb3RVdWlkXTtpZihiaW5kaW5nQnlOYW1lPT09dW5kZWZpbmVkKXtiaW5kaW5nQnlOYW1lPXt9O2JpbmRpbmdzQnlSb290W3Jvb3RVdWlkXT1iaW5kaW5nQnlOYW1lO31iaW5kaW5nQnlOYW1lW3RyYWNrTmFtZV09YmluZGluZztiaW5kaW5nLl9jYWNoZUluZGV4PWJpbmRpbmdzLmxlbmd0aDtiaW5kaW5ncy5wdXNoKGJpbmRpbmcpO319LHtrZXk6Il9yZW1vdmVJbmFjdGl2ZUJpbmRpbmciLHZhbHVlOmZ1bmN0aW9uIF9yZW1vdmVJbmFjdGl2ZUJpbmRpbmcoYmluZGluZyl7dmFyIGJpbmRpbmdzPXRoaXMuX2JpbmRpbmdzLHByb3BCaW5kaW5nPWJpbmRpbmcuYmluZGluZyxyb290VXVpZD1wcm9wQmluZGluZy5yb290Tm9kZS51dWlkLHRyYWNrTmFtZT1wcm9wQmluZGluZy5wYXRoLGJpbmRpbmdzQnlSb290PXRoaXMuX2JpbmRpbmdzQnlSb290QW5kTmFtZSxiaW5kaW5nQnlOYW1lPWJpbmRpbmdzQnlSb290W3Jvb3RVdWlkXSxsYXN0SW5hY3RpdmVCaW5kaW5nPWJpbmRpbmdzW2JpbmRpbmdzLmxlbmd0aC0xXSxjYWNoZUluZGV4PWJpbmRpbmcuX2NhY2hlSW5kZXg7bGFzdEluYWN0aXZlQmluZGluZy5fY2FjaGVJbmRleD1jYWNoZUluZGV4O2JpbmRpbmdzW2NhY2hlSW5kZXhdPWxhc3RJbmFjdGl2ZUJpbmRpbmc7YmluZGluZ3MucG9wKCk7ZGVsZXRlIGJpbmRpbmdCeU5hbWVbdHJhY2tOYW1lXTtpZihPYmplY3Qua2V5cyhiaW5kaW5nQnlOYW1lKS5sZW5ndGg9PT0wKXtkZWxldGUgYmluZGluZ3NCeVJvb3Rbcm9vdFV1aWRdO319fSx7a2V5OiJfbGVuZEJpbmRpbmciLHZhbHVlOmZ1bmN0aW9uIF9sZW5kQmluZGluZyhiaW5kaW5nKXt2YXIgYmluZGluZ3M9dGhpcy5fYmluZGluZ3MscHJldkluZGV4PWJpbmRpbmcuX2NhY2hlSW5kZXgsbGFzdEFjdGl2ZUluZGV4PXRoaXMuX25BY3RpdmVCaW5kaW5ncysrLGZpcnN0SW5hY3RpdmVCaW5kaW5nPWJpbmRpbmdzW2xhc3RBY3RpdmVJbmRleF07YmluZGluZy5fY2FjaGVJbmRleD1sYXN0QWN0aXZlSW5kZXg7YmluZGluZ3NbbGFzdEFjdGl2ZUluZGV4XT1iaW5kaW5nO2ZpcnN0SW5hY3RpdmVCaW5kaW5nLl9jYWNoZUluZGV4PXByZXZJbmRleDtiaW5kaW5nc1twcmV2SW5kZXhdPWZpcnN0SW5hY3RpdmVCaW5kaW5nO319LHtrZXk6Il90YWtlQmFja0JpbmRpbmciLHZhbHVlOmZ1bmN0aW9uIF90YWtlQmFja0JpbmRpbmcoYmluZGluZyl7dmFyIGJpbmRpbmdzPXRoaXMuX2JpbmRpbmdzLHByZXZJbmRleD1iaW5kaW5nLl9jYWNoZUluZGV4LGZpcnN0SW5hY3RpdmVJbmRleD0tLXRoaXMuX25BY3RpdmVCaW5kaW5ncyxsYXN0QWN0aXZlQmluZGluZz1iaW5kaW5nc1tmaXJzdEluYWN0aXZlSW5kZXhdO2JpbmRpbmcuX2NhY2hlSW5kZXg9Zmlyc3RJbmFjdGl2ZUluZGV4O2JpbmRpbmdzW2ZpcnN0SW5hY3RpdmVJbmRleF09YmluZGluZztsYXN0QWN0aXZlQmluZGluZy5fY2FjaGVJbmRleD1wcmV2SW5kZXg7YmluZGluZ3NbcHJldkluZGV4XT1sYXN0QWN0aXZlQmluZGluZzt9Ly8gTWVtb3J5IG1hbmFnZW1lbnQgb2YgSW50ZXJwb2xhbnRzIGZvciB3ZWlnaHQgYW5kIHRpbWUgc2NhbGUKfSx7a2V5OiJfbGVuZENvbnRyb2xJbnRlcnBvbGFudCIsdmFsdWU6ZnVuY3Rpb24gX2xlbmRDb250cm9sSW50ZXJwb2xhbnQoKXt2YXIgaW50ZXJwb2xhbnRzPXRoaXMuX2NvbnRyb2xJbnRlcnBvbGFudHMsbGFzdEFjdGl2ZUluZGV4PXRoaXMuX25BY3RpdmVDb250cm9sSW50ZXJwb2xhbnRzKys7dmFyIGludGVycG9sYW50PWludGVycG9sYW50c1tsYXN0QWN0aXZlSW5kZXhdO2lmKGludGVycG9sYW50PT09dW5kZWZpbmVkKXtpbnRlcnBvbGFudD1uZXcgTGluZWFySW50ZXJwb2xhbnQobmV3IEZsb2F0MzJBcnJheSgyKSxuZXcgRmxvYXQzMkFycmF5KDIpLDEsdGhpcy5fY29udHJvbEludGVycG9sYW50c1Jlc3VsdEJ1ZmZlcik7aW50ZXJwb2xhbnQuX19jYWNoZUluZGV4PWxhc3RBY3RpdmVJbmRleDtpbnRlcnBvbGFudHNbbGFzdEFjdGl2ZUluZGV4XT1pbnRlcnBvbGFudDt9cmV0dXJuIGludGVycG9sYW50O319LHtrZXk6Il90YWtlQmFja0NvbnRyb2xJbnRlcnBvbGFudCIsdmFsdWU6ZnVuY3Rpb24gX3Rha2VCYWNrQ29udHJvbEludGVycG9sYW50KGludGVycG9sYW50KXt2YXIgaW50ZXJwb2xhbnRzPXRoaXMuX2NvbnRyb2xJbnRlcnBvbGFudHMscHJldkluZGV4PWludGVycG9sYW50Ll9fY2FjaGVJbmRleCxmaXJzdEluYWN0aXZlSW5kZXg9LS10aGlzLl9uQWN0aXZlQ29udHJvbEludGVycG9sYW50cyxsYXN0QWN0aXZlSW50ZXJwb2xhbnQ9aW50ZXJwb2xhbnRzW2ZpcnN0SW5hY3RpdmVJbmRleF07aW50ZXJwb2xhbnQuX19jYWNoZUluZGV4PWZpcnN0SW5hY3RpdmVJbmRleDtpbnRlcnBvbGFudHNbZmlyc3RJbmFjdGl2ZUluZGV4XT1pbnRlcnBvbGFudDtsYXN0QWN0aXZlSW50ZXJwb2xhbnQuX19jYWNoZUluZGV4PXByZXZJbmRleDtpbnRlcnBvbGFudHNbcHJldkluZGV4XT1sYXN0QWN0aXZlSW50ZXJwb2xhbnQ7fS8vIHJldHVybiBhbiBhY3Rpb24gZm9yIGEgY2xpcCBvcHRpb25hbGx5IHVzaW5nIGEgY3VzdG9tIHJvb3QgdGFyZ2V0Ci8vIG9iamVjdCAodGhpcyBtZXRob2QgYWxsb2NhdGVzIGEgbG90IG9mIGR5bmFtaWMgbWVtb3J5IGluIGNhc2UgYQovLyBwcmV2aW91c2x5IHVua25vd24gY2xpcC9yb290IGNvbWJpbmF0aW9uIGlzIHNwZWNpZmllZCkKfSx7a2V5OiJjbGlwQWN0aW9uIix2YWx1ZTpmdW5jdGlvbiBjbGlwQWN0aW9uKGNsaXAsb3B0aW9uYWxSb290LGJsZW5kTW9kZSl7dmFyIHJvb3Q9b3B0aW9uYWxSb290fHx0aGlzLl9yb290LHJvb3RVdWlkPXJvb3QudXVpZDt2YXIgY2xpcE9iamVjdD10eXBlb2YgY2xpcD09PSdzdHJpbmcnP0FuaW1hdGlvbkNsaXAuZmluZEJ5TmFtZShyb290LGNsaXApOmNsaXA7dmFyIGNsaXBVdWlkPWNsaXBPYmplY3QhPT1udWxsP2NsaXBPYmplY3QudXVpZDpjbGlwO3ZhciBhY3Rpb25zRm9yQ2xpcD10aGlzLl9hY3Rpb25zQnlDbGlwW2NsaXBVdWlkXTt2YXIgcHJvdG90eXBlQWN0aW9uPW51bGw7aWYoYmxlbmRNb2RlPT09dW5kZWZpbmVkKXtpZihjbGlwT2JqZWN0IT09bnVsbCl7YmxlbmRNb2RlPWNsaXBPYmplY3QuYmxlbmRNb2RlO31lbHNle2JsZW5kTW9kZT1Ob3JtYWxBbmltYXRpb25CbGVuZE1vZGU7fX1pZihhY3Rpb25zRm9yQ2xpcCE9PXVuZGVmaW5lZCl7dmFyIGV4aXN0aW5nQWN0aW9uPWFjdGlvbnNGb3JDbGlwLmFjdGlvbkJ5Um9vdFtyb290VXVpZF07aWYoZXhpc3RpbmdBY3Rpb24hPT11bmRlZmluZWQmJmV4aXN0aW5nQWN0aW9uLmJsZW5kTW9kZT09PWJsZW5kTW9kZSl7cmV0dXJuIGV4aXN0aW5nQWN0aW9uO30vLyB3ZSBrbm93IHRoZSBjbGlwLCBzbyB3ZSBkb24ndCBoYXZlIHRvIHBhcnNlIGFsbAovLyB0aGUgYmluZGluZ3MgYWdhaW4gYnV0IGNhbiBqdXN0IGNvcHkKcHJvdG90eXBlQWN0aW9uPWFjdGlvbnNGb3JDbGlwLmtub3duQWN0aW9uc1swXTsvLyBhbHNvLCB0YWtlIHRoZSBjbGlwIGZyb20gdGhlIHByb3RvdHlwZSBhY3Rpb24KaWYoY2xpcE9iamVjdD09PW51bGwpY2xpcE9iamVjdD1wcm90b3R5cGVBY3Rpb24uX2NsaXA7fS8vIGNsaXAgbXVzdCBiZSBrbm93biB3aGVuIHNwZWNpZmllZCB2aWEgc3RyaW5nCmlmKGNsaXBPYmplY3Q9PT1udWxsKXJldHVybiBudWxsOy8vIGFsbG9jYXRlIGFsbCByZXNvdXJjZXMgcmVxdWlyZWQgdG8gcnVuIGl0CnZhciBuZXdBY3Rpb249bmV3IEFuaW1hdGlvbkFjdGlvbih0aGlzLGNsaXBPYmplY3Qsb3B0aW9uYWxSb290LGJsZW5kTW9kZSk7dGhpcy5fYmluZEFjdGlvbihuZXdBY3Rpb24scHJvdG90eXBlQWN0aW9uKTsvLyBhbmQgbWFrZSB0aGUgYWN0aW9uIGtub3duIHRvIHRoZSBtZW1vcnkgbWFuYWdlcgp0aGlzLl9hZGRJbmFjdGl2ZUFjdGlvbihuZXdBY3Rpb24sY2xpcFV1aWQscm9vdFV1aWQpO3JldHVybiBuZXdBY3Rpb247fS8vIGdldCBhbiBleGlzdGluZyBhY3Rpb24KfSx7a2V5OiJleGlzdGluZ0FjdGlvbiIsdmFsdWU6ZnVuY3Rpb24gZXhpc3RpbmdBY3Rpb24oY2xpcCxvcHRpb25hbFJvb3Qpe3ZhciByb290PW9wdGlvbmFsUm9vdHx8dGhpcy5fcm9vdCxyb290VXVpZD1yb290LnV1aWQsY2xpcE9iamVjdD10eXBlb2YgY2xpcD09PSdzdHJpbmcnP0FuaW1hdGlvbkNsaXAuZmluZEJ5TmFtZShyb290LGNsaXApOmNsaXAsY2xpcFV1aWQ9Y2xpcE9iamVjdD9jbGlwT2JqZWN0LnV1aWQ6Y2xpcCxhY3Rpb25zRm9yQ2xpcD10aGlzLl9hY3Rpb25zQnlDbGlwW2NsaXBVdWlkXTtpZihhY3Rpb25zRm9yQ2xpcCE9PXVuZGVmaW5lZCl7cmV0dXJuIGFjdGlvbnNGb3JDbGlwLmFjdGlvbkJ5Um9vdFtyb290VXVpZF18fG51bGw7fXJldHVybiBudWxsO30vLyBkZWFjdGl2YXRlcyBhbGwgcHJldmlvdXNseSBzY2hlZHVsZWQgYWN0aW9ucwp9LHtrZXk6InN0b3BBbGxBY3Rpb24iLHZhbHVlOmZ1bmN0aW9uIHN0b3BBbGxBY3Rpb24oKXt2YXIgYWN0aW9ucz10aGlzLl9hY3Rpb25zLG5BY3Rpb25zPXRoaXMuX25BY3RpdmVBY3Rpb25zO2Zvcih2YXIgX2kzMzQ9bkFjdGlvbnMtMTtfaTMzND49MDstLV9pMzM0KXthY3Rpb25zW19pMzM0XS5zdG9wKCk7fXJldHVybiB0aGlzO30vLyBhZHZhbmNlIHRoZSB0aW1lIGFuZCB1cGRhdGUgYXBwbHkgdGhlIGFuaW1hdGlvbgp9LHtrZXk6InVwZGF0ZSIsdmFsdWU6ZnVuY3Rpb24gdXBkYXRlKGRlbHRhVGltZSl7ZGVsdGFUaW1lKj10aGlzLnRpbWVTY2FsZTt2YXIgYWN0aW9ucz10aGlzLl9hY3Rpb25zLG5BY3Rpb25zPXRoaXMuX25BY3RpdmVBY3Rpb25zLHRpbWU9dGhpcy50aW1lKz1kZWx0YVRpbWUsdGltZURpcmVjdGlvbj1NYXRoLnNpZ24oZGVsdGFUaW1lKSxhY2N1SW5kZXg9dGhpcy5fYWNjdUluZGV4Xj0xOy8vIHJ1biBhY3RpdmUgYWN0aW9ucwpmb3IodmFyIF9pMzM1PTA7X2kzMzUhPT1uQWN0aW9uczsrK19pMzM1KXt2YXIgYWN0aW9uPWFjdGlvbnNbX2kzMzVdO2FjdGlvbi5fdXBkYXRlKHRpbWUsZGVsdGFUaW1lLHRpbWVEaXJlY3Rpb24sYWNjdUluZGV4KTt9Ly8gdXBkYXRlIHNjZW5lIGdyYXBoCnZhciBiaW5kaW5ncz10aGlzLl9iaW5kaW5ncyxuQmluZGluZ3M9dGhpcy5fbkFjdGl2ZUJpbmRpbmdzO2Zvcih2YXIgX2kzMzY9MDtfaTMzNiE9PW5CaW5kaW5nczsrK19pMzM2KXtiaW5kaW5nc1tfaTMzNl0uYXBwbHkoYWNjdUluZGV4KTt9cmV0dXJuIHRoaXM7fS8vIEFsbG93cyB5b3UgdG8gc2VlayB0byBhIHNwZWNpZmljIHRpbWUgaW4gYW4gYW5pbWF0aW9uLgp9LHtrZXk6InNldFRpbWUiLHZhbHVlOmZ1bmN0aW9uIHNldFRpbWUodGltZUluU2Vjb25kcyl7dGhpcy50aW1lPTA7Ly8gWmVybyBvdXQgdGltZSBhdHRyaWJ1dGUgZm9yIEFuaW1hdGlvbk1peGVyIG9iamVjdDsKZm9yKHZhciBfaTMzNz0wO19pMzM3PHRoaXMuX2FjdGlvbnMubGVuZ3RoO19pMzM3Kyspe3RoaXMuX2FjdGlvbnNbX2kzMzddLnRpbWU9MDsvLyBaZXJvIG91dCB0aW1lIGF0dHJpYnV0ZSBmb3IgYWxsIGFzc29jaWF0ZWQgQW5pbWF0aW9uQWN0aW9uIG9iamVjdHMuCn1yZXR1cm4gdGhpcy51cGRhdGUodGltZUluU2Vjb25kcyk7Ly8gVXBkYXRlIHVzZWQgdG8gc2V0IGV4YWN0IHRpbWUuIFJldHVybnMgInRoaXMiIEFuaW1hdGlvbk1peGVyIG9iamVjdC4KfS8vIHJldHVybiB0aGlzIG1peGVyJ3Mgcm9vdCB0YXJnZXQgb2JqZWN0Cn0se2tleToiZ2V0Um9vdCIsdmFsdWU6ZnVuY3Rpb24gZ2V0Um9vdCgpe3JldHVybiB0aGlzLl9yb290O30vLyBmcmVlIGFsbCByZXNvdXJjZXMgc3BlY2lmaWMgdG8gYSBwYXJ0aWN1bGFyIGNsaXAKfSx7a2V5OiJ1bmNhY2hlQ2xpcCIsdmFsdWU6ZnVuY3Rpb24gdW5jYWNoZUNsaXAoY2xpcCl7dmFyIGFjdGlvbnM9dGhpcy5fYWN0aW9ucyxjbGlwVXVpZD1jbGlwLnV1aWQsYWN0aW9uc0J5Q2xpcD10aGlzLl9hY3Rpb25zQnlDbGlwLGFjdGlvbnNGb3JDbGlwPWFjdGlvbnNCeUNsaXBbY2xpcFV1aWRdO2lmKGFjdGlvbnNGb3JDbGlwIT09dW5kZWZpbmVkKXsvLyBub3RlOiBqdXN0IGNhbGxpbmcgX3JlbW92ZUluYWN0aXZlQWN0aW9uIHdvdWxkIG1lc3MgdXAgdGhlCi8vIGl0ZXJhdGlvbiBzdGF0ZSBhbmQgYWxzbyByZXF1aXJlIHVwZGF0aW5nIHRoZSBzdGF0ZSB3ZSBjYW4KLy8ganVzdCB0aHJvdyBhd2F5CnZhciBhY3Rpb25zVG9SZW1vdmU9YWN0aW9uc0ZvckNsaXAua25vd25BY3Rpb25zO2Zvcih2YXIgX2kzMzg9MCxuPWFjdGlvbnNUb1JlbW92ZS5sZW5ndGg7X2kzMzghPT1uOysrX2kzMzgpe3ZhciBhY3Rpb249YWN0aW9uc1RvUmVtb3ZlW19pMzM4XTt0aGlzLl9kZWFjdGl2YXRlQWN0aW9uKGFjdGlvbik7dmFyIGNhY2hlSW5kZXg9YWN0aW9uLl9jYWNoZUluZGV4LGxhc3RJbmFjdGl2ZUFjdGlvbj1hY3Rpb25zW2FjdGlvbnMubGVuZ3RoLTFdO2FjdGlvbi5fY2FjaGVJbmRleD1udWxsO2FjdGlvbi5fYnlDbGlwQ2FjaGVJbmRleD1udWxsO2xhc3RJbmFjdGl2ZUFjdGlvbi5fY2FjaGVJbmRleD1jYWNoZUluZGV4O2FjdGlvbnNbY2FjaGVJbmRleF09bGFzdEluYWN0aXZlQWN0aW9uO2FjdGlvbnMucG9wKCk7dGhpcy5fcmVtb3ZlSW5hY3RpdmVCaW5kaW5nc0ZvckFjdGlvbihhY3Rpb24pO31kZWxldGUgYWN0aW9uc0J5Q2xpcFtjbGlwVXVpZF07fX0vLyBmcmVlIGFsbCByZXNvdXJjZXMgc3BlY2lmaWMgdG8gYSBwYXJ0aWN1bGFyIHJvb3QgdGFyZ2V0IG9iamVjdAp9LHtrZXk6InVuY2FjaGVSb290Iix2YWx1ZTpmdW5jdGlvbiB1bmNhY2hlUm9vdChyb290KXt2YXIgcm9vdFV1aWQ9cm9vdC51dWlkLGFjdGlvbnNCeUNsaXA9dGhpcy5fYWN0aW9uc0J5Q2xpcDtmb3IodmFyIGNsaXBVdWlkIGluIGFjdGlvbnNCeUNsaXApe3ZhciBhY3Rpb25CeVJvb3Q9YWN0aW9uc0J5Q2xpcFtjbGlwVXVpZF0uYWN0aW9uQnlSb290LGFjdGlvbj1hY3Rpb25CeVJvb3Rbcm9vdFV1aWRdO2lmKGFjdGlvbiE9PXVuZGVmaW5lZCl7dGhpcy5fZGVhY3RpdmF0ZUFjdGlvbihhY3Rpb24pO3RoaXMuX3JlbW92ZUluYWN0aXZlQWN0aW9uKGFjdGlvbik7fX12YXIgYmluZGluZ3NCeVJvb3Q9dGhpcy5fYmluZGluZ3NCeVJvb3RBbmROYW1lLGJpbmRpbmdCeU5hbWU9YmluZGluZ3NCeVJvb3Rbcm9vdFV1aWRdO2lmKGJpbmRpbmdCeU5hbWUhPT11bmRlZmluZWQpe2Zvcih2YXIgdHJhY2tOYW1lIGluIGJpbmRpbmdCeU5hbWUpe3ZhciBiaW5kaW5nPWJpbmRpbmdCeU5hbWVbdHJhY2tOYW1lXTtiaW5kaW5nLnJlc3RvcmVPcmlnaW5hbFN0YXRlKCk7dGhpcy5fcmVtb3ZlSW5hY3RpdmVCaW5kaW5nKGJpbmRpbmcpO319fS8vIHJlbW92ZSBhIHRhcmdldGVkIGNsaXAgZnJvbSB0aGUgY2FjaGUKfSx7a2V5OiJ1bmNhY2hlQWN0aW9uIix2YWx1ZTpmdW5jdGlvbiB1bmNhY2hlQWN0aW9uKGNsaXAsb3B0aW9uYWxSb290KXt2YXIgYWN0aW9uPXRoaXMuZXhpc3RpbmdBY3Rpb24oY2xpcCxvcHRpb25hbFJvb3QpO2lmKGFjdGlvbiE9PW51bGwpe3RoaXMuX2RlYWN0aXZhdGVBY3Rpb24oYWN0aW9uKTt0aGlzLl9yZW1vdmVJbmFjdGl2ZUFjdGlvbihhY3Rpb24pO319fV0pO3JldHVybiBBbmltYXRpb25NaXhlcjt9KEV2ZW50RGlzcGF0Y2hlcik7QW5pbWF0aW9uTWl4ZXIucHJvdG90eXBlLl9jb250cm9sSW50ZXJwb2xhbnRzUmVzdWx0QnVmZmVyPW5ldyBGbG9hdDMyQXJyYXkoMSk7dmFyIFVuaWZvcm09LyojX19QVVJFX18qL2Z1bmN0aW9uKCl7ZnVuY3Rpb24gVW5pZm9ybSh2YWx1ZSl7X2NsYXNzQ2FsbENoZWNrKHRoaXMsVW5pZm9ybSk7aWYodHlwZW9mIHZhbHVlPT09J3N0cmluZycpe2NvbnNvbGUud2FybignVEhSRUUuVW5pZm9ybTogVHlwZSBwYXJhbWV0ZXIgaXMgbm8gbG9uZ2VyIG5lZWRlZC4nKTt2YWx1ZT1hcmd1bWVudHNbMV07fXRoaXMudmFsdWU9dmFsdWU7fV9jcmVhdGVDbGFzcyhVbmlmb3JtLFt7a2V5OiJjbG9uZSIsdmFsdWU6ZnVuY3Rpb24gY2xvbmUoKXtyZXR1cm4gbmV3IFVuaWZvcm0odGhpcy52YWx1ZS5jbG9uZT09PXVuZGVmaW5lZD90aGlzLnZhbHVlOnRoaXMudmFsdWUuY2xvbmUoKSk7fX1dKTtyZXR1cm4gVW5pZm9ybTt9KCk7dmFyIEluc3RhbmNlZEludGVybGVhdmVkQnVmZmVyPS8qI19fUFVSRV9fKi9mdW5jdGlvbihfSW50ZXJsZWF2ZWRCdWZmZXIpe19pbmhlcml0cyhJbnN0YW5jZWRJbnRlcmxlYXZlZEJ1ZmZlcixfSW50ZXJsZWF2ZWRCdWZmZXIpO3ZhciBfc3VwZXIxMzg9X2NyZWF0ZVN1cGVyKEluc3RhbmNlZEludGVybGVhdmVkQnVmZmVyKTtmdW5jdGlvbiBJbnN0YW5jZWRJbnRlcmxlYXZlZEJ1ZmZlcihhcnJheSxzdHJpZGUpe3ZhciBfdGhpczEwOTt2YXIgbWVzaFBlckF0dHJpYnV0ZT1hcmd1bWVudHMubGVuZ3RoPjImJmFyZ3VtZW50c1syXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMl06MTtfY2xhc3NDYWxsQ2hlY2sodGhpcyxJbnN0YW5jZWRJbnRlcmxlYXZlZEJ1ZmZlcik7X3RoaXMxMDk9X3N1cGVyMTM4LmNhbGwodGhpcyxhcnJheSxzdHJpZGUpO190aGlzMTA5Lm1lc2hQZXJBdHRyaWJ1dGU9bWVzaFBlckF0dHJpYnV0ZTtyZXR1cm4gX3RoaXMxMDk7fV9jcmVhdGVDbGFzcyhJbnN0YW5jZWRJbnRlcmxlYXZlZEJ1ZmZlcixbe2tleToiY29weSIsdmFsdWU6ZnVuY3Rpb24gY29weShzb3VyY2Upe19nZXQoX2dldFByb3RvdHlwZU9mKEluc3RhbmNlZEludGVybGVhdmVkQnVmZmVyLnByb3RvdHlwZSksImNvcHkiLHRoaXMpLmNhbGwodGhpcyxzb3VyY2UpO3RoaXMubWVzaFBlckF0dHJpYnV0ZT1zb3VyY2UubWVzaFBlckF0dHJpYnV0ZTtyZXR1cm4gdGhpczt9fSx7a2V5OiJjbG9uZSIsdmFsdWU6ZnVuY3Rpb24gY2xvbmUoZGF0YSl7dmFyIGliPV9nZXQoX2dldFByb3RvdHlwZU9mKEluc3RhbmNlZEludGVybGVhdmVkQnVmZmVyLnByb3RvdHlwZSksImNsb25lIix0aGlzKS5jYWxsKHRoaXMsZGF0YSk7aWIubWVzaFBlckF0dHJpYnV0ZT10aGlzLm1lc2hQZXJBdHRyaWJ1dGU7cmV0dXJuIGliO319LHtrZXk6InRvSlNPTiIsdmFsdWU6ZnVuY3Rpb24gdG9KU09OKGRhdGEpe3ZhciBqc29uPV9nZXQoX2dldFByb3RvdHlwZU9mKEluc3RhbmNlZEludGVybGVhdmVkQnVmZmVyLnByb3RvdHlwZSksInRvSlNPTiIsdGhpcykuY2FsbCh0aGlzLGRhdGEpO2pzb24uaXNJbnN0YW5jZWRJbnRlcmxlYXZlZEJ1ZmZlcj10cnVlO2pzb24ubWVzaFBlckF0dHJpYnV0ZT10aGlzLm1lc2hQZXJBdHRyaWJ1dGU7cmV0dXJuIGpzb247fX1dKTtyZXR1cm4gSW5zdGFuY2VkSW50ZXJsZWF2ZWRCdWZmZXI7fShJbnRlcmxlYXZlZEJ1ZmZlcik7SW5zdGFuY2VkSW50ZXJsZWF2ZWRCdWZmZXIucHJvdG90eXBlLmlzSW5zdGFuY2VkSW50ZXJsZWF2ZWRCdWZmZXI9dHJ1ZTt2YXIgR0xCdWZmZXJBdHRyaWJ1dGU9LyojX19QVVJFX18qL2Z1bmN0aW9uKCl7ZnVuY3Rpb24gR0xCdWZmZXJBdHRyaWJ1dGUoYnVmZmVyLHR5cGUsaXRlbVNpemUsZWxlbWVudFNpemUsY291bnQpe19jbGFzc0NhbGxDaGVjayh0aGlzLEdMQnVmZmVyQXR0cmlidXRlKTt0aGlzLmJ1ZmZlcj1idWZmZXI7dGhpcy50eXBlPXR5cGU7dGhpcy5pdGVtU2l6ZT1pdGVtU2l6ZTt0aGlzLmVsZW1lbnRTaXplPWVsZW1lbnRTaXplO3RoaXMuY291bnQ9Y291bnQ7dGhpcy52ZXJzaW9uPTA7fV9jcmVhdGVDbGFzcyhHTEJ1ZmZlckF0dHJpYnV0ZSxbe2tleToibmVlZHNVcGRhdGUiLHNldDpmdW5jdGlvbiBzZXQodmFsdWUpe2lmKHZhbHVlPT09dHJ1ZSl0aGlzLnZlcnNpb24rKzt9fSx7a2V5OiJzZXRCdWZmZXIiLHZhbHVlOmZ1bmN0aW9uIHNldEJ1ZmZlcihidWZmZXIpe3RoaXMuYnVmZmVyPWJ1ZmZlcjtyZXR1cm4gdGhpczt9fSx7a2V5OiJzZXRUeXBlIix2YWx1ZTpmdW5jdGlvbiBzZXRUeXBlKHR5cGUsZWxlbWVudFNpemUpe3RoaXMudHlwZT10eXBlO3RoaXMuZWxlbWVudFNpemU9ZWxlbWVudFNpemU7cmV0dXJuIHRoaXM7fX0se2tleToic2V0SXRlbVNpemUiLHZhbHVlOmZ1bmN0aW9uIHNldEl0ZW1TaXplKGl0ZW1TaXplKXt0aGlzLml0ZW1TaXplPWl0ZW1TaXplO3JldHVybiB0aGlzO319LHtrZXk6InNldENvdW50Iix2YWx1ZTpmdW5jdGlvbiBzZXRDb3VudChjb3VudCl7dGhpcy5jb3VudD1jb3VudDtyZXR1cm4gdGhpczt9fV0pO3JldHVybiBHTEJ1ZmZlckF0dHJpYnV0ZTt9KCk7R0xCdWZmZXJBdHRyaWJ1dGUucHJvdG90eXBlLmlzR0xCdWZmZXJBdHRyaWJ1dGU9dHJ1ZTt2YXIgUmF5Y2FzdGVyPS8qI19fUFVSRV9fKi9mdW5jdGlvbigpe2Z1bmN0aW9uIFJheWNhc3RlcihvcmlnaW4sZGlyZWN0aW9uKXt2YXIgbmVhcj1hcmd1bWVudHMubGVuZ3RoPjImJmFyZ3VtZW50c1syXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMl06MDt2YXIgZmFyPWFyZ3VtZW50cy5sZW5ndGg+MyYmYXJndW1lbnRzWzNdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1szXTpJbmZpbml0eTtfY2xhc3NDYWxsQ2hlY2sodGhpcyxSYXljYXN0ZXIpO3RoaXMucmF5PW5ldyBSYXkob3JpZ2luLGRpcmVjdGlvbik7Ly8gZGlyZWN0aW9uIGlzIGFzc3VtZWQgdG8gYmUgbm9ybWFsaXplZCAoZm9yIGFjY3VyYXRlIGRpc3RhbmNlIGNhbGN1bGF0aW9ucykKdGhpcy5uZWFyPW5lYXI7dGhpcy5mYXI9ZmFyO3RoaXMuY2FtZXJhPW51bGw7dGhpcy5sYXllcnM9bmV3IExheWVycygpO3RoaXMucGFyYW1zPXtNZXNoOnt9LExpbmU6e3RocmVzaG9sZDoxfSxMT0Q6e30sUG9pbnRzOnt0aHJlc2hvbGQ6MX0sU3ByaXRlOnt9fTt9X2NyZWF0ZUNsYXNzKFJheWNhc3Rlcixbe2tleToic2V0Iix2YWx1ZTpmdW5jdGlvbiBzZXQob3JpZ2luLGRpcmVjdGlvbil7Ly8gZGlyZWN0aW9uIGlzIGFzc3VtZWQgdG8gYmUgbm9ybWFsaXplZCAoZm9yIGFjY3VyYXRlIGRpc3RhbmNlIGNhbGN1bGF0aW9ucykKdGhpcy5yYXkuc2V0KG9yaWdpbixkaXJlY3Rpb24pO319LHtrZXk6InNldEZyb21DYW1lcmEiLHZhbHVlOmZ1bmN0aW9uIHNldEZyb21DYW1lcmEoY29vcmRzLGNhbWVyYSl7aWYoY2FtZXJhJiZjYW1lcmEuaXNQZXJzcGVjdGl2ZUNhbWVyYSl7dGhpcy5yYXkub3JpZ2luLnNldEZyb21NYXRyaXhQb3NpdGlvbihjYW1lcmEubWF0cml4V29ybGQpO3RoaXMucmF5LmRpcmVjdGlvbi5zZXQoY29vcmRzLngsY29vcmRzLnksMC41KS51bnByb2plY3QoY2FtZXJhKS5zdWIodGhpcy5yYXkub3JpZ2luKS5ub3JtYWxpemUoKTt0aGlzLmNhbWVyYT1jYW1lcmE7fWVsc2UgaWYoY2FtZXJhJiZjYW1lcmEuaXNPcnRob2dyYXBoaWNDYW1lcmEpe3RoaXMucmF5Lm9yaWdpbi5zZXQoY29vcmRzLngsY29vcmRzLnksKGNhbWVyYS5uZWFyK2NhbWVyYS5mYXIpLyhjYW1lcmEubmVhci1jYW1lcmEuZmFyKSkudW5wcm9qZWN0KGNhbWVyYSk7Ly8gc2V0IG9yaWdpbiBpbiBwbGFuZSBvZiBjYW1lcmEKdGhpcy5yYXkuZGlyZWN0aW9uLnNldCgwLDAsLTEpLnRyYW5zZm9ybURpcmVjdGlvbihjYW1lcmEubWF0cml4V29ybGQpO3RoaXMuY2FtZXJhPWNhbWVyYTt9ZWxzZXtjb25zb2xlLmVycm9yKCdUSFJFRS5SYXljYXN0ZXI6IFVuc3VwcG9ydGVkIGNhbWVyYSB0eXBlOiAnK2NhbWVyYS50eXBlKTt9fX0se2tleToiaW50ZXJzZWN0T2JqZWN0Iix2YWx1ZTpmdW5jdGlvbiBpbnRlcnNlY3RPYmplY3Qob2JqZWN0KXt2YXIgcmVjdXJzaXZlPWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1sxXTp0cnVlO3ZhciBpbnRlcnNlY3RzPWFyZ3VtZW50cy5sZW5ndGg+MiYmYXJndW1lbnRzWzJdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1syXTpbXTtfaW50ZXJzZWN0T2JqZWN0KG9iamVjdCx0aGlzLGludGVyc2VjdHMscmVjdXJzaXZlKTtpbnRlcnNlY3RzLnNvcnQoYXNjU29ydCk7cmV0dXJuIGludGVyc2VjdHM7fX0se2tleToiaW50ZXJzZWN0T2JqZWN0cyIsdmFsdWU6ZnVuY3Rpb24gaW50ZXJzZWN0T2JqZWN0cyhvYmplY3RzKXt2YXIgcmVjdXJzaXZlPWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1sxXTp0cnVlO3ZhciBpbnRlcnNlY3RzPWFyZ3VtZW50cy5sZW5ndGg+MiYmYXJndW1lbnRzWzJdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1syXTpbXTtmb3IodmFyIF9pMzM5PTAsbD1vYmplY3RzLmxlbmd0aDtfaTMzOTxsO19pMzM5Kyspe19pbnRlcnNlY3RPYmplY3Qob2JqZWN0c1tfaTMzOV0sdGhpcyxpbnRlcnNlY3RzLHJlY3Vyc2l2ZSk7fWludGVyc2VjdHMuc29ydChhc2NTb3J0KTtyZXR1cm4gaW50ZXJzZWN0czt9fV0pO3JldHVybiBSYXljYXN0ZXI7fSgpO2Z1bmN0aW9uIGFzY1NvcnQoYSxiKXtyZXR1cm4gYS5kaXN0YW5jZS1iLmRpc3RhbmNlO31mdW5jdGlvbiBfaW50ZXJzZWN0T2JqZWN0KG9iamVjdCxyYXljYXN0ZXIsaW50ZXJzZWN0cyxyZWN1cnNpdmUpe2lmKG9iamVjdC5sYXllcnMudGVzdChyYXljYXN0ZXIubGF5ZXJzKSl7b2JqZWN0LnJheWNhc3QocmF5Y2FzdGVyLGludGVyc2VjdHMpO31pZihyZWN1cnNpdmU9PT10cnVlKXt2YXIgY2hpbGRyZW49b2JqZWN0LmNoaWxkcmVuO2Zvcih2YXIgX2kzNDA9MCxsPWNoaWxkcmVuLmxlbmd0aDtfaTM0MDxsO19pMzQwKyspe19pbnRlcnNlY3RPYmplY3QoY2hpbGRyZW5bX2kzNDBdLHJheWNhc3RlcixpbnRlcnNlY3RzLHRydWUpO319fS8qKgogKiBSZWY6IGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1NwaGVyaWNhbF9jb29yZGluYXRlX3N5c3RlbQogKgogKiBUaGUgcG9sYXIgYW5nbGUgKHBoaSkgaXMgbWVhc3VyZWQgZnJvbSB0aGUgcG9zaXRpdmUgeS1heGlzLiBUaGUgcG9zaXRpdmUgeS1heGlzIGlzIHVwLgogKiBUaGUgYXppbXV0aGFsIGFuZ2xlICh0aGV0YSkgaXMgbWVhc3VyZWQgZnJvbSB0aGUgcG9zaXRpdmUgei1heGlzLgogKi92YXIgU3BoZXJpY2FsPS8qI19fUFVSRV9fKi9mdW5jdGlvbigpe2Z1bmN0aW9uIFNwaGVyaWNhbCgpe3ZhciByYWRpdXM9YXJndW1lbnRzLmxlbmd0aD4wJiZhcmd1bWVudHNbMF0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzBdOjE7dmFyIHBoaT1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMV06MDt2YXIgdGhldGE9YXJndW1lbnRzLmxlbmd0aD4yJiZhcmd1bWVudHNbMl0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzJdOjA7X2NsYXNzQ2FsbENoZWNrKHRoaXMsU3BoZXJpY2FsKTt0aGlzLnJhZGl1cz1yYWRpdXM7dGhpcy5waGk9cGhpOy8vIHBvbGFyIGFuZ2xlCnRoaXMudGhldGE9dGhldGE7Ly8gYXppbXV0aGFsIGFuZ2xlCnJldHVybiB0aGlzO31fY3JlYXRlQ2xhc3MoU3BoZXJpY2FsLFt7a2V5OiJzZXQiLHZhbHVlOmZ1bmN0aW9uIHNldChyYWRpdXMscGhpLHRoZXRhKXt0aGlzLnJhZGl1cz1yYWRpdXM7dGhpcy5waGk9cGhpO3RoaXMudGhldGE9dGhldGE7cmV0dXJuIHRoaXM7fX0se2tleToiY29weSIsdmFsdWU6ZnVuY3Rpb24gY29weShvdGhlcil7dGhpcy5yYWRpdXM9b3RoZXIucmFkaXVzO3RoaXMucGhpPW90aGVyLnBoaTt0aGlzLnRoZXRhPW90aGVyLnRoZXRhO3JldHVybiB0aGlzO30vLyByZXN0cmljdCBwaGkgdG8gYmUgYmV0d2VlIEVQUyBhbmQgUEktRVBTCn0se2tleToibWFrZVNhZmUiLHZhbHVlOmZ1bmN0aW9uIG1ha2VTYWZlKCl7dmFyIEVQUz0wLjAwMDAwMTt0aGlzLnBoaT1NYXRoLm1heChFUFMsTWF0aC5taW4oTWF0aC5QSS1FUFMsdGhpcy5waGkpKTtyZXR1cm4gdGhpczt9fSx7a2V5OiJzZXRGcm9tVmVjdG9yMyIsdmFsdWU6ZnVuY3Rpb24gc2V0RnJvbVZlY3RvcjModil7cmV0dXJuIHRoaXMuc2V0RnJvbUNhcnRlc2lhbkNvb3Jkcyh2Lngsdi55LHYueik7fX0se2tleToic2V0RnJvbUNhcnRlc2lhbkNvb3JkcyIsdmFsdWU6ZnVuY3Rpb24gc2V0RnJvbUNhcnRlc2lhbkNvb3Jkcyh4LHkseil7dGhpcy5yYWRpdXM9TWF0aC5zcXJ0KHgqeCt5Knkreip6KTtpZih0aGlzLnJhZGl1cz09PTApe3RoaXMudGhldGE9MDt0aGlzLnBoaT0wO31lbHNle3RoaXMudGhldGE9TWF0aC5hdGFuMih4LHopO3RoaXMucGhpPU1hdGguYWNvcyhjbGFtcCh5L3RoaXMucmFkaXVzLC0xLDEpKTt9cmV0dXJuIHRoaXM7fX0se2tleToiY2xvbmUiLHZhbHVlOmZ1bmN0aW9uIGNsb25lKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKCkuY29weSh0aGlzKTt9fV0pO3JldHVybiBTcGhlcmljYWw7fSgpOy8qKgogKiBSZWY6IGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0N5bGluZHJpY2FsX2Nvb3JkaW5hdGVfc3lzdGVtCiAqL3ZhciBDeWxpbmRyaWNhbD0vKiNfX1BVUkVfXyovZnVuY3Rpb24oKXtmdW5jdGlvbiBDeWxpbmRyaWNhbCgpe3ZhciByYWRpdXM9YXJndW1lbnRzLmxlbmd0aD4wJiZhcmd1bWVudHNbMF0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzBdOjE7dmFyIHRoZXRhPWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1sxXTowO3ZhciB5PWFyZ3VtZW50cy5sZW5ndGg+MiYmYXJndW1lbnRzWzJdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1syXTowO19jbGFzc0NhbGxDaGVjayh0aGlzLEN5bGluZHJpY2FsKTt0aGlzLnJhZGl1cz1yYWRpdXM7Ly8gZGlzdGFuY2UgZnJvbSB0aGUgb3JpZ2luIHRvIGEgcG9pbnQgaW4gdGhlIHgteiBwbGFuZQp0aGlzLnRoZXRhPXRoZXRhOy8vIGNvdW50ZXJjbG9ja3dpc2UgYW5nbGUgaW4gdGhlIHgteiBwbGFuZSBtZWFzdXJlZCBpbiByYWRpYW5zIGZyb20gdGhlIHBvc2l0aXZlIHotYXhpcwp0aGlzLnk9eTsvLyBoZWlnaHQgYWJvdmUgdGhlIHgteiBwbGFuZQpyZXR1cm4gdGhpczt9X2NyZWF0ZUNsYXNzKEN5bGluZHJpY2FsLFt7a2V5OiJzZXQiLHZhbHVlOmZ1bmN0aW9uIHNldChyYWRpdXMsdGhldGEseSl7dGhpcy5yYWRpdXM9cmFkaXVzO3RoaXMudGhldGE9dGhldGE7dGhpcy55PXk7cmV0dXJuIHRoaXM7fX0se2tleToiY29weSIsdmFsdWU6ZnVuY3Rpb24gY29weShvdGhlcil7dGhpcy5yYWRpdXM9b3RoZXIucmFkaXVzO3RoaXMudGhldGE9b3RoZXIudGhldGE7dGhpcy55PW90aGVyLnk7cmV0dXJuIHRoaXM7fX0se2tleToic2V0RnJvbVZlY3RvcjMiLHZhbHVlOmZ1bmN0aW9uIHNldEZyb21WZWN0b3IzKHYpe3JldHVybiB0aGlzLnNldEZyb21DYXJ0ZXNpYW5Db29yZHModi54LHYueSx2LnopO319LHtrZXk6InNldEZyb21DYXJ0ZXNpYW5Db29yZHMiLHZhbHVlOmZ1bmN0aW9uIHNldEZyb21DYXJ0ZXNpYW5Db29yZHMoeCx5LHope3RoaXMucmFkaXVzPU1hdGguc3FydCh4Kngreip6KTt0aGlzLnRoZXRhPU1hdGguYXRhbjIoeCx6KTt0aGlzLnk9eTtyZXR1cm4gdGhpczt9fSx7a2V5OiJjbG9uZSIsdmFsdWU6ZnVuY3Rpb24gY2xvbmUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoKS5jb3B5KHRoaXMpO319XSk7cmV0dXJuIEN5bGluZHJpY2FsO30oKTt2YXIgX3ZlY3RvciQ0PS8qQF9fUFVSRV9fKi9uZXcgVmVjdG9yMigpO3ZhciBCb3gyPS8qI19fUFVSRV9fKi9mdW5jdGlvbigpe2Z1bmN0aW9uIEJveDIoKXt2YXIgbWluPWFyZ3VtZW50cy5sZW5ndGg+MCYmYXJndW1lbnRzWzBdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1swXTpuZXcgVmVjdG9yMigrSW5maW5pdHksK0luZmluaXR5KTt2YXIgbWF4PWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1sxXTpuZXcgVmVjdG9yMigtSW5maW5pdHksLUluZmluaXR5KTtfY2xhc3NDYWxsQ2hlY2sodGhpcyxCb3gyKTt0aGlzLm1pbj1taW47dGhpcy5tYXg9bWF4O31fY3JlYXRlQ2xhc3MoQm94Mixbe2tleToic2V0Iix2YWx1ZTpmdW5jdGlvbiBzZXQobWluLG1heCl7dGhpcy5taW4uY29weShtaW4pO3RoaXMubWF4LmNvcHkobWF4KTtyZXR1cm4gdGhpczt9fSx7a2V5OiJzZXRGcm9tUG9pbnRzIix2YWx1ZTpmdW5jdGlvbiBzZXRGcm9tUG9pbnRzKHBvaW50cyl7dGhpcy5tYWtlRW1wdHkoKTtmb3IodmFyIF9pMzQxPTAsaWw9cG9pbnRzLmxlbmd0aDtfaTM0MTxpbDtfaTM0MSsrKXt0aGlzLmV4cGFuZEJ5UG9pbnQocG9pbnRzW19pMzQxXSk7fXJldHVybiB0aGlzO319LHtrZXk6InNldEZyb21DZW50ZXJBbmRTaXplIix2YWx1ZTpmdW5jdGlvbiBzZXRGcm9tQ2VudGVyQW5kU2l6ZShjZW50ZXIsc2l6ZSl7dmFyIGhhbGZTaXplPV92ZWN0b3IkNC5jb3B5KHNpemUpLm11bHRpcGx5U2NhbGFyKDAuNSk7dGhpcy5taW4uY29weShjZW50ZXIpLnN1YihoYWxmU2l6ZSk7dGhpcy5tYXguY29weShjZW50ZXIpLmFkZChoYWxmU2l6ZSk7cmV0dXJuIHRoaXM7fX0se2tleToiY2xvbmUiLHZhbHVlOmZ1bmN0aW9uIGNsb25lKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKCkuY29weSh0aGlzKTt9fSx7a2V5OiJjb3B5Iix2YWx1ZTpmdW5jdGlvbiBjb3B5KGJveCl7dGhpcy5taW4uY29weShib3gubWluKTt0aGlzLm1heC5jb3B5KGJveC5tYXgpO3JldHVybiB0aGlzO319LHtrZXk6Im1ha2VFbXB0eSIsdmFsdWU6ZnVuY3Rpb24gbWFrZUVtcHR5KCl7dGhpcy5taW4ueD10aGlzLm1pbi55PStJbmZpbml0eTt0aGlzLm1heC54PXRoaXMubWF4Lnk9LUluZmluaXR5O3JldHVybiB0aGlzO319LHtrZXk6ImlzRW1wdHkiLHZhbHVlOmZ1bmN0aW9uIGlzRW1wdHkoKXsvLyB0aGlzIGlzIGEgbW9yZSByb2J1c3QgY2hlY2sgZm9yIGVtcHR5IHRoYW4gKCB2b2x1bWUgPD0gMCApIGJlY2F1c2Ugdm9sdW1lIGNhbiBnZXQgcG9zaXRpdmUgd2l0aCB0d28gbmVnYXRpdmUgYXhlcwpyZXR1cm4gdGhpcy5tYXgueDx0aGlzLm1pbi54fHx0aGlzLm1heC55PHRoaXMubWluLnk7fX0se2tleToiZ2V0Q2VudGVyIix2YWx1ZTpmdW5jdGlvbiBnZXRDZW50ZXIodGFyZ2V0KXtyZXR1cm4gdGhpcy5pc0VtcHR5KCk/dGFyZ2V0LnNldCgwLDApOnRhcmdldC5hZGRWZWN0b3JzKHRoaXMubWluLHRoaXMubWF4KS5tdWx0aXBseVNjYWxhcigwLjUpO319LHtrZXk6ImdldFNpemUiLHZhbHVlOmZ1bmN0aW9uIGdldFNpemUodGFyZ2V0KXtyZXR1cm4gdGhpcy5pc0VtcHR5KCk/dGFyZ2V0LnNldCgwLDApOnRhcmdldC5zdWJWZWN0b3JzKHRoaXMubWF4LHRoaXMubWluKTt9fSx7a2V5OiJleHBhbmRCeVBvaW50Iix2YWx1ZTpmdW5jdGlvbiBleHBhbmRCeVBvaW50KHBvaW50KXt0aGlzLm1pbi5taW4ocG9pbnQpO3RoaXMubWF4Lm1heChwb2ludCk7cmV0dXJuIHRoaXM7fX0se2tleToiZXhwYW5kQnlWZWN0b3IiLHZhbHVlOmZ1bmN0aW9uIGV4cGFuZEJ5VmVjdG9yKHZlY3Rvcil7dGhpcy5taW4uc3ViKHZlY3Rvcik7dGhpcy5tYXguYWRkKHZlY3Rvcik7cmV0dXJuIHRoaXM7fX0se2tleToiZXhwYW5kQnlTY2FsYXIiLHZhbHVlOmZ1bmN0aW9uIGV4cGFuZEJ5U2NhbGFyKHNjYWxhcil7dGhpcy5taW4uYWRkU2NhbGFyKC1zY2FsYXIpO3RoaXMubWF4LmFkZFNjYWxhcihzY2FsYXIpO3JldHVybiB0aGlzO319LHtrZXk6ImNvbnRhaW5zUG9pbnQiLHZhbHVlOmZ1bmN0aW9uIGNvbnRhaW5zUG9pbnQocG9pbnQpe3JldHVybiBwb2ludC54PHRoaXMubWluLnh8fHBvaW50Lng+dGhpcy5tYXgueHx8cG9pbnQueTx0aGlzLm1pbi55fHxwb2ludC55PnRoaXMubWF4Lnk/ZmFsc2U6dHJ1ZTt9fSx7a2V5OiJjb250YWluc0JveCIsdmFsdWU6ZnVuY3Rpb24gY29udGFpbnNCb3goYm94KXtyZXR1cm4gdGhpcy5taW4ueDw9Ym94Lm1pbi54JiZib3gubWF4Lng8PXRoaXMubWF4LngmJnRoaXMubWluLnk8PWJveC5taW4ueSYmYm94Lm1heC55PD10aGlzLm1heC55O319LHtrZXk6ImdldFBhcmFtZXRlciIsdmFsdWU6ZnVuY3Rpb24gZ2V0UGFyYW1ldGVyKHBvaW50LHRhcmdldCl7Ly8gVGhpcyBjYW4gcG90ZW50aWFsbHkgaGF2ZSBhIGRpdmlkZSBieSB6ZXJvIGlmIHRoZSBib3gKLy8gaGFzIGEgc2l6ZSBkaW1lbnNpb24gb2YgMC4KcmV0dXJuIHRhcmdldC5zZXQoKHBvaW50LngtdGhpcy5taW4ueCkvKHRoaXMubWF4LngtdGhpcy5taW4ueCksKHBvaW50LnktdGhpcy5taW4ueSkvKHRoaXMubWF4LnktdGhpcy5taW4ueSkpO319LHtrZXk6ImludGVyc2VjdHNCb3giLHZhbHVlOmZ1bmN0aW9uIGludGVyc2VjdHNCb3goYm94KXsvLyB1c2luZyA0IHNwbGl0dGluZyBwbGFuZXMgdG8gcnVsZSBvdXQgaW50ZXJzZWN0aW9ucwpyZXR1cm4gYm94Lm1heC54PHRoaXMubWluLnh8fGJveC5taW4ueD50aGlzLm1heC54fHxib3gubWF4Lnk8dGhpcy5taW4ueXx8Ym94Lm1pbi55PnRoaXMubWF4Lnk/ZmFsc2U6dHJ1ZTt9fSx7a2V5OiJjbGFtcFBvaW50Iix2YWx1ZTpmdW5jdGlvbiBjbGFtcFBvaW50KHBvaW50LHRhcmdldCl7cmV0dXJuIHRhcmdldC5jb3B5KHBvaW50KS5jbGFtcCh0aGlzLm1pbix0aGlzLm1heCk7fX0se2tleToiZGlzdGFuY2VUb1BvaW50Iix2YWx1ZTpmdW5jdGlvbiBkaXN0YW5jZVRvUG9pbnQocG9pbnQpe3ZhciBjbGFtcGVkUG9pbnQ9X3ZlY3RvciQ0LmNvcHkocG9pbnQpLmNsYW1wKHRoaXMubWluLHRoaXMubWF4KTtyZXR1cm4gY2xhbXBlZFBvaW50LnN1Yihwb2ludCkubGVuZ3RoKCk7fX0se2tleToiaW50ZXJzZWN0Iix2YWx1ZTpmdW5jdGlvbiBpbnRlcnNlY3QoYm94KXt0aGlzLm1pbi5tYXgoYm94Lm1pbik7dGhpcy5tYXgubWluKGJveC5tYXgpO3JldHVybiB0aGlzO319LHtrZXk6InVuaW9uIix2YWx1ZTpmdW5jdGlvbiB1bmlvbihib3gpe3RoaXMubWluLm1pbihib3gubWluKTt0aGlzLm1heC5tYXgoYm94Lm1heCk7cmV0dXJuIHRoaXM7fX0se2tleToidHJhbnNsYXRlIix2YWx1ZTpmdW5jdGlvbiB0cmFuc2xhdGUob2Zmc2V0KXt0aGlzLm1pbi5hZGQob2Zmc2V0KTt0aGlzLm1heC5hZGQob2Zmc2V0KTtyZXR1cm4gdGhpczt9fSx7a2V5OiJlcXVhbHMiLHZhbHVlOmZ1bmN0aW9uIGVxdWFscyhib3gpe3JldHVybiBib3gubWluLmVxdWFscyh0aGlzLm1pbikmJmJveC5tYXguZXF1YWxzKHRoaXMubWF4KTt9fV0pO3JldHVybiBCb3gyO30oKTtCb3gyLnByb3RvdHlwZS5pc0JveDI9dHJ1ZTt2YXIgX3N0YXJ0UD0vKkBfX1BVUkVfXyovbmV3IFZlY3RvcjMoKTt2YXIgX3N0YXJ0RW5kPS8qQF9fUFVSRV9fKi9uZXcgVmVjdG9yMygpO3ZhciBMaW5lMz0vKiNfX1BVUkVfXyovZnVuY3Rpb24oKXtmdW5jdGlvbiBMaW5lMygpe3ZhciBzdGFydD1hcmd1bWVudHMubGVuZ3RoPjAmJmFyZ3VtZW50c1swXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMF06bmV3IFZlY3RvcjMoKTt2YXIgZW5kPWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1sxXTpuZXcgVmVjdG9yMygpO19jbGFzc0NhbGxDaGVjayh0aGlzLExpbmUzKTt0aGlzLnN0YXJ0PXN0YXJ0O3RoaXMuZW5kPWVuZDt9X2NyZWF0ZUNsYXNzKExpbmUzLFt7a2V5OiJzZXQiLHZhbHVlOmZ1bmN0aW9uIHNldChzdGFydCxlbmQpe3RoaXMuc3RhcnQuY29weShzdGFydCk7dGhpcy5lbmQuY29weShlbmQpO3JldHVybiB0aGlzO319LHtrZXk6ImNvcHkiLHZhbHVlOmZ1bmN0aW9uIGNvcHkobGluZSl7dGhpcy5zdGFydC5jb3B5KGxpbmUuc3RhcnQpO3RoaXMuZW5kLmNvcHkobGluZS5lbmQpO3JldHVybiB0aGlzO319LHtrZXk6ImdldENlbnRlciIsdmFsdWU6ZnVuY3Rpb24gZ2V0Q2VudGVyKHRhcmdldCl7cmV0dXJuIHRhcmdldC5hZGRWZWN0b3JzKHRoaXMuc3RhcnQsdGhpcy5lbmQpLm11bHRpcGx5U2NhbGFyKDAuNSk7fX0se2tleToiZGVsdGEiLHZhbHVlOmZ1bmN0aW9uIGRlbHRhKHRhcmdldCl7cmV0dXJuIHRhcmdldC5zdWJWZWN0b3JzKHRoaXMuZW5kLHRoaXMuc3RhcnQpO319LHtrZXk6ImRpc3RhbmNlU3EiLHZhbHVlOmZ1bmN0aW9uIGRpc3RhbmNlU3EoKXtyZXR1cm4gdGhpcy5zdGFydC5kaXN0YW5jZVRvU3F1YXJlZCh0aGlzLmVuZCk7fX0se2tleToiZGlzdGFuY2UiLHZhbHVlOmZ1bmN0aW9uIGRpc3RhbmNlKCl7cmV0dXJuIHRoaXMuc3RhcnQuZGlzdGFuY2VUbyh0aGlzLmVuZCk7fX0se2tleToiYXQiLHZhbHVlOmZ1bmN0aW9uIGF0KHQsdGFyZ2V0KXtyZXR1cm4gdGhpcy5kZWx0YSh0YXJnZXQpLm11bHRpcGx5U2NhbGFyKHQpLmFkZCh0aGlzLnN0YXJ0KTt9fSx7a2V5OiJjbG9zZXN0UG9pbnRUb1BvaW50UGFyYW1ldGVyIix2YWx1ZTpmdW5jdGlvbiBjbG9zZXN0UG9pbnRUb1BvaW50UGFyYW1ldGVyKHBvaW50LGNsYW1wVG9MaW5lKXtfc3RhcnRQLnN1YlZlY3RvcnMocG9pbnQsdGhpcy5zdGFydCk7X3N0YXJ0RW5kLnN1YlZlY3RvcnModGhpcy5lbmQsdGhpcy5zdGFydCk7dmFyIHN0YXJ0RW5kMj1fc3RhcnRFbmQuZG90KF9zdGFydEVuZCk7dmFyIHN0YXJ0RW5kX3N0YXJ0UD1fc3RhcnRFbmQuZG90KF9zdGFydFApO3ZhciB0PXN0YXJ0RW5kX3N0YXJ0UC9zdGFydEVuZDI7aWYoY2xhbXBUb0xpbmUpe3Q9Y2xhbXAodCwwLDEpO31yZXR1cm4gdDt9fSx7a2V5OiJjbG9zZXN0UG9pbnRUb1BvaW50Iix2YWx1ZTpmdW5jdGlvbiBjbG9zZXN0UG9pbnRUb1BvaW50KHBvaW50LGNsYW1wVG9MaW5lLHRhcmdldCl7dmFyIHQ9dGhpcy5jbG9zZXN0UG9pbnRUb1BvaW50UGFyYW1ldGVyKHBvaW50LGNsYW1wVG9MaW5lKTtyZXR1cm4gdGhpcy5kZWx0YSh0YXJnZXQpLm11bHRpcGx5U2NhbGFyKHQpLmFkZCh0aGlzLnN0YXJ0KTt9fSx7a2V5OiJhcHBseU1hdHJpeDQiLHZhbHVlOmZ1bmN0aW9uIGFwcGx5TWF0cml4NChtYXRyaXgpe3RoaXMuc3RhcnQuYXBwbHlNYXRyaXg0KG1hdHJpeCk7dGhpcy5lbmQuYXBwbHlNYXRyaXg0KG1hdHJpeCk7cmV0dXJuIHRoaXM7fX0se2tleToiZXF1YWxzIix2YWx1ZTpmdW5jdGlvbiBlcXVhbHMobGluZSl7cmV0dXJuIGxpbmUuc3RhcnQuZXF1YWxzKHRoaXMuc3RhcnQpJiZsaW5lLmVuZC5lcXVhbHModGhpcy5lbmQpO319LHtrZXk6ImNsb25lIix2YWx1ZTpmdW5jdGlvbiBjbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcigpLmNvcHkodGhpcyk7fX1dKTtyZXR1cm4gTGluZTM7fSgpO3ZhciBfdmVjdG9yJDM9LypAX19QVVJFX18qL25ldyBWZWN0b3IzKCk7dmFyIFNwb3RMaWdodEhlbHBlcj0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX09iamVjdDNEMTQpe19pbmhlcml0cyhTcG90TGlnaHRIZWxwZXIsX09iamVjdDNEMTQpO3ZhciBfc3VwZXIxMzk9X2NyZWF0ZVN1cGVyKFNwb3RMaWdodEhlbHBlcik7ZnVuY3Rpb24gU3BvdExpZ2h0SGVscGVyKGxpZ2h0LGNvbG9yKXt2YXIgX3RoaXMxMTA7X2NsYXNzQ2FsbENoZWNrKHRoaXMsU3BvdExpZ2h0SGVscGVyKTtfdGhpczExMD1fc3VwZXIxMzkuY2FsbCh0aGlzKTtfdGhpczExMC5saWdodD1saWdodDtfdGhpczExMC5saWdodC51cGRhdGVNYXRyaXhXb3JsZCgpO190aGlzMTEwLm1hdHJpeD1saWdodC5tYXRyaXhXb3JsZDtfdGhpczExMC5tYXRyaXhBdXRvVXBkYXRlPWZhbHNlO190aGlzMTEwLmNvbG9yPWNvbG9yO3ZhciBnZW9tZXRyeT1uZXcgQnVmZmVyR2VvbWV0cnkoKTt2YXIgcG9zaXRpb25zPVswLDAsMCwwLDAsMSwwLDAsMCwxLDAsMSwwLDAsMCwtMSwwLDEsMCwwLDAsMCwxLDEsMCwwLDAsMCwtMSwxXTtmb3IodmFyIF9pMzQyPTAsaj0xLGw9MzI7X2kzNDI8bDtfaTM0MisrLGorKyl7dmFyIHAxPV9pMzQyL2wqTWF0aC5QSSoyO3ZhciBwMj1qL2wqTWF0aC5QSSoyO3Bvc2l0aW9ucy5wdXNoKE1hdGguY29zKHAxKSxNYXRoLnNpbihwMSksMSxNYXRoLmNvcyhwMiksTWF0aC5zaW4ocDIpLDEpO31nZW9tZXRyeS5zZXRBdHRyaWJ1dGUoJ3Bvc2l0aW9uJyxuZXcgRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZShwb3NpdGlvbnMsMykpO3ZhciBtYXRlcmlhbD1uZXcgTGluZUJhc2ljTWF0ZXJpYWwoe2ZvZzpmYWxzZSx0b25lTWFwcGVkOmZhbHNlfSk7X3RoaXMxMTAuY29uZT1uZXcgTGluZVNlZ21lbnRzKGdlb21ldHJ5LG1hdGVyaWFsKTtfdGhpczExMC5hZGQoX3RoaXMxMTAuY29uZSk7X3RoaXMxMTAudXBkYXRlKCk7cmV0dXJuIF90aGlzMTEwO31fY3JlYXRlQ2xhc3MoU3BvdExpZ2h0SGVscGVyLFt7a2V5OiJkaXNwb3NlIix2YWx1ZTpmdW5jdGlvbiBkaXNwb3NlKCl7dGhpcy5jb25lLmdlb21ldHJ5LmRpc3Bvc2UoKTt0aGlzLmNvbmUubWF0ZXJpYWwuZGlzcG9zZSgpO319LHtrZXk6InVwZGF0ZSIsdmFsdWU6ZnVuY3Rpb24gdXBkYXRlKCl7dGhpcy5saWdodC51cGRhdGVNYXRyaXhXb3JsZCgpO3ZhciBjb25lTGVuZ3RoPXRoaXMubGlnaHQuZGlzdGFuY2U/dGhpcy5saWdodC5kaXN0YW5jZToxMDAwO3ZhciBjb25lV2lkdGg9Y29uZUxlbmd0aCpNYXRoLnRhbih0aGlzLmxpZ2h0LmFuZ2xlKTt0aGlzLmNvbmUuc2NhbGUuc2V0KGNvbmVXaWR0aCxjb25lV2lkdGgsY29uZUxlbmd0aCk7X3ZlY3RvciQzLnNldEZyb21NYXRyaXhQb3NpdGlvbih0aGlzLmxpZ2h0LnRhcmdldC5tYXRyaXhXb3JsZCk7dGhpcy5jb25lLmxvb2tBdChfdmVjdG9yJDMpO2lmKHRoaXMuY29sb3IhPT11bmRlZmluZWQpe3RoaXMuY29uZS5tYXRlcmlhbC5jb2xvci5zZXQodGhpcy5jb2xvcik7fWVsc2V7dGhpcy5jb25lLm1hdGVyaWFsLmNvbG9yLmNvcHkodGhpcy5saWdodC5jb2xvcik7fX19XSk7cmV0dXJuIFNwb3RMaWdodEhlbHBlcjt9KE9iamVjdDNEKTt2YXIgX3ZlY3RvciQyPS8qQF9fUFVSRV9fKi9uZXcgVmVjdG9yMygpO3ZhciBfYm9uZU1hdHJpeD0vKkBfX1BVUkVfXyovbmV3IE1hdHJpeDQoKTt2YXIgX21hdHJpeFdvcmxkSW52PS8qQF9fUFVSRV9fKi9uZXcgTWF0cml4NCgpO3ZhciBTa2VsZXRvbkhlbHBlcj0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX0xpbmVTZWdtZW50cyl7X2luaGVyaXRzKFNrZWxldG9uSGVscGVyLF9MaW5lU2VnbWVudHMpO3ZhciBfc3VwZXIxNDA9X2NyZWF0ZVN1cGVyKFNrZWxldG9uSGVscGVyKTtmdW5jdGlvbiBTa2VsZXRvbkhlbHBlcihvYmplY3Qpe3ZhciBfdGhpczExMTtfY2xhc3NDYWxsQ2hlY2sodGhpcyxTa2VsZXRvbkhlbHBlcik7dmFyIGJvbmVzPWdldEJvbmVMaXN0KG9iamVjdCk7dmFyIGdlb21ldHJ5PW5ldyBCdWZmZXJHZW9tZXRyeSgpO3ZhciB2ZXJ0aWNlcz1bXTt2YXIgY29sb3JzPVtdO3ZhciBjb2xvcjE9bmV3IENvbG9yKDAsMCwxKTt2YXIgY29sb3IyPW5ldyBDb2xvcigwLDEsMCk7Zm9yKHZhciBfaTM0Mz0wO19pMzQzPGJvbmVzLmxlbmd0aDtfaTM0MysrKXt2YXIgYm9uZT1ib25lc1tfaTM0M107aWYoYm9uZS5wYXJlbnQmJmJvbmUucGFyZW50LmlzQm9uZSl7dmVydGljZXMucHVzaCgwLDAsMCk7dmVydGljZXMucHVzaCgwLDAsMCk7Y29sb3JzLnB1c2goY29sb3IxLnIsY29sb3IxLmcsY29sb3IxLmIpO2NvbG9ycy5wdXNoKGNvbG9yMi5yLGNvbG9yMi5nLGNvbG9yMi5iKTt9fWdlb21ldHJ5LnNldEF0dHJpYnV0ZSgncG9zaXRpb24nLG5ldyBGbG9hdDMyQnVmZmVyQXR0cmlidXRlKHZlcnRpY2VzLDMpKTtnZW9tZXRyeS5zZXRBdHRyaWJ1dGUoJ2NvbG9yJyxuZXcgRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZShjb2xvcnMsMykpO3ZhciBtYXRlcmlhbD1uZXcgTGluZUJhc2ljTWF0ZXJpYWwoe3ZlcnRleENvbG9yczp0cnVlLGRlcHRoVGVzdDpmYWxzZSxkZXB0aFdyaXRlOmZhbHNlLHRvbmVNYXBwZWQ6ZmFsc2UsdHJhbnNwYXJlbnQ6dHJ1ZX0pO190aGlzMTExPV9zdXBlcjE0MC5jYWxsKHRoaXMsZ2VvbWV0cnksbWF0ZXJpYWwpO190aGlzMTExLnR5cGU9J1NrZWxldG9uSGVscGVyJztfdGhpczExMS5pc1NrZWxldG9uSGVscGVyPXRydWU7X3RoaXMxMTEucm9vdD1vYmplY3Q7X3RoaXMxMTEuYm9uZXM9Ym9uZXM7X3RoaXMxMTEubWF0cml4PW9iamVjdC5tYXRyaXhXb3JsZDtfdGhpczExMS5tYXRyaXhBdXRvVXBkYXRlPWZhbHNlO3JldHVybiBfdGhpczExMTt9X2NyZWF0ZUNsYXNzKFNrZWxldG9uSGVscGVyLFt7a2V5OiJ1cGRhdGVNYXRyaXhXb3JsZCIsdmFsdWU6ZnVuY3Rpb24gdXBkYXRlTWF0cml4V29ybGQoZm9yY2Upe3ZhciBib25lcz10aGlzLmJvbmVzO3ZhciBnZW9tZXRyeT10aGlzLmdlb21ldHJ5O3ZhciBwb3NpdGlvbj1nZW9tZXRyeS5nZXRBdHRyaWJ1dGUoJ3Bvc2l0aW9uJyk7X21hdHJpeFdvcmxkSW52LmNvcHkodGhpcy5yb290Lm1hdHJpeFdvcmxkKS5pbnZlcnQoKTtmb3IodmFyIF9pMzQ0PTAsaj0wO19pMzQ0PGJvbmVzLmxlbmd0aDtfaTM0NCsrKXt2YXIgYm9uZT1ib25lc1tfaTM0NF07aWYoYm9uZS5wYXJlbnQmJmJvbmUucGFyZW50LmlzQm9uZSl7X2JvbmVNYXRyaXgubXVsdGlwbHlNYXRyaWNlcyhfbWF0cml4V29ybGRJbnYsYm9uZS5tYXRyaXhXb3JsZCk7X3ZlY3RvciQyLnNldEZyb21NYXRyaXhQb3NpdGlvbihfYm9uZU1hdHJpeCk7cG9zaXRpb24uc2V0WFlaKGosX3ZlY3RvciQyLngsX3ZlY3RvciQyLnksX3ZlY3RvciQyLnopO19ib25lTWF0cml4Lm11bHRpcGx5TWF0cmljZXMoX21hdHJpeFdvcmxkSW52LGJvbmUucGFyZW50Lm1hdHJpeFdvcmxkKTtfdmVjdG9yJDIuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKF9ib25lTWF0cml4KTtwb3NpdGlvbi5zZXRYWVooaisxLF92ZWN0b3IkMi54LF92ZWN0b3IkMi55LF92ZWN0b3IkMi56KTtqKz0yO319Z2VvbWV0cnkuZ2V0QXR0cmlidXRlKCdwb3NpdGlvbicpLm5lZWRzVXBkYXRlPXRydWU7X2dldChfZ2V0UHJvdG90eXBlT2YoU2tlbGV0b25IZWxwZXIucHJvdG90eXBlKSwidXBkYXRlTWF0cml4V29ybGQiLHRoaXMpLmNhbGwodGhpcyxmb3JjZSk7fX1dKTtyZXR1cm4gU2tlbGV0b25IZWxwZXI7fShMaW5lU2VnbWVudHMpO2Z1bmN0aW9uIGdldEJvbmVMaXN0KG9iamVjdCl7dmFyIGJvbmVMaXN0PVtdO2lmKG9iamVjdCYmb2JqZWN0LmlzQm9uZSl7Ym9uZUxpc3QucHVzaChvYmplY3QpO31mb3IodmFyIF9pMzQ1PTA7X2kzNDU8b2JqZWN0LmNoaWxkcmVuLmxlbmd0aDtfaTM0NSsrKXtib25lTGlzdC5wdXNoLmFwcGx5KGJvbmVMaXN0LGdldEJvbmVMaXN0KG9iamVjdC5jaGlsZHJlbltfaTM0NV0pKTt9cmV0dXJuIGJvbmVMaXN0O312YXIgUG9pbnRMaWdodEhlbHBlcj0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX01lc2gzKXtfaW5oZXJpdHMoUG9pbnRMaWdodEhlbHBlcixfTWVzaDMpO3ZhciBfc3VwZXIxNDE9X2NyZWF0ZVN1cGVyKFBvaW50TGlnaHRIZWxwZXIpO2Z1bmN0aW9uIFBvaW50TGlnaHRIZWxwZXIobGlnaHQsc3BoZXJlU2l6ZSxjb2xvcil7dmFyIF90aGlzMTEyO19jbGFzc0NhbGxDaGVjayh0aGlzLFBvaW50TGlnaHRIZWxwZXIpO3ZhciBnZW9tZXRyeT1uZXcgU3BoZXJlR2VvbWV0cnkoc3BoZXJlU2l6ZSw0LDIpO3ZhciBtYXRlcmlhbD1uZXcgTWVzaEJhc2ljTWF0ZXJpYWwoe3dpcmVmcmFtZTp0cnVlLGZvZzpmYWxzZSx0b25lTWFwcGVkOmZhbHNlfSk7X3RoaXMxMTI9X3N1cGVyMTQxLmNhbGwodGhpcyxnZW9tZXRyeSxtYXRlcmlhbCk7X3RoaXMxMTIubGlnaHQ9bGlnaHQ7X3RoaXMxMTIubGlnaHQudXBkYXRlTWF0cml4V29ybGQoKTtfdGhpczExMi5jb2xvcj1jb2xvcjtfdGhpczExMi50eXBlPSdQb2ludExpZ2h0SGVscGVyJztfdGhpczExMi5tYXRyaXg9X3RoaXMxMTIubGlnaHQubWF0cml4V29ybGQ7X3RoaXMxMTIubWF0cml4QXV0b1VwZGF0ZT1mYWxzZTtfdGhpczExMi51cGRhdGUoKTsvKgoJLy8gVE9ETzogZGVsZXRlIHRoaXMgY29tbWVudD8KCWNvbnN0IGRpc3RhbmNlR2VvbWV0cnkgPSBuZXcgVEhSRUUuSWNvc2FoZWRyb25CdWZmZXJHZW9tZXRyeSggMSwgMiApOwoJY29uc3QgZGlzdGFuY2VNYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCggeyBjb2xvcjogaGV4Q29sb3IsIGZvZzogZmFsc2UsIHdpcmVmcmFtZTogdHJ1ZSwgb3BhY2l0eTogMC4xLCB0cmFuc3BhcmVudDogdHJ1ZSB9ICk7CgoJdGhpcy5saWdodFNwaGVyZSA9IG5ldyBUSFJFRS5NZXNoKCBidWxiR2VvbWV0cnksIGJ1bGJNYXRlcmlhbCApOwoJdGhpcy5saWdodERpc3RhbmNlID0gbmV3IFRIUkVFLk1lc2goIGRpc3RhbmNlR2VvbWV0cnksIGRpc3RhbmNlTWF0ZXJpYWwgKTsKCgljb25zdCBkID0gbGlnaHQuZGlzdGFuY2U7CgoJaWYgKCBkID09PSAwLjAgKSB7CgoJCXRoaXMubGlnaHREaXN0YW5jZS52aXNpYmxlID0gZmFsc2U7CgoJfSBlbHNlIHsKCgkJdGhpcy5saWdodERpc3RhbmNlLnNjYWxlLnNldCggZCwgZCwgZCApOwoKCX0KCgl0aGlzLmFkZCggdGhpcy5saWdodERpc3RhbmNlICk7CgkqL3JldHVybiBfdGhpczExMjt9X2NyZWF0ZUNsYXNzKFBvaW50TGlnaHRIZWxwZXIsW3trZXk6ImRpc3Bvc2UiLHZhbHVlOmZ1bmN0aW9uIGRpc3Bvc2UoKXt0aGlzLmdlb21ldHJ5LmRpc3Bvc2UoKTt0aGlzLm1hdGVyaWFsLmRpc3Bvc2UoKTt9fSx7a2V5OiJ1cGRhdGUiLHZhbHVlOmZ1bmN0aW9uIHVwZGF0ZSgpe2lmKHRoaXMuY29sb3IhPT11bmRlZmluZWQpe3RoaXMubWF0ZXJpYWwuY29sb3Iuc2V0KHRoaXMuY29sb3IpO31lbHNle3RoaXMubWF0ZXJpYWwuY29sb3IuY29weSh0aGlzLmxpZ2h0LmNvbG9yKTt9LyoKCQljb25zdCBkID0gdGhpcy5saWdodC5kaXN0YW5jZTsKCgkJaWYgKCBkID09PSAwLjAgKSB7CgoJCQl0aGlzLmxpZ2h0RGlzdGFuY2UudmlzaWJsZSA9IGZhbHNlOwoKCQl9IGVsc2UgewoKCQkJdGhpcy5saWdodERpc3RhbmNlLnZpc2libGUgPSB0cnVlOwoJCQl0aGlzLmxpZ2h0RGlzdGFuY2Uuc2NhbGUuc2V0KCBkLCBkLCBkICk7CgoJCX0KCQkqL319XSk7cmV0dXJuIFBvaW50TGlnaHRIZWxwZXI7fShNZXNoKTt2YXIgX3ZlY3RvciQxPS8qQF9fUFVSRV9fKi9uZXcgVmVjdG9yMygpO3ZhciBfY29sb3IxPS8qQF9fUFVSRV9fKi9uZXcgQ29sb3IoKTt2YXIgX2NvbG9yMj0vKkBfX1BVUkVfXyovbmV3IENvbG9yKCk7dmFyIEhlbWlzcGhlcmVMaWdodEhlbHBlcj0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX09iamVjdDNEMTUpe19pbmhlcml0cyhIZW1pc3BoZXJlTGlnaHRIZWxwZXIsX09iamVjdDNEMTUpO3ZhciBfc3VwZXIxNDI9X2NyZWF0ZVN1cGVyKEhlbWlzcGhlcmVMaWdodEhlbHBlcik7ZnVuY3Rpb24gSGVtaXNwaGVyZUxpZ2h0SGVscGVyKGxpZ2h0LHNpemUsY29sb3Ipe3ZhciBfdGhpczExMztfY2xhc3NDYWxsQ2hlY2sodGhpcyxIZW1pc3BoZXJlTGlnaHRIZWxwZXIpO190aGlzMTEzPV9zdXBlcjE0Mi5jYWxsKHRoaXMpO190aGlzMTEzLmxpZ2h0PWxpZ2h0O190aGlzMTEzLmxpZ2h0LnVwZGF0ZU1hdHJpeFdvcmxkKCk7X3RoaXMxMTMubWF0cml4PWxpZ2h0Lm1hdHJpeFdvcmxkO190aGlzMTEzLm1hdHJpeEF1dG9VcGRhdGU9ZmFsc2U7X3RoaXMxMTMuY29sb3I9Y29sb3I7dmFyIGdlb21ldHJ5PW5ldyBPY3RhaGVkcm9uR2VvbWV0cnkoc2l6ZSk7Z2VvbWV0cnkucm90YXRlWShNYXRoLlBJKjAuNSk7X3RoaXMxMTMubWF0ZXJpYWw9bmV3IE1lc2hCYXNpY01hdGVyaWFsKHt3aXJlZnJhbWU6dHJ1ZSxmb2c6ZmFsc2UsdG9uZU1hcHBlZDpmYWxzZX0pO2lmKF90aGlzMTEzLmNvbG9yPT09dW5kZWZpbmVkKV90aGlzMTEzLm1hdGVyaWFsLnZlcnRleENvbG9ycz10cnVlO3ZhciBwb3NpdGlvbj1nZW9tZXRyeS5nZXRBdHRyaWJ1dGUoJ3Bvc2l0aW9uJyk7dmFyIGNvbG9ycz1uZXcgRmxvYXQzMkFycmF5KHBvc2l0aW9uLmNvdW50KjMpO2dlb21ldHJ5LnNldEF0dHJpYnV0ZSgnY29sb3InLG5ldyBCdWZmZXJBdHRyaWJ1dGUoY29sb3JzLDMpKTtfdGhpczExMy5hZGQobmV3IE1lc2goZ2VvbWV0cnksX3RoaXMxMTMubWF0ZXJpYWwpKTtfdGhpczExMy51cGRhdGUoKTtyZXR1cm4gX3RoaXMxMTM7fV9jcmVhdGVDbGFzcyhIZW1pc3BoZXJlTGlnaHRIZWxwZXIsW3trZXk6ImRpc3Bvc2UiLHZhbHVlOmZ1bmN0aW9uIGRpc3Bvc2UoKXt0aGlzLmNoaWxkcmVuWzBdLmdlb21ldHJ5LmRpc3Bvc2UoKTt0aGlzLmNoaWxkcmVuWzBdLm1hdGVyaWFsLmRpc3Bvc2UoKTt9fSx7a2V5OiJ1cGRhdGUiLHZhbHVlOmZ1bmN0aW9uIHVwZGF0ZSgpe3ZhciBtZXNoPXRoaXMuY2hpbGRyZW5bMF07aWYodGhpcy5jb2xvciE9PXVuZGVmaW5lZCl7dGhpcy5tYXRlcmlhbC5jb2xvci5zZXQodGhpcy5jb2xvcik7fWVsc2V7dmFyIGNvbG9ycz1tZXNoLmdlb21ldHJ5LmdldEF0dHJpYnV0ZSgnY29sb3InKTtfY29sb3IxLmNvcHkodGhpcy5saWdodC5jb2xvcik7X2NvbG9yMi5jb3B5KHRoaXMubGlnaHQuZ3JvdW5kQ29sb3IpO2Zvcih2YXIgX2kzNDY9MCxsPWNvbG9ycy5jb3VudDtfaTM0NjxsO19pMzQ2Kyspe3ZhciBjb2xvcj1faTM0NjxsLzI/X2NvbG9yMTpfY29sb3IyO2NvbG9ycy5zZXRYWVooX2kzNDYsY29sb3Iucixjb2xvci5nLGNvbG9yLmIpO31jb2xvcnMubmVlZHNVcGRhdGU9dHJ1ZTt9bWVzaC5sb29rQXQoX3ZlY3RvciQxLnNldEZyb21NYXRyaXhQb3NpdGlvbih0aGlzLmxpZ2h0Lm1hdHJpeFdvcmxkKS5uZWdhdGUoKSk7fX1dKTtyZXR1cm4gSGVtaXNwaGVyZUxpZ2h0SGVscGVyO30oT2JqZWN0M0QpO3ZhciBHcmlkSGVscGVyPS8qI19fUFVSRV9fKi9mdW5jdGlvbihfTGluZVNlZ21lbnRzMil7X2luaGVyaXRzKEdyaWRIZWxwZXIsX0xpbmVTZWdtZW50czIpO3ZhciBfc3VwZXIxNDM9X2NyZWF0ZVN1cGVyKEdyaWRIZWxwZXIpO2Z1bmN0aW9uIEdyaWRIZWxwZXIoKXt2YXIgX3RoaXMxMTQ7dmFyIHNpemU9YXJndW1lbnRzLmxlbmd0aD4wJiZhcmd1bWVudHNbMF0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzBdOjEwO3ZhciBkaXZpc2lvbnM9YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzFdOjEwO3ZhciBjb2xvcjE9YXJndW1lbnRzLmxlbmd0aD4yJiZhcmd1bWVudHNbMl0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzJdOjB4NDQ0NDQ0O3ZhciBjb2xvcjI9YXJndW1lbnRzLmxlbmd0aD4zJiZhcmd1bWVudHNbM10hPT11bmRlZmluZWQ/YXJndW1lbnRzWzNdOjB4ODg4ODg4O19jbGFzc0NhbGxDaGVjayh0aGlzLEdyaWRIZWxwZXIpO2NvbG9yMT1uZXcgQ29sb3IoY29sb3IxKTtjb2xvcjI9bmV3IENvbG9yKGNvbG9yMik7dmFyIGNlbnRlcj1kaXZpc2lvbnMvMjt2YXIgc3RlcD1zaXplL2RpdmlzaW9uczt2YXIgaGFsZlNpemU9c2l6ZS8yO3ZhciB2ZXJ0aWNlcz1bXSxjb2xvcnM9W107Zm9yKHZhciBfaTM0Nz0wLGo9MCxrPS1oYWxmU2l6ZTtfaTM0Nzw9ZGl2aXNpb25zO19pMzQ3Kyssays9c3RlcCl7dmVydGljZXMucHVzaCgtaGFsZlNpemUsMCxrLGhhbGZTaXplLDAsayk7dmVydGljZXMucHVzaChrLDAsLWhhbGZTaXplLGssMCxoYWxmU2l6ZSk7dmFyIGNvbG9yPV9pMzQ3PT09Y2VudGVyP2NvbG9yMTpjb2xvcjI7Y29sb3IudG9BcnJheShjb2xvcnMsaik7ais9Mztjb2xvci50b0FycmF5KGNvbG9ycyxqKTtqKz0zO2NvbG9yLnRvQXJyYXkoY29sb3JzLGopO2orPTM7Y29sb3IudG9BcnJheShjb2xvcnMsaik7ais9Mzt9dmFyIGdlb21ldHJ5PW5ldyBCdWZmZXJHZW9tZXRyeSgpO2dlb21ldHJ5LnNldEF0dHJpYnV0ZSgncG9zaXRpb24nLG5ldyBGbG9hdDMyQnVmZmVyQXR0cmlidXRlKHZlcnRpY2VzLDMpKTtnZW9tZXRyeS5zZXRBdHRyaWJ1dGUoJ2NvbG9yJyxuZXcgRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZShjb2xvcnMsMykpO3ZhciBtYXRlcmlhbD1uZXcgTGluZUJhc2ljTWF0ZXJpYWwoe3ZlcnRleENvbG9yczp0cnVlLHRvbmVNYXBwZWQ6ZmFsc2V9KTtfdGhpczExND1fc3VwZXIxNDMuY2FsbCh0aGlzLGdlb21ldHJ5LG1hdGVyaWFsKTtfdGhpczExNC50eXBlPSdHcmlkSGVscGVyJztyZXR1cm4gX3RoaXMxMTQ7fXJldHVybiBfY3JlYXRlQ2xhc3MoR3JpZEhlbHBlcik7fShMaW5lU2VnbWVudHMpO3ZhciBQb2xhckdyaWRIZWxwZXI9LyojX19QVVJFX18qL2Z1bmN0aW9uKF9MaW5lU2VnbWVudHMzKXtfaW5oZXJpdHMoUG9sYXJHcmlkSGVscGVyLF9MaW5lU2VnbWVudHMzKTt2YXIgX3N1cGVyMTQ0PV9jcmVhdGVTdXBlcihQb2xhckdyaWRIZWxwZXIpO2Z1bmN0aW9uIFBvbGFyR3JpZEhlbHBlcigpe3ZhciBfdGhpczExNTt2YXIgcmFkaXVzPWFyZ3VtZW50cy5sZW5ndGg+MCYmYXJndW1lbnRzWzBdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1swXToxMDt2YXIgcmFkaWFscz1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMV06MTY7dmFyIGNpcmNsZXM9YXJndW1lbnRzLmxlbmd0aD4yJiZhcmd1bWVudHNbMl0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzJdOjg7dmFyIGRpdmlzaW9ucz1hcmd1bWVudHMubGVuZ3RoPjMmJmFyZ3VtZW50c1szXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbM106NjQ7dmFyIGNvbG9yMT1hcmd1bWVudHMubGVuZ3RoPjQmJmFyZ3VtZW50c1s0XSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbNF06MHg0NDQ0NDQ7dmFyIGNvbG9yMj1hcmd1bWVudHMubGVuZ3RoPjUmJmFyZ3VtZW50c1s1XSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbNV06MHg4ODg4ODg7X2NsYXNzQ2FsbENoZWNrKHRoaXMsUG9sYXJHcmlkSGVscGVyKTtjb2xvcjE9bmV3IENvbG9yKGNvbG9yMSk7Y29sb3IyPW5ldyBDb2xvcihjb2xvcjIpO3ZhciB2ZXJ0aWNlcz1bXTt2YXIgY29sb3JzPVtdOy8vIGNyZWF0ZSB0aGUgcmFkaWFscwpmb3IodmFyIF9pMzQ4PTA7X2kzNDg8PXJhZGlhbHM7X2kzNDgrKyl7dmFyIHY9X2kzNDgvcmFkaWFscyooTWF0aC5QSSoyKTt2YXIgeD1NYXRoLnNpbih2KSpyYWRpdXM7dmFyIHo9TWF0aC5jb3ModikqcmFkaXVzO3ZlcnRpY2VzLnB1c2goMCwwLDApO3ZlcnRpY2VzLnB1c2goeCwwLHopO3ZhciBjb2xvcj1faTM0OCYxP2NvbG9yMTpjb2xvcjI7Y29sb3JzLnB1c2goY29sb3Iucixjb2xvci5nLGNvbG9yLmIpO2NvbG9ycy5wdXNoKGNvbG9yLnIsY29sb3IuZyxjb2xvci5iKTt9Ly8gY3JlYXRlIHRoZSBjaXJjbGVzCmZvcih2YXIgX2kzNDk9MDtfaTM0OTw9Y2lyY2xlcztfaTM0OSsrKXt2YXIgX2NvbG9yPV9pMzQ5JjE/Y29sb3IxOmNvbG9yMjt2YXIgcj1yYWRpdXMtcmFkaXVzL2NpcmNsZXMqX2kzNDk7Zm9yKHZhciBqPTA7ajxkaXZpc2lvbnM7aisrKXsvLyBmaXJzdCB2ZXJ0ZXgKdmFyIF92PWovZGl2aXNpb25zKihNYXRoLlBJKjIpO3ZhciBfeDEyPU1hdGguc2luKF92KSpyO3ZhciBfejM9TWF0aC5jb3MoX3YpKnI7dmVydGljZXMucHVzaChfeDEyLDAsX3ozKTtjb2xvcnMucHVzaChfY29sb3IucixfY29sb3IuZyxfY29sb3IuYik7Ly8gc2Vjb25kIHZlcnRleApfdj0oaisxKS9kaXZpc2lvbnMqKE1hdGguUEkqMik7X3gxMj1NYXRoLnNpbihfdikqcjtfejM9TWF0aC5jb3MoX3YpKnI7dmVydGljZXMucHVzaChfeDEyLDAsX3ozKTtjb2xvcnMucHVzaChfY29sb3IucixfY29sb3IuZyxfY29sb3IuYik7fX12YXIgZ2VvbWV0cnk9bmV3IEJ1ZmZlckdlb21ldHJ5KCk7Z2VvbWV0cnkuc2V0QXR0cmlidXRlKCdwb3NpdGlvbicsbmV3IEZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUodmVydGljZXMsMykpO2dlb21ldHJ5LnNldEF0dHJpYnV0ZSgnY29sb3InLG5ldyBGbG9hdDMyQnVmZmVyQXR0cmlidXRlKGNvbG9ycywzKSk7dmFyIG1hdGVyaWFsPW5ldyBMaW5lQmFzaWNNYXRlcmlhbCh7dmVydGV4Q29sb3JzOnRydWUsdG9uZU1hcHBlZDpmYWxzZX0pO190aGlzMTE1PV9zdXBlcjE0NC5jYWxsKHRoaXMsZ2VvbWV0cnksbWF0ZXJpYWwpO190aGlzMTE1LnR5cGU9J1BvbGFyR3JpZEhlbHBlcic7cmV0dXJuIF90aGlzMTE1O31yZXR1cm4gX2NyZWF0ZUNsYXNzKFBvbGFyR3JpZEhlbHBlcik7fShMaW5lU2VnbWVudHMpO3ZhciBfdjE9LypAX19QVVJFX18qL25ldyBWZWN0b3IzKCk7dmFyIF92Mj0vKkBfX1BVUkVfXyovbmV3IFZlY3RvcjMoKTt2YXIgX3YzPS8qQF9fUFVSRV9fKi9uZXcgVmVjdG9yMygpO3ZhciBEaXJlY3Rpb25hbExpZ2h0SGVscGVyPS8qI19fUFVSRV9fKi9mdW5jdGlvbihfT2JqZWN0M0QxNil7X2luaGVyaXRzKERpcmVjdGlvbmFsTGlnaHRIZWxwZXIsX09iamVjdDNEMTYpO3ZhciBfc3VwZXIxNDU9X2NyZWF0ZVN1cGVyKERpcmVjdGlvbmFsTGlnaHRIZWxwZXIpO2Z1bmN0aW9uIERpcmVjdGlvbmFsTGlnaHRIZWxwZXIobGlnaHQsc2l6ZSxjb2xvcil7dmFyIF90aGlzMTE2O19jbGFzc0NhbGxDaGVjayh0aGlzLERpcmVjdGlvbmFsTGlnaHRIZWxwZXIpO190aGlzMTE2PV9zdXBlcjE0NS5jYWxsKHRoaXMpO190aGlzMTE2LmxpZ2h0PWxpZ2h0O190aGlzMTE2LmxpZ2h0LnVwZGF0ZU1hdHJpeFdvcmxkKCk7X3RoaXMxMTYubWF0cml4PWxpZ2h0Lm1hdHJpeFdvcmxkO190aGlzMTE2Lm1hdHJpeEF1dG9VcGRhdGU9ZmFsc2U7X3RoaXMxMTYuY29sb3I9Y29sb3I7aWYoc2l6ZT09PXVuZGVmaW5lZClzaXplPTE7dmFyIGdlb21ldHJ5PW5ldyBCdWZmZXJHZW9tZXRyeSgpO2dlb21ldHJ5LnNldEF0dHJpYnV0ZSgncG9zaXRpb24nLG5ldyBGbG9hdDMyQnVmZmVyQXR0cmlidXRlKFstc2l6ZSxzaXplLDAsc2l6ZSxzaXplLDAsc2l6ZSwtc2l6ZSwwLC1zaXplLC1zaXplLDAsLXNpemUsc2l6ZSwwXSwzKSk7dmFyIG1hdGVyaWFsPW5ldyBMaW5lQmFzaWNNYXRlcmlhbCh7Zm9nOmZhbHNlLHRvbmVNYXBwZWQ6ZmFsc2V9KTtfdGhpczExNi5saWdodFBsYW5lPW5ldyBMaW5lKGdlb21ldHJ5LG1hdGVyaWFsKTtfdGhpczExNi5hZGQoX3RoaXMxMTYubGlnaHRQbGFuZSk7Z2VvbWV0cnk9bmV3IEJ1ZmZlckdlb21ldHJ5KCk7Z2VvbWV0cnkuc2V0QXR0cmlidXRlKCdwb3NpdGlvbicsbmV3IEZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUoWzAsMCwwLDAsMCwxXSwzKSk7X3RoaXMxMTYudGFyZ2V0TGluZT1uZXcgTGluZShnZW9tZXRyeSxtYXRlcmlhbCk7X3RoaXMxMTYuYWRkKF90aGlzMTE2LnRhcmdldExpbmUpO190aGlzMTE2LnVwZGF0ZSgpO3JldHVybiBfdGhpczExNjt9X2NyZWF0ZUNsYXNzKERpcmVjdGlvbmFsTGlnaHRIZWxwZXIsW3trZXk6ImRpc3Bvc2UiLHZhbHVlOmZ1bmN0aW9uIGRpc3Bvc2UoKXt0aGlzLmxpZ2h0UGxhbmUuZ2VvbWV0cnkuZGlzcG9zZSgpO3RoaXMubGlnaHRQbGFuZS5tYXRlcmlhbC5kaXNwb3NlKCk7dGhpcy50YXJnZXRMaW5lLmdlb21ldHJ5LmRpc3Bvc2UoKTt0aGlzLnRhcmdldExpbmUubWF0ZXJpYWwuZGlzcG9zZSgpO319LHtrZXk6InVwZGF0ZSIsdmFsdWU6ZnVuY3Rpb24gdXBkYXRlKCl7X3YxLnNldEZyb21NYXRyaXhQb3NpdGlvbih0aGlzLmxpZ2h0Lm1hdHJpeFdvcmxkKTtfdjIuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKHRoaXMubGlnaHQudGFyZ2V0Lm1hdHJpeFdvcmxkKTtfdjMuc3ViVmVjdG9ycyhfdjIsX3YxKTt0aGlzLmxpZ2h0UGxhbmUubG9va0F0KF92Mik7aWYodGhpcy5jb2xvciE9PXVuZGVmaW5lZCl7dGhpcy5saWdodFBsYW5lLm1hdGVyaWFsLmNvbG9yLnNldCh0aGlzLmNvbG9yKTt0aGlzLnRhcmdldExpbmUubWF0ZXJpYWwuY29sb3Iuc2V0KHRoaXMuY29sb3IpO31lbHNle3RoaXMubGlnaHRQbGFuZS5tYXRlcmlhbC5jb2xvci5jb3B5KHRoaXMubGlnaHQuY29sb3IpO3RoaXMudGFyZ2V0TGluZS5tYXRlcmlhbC5jb2xvci5jb3B5KHRoaXMubGlnaHQuY29sb3IpO310aGlzLnRhcmdldExpbmUubG9va0F0KF92Mik7dGhpcy50YXJnZXRMaW5lLnNjYWxlLno9X3YzLmxlbmd0aCgpO319XSk7cmV0dXJuIERpcmVjdGlvbmFsTGlnaHRIZWxwZXI7fShPYmplY3QzRCk7dmFyIF92ZWN0b3I9LypAX19QVVJFX18qL25ldyBWZWN0b3IzKCk7dmFyIF9jYW1lcmE9LypAX19QVVJFX18qL25ldyBDYW1lcmEoKTsvKioKICoJLSBzaG93cyBmcnVzdHVtLCBsaW5lIG9mIHNpZ2h0IGFuZCB1cCBvZiB0aGUgY2FtZXJhCiAqCS0gc3VpdGFibGUgZm9yIGZhc3QgdXBkYXRlcwogKiAJLSBiYXNlZCBvbiBmcnVzdHVtIHZpc3VhbGl6YXRpb24gaW4gbGlnaHRnbC5qcyBzaGFkb3dtYXAgZXhhbXBsZQogKgkJaHR0cHM6Ly9naXRodWIuY29tL2V2YW53L2xpZ2h0Z2wuanMvYmxvYi9tYXN0ZXIvdGVzdHMvc2hhZG93bWFwLmh0bWwKICovdmFyIENhbWVyYUhlbHBlcj0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX0xpbmVTZWdtZW50czQpe19pbmhlcml0cyhDYW1lcmFIZWxwZXIsX0xpbmVTZWdtZW50czQpO3ZhciBfc3VwZXIxNDY9X2NyZWF0ZVN1cGVyKENhbWVyYUhlbHBlcik7ZnVuY3Rpb24gQ2FtZXJhSGVscGVyKGNhbWVyYSl7dmFyIF90aGlzMTE3O19jbGFzc0NhbGxDaGVjayh0aGlzLENhbWVyYUhlbHBlcik7dmFyIGdlb21ldHJ5PW5ldyBCdWZmZXJHZW9tZXRyeSgpO3ZhciBtYXRlcmlhbD1uZXcgTGluZUJhc2ljTWF0ZXJpYWwoe2NvbG9yOjB4ZmZmZmZmLHZlcnRleENvbG9yczp0cnVlLHRvbmVNYXBwZWQ6ZmFsc2V9KTt2YXIgdmVydGljZXM9W107dmFyIGNvbG9ycz1bXTt2YXIgcG9pbnRNYXA9e307Ly8gY29sb3JzCnZhciBjb2xvckZydXN0dW09bmV3IENvbG9yKDB4ZmZhYTAwKTt2YXIgY29sb3JDb25lPW5ldyBDb2xvcigweGZmMDAwMCk7dmFyIGNvbG9yVXA9bmV3IENvbG9yKDB4MDBhYWZmKTt2YXIgY29sb3JUYXJnZXQ9bmV3IENvbG9yKDB4ZmZmZmZmKTt2YXIgY29sb3JDcm9zcz1uZXcgQ29sb3IoMHgzMzMzMzMpOy8vIG5lYXIKYWRkTGluZSgnbjEnLCduMicsY29sb3JGcnVzdHVtKTthZGRMaW5lKCduMicsJ240Jyxjb2xvckZydXN0dW0pO2FkZExpbmUoJ240JywnbjMnLGNvbG9yRnJ1c3R1bSk7YWRkTGluZSgnbjMnLCduMScsY29sb3JGcnVzdHVtKTsvLyBmYXIKYWRkTGluZSgnZjEnLCdmMicsY29sb3JGcnVzdHVtKTthZGRMaW5lKCdmMicsJ2Y0Jyxjb2xvckZydXN0dW0pO2FkZExpbmUoJ2Y0JywnZjMnLGNvbG9yRnJ1c3R1bSk7YWRkTGluZSgnZjMnLCdmMScsY29sb3JGcnVzdHVtKTsvLyBzaWRlcwphZGRMaW5lKCduMScsJ2YxJyxjb2xvckZydXN0dW0pO2FkZExpbmUoJ24yJywnZjInLGNvbG9yRnJ1c3R1bSk7YWRkTGluZSgnbjMnLCdmMycsY29sb3JGcnVzdHVtKTthZGRMaW5lKCduNCcsJ2Y0Jyxjb2xvckZydXN0dW0pOy8vIGNvbmUKYWRkTGluZSgncCcsJ24xJyxjb2xvckNvbmUpO2FkZExpbmUoJ3AnLCduMicsY29sb3JDb25lKTthZGRMaW5lKCdwJywnbjMnLGNvbG9yQ29uZSk7YWRkTGluZSgncCcsJ240Jyxjb2xvckNvbmUpOy8vIHVwCmFkZExpbmUoJ3UxJywndTInLGNvbG9yVXApO2FkZExpbmUoJ3UyJywndTMnLGNvbG9yVXApO2FkZExpbmUoJ3UzJywndTEnLGNvbG9yVXApOy8vIHRhcmdldAphZGRMaW5lKCdjJywndCcsY29sb3JUYXJnZXQpO2FkZExpbmUoJ3AnLCdjJyxjb2xvckNyb3NzKTsvLyBjcm9zcwphZGRMaW5lKCdjbjEnLCdjbjInLGNvbG9yQ3Jvc3MpO2FkZExpbmUoJ2NuMycsJ2NuNCcsY29sb3JDcm9zcyk7YWRkTGluZSgnY2YxJywnY2YyJyxjb2xvckNyb3NzKTthZGRMaW5lKCdjZjMnLCdjZjQnLGNvbG9yQ3Jvc3MpO2Z1bmN0aW9uIGFkZExpbmUoYSxiLGNvbG9yKXthZGRQb2ludChhLGNvbG9yKTthZGRQb2ludChiLGNvbG9yKTt9ZnVuY3Rpb24gYWRkUG9pbnQoaWQsY29sb3Ipe3ZlcnRpY2VzLnB1c2goMCwwLDApO2NvbG9ycy5wdXNoKGNvbG9yLnIsY29sb3IuZyxjb2xvci5iKTtpZihwb2ludE1hcFtpZF09PT11bmRlZmluZWQpe3BvaW50TWFwW2lkXT1bXTt9cG9pbnRNYXBbaWRdLnB1c2godmVydGljZXMubGVuZ3RoLzMtMSk7fWdlb21ldHJ5LnNldEF0dHJpYnV0ZSgncG9zaXRpb24nLG5ldyBGbG9hdDMyQnVmZmVyQXR0cmlidXRlKHZlcnRpY2VzLDMpKTtnZW9tZXRyeS5zZXRBdHRyaWJ1dGUoJ2NvbG9yJyxuZXcgRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZShjb2xvcnMsMykpO190aGlzMTE3PV9zdXBlcjE0Ni5jYWxsKHRoaXMsZ2VvbWV0cnksbWF0ZXJpYWwpO190aGlzMTE3LnR5cGU9J0NhbWVyYUhlbHBlcic7X3RoaXMxMTcuY2FtZXJhPWNhbWVyYTtpZihfdGhpczExNy5jYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeClfdGhpczExNy5jYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO190aGlzMTE3Lm1hdHJpeD1jYW1lcmEubWF0cml4V29ybGQ7X3RoaXMxMTcubWF0cml4QXV0b1VwZGF0ZT1mYWxzZTtfdGhpczExNy5wb2ludE1hcD1wb2ludE1hcDtfdGhpczExNy51cGRhdGUoKTtyZXR1cm4gX3RoaXMxMTc7fV9jcmVhdGVDbGFzcyhDYW1lcmFIZWxwZXIsW3trZXk6InVwZGF0ZSIsdmFsdWU6ZnVuY3Rpb24gdXBkYXRlKCl7dmFyIGdlb21ldHJ5PXRoaXMuZ2VvbWV0cnk7dmFyIHBvaW50TWFwPXRoaXMucG9pbnRNYXA7dmFyIHc9MSxoPTE7Ly8gd2UgbmVlZCBqdXN0IGNhbWVyYSBwcm9qZWN0aW9uIG1hdHJpeCBpbnZlcnNlCi8vIHdvcmxkIG1hdHJpeCBtdXN0IGJlIGlkZW50aXR5Cl9jYW1lcmEucHJvamVjdGlvbk1hdHJpeEludmVyc2UuY29weSh0aGlzLmNhbWVyYS5wcm9qZWN0aW9uTWF0cml4SW52ZXJzZSk7Ly8gY2VudGVyIC8gdGFyZ2V0CnNldFBvaW50KCdjJyxwb2ludE1hcCxnZW9tZXRyeSxfY2FtZXJhLDAsMCwtMSk7c2V0UG9pbnQoJ3QnLHBvaW50TWFwLGdlb21ldHJ5LF9jYW1lcmEsMCwwLDEpOy8vIG5lYXIKc2V0UG9pbnQoJ24xJyxwb2ludE1hcCxnZW9tZXRyeSxfY2FtZXJhLC13LC1oLC0xKTtzZXRQb2ludCgnbjInLHBvaW50TWFwLGdlb21ldHJ5LF9jYW1lcmEsdywtaCwtMSk7c2V0UG9pbnQoJ24zJyxwb2ludE1hcCxnZW9tZXRyeSxfY2FtZXJhLC13LGgsLTEpO3NldFBvaW50KCduNCcscG9pbnRNYXAsZ2VvbWV0cnksX2NhbWVyYSx3LGgsLTEpOy8vIGZhcgpzZXRQb2ludCgnZjEnLHBvaW50TWFwLGdlb21ldHJ5LF9jYW1lcmEsLXcsLWgsMSk7c2V0UG9pbnQoJ2YyJyxwb2ludE1hcCxnZW9tZXRyeSxfY2FtZXJhLHcsLWgsMSk7c2V0UG9pbnQoJ2YzJyxwb2ludE1hcCxnZW9tZXRyeSxfY2FtZXJhLC13LGgsMSk7c2V0UG9pbnQoJ2Y0Jyxwb2ludE1hcCxnZW9tZXRyeSxfY2FtZXJhLHcsaCwxKTsvLyB1cApzZXRQb2ludCgndTEnLHBvaW50TWFwLGdlb21ldHJ5LF9jYW1lcmEsdyowLjcsaCoxLjEsLTEpO3NldFBvaW50KCd1MicscG9pbnRNYXAsZ2VvbWV0cnksX2NhbWVyYSwtdyowLjcsaCoxLjEsLTEpO3NldFBvaW50KCd1MycscG9pbnRNYXAsZ2VvbWV0cnksX2NhbWVyYSwwLGgqMiwtMSk7Ly8gY3Jvc3MKc2V0UG9pbnQoJ2NmMScscG9pbnRNYXAsZ2VvbWV0cnksX2NhbWVyYSwtdywwLDEpO3NldFBvaW50KCdjZjInLHBvaW50TWFwLGdlb21ldHJ5LF9jYW1lcmEsdywwLDEpO3NldFBvaW50KCdjZjMnLHBvaW50TWFwLGdlb21ldHJ5LF9jYW1lcmEsMCwtaCwxKTtzZXRQb2ludCgnY2Y0Jyxwb2ludE1hcCxnZW9tZXRyeSxfY2FtZXJhLDAsaCwxKTtzZXRQb2ludCgnY24xJyxwb2ludE1hcCxnZW9tZXRyeSxfY2FtZXJhLC13LDAsLTEpO3NldFBvaW50KCdjbjInLHBvaW50TWFwLGdlb21ldHJ5LF9jYW1lcmEsdywwLC0xKTtzZXRQb2ludCgnY24zJyxwb2ludE1hcCxnZW9tZXRyeSxfY2FtZXJhLDAsLWgsLTEpO3NldFBvaW50KCdjbjQnLHBvaW50TWFwLGdlb21ldHJ5LF9jYW1lcmEsMCxoLC0xKTtnZW9tZXRyeS5nZXRBdHRyaWJ1dGUoJ3Bvc2l0aW9uJykubmVlZHNVcGRhdGU9dHJ1ZTt9fSx7a2V5OiJkaXNwb3NlIix2YWx1ZTpmdW5jdGlvbiBkaXNwb3NlKCl7dGhpcy5nZW9tZXRyeS5kaXNwb3NlKCk7dGhpcy5tYXRlcmlhbC5kaXNwb3NlKCk7fX1dKTtyZXR1cm4gQ2FtZXJhSGVscGVyO30oTGluZVNlZ21lbnRzKTtmdW5jdGlvbiBzZXRQb2ludChwb2ludCxwb2ludE1hcCxnZW9tZXRyeSxjYW1lcmEseCx5LHope192ZWN0b3Iuc2V0KHgseSx6KS51bnByb2plY3QoY2FtZXJhKTt2YXIgcG9pbnRzPXBvaW50TWFwW3BvaW50XTtpZihwb2ludHMhPT11bmRlZmluZWQpe3ZhciBwb3NpdGlvbj1nZW9tZXRyeS5nZXRBdHRyaWJ1dGUoJ3Bvc2l0aW9uJyk7Zm9yKHZhciBfaTM1MD0wLGw9cG9pbnRzLmxlbmd0aDtfaTM1MDxsO19pMzUwKyspe3Bvc2l0aW9uLnNldFhZWihwb2ludHNbX2kzNTBdLF92ZWN0b3IueCxfdmVjdG9yLnksX3ZlY3Rvci56KTt9fX12YXIgX2JveD0vKkBfX1BVUkVfXyovbmV3IEJveDMoKTt2YXIgQm94SGVscGVyPS8qI19fUFVSRV9fKi9mdW5jdGlvbihfTGluZVNlZ21lbnRzNSl7X2luaGVyaXRzKEJveEhlbHBlcixfTGluZVNlZ21lbnRzNSk7dmFyIF9zdXBlcjE0Nz1fY3JlYXRlU3VwZXIoQm94SGVscGVyKTtmdW5jdGlvbiBCb3hIZWxwZXIob2JqZWN0KXt2YXIgX3RoaXMxMTg7dmFyIGNvbG9yPWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1sxXToweGZmZmYwMDtfY2xhc3NDYWxsQ2hlY2sodGhpcyxCb3hIZWxwZXIpO3ZhciBpbmRpY2VzPW5ldyBVaW50MTZBcnJheShbMCwxLDEsMiwyLDMsMywwLDQsNSw1LDYsNiw3LDcsNCwwLDQsMSw1LDIsNiwzLDddKTt2YXIgcG9zaXRpb25zPW5ldyBGbG9hdDMyQXJyYXkoOCozKTt2YXIgZ2VvbWV0cnk9bmV3IEJ1ZmZlckdlb21ldHJ5KCk7Z2VvbWV0cnkuc2V0SW5kZXgobmV3IEJ1ZmZlckF0dHJpYnV0ZShpbmRpY2VzLDEpKTtnZW9tZXRyeS5zZXRBdHRyaWJ1dGUoJ3Bvc2l0aW9uJyxuZXcgQnVmZmVyQXR0cmlidXRlKHBvc2l0aW9ucywzKSk7X3RoaXMxMTg9X3N1cGVyMTQ3LmNhbGwodGhpcyxnZW9tZXRyeSxuZXcgTGluZUJhc2ljTWF0ZXJpYWwoe2NvbG9yOmNvbG9yLHRvbmVNYXBwZWQ6ZmFsc2V9KSk7X3RoaXMxMTgub2JqZWN0PW9iamVjdDtfdGhpczExOC50eXBlPSdCb3hIZWxwZXInO190aGlzMTE4Lm1hdHJpeEF1dG9VcGRhdGU9ZmFsc2U7X3RoaXMxMTgudXBkYXRlKCk7cmV0dXJuIF90aGlzMTE4O31fY3JlYXRlQ2xhc3MoQm94SGVscGVyLFt7a2V5OiJ1cGRhdGUiLHZhbHVlOmZ1bmN0aW9uIHVwZGF0ZShvYmplY3Qpe2lmKG9iamVjdCE9PXVuZGVmaW5lZCl7Y29uc29sZS53YXJuKCdUSFJFRS5Cb3hIZWxwZXI6IC51cGRhdGUoKSBoYXMgbm8gbG9uZ2VyIGFyZ3VtZW50cy4nKTt9aWYodGhpcy5vYmplY3QhPT11bmRlZmluZWQpe19ib3guc2V0RnJvbU9iamVjdCh0aGlzLm9iamVjdCk7fWlmKF9ib3guaXNFbXB0eSgpKXJldHVybjt2YXIgbWluPV9ib3gubWluO3ZhciBtYXg9X2JveC5tYXg7LyoKCQkJNV9fX180CgkJMS9fX18wL3wKCQl8IDZfX3xfNwoJCTIvX19fMy8KCgkJMDogbWF4LngsIG1heC55LCBtYXguegoJCTE6IG1pbi54LCBtYXgueSwgbWF4LnoKCQkyOiBtaW4ueCwgbWluLnksIG1heC56CgkJMzogbWF4LngsIG1pbi55LCBtYXguegoJCTQ6IG1heC54LCBtYXgueSwgbWluLnoKCQk1OiBtaW4ueCwgbWF4LnksIG1pbi56CgkJNjogbWluLngsIG1pbi55LCBtaW4uegoJCTc6IG1heC54LCBtaW4ueSwgbWluLnoKCQkqL3ZhciBwb3NpdGlvbj10aGlzLmdlb21ldHJ5LmF0dHJpYnV0ZXMucG9zaXRpb247dmFyIGFycmF5PXBvc2l0aW9uLmFycmF5O2FycmF5WzBdPW1heC54O2FycmF5WzFdPW1heC55O2FycmF5WzJdPW1heC56O2FycmF5WzNdPW1pbi54O2FycmF5WzRdPW1heC55O2FycmF5WzVdPW1heC56O2FycmF5WzZdPW1pbi54O2FycmF5WzddPW1pbi55O2FycmF5WzhdPW1heC56O2FycmF5WzldPW1heC54O2FycmF5WzEwXT1taW4ueTthcnJheVsxMV09bWF4Lno7YXJyYXlbMTJdPW1heC54O2FycmF5WzEzXT1tYXgueTthcnJheVsxNF09bWluLno7YXJyYXlbMTVdPW1pbi54O2FycmF5WzE2XT1tYXgueTthcnJheVsxN109bWluLno7YXJyYXlbMThdPW1pbi54O2FycmF5WzE5XT1taW4ueTthcnJheVsyMF09bWluLno7YXJyYXlbMjFdPW1heC54O2FycmF5WzIyXT1taW4ueTthcnJheVsyM109bWluLno7cG9zaXRpb24ubmVlZHNVcGRhdGU9dHJ1ZTt0aGlzLmdlb21ldHJ5LmNvbXB1dGVCb3VuZGluZ1NwaGVyZSgpO319LHtrZXk6InNldEZyb21PYmplY3QiLHZhbHVlOmZ1bmN0aW9uIHNldEZyb21PYmplY3Qob2JqZWN0KXt0aGlzLm9iamVjdD1vYmplY3Q7dGhpcy51cGRhdGUoKTtyZXR1cm4gdGhpczt9fSx7a2V5OiJjb3B5Iix2YWx1ZTpmdW5jdGlvbiBjb3B5KHNvdXJjZSl7TGluZVNlZ21lbnRzLnByb3RvdHlwZS5jb3B5LmNhbGwodGhpcyxzb3VyY2UpO3RoaXMub2JqZWN0PXNvdXJjZS5vYmplY3Q7cmV0dXJuIHRoaXM7fX1dKTtyZXR1cm4gQm94SGVscGVyO30oTGluZVNlZ21lbnRzKTt2YXIgQm94M0hlbHBlcj0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX0xpbmVTZWdtZW50czYpe19pbmhlcml0cyhCb3gzSGVscGVyLF9MaW5lU2VnbWVudHM2KTt2YXIgX3N1cGVyMTQ4PV9jcmVhdGVTdXBlcihCb3gzSGVscGVyKTtmdW5jdGlvbiBCb3gzSGVscGVyKGJveCl7dmFyIF90aGlzMTE5O3ZhciBjb2xvcj1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMV06MHhmZmZmMDA7X2NsYXNzQ2FsbENoZWNrKHRoaXMsQm94M0hlbHBlcik7dmFyIGluZGljZXM9bmV3IFVpbnQxNkFycmF5KFswLDEsMSwyLDIsMywzLDAsNCw1LDUsNiw2LDcsNyw0LDAsNCwxLDUsMiw2LDMsN10pO3ZhciBwb3NpdGlvbnM9WzEsMSwxLC0xLDEsMSwtMSwtMSwxLDEsLTEsMSwxLDEsLTEsLTEsMSwtMSwtMSwtMSwtMSwxLC0xLC0xXTt2YXIgZ2VvbWV0cnk9bmV3IEJ1ZmZlckdlb21ldHJ5KCk7Z2VvbWV0cnkuc2V0SW5kZXgobmV3IEJ1ZmZlckF0dHJpYnV0ZShpbmRpY2VzLDEpKTtnZW9tZXRyeS5zZXRBdHRyaWJ1dGUoJ3Bvc2l0aW9uJyxuZXcgRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZShwb3NpdGlvbnMsMykpO190aGlzMTE5PV9zdXBlcjE0OC5jYWxsKHRoaXMsZ2VvbWV0cnksbmV3IExpbmVCYXNpY01hdGVyaWFsKHtjb2xvcjpjb2xvcix0b25lTWFwcGVkOmZhbHNlfSkpO190aGlzMTE5LmJveD1ib3g7X3RoaXMxMTkudHlwZT0nQm94M0hlbHBlcic7X3RoaXMxMTkuZ2VvbWV0cnkuY29tcHV0ZUJvdW5kaW5nU3BoZXJlKCk7cmV0dXJuIF90aGlzMTE5O31fY3JlYXRlQ2xhc3MoQm94M0hlbHBlcixbe2tleToidXBkYXRlTWF0cml4V29ybGQiLHZhbHVlOmZ1bmN0aW9uIHVwZGF0ZU1hdHJpeFdvcmxkKGZvcmNlKXt2YXIgYm94PXRoaXMuYm94O2lmKGJveC5pc0VtcHR5KCkpcmV0dXJuO2JveC5nZXRDZW50ZXIodGhpcy5wb3NpdGlvbik7Ym94LmdldFNpemUodGhpcy5zY2FsZSk7dGhpcy5zY2FsZS5tdWx0aXBseVNjYWxhcigwLjUpO19nZXQoX2dldFByb3RvdHlwZU9mKEJveDNIZWxwZXIucHJvdG90eXBlKSwidXBkYXRlTWF0cml4V29ybGQiLHRoaXMpLmNhbGwodGhpcyxmb3JjZSk7fX1dKTtyZXR1cm4gQm94M0hlbHBlcjt9KExpbmVTZWdtZW50cyk7dmFyIFBsYW5lSGVscGVyPS8qI19fUFVSRV9fKi9mdW5jdGlvbihfTGluZTMpe19pbmhlcml0cyhQbGFuZUhlbHBlcixfTGluZTMpO3ZhciBfc3VwZXIxNDk9X2NyZWF0ZVN1cGVyKFBsYW5lSGVscGVyKTtmdW5jdGlvbiBQbGFuZUhlbHBlcihwbGFuZSl7dmFyIF90aGlzMTIwO3ZhciBzaXplPWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1sxXToxO3ZhciBoZXg9YXJndW1lbnRzLmxlbmd0aD4yJiZhcmd1bWVudHNbMl0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzJdOjB4ZmZmZjAwO19jbGFzc0NhbGxDaGVjayh0aGlzLFBsYW5lSGVscGVyKTt2YXIgY29sb3I9aGV4O3ZhciBwb3NpdGlvbnM9WzEsLTEsMSwtMSwxLDEsLTEsLTEsMSwxLDEsMSwtMSwxLDEsLTEsLTEsMSwxLC0xLDEsMSwxLDEsMCwwLDEsMCwwLDBdO3ZhciBnZW9tZXRyeT1uZXcgQnVmZmVyR2VvbWV0cnkoKTtnZW9tZXRyeS5zZXRBdHRyaWJ1dGUoJ3Bvc2l0aW9uJyxuZXcgRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZShwb3NpdGlvbnMsMykpO2dlb21ldHJ5LmNvbXB1dGVCb3VuZGluZ1NwaGVyZSgpO190aGlzMTIwPV9zdXBlcjE0OS5jYWxsKHRoaXMsZ2VvbWV0cnksbmV3IExpbmVCYXNpY01hdGVyaWFsKHtjb2xvcjpjb2xvcix0b25lTWFwcGVkOmZhbHNlfSkpO190aGlzMTIwLnR5cGU9J1BsYW5lSGVscGVyJztfdGhpczEyMC5wbGFuZT1wbGFuZTtfdGhpczEyMC5zaXplPXNpemU7dmFyIHBvc2l0aW9uczI9WzEsMSwxLC0xLDEsMSwtMSwtMSwxLDEsMSwxLC0xLC0xLDEsMSwtMSwxXTt2YXIgZ2VvbWV0cnkyPW5ldyBCdWZmZXJHZW9tZXRyeSgpO2dlb21ldHJ5Mi5zZXRBdHRyaWJ1dGUoJ3Bvc2l0aW9uJyxuZXcgRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZShwb3NpdGlvbnMyLDMpKTtnZW9tZXRyeTIuY29tcHV0ZUJvdW5kaW5nU3BoZXJlKCk7X3RoaXMxMjAuYWRkKG5ldyBNZXNoKGdlb21ldHJ5MixuZXcgTWVzaEJhc2ljTWF0ZXJpYWwoe2NvbG9yOmNvbG9yLG9wYWNpdHk6MC4yLHRyYW5zcGFyZW50OnRydWUsZGVwdGhXcml0ZTpmYWxzZSx0b25lTWFwcGVkOmZhbHNlfSkpKTtyZXR1cm4gX3RoaXMxMjA7fV9jcmVhdGVDbGFzcyhQbGFuZUhlbHBlcixbe2tleToidXBkYXRlTWF0cml4V29ybGQiLHZhbHVlOmZ1bmN0aW9uIHVwZGF0ZU1hdHJpeFdvcmxkKGZvcmNlKXt2YXIgc2NhbGU9LXRoaXMucGxhbmUuY29uc3RhbnQ7aWYoTWF0aC5hYnMoc2NhbGUpPDFlLTgpc2NhbGU9MWUtODsvLyBzaWduIGRvZXMgbm90IG1hdHRlcgp0aGlzLnNjYWxlLnNldCgwLjUqdGhpcy5zaXplLDAuNSp0aGlzLnNpemUsc2NhbGUpO3RoaXMuY2hpbGRyZW5bMF0ubWF0ZXJpYWwuc2lkZT1zY2FsZTwwP0JhY2tTaWRlOkZyb250U2lkZTsvLyByZW5kZXJlciBmbGlwcyBzaWRlIHdoZW4gZGV0ZXJtaW5hbnQgPCAwOyBmbGlwcGluZyBub3Qgd2FudGVkIGhlcmUKdGhpcy5sb29rQXQodGhpcy5wbGFuZS5ub3JtYWwpO19nZXQoX2dldFByb3RvdHlwZU9mKFBsYW5lSGVscGVyLnByb3RvdHlwZSksInVwZGF0ZU1hdHJpeFdvcmxkIix0aGlzKS5jYWxsKHRoaXMsZm9yY2UpO319XSk7cmV0dXJuIFBsYW5lSGVscGVyO30oTGluZSk7dmFyIF9heGlzPS8qQF9fUFVSRV9fKi9uZXcgVmVjdG9yMygpO3ZhciBfbGluZUdlb21ldHJ5LF9jb25lR2VvbWV0cnk7dmFyIEFycm93SGVscGVyPS8qI19fUFVSRV9fKi9mdW5jdGlvbihfT2JqZWN0M0QxNyl7X2luaGVyaXRzKEFycm93SGVscGVyLF9PYmplY3QzRDE3KTt2YXIgX3N1cGVyMTUwPV9jcmVhdGVTdXBlcihBcnJvd0hlbHBlcik7Ly8gZGlyIGlzIGFzc3VtZWQgdG8gYmUgbm9ybWFsaXplZApmdW5jdGlvbiBBcnJvd0hlbHBlcigpe3ZhciBfdGhpczEyMTt2YXIgZGlyPWFyZ3VtZW50cy5sZW5ndGg+MCYmYXJndW1lbnRzWzBdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1swXTpuZXcgVmVjdG9yMygwLDAsMSk7dmFyIG9yaWdpbj1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMV06bmV3IFZlY3RvcjMoMCwwLDApO3ZhciBsZW5ndGg9YXJndW1lbnRzLmxlbmd0aD4yJiZhcmd1bWVudHNbMl0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzJdOjE7dmFyIGNvbG9yPWFyZ3VtZW50cy5sZW5ndGg+MyYmYXJndW1lbnRzWzNdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1szXToweGZmZmYwMDt2YXIgaGVhZExlbmd0aD1hcmd1bWVudHMubGVuZ3RoPjQmJmFyZ3VtZW50c1s0XSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbNF06bGVuZ3RoKjAuMjt2YXIgaGVhZFdpZHRoPWFyZ3VtZW50cy5sZW5ndGg+NSYmYXJndW1lbnRzWzVdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1s1XTpoZWFkTGVuZ3RoKjAuMjtfY2xhc3NDYWxsQ2hlY2sodGhpcyxBcnJvd0hlbHBlcik7X3RoaXMxMjE9X3N1cGVyMTUwLmNhbGwodGhpcyk7X3RoaXMxMjEudHlwZT0nQXJyb3dIZWxwZXInO2lmKF9saW5lR2VvbWV0cnk9PT11bmRlZmluZWQpe19saW5lR2VvbWV0cnk9bmV3IEJ1ZmZlckdlb21ldHJ5KCk7X2xpbmVHZW9tZXRyeS5zZXRBdHRyaWJ1dGUoJ3Bvc2l0aW9uJyxuZXcgRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZShbMCwwLDAsMCwxLDBdLDMpKTtfY29uZUdlb21ldHJ5PW5ldyBDeWxpbmRlckdlb21ldHJ5KDAsMC41LDEsNSwxKTtfY29uZUdlb21ldHJ5LnRyYW5zbGF0ZSgwLC0wLjUsMCk7fV90aGlzMTIxLnBvc2l0aW9uLmNvcHkob3JpZ2luKTtfdGhpczEyMS5saW5lPW5ldyBMaW5lKF9saW5lR2VvbWV0cnksbmV3IExpbmVCYXNpY01hdGVyaWFsKHtjb2xvcjpjb2xvcix0b25lTWFwcGVkOmZhbHNlfSkpO190aGlzMTIxLmxpbmUubWF0cml4QXV0b1VwZGF0ZT1mYWxzZTtfdGhpczEyMS5hZGQoX3RoaXMxMjEubGluZSk7X3RoaXMxMjEuY29uZT1uZXcgTWVzaChfY29uZUdlb21ldHJ5LG5ldyBNZXNoQmFzaWNNYXRlcmlhbCh7Y29sb3I6Y29sb3IsdG9uZU1hcHBlZDpmYWxzZX0pKTtfdGhpczEyMS5jb25lLm1hdHJpeEF1dG9VcGRhdGU9ZmFsc2U7X3RoaXMxMjEuYWRkKF90aGlzMTIxLmNvbmUpO190aGlzMTIxLnNldERpcmVjdGlvbihkaXIpO190aGlzMTIxLnNldExlbmd0aChsZW5ndGgsaGVhZExlbmd0aCxoZWFkV2lkdGgpO3JldHVybiBfdGhpczEyMTt9X2NyZWF0ZUNsYXNzKEFycm93SGVscGVyLFt7a2V5OiJzZXREaXJlY3Rpb24iLHZhbHVlOmZ1bmN0aW9uIHNldERpcmVjdGlvbihkaXIpey8vIGRpciBpcyBhc3N1bWVkIHRvIGJlIG5vcm1hbGl6ZWQKaWYoZGlyLnk+MC45OTk5OSl7dGhpcy5xdWF0ZXJuaW9uLnNldCgwLDAsMCwxKTt9ZWxzZSBpZihkaXIueTwtMC45OTk5OSl7dGhpcy5xdWF0ZXJuaW9uLnNldCgxLDAsMCwwKTt9ZWxzZXtfYXhpcy5zZXQoZGlyLnosMCwtZGlyLngpLm5vcm1hbGl6ZSgpO3ZhciByYWRpYW5zPU1hdGguYWNvcyhkaXIueSk7dGhpcy5xdWF0ZXJuaW9uLnNldEZyb21BeGlzQW5nbGUoX2F4aXMscmFkaWFucyk7fX19LHtrZXk6InNldExlbmd0aCIsdmFsdWU6ZnVuY3Rpb24gc2V0TGVuZ3RoKGxlbmd0aCl7dmFyIGhlYWRMZW5ndGg9YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzFdOmxlbmd0aCowLjI7dmFyIGhlYWRXaWR0aD1hcmd1bWVudHMubGVuZ3RoPjImJmFyZ3VtZW50c1syXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMl06aGVhZExlbmd0aCowLjI7dGhpcy5saW5lLnNjYWxlLnNldCgxLE1hdGgubWF4KDAuMDAwMSxsZW5ndGgtaGVhZExlbmd0aCksMSk7Ly8gc2VlICMxNzQ1OAp0aGlzLmxpbmUudXBkYXRlTWF0cml4KCk7dGhpcy5jb25lLnNjYWxlLnNldChoZWFkV2lkdGgsaGVhZExlbmd0aCxoZWFkV2lkdGgpO3RoaXMuY29uZS5wb3NpdGlvbi55PWxlbmd0aDt0aGlzLmNvbmUudXBkYXRlTWF0cml4KCk7fX0se2tleToic2V0Q29sb3IiLHZhbHVlOmZ1bmN0aW9uIHNldENvbG9yKGNvbG9yKXt0aGlzLmxpbmUubWF0ZXJpYWwuY29sb3Iuc2V0KGNvbG9yKTt0aGlzLmNvbmUubWF0ZXJpYWwuY29sb3Iuc2V0KGNvbG9yKTt9fSx7a2V5OiJjb3B5Iix2YWx1ZTpmdW5jdGlvbiBjb3B5KHNvdXJjZSl7X2dldChfZ2V0UHJvdG90eXBlT2YoQXJyb3dIZWxwZXIucHJvdG90eXBlKSwiY29weSIsdGhpcykuY2FsbCh0aGlzLHNvdXJjZSxmYWxzZSk7dGhpcy5saW5lLmNvcHkoc291cmNlLmxpbmUpO3RoaXMuY29uZS5jb3B5KHNvdXJjZS5jb25lKTtyZXR1cm4gdGhpczt9fV0pO3JldHVybiBBcnJvd0hlbHBlcjt9KE9iamVjdDNEKTt2YXIgQXhlc0hlbHBlcj0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX0xpbmVTZWdtZW50czcpe19pbmhlcml0cyhBeGVzSGVscGVyLF9MaW5lU2VnbWVudHM3KTt2YXIgX3N1cGVyMTUxPV9jcmVhdGVTdXBlcihBeGVzSGVscGVyKTtmdW5jdGlvbiBBeGVzSGVscGVyKCl7dmFyIF90aGlzMTIyO3ZhciBzaXplPWFyZ3VtZW50cy5sZW5ndGg+MCYmYXJndW1lbnRzWzBdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1swXToxO19jbGFzc0NhbGxDaGVjayh0aGlzLEF4ZXNIZWxwZXIpO3ZhciB2ZXJ0aWNlcz1bMCwwLDAsc2l6ZSwwLDAsMCwwLDAsMCxzaXplLDAsMCwwLDAsMCwwLHNpemVdO3ZhciBjb2xvcnM9WzEsMCwwLDEsMC42LDAsMCwxLDAsMC42LDEsMCwwLDAsMSwwLDAuNiwxXTt2YXIgZ2VvbWV0cnk9bmV3IEJ1ZmZlckdlb21ldHJ5KCk7Z2VvbWV0cnkuc2V0QXR0cmlidXRlKCdwb3NpdGlvbicsbmV3IEZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUodmVydGljZXMsMykpO2dlb21ldHJ5LnNldEF0dHJpYnV0ZSgnY29sb3InLG5ldyBGbG9hdDMyQnVmZmVyQXR0cmlidXRlKGNvbG9ycywzKSk7dmFyIG1hdGVyaWFsPW5ldyBMaW5lQmFzaWNNYXRlcmlhbCh7dmVydGV4Q29sb3JzOnRydWUsdG9uZU1hcHBlZDpmYWxzZX0pO190aGlzMTIyPV9zdXBlcjE1MS5jYWxsKHRoaXMsZ2VvbWV0cnksbWF0ZXJpYWwpO190aGlzMTIyLnR5cGU9J0F4ZXNIZWxwZXInO3JldHVybiBfdGhpczEyMjt9X2NyZWF0ZUNsYXNzKEF4ZXNIZWxwZXIsW3trZXk6InNldENvbG9ycyIsdmFsdWU6ZnVuY3Rpb24gc2V0Q29sb3JzKHhBeGlzQ29sb3IseUF4aXNDb2xvcix6QXhpc0NvbG9yKXt2YXIgY29sb3I9bmV3IENvbG9yKCk7dmFyIGFycmF5PXRoaXMuZ2VvbWV0cnkuYXR0cmlidXRlcy5jb2xvci5hcnJheTtjb2xvci5zZXQoeEF4aXNDb2xvcik7Y29sb3IudG9BcnJheShhcnJheSwwKTtjb2xvci50b0FycmF5KGFycmF5LDMpO2NvbG9yLnNldCh5QXhpc0NvbG9yKTtjb2xvci50b0FycmF5KGFycmF5LDYpO2NvbG9yLnRvQXJyYXkoYXJyYXksOSk7Y29sb3Iuc2V0KHpBeGlzQ29sb3IpO2NvbG9yLnRvQXJyYXkoYXJyYXksMTIpO2NvbG9yLnRvQXJyYXkoYXJyYXksMTUpO3RoaXMuZ2VvbWV0cnkuYXR0cmlidXRlcy5jb2xvci5uZWVkc1VwZGF0ZT10cnVlO3JldHVybiB0aGlzO319LHtrZXk6ImRpc3Bvc2UiLHZhbHVlOmZ1bmN0aW9uIGRpc3Bvc2UoKXt0aGlzLmdlb21ldHJ5LmRpc3Bvc2UoKTt0aGlzLm1hdGVyaWFsLmRpc3Bvc2UoKTt9fV0pO3JldHVybiBBeGVzSGVscGVyO30oTGluZVNlZ21lbnRzKTt2YXIgU2hhcGVQYXRoPS8qI19fUFVSRV9fKi9mdW5jdGlvbigpe2Z1bmN0aW9uIFNoYXBlUGF0aCgpe19jbGFzc0NhbGxDaGVjayh0aGlzLFNoYXBlUGF0aCk7dGhpcy50eXBlPSdTaGFwZVBhdGgnO3RoaXMuY29sb3I9bmV3IENvbG9yKCk7dGhpcy5zdWJQYXRocz1bXTt0aGlzLmN1cnJlbnRQYXRoPW51bGw7fV9jcmVhdGVDbGFzcyhTaGFwZVBhdGgsW3trZXk6Im1vdmVUbyIsdmFsdWU6ZnVuY3Rpb24gbW92ZVRvKHgseSl7dGhpcy5jdXJyZW50UGF0aD1uZXcgUGF0aCgpO3RoaXMuc3ViUGF0aHMucHVzaCh0aGlzLmN1cnJlbnRQYXRoKTt0aGlzLmN1cnJlbnRQYXRoLm1vdmVUbyh4LHkpO3JldHVybiB0aGlzO319LHtrZXk6ImxpbmVUbyIsdmFsdWU6ZnVuY3Rpb24gbGluZVRvKHgseSl7dGhpcy5jdXJyZW50UGF0aC5saW5lVG8oeCx5KTtyZXR1cm4gdGhpczt9fSx7a2V5OiJxdWFkcmF0aWNDdXJ2ZVRvIix2YWx1ZTpmdW5jdGlvbiBxdWFkcmF0aWNDdXJ2ZVRvKGFDUHgsYUNQeSxhWCxhWSl7dGhpcy5jdXJyZW50UGF0aC5xdWFkcmF0aWNDdXJ2ZVRvKGFDUHgsYUNQeSxhWCxhWSk7cmV0dXJuIHRoaXM7fX0se2tleToiYmV6aWVyQ3VydmVUbyIsdmFsdWU6ZnVuY3Rpb24gYmV6aWVyQ3VydmVUbyhhQ1AxeCxhQ1AxeSxhQ1AyeCxhQ1AyeSxhWCxhWSl7dGhpcy5jdXJyZW50UGF0aC5iZXppZXJDdXJ2ZVRvKGFDUDF4LGFDUDF5LGFDUDJ4LGFDUDJ5LGFYLGFZKTtyZXR1cm4gdGhpczt9fSx7a2V5OiJzcGxpbmVUaHJ1Iix2YWx1ZTpmdW5jdGlvbiBzcGxpbmVUaHJ1KHB0cyl7dGhpcy5jdXJyZW50UGF0aC5zcGxpbmVUaHJ1KHB0cyk7cmV0dXJuIHRoaXM7fX0se2tleToidG9TaGFwZXMiLHZhbHVlOmZ1bmN0aW9uIHRvU2hhcGVzKGlzQ0NXLG5vSG9sZXMpe2Z1bmN0aW9uIHRvU2hhcGVzTm9Ib2xlcyhpblN1YnBhdGhzKXt2YXIgc2hhcGVzPVtdO2Zvcih2YXIgX2kzNTE9MCxsPWluU3VicGF0aHMubGVuZ3RoO19pMzUxPGw7X2kzNTErKyl7dmFyIF90bXBQYXRoPWluU3VicGF0aHNbX2kzNTFdO3ZhciBfdG1wU2hhcGU9bmV3IFNoYXBlKCk7X3RtcFNoYXBlLmN1cnZlcz1fdG1wUGF0aC5jdXJ2ZXM7c2hhcGVzLnB1c2goX3RtcFNoYXBlKTt9cmV0dXJuIHNoYXBlczt9ZnVuY3Rpb24gaXNQb2ludEluc2lkZVBvbHlnb24oaW5QdCxpblBvbHlnb24pe3ZhciBwb2x5TGVuPWluUG9seWdvbi5sZW5ndGg7Ly8gaW5QdCBvbiBwb2x5Z29uIGNvbnRvdXIgPT4gaW1tZWRpYXRlIHN1Y2Nlc3MgICAgb3IKLy8gdG9nZ2xpbmcgb2YgaW5zaWRlL291dHNpZGUgYXQgZXZlcnkgc2luZ2xlISBpbnRlcnNlY3Rpb24gcG9pbnQgb2YgYW4gZWRnZQovLyAgd2l0aCB0aGUgaG9yaXpvbnRhbCBsaW5lIHRocm91Z2ggaW5QdCwgbGVmdCBvZiBpblB0Ci8vICBub3QgY291bnRpbmcgbG93ZXJZIGVuZHBvaW50cyBvZiBlZGdlcyBhbmQgd2hvbGUgZWRnZXMgb24gdGhhdCBsaW5lCnZhciBpbnNpZGU9ZmFsc2U7Zm9yKHZhciBwPXBvbHlMZW4tMSxxPTA7cTxwb2x5TGVuO3A9cSsrKXt2YXIgZWRnZUxvd1B0PWluUG9seWdvbltwXTt2YXIgZWRnZUhpZ2hQdD1pblBvbHlnb25bcV07dmFyIGVkZ2VEeD1lZGdlSGlnaFB0LngtZWRnZUxvd1B0Lng7dmFyIGVkZ2VEeT1lZGdlSGlnaFB0LnktZWRnZUxvd1B0Lnk7aWYoTWF0aC5hYnMoZWRnZUR5KT5OdW1iZXIuRVBTSUxPTil7Ly8gbm90IHBhcmFsbGVsCmlmKGVkZ2VEeTwwKXtlZGdlTG93UHQ9aW5Qb2x5Z29uW3FdO2VkZ2VEeD0tZWRnZUR4O2VkZ2VIaWdoUHQ9aW5Qb2x5Z29uW3BdO2VkZ2VEeT0tZWRnZUR5O31pZihpblB0Lnk8ZWRnZUxvd1B0Lnl8fGluUHQueT5lZGdlSGlnaFB0LnkpY29udGludWU7aWYoaW5QdC55PT09ZWRnZUxvd1B0Lnkpe2lmKGluUHQueD09PWVkZ2VMb3dQdC54KXJldHVybiB0cnVlOy8vIGluUHQgaXMgb24gY29udG91ciA/Ci8vIGNvbnRpbnVlOwkJCQkvLyBubyBpbnRlcnNlY3Rpb24gb3IgZWRnZUxvd1B0ID0+IGRvZXNuJ3QgY291bnQgISEhCn1lbHNle3ZhciBwZXJwRWRnZT1lZGdlRHkqKGluUHQueC1lZGdlTG93UHQueCktZWRnZUR4KihpblB0LnktZWRnZUxvd1B0LnkpO2lmKHBlcnBFZGdlPT09MClyZXR1cm4gdHJ1ZTsvLyBpblB0IGlzIG9uIGNvbnRvdXIgPwppZihwZXJwRWRnZTwwKWNvbnRpbnVlO2luc2lkZT0haW5zaWRlOy8vIHRydWUgaW50ZXJzZWN0aW9uIGxlZnQgb2YgaW5QdAp9fWVsc2V7Ly8gcGFyYWxsZWwgb3IgY29sbGluZWFyCmlmKGluUHQueSE9PWVkZ2VMb3dQdC55KWNvbnRpbnVlOy8vIHBhcmFsbGVsCi8vIGVkZ2UgbGllcyBvbiB0aGUgc2FtZSBob3Jpem9udGFsIGxpbmUgYXMgaW5QdAppZihlZGdlSGlnaFB0Lng8PWluUHQueCYmaW5QdC54PD1lZGdlTG93UHQueHx8ZWRnZUxvd1B0Lng8PWluUHQueCYmaW5QdC54PD1lZGdlSGlnaFB0LngpcmV0dXJuIHRydWU7Ly8gaW5QdDogUG9pbnQgb24gY29udG91ciAhCi8vIGNvbnRpbnVlOwp9fXJldHVybiBpbnNpZGU7fXZhciBpc0Nsb2NrV2lzZT1TaGFwZVV0aWxzLmlzQ2xvY2tXaXNlO3ZhciBzdWJQYXRocz10aGlzLnN1YlBhdGhzO2lmKHN1YlBhdGhzLmxlbmd0aD09PTApcmV0dXJuW107aWYobm9Ib2xlcz09PXRydWUpcmV0dXJuIHRvU2hhcGVzTm9Ib2xlcyhzdWJQYXRocyk7dmFyIHNvbGlkLHRtcFBhdGgsdG1wU2hhcGU7dmFyIHNoYXBlcz1bXTtpZihzdWJQYXRocy5sZW5ndGg9PT0xKXt0bXBQYXRoPXN1YlBhdGhzWzBdO3RtcFNoYXBlPW5ldyBTaGFwZSgpO3RtcFNoYXBlLmN1cnZlcz10bXBQYXRoLmN1cnZlcztzaGFwZXMucHVzaCh0bXBTaGFwZSk7cmV0dXJuIHNoYXBlczt9dmFyIGhvbGVzRmlyc3Q9IWlzQ2xvY2tXaXNlKHN1YlBhdGhzWzBdLmdldFBvaW50cygpKTtob2xlc0ZpcnN0PWlzQ0NXPyFob2xlc0ZpcnN0OmhvbGVzRmlyc3Q7Ly8gY29uc29sZS5sb2coIkhvbGVzIGZpcnN0IiwgaG9sZXNGaXJzdCk7CnZhciBiZXR0ZXJTaGFwZUhvbGVzPVtdO3ZhciBuZXdTaGFwZXM9W107dmFyIG5ld1NoYXBlSG9sZXM9W107dmFyIG1haW5JZHg9MDt2YXIgdG1wUG9pbnRzO25ld1NoYXBlc1ttYWluSWR4XT11bmRlZmluZWQ7bmV3U2hhcGVIb2xlc1ttYWluSWR4XT1bXTtmb3IodmFyIF9pMzUyPTAsbD1zdWJQYXRocy5sZW5ndGg7X2kzNTI8bDtfaTM1MisrKXt0bXBQYXRoPXN1YlBhdGhzW19pMzUyXTt0bXBQb2ludHM9dG1wUGF0aC5nZXRQb2ludHMoKTtzb2xpZD1pc0Nsb2NrV2lzZSh0bXBQb2ludHMpO3NvbGlkPWlzQ0NXPyFzb2xpZDpzb2xpZDtpZihzb2xpZCl7aWYoIWhvbGVzRmlyc3QmJm5ld1NoYXBlc1ttYWluSWR4XSltYWluSWR4Kys7bmV3U2hhcGVzW21haW5JZHhdPXtzOm5ldyBTaGFwZSgpLHA6dG1wUG9pbnRzfTtuZXdTaGFwZXNbbWFpbklkeF0ucy5jdXJ2ZXM9dG1wUGF0aC5jdXJ2ZXM7aWYoaG9sZXNGaXJzdCltYWluSWR4Kys7bmV3U2hhcGVIb2xlc1ttYWluSWR4XT1bXTsvL2NvbnNvbGUubG9nKCdjdycsIGkpOwp9ZWxzZXtuZXdTaGFwZUhvbGVzW21haW5JZHhdLnB1c2goe2g6dG1wUGF0aCxwOnRtcFBvaW50c1swXX0pOy8vY29uc29sZS5sb2coJ2NjdycsIGkpOwp9fS8vIG9ubHkgSG9sZXM/IC0+IHByb2JhYmx5IGFsbCBTaGFwZXMgd2l0aCB3cm9uZyBvcmllbnRhdGlvbgppZighbmV3U2hhcGVzWzBdKXJldHVybiB0b1NoYXBlc05vSG9sZXMoc3ViUGF0aHMpO2lmKG5ld1NoYXBlcy5sZW5ndGg+MSl7dmFyIGFtYmlndW91cz1mYWxzZTt2YXIgdG9DaGFuZ2U9W107Zm9yKHZhciBzSWR4PTAsc0xlbj1uZXdTaGFwZXMubGVuZ3RoO3NJZHg8c0xlbjtzSWR4Kyspe2JldHRlclNoYXBlSG9sZXNbc0lkeF09W107fWZvcih2YXIgX3NJZHg9MCxfc0xlbj1uZXdTaGFwZXMubGVuZ3RoO19zSWR4PF9zTGVuO19zSWR4Kyspe3ZhciBzaG89bmV3U2hhcGVIb2xlc1tfc0lkeF07Zm9yKHZhciBoSWR4PTA7aElkeDxzaG8ubGVuZ3RoO2hJZHgrKyl7dmFyIGhvPXNob1toSWR4XTt2YXIgaG9sZV91bmFzc2lnbmVkPXRydWU7Zm9yKHZhciBzMklkeD0wO3MySWR4PG5ld1NoYXBlcy5sZW5ndGg7czJJZHgrKyl7aWYoaXNQb2ludEluc2lkZVBvbHlnb24oaG8ucCxuZXdTaGFwZXNbczJJZHhdLnApKXtpZihfc0lkeCE9PXMySWR4KXRvQ2hhbmdlLnB1c2goe2Zyb21zOl9zSWR4LHRvczpzMklkeCxob2xlOmhJZHh9KTtpZihob2xlX3VuYXNzaWduZWQpe2hvbGVfdW5hc3NpZ25lZD1mYWxzZTtiZXR0ZXJTaGFwZUhvbGVzW3MySWR4XS5wdXNoKGhvKTt9ZWxzZXthbWJpZ3VvdXM9dHJ1ZTt9fX1pZihob2xlX3VuYXNzaWduZWQpe2JldHRlclNoYXBlSG9sZXNbX3NJZHhdLnB1c2goaG8pO319fS8vIGNvbnNvbGUubG9nKCJhbWJpZ3VvdXM6ICIsIGFtYmlndW91cyk7CmlmKHRvQ2hhbmdlLmxlbmd0aD4wKXsvLyBjb25zb2xlLmxvZygidG8gY2hhbmdlOiAiLCB0b0NoYW5nZSk7CmlmKCFhbWJpZ3VvdXMpbmV3U2hhcGVIb2xlcz1iZXR0ZXJTaGFwZUhvbGVzO319dmFyIHRtcEhvbGVzO2Zvcih2YXIgX2kzNTM9MCxpbD1uZXdTaGFwZXMubGVuZ3RoO19pMzUzPGlsO19pMzUzKyspe3RtcFNoYXBlPW5ld1NoYXBlc1tfaTM1M10ucztzaGFwZXMucHVzaCh0bXBTaGFwZSk7dG1wSG9sZXM9bmV3U2hhcGVIb2xlc1tfaTM1M107Zm9yKHZhciBqPTAsamw9dG1wSG9sZXMubGVuZ3RoO2o8amw7aisrKXt0bXBTaGFwZS5ob2xlcy5wdXNoKHRtcEhvbGVzW2pdLmgpO319Ly9jb25zb2xlLmxvZygic2hhcGUiLCBzaGFwZXMpOwpyZXR1cm4gc2hhcGVzO319XSk7cmV0dXJuIFNoYXBlUGF0aDt9KCk7dmFyIF9mbG9hdFZpZXc9bmV3IEZsb2F0MzJBcnJheSgxKTt2YXIgX2ludDMyVmlldz1uZXcgSW50MzJBcnJheShfZmxvYXRWaWV3LmJ1ZmZlcik7dmFyIERhdGFVdGlscz0vKiNfX1BVUkVfXyovZnVuY3Rpb24oKXtmdW5jdGlvbiBEYXRhVXRpbHMoKXtfY2xhc3NDYWxsQ2hlY2sodGhpcyxEYXRhVXRpbHMpO31fY3JlYXRlQ2xhc3MoRGF0YVV0aWxzLG51bGwsW3trZXk6InRvSGFsZkZsb2F0Iix2YWx1ZTovLyBDb252ZXJ0cyBmbG9hdDMyIHRvIGZsb2F0MTYgKHN0b3JlZCBhcyB1aW50MTYgdmFsdWUpLgpmdW5jdGlvbiB0b0hhbGZGbG9hdCh2YWwpe2lmKHZhbD42NTUwNCl7Y29uc29sZS53YXJuKCdUSFJFRS5EYXRhVXRpbHMudG9IYWxmRmxvYXQoKTogdmFsdWUgZXhjZWVkcyA2NTUwNC4nKTt2YWw9NjU1MDQ7Ly8gbWF4aW11bSByZXByZXNlbnRhYmxlIHZhbHVlIGluIGZsb2F0MTYKfS8vIFNvdXJjZTogaHR0cDovL2dhbWVkZXYuc3RhY2tleGNoYW5nZS5jb20vcXVlc3Rpb25zLzE3MzI2L2NvbnZlcnNpb24tb2YtYS1udW1iZXItZnJvbS1zaW5nbGUtcHJlY2lzaW9uLWZsb2F0aW5nLXBvaW50LXJlcHJlc2VudGF0aW9uLXRvLWEvMTc0MTAjMTc0MTAKLyogVGhpcyBtZXRob2QgaXMgZmFzdGVyIHRoYW4gdGhlIE9wZW5FWFIgaW1wbGVtZW50YXRpb24gKHZlcnkgb2Z0ZW4KCQkqIHVzZWQsIGVnLiBpbiBPZ3JlKSwgd2l0aCB0aGUgYWRkaXRpb25hbCBiZW5lZml0IG9mIHJvdW5kaW5nLCBpbnNwaXJlZAoJCSogYnkgSmFtZXMgVHVyc2E/cyBoYWxmLXByZWNpc2lvbiBjb2RlLiAqL19mbG9hdFZpZXdbMF09dmFsO3ZhciB4PV9pbnQzMlZpZXdbMF07dmFyIGJpdHM9eD4+MTYmMHg4MDAwOy8qIEdldCB0aGUgc2lnbiAqL3ZhciBtPXg+PjEyJjB4MDdmZjsvKiBLZWVwIG9uZSBleHRyYSBiaXQgZm9yIHJvdW5kaW5nICovdmFyIGU9eD4+MjMmMHhmZjsvKiBVc2luZyBpbnQgaXMgZmFzdGVyIGhlcmUgKi8gLyogSWYgemVybywgb3IgZGVub3JtYWwsIG9yIGV4cG9uZW50IHVuZGVyZmxvd3MgdG9vIG11Y2ggZm9yIGEgZGVub3JtYWwKCQkJKiBoYWxmLCByZXR1cm4gc2lnbmVkIHplcm8uICovaWYoZTwxMDMpcmV0dXJuIGJpdHM7LyogSWYgTmFOLCByZXR1cm4gTmFOLiBJZiBJbmYgb3IgZXhwb25lbnQgb3ZlcmZsb3csIHJldHVybiBJbmYuICovaWYoZT4xNDIpe2JpdHN8PTB4N2MwMDsvKiBJZiBleHBvbmVudCB3YXMgMHhmZiBhbmQgb25lIG1hbnRpc3NhIGJpdCB3YXMgc2V0LCBpdCBtZWFucyBOYU4sCgkJCQkJCSogbm90IEluZiwgc28gbWFrZSBzdXJlIHdlIHNldCBvbmUgbWFudGlzc2EgYml0IHRvby4gKi9iaXRzfD0oZT09MjU1PzA6MSkmJngmMHgwMDdmZmZmZjtyZXR1cm4gYml0czt9LyogSWYgZXhwb25lbnQgdW5kZXJmbG93cyBidXQgbm90IHRvbyBtdWNoLCByZXR1cm4gYSBkZW5vcm1hbCAqL2lmKGU8MTEzKXttfD0weDA4MDA7LyogRXh0cmEgcm91bmRpbmcgbWF5IG92ZXJmbG93IGFuZCBzZXQgbWFudGlzc2EgdG8gMCBhbmQgZXhwb25lbnQKCQkJCSogdG8gMSwgd2hpY2ggaXMgT0suICovYml0c3w9KG0+PjExNC1lKSsobT4+MTEzLWUmMSk7cmV0dXJuIGJpdHM7fWJpdHN8PWUtMTEyPDwxMHxtPj4xOy8qIEV4dHJhIHJvdW5kaW5nLiBBbiBvdmVyZmxvdyB3aWxsIHNldCBtYW50aXNzYSB0byAwIGFuZCBpbmNyZW1lbnQKCQkJKiB0aGUgZXhwb25lbnQsIHdoaWNoIGlzIE9LLiAqL2JpdHMrPW0mMTtyZXR1cm4gYml0czt9fV0pO3JldHVybiBEYXRhVXRpbHM7fSgpO3ZhciBMaW5lU3RyaXA9MDt2YXIgTGluZVBpZWNlcz0xO3ZhciBOb0NvbG9ycz0wO3ZhciBGYWNlQ29sb3JzPTE7dmFyIFZlcnRleENvbG9ycz0yO2Z1bmN0aW9uIE1lc2hGYWNlTWF0ZXJpYWwobWF0ZXJpYWxzKXtjb25zb2xlLndhcm4oJ1RIUkVFLk1lc2hGYWNlTWF0ZXJpYWwgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIGFuIEFycmF5IGluc3RlYWQuJyk7cmV0dXJuIG1hdGVyaWFsczt9ZnVuY3Rpb24gTXVsdGlNYXRlcmlhbCgpe3ZhciBtYXRlcmlhbHM9YXJndW1lbnRzLmxlbmd0aD4wJiZhcmd1bWVudHNbMF0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzBdOltdO2NvbnNvbGUud2FybignVEhSRUUuTXVsdGlNYXRlcmlhbCBoYXMgYmVlbiByZW1vdmVkLiBVc2UgYW4gQXJyYXkgaW5zdGVhZC4nKTttYXRlcmlhbHMuaXNNdWx0aU1hdGVyaWFsPXRydWU7bWF0ZXJpYWxzLm1hdGVyaWFscz1tYXRlcmlhbHM7bWF0ZXJpYWxzLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG1hdGVyaWFscy5zbGljZSgpO307cmV0dXJuIG1hdGVyaWFsczt9ZnVuY3Rpb24gUG9pbnRDbG91ZChnZW9tZXRyeSxtYXRlcmlhbCl7Y29uc29sZS53YXJuKCdUSFJFRS5Qb2ludENsb3VkIGhhcyBiZWVuIHJlbmFtZWQgdG8gVEhSRUUuUG9pbnRzLicpO3JldHVybiBuZXcgUG9pbnRzKGdlb21ldHJ5LG1hdGVyaWFsKTt9ZnVuY3Rpb24gUGFydGljbGUobWF0ZXJpYWwpe2NvbnNvbGUud2FybignVEhSRUUuUGFydGljbGUgaGFzIGJlZW4gcmVuYW1lZCB0byBUSFJFRS5TcHJpdGUuJyk7cmV0dXJuIG5ldyBTcHJpdGUobWF0ZXJpYWwpO31mdW5jdGlvbiBQYXJ0aWNsZVN5c3RlbShnZW9tZXRyeSxtYXRlcmlhbCl7Y29uc29sZS53YXJuKCdUSFJFRS5QYXJ0aWNsZVN5c3RlbSBoYXMgYmVlbiByZW5hbWVkIHRvIFRIUkVFLlBvaW50cy4nKTtyZXR1cm4gbmV3IFBvaW50cyhnZW9tZXRyeSxtYXRlcmlhbCk7fWZ1bmN0aW9uIFBvaW50Q2xvdWRNYXRlcmlhbChwYXJhbWV0ZXJzKXtjb25zb2xlLndhcm4oJ1RIUkVFLlBvaW50Q2xvdWRNYXRlcmlhbCBoYXMgYmVlbiByZW5hbWVkIHRvIFRIUkVFLlBvaW50c01hdGVyaWFsLicpO3JldHVybiBuZXcgUG9pbnRzTWF0ZXJpYWwocGFyYW1ldGVycyk7fWZ1bmN0aW9uIFBhcnRpY2xlQmFzaWNNYXRlcmlhbChwYXJhbWV0ZXJzKXtjb25zb2xlLndhcm4oJ1RIUkVFLlBhcnRpY2xlQmFzaWNNYXRlcmlhbCBoYXMgYmVlbiByZW5hbWVkIHRvIFRIUkVFLlBvaW50c01hdGVyaWFsLicpO3JldHVybiBuZXcgUG9pbnRzTWF0ZXJpYWwocGFyYW1ldGVycyk7fWZ1bmN0aW9uIFBhcnRpY2xlU3lzdGVtTWF0ZXJpYWwocGFyYW1ldGVycyl7Y29uc29sZS53YXJuKCdUSFJFRS5QYXJ0aWNsZVN5c3RlbU1hdGVyaWFsIGhhcyBiZWVuIHJlbmFtZWQgdG8gVEhSRUUuUG9pbnRzTWF0ZXJpYWwuJyk7cmV0dXJuIG5ldyBQb2ludHNNYXRlcmlhbChwYXJhbWV0ZXJzKTt9ZnVuY3Rpb24gVmVydGV4KHgseSx6KXtjb25zb2xlLndhcm4oJ1RIUkVFLlZlcnRleCBoYXMgYmVlbiByZW1vdmVkLiBVc2UgVEhSRUUuVmVjdG9yMyBpbnN0ZWFkLicpO3JldHVybiBuZXcgVmVjdG9yMyh4LHkseik7fS8vCmZ1bmN0aW9uIER5bmFtaWNCdWZmZXJBdHRyaWJ1dGUoYXJyYXksaXRlbVNpemUpe2NvbnNvbGUud2FybignVEhSRUUuRHluYW1pY0J1ZmZlckF0dHJpYnV0ZSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgbmV3IFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZSgpLnNldFVzYWdlKCBUSFJFRS5EeW5hbWljRHJhd1VzYWdlICkgaW5zdGVhZC4nKTtyZXR1cm4gbmV3IEJ1ZmZlckF0dHJpYnV0ZShhcnJheSxpdGVtU2l6ZSkuc2V0VXNhZ2UoRHluYW1pY0RyYXdVc2FnZSk7fWZ1bmN0aW9uIEludDhBdHRyaWJ1dGUoYXJyYXksaXRlbVNpemUpe2NvbnNvbGUud2FybignVEhSRUUuSW50OEF0dHJpYnV0ZSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgbmV3IFRIUkVFLkludDhCdWZmZXJBdHRyaWJ1dGUoKSBpbnN0ZWFkLicpO3JldHVybiBuZXcgSW50OEJ1ZmZlckF0dHJpYnV0ZShhcnJheSxpdGVtU2l6ZSk7fWZ1bmN0aW9uIFVpbnQ4QXR0cmlidXRlKGFycmF5LGl0ZW1TaXplKXtjb25zb2xlLndhcm4oJ1RIUkVFLlVpbnQ4QXR0cmlidXRlIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBuZXcgVEhSRUUuVWludDhCdWZmZXJBdHRyaWJ1dGUoKSBpbnN0ZWFkLicpO3JldHVybiBuZXcgVWludDhCdWZmZXJBdHRyaWJ1dGUoYXJyYXksaXRlbVNpemUpO31mdW5jdGlvbiBVaW50OENsYW1wZWRBdHRyaWJ1dGUoYXJyYXksaXRlbVNpemUpe2NvbnNvbGUud2FybignVEhSRUUuVWludDhDbGFtcGVkQXR0cmlidXRlIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBuZXcgVEhSRUUuVWludDhDbGFtcGVkQnVmZmVyQXR0cmlidXRlKCkgaW5zdGVhZC4nKTtyZXR1cm4gbmV3IFVpbnQ4Q2xhbXBlZEJ1ZmZlckF0dHJpYnV0ZShhcnJheSxpdGVtU2l6ZSk7fWZ1bmN0aW9uIEludDE2QXR0cmlidXRlKGFycmF5LGl0ZW1TaXplKXtjb25zb2xlLndhcm4oJ1RIUkVFLkludDE2QXR0cmlidXRlIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBuZXcgVEhSRUUuSW50MTZCdWZmZXJBdHRyaWJ1dGUoKSBpbnN0ZWFkLicpO3JldHVybiBuZXcgSW50MTZCdWZmZXJBdHRyaWJ1dGUoYXJyYXksaXRlbVNpemUpO31mdW5jdGlvbiBVaW50MTZBdHRyaWJ1dGUoYXJyYXksaXRlbVNpemUpe2NvbnNvbGUud2FybignVEhSRUUuVWludDE2QXR0cmlidXRlIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBuZXcgVEhSRUUuVWludDE2QnVmZmVyQXR0cmlidXRlKCkgaW5zdGVhZC4nKTtyZXR1cm4gbmV3IFVpbnQxNkJ1ZmZlckF0dHJpYnV0ZShhcnJheSxpdGVtU2l6ZSk7fWZ1bmN0aW9uIEludDMyQXR0cmlidXRlKGFycmF5LGl0ZW1TaXplKXtjb25zb2xlLndhcm4oJ1RIUkVFLkludDMyQXR0cmlidXRlIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBuZXcgVEhSRUUuSW50MzJCdWZmZXJBdHRyaWJ1dGUoKSBpbnN0ZWFkLicpO3JldHVybiBuZXcgSW50MzJCdWZmZXJBdHRyaWJ1dGUoYXJyYXksaXRlbVNpemUpO31mdW5jdGlvbiBVaW50MzJBdHRyaWJ1dGUoYXJyYXksaXRlbVNpemUpe2NvbnNvbGUud2FybignVEhSRUUuVWludDMyQXR0cmlidXRlIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBuZXcgVEhSRUUuVWludDMyQnVmZmVyQXR0cmlidXRlKCkgaW5zdGVhZC4nKTtyZXR1cm4gbmV3IFVpbnQzMkJ1ZmZlckF0dHJpYnV0ZShhcnJheSxpdGVtU2l6ZSk7fWZ1bmN0aW9uIEZsb2F0MzJBdHRyaWJ1dGUoYXJyYXksaXRlbVNpemUpe2NvbnNvbGUud2FybignVEhSRUUuRmxvYXQzMkF0dHJpYnV0ZSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgbmV3IFRIUkVFLkZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUoKSBpbnN0ZWFkLicpO3JldHVybiBuZXcgRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZShhcnJheSxpdGVtU2l6ZSk7fWZ1bmN0aW9uIEZsb2F0NjRBdHRyaWJ1dGUoYXJyYXksaXRlbVNpemUpe2NvbnNvbGUud2FybignVEhSRUUuRmxvYXQ2NEF0dHJpYnV0ZSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgbmV3IFRIUkVFLkZsb2F0NjRCdWZmZXJBdHRyaWJ1dGUoKSBpbnN0ZWFkLicpO3JldHVybiBuZXcgRmxvYXQ2NEJ1ZmZlckF0dHJpYnV0ZShhcnJheSxpdGVtU2l6ZSk7fS8vCkN1cnZlLmNyZWF0ZT1mdW5jdGlvbihjb25zdHJ1Y3QsZ2V0UG9pbnQpe2NvbnNvbGUubG9nKCdUSFJFRS5DdXJ2ZS5jcmVhdGUoKSBoYXMgYmVlbiBkZXByZWNhdGVkJyk7Y29uc3RydWN0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEN1cnZlLnByb3RvdHlwZSk7Y29uc3RydWN0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1jb25zdHJ1Y3Q7Y29uc3RydWN0LnByb3RvdHlwZS5nZXRQb2ludD1nZXRQb2ludDtyZXR1cm4gY29uc3RydWN0O307Ly8KUGF0aC5wcm90b3R5cGUuZnJvbVBvaW50cz1mdW5jdGlvbihwb2ludHMpe2NvbnNvbGUud2FybignVEhSRUUuUGF0aDogLmZyb21Qb2ludHMoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5zZXRGcm9tUG9pbnRzKCkuJyk7cmV0dXJuIHRoaXMuc2V0RnJvbVBvaW50cyhwb2ludHMpO307Ly8KZnVuY3Rpb24gQXhpc0hlbHBlcihzaXplKXtjb25zb2xlLndhcm4oJ1RIUkVFLkF4aXNIZWxwZXIgaGFzIGJlZW4gcmVuYW1lZCB0byBUSFJFRS5BeGVzSGVscGVyLicpO3JldHVybiBuZXcgQXhlc0hlbHBlcihzaXplKTt9ZnVuY3Rpb24gQm91bmRpbmdCb3hIZWxwZXIob2JqZWN0LGNvbG9yKXtjb25zb2xlLndhcm4oJ1RIUkVFLkJvdW5kaW5nQm94SGVscGVyIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIENyZWF0aW5nIGEgVEhSRUUuQm94SGVscGVyIGluc3RlYWQuJyk7cmV0dXJuIG5ldyBCb3hIZWxwZXIob2JqZWN0LGNvbG9yKTt9ZnVuY3Rpb24gRWRnZXNIZWxwZXIob2JqZWN0LGhleCl7Y29uc29sZS53YXJuKCdUSFJFRS5FZGdlc0hlbHBlciBoYXMgYmVlbiByZW1vdmVkLiBVc2UgVEhSRUUuRWRnZXNHZW9tZXRyeSBpbnN0ZWFkLicpO3JldHVybiBuZXcgTGluZVNlZ21lbnRzKG5ldyBFZGdlc0dlb21ldHJ5KG9iamVjdC5nZW9tZXRyeSksbmV3IExpbmVCYXNpY01hdGVyaWFsKHtjb2xvcjpoZXghPT11bmRlZmluZWQ/aGV4OjB4ZmZmZmZmfSkpO31HcmlkSGVscGVyLnByb3RvdHlwZS5zZXRDb2xvcnM9ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCdUSFJFRS5HcmlkSGVscGVyOiBzZXRDb2xvcnMoKSBoYXMgYmVlbiBkZXByZWNhdGVkLCBwYXNzIHRoZW0gaW4gdGhlIGNvbnN0cnVjdG9yIGluc3RlYWQuJyk7fTtTa2VsZXRvbkhlbHBlci5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcignVEhSRUUuU2tlbGV0b25IZWxwZXI6IHVwZGF0ZSgpIG5vIGxvbmdlciBuZWVkcyB0byBiZSBjYWxsZWQuJyk7fTtmdW5jdGlvbiBXaXJlZnJhbWVIZWxwZXIob2JqZWN0LGhleCl7Y29uc29sZS53YXJuKCdUSFJFRS5XaXJlZnJhbWVIZWxwZXIgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIFRIUkVFLldpcmVmcmFtZUdlb21ldHJ5IGluc3RlYWQuJyk7cmV0dXJuIG5ldyBMaW5lU2VnbWVudHMobmV3IFdpcmVmcmFtZUdlb21ldHJ5KG9iamVjdC5nZW9tZXRyeSksbmV3IExpbmVCYXNpY01hdGVyaWFsKHtjb2xvcjpoZXghPT11bmRlZmluZWQ/aGV4OjB4ZmZmZmZmfSkpO30vLwpMb2FkZXIucHJvdG90eXBlLmV4dHJhY3RVcmxCYXNlPWZ1bmN0aW9uKHVybCl7Y29uc29sZS53YXJuKCdUSFJFRS5Mb2FkZXI6IC5leHRyYWN0VXJsQmFzZSgpIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSBUSFJFRS5Mb2FkZXJVdGlscy5leHRyYWN0VXJsQmFzZSgpIGluc3RlYWQuJyk7cmV0dXJuIExvYWRlclV0aWxzLmV4dHJhY3RVcmxCYXNlKHVybCk7fTtMb2FkZXIuSGFuZGxlcnM9e2FkZDpmdW5jdGlvbiBhZGQoLyogcmVnZXgsIGxvYWRlciAqLyl7Y29uc29sZS5lcnJvcignVEhSRUUuTG9hZGVyOiBIYW5kbGVycy5hZGQoKSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgTG9hZGluZ01hbmFnZXIuYWRkSGFuZGxlcigpIGluc3RlYWQuJyk7fSxnZXQ6ZnVuY3Rpb24gZ2V0KC8qIGZpbGUgKi8pe2NvbnNvbGUuZXJyb3IoJ1RIUkVFLkxvYWRlcjogSGFuZGxlcnMuZ2V0KCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIExvYWRpbmdNYW5hZ2VyLmdldEhhbmRsZXIoKSBpbnN0ZWFkLicpO319O2Z1bmN0aW9uIFhIUkxvYWRlcihtYW5hZ2VyKXtjb25zb2xlLndhcm4oJ1RIUkVFLlhIUkxvYWRlciBoYXMgYmVlbiByZW5hbWVkIHRvIFRIUkVFLkZpbGVMb2FkZXIuJyk7cmV0dXJuIG5ldyBGaWxlTG9hZGVyKG1hbmFnZXIpO31mdW5jdGlvbiBCaW5hcnlUZXh0dXJlTG9hZGVyKG1hbmFnZXIpe2NvbnNvbGUud2FybignVEhSRUUuQmluYXJ5VGV4dHVyZUxvYWRlciBoYXMgYmVlbiByZW5hbWVkIHRvIFRIUkVFLkRhdGFUZXh0dXJlTG9hZGVyLicpO3JldHVybiBuZXcgRGF0YVRleHR1cmVMb2FkZXIobWFuYWdlcik7fS8vCkJveDIucHJvdG90eXBlLmNlbnRlcj1mdW5jdGlvbihvcHRpb25hbFRhcmdldCl7Y29uc29sZS53YXJuKCdUSFJFRS5Cb3gyOiAuY2VudGVyKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuZ2V0Q2VudGVyKCkuJyk7cmV0dXJuIHRoaXMuZ2V0Q2VudGVyKG9wdGlvbmFsVGFyZ2V0KTt9O0JveDIucHJvdG90eXBlLmVtcHR5PWZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCdUSFJFRS5Cb3gyOiAuZW1wdHkoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5pc0VtcHR5KCkuJyk7cmV0dXJuIHRoaXMuaXNFbXB0eSgpO307Qm94Mi5wcm90b3R5cGUuaXNJbnRlcnNlY3Rpb25Cb3g9ZnVuY3Rpb24oYm94KXtjb25zb2xlLndhcm4oJ1RIUkVFLkJveDI6IC5pc0ludGVyc2VjdGlvbkJveCgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmludGVyc2VjdHNCb3goKS4nKTtyZXR1cm4gdGhpcy5pbnRlcnNlY3RzQm94KGJveCk7fTtCb3gyLnByb3RvdHlwZS5zaXplPWZ1bmN0aW9uKG9wdGlvbmFsVGFyZ2V0KXtjb25zb2xlLndhcm4oJ1RIUkVFLkJveDI6IC5zaXplKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuZ2V0U2l6ZSgpLicpO3JldHVybiB0aGlzLmdldFNpemUob3B0aW9uYWxUYXJnZXQpO307Ly8KQm94My5wcm90b3R5cGUuY2VudGVyPWZ1bmN0aW9uKG9wdGlvbmFsVGFyZ2V0KXtjb25zb2xlLndhcm4oJ1RIUkVFLkJveDM6IC5jZW50ZXIoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5nZXRDZW50ZXIoKS4nKTtyZXR1cm4gdGhpcy5nZXRDZW50ZXIob3B0aW9uYWxUYXJnZXQpO307Qm94My5wcm90b3R5cGUuZW1wdHk9ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oJ1RIUkVFLkJveDM6IC5lbXB0eSgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmlzRW1wdHkoKS4nKTtyZXR1cm4gdGhpcy5pc0VtcHR5KCk7fTtCb3gzLnByb3RvdHlwZS5pc0ludGVyc2VjdGlvbkJveD1mdW5jdGlvbihib3gpe2NvbnNvbGUud2FybignVEhSRUUuQm94MzogLmlzSW50ZXJzZWN0aW9uQm94KCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuaW50ZXJzZWN0c0JveCgpLicpO3JldHVybiB0aGlzLmludGVyc2VjdHNCb3goYm94KTt9O0JveDMucHJvdG90eXBlLmlzSW50ZXJzZWN0aW9uU3BoZXJlPWZ1bmN0aW9uKHNwaGVyZSl7Y29uc29sZS53YXJuKCdUSFJFRS5Cb3gzOiAuaXNJbnRlcnNlY3Rpb25TcGhlcmUoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5pbnRlcnNlY3RzU3BoZXJlKCkuJyk7cmV0dXJuIHRoaXMuaW50ZXJzZWN0c1NwaGVyZShzcGhlcmUpO307Qm94My5wcm90b3R5cGUuc2l6ZT1mdW5jdGlvbihvcHRpb25hbFRhcmdldCl7Y29uc29sZS53YXJuKCdUSFJFRS5Cb3gzOiAuc2l6ZSgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmdldFNpemUoKS4nKTtyZXR1cm4gdGhpcy5nZXRTaXplKG9wdGlvbmFsVGFyZ2V0KTt9Oy8vClNwaGVyZS5wcm90b3R5cGUuZW1wdHk9ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oJ1RIUkVFLlNwaGVyZTogLmVtcHR5KCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuaXNFbXB0eSgpLicpO3JldHVybiB0aGlzLmlzRW1wdHkoKTt9Oy8vCkZydXN0dW0ucHJvdG90eXBlLnNldEZyb21NYXRyaXg9ZnVuY3Rpb24obSl7Y29uc29sZS53YXJuKCdUSFJFRS5GcnVzdHVtOiAuc2V0RnJvbU1hdHJpeCgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLnNldEZyb21Qcm9qZWN0aW9uTWF0cml4KCkuJyk7cmV0dXJuIHRoaXMuc2V0RnJvbVByb2plY3Rpb25NYXRyaXgobSk7fTsvLwpMaW5lMy5wcm90b3R5cGUuY2VudGVyPWZ1bmN0aW9uKG9wdGlvbmFsVGFyZ2V0KXtjb25zb2xlLndhcm4oJ1RIUkVFLkxpbmUzOiAuY2VudGVyKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuZ2V0Q2VudGVyKCkuJyk7cmV0dXJuIHRoaXMuZ2V0Q2VudGVyKG9wdGlvbmFsVGFyZ2V0KTt9Oy8vCk1hdHJpeDMucHJvdG90eXBlLmZsYXR0ZW5Ub0FycmF5T2Zmc2V0PWZ1bmN0aW9uKGFycmF5LG9mZnNldCl7Y29uc29sZS53YXJuKCdUSFJFRS5NYXRyaXgzOiAuZmxhdHRlblRvQXJyYXlPZmZzZXQoKSBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgLnRvQXJyYXkoKSBpbnN0ZWFkLicpO3JldHVybiB0aGlzLnRvQXJyYXkoYXJyYXksb2Zmc2V0KTt9O01hdHJpeDMucHJvdG90eXBlLm11bHRpcGx5VmVjdG9yMz1mdW5jdGlvbih2ZWN0b3Ipe2NvbnNvbGUud2FybignVEhSRUUuTWF0cml4MzogLm11bHRpcGx5VmVjdG9yMygpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSB2ZWN0b3IuYXBwbHlNYXRyaXgzKCBtYXRyaXggKSBpbnN0ZWFkLicpO3JldHVybiB2ZWN0b3IuYXBwbHlNYXRyaXgzKHRoaXMpO307TWF0cml4My5wcm90b3R5cGUubXVsdGlwbHlWZWN0b3IzQXJyYXk9ZnVuY3Rpb24vKiBhICovKCl7Y29uc29sZS5lcnJvcignVEhSRUUuTWF0cml4MzogLm11bHRpcGx5VmVjdG9yM0FycmF5KCkgaGFzIGJlZW4gcmVtb3ZlZC4nKTt9O01hdHJpeDMucHJvdG90eXBlLmFwcGx5VG9CdWZmZXJBdHRyaWJ1dGU9ZnVuY3Rpb24oYXR0cmlidXRlKXtjb25zb2xlLndhcm4oJ1RIUkVFLk1hdHJpeDM6IC5hcHBseVRvQnVmZmVyQXR0cmlidXRlKCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIGF0dHJpYnV0ZS5hcHBseU1hdHJpeDMoIG1hdHJpeCApIGluc3RlYWQuJyk7cmV0dXJuIGF0dHJpYnV0ZS5hcHBseU1hdHJpeDModGhpcyk7fTtNYXRyaXgzLnByb3RvdHlwZS5hcHBseVRvVmVjdG9yM0FycmF5PWZ1bmN0aW9uLyogYXJyYXksIG9mZnNldCwgbGVuZ3RoICovKCl7Y29uc29sZS5lcnJvcignVEhSRUUuTWF0cml4MzogLmFwcGx5VG9WZWN0b3IzQXJyYXkoKSBoYXMgYmVlbiByZW1vdmVkLicpO307TWF0cml4My5wcm90b3R5cGUuZ2V0SW52ZXJzZT1mdW5jdGlvbihtYXRyaXgpe2NvbnNvbGUud2FybignVEhSRUUuTWF0cml4MzogLmdldEludmVyc2UoKSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgbWF0cml4SW52LmNvcHkoIG1hdHJpeCApLmludmVydCgpOyBpbnN0ZWFkLicpO3JldHVybiB0aGlzLmNvcHkobWF0cml4KS5pbnZlcnQoKTt9Oy8vCk1hdHJpeDQucHJvdG90eXBlLmV4dHJhY3RQb3NpdGlvbj1mdW5jdGlvbihtKXtjb25zb2xlLndhcm4oJ1RIUkVFLk1hdHJpeDQ6IC5leHRyYWN0UG9zaXRpb24oKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5jb3B5UG9zaXRpb24oKS4nKTtyZXR1cm4gdGhpcy5jb3B5UG9zaXRpb24obSk7fTtNYXRyaXg0LnByb3RvdHlwZS5mbGF0dGVuVG9BcnJheU9mZnNldD1mdW5jdGlvbihhcnJheSxvZmZzZXQpe2NvbnNvbGUud2FybignVEhSRUUuTWF0cml4NDogLmZsYXR0ZW5Ub0FycmF5T2Zmc2V0KCkgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIC50b0FycmF5KCkgaW5zdGVhZC4nKTtyZXR1cm4gdGhpcy50b0FycmF5KGFycmF5LG9mZnNldCk7fTtNYXRyaXg0LnByb3RvdHlwZS5nZXRQb3NpdGlvbj1mdW5jdGlvbigpe2NvbnNvbGUud2FybignVEhSRUUuTWF0cml4NDogLmdldFBvc2l0aW9uKCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIFZlY3RvcjMuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKCBtYXRyaXggKSBpbnN0ZWFkLicpO3JldHVybiBuZXcgVmVjdG9yMygpLnNldEZyb21NYXRyaXhDb2x1bW4odGhpcywzKTt9O01hdHJpeDQucHJvdG90eXBlLnNldFJvdGF0aW9uRnJvbVF1YXRlcm5pb249ZnVuY3Rpb24ocSl7Y29uc29sZS53YXJuKCdUSFJFRS5NYXRyaXg0OiAuc2V0Um90YXRpb25Gcm9tUXVhdGVybmlvbigpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLm1ha2VSb3RhdGlvbkZyb21RdWF0ZXJuaW9uKCkuJyk7cmV0dXJuIHRoaXMubWFrZVJvdGF0aW9uRnJvbVF1YXRlcm5pb24ocSk7fTtNYXRyaXg0LnByb3RvdHlwZS5tdWx0aXBseVRvQXJyYXk9ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oJ1RIUkVFLk1hdHJpeDQ6IC5tdWx0aXBseVRvQXJyYXkoKSBoYXMgYmVlbiByZW1vdmVkLicpO307TWF0cml4NC5wcm90b3R5cGUubXVsdGlwbHlWZWN0b3IzPWZ1bmN0aW9uKHZlY3Rvcil7Y29uc29sZS53YXJuKCdUSFJFRS5NYXRyaXg0OiAubXVsdGlwbHlWZWN0b3IzKCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIHZlY3Rvci5hcHBseU1hdHJpeDQoIG1hdHJpeCApIGluc3RlYWQuJyk7cmV0dXJuIHZlY3Rvci5hcHBseU1hdHJpeDQodGhpcyk7fTtNYXRyaXg0LnByb3RvdHlwZS5tdWx0aXBseVZlY3RvcjQ9ZnVuY3Rpb24odmVjdG9yKXtjb25zb2xlLndhcm4oJ1RIUkVFLk1hdHJpeDQ6IC5tdWx0aXBseVZlY3RvcjQoKSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgdmVjdG9yLmFwcGx5TWF0cml4NCggbWF0cml4ICkgaW5zdGVhZC4nKTtyZXR1cm4gdmVjdG9yLmFwcGx5TWF0cml4NCh0aGlzKTt9O01hdHJpeDQucHJvdG90eXBlLm11bHRpcGx5VmVjdG9yM0FycmF5PWZ1bmN0aW9uLyogYSAqLygpe2NvbnNvbGUuZXJyb3IoJ1RIUkVFLk1hdHJpeDQ6IC5tdWx0aXBseVZlY3RvcjNBcnJheSgpIGhhcyBiZWVuIHJlbW92ZWQuJyk7fTtNYXRyaXg0LnByb3RvdHlwZS5yb3RhdGVBeGlzPWZ1bmN0aW9uKHYpe2NvbnNvbGUud2FybignVEhSRUUuTWF0cml4NDogLnJvdGF0ZUF4aXMoKSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgVmVjdG9yMy50cmFuc2Zvcm1EaXJlY3Rpb24oIG1hdHJpeCApIGluc3RlYWQuJyk7di50cmFuc2Zvcm1EaXJlY3Rpb24odGhpcyk7fTtNYXRyaXg0LnByb3RvdHlwZS5jcm9zc1ZlY3Rvcj1mdW5jdGlvbih2ZWN0b3Ipe2NvbnNvbGUud2FybignVEhSRUUuTWF0cml4NDogLmNyb3NzVmVjdG9yKCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIHZlY3Rvci5hcHBseU1hdHJpeDQoIG1hdHJpeCApIGluc3RlYWQuJyk7cmV0dXJuIHZlY3Rvci5hcHBseU1hdHJpeDQodGhpcyk7fTtNYXRyaXg0LnByb3RvdHlwZS50cmFuc2xhdGU9ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCdUSFJFRS5NYXRyaXg0OiAudHJhbnNsYXRlKCkgaGFzIGJlZW4gcmVtb3ZlZC4nKTt9O01hdHJpeDQucHJvdG90eXBlLnJvdGF0ZVg9ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCdUSFJFRS5NYXRyaXg0OiAucm90YXRlWCgpIGhhcyBiZWVuIHJlbW92ZWQuJyk7fTtNYXRyaXg0LnByb3RvdHlwZS5yb3RhdGVZPWZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcignVEhSRUUuTWF0cml4NDogLnJvdGF0ZVkoKSBoYXMgYmVlbiByZW1vdmVkLicpO307TWF0cml4NC5wcm90b3R5cGUucm90YXRlWj1mdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoJ1RIUkVFLk1hdHJpeDQ6IC5yb3RhdGVaKCkgaGFzIGJlZW4gcmVtb3ZlZC4nKTt9O01hdHJpeDQucHJvdG90eXBlLnJvdGF0ZUJ5QXhpcz1mdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoJ1RIUkVFLk1hdHJpeDQ6IC5yb3RhdGVCeUF4aXMoKSBoYXMgYmVlbiByZW1vdmVkLicpO307TWF0cml4NC5wcm90b3R5cGUuYXBwbHlUb0J1ZmZlckF0dHJpYnV0ZT1mdW5jdGlvbihhdHRyaWJ1dGUpe2NvbnNvbGUud2FybignVEhSRUUuTWF0cml4NDogLmFwcGx5VG9CdWZmZXJBdHRyaWJ1dGUoKSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgYXR0cmlidXRlLmFwcGx5TWF0cml4NCggbWF0cml4ICkgaW5zdGVhZC4nKTtyZXR1cm4gYXR0cmlidXRlLmFwcGx5TWF0cml4NCh0aGlzKTt9O01hdHJpeDQucHJvdG90eXBlLmFwcGx5VG9WZWN0b3IzQXJyYXk9ZnVuY3Rpb24vKiBhcnJheSwgb2Zmc2V0LCBsZW5ndGggKi8oKXtjb25zb2xlLmVycm9yKCdUSFJFRS5NYXRyaXg0OiAuYXBwbHlUb1ZlY3RvcjNBcnJheSgpIGhhcyBiZWVuIHJlbW92ZWQuJyk7fTtNYXRyaXg0LnByb3RvdHlwZS5tYWtlRnJ1c3R1bT1mdW5jdGlvbihsZWZ0LHJpZ2h0LGJvdHRvbSx0b3AsbmVhcixmYXIpe2NvbnNvbGUud2FybignVEhSRUUuTWF0cml4NDogLm1ha2VGcnVzdHVtKCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIC5tYWtlUGVyc3BlY3RpdmUoIGxlZnQsIHJpZ2h0LCB0b3AsIGJvdHRvbSwgbmVhciwgZmFyICkgaW5zdGVhZC4nKTtyZXR1cm4gdGhpcy5tYWtlUGVyc3BlY3RpdmUobGVmdCxyaWdodCx0b3AsYm90dG9tLG5lYXIsZmFyKTt9O01hdHJpeDQucHJvdG90eXBlLmdldEludmVyc2U9ZnVuY3Rpb24obWF0cml4KXtjb25zb2xlLndhcm4oJ1RIUkVFLk1hdHJpeDQ6IC5nZXRJbnZlcnNlKCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIG1hdHJpeEludi5jb3B5KCBtYXRyaXggKS5pbnZlcnQoKTsgaW5zdGVhZC4nKTtyZXR1cm4gdGhpcy5jb3B5KG1hdHJpeCkuaW52ZXJ0KCk7fTsvLwpQbGFuZS5wcm90b3R5cGUuaXNJbnRlcnNlY3Rpb25MaW5lPWZ1bmN0aW9uKGxpbmUpe2NvbnNvbGUud2FybignVEhSRUUuUGxhbmU6IC5pc0ludGVyc2VjdGlvbkxpbmUoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5pbnRlcnNlY3RzTGluZSgpLicpO3JldHVybiB0aGlzLmludGVyc2VjdHNMaW5lKGxpbmUpO307Ly8KUXVhdGVybmlvbi5wcm90b3R5cGUubXVsdGlwbHlWZWN0b3IzPWZ1bmN0aW9uKHZlY3Rvcil7Y29uc29sZS53YXJuKCdUSFJFRS5RdWF0ZXJuaW9uOiAubXVsdGlwbHlWZWN0b3IzKCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIGlzIG5vdyB2ZWN0b3IuYXBwbHlRdWF0ZXJuaW9uKCBxdWF0ZXJuaW9uICkgaW5zdGVhZC4nKTtyZXR1cm4gdmVjdG9yLmFwcGx5UXVhdGVybmlvbih0aGlzKTt9O1F1YXRlcm5pb24ucHJvdG90eXBlLmludmVyc2U9ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oJ1RIUkVFLlF1YXRlcm5pb246IC5pbnZlcnNlKCkgaGFzIGJlZW4gcmVuYW1lZCB0byBpbnZlcnQoKS4nKTtyZXR1cm4gdGhpcy5pbnZlcnQoKTt9Oy8vClJheS5wcm90b3R5cGUuaXNJbnRlcnNlY3Rpb25Cb3g9ZnVuY3Rpb24oYm94KXtjb25zb2xlLndhcm4oJ1RIUkVFLlJheTogLmlzSW50ZXJzZWN0aW9uQm94KCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuaW50ZXJzZWN0c0JveCgpLicpO3JldHVybiB0aGlzLmludGVyc2VjdHNCb3goYm94KTt9O1JheS5wcm90b3R5cGUuaXNJbnRlcnNlY3Rpb25QbGFuZT1mdW5jdGlvbihwbGFuZSl7Y29uc29sZS53YXJuKCdUSFJFRS5SYXk6IC5pc0ludGVyc2VjdGlvblBsYW5lKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuaW50ZXJzZWN0c1BsYW5lKCkuJyk7cmV0dXJuIHRoaXMuaW50ZXJzZWN0c1BsYW5lKHBsYW5lKTt9O1JheS5wcm90b3R5cGUuaXNJbnRlcnNlY3Rpb25TcGhlcmU9ZnVuY3Rpb24oc3BoZXJlKXtjb25zb2xlLndhcm4oJ1RIUkVFLlJheTogLmlzSW50ZXJzZWN0aW9uU3BoZXJlKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuaW50ZXJzZWN0c1NwaGVyZSgpLicpO3JldHVybiB0aGlzLmludGVyc2VjdHNTcGhlcmUoc3BoZXJlKTt9Oy8vClRyaWFuZ2xlLnByb3RvdHlwZS5hcmVhPWZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCdUSFJFRS5UcmlhbmdsZTogLmFyZWEoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5nZXRBcmVhKCkuJyk7cmV0dXJuIHRoaXMuZ2V0QXJlYSgpO307VHJpYW5nbGUucHJvdG90eXBlLmJhcnljb29yZEZyb21Qb2ludD1mdW5jdGlvbihwb2ludCx0YXJnZXQpe2NvbnNvbGUud2FybignVEhSRUUuVHJpYW5nbGU6IC5iYXJ5Y29vcmRGcm9tUG9pbnQoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5nZXRCYXJ5Y29vcmQoKS4nKTtyZXR1cm4gdGhpcy5nZXRCYXJ5Y29vcmQocG9pbnQsdGFyZ2V0KTt9O1RyaWFuZ2xlLnByb3RvdHlwZS5taWRwb2ludD1mdW5jdGlvbih0YXJnZXQpe2NvbnNvbGUud2FybignVEhSRUUuVHJpYW5nbGU6IC5taWRwb2ludCgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmdldE1pZHBvaW50KCkuJyk7cmV0dXJuIHRoaXMuZ2V0TWlkcG9pbnQodGFyZ2V0KTt9O1RyaWFuZ2xlLnByb3RvdHlwZW5vcm1hbD1mdW5jdGlvbih0YXJnZXQpe2NvbnNvbGUud2FybignVEhSRUUuVHJpYW5nbGU6IC5ub3JtYWwoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5nZXROb3JtYWwoKS4nKTtyZXR1cm4gdGhpcy5nZXROb3JtYWwodGFyZ2V0KTt9O1RyaWFuZ2xlLnByb3RvdHlwZS5wbGFuZT1mdW5jdGlvbih0YXJnZXQpe2NvbnNvbGUud2FybignVEhSRUUuVHJpYW5nbGU6IC5wbGFuZSgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmdldFBsYW5lKCkuJyk7cmV0dXJuIHRoaXMuZ2V0UGxhbmUodGFyZ2V0KTt9O1RyaWFuZ2xlLmJhcnljb29yZEZyb21Qb2ludD1mdW5jdGlvbihwb2ludCxhLGIsYyx0YXJnZXQpe2NvbnNvbGUud2FybignVEhSRUUuVHJpYW5nbGU6IC5iYXJ5Y29vcmRGcm9tUG9pbnQoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5nZXRCYXJ5Y29vcmQoKS4nKTtyZXR1cm4gVHJpYW5nbGUuZ2V0QmFyeWNvb3JkKHBvaW50LGEsYixjLHRhcmdldCk7fTtUcmlhbmdsZS5ub3JtYWw9ZnVuY3Rpb24oYSxiLGMsdGFyZ2V0KXtjb25zb2xlLndhcm4oJ1RIUkVFLlRyaWFuZ2xlOiAubm9ybWFsKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuZ2V0Tm9ybWFsKCkuJyk7cmV0dXJuIFRyaWFuZ2xlLmdldE5vcm1hbChhLGIsYyx0YXJnZXQpO307Ly8KU2hhcGUucHJvdG90eXBlLmV4dHJhY3RBbGxQb2ludHM9ZnVuY3Rpb24oZGl2aXNpb25zKXtjb25zb2xlLndhcm4oJ1RIUkVFLlNoYXBlOiAuZXh0cmFjdEFsbFBvaW50cygpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSAuZXh0cmFjdFBvaW50cygpIGluc3RlYWQuJyk7cmV0dXJuIHRoaXMuZXh0cmFjdFBvaW50cyhkaXZpc2lvbnMpO307U2hhcGUucHJvdG90eXBlLmV4dHJ1ZGU9ZnVuY3Rpb24ob3B0aW9ucyl7Y29uc29sZS53YXJuKCdUSFJFRS5TaGFwZTogLmV4dHJ1ZGUoKSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgRXh0cnVkZUdlb21ldHJ5KCkgaW5zdGVhZC4nKTtyZXR1cm4gbmV3IEV4dHJ1ZGVHZW9tZXRyeSh0aGlzLG9wdGlvbnMpO307U2hhcGUucHJvdG90eXBlLm1ha2VHZW9tZXRyeT1mdW5jdGlvbihvcHRpb25zKXtjb25zb2xlLndhcm4oJ1RIUkVFLlNoYXBlOiAubWFrZUdlb21ldHJ5KCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIFNoYXBlR2VvbWV0cnkoKSBpbnN0ZWFkLicpO3JldHVybiBuZXcgU2hhcGVHZW9tZXRyeSh0aGlzLG9wdGlvbnMpO307Ly8KVmVjdG9yMi5wcm90b3R5cGUuZnJvbUF0dHJpYnV0ZT1mdW5jdGlvbihhdHRyaWJ1dGUsaW5kZXgsb2Zmc2V0KXtjb25zb2xlLndhcm4oJ1RIUkVFLlZlY3RvcjI6IC5mcm9tQXR0cmlidXRlKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuZnJvbUJ1ZmZlckF0dHJpYnV0ZSgpLicpO3JldHVybiB0aGlzLmZyb21CdWZmZXJBdHRyaWJ1dGUoYXR0cmlidXRlLGluZGV4LG9mZnNldCk7fTtWZWN0b3IyLnByb3RvdHlwZS5kaXN0YW5jZVRvTWFuaGF0dGFuPWZ1bmN0aW9uKHYpe2NvbnNvbGUud2FybignVEhSRUUuVmVjdG9yMjogLmRpc3RhbmNlVG9NYW5oYXR0YW4oKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5tYW5oYXR0YW5EaXN0YW5jZVRvKCkuJyk7cmV0dXJuIHRoaXMubWFuaGF0dGFuRGlzdGFuY2VUbyh2KTt9O1ZlY3RvcjIucHJvdG90eXBlLmxlbmd0aE1hbmhhdHRhbj1mdW5jdGlvbigpe2NvbnNvbGUud2FybignVEhSRUUuVmVjdG9yMjogLmxlbmd0aE1hbmhhdHRhbigpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLm1hbmhhdHRhbkxlbmd0aCgpLicpO3JldHVybiB0aGlzLm1hbmhhdHRhbkxlbmd0aCgpO307Ly8KVmVjdG9yMy5wcm90b3R5cGUuc2V0RXVsZXJGcm9tUm90YXRpb25NYXRyaXg9ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCdUSFJFRS5WZWN0b3IzOiAuc2V0RXVsZXJGcm9tUm90YXRpb25NYXRyaXgoKSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgRXVsZXIuc2V0RnJvbVJvdGF0aW9uTWF0cml4KCkgaW5zdGVhZC4nKTt9O1ZlY3RvcjMucHJvdG90eXBlLnNldEV1bGVyRnJvbVF1YXRlcm5pb249ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCdUSFJFRS5WZWN0b3IzOiAuc2V0RXVsZXJGcm9tUXVhdGVybmlvbigpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBFdWxlci5zZXRGcm9tUXVhdGVybmlvbigpIGluc3RlYWQuJyk7fTtWZWN0b3IzLnByb3RvdHlwZS5nZXRQb3NpdGlvbkZyb21NYXRyaXg9ZnVuY3Rpb24obSl7Y29uc29sZS53YXJuKCdUSFJFRS5WZWN0b3IzOiAuZ2V0UG9zaXRpb25Gcm9tTWF0cml4KCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKCkuJyk7cmV0dXJuIHRoaXMuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKG0pO307VmVjdG9yMy5wcm90b3R5cGUuZ2V0U2NhbGVGcm9tTWF0cml4PWZ1bmN0aW9uKG0pe2NvbnNvbGUud2FybignVEhSRUUuVmVjdG9yMzogLmdldFNjYWxlRnJvbU1hdHJpeCgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLnNldEZyb21NYXRyaXhTY2FsZSgpLicpO3JldHVybiB0aGlzLnNldEZyb21NYXRyaXhTY2FsZShtKTt9O1ZlY3RvcjMucHJvdG90eXBlLmdldENvbHVtbkZyb21NYXRyaXg9ZnVuY3Rpb24oaW5kZXgsbWF0cml4KXtjb25zb2xlLndhcm4oJ1RIUkVFLlZlY3RvcjM6IC5nZXRDb2x1bW5Gcm9tTWF0cml4KCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuc2V0RnJvbU1hdHJpeENvbHVtbigpLicpO3JldHVybiB0aGlzLnNldEZyb21NYXRyaXhDb2x1bW4obWF0cml4LGluZGV4KTt9O1ZlY3RvcjMucHJvdG90eXBlLmFwcGx5UHJvamVjdGlvbj1mdW5jdGlvbihtKXtjb25zb2xlLndhcm4oJ1RIUkVFLlZlY3RvcjM6IC5hcHBseVByb2plY3Rpb24oKSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgLmFwcGx5TWF0cml4NCggbSApIGluc3RlYWQuJyk7cmV0dXJuIHRoaXMuYXBwbHlNYXRyaXg0KG0pO307VmVjdG9yMy5wcm90b3R5cGUuZnJvbUF0dHJpYnV0ZT1mdW5jdGlvbihhdHRyaWJ1dGUsaW5kZXgsb2Zmc2V0KXtjb25zb2xlLndhcm4oJ1RIUkVFLlZlY3RvcjM6IC5mcm9tQXR0cmlidXRlKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuZnJvbUJ1ZmZlckF0dHJpYnV0ZSgpLicpO3JldHVybiB0aGlzLmZyb21CdWZmZXJBdHRyaWJ1dGUoYXR0cmlidXRlLGluZGV4LG9mZnNldCk7fTtWZWN0b3IzLnByb3RvdHlwZS5kaXN0YW5jZVRvTWFuaGF0dGFuPWZ1bmN0aW9uKHYpe2NvbnNvbGUud2FybignVEhSRUUuVmVjdG9yMzogLmRpc3RhbmNlVG9NYW5oYXR0YW4oKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5tYW5oYXR0YW5EaXN0YW5jZVRvKCkuJyk7cmV0dXJuIHRoaXMubWFuaGF0dGFuRGlzdGFuY2VUbyh2KTt9O1ZlY3RvcjMucHJvdG90eXBlLmxlbmd0aE1hbmhhdHRhbj1mdW5jdGlvbigpe2NvbnNvbGUud2FybignVEhSRUUuVmVjdG9yMzogLmxlbmd0aE1hbmhhdHRhbigpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLm1hbmhhdHRhbkxlbmd0aCgpLicpO3JldHVybiB0aGlzLm1hbmhhdHRhbkxlbmd0aCgpO307Ly8KVmVjdG9yNC5wcm90b3R5cGUuZnJvbUF0dHJpYnV0ZT1mdW5jdGlvbihhdHRyaWJ1dGUsaW5kZXgsb2Zmc2V0KXtjb25zb2xlLndhcm4oJ1RIUkVFLlZlY3RvcjQ6IC5mcm9tQXR0cmlidXRlKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuZnJvbUJ1ZmZlckF0dHJpYnV0ZSgpLicpO3JldHVybiB0aGlzLmZyb21CdWZmZXJBdHRyaWJ1dGUoYXR0cmlidXRlLGluZGV4LG9mZnNldCk7fTtWZWN0b3I0LnByb3RvdHlwZS5sZW5ndGhNYW5oYXR0YW49ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oJ1RIUkVFLlZlY3RvcjQ6IC5sZW5ndGhNYW5oYXR0YW4oKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5tYW5oYXR0YW5MZW5ndGgoKS4nKTtyZXR1cm4gdGhpcy5tYW5oYXR0YW5MZW5ndGgoKTt9Oy8vCk9iamVjdDNELnByb3RvdHlwZS5nZXRDaGlsZEJ5TmFtZT1mdW5jdGlvbihuYW1lKXtjb25zb2xlLndhcm4oJ1RIUkVFLk9iamVjdDNEOiAuZ2V0Q2hpbGRCeU5hbWUoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5nZXRPYmplY3RCeU5hbWUoKS4nKTtyZXR1cm4gdGhpcy5nZXRPYmplY3RCeU5hbWUobmFtZSk7fTtPYmplY3QzRC5wcm90b3R5cGUucmVuZGVyRGVwdGg9ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oJ1RIUkVFLk9iamVjdDNEOiAucmVuZGVyRGVwdGggaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIC5yZW5kZXJPcmRlciwgaW5zdGVhZC4nKTt9O09iamVjdDNELnByb3RvdHlwZS50cmFuc2xhdGU9ZnVuY3Rpb24oZGlzdGFuY2UsYXhpcyl7Y29uc29sZS53YXJuKCdUSFJFRS5PYmplY3QzRDogLnRyYW5zbGF0ZSgpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSAudHJhbnNsYXRlT25BeGlzKCBheGlzLCBkaXN0YW5jZSApIGluc3RlYWQuJyk7cmV0dXJuIHRoaXMudHJhbnNsYXRlT25BeGlzKGF4aXMsZGlzdGFuY2UpO307T2JqZWN0M0QucHJvdG90eXBlLmdldFdvcmxkUm90YXRpb249ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCdUSFJFRS5PYmplY3QzRDogLmdldFdvcmxkUm90YXRpb24oKSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgVEhSRUUuT2JqZWN0M0QuZ2V0V29ybGRRdWF0ZXJuaW9uKCB0YXJnZXQgKSBpbnN0ZWFkLicpO307T2JqZWN0M0QucHJvdG90eXBlLmFwcGx5TWF0cml4PWZ1bmN0aW9uKG1hdHJpeCl7Y29uc29sZS53YXJuKCdUSFJFRS5PYmplY3QzRDogLmFwcGx5TWF0cml4KCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuYXBwbHlNYXRyaXg0KCkuJyk7cmV0dXJuIHRoaXMuYXBwbHlNYXRyaXg0KG1hdHJpeCk7fTtPYmplY3QuZGVmaW5lUHJvcGVydGllcyhPYmplY3QzRC5wcm90b3R5cGUse2V1bGVyT3JkZXI6e2dldDpmdW5jdGlvbiBnZXQoKXtjb25zb2xlLndhcm4oJ1RIUkVFLk9iamVjdDNEOiAuZXVsZXJPcmRlciBpcyBub3cgLnJvdGF0aW9uLm9yZGVyLicpO3JldHVybiB0aGlzLnJvdGF0aW9uLm9yZGVyO30sc2V0OmZ1bmN0aW9uIHNldCh2YWx1ZSl7Y29uc29sZS53YXJuKCdUSFJFRS5PYmplY3QzRDogLmV1bGVyT3JkZXIgaXMgbm93IC5yb3RhdGlvbi5vcmRlci4nKTt0aGlzLnJvdGF0aW9uLm9yZGVyPXZhbHVlO319LHVzZVF1YXRlcm5pb246e2dldDpmdW5jdGlvbiBnZXQoKXtjb25zb2xlLndhcm4oJ1RIUkVFLk9iamVjdDNEOiAudXNlUXVhdGVybmlvbiBoYXMgYmVlbiByZW1vdmVkLiBUaGUgbGlicmFyeSBub3cgdXNlcyBxdWF0ZXJuaW9ucyBieSBkZWZhdWx0LicpO30sc2V0OmZ1bmN0aW9uIHNldCgpe2NvbnNvbGUud2FybignVEhSRUUuT2JqZWN0M0Q6IC51c2VRdWF0ZXJuaW9uIGhhcyBiZWVuIHJlbW92ZWQuIFRoZSBsaWJyYXJ5IG5vdyB1c2VzIHF1YXRlcm5pb25zIGJ5IGRlZmF1bHQuJyk7fX19KTtNZXNoLnByb3RvdHlwZS5zZXREcmF3TW9kZT1mdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoJ1RIUkVFLk1lc2g6IC5zZXREcmF3TW9kZSgpIGhhcyBiZWVuIHJlbW92ZWQuIFRoZSByZW5kZXJlciBub3cgYWx3YXlzIGFzc3VtZXMgVEhSRUUuVHJpYW5nbGVzRHJhd01vZGUuIFRyYW5zZm9ybSB5b3VyIGdlb21ldHJ5IHZpYSBCdWZmZXJHZW9tZXRyeVV0aWxzLnRvVHJpYW5nbGVzRHJhd01vZGUoKSBpZiBuZWNlc3NhcnkuJyk7fTtPYmplY3QuZGVmaW5lUHJvcGVydGllcyhNZXNoLnByb3RvdHlwZSx7ZHJhd01vZGU6e2dldDpmdW5jdGlvbiBnZXQoKXtjb25zb2xlLmVycm9yKCdUSFJFRS5NZXNoOiAuZHJhd01vZGUgaGFzIGJlZW4gcmVtb3ZlZC4gVGhlIHJlbmRlcmVyIG5vdyBhbHdheXMgYXNzdW1lcyBUSFJFRS5UcmlhbmdsZXNEcmF3TW9kZS4nKTtyZXR1cm4gVHJpYW5nbGVzRHJhd01vZGU7fSxzZXQ6ZnVuY3Rpb24gc2V0KCl7Y29uc29sZS5lcnJvcignVEhSRUUuTWVzaDogLmRyYXdNb2RlIGhhcyBiZWVuIHJlbW92ZWQuIFRoZSByZW5kZXJlciBub3cgYWx3YXlzIGFzc3VtZXMgVEhSRUUuVHJpYW5nbGVzRHJhd01vZGUuIFRyYW5zZm9ybSB5b3VyIGdlb21ldHJ5IHZpYSBCdWZmZXJHZW9tZXRyeVV0aWxzLnRvVHJpYW5nbGVzRHJhd01vZGUoKSBpZiBuZWNlc3NhcnkuJyk7fX19KTtTa2lubmVkTWVzaC5wcm90b3R5cGUuaW5pdEJvbmVzPWZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcignVEhSRUUuU2tpbm5lZE1lc2g6IGluaXRCb25lcygpIGhhcyBiZWVuIHJlbW92ZWQuJyk7fTsvLwpQZXJzcGVjdGl2ZUNhbWVyYS5wcm90b3R5cGUuc2V0TGVucz1mdW5jdGlvbihmb2NhbExlbmd0aCxmaWxtR2F1Z2Upe2NvbnNvbGUud2FybignVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEuc2V0TGVucyBpcyBkZXByZWNhdGVkLiAnKydVc2UgLnNldEZvY2FsTGVuZ3RoIGFuZCAuZmlsbUdhdWdlIGZvciBhIHBob3RvZ3JhcGhpYyBzZXR1cC4nKTtpZihmaWxtR2F1Z2UhPT11bmRlZmluZWQpdGhpcy5maWxtR2F1Z2U9ZmlsbUdhdWdlO3RoaXMuc2V0Rm9jYWxMZW5ndGgoZm9jYWxMZW5ndGgpO307Ly8KT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoTGlnaHQucHJvdG90eXBlLHtvbmx5U2hhZG93OntzZXQ6ZnVuY3Rpb24gc2V0KCl7Y29uc29sZS53YXJuKCdUSFJFRS5MaWdodDogLm9ubHlTaGFkb3cgaGFzIGJlZW4gcmVtb3ZlZC4nKTt9fSxzaGFkb3dDYW1lcmFGb3Y6e3NldDpmdW5jdGlvbiBzZXQodmFsdWUpe2NvbnNvbGUud2FybignVEhSRUUuTGlnaHQ6IC5zaGFkb3dDYW1lcmFGb3YgaXMgbm93IC5zaGFkb3cuY2FtZXJhLmZvdi4nKTt0aGlzLnNoYWRvdy5jYW1lcmEuZm92PXZhbHVlO319LHNoYWRvd0NhbWVyYUxlZnQ6e3NldDpmdW5jdGlvbiBzZXQodmFsdWUpe2NvbnNvbGUud2FybignVEhSRUUuTGlnaHQ6IC5zaGFkb3dDYW1lcmFMZWZ0IGlzIG5vdyAuc2hhZG93LmNhbWVyYS5sZWZ0LicpO3RoaXMuc2hhZG93LmNhbWVyYS5sZWZ0PXZhbHVlO319LHNoYWRvd0NhbWVyYVJpZ2h0OntzZXQ6ZnVuY3Rpb24gc2V0KHZhbHVlKXtjb25zb2xlLndhcm4oJ1RIUkVFLkxpZ2h0OiAuc2hhZG93Q2FtZXJhUmlnaHQgaXMgbm93IC5zaGFkb3cuY2FtZXJhLnJpZ2h0LicpO3RoaXMuc2hhZG93LmNhbWVyYS5yaWdodD12YWx1ZTt9fSxzaGFkb3dDYW1lcmFUb3A6e3NldDpmdW5jdGlvbiBzZXQodmFsdWUpe2NvbnNvbGUud2FybignVEhSRUUuTGlnaHQ6IC5zaGFkb3dDYW1lcmFUb3AgaXMgbm93IC5zaGFkb3cuY2FtZXJhLnRvcC4nKTt0aGlzLnNoYWRvdy5jYW1lcmEudG9wPXZhbHVlO319LHNoYWRvd0NhbWVyYUJvdHRvbTp7c2V0OmZ1bmN0aW9uIHNldCh2YWx1ZSl7Y29uc29sZS53YXJuKCdUSFJFRS5MaWdodDogLnNoYWRvd0NhbWVyYUJvdHRvbSBpcyBub3cgLnNoYWRvdy5jYW1lcmEuYm90dG9tLicpO3RoaXMuc2hhZG93LmNhbWVyYS5ib3R0b209dmFsdWU7fX0sc2hhZG93Q2FtZXJhTmVhcjp7c2V0OmZ1bmN0aW9uIHNldCh2YWx1ZSl7Y29uc29sZS53YXJuKCdUSFJFRS5MaWdodDogLnNoYWRvd0NhbWVyYU5lYXIgaXMgbm93IC5zaGFkb3cuY2FtZXJhLm5lYXIuJyk7dGhpcy5zaGFkb3cuY2FtZXJhLm5lYXI9dmFsdWU7fX0sc2hhZG93Q2FtZXJhRmFyOntzZXQ6ZnVuY3Rpb24gc2V0KHZhbHVlKXtjb25zb2xlLndhcm4oJ1RIUkVFLkxpZ2h0OiAuc2hhZG93Q2FtZXJhRmFyIGlzIG5vdyAuc2hhZG93LmNhbWVyYS5mYXIuJyk7dGhpcy5zaGFkb3cuY2FtZXJhLmZhcj12YWx1ZTt9fSxzaGFkb3dDYW1lcmFWaXNpYmxlOntzZXQ6ZnVuY3Rpb24gc2V0KCl7Y29uc29sZS53YXJuKCdUSFJFRS5MaWdodDogLnNoYWRvd0NhbWVyYVZpc2libGUgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIG5ldyBUSFJFRS5DYW1lcmFIZWxwZXIoIGxpZ2h0LnNoYWRvdy5jYW1lcmEgKSBpbnN0ZWFkLicpO319LHNoYWRvd0JpYXM6e3NldDpmdW5jdGlvbiBzZXQodmFsdWUpe2NvbnNvbGUud2FybignVEhSRUUuTGlnaHQ6IC5zaGFkb3dCaWFzIGlzIG5vdyAuc2hhZG93LmJpYXMuJyk7dGhpcy5zaGFkb3cuYmlhcz12YWx1ZTt9fSxzaGFkb3dEYXJrbmVzczp7c2V0OmZ1bmN0aW9uIHNldCgpe2NvbnNvbGUud2FybignVEhSRUUuTGlnaHQ6IC5zaGFkb3dEYXJrbmVzcyBoYXMgYmVlbiByZW1vdmVkLicpO319LHNoYWRvd01hcFdpZHRoOntzZXQ6ZnVuY3Rpb24gc2V0KHZhbHVlKXtjb25zb2xlLndhcm4oJ1RIUkVFLkxpZ2h0OiAuc2hhZG93TWFwV2lkdGggaXMgbm93IC5zaGFkb3cubWFwU2l6ZS53aWR0aC4nKTt0aGlzLnNoYWRvdy5tYXBTaXplLndpZHRoPXZhbHVlO319LHNoYWRvd01hcEhlaWdodDp7c2V0OmZ1bmN0aW9uIHNldCh2YWx1ZSl7Y29uc29sZS53YXJuKCdUSFJFRS5MaWdodDogLnNoYWRvd01hcEhlaWdodCBpcyBub3cgLnNoYWRvdy5tYXBTaXplLmhlaWdodC4nKTt0aGlzLnNoYWRvdy5tYXBTaXplLmhlaWdodD12YWx1ZTt9fX0pOy8vCk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKEJ1ZmZlckF0dHJpYnV0ZS5wcm90b3R5cGUse2xlbmd0aDp7Z2V0OmZ1bmN0aW9uIGdldCgpe2NvbnNvbGUud2FybignVEhSRUUuQnVmZmVyQXR0cmlidXRlOiAubGVuZ3RoIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSAuY291bnQgaW5zdGVhZC4nKTtyZXR1cm4gdGhpcy5hcnJheS5sZW5ndGg7fX0sZHluYW1pYzp7Z2V0OmZ1bmN0aW9uIGdldCgpe2NvbnNvbGUud2FybignVEhSRUUuQnVmZmVyQXR0cmlidXRlOiAuZHluYW1pYyBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgLnVzYWdlIGluc3RlYWQuJyk7cmV0dXJuIHRoaXMudXNhZ2U9PT1EeW5hbWljRHJhd1VzYWdlO30sc2V0OmZ1bmN0aW9uIHNldCgvKiB2YWx1ZSAqLyl7Y29uc29sZS53YXJuKCdUSFJFRS5CdWZmZXJBdHRyaWJ1dGU6IC5keW5hbWljIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSAudXNhZ2UgaW5zdGVhZC4nKTt0aGlzLnNldFVzYWdlKER5bmFtaWNEcmF3VXNhZ2UpO319fSk7QnVmZmVyQXR0cmlidXRlLnByb3RvdHlwZS5zZXREeW5hbWljPWZ1bmN0aW9uKHZhbHVlKXtjb25zb2xlLndhcm4oJ1RIUkVFLkJ1ZmZlckF0dHJpYnV0ZTogLnNldER5bmFtaWMoKSBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgLnNldFVzYWdlKCkgaW5zdGVhZC4nKTt0aGlzLnNldFVzYWdlKHZhbHVlPT09dHJ1ZT9EeW5hbWljRHJhd1VzYWdlOlN0YXRpY0RyYXdVc2FnZSk7cmV0dXJuIHRoaXM7fTtCdWZmZXJBdHRyaWJ1dGUucHJvdG90eXBlLmNvcHlJbmRpY2VzQXJyYXk9ZnVuY3Rpb24vKiBpbmRpY2VzICovKCl7Y29uc29sZS5lcnJvcignVEhSRUUuQnVmZmVyQXR0cmlidXRlOiAuY29weUluZGljZXNBcnJheSgpIGhhcyBiZWVuIHJlbW92ZWQuJyk7fSxCdWZmZXJBdHRyaWJ1dGUucHJvdG90eXBlLnNldEFycmF5PWZ1bmN0aW9uLyogYXJyYXkgKi8oKXtjb25zb2xlLmVycm9yKCdUSFJFRS5CdWZmZXJBdHRyaWJ1dGU6IC5zZXRBcnJheSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgQnVmZmVyR2VvbWV0cnkgLnNldEF0dHJpYnV0ZSB0byByZXBsYWNlL3Jlc2l6ZSBhdHRyaWJ1dGUgYnVmZmVycycpO307Ly8KQnVmZmVyR2VvbWV0cnkucHJvdG90eXBlLmFkZEluZGV4PWZ1bmN0aW9uKGluZGV4KXtjb25zb2xlLndhcm4oJ1RIUkVFLkJ1ZmZlckdlb21ldHJ5OiAuYWRkSW5kZXgoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5zZXRJbmRleCgpLicpO3RoaXMuc2V0SW5kZXgoaW5kZXgpO307QnVmZmVyR2VvbWV0cnkucHJvdG90eXBlLmFkZEF0dHJpYnV0ZT1mdW5jdGlvbihuYW1lLGF0dHJpYnV0ZSl7Y29uc29sZS53YXJuKCdUSFJFRS5CdWZmZXJHZW9tZXRyeTogLmFkZEF0dHJpYnV0ZSgpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLnNldEF0dHJpYnV0ZSgpLicpO2lmKCEoYXR0cmlidXRlJiZhdHRyaWJ1dGUuaXNCdWZmZXJBdHRyaWJ1dGUpJiYhKGF0dHJpYnV0ZSYmYXR0cmlidXRlLmlzSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGUpKXtjb25zb2xlLndhcm4oJ1RIUkVFLkJ1ZmZlckdlb21ldHJ5OiAuYWRkQXR0cmlidXRlKCkgbm93IGV4cGVjdHMgKCBuYW1lLCBhdHRyaWJ1dGUgKS4nKTtyZXR1cm4gdGhpcy5zZXRBdHRyaWJ1dGUobmFtZSxuZXcgQnVmZmVyQXR0cmlidXRlKGFyZ3VtZW50c1sxXSxhcmd1bWVudHNbMl0pKTt9aWYobmFtZT09PSdpbmRleCcpe2NvbnNvbGUud2FybignVEhSRUUuQnVmZmVyR2VvbWV0cnkuYWRkQXR0cmlidXRlOiBVc2UgLnNldEluZGV4KCkgZm9yIGluZGV4IGF0dHJpYnV0ZS4nKTt0aGlzLnNldEluZGV4KGF0dHJpYnV0ZSk7cmV0dXJuIHRoaXM7fXJldHVybiB0aGlzLnNldEF0dHJpYnV0ZShuYW1lLGF0dHJpYnV0ZSk7fTtCdWZmZXJHZW9tZXRyeS5wcm90b3R5cGUuYWRkRHJhd0NhbGw9ZnVuY3Rpb24oc3RhcnQsY291bnQsaW5kZXhPZmZzZXQpe2lmKGluZGV4T2Zmc2V0IT09dW5kZWZpbmVkKXtjb25zb2xlLndhcm4oJ1RIUkVFLkJ1ZmZlckdlb21ldHJ5OiAuYWRkRHJhd0NhbGwoKSBubyBsb25nZXIgc3VwcG9ydHMgaW5kZXhPZmZzZXQuJyk7fWNvbnNvbGUud2FybignVEhSRUUuQnVmZmVyR2VvbWV0cnk6IC5hZGREcmF3Q2FsbCgpIGlzIG5vdyAuYWRkR3JvdXAoKS4nKTt0aGlzLmFkZEdyb3VwKHN0YXJ0LGNvdW50KTt9O0J1ZmZlckdlb21ldHJ5LnByb3RvdHlwZS5jbGVhckRyYXdDYWxscz1mdW5jdGlvbigpe2NvbnNvbGUud2FybignVEhSRUUuQnVmZmVyR2VvbWV0cnk6IC5jbGVhckRyYXdDYWxscygpIGlzIG5vdyAuY2xlYXJHcm91cHMoKS4nKTt0aGlzLmNsZWFyR3JvdXBzKCk7fTtCdWZmZXJHZW9tZXRyeS5wcm90b3R5cGUuY29tcHV0ZU9mZnNldHM9ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oJ1RIUkVFLkJ1ZmZlckdlb21ldHJ5OiAuY29tcHV0ZU9mZnNldHMoKSBoYXMgYmVlbiByZW1vdmVkLicpO307QnVmZmVyR2VvbWV0cnkucHJvdG90eXBlLnJlbW92ZUF0dHJpYnV0ZT1mdW5jdGlvbihuYW1lKXtjb25zb2xlLndhcm4oJ1RIUkVFLkJ1ZmZlckdlb21ldHJ5OiAucmVtb3ZlQXR0cmlidXRlKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuZGVsZXRlQXR0cmlidXRlKCkuJyk7cmV0dXJuIHRoaXMuZGVsZXRlQXR0cmlidXRlKG5hbWUpO307QnVmZmVyR2VvbWV0cnkucHJvdG90eXBlLmFwcGx5TWF0cml4PWZ1bmN0aW9uKG1hdHJpeCl7Y29uc29sZS53YXJuKCdUSFJFRS5CdWZmZXJHZW9tZXRyeTogLmFwcGx5TWF0cml4KCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuYXBwbHlNYXRyaXg0KCkuJyk7cmV0dXJuIHRoaXMuYXBwbHlNYXRyaXg0KG1hdHJpeCk7fTtPYmplY3QuZGVmaW5lUHJvcGVydGllcyhCdWZmZXJHZW9tZXRyeS5wcm90b3R5cGUse2RyYXdjYWxsczp7Z2V0OmZ1bmN0aW9uIGdldCgpe2NvbnNvbGUuZXJyb3IoJ1RIUkVFLkJ1ZmZlckdlb21ldHJ5OiAuZHJhd2NhbGxzIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmdyb3Vwcy4nKTtyZXR1cm4gdGhpcy5ncm91cHM7fX0sb2Zmc2V0czp7Z2V0OmZ1bmN0aW9uIGdldCgpe2NvbnNvbGUud2FybignVEhSRUUuQnVmZmVyR2VvbWV0cnk6IC5vZmZzZXRzIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmdyb3Vwcy4nKTtyZXR1cm4gdGhpcy5ncm91cHM7fX19KTtJbnRlcmxlYXZlZEJ1ZmZlci5wcm90b3R5cGUuc2V0RHluYW1pYz1mdW5jdGlvbih2YWx1ZSl7Y29uc29sZS53YXJuKCdUSFJFRS5JbnRlcmxlYXZlZEJ1ZmZlcjogLnNldER5bmFtaWMoKSBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgLnNldFVzYWdlKCkgaW5zdGVhZC4nKTt0aGlzLnNldFVzYWdlKHZhbHVlPT09dHJ1ZT9EeW5hbWljRHJhd1VzYWdlOlN0YXRpY0RyYXdVc2FnZSk7cmV0dXJuIHRoaXM7fTtJbnRlcmxlYXZlZEJ1ZmZlci5wcm90b3R5cGUuc2V0QXJyYXk9ZnVuY3Rpb24vKiBhcnJheSAqLygpe2NvbnNvbGUuZXJyb3IoJ1RIUkVFLkludGVybGVhdmVkQnVmZmVyOiAuc2V0QXJyYXkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIEJ1ZmZlckdlb21ldHJ5IC5zZXRBdHRyaWJ1dGUgdG8gcmVwbGFjZS9yZXNpemUgYXR0cmlidXRlIGJ1ZmZlcnMnKTt9Oy8vCkV4dHJ1ZGVHZW9tZXRyeS5wcm90b3R5cGUuZ2V0QXJyYXlzPWZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcignVEhSRUUuRXh0cnVkZUdlb21ldHJ5OiAuZ2V0QXJyYXlzKCkgaGFzIGJlZW4gcmVtb3ZlZC4nKTt9O0V4dHJ1ZGVHZW9tZXRyeS5wcm90b3R5cGUuYWRkU2hhcGVMaXN0PWZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcignVEhSRUUuRXh0cnVkZUdlb21ldHJ5OiAuYWRkU2hhcGVMaXN0KCkgaGFzIGJlZW4gcmVtb3ZlZC4nKTt9O0V4dHJ1ZGVHZW9tZXRyeS5wcm90b3R5cGUuYWRkU2hhcGU9ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKCdUSFJFRS5FeHRydWRlR2VvbWV0cnk6IC5hZGRTaGFwZSgpIGhhcyBiZWVuIHJlbW92ZWQuJyk7fTsvLwpTY2VuZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoJ1RIUkVFLlNjZW5lOiAuZGlzcG9zZSgpIGhhcyBiZWVuIHJlbW92ZWQuJyk7fTsvLwpVbmlmb3JtLnByb3RvdHlwZS5vblVwZGF0ZT1mdW5jdGlvbigpe2NvbnNvbGUud2FybignVEhSRUUuVW5pZm9ybTogLm9uVXBkYXRlKCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIG9iamVjdC5vbkJlZm9yZVJlbmRlcigpIGluc3RlYWQuJyk7cmV0dXJuIHRoaXM7fTsvLwpPYmplY3QuZGVmaW5lUHJvcGVydGllcyhNYXRlcmlhbC5wcm90b3R5cGUse3dyYXBBcm91bmQ6e2dldDpmdW5jdGlvbiBnZXQoKXtjb25zb2xlLndhcm4oJ1RIUkVFLk1hdGVyaWFsOiAud3JhcEFyb3VuZCBoYXMgYmVlbiByZW1vdmVkLicpO30sc2V0OmZ1bmN0aW9uIHNldCgpe2NvbnNvbGUud2FybignVEhSRUUuTWF0ZXJpYWw6IC53cmFwQXJvdW5kIGhhcyBiZWVuIHJlbW92ZWQuJyk7fX0sb3ZlcmRyYXc6e2dldDpmdW5jdGlvbiBnZXQoKXtjb25zb2xlLndhcm4oJ1RIUkVFLk1hdGVyaWFsOiAub3ZlcmRyYXcgaGFzIGJlZW4gcmVtb3ZlZC4nKTt9LHNldDpmdW5jdGlvbiBzZXQoKXtjb25zb2xlLndhcm4oJ1RIUkVFLk1hdGVyaWFsOiAub3ZlcmRyYXcgaGFzIGJlZW4gcmVtb3ZlZC4nKTt9fSx3cmFwUkdCOntnZXQ6ZnVuY3Rpb24gZ2V0KCl7Y29uc29sZS53YXJuKCdUSFJFRS5NYXRlcmlhbDogLndyYXBSR0IgaGFzIGJlZW4gcmVtb3ZlZC4nKTtyZXR1cm4gbmV3IENvbG9yKCk7fX0sc2hhZGluZzp7Z2V0OmZ1bmN0aW9uIGdldCgpe2NvbnNvbGUuZXJyb3IoJ1RIUkVFLicrdGhpcy50eXBlKyc6IC5zaGFkaW5nIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSB0aGUgYm9vbGVhbiAuZmxhdFNoYWRpbmcgaW5zdGVhZC4nKTt9LHNldDpmdW5jdGlvbiBzZXQodmFsdWUpe2NvbnNvbGUud2FybignVEhSRUUuJyt0aGlzLnR5cGUrJzogLnNoYWRpbmcgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIHRoZSBib29sZWFuIC5mbGF0U2hhZGluZyBpbnN0ZWFkLicpO3RoaXMuZmxhdFNoYWRpbmc9dmFsdWU9PT1GbGF0U2hhZGluZzt9fSxzdGVuY2lsTWFzazp7Z2V0OmZ1bmN0aW9uIGdldCgpe2NvbnNvbGUud2FybignVEhSRUUuJyt0aGlzLnR5cGUrJzogLnN0ZW5jaWxNYXNrIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSAuc3RlbmNpbEZ1bmNNYXNrIGluc3RlYWQuJyk7cmV0dXJuIHRoaXMuc3RlbmNpbEZ1bmNNYXNrO30sc2V0OmZ1bmN0aW9uIHNldCh2YWx1ZSl7Y29uc29sZS53YXJuKCdUSFJFRS4nK3RoaXMudHlwZSsnOiAuc3RlbmNpbE1hc2sgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIC5zdGVuY2lsRnVuY01hc2sgaW5zdGVhZC4nKTt0aGlzLnN0ZW5jaWxGdW5jTWFzaz12YWx1ZTt9fSx2ZXJ0ZXhUYW5nZW50czp7Z2V0OmZ1bmN0aW9uIGdldCgpe2NvbnNvbGUud2FybignVEhSRUUuJyt0aGlzLnR5cGUrJzogLnZlcnRleFRhbmdlbnRzIGhhcyBiZWVuIHJlbW92ZWQuJyk7fSxzZXQ6ZnVuY3Rpb24gc2V0KCl7Y29uc29sZS53YXJuKCdUSFJFRS4nK3RoaXMudHlwZSsnOiAudmVydGV4VGFuZ2VudHMgaGFzIGJlZW4gcmVtb3ZlZC4nKTt9fX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFNoYWRlck1hdGVyaWFsLnByb3RvdHlwZSx7ZGVyaXZhdGl2ZXM6e2dldDpmdW5jdGlvbiBnZXQoKXtjb25zb2xlLndhcm4oJ1RIUkVFLlNoYWRlck1hdGVyaWFsOiAuZGVyaXZhdGl2ZXMgaGFzIGJlZW4gbW92ZWQgdG8gLmV4dGVuc2lvbnMuZGVyaXZhdGl2ZXMuJyk7cmV0dXJuIHRoaXMuZXh0ZW5zaW9ucy5kZXJpdmF0aXZlczt9LHNldDpmdW5jdGlvbiBzZXQodmFsdWUpe2NvbnNvbGUud2FybignVEhSRUUuIFNoYWRlck1hdGVyaWFsOiAuZGVyaXZhdGl2ZXMgaGFzIGJlZW4gbW92ZWQgdG8gLmV4dGVuc2lvbnMuZGVyaXZhdGl2ZXMuJyk7dGhpcy5leHRlbnNpb25zLmRlcml2YXRpdmVzPXZhbHVlO319fSk7Ly8KV2ViR0xSZW5kZXJlci5wcm90b3R5cGUuY2xlYXJUYXJnZXQ9ZnVuY3Rpb24ocmVuZGVyVGFyZ2V0LGNvbG9yLGRlcHRoLHN0ZW5jaWwpe2NvbnNvbGUud2FybignVEhSRUUuV2ViR0xSZW5kZXJlcjogLmNsZWFyVGFyZ2V0KCkgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIC5zZXRSZW5kZXJUYXJnZXQoKSBhbmQgLmNsZWFyKCkgaW5zdGVhZC4nKTt0aGlzLnNldFJlbmRlclRhcmdldChyZW5kZXJUYXJnZXQpO3RoaXMuY2xlYXIoY29sb3IsZGVwdGgsc3RlbmNpbCk7fTtXZWJHTFJlbmRlcmVyLnByb3RvdHlwZS5hbmltYXRlPWZ1bmN0aW9uKGNhbGxiYWNrKXtjb25zb2xlLndhcm4oJ1RIUkVFLldlYkdMUmVuZGVyZXI6IC5hbmltYXRlKCkgaXMgbm93IC5zZXRBbmltYXRpb25Mb29wKCkuJyk7dGhpcy5zZXRBbmltYXRpb25Mb29wKGNhbGxiYWNrKTt9O1dlYkdMUmVuZGVyZXIucHJvdG90eXBlLmdldEN1cnJlbnRSZW5kZXJUYXJnZXQ9ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oJ1RIUkVFLldlYkdMUmVuZGVyZXI6IC5nZXRDdXJyZW50UmVuZGVyVGFyZ2V0KCkgaXMgbm93IC5nZXRSZW5kZXJUYXJnZXQoKS4nKTtyZXR1cm4gdGhpcy5nZXRSZW5kZXJUYXJnZXQoKTt9O1dlYkdMUmVuZGVyZXIucHJvdG90eXBlLmdldE1heEFuaXNvdHJvcHk9ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oJ1RIUkVFLldlYkdMUmVuZGVyZXI6IC5nZXRNYXhBbmlzb3Ryb3B5KCkgaXMgbm93IC5jYXBhYmlsaXRpZXMuZ2V0TWF4QW5pc290cm9weSgpLicpO3JldHVybiB0aGlzLmNhcGFiaWxpdGllcy5nZXRNYXhBbmlzb3Ryb3B5KCk7fTtXZWJHTFJlbmRlcmVyLnByb3RvdHlwZS5nZXRQcmVjaXNpb249ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oJ1RIUkVFLldlYkdMUmVuZGVyZXI6IC5nZXRQcmVjaXNpb24oKSBpcyBub3cgLmNhcGFiaWxpdGllcy5wcmVjaXNpb24uJyk7cmV0dXJuIHRoaXMuY2FwYWJpbGl0aWVzLnByZWNpc2lvbjt9O1dlYkdMUmVuZGVyZXIucHJvdG90eXBlLnJlc2V0R0xTdGF0ZT1mdW5jdGlvbigpe2NvbnNvbGUud2FybignVEhSRUUuV2ViR0xSZW5kZXJlcjogLnJlc2V0R0xTdGF0ZSgpIGlzIG5vdyAuc3RhdGUucmVzZXQoKS4nKTtyZXR1cm4gdGhpcy5zdGF0ZS5yZXNldCgpO307V2ViR0xSZW5kZXJlci5wcm90b3R5cGUuc3VwcG9ydHNGbG9hdFRleHR1cmVzPWZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFJlbmRlcmVyOiAuc3VwcG9ydHNGbG9hdFRleHR1cmVzKCkgaXMgbm93IC5leHRlbnNpb25zLmdldCggXCdPRVNfdGV4dHVyZV9mbG9hdFwnICkuJyk7cmV0dXJuIHRoaXMuZXh0ZW5zaW9ucy5nZXQoJ09FU190ZXh0dXJlX2Zsb2F0Jyk7fTtXZWJHTFJlbmRlcmVyLnByb3RvdHlwZS5zdXBwb3J0c0hhbGZGbG9hdFRleHR1cmVzPWZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFJlbmRlcmVyOiAuc3VwcG9ydHNIYWxmRmxvYXRUZXh0dXJlcygpIGlzIG5vdyAuZXh0ZW5zaW9ucy5nZXQoIFwnT0VTX3RleHR1cmVfaGFsZl9mbG9hdFwnICkuJyk7cmV0dXJuIHRoaXMuZXh0ZW5zaW9ucy5nZXQoJ09FU190ZXh0dXJlX2hhbGZfZmxvYXQnKTt9O1dlYkdMUmVuZGVyZXIucHJvdG90eXBlLnN1cHBvcnRzU3RhbmRhcmREZXJpdmF0aXZlcz1mdW5jdGlvbigpe2NvbnNvbGUud2FybignVEhSRUUuV2ViR0xSZW5kZXJlcjogLnN1cHBvcnRzU3RhbmRhcmREZXJpdmF0aXZlcygpIGlzIG5vdyAuZXh0ZW5zaW9ucy5nZXQoIFwnT0VTX3N0YW5kYXJkX2Rlcml2YXRpdmVzXCcgKS4nKTtyZXR1cm4gdGhpcy5leHRlbnNpb25zLmdldCgnT0VTX3N0YW5kYXJkX2Rlcml2YXRpdmVzJyk7fTtXZWJHTFJlbmRlcmVyLnByb3RvdHlwZS5zdXBwb3J0c0NvbXByZXNzZWRUZXh0dXJlUzNUQz1mdW5jdGlvbigpe2NvbnNvbGUud2FybignVEhSRUUuV2ViR0xSZW5kZXJlcjogLnN1cHBvcnRzQ29tcHJlc3NlZFRleHR1cmVTM1RDKCkgaXMgbm93IC5leHRlbnNpb25zLmdldCggXCdXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0Y1wnICkuJyk7cmV0dXJuIHRoaXMuZXh0ZW5zaW9ucy5nZXQoJ1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjJyk7fTtXZWJHTFJlbmRlcmVyLnByb3RvdHlwZS5zdXBwb3J0c0NvbXByZXNzZWRUZXh0dXJlUFZSVEM9ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oJ1RIUkVFLldlYkdMUmVuZGVyZXI6IC5zdXBwb3J0c0NvbXByZXNzZWRUZXh0dXJlUFZSVEMoKSBpcyBub3cgLmV4dGVuc2lvbnMuZ2V0KCBcJ1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9wdnJ0Y1wnICkuJyk7cmV0dXJuIHRoaXMuZXh0ZW5zaW9ucy5nZXQoJ1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9wdnJ0YycpO307V2ViR0xSZW5kZXJlci5wcm90b3R5cGUuc3VwcG9ydHNCbGVuZE1pbk1heD1mdW5jdGlvbigpe2NvbnNvbGUud2FybignVEhSRUUuV2ViR0xSZW5kZXJlcjogLnN1cHBvcnRzQmxlbmRNaW5NYXgoKSBpcyBub3cgLmV4dGVuc2lvbnMuZ2V0KCBcJ0VYVF9ibGVuZF9taW5tYXhcJyApLicpO3JldHVybiB0aGlzLmV4dGVuc2lvbnMuZ2V0KCdFWFRfYmxlbmRfbWlubWF4Jyk7fTtXZWJHTFJlbmRlcmVyLnByb3RvdHlwZS5zdXBwb3J0c1ZlcnRleFRleHR1cmVzPWZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFJlbmRlcmVyOiAuc3VwcG9ydHNWZXJ0ZXhUZXh0dXJlcygpIGlzIG5vdyAuY2FwYWJpbGl0aWVzLnZlcnRleFRleHR1cmVzLicpO3JldHVybiB0aGlzLmNhcGFiaWxpdGllcy52ZXJ0ZXhUZXh0dXJlczt9O1dlYkdMUmVuZGVyZXIucHJvdG90eXBlLnN1cHBvcnRzSW5zdGFuY2VkQXJyYXlzPWZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFJlbmRlcmVyOiAuc3VwcG9ydHNJbnN0YW5jZWRBcnJheXMoKSBpcyBub3cgLmV4dGVuc2lvbnMuZ2V0KCBcJ0FOR0xFX2luc3RhbmNlZF9hcnJheXNcJyApLicpO3JldHVybiB0aGlzLmV4dGVuc2lvbnMuZ2V0KCdBTkdMRV9pbnN0YW5jZWRfYXJyYXlzJyk7fTtXZWJHTFJlbmRlcmVyLnByb3RvdHlwZS5lbmFibGVTY2lzc29yVGVzdD1mdW5jdGlvbihib29sZWFuKXtjb25zb2xlLndhcm4oJ1RIUkVFLldlYkdMUmVuZGVyZXI6IC5lbmFibGVTY2lzc29yVGVzdCgpIGlzIG5vdyAuc2V0U2Npc3NvclRlc3QoKS4nKTt0aGlzLnNldFNjaXNzb3JUZXN0KGJvb2xlYW4pO307V2ViR0xSZW5kZXJlci5wcm90b3R5cGUuaW5pdE1hdGVyaWFsPWZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFJlbmRlcmVyOiAuaW5pdE1hdGVyaWFsKCkgaGFzIGJlZW4gcmVtb3ZlZC4nKTt9O1dlYkdMUmVuZGVyZXIucHJvdG90eXBlLmFkZFByZVBsdWdpbj1mdW5jdGlvbigpe2NvbnNvbGUud2FybignVEhSRUUuV2ViR0xSZW5kZXJlcjogLmFkZFByZVBsdWdpbigpIGhhcyBiZWVuIHJlbW92ZWQuJyk7fTtXZWJHTFJlbmRlcmVyLnByb3RvdHlwZS5hZGRQb3N0UGx1Z2luPWZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFJlbmRlcmVyOiAuYWRkUG9zdFBsdWdpbigpIGhhcyBiZWVuIHJlbW92ZWQuJyk7fTtXZWJHTFJlbmRlcmVyLnByb3RvdHlwZS51cGRhdGVTaGFkb3dNYXA9ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oJ1RIUkVFLldlYkdMUmVuZGVyZXI6IC51cGRhdGVTaGFkb3dNYXAoKSBoYXMgYmVlbiByZW1vdmVkLicpO307V2ViR0xSZW5kZXJlci5wcm90b3R5cGUuc2V0RmFjZUN1bGxpbmc9ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oJ1RIUkVFLldlYkdMUmVuZGVyZXI6IC5zZXRGYWNlQ3VsbGluZygpIGhhcyBiZWVuIHJlbW92ZWQuJyk7fTtXZWJHTFJlbmRlcmVyLnByb3RvdHlwZS5hbGxvY1RleHR1cmVVbml0PWZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFJlbmRlcmVyOiAuYWxsb2NUZXh0dXJlVW5pdCgpIGhhcyBiZWVuIHJlbW92ZWQuJyk7fTtXZWJHTFJlbmRlcmVyLnByb3RvdHlwZS5zZXRUZXh0dXJlPWZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFJlbmRlcmVyOiAuc2V0VGV4dHVyZSgpIGhhcyBiZWVuIHJlbW92ZWQuJyk7fTtXZWJHTFJlbmRlcmVyLnByb3RvdHlwZS5zZXRUZXh0dXJlMkQ9ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oJ1RIUkVFLldlYkdMUmVuZGVyZXI6IC5zZXRUZXh0dXJlMkQoKSBoYXMgYmVlbiByZW1vdmVkLicpO307V2ViR0xSZW5kZXJlci5wcm90b3R5cGUuc2V0VGV4dHVyZUN1YmU9ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oJ1RIUkVFLldlYkdMUmVuZGVyZXI6IC5zZXRUZXh0dXJlQ3ViZSgpIGhhcyBiZWVuIHJlbW92ZWQuJyk7fTtXZWJHTFJlbmRlcmVyLnByb3RvdHlwZS5nZXRBY3RpdmVNaXBNYXBMZXZlbD1mdW5jdGlvbigpe2NvbnNvbGUud2FybignVEhSRUUuV2ViR0xSZW5kZXJlcjogLmdldEFjdGl2ZU1pcE1hcExldmVsKCkgaXMgbm93IC5nZXRBY3RpdmVNaXBtYXBMZXZlbCgpLicpO3JldHVybiB0aGlzLmdldEFjdGl2ZU1pcG1hcExldmVsKCk7fTtPYmplY3QuZGVmaW5lUHJvcGVydGllcyhXZWJHTFJlbmRlcmVyLnByb3RvdHlwZSx7c2hhZG93TWFwRW5hYmxlZDp7Z2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiB0aGlzLnNoYWRvd01hcC5lbmFibGVkO30sc2V0OmZ1bmN0aW9uIHNldCh2YWx1ZSl7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFJlbmRlcmVyOiAuc2hhZG93TWFwRW5hYmxlZCBpcyBub3cgLnNoYWRvd01hcC5lbmFibGVkLicpO3RoaXMuc2hhZG93TWFwLmVuYWJsZWQ9dmFsdWU7fX0sc2hhZG93TWFwVHlwZTp7Z2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiB0aGlzLnNoYWRvd01hcC50eXBlO30sc2V0OmZ1bmN0aW9uIHNldCh2YWx1ZSl7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFJlbmRlcmVyOiAuc2hhZG93TWFwVHlwZSBpcyBub3cgLnNoYWRvd01hcC50eXBlLicpO3RoaXMuc2hhZG93TWFwLnR5cGU9dmFsdWU7fX0sc2hhZG93TWFwQ3VsbEZhY2U6e2dldDpmdW5jdGlvbiBnZXQoKXtjb25zb2xlLndhcm4oJ1RIUkVFLldlYkdMUmVuZGVyZXI6IC5zaGFkb3dNYXBDdWxsRmFjZSBoYXMgYmVlbiByZW1vdmVkLiBTZXQgTWF0ZXJpYWwuc2hhZG93U2lkZSBpbnN0ZWFkLicpO3JldHVybiB1bmRlZmluZWQ7fSxzZXQ6ZnVuY3Rpb24gc2V0KC8qIHZhbHVlICovKXtjb25zb2xlLndhcm4oJ1RIUkVFLldlYkdMUmVuZGVyZXI6IC5zaGFkb3dNYXBDdWxsRmFjZSBoYXMgYmVlbiByZW1vdmVkLiBTZXQgTWF0ZXJpYWwuc2hhZG93U2lkZSBpbnN0ZWFkLicpO319LGNvbnRleHQ6e2dldDpmdW5jdGlvbiBnZXQoKXtjb25zb2xlLndhcm4oJ1RIUkVFLldlYkdMUmVuZGVyZXI6IC5jb250ZXh0IGhhcyBiZWVuIHJlbW92ZWQuIFVzZSAuZ2V0Q29udGV4dCgpIGluc3RlYWQuJyk7cmV0dXJuIHRoaXMuZ2V0Q29udGV4dCgpO319LHZyOntnZXQ6ZnVuY3Rpb24gZ2V0KCl7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFJlbmRlcmVyOiAudnIgaGFzIGJlZW4gcmVuYW1lZCB0byAueHInKTtyZXR1cm4gdGhpcy54cjt9fSxnYW1tYUlucHV0OntnZXQ6ZnVuY3Rpb24gZ2V0KCl7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFJlbmRlcmVyOiAuZ2FtbWFJbnB1dCBoYXMgYmVlbiByZW1vdmVkLiBTZXQgdGhlIGVuY29kaW5nIGZvciB0ZXh0dXJlcyB2aWEgVGV4dHVyZS5lbmNvZGluZyBpbnN0ZWFkLicpO3JldHVybiBmYWxzZTt9LHNldDpmdW5jdGlvbiBzZXQoKXtjb25zb2xlLndhcm4oJ1RIUkVFLldlYkdMUmVuZGVyZXI6IC5nYW1tYUlucHV0IGhhcyBiZWVuIHJlbW92ZWQuIFNldCB0aGUgZW5jb2RpbmcgZm9yIHRleHR1cmVzIHZpYSBUZXh0dXJlLmVuY29kaW5nIGluc3RlYWQuJyk7fX0sZ2FtbWFPdXRwdXQ6e2dldDpmdW5jdGlvbiBnZXQoKXtjb25zb2xlLndhcm4oJ1RIUkVFLldlYkdMUmVuZGVyZXI6IC5nYW1tYU91dHB1dCBoYXMgYmVlbiByZW1vdmVkLiBTZXQgV2ViR0xSZW5kZXJlci5vdXRwdXRFbmNvZGluZyBpbnN0ZWFkLicpO3JldHVybiBmYWxzZTt9LHNldDpmdW5jdGlvbiBzZXQodmFsdWUpe2NvbnNvbGUud2FybignVEhSRUUuV2ViR0xSZW5kZXJlcjogLmdhbW1hT3V0cHV0IGhhcyBiZWVuIHJlbW92ZWQuIFNldCBXZWJHTFJlbmRlcmVyLm91dHB1dEVuY29kaW5nIGluc3RlYWQuJyk7dGhpcy5vdXRwdXRFbmNvZGluZz12YWx1ZT09PXRydWU/c1JHQkVuY29kaW5nOkxpbmVhckVuY29kaW5nO319LHRvbmVNYXBwaW5nV2hpdGVQb2ludDp7Z2V0OmZ1bmN0aW9uIGdldCgpe2NvbnNvbGUud2FybignVEhSRUUuV2ViR0xSZW5kZXJlcjogLnRvbmVNYXBwaW5nV2hpdGVQb2ludCBoYXMgYmVlbiByZW1vdmVkLicpO3JldHVybiAxLjA7fSxzZXQ6ZnVuY3Rpb24gc2V0KCl7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFJlbmRlcmVyOiAudG9uZU1hcHBpbmdXaGl0ZVBvaW50IGhhcyBiZWVuIHJlbW92ZWQuJyk7fX0sZ2FtbWFGYWN0b3I6e2dldDpmdW5jdGlvbiBnZXQoKXtjb25zb2xlLndhcm4oJ1RIUkVFLldlYkdMUmVuZGVyZXI6IC5nYW1tYUZhY3RvciBoYXMgYmVlbiByZW1vdmVkLicpO3JldHVybiAyO30sc2V0OmZ1bmN0aW9uIHNldCgpe2NvbnNvbGUud2FybignVEhSRUUuV2ViR0xSZW5kZXJlcjogLmdhbW1hRmFjdG9yIGhhcyBiZWVuIHJlbW92ZWQuJyk7fX19KTtPYmplY3QuZGVmaW5lUHJvcGVydGllcyhXZWJHTFNoYWRvd01hcC5wcm90b3R5cGUse2N1bGxGYWNlOntnZXQ6ZnVuY3Rpb24gZ2V0KCl7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFJlbmRlcmVyOiAuc2hhZG93TWFwLmN1bGxGYWNlIGhhcyBiZWVuIHJlbW92ZWQuIFNldCBNYXRlcmlhbC5zaGFkb3dTaWRlIGluc3RlYWQuJyk7cmV0dXJuIHVuZGVmaW5lZDt9LHNldDpmdW5jdGlvbiBzZXQoLyogY3VsbEZhY2UgKi8pe2NvbnNvbGUud2FybignVEhSRUUuV2ViR0xSZW5kZXJlcjogLnNoYWRvd01hcC5jdWxsRmFjZSBoYXMgYmVlbiByZW1vdmVkLiBTZXQgTWF0ZXJpYWwuc2hhZG93U2lkZSBpbnN0ZWFkLicpO319LHJlbmRlclJldmVyc2VTaWRlZDp7Z2V0OmZ1bmN0aW9uIGdldCgpe2NvbnNvbGUud2FybignVEhSRUUuV2ViR0xSZW5kZXJlcjogLnNoYWRvd01hcC5yZW5kZXJSZXZlcnNlU2lkZWQgaGFzIGJlZW4gcmVtb3ZlZC4gU2V0IE1hdGVyaWFsLnNoYWRvd1NpZGUgaW5zdGVhZC4nKTtyZXR1cm4gdW5kZWZpbmVkO30sc2V0OmZ1bmN0aW9uIHNldCgpe2NvbnNvbGUud2FybignVEhSRUUuV2ViR0xSZW5kZXJlcjogLnNoYWRvd01hcC5yZW5kZXJSZXZlcnNlU2lkZWQgaGFzIGJlZW4gcmVtb3ZlZC4gU2V0IE1hdGVyaWFsLnNoYWRvd1NpZGUgaW5zdGVhZC4nKTt9fSxyZW5kZXJTaW5nbGVTaWRlZDp7Z2V0OmZ1bmN0aW9uIGdldCgpe2NvbnNvbGUud2FybignVEhSRUUuV2ViR0xSZW5kZXJlcjogLnNoYWRvd01hcC5yZW5kZXJTaW5nbGVTaWRlZCBoYXMgYmVlbiByZW1vdmVkLiBTZXQgTWF0ZXJpYWwuc2hhZG93U2lkZSBpbnN0ZWFkLicpO3JldHVybiB1bmRlZmluZWQ7fSxzZXQ6ZnVuY3Rpb24gc2V0KCl7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFJlbmRlcmVyOiAuc2hhZG93TWFwLnJlbmRlclNpbmdsZVNpZGVkIGhhcyBiZWVuIHJlbW92ZWQuIFNldCBNYXRlcmlhbC5zaGFkb3dTaWRlIGluc3RlYWQuJyk7fX19KTtmdW5jdGlvbiBXZWJHTFJlbmRlclRhcmdldEN1YmUod2lkdGgsaGVpZ2h0LG9wdGlvbnMpe2NvbnNvbGUud2FybignVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXRDdWJlKCB3aWR0aCwgaGVpZ2h0LCBvcHRpb25zICkgaXMgbm93IFdlYkdMQ3ViZVJlbmRlclRhcmdldCggc2l6ZSwgb3B0aW9ucyApLicpO3JldHVybiBuZXcgV2ViR0xDdWJlUmVuZGVyVGFyZ2V0KHdpZHRoLG9wdGlvbnMpO30vLwpPYmplY3QuZGVmaW5lUHJvcGVydGllcyhXZWJHTFJlbmRlclRhcmdldC5wcm90b3R5cGUse3dyYXBTOntnZXQ6ZnVuY3Rpb24gZ2V0KCl7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFJlbmRlclRhcmdldDogLndyYXBTIGlzIG5vdyAudGV4dHVyZS53cmFwUy4nKTtyZXR1cm4gdGhpcy50ZXh0dXJlLndyYXBTO30sc2V0OmZ1bmN0aW9uIHNldCh2YWx1ZSl7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFJlbmRlclRhcmdldDogLndyYXBTIGlzIG5vdyAudGV4dHVyZS53cmFwUy4nKTt0aGlzLnRleHR1cmUud3JhcFM9dmFsdWU7fX0sd3JhcFQ6e2dldDpmdW5jdGlvbiBnZXQoKXtjb25zb2xlLndhcm4oJ1RIUkVFLldlYkdMUmVuZGVyVGFyZ2V0OiAud3JhcFQgaXMgbm93IC50ZXh0dXJlLndyYXBULicpO3JldHVybiB0aGlzLnRleHR1cmUud3JhcFQ7fSxzZXQ6ZnVuY3Rpb24gc2V0KHZhbHVlKXtjb25zb2xlLndhcm4oJ1RIUkVFLldlYkdMUmVuZGVyVGFyZ2V0OiAud3JhcFQgaXMgbm93IC50ZXh0dXJlLndyYXBULicpO3RoaXMudGV4dHVyZS53cmFwVD12YWx1ZTt9fSxtYWdGaWx0ZXI6e2dldDpmdW5jdGlvbiBnZXQoKXtjb25zb2xlLndhcm4oJ1RIUkVFLldlYkdMUmVuZGVyVGFyZ2V0OiAubWFnRmlsdGVyIGlzIG5vdyAudGV4dHVyZS5tYWdGaWx0ZXIuJyk7cmV0dXJuIHRoaXMudGV4dHVyZS5tYWdGaWx0ZXI7fSxzZXQ6ZnVuY3Rpb24gc2V0KHZhbHVlKXtjb25zb2xlLndhcm4oJ1RIUkVFLldlYkdMUmVuZGVyVGFyZ2V0OiAubWFnRmlsdGVyIGlzIG5vdyAudGV4dHVyZS5tYWdGaWx0ZXIuJyk7dGhpcy50ZXh0dXJlLm1hZ0ZpbHRlcj12YWx1ZTt9fSxtaW5GaWx0ZXI6e2dldDpmdW5jdGlvbiBnZXQoKXtjb25zb2xlLndhcm4oJ1RIUkVFLldlYkdMUmVuZGVyVGFyZ2V0OiAubWluRmlsdGVyIGlzIG5vdyAudGV4dHVyZS5taW5GaWx0ZXIuJyk7cmV0dXJuIHRoaXMudGV4dHVyZS5taW5GaWx0ZXI7fSxzZXQ6ZnVuY3Rpb24gc2V0KHZhbHVlKXtjb25zb2xlLndhcm4oJ1RIUkVFLldlYkdMUmVuZGVyVGFyZ2V0OiAubWluRmlsdGVyIGlzIG5vdyAudGV4dHVyZS5taW5GaWx0ZXIuJyk7dGhpcy50ZXh0dXJlLm1pbkZpbHRlcj12YWx1ZTt9fSxhbmlzb3Ryb3B5OntnZXQ6ZnVuY3Rpb24gZ2V0KCl7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFJlbmRlclRhcmdldDogLmFuaXNvdHJvcHkgaXMgbm93IC50ZXh0dXJlLmFuaXNvdHJvcHkuJyk7cmV0dXJuIHRoaXMudGV4dHVyZS5hbmlzb3Ryb3B5O30sc2V0OmZ1bmN0aW9uIHNldCh2YWx1ZSl7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFJlbmRlclRhcmdldDogLmFuaXNvdHJvcHkgaXMgbm93IC50ZXh0dXJlLmFuaXNvdHJvcHkuJyk7dGhpcy50ZXh0dXJlLmFuaXNvdHJvcHk9dmFsdWU7fX0sb2Zmc2V0OntnZXQ6ZnVuY3Rpb24gZ2V0KCl7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFJlbmRlclRhcmdldDogLm9mZnNldCBpcyBub3cgLnRleHR1cmUub2Zmc2V0LicpO3JldHVybiB0aGlzLnRleHR1cmUub2Zmc2V0O30sc2V0OmZ1bmN0aW9uIHNldCh2YWx1ZSl7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFJlbmRlclRhcmdldDogLm9mZnNldCBpcyBub3cgLnRleHR1cmUub2Zmc2V0LicpO3RoaXMudGV4dHVyZS5vZmZzZXQ9dmFsdWU7fX0scmVwZWF0OntnZXQ6ZnVuY3Rpb24gZ2V0KCl7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFJlbmRlclRhcmdldDogLnJlcGVhdCBpcyBub3cgLnRleHR1cmUucmVwZWF0LicpO3JldHVybiB0aGlzLnRleHR1cmUucmVwZWF0O30sc2V0OmZ1bmN0aW9uIHNldCh2YWx1ZSl7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFJlbmRlclRhcmdldDogLnJlcGVhdCBpcyBub3cgLnRleHR1cmUucmVwZWF0LicpO3RoaXMudGV4dHVyZS5yZXBlYXQ9dmFsdWU7fX0sZm9ybWF0OntnZXQ6ZnVuY3Rpb24gZ2V0KCl7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFJlbmRlclRhcmdldDogLmZvcm1hdCBpcyBub3cgLnRleHR1cmUuZm9ybWF0LicpO3JldHVybiB0aGlzLnRleHR1cmUuZm9ybWF0O30sc2V0OmZ1bmN0aW9uIHNldCh2YWx1ZSl7Y29uc29sZS53YXJuKCdUSFJFRS5XZWJHTFJlbmRlclRhcmdldDogLmZvcm1hdCBpcyBub3cgLnRleHR1cmUuZm9ybWF0LicpO3RoaXMudGV4dHVyZS5mb3JtYXQ9dmFsdWU7fX0sdHlwZTp7Z2V0OmZ1bmN0aW9uIGdldCgpe2NvbnNvbGUud2FybignVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXQ6IC50eXBlIGlzIG5vdyAudGV4dHVyZS50eXBlLicpO3JldHVybiB0aGlzLnRleHR1cmUudHlwZTt9LHNldDpmdW5jdGlvbiBzZXQodmFsdWUpe2NvbnNvbGUud2FybignVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXQ6IC50eXBlIGlzIG5vdyAudGV4dHVyZS50eXBlLicpO3RoaXMudGV4dHVyZS50eXBlPXZhbHVlO319LGdlbmVyYXRlTWlwbWFwczp7Z2V0OmZ1bmN0aW9uIGdldCgpe2NvbnNvbGUud2FybignVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXQ6IC5nZW5lcmF0ZU1pcG1hcHMgaXMgbm93IC50ZXh0dXJlLmdlbmVyYXRlTWlwbWFwcy4nKTtyZXR1cm4gdGhpcy50ZXh0dXJlLmdlbmVyYXRlTWlwbWFwczt9LHNldDpmdW5jdGlvbiBzZXQodmFsdWUpe2NvbnNvbGUud2FybignVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXQ6IC5nZW5lcmF0ZU1pcG1hcHMgaXMgbm93IC50ZXh0dXJlLmdlbmVyYXRlTWlwbWFwcy4nKTt0aGlzLnRleHR1cmUuZ2VuZXJhdGVNaXBtYXBzPXZhbHVlO319fSk7Ly8KQXVkaW8ucHJvdG90eXBlLmxvYWQ9ZnVuY3Rpb24oZmlsZSl7Y29uc29sZS53YXJuKCdUSFJFRS5BdWRpbzogLmxvYWQgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIFRIUkVFLkF1ZGlvTG9hZGVyIGluc3RlYWQuJyk7dmFyIHNjb3BlPXRoaXM7dmFyIGF1ZGlvTG9hZGVyPW5ldyBBdWRpb0xvYWRlcigpO2F1ZGlvTG9hZGVyLmxvYWQoZmlsZSxmdW5jdGlvbihidWZmZXIpe3Njb3BlLnNldEJ1ZmZlcihidWZmZXIpO30pO3JldHVybiB0aGlzO307QXVkaW9BbmFseXNlci5wcm90b3R5cGUuZ2V0RGF0YT1mdW5jdGlvbigpe2NvbnNvbGUud2FybignVEhSRUUuQXVkaW9BbmFseXNlcjogLmdldERhdGEoKSBpcyBub3cgLmdldEZyZXF1ZW5jeURhdGEoKS4nKTtyZXR1cm4gdGhpcy5nZXRGcmVxdWVuY3lEYXRhKCk7fTsvLwpDdWJlQ2FtZXJhLnByb3RvdHlwZS51cGRhdGVDdWJlTWFwPWZ1bmN0aW9uKHJlbmRlcmVyLHNjZW5lKXtjb25zb2xlLndhcm4oJ1RIUkVFLkN1YmVDYW1lcmE6IC51cGRhdGVDdWJlTWFwKCkgaXMgbm93IC51cGRhdGUoKS4nKTtyZXR1cm4gdGhpcy51cGRhdGUocmVuZGVyZXIsc2NlbmUpO307Q3ViZUNhbWVyYS5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24ocmVuZGVyZXIsY29sb3IsZGVwdGgsc3RlbmNpbCl7Y29uc29sZS53YXJuKCdUSFJFRS5DdWJlQ2FtZXJhOiAuY2xlYXIoKSBpcyBub3cgLnJlbmRlclRhcmdldC5jbGVhcigpLicpO3JldHVybiB0aGlzLnJlbmRlclRhcmdldC5jbGVhcihyZW5kZXJlcixjb2xvcixkZXB0aCxzdGVuY2lsKTt9O0ltYWdlVXRpbHMuY3Jvc3NPcmlnaW49dW5kZWZpbmVkO0ltYWdlVXRpbHMubG9hZFRleHR1cmU9ZnVuY3Rpb24odXJsLG1hcHBpbmcsb25Mb2FkLG9uRXJyb3Ipe2NvbnNvbGUud2FybignVEhSRUUuSW1hZ2VVdGlscy5sb2FkVGV4dHVyZSBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgVEhSRUUuVGV4dHVyZUxvYWRlcigpIGluc3RlYWQuJyk7dmFyIGxvYWRlcj1uZXcgVGV4dHVyZUxvYWRlcigpO2xvYWRlci5zZXRDcm9zc09yaWdpbih0aGlzLmNyb3NzT3JpZ2luKTt2YXIgdGV4dHVyZT1sb2FkZXIubG9hZCh1cmwsb25Mb2FkLHVuZGVmaW5lZCxvbkVycm9yKTtpZihtYXBwaW5nKXRleHR1cmUubWFwcGluZz1tYXBwaW5nO3JldHVybiB0ZXh0dXJlO307SW1hZ2VVdGlscy5sb2FkVGV4dHVyZUN1YmU9ZnVuY3Rpb24odXJscyxtYXBwaW5nLG9uTG9hZCxvbkVycm9yKXtjb25zb2xlLndhcm4oJ1RIUkVFLkltYWdlVXRpbHMubG9hZFRleHR1cmVDdWJlIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSBUSFJFRS5DdWJlVGV4dHVyZUxvYWRlcigpIGluc3RlYWQuJyk7dmFyIGxvYWRlcj1uZXcgQ3ViZVRleHR1cmVMb2FkZXIoKTtsb2FkZXIuc2V0Q3Jvc3NPcmlnaW4odGhpcy5jcm9zc09yaWdpbik7dmFyIHRleHR1cmU9bG9hZGVyLmxvYWQodXJscyxvbkxvYWQsdW5kZWZpbmVkLG9uRXJyb3IpO2lmKG1hcHBpbmcpdGV4dHVyZS5tYXBwaW5nPW1hcHBpbmc7cmV0dXJuIHRleHR1cmU7fTtJbWFnZVV0aWxzLmxvYWRDb21wcmVzc2VkVGV4dHVyZT1mdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoJ1RIUkVFLkltYWdlVXRpbHMubG9hZENvbXByZXNzZWRUZXh0dXJlIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBUSFJFRS5ERFNMb2FkZXIgaW5zdGVhZC4nKTt9O0ltYWdlVXRpbHMubG9hZENvbXByZXNzZWRUZXh0dXJlQ3ViZT1mdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IoJ1RIUkVFLkltYWdlVXRpbHMubG9hZENvbXByZXNzZWRUZXh0dXJlQ3ViZSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgVEhSRUUuRERTTG9hZGVyIGluc3RlYWQuJyk7fTsvLwpmdW5jdGlvbiBDYW52YXNSZW5kZXJlcigpe2NvbnNvbGUuZXJyb3IoJ1RIUkVFLkNhbnZhc1JlbmRlcmVyIGhhcyBiZWVuIHJlbW92ZWQnKTt9Ly8KZnVuY3Rpb24gSlNPTkxvYWRlcigpe2NvbnNvbGUuZXJyb3IoJ1RIUkVFLkpTT05Mb2FkZXIgaGFzIGJlZW4gcmVtb3ZlZC4nKTt9Ly8KdmFyIFNjZW5lVXRpbHM9e2NyZWF0ZU11bHRpTWF0ZXJpYWxPYmplY3Q6ZnVuY3Rpb24gY3JlYXRlTXVsdGlNYXRlcmlhbE9iamVjdCgvKiBnZW9tZXRyeSwgbWF0ZXJpYWxzICovKXtjb25zb2xlLmVycm9yKCdUSFJFRS5TY2VuZVV0aWxzIGhhcyBiZWVuIG1vdmVkIHRvIC9leGFtcGxlcy9qc20vdXRpbHMvU2NlbmVVdGlscy5qcycpO30sZGV0YWNoOmZ1bmN0aW9uIGRldGFjaCgvKiBjaGlsZCwgcGFyZW50LCBzY2VuZSAqLyl7Y29uc29sZS5lcnJvcignVEhSRUUuU2NlbmVVdGlscyBoYXMgYmVlbiBtb3ZlZCB0byAvZXhhbXBsZXMvanNtL3V0aWxzL1NjZW5lVXRpbHMuanMnKTt9LGF0dGFjaDpmdW5jdGlvbiBhdHRhY2goLyogY2hpbGQsIHNjZW5lLCBwYXJlbnQgKi8pe2NvbnNvbGUuZXJyb3IoJ1RIUkVFLlNjZW5lVXRpbHMgaGFzIGJlZW4gbW92ZWQgdG8gL2V4YW1wbGVzL2pzbS91dGlscy9TY2VuZVV0aWxzLmpzJyk7fX07Ly8KZnVuY3Rpb24gTGVuc0ZsYXJlKCl7Y29uc29sZS5lcnJvcignVEhSRUUuTGVuc0ZsYXJlIGhhcyBiZWVuIG1vdmVkIHRvIC9leGFtcGxlcy9qc20vb2JqZWN0cy9MZW5zZmxhcmUuanMnKTt9Ly8KZnVuY3Rpb24gUGFyYW1ldHJpY0dlb21ldHJ5KCl7Y29uc29sZS5lcnJvcignVEhSRUUuUGFyYW1ldHJpY0dlb21ldHJ5IGhhcyBiZWVuIG1vdmVkIHRvIC9leGFtcGxlcy9qc20vZ2VvbWV0cmllcy9QYXJhbWV0cmljR2VvbWV0cnkuanMnKTtyZXR1cm4gbmV3IEJ1ZmZlckdlb21ldHJ5KCk7fWZ1bmN0aW9uIFRleHRHZW9tZXRyeSgpe2NvbnNvbGUuZXJyb3IoJ1RIUkVFLlRleHRHZW9tZXRyeSBoYXMgYmVlbiBtb3ZlZCB0byAvZXhhbXBsZXMvanNtL2dlb21ldHJpZXMvVGV4dEdlb21ldHJ5LmpzJyk7cmV0dXJuIG5ldyBCdWZmZXJHZW9tZXRyeSgpO31mdW5jdGlvbiBGb250TG9hZGVyKCl7Y29uc29sZS5lcnJvcignVEhSRUUuRm9udExvYWRlciBoYXMgYmVlbiBtb3ZlZCB0byAvZXhhbXBsZXMvanNtL2xvYWRlcnMvRm9udExvYWRlci5qcycpO31mdW5jdGlvbiBGb250KCl7Y29uc29sZS5lcnJvcignVEhSRUUuRm9udCBoYXMgYmVlbiBtb3ZlZCB0byAvZXhhbXBsZXMvanNtL2xvYWRlcnMvRm9udExvYWRlci5qcycpO31mdW5jdGlvbiBJbW1lZGlhdGVSZW5kZXJPYmplY3QoKXtjb25zb2xlLmVycm9yKCdUSFJFRS5JbW1lZGlhdGVSZW5kZXJPYmplY3QgaGFzIGJlZW4gcmVtb3ZlZC4nKTt9aWYodHlwZW9mIF9fVEhSRUVfREVWVE9PTFNfXyE9PSd1bmRlZmluZWQnKXtfX1RIUkVFX0RFVlRPT0xTX18uZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ3JlZ2lzdGVyJyx7ZGV0YWlsOntyZXZpc2lvbjpSRVZJU0lPTn19KSk7fWlmKHR5cGVvZiB3aW5kb3chPT0ndW5kZWZpbmVkJyl7aWYod2luZG93Ll9fVEhSRUVfXyl7Y29uc29sZS53YXJuKCdXQVJOSU5HOiBNdWx0aXBsZSBpbnN0YW5jZXMgb2YgVGhyZWUuanMgYmVpbmcgaW1wb3J0ZWQuJyk7fWVsc2V7d2luZG93Ll9fVEhSRUVfXz1SRVZJU0lPTjt9fWV4cG9ydHtBQ0VTRmlsbWljVG9uZU1hcHBpbmcsQWRkRXF1YXRpb24sQWRkT3BlcmF0aW9uLEFkZGl0aXZlQW5pbWF0aW9uQmxlbmRNb2RlLEFkZGl0aXZlQmxlbmRpbmcsQWxwaGFGb3JtYXQsQWx3YXlzRGVwdGgsQWx3YXlzU3RlbmNpbEZ1bmMsQW1iaWVudExpZ2h0LEFtYmllbnRMaWdodFByb2JlLEFuaW1hdGlvbkNsaXAsQW5pbWF0aW9uTG9hZGVyLEFuaW1hdGlvbk1peGVyLEFuaW1hdGlvbk9iamVjdEdyb3VwLEFuaW1hdGlvblV0aWxzLEFyY0N1cnZlLEFycmF5Q2FtZXJhLEFycm93SGVscGVyLEF1ZGlvLEF1ZGlvQW5hbHlzZXIsQXVkaW9Db250ZXh0LEF1ZGlvTGlzdGVuZXIsQXVkaW9Mb2FkZXIsQXhlc0hlbHBlcixBeGlzSGVscGVyLEJhY2tTaWRlLEJhc2ljRGVwdGhQYWNraW5nLEJhc2ljU2hhZG93TWFwLEJpbmFyeVRleHR1cmVMb2FkZXIsQm9uZSxCb29sZWFuS2V5ZnJhbWVUcmFjayxCb3VuZGluZ0JveEhlbHBlcixCb3gyLEJveDMsQm94M0hlbHBlcixCb3hHZW9tZXRyeSBhcyBCb3hCdWZmZXJHZW9tZXRyeSxCb3hHZW9tZXRyeSxCb3hIZWxwZXIsQnVmZmVyQXR0cmlidXRlLEJ1ZmZlckdlb21ldHJ5LEJ1ZmZlckdlb21ldHJ5TG9hZGVyLEJ5dGVUeXBlLENhY2hlLENhbWVyYSxDYW1lcmFIZWxwZXIsQ2FudmFzUmVuZGVyZXIsQ2FudmFzVGV4dHVyZSxDYXRtdWxsUm9tQ3VydmUzLENpbmVvblRvbmVNYXBwaW5nLENpcmNsZUdlb21ldHJ5IGFzIENpcmNsZUJ1ZmZlckdlb21ldHJ5LENpcmNsZUdlb21ldHJ5LENsYW1wVG9FZGdlV3JhcHBpbmcsQ2xvY2ssQ29sb3IsQ29sb3JLZXlmcmFtZVRyYWNrLENvbXByZXNzZWRUZXh0dXJlLENvbXByZXNzZWRUZXh0dXJlTG9hZGVyLENvbmVHZW9tZXRyeSBhcyBDb25lQnVmZmVyR2VvbWV0cnksQ29uZUdlb21ldHJ5LEN1YmVDYW1lcmEsQ3ViZVJlZmxlY3Rpb25NYXBwaW5nLEN1YmVSZWZyYWN0aW9uTWFwcGluZyxDdWJlVGV4dHVyZSxDdWJlVGV4dHVyZUxvYWRlcixDdWJlVVZSZWZsZWN0aW9uTWFwcGluZyxDdWJlVVZSZWZyYWN0aW9uTWFwcGluZyxDdWJpY0JlemllckN1cnZlLEN1YmljQmV6aWVyQ3VydmUzLEN1YmljSW50ZXJwb2xhbnQsQ3VsbEZhY2VCYWNrLEN1bGxGYWNlRnJvbnQsQ3VsbEZhY2VGcm9udEJhY2ssQ3VsbEZhY2VOb25lLEN1cnZlLEN1cnZlUGF0aCxDdXN0b21CbGVuZGluZyxDdXN0b21Ub25lTWFwcGluZyxDeWxpbmRlckdlb21ldHJ5IGFzIEN5bGluZGVyQnVmZmVyR2VvbWV0cnksQ3lsaW5kZXJHZW9tZXRyeSxDeWxpbmRyaWNhbCxEYXRhVGV4dHVyZSxEYXRhVGV4dHVyZTJEQXJyYXksRGF0YVRleHR1cmUzRCxEYXRhVGV4dHVyZUxvYWRlcixEYXRhVXRpbHMsRGVjcmVtZW50U3RlbmNpbE9wLERlY3JlbWVudFdyYXBTdGVuY2lsT3AsRGVmYXVsdExvYWRpbmdNYW5hZ2VyLERlcHRoRm9ybWF0LERlcHRoU3RlbmNpbEZvcm1hdCxEZXB0aFRleHR1cmUsRGlyZWN0aW9uYWxMaWdodCxEaXJlY3Rpb25hbExpZ2h0SGVscGVyLERpc2NyZXRlSW50ZXJwb2xhbnQsRG9kZWNhaGVkcm9uR2VvbWV0cnkgYXMgRG9kZWNhaGVkcm9uQnVmZmVyR2VvbWV0cnksRG9kZWNhaGVkcm9uR2VvbWV0cnksRG91YmxlU2lkZSxEc3RBbHBoYUZhY3RvcixEc3RDb2xvckZhY3RvcixEeW5hbWljQnVmZmVyQXR0cmlidXRlLER5bmFtaWNDb3B5VXNhZ2UsRHluYW1pY0RyYXdVc2FnZSxEeW5hbWljUmVhZFVzYWdlLEVkZ2VzR2VvbWV0cnksRWRnZXNIZWxwZXIsRWxsaXBzZUN1cnZlLEVxdWFsRGVwdGgsRXF1YWxTdGVuY2lsRnVuYyxFcXVpcmVjdGFuZ3VsYXJSZWZsZWN0aW9uTWFwcGluZyxFcXVpcmVjdGFuZ3VsYXJSZWZyYWN0aW9uTWFwcGluZyxFdWxlcixFdmVudERpc3BhdGNoZXIsRXh0cnVkZUdlb21ldHJ5IGFzIEV4dHJ1ZGVCdWZmZXJHZW9tZXRyeSxFeHRydWRlR2VvbWV0cnksRmFjZUNvbG9ycyxGaWxlTG9hZGVyLEZsYXRTaGFkaW5nLEZsb2F0MTZCdWZmZXJBdHRyaWJ1dGUsRmxvYXQzMkF0dHJpYnV0ZSxGbG9hdDMyQnVmZmVyQXR0cmlidXRlLEZsb2F0NjRBdHRyaWJ1dGUsRmxvYXQ2NEJ1ZmZlckF0dHJpYnV0ZSxGbG9hdFR5cGUsRm9nLEZvZ0V4cDIsRm9udCxGb250TG9hZGVyLEZyYW1lYnVmZmVyVGV4dHVyZSxGcm9udFNpZGUsRnJ1c3R1bSxHTEJ1ZmZlckF0dHJpYnV0ZSxHTFNMMSxHTFNMMyxHcmVhdGVyRGVwdGgsR3JlYXRlckVxdWFsRGVwdGgsR3JlYXRlckVxdWFsU3RlbmNpbEZ1bmMsR3JlYXRlclN0ZW5jaWxGdW5jLEdyaWRIZWxwZXIsR3JvdXAsSGFsZkZsb2F0VHlwZSxIZW1pc3BoZXJlTGlnaHQsSGVtaXNwaGVyZUxpZ2h0SGVscGVyLEhlbWlzcGhlcmVMaWdodFByb2JlLEljb3NhaGVkcm9uR2VvbWV0cnkgYXMgSWNvc2FoZWRyb25CdWZmZXJHZW9tZXRyeSxJY29zYWhlZHJvbkdlb21ldHJ5LEltYWdlQml0bWFwTG9hZGVyLEltYWdlTG9hZGVyLEltYWdlVXRpbHMsSW1tZWRpYXRlUmVuZGVyT2JqZWN0LEluY3JlbWVudFN0ZW5jaWxPcCxJbmNyZW1lbnRXcmFwU3RlbmNpbE9wLEluc3RhbmNlZEJ1ZmZlckF0dHJpYnV0ZSxJbnN0YW5jZWRCdWZmZXJHZW9tZXRyeSxJbnN0YW5jZWRJbnRlcmxlYXZlZEJ1ZmZlcixJbnN0YW5jZWRNZXNoLEludDE2QXR0cmlidXRlLEludDE2QnVmZmVyQXR0cmlidXRlLEludDMyQXR0cmlidXRlLEludDMyQnVmZmVyQXR0cmlidXRlLEludDhBdHRyaWJ1dGUsSW50OEJ1ZmZlckF0dHJpYnV0ZSxJbnRUeXBlLEludGVybGVhdmVkQnVmZmVyLEludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlLEludGVycG9sYW50LEludGVycG9sYXRlRGlzY3JldGUsSW50ZXJwb2xhdGVMaW5lYXIsSW50ZXJwb2xhdGVTbW9vdGgsSW52ZXJ0U3RlbmNpbE9wLEpTT05Mb2FkZXIsS2VlcFN0ZW5jaWxPcCxLZXlmcmFtZVRyYWNrLExPRCxMYXRoZUdlb21ldHJ5IGFzIExhdGhlQnVmZmVyR2VvbWV0cnksTGF0aGVHZW9tZXRyeSxMYXllcnMsTGVuc0ZsYXJlLExlc3NEZXB0aCxMZXNzRXF1YWxEZXB0aCxMZXNzRXF1YWxTdGVuY2lsRnVuYyxMZXNzU3RlbmNpbEZ1bmMsTGlnaHQsTGlnaHRQcm9iZSxMaW5lLExpbmUzLExpbmVCYXNpY01hdGVyaWFsLExpbmVDdXJ2ZSxMaW5lQ3VydmUzLExpbmVEYXNoZWRNYXRlcmlhbCxMaW5lTG9vcCxMaW5lUGllY2VzLExpbmVTZWdtZW50cyxMaW5lU3RyaXAsTGluZWFyRW5jb2RpbmcsTGluZWFyRmlsdGVyLExpbmVhckludGVycG9sYW50LExpbmVhck1pcE1hcExpbmVhckZpbHRlcixMaW5lYXJNaXBNYXBOZWFyZXN0RmlsdGVyLExpbmVhck1pcG1hcExpbmVhckZpbHRlcixMaW5lYXJNaXBtYXBOZWFyZXN0RmlsdGVyLExpbmVhclRvbmVNYXBwaW5nLExvYWRlcixMb2FkZXJVdGlscyxMb2FkaW5nTWFuYWdlcixMb29wT25jZSxMb29wUGluZ1BvbmcsTG9vcFJlcGVhdCxMdW1pbmFuY2VBbHBoYUZvcm1hdCxMdW1pbmFuY2VGb3JtYXQsTU9VU0UsTWF0ZXJpYWwsTWF0ZXJpYWxMb2FkZXIsTWF0aFV0aWxzIGFzIE1hdGgsTWF0aFV0aWxzLE1hdHJpeDMsTWF0cml4NCxNYXhFcXVhdGlvbixNZXNoLE1lc2hCYXNpY01hdGVyaWFsLE1lc2hEZXB0aE1hdGVyaWFsLE1lc2hEaXN0YW5jZU1hdGVyaWFsLE1lc2hGYWNlTWF0ZXJpYWwsTWVzaExhbWJlcnRNYXRlcmlhbCxNZXNoTWF0Y2FwTWF0ZXJpYWwsTWVzaE5vcm1hbE1hdGVyaWFsLE1lc2hQaG9uZ01hdGVyaWFsLE1lc2hQaHlzaWNhbE1hdGVyaWFsLE1lc2hTdGFuZGFyZE1hdGVyaWFsLE1lc2hUb29uTWF0ZXJpYWwsTWluRXF1YXRpb24sTWlycm9yZWRSZXBlYXRXcmFwcGluZyxNaXhPcGVyYXRpb24sTXVsdGlNYXRlcmlhbCxNdWx0aXBseUJsZW5kaW5nLE11bHRpcGx5T3BlcmF0aW9uLE5lYXJlc3RGaWx0ZXIsTmVhcmVzdE1pcE1hcExpbmVhckZpbHRlcixOZWFyZXN0TWlwTWFwTmVhcmVzdEZpbHRlcixOZWFyZXN0TWlwbWFwTGluZWFyRmlsdGVyLE5lYXJlc3RNaXBtYXBOZWFyZXN0RmlsdGVyLE5ldmVyRGVwdGgsTmV2ZXJTdGVuY2lsRnVuYyxOb0JsZW5kaW5nLE5vQ29sb3JzLE5vVG9uZU1hcHBpbmcsTm9ybWFsQW5pbWF0aW9uQmxlbmRNb2RlLE5vcm1hbEJsZW5kaW5nLE5vdEVxdWFsRGVwdGgsTm90RXF1YWxTdGVuY2lsRnVuYyxOdW1iZXJLZXlmcmFtZVRyYWNrLE9iamVjdDNELE9iamVjdExvYWRlcixPYmplY3RTcGFjZU5vcm1hbE1hcCxPY3RhaGVkcm9uR2VvbWV0cnkgYXMgT2N0YWhlZHJvbkJ1ZmZlckdlb21ldHJ5LE9jdGFoZWRyb25HZW9tZXRyeSxPbmVGYWN0b3IsT25lTWludXNEc3RBbHBoYUZhY3RvcixPbmVNaW51c0RzdENvbG9yRmFjdG9yLE9uZU1pbnVzU3JjQWxwaGFGYWN0b3IsT25lTWludXNTcmNDb2xvckZhY3RvcixPcnRob2dyYXBoaWNDYW1lcmEsUENGU2hhZG93TWFwLFBDRlNvZnRTaGFkb3dNYXAsUE1SRU1HZW5lcmF0b3IsUGFyYW1ldHJpY0dlb21ldHJ5LFBhcnRpY2xlLFBhcnRpY2xlQmFzaWNNYXRlcmlhbCxQYXJ0aWNsZVN5c3RlbSxQYXJ0aWNsZVN5c3RlbU1hdGVyaWFsLFBhdGgsUGVyc3BlY3RpdmVDYW1lcmEsUGxhbmUsUGxhbmVHZW9tZXRyeSBhcyBQbGFuZUJ1ZmZlckdlb21ldHJ5LFBsYW5lR2VvbWV0cnksUGxhbmVIZWxwZXIsUG9pbnRDbG91ZCxQb2ludENsb3VkTWF0ZXJpYWwsUG9pbnRMaWdodCxQb2ludExpZ2h0SGVscGVyLFBvaW50cyxQb2ludHNNYXRlcmlhbCxQb2xhckdyaWRIZWxwZXIsUG9seWhlZHJvbkdlb21ldHJ5IGFzIFBvbHloZWRyb25CdWZmZXJHZW9tZXRyeSxQb2x5aGVkcm9uR2VvbWV0cnksUG9zaXRpb25hbEF1ZGlvLFByb3BlcnR5QmluZGluZyxQcm9wZXJ0eU1peGVyLFF1YWRyYXRpY0JlemllckN1cnZlLFF1YWRyYXRpY0JlemllckN1cnZlMyxRdWF0ZXJuaW9uLFF1YXRlcm5pb25LZXlmcmFtZVRyYWNrLFF1YXRlcm5pb25MaW5lYXJJbnRlcnBvbGFudCxSRVZJU0lPTixSR0JBRGVwdGhQYWNraW5nLFJHQkFGb3JtYXQsUkdCQUludGVnZXJGb3JtYXQsUkdCQV9BU1RDXzEweDEwX0Zvcm1hdCxSR0JBX0FTVENfMTB4NV9Gb3JtYXQsUkdCQV9BU1RDXzEweDZfRm9ybWF0LFJHQkFfQVNUQ18xMHg4X0Zvcm1hdCxSR0JBX0FTVENfMTJ4MTBfRm9ybWF0LFJHQkFfQVNUQ18xMngxMl9Gb3JtYXQsUkdCQV9BU1RDXzR4NF9Gb3JtYXQsUkdCQV9BU1RDXzV4NF9Gb3JtYXQsUkdCQV9BU1RDXzV4NV9Gb3JtYXQsUkdCQV9BU1RDXzZ4NV9Gb3JtYXQsUkdCQV9BU1RDXzZ4Nl9Gb3JtYXQsUkdCQV9BU1RDXzh4NV9Gb3JtYXQsUkdCQV9BU1RDXzh4Nl9Gb3JtYXQsUkdCQV9BU1RDXzh4OF9Gb3JtYXQsUkdCQV9CUFRDX0Zvcm1hdCxSR0JBX0VUQzJfRUFDX0Zvcm1hdCxSR0JBX1BWUlRDXzJCUFBWMV9Gb3JtYXQsUkdCQV9QVlJUQ180QlBQVjFfRm9ybWF0LFJHQkFfUzNUQ19EWFQxX0Zvcm1hdCxSR0JBX1MzVENfRFhUM19Gb3JtYXQsUkdCQV9TM1RDX0RYVDVfRm9ybWF0LFJHQkZvcm1hdCxSR0JfRVRDMV9Gb3JtYXQsUkdCX0VUQzJfRm9ybWF0LFJHQl9QVlJUQ18yQlBQVjFfRm9ybWF0LFJHQl9QVlJUQ180QlBQVjFfRm9ybWF0LFJHQl9TM1RDX0RYVDFfRm9ybWF0LFJHRm9ybWF0LFJHSW50ZWdlckZvcm1hdCxSYXdTaGFkZXJNYXRlcmlhbCxSYXksUmF5Y2FzdGVyLFJlY3RBcmVhTGlnaHQsUmVkRm9ybWF0LFJlZEludGVnZXJGb3JtYXQsUmVpbmhhcmRUb25lTWFwcGluZyxSZXBlYXRXcmFwcGluZyxSZXBsYWNlU3RlbmNpbE9wLFJldmVyc2VTdWJ0cmFjdEVxdWF0aW9uLFJpbmdHZW9tZXRyeSBhcyBSaW5nQnVmZmVyR2VvbWV0cnksUmluZ0dlb21ldHJ5LFNjZW5lLFNjZW5lVXRpbHMsU2hhZGVyQ2h1bmssU2hhZGVyTGliLFNoYWRlck1hdGVyaWFsLFNoYWRvd01hdGVyaWFsLFNoYXBlLFNoYXBlR2VvbWV0cnkgYXMgU2hhcGVCdWZmZXJHZW9tZXRyeSxTaGFwZUdlb21ldHJ5LFNoYXBlUGF0aCxTaGFwZVV0aWxzLFNob3J0VHlwZSxTa2VsZXRvbixTa2VsZXRvbkhlbHBlcixTa2lubmVkTWVzaCxTbW9vdGhTaGFkaW5nLFNwaGVyZSxTcGhlcmVHZW9tZXRyeSBhcyBTcGhlcmVCdWZmZXJHZW9tZXRyeSxTcGhlcmVHZW9tZXRyeSxTcGhlcmljYWwsU3BoZXJpY2FsSGFybW9uaWNzMyxTcGxpbmVDdXJ2ZSxTcG90TGlnaHQsU3BvdExpZ2h0SGVscGVyLFNwcml0ZSxTcHJpdGVNYXRlcmlhbCxTcmNBbHBoYUZhY3RvcixTcmNBbHBoYVNhdHVyYXRlRmFjdG9yLFNyY0NvbG9yRmFjdG9yLFN0YXRpY0NvcHlVc2FnZSxTdGF0aWNEcmF3VXNhZ2UsU3RhdGljUmVhZFVzYWdlLFN0ZXJlb0NhbWVyYSxTdHJlYW1Db3B5VXNhZ2UsU3RyZWFtRHJhd1VzYWdlLFN0cmVhbVJlYWRVc2FnZSxTdHJpbmdLZXlmcmFtZVRyYWNrLFN1YnRyYWN0RXF1YXRpb24sU3VidHJhY3RpdmVCbGVuZGluZyxUT1VDSCxUYW5nZW50U3BhY2VOb3JtYWxNYXAsVGV0cmFoZWRyb25HZW9tZXRyeSBhcyBUZXRyYWhlZHJvbkJ1ZmZlckdlb21ldHJ5LFRldHJhaGVkcm9uR2VvbWV0cnksVGV4dEdlb21ldHJ5LFRleHR1cmUsVGV4dHVyZUxvYWRlcixUb3J1c0dlb21ldHJ5IGFzIFRvcnVzQnVmZmVyR2VvbWV0cnksVG9ydXNHZW9tZXRyeSxUb3J1c0tub3RHZW9tZXRyeSBhcyBUb3J1c0tub3RCdWZmZXJHZW9tZXRyeSxUb3J1c0tub3RHZW9tZXRyeSxUcmlhbmdsZSxUcmlhbmdsZUZhbkRyYXdNb2RlLFRyaWFuZ2xlU3RyaXBEcmF3TW9kZSxUcmlhbmdsZXNEcmF3TW9kZSxUdWJlR2VvbWV0cnkgYXMgVHViZUJ1ZmZlckdlb21ldHJ5LFR1YmVHZW9tZXRyeSxVVk1hcHBpbmcsVWludDE2QXR0cmlidXRlLFVpbnQxNkJ1ZmZlckF0dHJpYnV0ZSxVaW50MzJBdHRyaWJ1dGUsVWludDMyQnVmZmVyQXR0cmlidXRlLFVpbnQ4QXR0cmlidXRlLFVpbnQ4QnVmZmVyQXR0cmlidXRlLFVpbnQ4Q2xhbXBlZEF0dHJpYnV0ZSxVaW50OENsYW1wZWRCdWZmZXJBdHRyaWJ1dGUsVW5pZm9ybSxVbmlmb3Jtc0xpYixVbmlmb3Jtc1V0aWxzLFVuc2lnbmVkQnl0ZVR5cGUsVW5zaWduZWRJbnQyNDhUeXBlLFVuc2lnbmVkSW50VHlwZSxVbnNpZ25lZFNob3J0NDQ0NFR5cGUsVW5zaWduZWRTaG9ydDU1NTFUeXBlLFVuc2lnbmVkU2hvcnRUeXBlLFZTTVNoYWRvd01hcCxWZWN0b3IyLFZlY3RvcjMsVmVjdG9yNCxWZWN0b3JLZXlmcmFtZVRyYWNrLFZlcnRleCxWZXJ0ZXhDb2xvcnMsVmlkZW9UZXh0dXJlLFdlYkdMMVJlbmRlcmVyLFdlYkdMQ3ViZVJlbmRlclRhcmdldCxXZWJHTE11bHRpcGxlUmVuZGVyVGFyZ2V0cyxXZWJHTE11bHRpc2FtcGxlUmVuZGVyVGFyZ2V0LFdlYkdMUmVuZGVyVGFyZ2V0LFdlYkdMUmVuZGVyVGFyZ2V0Q3ViZSxXZWJHTFJlbmRlcmVyLFdlYkdMVXRpbHMsV2lyZWZyYW1lR2VvbWV0cnksV2lyZWZyYW1lSGVscGVyLFdyYXBBcm91bmRFbmRpbmcsWEhSTG9hZGVyLFplcm9DdXJ2YXR1cmVFbmRpbmcsWmVyb0ZhY3RvcixaZXJvU2xvcGVFbmRpbmcsWmVyb1N0ZW5jaWxPcCxfU1JHQkFGb3JtYXQsc1JHQkVuY29kaW5nfTs="},null]}