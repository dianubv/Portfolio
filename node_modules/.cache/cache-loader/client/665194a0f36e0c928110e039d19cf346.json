{"remainingRequest":"/home/diane/Documents/MDT/Portfolio/node_modules/esbuild-loader/dist/index.js??ref--2-1!/home/diane/Documents/MDT/Portfolio/.nuxt/content/plugin.client.lazy.js","dependencies":[{"path":"/home/diane/Documents/MDT/Portfolio/.nuxt/content/plugin.client.lazy.js","mtime":1697962931005},{"path":"/home/diane/Documents/MDT/Portfolio/node_modules/cache-loader/dist/cjs.js","mtime":1696602851329},{"path":"/home/diane/Documents/MDT/Portfolio/node_modules/esbuild-loader/dist/index.js","mtime":1696601673236}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFF1ZXJ5QnVpbGRlciBmcm9tICIuL3F1ZXJ5LWJ1aWxkZXIiOwppbXBvcnQgTG9raSBmcm9tICJAbG9raWRiL2xva2kiOwppbXBvcnQgTG9raUZ1bGxUZXh0U2VhcmNoIGZyb20gIkBsb2tpZGIvZnVsbC10ZXh0LXNlYXJjaCI7Ckxva2lGdWxsVGV4dFNlYXJjaC5yZWdpc3RlcigpOwpjb25zdCBkaXJzID0gWyIvIiwgIi93b3JrcyJdOwpsZXQgZGIsIGl0ZW1zOwpjb25zdCAkY29udGVudCA9IGZ1bmN0aW9uKCkgewogIGxldCBvcHRpb25zID0ge307CiAgY29uc3QgcGF0aHMgPSBbXTsKICBBcnJheS5mcm9tKGFyZ3VtZW50cykuZm9yRWFjaCgoYXJndW1lbnQpID0+IHsKICAgIGlmICh0eXBlb2YgYXJndW1lbnQgPT09ICJzdHJpbmciKSB7CiAgICAgIHBhdGhzLnB1c2goYXJndW1lbnQpOwogICAgfSBlbHNlIGlmICh0eXBlb2YgYXJndW1lbnQgPT09ICJvYmplY3QiKSB7CiAgICAgIG9wdGlvbnMgPSBhcmd1bWVudDsKICAgIH0KICB9KTsKICBjb25zdCB7IHRleHQgPSBmYWxzZSwgZGVlcCA9IGZhbHNlIH0gPSBvcHRpb25zOwogIGNvbnN0IHBhdGggPSBgLyR7cGF0aHMuam9pbigiLyIpLnJlcGxhY2UoL1wvKy9nLCAiLyIpfWA7CiAgY29uc3QgaXNEaXIgPSAhcGF0aCB8fCAhIWRpcnMuZmluZCgoZGlyKSA9PiBkaXIgPT09IHBhdGgpOwogIGNvbnN0IHF1ZXJ5ID0gaXNEaXIgPyB7IGRpcjogZGVlcCA/IHsgJHJlZ2V4OiBuZXcgUmVnRXhwKGBeJHtwYXRofWApIH0gOiBwYXRoIH0gOiB7IHBhdGggfTsKICBjb25zdCBwb3N0cHJvY2VzcyA9IGlzRGlyID8gW10gOiBbKGRhdGEpID0+IGRhdGFbMF1dOwogIHJldHVybiBuZXcgUXVlcnlCdWlsZGVyKHsKICAgIHF1ZXJ5OiBpdGVtcy5jaGFpbigpLmZpbmQocXVlcnksICFpc0RpciksCiAgICBwYXRoLAogICAgcG9zdHByb2Nlc3MsCiAgICB0ZXh0CiAgfSwgewogICAgZnVsbFRleHRTZWFyY2hGaWVsZHM6IFsidGl0bGUiLCAiZGVzY3JpcHRpb24iLCAic2x1ZyIsICJ0ZXh0Il0KICB9KTsKfTsKZXhwb3J0IGRlZmF1bHQgKGRhdGFiYXNlKSA9PiB7CiAgZGIgPSBuZXcgTG9raSgiY29udGVudC5kYiIpOwogIGRiLmxvYWRKU09OT2JqZWN0KGRhdGFiYXNlKTsKICBpdGVtcyA9IGRiLmdldENvbGxlY3Rpb24oIml0ZW1zIik7CiAgcmV0dXJuICRjb250ZW50Owp9Owo="},{"version":3,"sources":["/home/diane/Documents/MDT/Portfolio/.nuxt/content/plugin.client.lazy.js"],"sourcesContent":["import QueryBuilder from './query-builder'\nimport Loki from '@lokidb/loki'\nimport LokiFullTextSearch from '@lokidb/full-text-search'\n\nLokiFullTextSearch.register()\n\nconst dirs = [\"/\",\"/works\"]\n  let db, items\n\nconst $content = function () {\n  let options = {}\n  const paths = []\n  Array.from(arguments).forEach((argument) => {\n    if (typeof argument === 'string') {\n      paths.push(argument)\n    } else if (typeof argument === 'object') {\n      options = argument\n    }\n  })\n\n  const { text = false, deep = false } = options\n\n  const path = `/${paths.join('/').replace(/\\/+/g, '/')}`\n  const isDir = !path || !!dirs.find(dir => dir === path)\n  // Look for dir or path\n  const query = isDir ? { dir: deep ? { $regex: new RegExp(`^${path}`) } : path } : { path }\n  // Postprocess to get only first result (findOne)\n  const postprocess = isDir ? [] : [data => data[0]]\n\n  return new QueryBuilder({\n    query: items.chain().find(query, !isDir),\n    path,\n    postprocess,\n    text\n  }, {\n    fullTextSearchFields: [\"title\",\"description\",\"slug\",\"text\"]\n  })\n}\n\nexport default (database) => {\n  db = new Loki('content.db')\n  db.loadJSONObject(database)\n  items = db.getCollection('items')\n\n  return $content\n}\n"],"mappings":"AAAA;AACA;AACA;AAEA,mBAAmB,SAAS;AAE5B,MAAM,OAAO,CAAC,KAAI,QAAQ;AACxB,IAAI,IAAI;AAEV,MAAM,WAAW,WAAY;AAC3B,MAAI,UAAU,CAAC;AACf,QAAM,QAAQ,CAAC;AACf,QAAM,KAAK,SAAS,EAAE,QAAQ,CAAC,aAAa;AAC1C,QAAI,OAAO,aAAa,UAAU;AAChC,YAAM,KAAK,QAAQ;AAAA,IACrB,WAAW,OAAO,aAAa,UAAU;AACvC,gBAAU;AAAA,IACZ;AAAA,EACF,CAAC;AAED,QAAM,EAAE,OAAO,OAAO,OAAO,UAAU;AAEvC,QAAM,OAAO,IAAI,MAAM,KAAK,GAAG,EAAE,QAAQ,QAAQ,GAAG;AACpD,QAAM,QAAQ,CAAC,QAAQ,CAAC,CAAC,KAAK,KAAK,SAAO,QAAQ,IAAI;AAEtD,QAAM,QAAQ,QAAQ,EAAE,KAAK,OAAO,EAAE,QAAQ,IAAI,OAAO,IAAI,MAAM,EAAE,IAAI,KAAK,IAAI,EAAE,KAAK;AAEzF,QAAM,cAAc,QAAQ,CAAC,IAAI,CAAC,UAAQ,KAAK,EAAE;AAEjD,SAAO,IAAI,aAAa;AAAA,IACtB,OAAO,MAAM,MAAM,EAAE,KAAK,OAAO,CAAC,KAAK;AAAA,IACvC;AAAA,IACA;AAAA,IACA;AAAA,EACF,GAAG;AAAA,IACD,sBAAsB,CAAC,SAAQ,eAAc,QAAO,MAAM;AAAA,EAC5D,CAAC;AACH;AAEA,eAAe,CAAC,aAAa;AAC3B,OAAK,IAAI,KAAK,YAAY;AAC1B,KAAG,eAAe,QAAQ;AAC1B,UAAQ,GAAG,cAAc,OAAO;AAEhC,SAAO;AACT;","names":[]}]}