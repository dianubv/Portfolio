{"remainingRequest":"/home/diane/Documents/MDT/Portfolio/node_modules/babel-loader/lib/index.js??ref--2-1!/home/diane/Documents/MDT/Portfolio/node_modules/@nuxt/image/dist/runtime/image.js","dependencies":[{"path":"/home/diane/Documents/MDT/Portfolio/node_modules/@nuxt/image/dist/runtime/image.js","mtime":1696601674208},{"path":"/home/diane/Documents/MDT/Portfolio/node_modules/cache-loader/dist/cjs.js","mtime":1696602851329},{"path":"/home/diane/Documents/MDT/Portfolio/node_modules/babel-loader/lib/index.js","mtime":1696602851385}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZyb20uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuZGVzY3JpcHRpb24uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0IF90eXBlb2YgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdHlwZW9mIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwpmdW5jdGlvbiBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihvLCBhbGxvd0FycmF5TGlrZSkgeyB2YXIgaXQgPSB0eXBlb2YgU3ltYm9sICE9PSAidW5kZWZpbmVkIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl0gfHwgb1siQEBpdGVyYXRvciJdOyBpZiAoIWl0KSB7IGlmIChBcnJheS5pc0FycmF5KG8pIHx8IChpdCA9IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvKSkgfHwgYWxsb3dBcnJheUxpa2UgJiYgbyAmJiB0eXBlb2Ygby5sZW5ndGggPT09ICJudW1iZXIiKSB7IGlmIChpdCkgbyA9IGl0OyB2YXIgaSA9IDA7IHZhciBGID0gZnVuY3Rpb24gRigpIHt9OyByZXR1cm4geyBzOiBGLCBuOiBmdW5jdGlvbiBuKCkgeyBpZiAoaSA+PSBvLmxlbmd0aCkgcmV0dXJuIHsgZG9uZTogdHJ1ZSB9OyByZXR1cm4geyBkb25lOiBmYWxzZSwgdmFsdWU6IG9baSsrXSB9OyB9LCBlOiBmdW5jdGlvbiBlKF9lKSB7IHRocm93IF9lOyB9LCBmOiBGIH07IH0gdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpOyB9IHZhciBub3JtYWxDb21wbGV0aW9uID0gdHJ1ZSwgZGlkRXJyID0gZmFsc2UsIGVycjsgcmV0dXJuIHsgczogZnVuY3Rpb24gcygpIHsgaXQgPSBpdC5jYWxsKG8pOyB9LCBuOiBmdW5jdGlvbiBuKCkgeyB2YXIgc3RlcCA9IGl0Lm5leHQoKTsgbm9ybWFsQ29tcGxldGlvbiA9IHN0ZXAuZG9uZTsgcmV0dXJuIHN0ZXA7IH0sIGU6IGZ1bmN0aW9uIGUoX2UyKSB7IGRpZEVyciA9IHRydWU7IGVyciA9IF9lMjsgfSwgZjogZnVuY3Rpb24gZigpIHsgdHJ5IHsgaWYgKCFub3JtYWxDb21wbGV0aW9uICYmIGl0LnJldHVybiAhPSBudWxsKSBpdC5yZXR1cm4oKTsgfSBmaW5hbGx5IHsgaWYgKGRpZEVycikgdGhyb3cgZXJyOyB9IH0gfTsgfQpmdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09ICJzdHJpbmciKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gIk9iamVjdCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09ICJNYXAiIHx8IG4gPT09ICJTZXQiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09ICJBcmd1bWVudHMiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgfQpmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSBhcnIyW2ldID0gYXJyW2ldOyByZXR1cm4gYXJyMjsgfQppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3RhcnRzLXdpdGguanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnRyaW0uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuZW5kcy13aXRoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29ydC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmpvaW4uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwpmdW5jdGlvbiBvd25LZXlzKGUsIHIpIHsgdmFyIHQgPSBPYmplY3Qua2V5cyhlKTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIG8gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpOyByICYmIChvID0gby5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgcikuZW51bWVyYWJsZTsgfSkpLCB0LnB1c2guYXBwbHkodCwgbyk7IH0gcmV0dXJuIHQ7IH0KZnVuY3Rpb24gX29iamVjdFNwcmVhZChlKSB7IGZvciAodmFyIHIgPSAxOyByIDwgYXJndW1lbnRzLmxlbmd0aDsgcisrKSB7IHZhciB0ID0gbnVsbCAhPSBhcmd1bWVudHNbcl0gPyBhcmd1bWVudHNbcl0gOiB7fTsgciAlIDIgPyBvd25LZXlzKE9iamVjdCh0KSwgITApLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgX2RlZmluZVByb3BlcnR5KGUsIHIsIHRbcl0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnModCkpIDogb3duS2V5cyhPYmplY3QodCkpLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIHIsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCwgcikpOyB9KTsgfSByZXR1cm4gZTsgfQppbXBvcnQgZGVmdSBmcm9tICJkZWZ1IjsKaW1wb3J0IHsgaGFzUHJvdG9jb2wsIHBhcnNlVVJMLCBqb2luVVJMLCB3aXRoTGVhZGluZ1NsYXNoIH0gZnJvbSAidWZvIjsKaW1wb3J0IHsgaW1hZ2VNZXRhIH0gZnJvbSAiLi91dGlscy9tZXRhIjsKaW1wb3J0IHsgcGFyc2VTaXplIH0gZnJvbSAiLi91dGlscyI7CmltcG9ydCB7IHVzZVN0YXRpY0ltYWdlTWFwIH0gZnJvbSAiLi91dGlscy9zdGF0aWMtbWFwIjsKZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUltYWdlKGdsb2JhbE9wdGlvbnMsIG51eHRDb250ZXh0KSB7CiAgdmFyIHN0YXRpY0ltYWdlTWFuaWZlc3QgPSBwcm9jZXNzLmNsaWVudCAmJiBwcm9jZXNzLnN0YXRpYyA/IHVzZVN0YXRpY0ltYWdlTWFwKG51eHRDb250ZXh0KSA6IHt9OwogIHZhciBjdHggPSB7CiAgICBvcHRpb25zOiBnbG9iYWxPcHRpb25zLAogICAgbnV4dENvbnRleHQ6IG51eHRDb250ZXh0CiAgfTsKICB2YXIgZ2V0SW1hZ2UgPSBmdW5jdGlvbiBnZXRJbWFnZShpbnB1dCkgewogICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9OwogICAgdmFyIGltYWdlID0gcmVzb2x2ZUltYWdlKGN0eCwgaW5wdXQsIG9wdGlvbnMpOwogICAgaWYgKGltYWdlLmlzU3RhdGljKSB7CiAgICAgIGhhbmRsZVN0YXRpY0ltYWdlKGltYWdlLCBpbnB1dCk7CiAgICB9CiAgICByZXR1cm4gaW1hZ2U7CiAgfTsKICB2YXIgJGltZyA9IGZ1bmN0aW9uICRpbWcyKGlucHV0KSB7CiAgICB2YXIgbW9kaWZpZXJzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTsKICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTsKICAgIHJldHVybiBnZXRJbWFnZShpbnB1dCwgX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBvcHRpb25zKSwge30sIHsKICAgICAgbW9kaWZpZXJzOiBkZWZ1KG1vZGlmaWVycywgb3B0aW9ucy5tb2RpZmllcnMgfHwge30pCiAgICB9KSkudXJsOwogIH07CiAgZnVuY3Rpb24gaGFuZGxlU3RhdGljSW1hZ2UoaW1hZ2UsIGlucHV0KSB7CiAgICBpZiAocHJvY2Vzcy5zdGF0aWMpIHsKICAgICAgaWYgKHByb2Nlc3MuY2xpZW50ICYmICJmZXRjaFBheWxvYWQiIGluIHdpbmRvdy4kbnV4dCkgewogICAgICAgIHZhciBtYXBwZWRVUkwgPSBzdGF0aWNJbWFnZU1hbmlmZXN0W2ltYWdlLnVybF07CiAgICAgICAgaW1hZ2UudXJsID0gbWFwcGVkVVJMIHx8IGlucHV0OwogICAgICAgIHJldHVybiBpbWFnZTsKICAgICAgfQogICAgICBpZiAocHJvY2Vzcy5zZXJ2ZXIpIHsKICAgICAgICB2YXIgc3NyQ29udGV4dCA9IGN0eC5udXh0Q29udGV4dC5zc3JDb250ZXh0OwogICAgICAgIGlmIChzc3JDb250ZXh0KSB7CiAgICAgICAgICB2YXIgX3NzclN0YXRlJGRhdGEsIF9zc3JDb250ZXh0JGltYWdlOwogICAgICAgICAgdmFyIHNzclN0YXRlID0gc3NyQ29udGV4dC5udXh0IHx8IHt9OwogICAgICAgICAgdmFyIHN0YXRpY0ltYWdlcyA9IHNzclN0YXRlLl9pbWcgPSBzc3JTdGF0ZS5faW1nIHx8IHt9OwogICAgICAgICAgdmFyIHNzckRhdGEgPSAoX3NzclN0YXRlJGRhdGEgPSBzc3JTdGF0ZS5kYXRhKSA9PT0gbnVsbCB8fCBfc3NyU3RhdGUkZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3NzclN0YXRlJGRhdGFbMF07CiAgICAgICAgICBpZiAoc3NyRGF0YSkgewogICAgICAgICAgICBzc3JEYXRhLl9pbWcgPSBzdGF0aWNJbWFnZXM7CiAgICAgICAgICB9CiAgICAgICAgICB2YXIgbWFwVG9TdGF0aWMgPSAoX3NzckNvbnRleHQkaW1hZ2UgPSBzc3JDb250ZXh0LmltYWdlKSA9PT0gbnVsbCB8fCBfc3NyQ29udGV4dCRpbWFnZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3NzckNvbnRleHQkaW1hZ2UubWFwVG9TdGF0aWM7CiAgICAgICAgICBpZiAodHlwZW9mIG1hcFRvU3RhdGljID09PSAiZnVuY3Rpb24iKSB7CiAgICAgICAgICAgIHZhciBfbWFwcGVkVVJMID0gbWFwVG9TdGF0aWMoaW1hZ2UsIGlucHV0KTsKICAgICAgICAgICAgaWYgKF9tYXBwZWRVUkwpIHsKICAgICAgICAgICAgICBzdGF0aWNJbWFnZXNbaW1hZ2UudXJsXSA9IF9tYXBwZWRVUkw7CiAgICAgICAgICAgICAgaW1hZ2UudXJsID0gX21hcHBlZFVSTDsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSBlbHNlIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gInByb2R1Y3Rpb24iKSB7CiAgICAgIGltYWdlLnVybCA9IGlucHV0OwogICAgfQogIH0KICB2YXIgX2xvb3AgPSBmdW5jdGlvbiBfbG9vcChwcmVzZXROYW1lKSB7CiAgICAkaW1nW3ByZXNldE5hbWVdID0gZnVuY3Rpb24gKHNvdXJjZSwgbW9kaWZpZXJzLCBvcHRpb25zKSB7CiAgICAgIHJldHVybiAkaW1nKHNvdXJjZSwgbW9kaWZpZXJzLCBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGdsb2JhbE9wdGlvbnMucHJlc2V0c1twcmVzZXROYW1lXSksIG9wdGlvbnMpKTsKICAgIH07CiAgfTsKICBmb3IgKHZhciBwcmVzZXROYW1lIGluIGdsb2JhbE9wdGlvbnMucHJlc2V0cykgewogICAgX2xvb3AocHJlc2V0TmFtZSk7CiAgfQogICRpbWcub3B0aW9ucyA9IGdsb2JhbE9wdGlvbnM7CiAgJGltZy5nZXRJbWFnZSA9IGdldEltYWdlOwogICRpbWcuZ2V0TWV0YSA9IGZ1bmN0aW9uIChpbnB1dCwgb3B0aW9ucykgewogICAgcmV0dXJuIGdldE1ldGEoY3R4LCBpbnB1dCwgb3B0aW9ucyk7CiAgfTsKICAkaW1nLmdldFNpemVzID0gZnVuY3Rpb24gKGlucHV0LCBvcHRpb25zKSB7CiAgICByZXR1cm4gZ2V0U2l6ZXMoY3R4LCBpbnB1dCwgb3B0aW9ucyk7CiAgfTsKICBjdHguJGltZyA9ICRpbWc7CiAgcmV0dXJuICRpbWc7Cn0KZnVuY3Rpb24gZ2V0TWV0YShfeCwgX3gyLCBfeDMpIHsKICByZXR1cm4gX2dldE1ldGEuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQpmdW5jdGlvbiBfZ2V0TWV0YSgpIHsKICBfZ2V0TWV0YSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShjdHgsIGlucHV0LCBvcHRpb25zKSB7CiAgICB2YXIgaW1hZ2U7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICBjYXNlIDA6CiAgICAgICAgICBpbWFnZSA9IHJlc29sdmVJbWFnZShjdHgsIGlucHV0LCBfb2JqZWN0U3ByZWFkKHt9LCBvcHRpb25zKSk7CiAgICAgICAgICBpZiAoISh0eXBlb2YgaW1hZ2UuZ2V0TWV0YSA9PT0gImZ1bmN0aW9uIikpIHsKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDc7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQogICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICByZXR1cm4gaW1hZ2UuZ2V0TWV0YSgpOwogICAgICAgIGNhc2UgNDoKICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0LnNlbnQpOwogICAgICAgIGNhc2UgNzoKICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA5OwogICAgICAgICAgcmV0dXJuIGltYWdlTWV0YShjdHgsIGltYWdlLnVybCk7CiAgICAgICAgY2FzZSA5OgogICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQuc2VudCk7CiAgICAgICAgY2FzZSAxMDoKICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgfQogICAgfSwgX2NhbGxlZSk7CiAgfSkpOwogIHJldHVybiBfZ2V0TWV0YS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CmZ1bmN0aW9uIHJlc29sdmVJbWFnZShjdHgsIGlucHV0LCBvcHRpb25zKSB7CiAgdmFyIF9vcHRpb25zJG1vZGlmaWVycywgX29wdGlvbnMkbW9kaWZpZXJzMjsKICBpZiAodHlwZW9mIGlucHV0ICE9PSAic3RyaW5nIiB8fCBpbnB1dCA9PT0gIiIpIHsKICAgIHRocm93IG5ldyBUeXBlRXJyb3IoImlucHV0IG11c3QgYmUgYSBzdHJpbmcgKHJlY2VpdmVkICIuY29uY2F0KF90eXBlb2YoaW5wdXQpLCAiOiAiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkoaW5wdXQpLCAiKSIpKTsKICB9CiAgaWYgKGlucHV0LnN0YXJ0c1dpdGgoImRhdGE6IikpIHsKICAgIHJldHVybiB7CiAgICAgIHVybDogaW5wdXQKICAgIH07CiAgfQogIHZhciBfZ2V0UHJvdmlkZXIgPSBnZXRQcm92aWRlcihjdHgsIG9wdGlvbnMucHJvdmlkZXIgfHwgY3R4Lm9wdGlvbnMucHJvdmlkZXIpLAogICAgcHJvdmlkZXIgPSBfZ2V0UHJvdmlkZXIucHJvdmlkZXIsCiAgICBkZWZhdWx0cyA9IF9nZXRQcm92aWRlci5kZWZhdWx0czsKICB2YXIgcHJlc2V0ID0gZ2V0UHJlc2V0KGN0eCwgb3B0aW9ucy5wcmVzZXQpOwogIGlucHV0ID0gaGFzUHJvdG9jb2woaW5wdXQpID8gaW5wdXQgOiB3aXRoTGVhZGluZ1NsYXNoKGlucHV0KTsKICBpZiAoIXByb3ZpZGVyLnN1cHBvcnRzQWxpYXMpIHsKICAgIGZvciAodmFyIGJhc2UgaW4gY3R4Lm9wdGlvbnMuYWxpYXMpIHsKICAgICAgaWYgKGlucHV0LnN0YXJ0c1dpdGgoYmFzZSkpIHsKICAgICAgICBpbnB1dCA9IGpvaW5VUkwoY3R4Lm9wdGlvbnMuYWxpYXNbYmFzZV0sIGlucHV0LnN1YnN0cihiYXNlLmxlbmd0aCkpOwogICAgICB9CiAgICB9CiAgfQogIGlmIChwcm92aWRlci52YWxpZGF0ZURvbWFpbnMgJiYgaGFzUHJvdG9jb2woaW5wdXQpKSB7CiAgICB2YXIgaW5wdXRIb3N0ID0gcGFyc2VVUkwoaW5wdXQpLmhvc3Q7CiAgICBpZiAoIWN0eC5vcHRpb25zLmRvbWFpbnMuZmluZChmdW5jdGlvbiAoZCkgewogICAgICByZXR1cm4gZCA9PT0gaW5wdXRIb3N0OwogICAgfSkpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICB1cmw6IGlucHV0CiAgICAgIH07CiAgICB9CiAgfQogIHZhciBfb3B0aW9ucyA9IGRlZnUob3B0aW9ucywgcHJlc2V0LCBkZWZhdWx0cyk7CiAgX29wdGlvbnMubW9kaWZpZXJzID0gX29iamVjdFNwcmVhZCh7fSwgX29wdGlvbnMubW9kaWZpZXJzKTsKICB2YXIgZXhwZWN0ZWRGb3JtYXQgPSBfb3B0aW9ucy5tb2RpZmllcnMuZm9ybWF0OwogIGlmICgoX29wdGlvbnMkbW9kaWZpZXJzID0gX29wdGlvbnMubW9kaWZpZXJzKSAhPT0gbnVsbCAmJiBfb3B0aW9ucyRtb2RpZmllcnMgIT09IHZvaWQgMCAmJiBfb3B0aW9ucyRtb2RpZmllcnMud2lkdGgpIHsKICAgIF9vcHRpb25zLm1vZGlmaWVycy53aWR0aCA9IHBhcnNlU2l6ZShfb3B0aW9ucy5tb2RpZmllcnMud2lkdGgpOwogIH0KICBpZiAoKF9vcHRpb25zJG1vZGlmaWVyczIgPSBfb3B0aW9ucy5tb2RpZmllcnMpICE9PSBudWxsICYmIF9vcHRpb25zJG1vZGlmaWVyczIgIT09IHZvaWQgMCAmJiBfb3B0aW9ucyRtb2RpZmllcnMyLmhlaWdodCkgewogICAgX29wdGlvbnMubW9kaWZpZXJzLmhlaWdodCA9IHBhcnNlU2l6ZShfb3B0aW9ucy5tb2RpZmllcnMuaGVpZ2h0KTsKICB9CiAgdmFyIGltYWdlID0gcHJvdmlkZXIuZ2V0SW1hZ2UoaW5wdXQsIF9vcHRpb25zLCBjdHgpOwogIGltYWdlLmZvcm1hdCA9IGltYWdlLmZvcm1hdCB8fCBleHBlY3RlZEZvcm1hdCB8fCAiIjsKICByZXR1cm4gaW1hZ2U7Cn0KZnVuY3Rpb24gZ2V0UHJvdmlkZXIoY3R4LCBuYW1lKSB7CiAgdmFyIHByb3ZpZGVyID0gY3R4Lm9wdGlvbnMucHJvdmlkZXJzW25hbWVdOwogIGlmICghcHJvdmlkZXIpIHsKICAgIHRocm93IG5ldyBFcnJvcigiVW5rbm93biBwcm92aWRlcjogIiArIG5hbWUpOwogIH0KICByZXR1cm4gcHJvdmlkZXI7Cn0KZnVuY3Rpb24gZ2V0UHJlc2V0KGN0eCwgbmFtZSkgewogIGlmICghbmFtZSkgewogICAgcmV0dXJuIHt9OwogIH0KICBpZiAoIWN0eC5vcHRpb25zLnByZXNldHNbbmFtZV0pIHsKICAgIHRocm93IG5ldyBFcnJvcigiVW5rbm93biBwcmVzZXQ6ICIgKyBuYW1lKTsKICB9CiAgcmV0dXJuIGN0eC5vcHRpb25zLnByZXNldHNbbmFtZV07Cn0KZnVuY3Rpb24gZ2V0U2l6ZXMoY3R4LCBpbnB1dCwgb3B0cykgewogIHZhciBfb3B0cyRtb2RpZmllcnMsIF9vcHRzJG1vZGlmaWVyczI7CiAgdmFyIHdpZHRoID0gcGFyc2VTaXplKChfb3B0cyRtb2RpZmllcnMgPSBvcHRzLm1vZGlmaWVycykgPT09IG51bGwgfHwgX29wdHMkbW9kaWZpZXJzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfb3B0cyRtb2RpZmllcnMud2lkdGgpOwogIHZhciBoZWlnaHQgPSBwYXJzZVNpemUoKF9vcHRzJG1vZGlmaWVyczIgPSBvcHRzLm1vZGlmaWVycykgPT09IG51bGwgfHwgX29wdHMkbW9kaWZpZXJzMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX29wdHMkbW9kaWZpZXJzMi5oZWlnaHQpOwogIHZhciBod1JhdGlvID0gd2lkdGggJiYgaGVpZ2h0ID8gaGVpZ2h0IC8gd2lkdGggOiAwOwogIHZhciB2YXJpYW50cyA9IFtdOwogIHZhciBzaXplcyA9IHt9OwogIGlmICh0eXBlb2Ygb3B0cy5zaXplcyA9PT0gInN0cmluZyIpIHsKICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihvcHRzLnNpemVzLnNwbGl0KC9bXHMsXSsvKS5maWx0ZXIoZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gZTsKICAgICAgfSkpLAogICAgICBfc3RlcDsKICAgIHRyeSB7CiAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgdmFyIGVudHJ5ID0gX3N0ZXAudmFsdWU7CiAgICAgICAgdmFyIHMgPSBlbnRyeS5zcGxpdCgiOiIpOwogICAgICAgIGlmIChzLmxlbmd0aCAhPT0gMikgewogICAgICAgICAgY29udGludWU7CiAgICAgICAgfQogICAgICAgIHNpemVzW3NbMF0udHJpbSgpXSA9IHNbMV0udHJpbSgpOwogICAgICB9CiAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgX2l0ZXJhdG9yLmUoZXJyKTsKICAgIH0gZmluYWxseSB7CiAgICAgIF9pdGVyYXRvci5mKCk7CiAgICB9CiAgfSBlbHNlIHsKICAgIE9iamVjdC5hc3NpZ24oc2l6ZXMsIG9wdHMuc2l6ZXMpOwogIH0KICBmb3IgKHZhciBrZXkgaW4gc2l6ZXMpIHsKICAgIHZhciBzY3JlZW5NYXhXaWR0aCA9IGN0eC5vcHRpb25zLnNjcmVlbnMgJiYgY3R4Lm9wdGlvbnMuc2NyZWVuc1trZXldIHx8IHBhcnNlSW50KGtleSk7CiAgICB2YXIgc2l6ZSA9IFN0cmluZyhzaXplc1trZXldKTsKICAgIHZhciBpc0ZsdWlkID0gc2l6ZS5lbmRzV2l0aCgidnciKTsKICAgIGlmICghaXNGbHVpZCAmJiAvXlxkKyQvLnRlc3Qoc2l6ZSkpIHsKICAgICAgc2l6ZSA9IHNpemUgKyAicHgiOwogICAgfQogICAgaWYgKCFpc0ZsdWlkICYmICFzaXplLmVuZHNXaXRoKCJweCIpKSB7CiAgICAgIGNvbnRpbnVlOwogICAgfQogICAgdmFyIF9jV2lkdGggPSBwYXJzZUludChzaXplKTsKICAgIGlmICghc2NyZWVuTWF4V2lkdGggfHwgIV9jV2lkdGgpIHsKICAgICAgY29udGludWU7CiAgICB9CiAgICBpZiAoaXNGbHVpZCkgewogICAgICBfY1dpZHRoID0gTWF0aC5yb3VuZChfY1dpZHRoIC8gMTAwICogc2NyZWVuTWF4V2lkdGgpOwogICAgfQogICAgdmFyIF9jSGVpZ2h0ID0gaHdSYXRpbyA/IE1hdGgucm91bmQoX2NXaWR0aCAqIGh3UmF0aW8pIDogaGVpZ2h0OwogICAgdmFyaWFudHMucHVzaCh7CiAgICAgIHdpZHRoOiBfY1dpZHRoLAogICAgICBzaXplOiBzaXplLAogICAgICBzY3JlZW5NYXhXaWR0aDogc2NyZWVuTWF4V2lkdGgsCiAgICAgIG1lZGlhOiAiKG1heC13aWR0aDogIi5jb25jYXQoc2NyZWVuTWF4V2lkdGgsICJweCkiKSwKICAgICAgc3JjOiBjdHguJGltZyhpbnB1dCwgX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBvcHRzLm1vZGlmaWVycyksIHt9LCB7CiAgICAgICAgd2lkdGg6IF9jV2lkdGgsCiAgICAgICAgaGVpZ2h0OiBfY0hlaWdodAogICAgICB9KSwgb3B0cykKICAgIH0pOwogIH0KICB2YXJpYW50cy5zb3J0KGZ1bmN0aW9uICh2MSwgdjIpIHsKICAgIHJldHVybiB2MS5zY3JlZW5NYXhXaWR0aCAtIHYyLnNjcmVlbk1heFdpZHRoOwogIH0pOwogIHZhciBkZWZhdWx0VmFyID0gdmFyaWFudHNbdmFyaWFudHMubGVuZ3RoIC0gMV07CiAgaWYgKGRlZmF1bHRWYXIpIHsKICAgIGRlZmF1bHRWYXIubWVkaWEgPSAiIjsKICB9CiAgcmV0dXJuIHsKICAgIHNpemVzOiB2YXJpYW50cy5tYXAoZnVuY3Rpb24gKHYpIHsKICAgICAgcmV0dXJuICIiLmNvbmNhdCh2Lm1lZGlhID8gdi5tZWRpYSArICIgIiA6ICIiKS5jb25jYXQodi5zaXplKTsKICAgIH0pLmpvaW4oIiwgIiksCiAgICBzcmNzZXQ6IHZhcmlhbnRzLm1hcChmdW5jdGlvbiAodikgewogICAgICByZXR1cm4gIiIuY29uY2F0KHYuc3JjLCAiICIpLmNvbmNhdCh2LndpZHRoLCAidyIpOwogICAgfSkuam9pbigiLCAiKSwKICAgIHNyYzogZGVmYXVsdFZhciA9PT0gbnVsbCB8fCBkZWZhdWx0VmFyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkZWZhdWx0VmFyLnNyYwogIH07Cn0="},null]}