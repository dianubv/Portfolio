{"remainingRequest":"/home/diane/Documents/MDT/Portfolio/node_modules/babel-loader/lib/index.js??ref--2-1!/home/diane/Documents/MDT/Portfolio/node_modules/ufo/dist/index.mjs","dependencies":[{"path":"/home/diane/Documents/MDT/Portfolio/node_modules/ufo/dist/index.mjs","mtime":1696601673636},{"path":"/home/diane/Documents/MDT/Portfolio/node_modules/cache-loader/dist/cjs.js","mtime":1696602851329},{"path":"/home/diane/Documents/MDT/Portfolio/node_modules/babel-loader/lib/index.js","mtime":1696602851385}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZyb20uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuZGVzY3JpcHRpb24uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvcnMuanMiOwppbXBvcnQgX3NsaWNlZFRvQXJyYXkgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vc2xpY2VkVG9BcnJheSI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwppbXBvcnQgX3RvQXJyYXkgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9BcnJheSI7CmltcG9ydCBfdHlwZW9mIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3R5cGVvZiI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKZnVuY3Rpb24gb3duS2V5cyhlLCByKSB7IHZhciB0ID0gT2JqZWN0LmtleXMoZSk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBvID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTsgciAmJiAobyA9IG8uZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIHIpLmVudW1lcmFibGU7IH0pKSwgdC5wdXNoLmFwcGx5KHQsIG8pOyB9IHJldHVybiB0OyB9CmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQoZSkgeyBmb3IgKHZhciByID0gMTsgciA8IGFyZ3VtZW50cy5sZW5ndGg7IHIrKykgeyB2YXIgdCA9IG51bGwgIT0gYXJndW1lbnRzW3JdID8gYXJndW1lbnRzW3JdIDoge307IHIgJSAyID8gb3duS2V5cyhPYmplY3QodCksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0W3JdKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHQpKSA6IG93bktleXMoT2JqZWN0KHQpKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsIHIpKTsgfSk7IH0gcmV0dXJuIGU7IH0KZnVuY3Rpb24gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobywgYWxsb3dBcnJheUxpa2UpIHsgdmFyIGl0ID0gdHlwZW9mIFN5bWJvbCAhPT0gInVuZGVmaW5lZCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdIHx8IG9bIkBAaXRlcmF0b3IiXTsgaWYgKCFpdCkgeyBpZiAoQXJyYXkuaXNBcnJheShvKSB8fCAoaXQgPSBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobykpIHx8IGFsbG93QXJyYXlMaWtlICYmIG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSAibnVtYmVyIikgeyBpZiAoaXQpIG8gPSBpdDsgdmFyIGkgPSAwOyB2YXIgRiA9IGZ1bmN0aW9uIEYoKSB7fTsgcmV0dXJuIHsgczogRiwgbjogZnVuY3Rpb24gbigpIHsgaWYgKGkgPj0gby5sZW5ndGgpIHJldHVybiB7IGRvbmU6IHRydWUgfTsgcmV0dXJuIHsgZG9uZTogZmFsc2UsIHZhbHVlOiBvW2krK10gfTsgfSwgZTogZnVuY3Rpb24gZShfZSkgeyB0aHJvdyBfZTsgfSwgZjogRiB9OyB9IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKTsgfSB2YXIgbm9ybWFsQ29tcGxldGlvbiA9IHRydWUsIGRpZEVyciA9IGZhbHNlLCBlcnI7IHJldHVybiB7IHM6IGZ1bmN0aW9uIHMoKSB7IGl0ID0gaXQuY2FsbChvKTsgfSwgbjogZnVuY3Rpb24gbigpIHsgdmFyIHN0ZXAgPSBpdC5uZXh0KCk7IG5vcm1hbENvbXBsZXRpb24gPSBzdGVwLmRvbmU7IHJldHVybiBzdGVwOyB9LCBlOiBmdW5jdGlvbiBlKF9lMikgeyBkaWRFcnIgPSB0cnVlOyBlcnIgPSBfZTI7IH0sIGY6IGZ1bmN0aW9uIGYoKSB7IHRyeSB7IGlmICghbm9ybWFsQ29tcGxldGlvbiAmJiBpdC5yZXR1cm4gIT0gbnVsbCkgaXQucmV0dXJuKCk7IH0gZmluYWxseSB7IGlmIChkaWRFcnIpIHRocm93IGVycjsgfSB9IH07IH0KZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSAic3RyaW5nIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09ICJPYmplY3QiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSAiTWFwIiB8fCBuID09PSAiU2V0IikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSAiQXJndW1lbnRzIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH0KZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgYXJyMltpXSA9IGFycltpXTsgcmV0dXJuIGFycjI7IH0KaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcubWF0Y2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zZWFyY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi51cmwtc2VhcmNoLXBhcmFtcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3RhcnRzLXdpdGguanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuZW5kcy13aXRoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKdmFyIG4gPSAvW15cMC1ceDdFXS87CnZhciB0ID0gL1tceDJFXHUzMDAyXHVGRjBFXHVGRjYxXS9nOwp2YXIgbyA9IHsKICBvdmVyZmxvdzogIk92ZXJmbG93IEVycm9yIiwKICAibm90LWJhc2ljIjogIklsbGVnYWwgSW5wdXQiLAogICJpbnZhbGlkLWlucHV0IjogIkludmFsaWQgSW5wdXQiCn07CnZhciBlID0gTWF0aC5mbG9vcjsKdmFyIHIgPSBTdHJpbmcuZnJvbUNoYXJDb2RlOwpmdW5jdGlvbiBzKG4yKSB7CiAgdGhyb3cgbmV3IFJhbmdlRXJyb3Iob1tuMl0pOwp9CnZhciBjID0gZnVuY3Rpb24gYyhuMiwgdDIpIHsKICByZXR1cm4gbjIgKyAyMiArIDc1ICogKG4yIDwgMjYpIC0gKCh0MiAhPSAwKSA8PCA1KTsKfTsKdmFyIHUgPSBmdW5jdGlvbiB1KG4yLCB0MiwgbzIpIHsKICB2YXIgcjIgPSAwOwogIGZvciAobjIgPSBvMiA/IGUobjIgLyA3MDApIDogbjIgPj4gMSwgbjIgKz0gZShuMiAvIHQyKTsgbjIgPiA0NTU7IHIyICs9IDM2KSB7CiAgICBuMiA9IGUobjIgLyAzNSk7CiAgfQogIHJldHVybiBlKHIyICsgMzYgKiBuMiAvIChuMiArIDM4KSk7Cn07CmZ1bmN0aW9uIHRvQVNDSUkobzIpIHsKICByZXR1cm4gZnVuY3Rpb24gKG4yLCBvMykgewogICAgdmFyIGUyID0gbjIuc3BsaXQoIkAiKTsKICAgIHZhciByMiA9ICIiOwogICAgZTIubGVuZ3RoID4gMSAmJiAocjIgPSBlMlswXSArICJAIiwgbjIgPSBlMlsxXSk7CiAgICB2YXIgczIgPSBmdW5jdGlvbiAobjMsIHQyKSB7CiAgICAgIHZhciBvNCA9IFtdOwogICAgICB2YXIgZTMgPSBuMy5sZW5ndGg7CiAgICAgIGZvciAoOyBlMy0tOykgewogICAgICAgIG80W2UzXSA9IHQyKG4zW2UzXSk7CiAgICAgIH0KICAgICAgcmV0dXJuIG80OwogICAgfSgobjIgPSBuMi5yZXBsYWNlKHQsICIuIikpLnNwbGl0KCIuIiksIG8zKS5qb2luKCIuIik7CiAgICByZXR1cm4gcjIgKyBzMjsKICB9KG8yLCBmdW5jdGlvbiAodDIpIHsKICAgIHJldHVybiBuLnRlc3QodDIpID8gInhuLS0iICsgZnVuY3Rpb24gKG4yKSB7CiAgICAgIHZhciB0MyA9IFtdOwogICAgICB2YXIgbzMgPSAobjIgPSBmdW5jdGlvbiAobjMpIHsKICAgICAgICB2YXIgdDQgPSBbXTsKICAgICAgICB2YXIgbzQgPSAwOwogICAgICAgIHZhciBlMiA9IG4zLmxlbmd0aDsKICAgICAgICBmb3IgKDsgbzQgPCBlMjspIHsKICAgICAgICAgIHZhciByMiA9IG4zLmNoYXJDb2RlQXQobzQrKyk7CiAgICAgICAgICBpZiAocjIgPj0gNTUyOTYgJiYgcjIgPD0gNTYzMTkgJiYgbzQgPCBlMikgewogICAgICAgICAgICB2YXIgZTMgPSBuMy5jaGFyQ29kZUF0KG80KyspOwogICAgICAgICAgICAoNjQ1MTIgJiBlMykgPT0gNTYzMjAgPyB0NC5wdXNoKCgoMTAyMyAmIHIyKSA8PCAxMCkgKyAoMTAyMyAmIGUzKSArIDY1NTM2KSA6ICh0NC5wdXNoKHIyKSwgbzQtLSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0NC5wdXNoKHIyKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIHQ0OwogICAgICB9KG4yKSkubGVuZ3RoOwogICAgICB2YXIgZiA9IDEyODsKICAgICAgdmFyIGkgPSAwOwogICAgICB2YXIgbCA9IDcyOwogICAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobjIpLAogICAgICAgIF9zdGVwOwogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgX28gPSBfc3RlcC52YWx1ZTsKICAgICAgICAgIF9vIDwgMTI4ICYmIHQzLnB1c2gocihfbykpOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3IuZigpOwogICAgICB9CiAgICAgIHZhciBoID0gdDMubGVuZ3RoOwogICAgICB2YXIgcCA9IGg7CiAgICAgIGZvciAoaCAmJiB0My5wdXNoKCItIik7IHAgPCBvMzspIHsKICAgICAgICB2YXIgbzQgPSAyMTQ3NDgzNjQ3OwogICAgICAgIHZhciBfaXRlcmF0b3IyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobjIpLAogICAgICAgICAgX3N0ZXAyOwogICAgICAgIHRyeSB7CiAgICAgICAgICBmb3IgKF9pdGVyYXRvcjIucygpOyAhKF9zdGVwMiA9IF9pdGVyYXRvcjIubigpKS5kb25lOykgewogICAgICAgICAgICB2YXIgdDQgPSBfc3RlcDIudmFsdWU7CiAgICAgICAgICAgIHQ0ID49IGYgJiYgdDQgPCBvNCAmJiAobzQgPSB0NCk7CiAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICBfaXRlcmF0b3IyLmUoZXJyKTsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgX2l0ZXJhdG9yMi5mKCk7CiAgICAgICAgfQogICAgICAgIHZhciBhID0gcCArIDE7CiAgICAgICAgbzQgLSBmID4gZSgoMjE0NzQ4MzY0NyAtIGkpIC8gYSkgJiYgcygib3ZlcmZsb3ciKSwgaSArPSAobzQgLSBmKSAqIGEsIGYgPSBvNDsKICAgICAgICB2YXIgX2l0ZXJhdG9yMyA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKG4yKSwKICAgICAgICAgIF9zdGVwMzsKICAgICAgICB0cnkgewogICAgICAgICAgZm9yIChfaXRlcmF0b3IzLnMoKTsgIShfc3RlcDMgPSBfaXRlcmF0b3IzLm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgdmFyIG81ID0gX3N0ZXAzLnZhbHVlOwogICAgICAgICAgICBpZiAobzUgPCBmICYmICsraSA+IDIxNDc0ODM2NDcgJiYgcygib3ZlcmZsb3ciKSwgbzUgPT0gZikgewogICAgICAgICAgICAgIHZhciBuMyA9IGk7CiAgICAgICAgICAgICAgZm9yICh2YXIgbzYgPSAzNjs7IG82ICs9IDM2KSB7CiAgICAgICAgICAgICAgICB2YXIgczIgPSBvNiA8PSBsID8gMSA6IG82ID49IGwgKyAyNiA/IDI2IDogbzYgLSBsOwogICAgICAgICAgICAgICAgaWYgKG4zIDwgczIpIHsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB2YXIgdTIgPSBuMyAtIHMyOwogICAgICAgICAgICAgICAgdmFyIGYyID0gMzYgLSBzMjsKICAgICAgICAgICAgICAgIHQzLnB1c2gocihjKHMyICsgdTIgJSBmMiwgMCkpKSwgbjMgPSBlKHUyIC8gZjIpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB0My5wdXNoKHIoYyhuMywgMCkpKSwgbCA9IHUoaSwgYSwgcCA9PSBoKSwgaSA9IDAsICsrcDsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgX2l0ZXJhdG9yMy5lKGVycik7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgIF9pdGVyYXRvcjMuZigpOwogICAgICAgIH0KICAgICAgICArK2ksICsrZjsKICAgICAgfQogICAgICByZXR1cm4gdDMuam9pbigiIik7CiAgICB9KHQyKSA6IHQyOwogIH0pOwp9CnZhciBIQVNIX1JFID0gLyMvZzsKdmFyIEFNUEVSU0FORF9SRSA9IC8mL2c7CnZhciBTTEFTSF9SRSA9IC9cLy9nOwp2YXIgRVFVQUxfUkUgPSAvPS9nOwp2YXIgSU1fUkUgPSAvXD8vZzsKdmFyIFBMVVNfUkUgPSAvXCsvZzsKdmFyIEVOQ19CUkFDS0VUX09QRU5fUkUgPSAvJTVCL2dpOwp2YXIgRU5DX0JSQUNLRVRfQ0xPU0VfUkUgPSAvJTVEL2dpOwp2YXIgRU5DX0NBUkVUX1JFID0gLyU1RS9naTsKdmFyIEVOQ19CQUNLVElDS19SRSA9IC8lNjAvZ2k7CnZhciBFTkNfQ1VSTFlfT1BFTl9SRSA9IC8lN0IvZ2k7CnZhciBFTkNfUElQRV9SRSA9IC8lN0MvZ2k7CnZhciBFTkNfQ1VSTFlfQ0xPU0VfUkUgPSAvJTdEL2dpOwp2YXIgRU5DX1NQQUNFX1JFID0gLyUyMC9naTsKdmFyIEVOQ19TTEFTSF9SRSA9IC8lMkYvZ2k7CnZhciBFTkNfRU5DX1NMQVNIX1JFID0gLyUyNTJGL2dpOwpmdW5jdGlvbiBlbmNvZGUodGV4dCkgewogIHJldHVybiBlbmNvZGVVUkkoIiIgKyB0ZXh0KS5yZXBsYWNlKEVOQ19QSVBFX1JFLCAifCIpLnJlcGxhY2UoRU5DX0JSQUNLRVRfT1BFTl9SRSwgIlsiKS5yZXBsYWNlKEVOQ19CUkFDS0VUX0NMT1NFX1JFLCAiXSIpOwp9CmZ1bmN0aW9uIGVuY29kZUhhc2godGV4dCkgewogIHJldHVybiBlbmNvZGUodGV4dCkucmVwbGFjZShFTkNfQ1VSTFlfT1BFTl9SRSwgInsiKS5yZXBsYWNlKEVOQ19DVVJMWV9DTE9TRV9SRSwgIn0iKS5yZXBsYWNlKEVOQ19DQVJFVF9SRSwgIl4iKTsKfQpmdW5jdGlvbiBlbmNvZGVRdWVyeVZhbHVlKHRleHQpIHsKICByZXR1cm4gZW5jb2RlKHRleHQpLnJlcGxhY2UoUExVU19SRSwgIiUyQiIpLnJlcGxhY2UoRU5DX1NQQUNFX1JFLCAiKyIpLnJlcGxhY2UoSEFTSF9SRSwgIiUyMyIpLnJlcGxhY2UoQU1QRVJTQU5EX1JFLCAiJTI2IikucmVwbGFjZShFTkNfQkFDS1RJQ0tfUkUsICJgIikucmVwbGFjZShFTkNfQ1VSTFlfT1BFTl9SRSwgInsiKS5yZXBsYWNlKEVOQ19DVVJMWV9DTE9TRV9SRSwgIn0iKS5yZXBsYWNlKEVOQ19DQVJFVF9SRSwgIl4iKTsKfQpmdW5jdGlvbiBlbmNvZGVRdWVyeUtleSh0ZXh0KSB7CiAgcmV0dXJuIGVuY29kZVF1ZXJ5VmFsdWUodGV4dCkucmVwbGFjZShFUVVBTF9SRSwgIiUzRCIpOwp9CmZ1bmN0aW9uIGVuY29kZVBhdGgodGV4dCkgewogIHJldHVybiBlbmNvZGUodGV4dCkucmVwbGFjZShIQVNIX1JFLCAiJTIzIikucmVwbGFjZShJTV9SRSwgIiUzRiIpLnJlcGxhY2UoRU5DX0VOQ19TTEFTSF9SRSwgIiUyRiIpLnJlcGxhY2UoQU1QRVJTQU5EX1JFLCAiJTI2IikucmVwbGFjZShQTFVTX1JFLCAiJTJCIik7Cn0KZnVuY3Rpb24gZW5jb2RlUGFyYW0odGV4dCkgewogIHJldHVybiBlbmNvZGVQYXRoKHRleHQpLnJlcGxhY2UoU0xBU0hfUkUsICIlMkYiKTsKfQpmdW5jdGlvbiBkZWNvZGUoKSB7CiAgdmFyIHRleHQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICIiOwogIHRyeSB7CiAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KCIiICsgdGV4dCk7CiAgfSBjYXRjaCAoX2VycikgewogICAgcmV0dXJuICIiICsgdGV4dDsKICB9Cn0KZnVuY3Rpb24gZGVjb2RlUGF0aCh0ZXh0KSB7CiAgcmV0dXJuIGRlY29kZSh0ZXh0LnJlcGxhY2UoRU5DX1NMQVNIX1JFLCAiJTI1MkYiKSk7Cn0KZnVuY3Rpb24gZGVjb2RlUXVlcnlWYWx1ZSh0ZXh0KSB7CiAgcmV0dXJuIGRlY29kZSh0ZXh0LnJlcGxhY2UoUExVU19SRSwgIiAiKSk7Cn0KZnVuY3Rpb24gZW5jb2RlSG9zdCgpIHsKICB2YXIgbmFtZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogIiI7CiAgcmV0dXJuIHRvQVNDSUkobmFtZSk7Cn0KZnVuY3Rpb24gcGFyc2VRdWVyeSgpIHsKICB2YXIgcGFyYW1zU3RyID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAiIjsKICB2YXIgb2JqID0ge307CiAgaWYgKHBhcmFtc1N0clswXSA9PT0gIj8iKSB7CiAgICBwYXJhbXNTdHIgPSBwYXJhbXNTdHIuc3Vic3RyKDEpOwogIH0KICB2YXIgX2l0ZXJhdG9yNCA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHBhcmFtc1N0ci5zcGxpdCgiJiIpKSwKICAgIF9zdGVwNDsKICB0cnkgewogICAgZm9yIChfaXRlcmF0b3I0LnMoKTsgIShfc3RlcDQgPSBfaXRlcmF0b3I0Lm4oKSkuZG9uZTspIHsKICAgICAgdmFyIHBhcmFtID0gX3N0ZXA0LnZhbHVlOwogICAgICB2YXIgX3MgPSBwYXJhbS5tYXRjaCgvKFtePV0rKT0/KC4qKS8pIHx8IFtdOwogICAgICBpZiAoX3MubGVuZ3RoIDwgMikgewogICAgICAgIGNvbnRpbnVlOwogICAgICB9CiAgICAgIHZhciBrZXkgPSBkZWNvZGUoX3NbMV0pOwogICAgICBpZiAoa2V5ID09PSAiX19wcm90b19fIiB8fCBrZXkgPT09ICJjb25zdHJ1Y3RvciIpIHsKICAgICAgICBjb250aW51ZTsKICAgICAgfQogICAgICB2YXIgdmFsdWUgPSBkZWNvZGVRdWVyeVZhbHVlKF9zWzJdIHx8ICIiKTsKICAgICAgaWYgKG9ialtrZXldKSB7CiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob2JqW2tleV0pKSB7CiAgICAgICAgICBvYmpba2V5XS5wdXNoKHZhbHVlKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgb2JqW2tleV0gPSBbb2JqW2tleV0sIHZhbHVlXTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgb2JqW2tleV0gPSB2YWx1ZTsKICAgICAgfQogICAgfQogIH0gY2F0Y2ggKGVycikgewogICAgX2l0ZXJhdG9yNC5lKGVycik7CiAgfSBmaW5hbGx5IHsKICAgIF9pdGVyYXRvcjQuZigpOwogIH0KICByZXR1cm4gb2JqOwp9CmZ1bmN0aW9uIGVuY29kZVF1ZXJ5SXRlbShrZXksIHZhbCkgewogIGlmICghdmFsKSB7CiAgICByZXR1cm4gZW5jb2RlUXVlcnlLZXkoa2V5KTsKICB9CiAgaWYgKEFycmF5LmlzQXJyYXkodmFsKSkgewogICAgcmV0dXJuIHZhbC5tYXAoZnVuY3Rpb24gKF92YWwpIHsKICAgICAgcmV0dXJuICIiLmNvbmNhdChlbmNvZGVRdWVyeUtleShrZXkpLCAiPSIpLmNvbmNhdChlbmNvZGVRdWVyeVZhbHVlKF92YWwpKTsKICAgIH0pLmpvaW4oIiYiKTsKICB9CiAgcmV0dXJuICIiLmNvbmNhdChlbmNvZGVRdWVyeUtleShrZXkpLCAiPSIpLmNvbmNhdChlbmNvZGVRdWVyeVZhbHVlKHZhbCkpOwp9CmZ1bmN0aW9uIHN0cmluZ2lmeVF1ZXJ5KHF1ZXJ5KSB7CiAgcmV0dXJuIE9iamVjdC5rZXlzKHF1ZXJ5KS5tYXAoZnVuY3Rpb24gKGspIHsKICAgIHJldHVybiBlbmNvZGVRdWVyeUl0ZW0oaywgcXVlcnlba10pOwogIH0pLmpvaW4oIiYiKTsKfQp2YXIgJFVSTCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gJFVSTCgpIHsKICAgIHZhciBpbnB1dCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogIiI7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgJFVSTCk7CiAgICB0aGlzLnF1ZXJ5ID0ge307CiAgICBpZiAodHlwZW9mIGlucHV0ICE9PSAic3RyaW5nIikgewogICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCJVUkwgaW5wdXQgc2hvdWxkIGJlIHN0cmluZyByZWNlaXZlZCAiLmNvbmNhdChfdHlwZW9mKGlucHV0KSwgIiAoIikuY29uY2F0KGlucHV0LCAiKSIpKTsKICAgIH0KICAgIHZhciBwYXJzZWQgPSBwYXJzZVVSTChpbnB1dCk7CiAgICB0aGlzLnByb3RvY29sID0gZGVjb2RlKHBhcnNlZC5wcm90b2NvbCk7CiAgICB0aGlzLmhvc3QgPSBkZWNvZGUocGFyc2VkLmhvc3QpOwogICAgdGhpcy5hdXRoID0gZGVjb2RlKHBhcnNlZC5hdXRoKTsKICAgIHRoaXMucGF0aG5hbWUgPSBkZWNvZGVQYXRoKHBhcnNlZC5wYXRobmFtZSk7CiAgICB0aGlzLnF1ZXJ5ID0gcGFyc2VRdWVyeShwYXJzZWQuc2VhcmNoKTsKICAgIHRoaXMuaGFzaCA9IGRlY29kZShwYXJzZWQuaGFzaCk7CiAgfQogIF9jcmVhdGVDbGFzcygkVVJMLCBbewogICAga2V5OiAiaG9zdG5hbWUiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiBwYXJzZUhvc3QodGhpcy5ob3N0KS5ob3N0bmFtZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJwb3J0IiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gcGFyc2VIb3N0KHRoaXMuaG9zdCkucG9ydCB8fCAiIjsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJ1c2VybmFtZSIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHBhcnNlQXV0aCh0aGlzLmF1dGgpLnVzZXJuYW1lOwogICAgfQogIH0sIHsKICAgIGtleTogInBhc3N3b3JkIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gcGFyc2VBdXRoKHRoaXMuYXV0aCkucGFzc3dvcmQgfHwgIiI7CiAgICB9CiAgfSwgewogICAga2V5OiAiaGFzUHJvdG9jb2wiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLnByb3RvY29sLmxlbmd0aDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJpc0Fic29sdXRlIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy5oYXNQcm90b2NvbCB8fCB0aGlzLnBhdGhuYW1lWzBdID09PSAiLyI7CiAgICB9CiAgfSwgewogICAga2V5OiAic2VhcmNoIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgcSA9IHN0cmluZ2lmeVF1ZXJ5KHRoaXMucXVlcnkpOwogICAgICByZXR1cm4gcS5sZW5ndGggPyAiPyIgKyBxIDogIiI7CiAgICB9CiAgfSwgewogICAga2V5OiAic2VhcmNoUGFyYW1zIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICB2YXIgcCA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTsKICAgICAgdmFyIF9sb29wID0gZnVuY3Rpb24gX2xvb3AobmFtZSkgewogICAgICAgIHZhciB2YWx1ZSA9IF90aGlzLnF1ZXJ5W25hbWVdOwogICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkgewogICAgICAgICAgdmFsdWUuZm9yRWFjaChmdW5jdGlvbiAodikgewogICAgICAgICAgICByZXR1cm4gcC5hcHBlbmQobmFtZSwgdik7CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcC5hcHBlbmQobmFtZSwgdmFsdWUgfHwgIiIpOwogICAgICAgIH0KICAgICAgfTsKICAgICAgZm9yICh2YXIgbmFtZSBpbiB0aGlzLnF1ZXJ5KSB7CiAgICAgICAgX2xvb3AobmFtZSk7CiAgICAgIH0KICAgICAgcmV0dXJuIHA7CiAgICB9CiAgfSwgewogICAga2V5OiAib3JpZ2luIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gKHRoaXMucHJvdG9jb2wgPyB0aGlzLnByb3RvY29sICsgIi8vIiA6ICIiKSArIGVuY29kZUhvc3QodGhpcy5ob3N0KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJmdWxscGF0aCIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIGVuY29kZVBhdGgodGhpcy5wYXRobmFtZSkgKyB0aGlzLnNlYXJjaCArIGVuY29kZUhhc2godGhpcy5oYXNoKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJlbmNvZGVkQXV0aCIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgaWYgKCF0aGlzLmF1dGgpIHsKICAgICAgICByZXR1cm4gIiI7CiAgICAgIH0KICAgICAgdmFyIF9wYXJzZUF1dGggPSBwYXJzZUF1dGgodGhpcy5hdXRoKSwKICAgICAgICB1c2VybmFtZSA9IF9wYXJzZUF1dGgudXNlcm5hbWUsCiAgICAgICAgcGFzc3dvcmQgPSBfcGFyc2VBdXRoLnBhc3N3b3JkOwogICAgICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHVzZXJuYW1lKSArIChwYXNzd29yZCA/ICI6IiArIGVuY29kZVVSSUNvbXBvbmVudChwYXNzd29yZCkgOiAiIik7CiAgICB9CiAgfSwgewogICAga2V5OiAiaHJlZiIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIGF1dGggPSB0aGlzLmVuY29kZWRBdXRoOwogICAgICB2YXIgb3JpZ2luV2l0aEF1dGggPSAodGhpcy5wcm90b2NvbCA/IHRoaXMucHJvdG9jb2wgKyAiLy8iIDogIiIpICsgKGF1dGggPyBhdXRoICsgIkAiIDogIiIpICsgZW5jb2RlSG9zdCh0aGlzLmhvc3QpOwogICAgICByZXR1cm4gdGhpcy5oYXNQcm90b2NvbCAmJiB0aGlzLmlzQWJzb2x1dGUgPyBvcmlnaW5XaXRoQXV0aCArIHRoaXMuZnVsbHBhdGggOiB0aGlzLmZ1bGxwYXRoOwogICAgfQogIH0sIHsKICAgIGtleTogImFwcGVuZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gYXBwZW5kKHVybCkgewogICAgICBpZiAodXJsLmhhc1Byb3RvY29sKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJDYW5ub3QgYXBwZW5kIGEgVVJMIHdpdGggcHJvdG9jb2wiKTsKICAgICAgfQogICAgICBPYmplY3QuYXNzaWduKHRoaXMucXVlcnksIHVybC5xdWVyeSk7CiAgICAgIGlmICh1cmwucGF0aG5hbWUpIHsKICAgICAgICB0aGlzLnBhdGhuYW1lID0gd2l0aFRyYWlsaW5nU2xhc2godGhpcy5wYXRobmFtZSkgKyB3aXRob3V0TGVhZGluZ1NsYXNoKHVybC5wYXRobmFtZSk7CiAgICAgIH0KICAgICAgaWYgKHVybC5oYXNoKSB7CiAgICAgICAgdGhpcy5oYXNoID0gdXJsLmhhc2g7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJ0b0pTT04iLAogICAgdmFsdWU6IGZ1bmN0aW9uIHRvSlNPTigpIHsKICAgICAgcmV0dXJuIHRoaXMuaHJlZjsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJ0b1N0cmluZyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdG9TdHJpbmcoKSB7CiAgICAgIHJldHVybiB0aGlzLmhyZWY7CiAgICB9CiAgfV0pOwogIHJldHVybiAkVVJMOwp9KCk7CmZ1bmN0aW9uIGlzUmVsYXRpdmUoaW5wdXRTdHIpIHsKICByZXR1cm4gWyIuLyIsICIuLi8iXS5zb21lKGZ1bmN0aW9uIChzdHIpIHsKICAgIHJldHVybiBpbnB1dFN0ci5zdGFydHNXaXRoKHN0cik7CiAgfSk7Cn0KZnVuY3Rpb24gaGFzUHJvdG9jb2woaW5wdXRTdHIpIHsKICB2YXIgYWNjZXB0UHJvdG9jb2xSZWxhdGl2ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZmFsc2U7CiAgcmV0dXJuIC9eXHcrOlwvXC8uKy8udGVzdChpbnB1dFN0cikgfHwgYWNjZXB0UHJvdG9jb2xSZWxhdGl2ZSAmJiAvXlwvXC9bXi9dKy8udGVzdChpbnB1dFN0cik7Cn0KdmFyIFRSQUlMSU5HX1NMQVNIX1JFID0gL1wvJHxcL1w/LzsKZnVuY3Rpb24gaGFzVHJhaWxpbmdTbGFzaCgpIHsKICB2YXIgaW5wdXQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICIiOwogIHZhciBxdWVyeVBhcmFtcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZmFsc2U7CiAgaWYgKCFxdWVyeVBhcmFtcykgewogICAgcmV0dXJuIGlucHV0LmVuZHNXaXRoKCIvIik7CiAgfQogIHJldHVybiBUUkFJTElOR19TTEFTSF9SRS50ZXN0KGlucHV0KTsKfQpmdW5jdGlvbiB3aXRob3V0VHJhaWxpbmdTbGFzaCgpIHsKICB2YXIgaW5wdXQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICIiOwogIHZhciBxdWVyeVBhcmFtcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZmFsc2U7CiAgaWYgKCFxdWVyeVBhcmFtcykgewogICAgcmV0dXJuIChoYXNUcmFpbGluZ1NsYXNoKGlucHV0KSA/IGlucHV0LnNsaWNlKDAsIC0xKSA6IGlucHV0KSB8fCAiLyI7CiAgfQogIGlmICghaGFzVHJhaWxpbmdTbGFzaChpbnB1dCwgdHJ1ZSkpIHsKICAgIHJldHVybiBpbnB1dCB8fCAiLyI7CiAgfQogIHZhciBfaW5wdXQkc3BsaXQgPSBpbnB1dC5zcGxpdCgiPyIpLAogICAgX2lucHV0JHNwbGl0MiA9IF90b0FycmF5KF9pbnB1dCRzcGxpdCksCiAgICBzMCA9IF9pbnB1dCRzcGxpdDJbMF0sCiAgICBzID0gX2lucHV0JHNwbGl0Mi5zbGljZSgxKTsKICByZXR1cm4gKHMwLnNsaWNlKDAsIC0xKSB8fCAiLyIpICsgKHMubGVuZ3RoID8gIj8iLmNvbmNhdChzLmpvaW4oIj8iKSkgOiAiIik7Cn0KZnVuY3Rpb24gd2l0aFRyYWlsaW5nU2xhc2goKSB7CiAgdmFyIGlucHV0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAiIjsKICB2YXIgcXVlcnlQYXJhbXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZhbHNlOwogIGlmICghcXVlcnlQYXJhbXMpIHsKICAgIHJldHVybiBpbnB1dC5lbmRzV2l0aCgiLyIpID8gaW5wdXQgOiBpbnB1dCArICIvIjsKICB9CiAgaWYgKGhhc1RyYWlsaW5nU2xhc2goaW5wdXQsIHRydWUpKSB7CiAgICByZXR1cm4gaW5wdXQgfHwgIi8iOwogIH0KICB2YXIgX2lucHV0JHNwbGl0MyA9IGlucHV0LnNwbGl0KCI/IiksCiAgICBfaW5wdXQkc3BsaXQ0ID0gX3RvQXJyYXkoX2lucHV0JHNwbGl0MyksCiAgICBzMCA9IF9pbnB1dCRzcGxpdDRbMF0sCiAgICBzID0gX2lucHV0JHNwbGl0NC5zbGljZSgxKTsKICByZXR1cm4gczAgKyAiLyIgKyAocy5sZW5ndGggPyAiPyIuY29uY2F0KHMuam9pbigiPyIpKSA6ICIiKTsKfQpmdW5jdGlvbiBoYXNMZWFkaW5nU2xhc2goKSB7CiAgdmFyIGlucHV0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAiIjsKICByZXR1cm4gaW5wdXQuc3RhcnRzV2l0aCgiLyIpOwp9CmZ1bmN0aW9uIHdpdGhvdXRMZWFkaW5nU2xhc2goKSB7CiAgdmFyIGlucHV0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAiIjsKICByZXR1cm4gKGhhc0xlYWRpbmdTbGFzaChpbnB1dCkgPyBpbnB1dC5zdWJzdHIoMSkgOiBpbnB1dCkgfHwgIi8iOwp9CmZ1bmN0aW9uIHdpdGhMZWFkaW5nU2xhc2goKSB7CiAgdmFyIGlucHV0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAiIjsKICByZXR1cm4gaGFzTGVhZGluZ1NsYXNoKGlucHV0KSA/IGlucHV0IDogIi8iICsgaW5wdXQ7Cn0KZnVuY3Rpb24gY2xlYW5Eb3VibGVTbGFzaGVzKCkgewogIHZhciBpbnB1dCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogIiI7CiAgcmV0dXJuIGlucHV0LnNwbGl0KCI6Ly8iKS5tYXAoZnVuY3Rpb24gKHN0cikgewogICAgcmV0dXJuIHN0ci5yZXBsYWNlKC9cL3syLH0vZywgIi8iKTsKICB9KS5qb2luKCI6Ly8iKTsKfQpmdW5jdGlvbiB3aXRoQmFzZShpbnB1dCwgYmFzZSkgewogIGlmIChpc0VtcHR5VVJMKGJhc2UpKSB7CiAgICByZXR1cm4gaW5wdXQ7CiAgfQogIHZhciBfYmFzZSA9IHdpdGhvdXRUcmFpbGluZ1NsYXNoKGJhc2UpOwogIGlmIChpbnB1dC5zdGFydHNXaXRoKF9iYXNlKSkgewogICAgcmV0dXJuIGlucHV0OwogIH0KICByZXR1cm4gam9pblVSTChfYmFzZSwgaW5wdXQpOwp9CmZ1bmN0aW9uIHdpdGhvdXRCYXNlKGlucHV0LCBiYXNlKSB7CiAgaWYgKGlzRW1wdHlVUkwoYmFzZSkpIHsKICAgIHJldHVybiBpbnB1dDsKICB9CiAgdmFyIF9iYXNlID0gd2l0aG91dFRyYWlsaW5nU2xhc2goYmFzZSk7CiAgaWYgKGlucHV0LnN0YXJ0c1dpdGgoX2Jhc2UpKSB7CiAgICByZXR1cm4gaW5wdXQuc3Vic3RyKF9iYXNlLmxlbmd0aCkgfHwgIi8iOwogIH0KICByZXR1cm4gaW5wdXQ7Cn0KZnVuY3Rpb24gd2l0aFF1ZXJ5KGlucHV0LCBxdWVyeSkgewogIHZhciBwYXJzZWQgPSBwYXJzZVVSTChpbnB1dCk7CiAgdmFyIG1lcmdlZFF1ZXJ5ID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBwYXJzZVF1ZXJ5KHBhcnNlZC5zZWFyY2gpKSwgcXVlcnkpOwogIHBhcnNlZC5zZWFyY2ggPSBzdHJpbmdpZnlRdWVyeShtZXJnZWRRdWVyeSk7CiAgcmV0dXJuIHN0cmluZ2lmeVBhcnNlZFVSTChwYXJzZWQpOwp9CmZ1bmN0aW9uIGdldFF1ZXJ5KGlucHV0KSB7CiAgcmV0dXJuIHBhcnNlUXVlcnkocGFyc2VVUkwoaW5wdXQpLnNlYXJjaCk7Cn0KZnVuY3Rpb24gaXNFbXB0eVVSTCh1cmwpIHsKICByZXR1cm4gIXVybCB8fCB1cmwgPT09ICIvIjsKfQpmdW5jdGlvbiBpc05vbkVtcHR5VVJMKHVybCkgewogIHJldHVybiB1cmwgJiYgdXJsICE9PSAiLyI7Cn0KZnVuY3Rpb24gam9pblVSTChiYXNlKSB7CiAgdmFyIHVybCA9IGJhc2UgfHwgIiI7CiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGlucHV0ID0gbmV3IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHsKICAgIGlucHV0W19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTsKICB9CiAgdmFyIF9pdGVyYXRvcjUgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihpbnB1dC5maWx0ZXIoaXNOb25FbXB0eVVSTCkpLAogICAgX3N0ZXA1OwogIHRyeSB7CiAgICBmb3IgKF9pdGVyYXRvcjUucygpOyAhKF9zdGVwNSA9IF9pdGVyYXRvcjUubigpKS5kb25lOykgewogICAgICB2YXIgaSA9IF9zdGVwNS52YWx1ZTsKICAgICAgdXJsID0gdXJsID8gd2l0aFRyYWlsaW5nU2xhc2godXJsKSArIHdpdGhvdXRMZWFkaW5nU2xhc2goaSkgOiBpOwogICAgfQogIH0gY2F0Y2ggKGVycikgewogICAgX2l0ZXJhdG9yNS5lKGVycik7CiAgfSBmaW5hbGx5IHsKICAgIF9pdGVyYXRvcjUuZigpOwogIH0KICByZXR1cm4gdXJsOwp9CmZ1bmN0aW9uIGNyZWF0ZVVSTChpbnB1dCkgewogIHJldHVybiBuZXcgJFVSTChpbnB1dCk7Cn0KZnVuY3Rpb24gbm9ybWFsaXplVVJMKGlucHV0KSB7CiAgcmV0dXJuIGNyZWF0ZVVSTChpbnB1dCkudG9TdHJpbmcoKTsKfQpmdW5jdGlvbiByZXNvbHZlVVJMKGJhc2UpIHsKICB2YXIgdXJsID0gY3JlYXRlVVJMKGJhc2UpOwogIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgaW5wdXQgPSBuZXcgQXJyYXkoX2xlbjIgPiAxID8gX2xlbjIgLSAxIDogMCksIF9rZXkyID0gMTsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykgewogICAgaW5wdXRbX2tleTIgLSAxXSA9IGFyZ3VtZW50c1tfa2V5Ml07CiAgfQogIHZhciBfaXRlcmF0b3I2ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoaW5wdXQuZmlsdGVyKGlzTm9uRW1wdHlVUkwpKSwKICAgIF9zdGVwNjsKICB0cnkgewogICAgZm9yIChfaXRlcmF0b3I2LnMoKTsgIShfc3RlcDYgPSBfaXRlcmF0b3I2Lm4oKSkuZG9uZTspIHsKICAgICAgdmFyIGkgPSBfc3RlcDYudmFsdWU7CiAgICAgIHVybC5hcHBlbmQoY3JlYXRlVVJMKGkpKTsKICAgIH0KICB9IGNhdGNoIChlcnIpIHsKICAgIF9pdGVyYXRvcjYuZShlcnIpOwogIH0gZmluYWxseSB7CiAgICBfaXRlcmF0b3I2LmYoKTsKICB9CiAgcmV0dXJuIHVybC50b1N0cmluZygpOwp9CmZ1bmN0aW9uIGlzU2FtZVBhdGgocDEsIHAyKSB7CiAgcmV0dXJuIGRlY29kZSh3aXRob3V0VHJhaWxpbmdTbGFzaChwMSkpID09PSBkZWNvZGUod2l0aG91dFRyYWlsaW5nU2xhc2gocDIpKTsKfQpmdW5jdGlvbiBwYXJzZVVSTCgpIHsKICB2YXIgaW5wdXQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICIiOwogIHZhciBkZWZhdWx0UHJvdG8gPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZDsKICBpZiAoIWhhc1Byb3RvY29sKGlucHV0LCB0cnVlKSkgewogICAgcmV0dXJuIGRlZmF1bHRQcm90byA/IHBhcnNlVVJMKGRlZmF1bHRQcm90byArIGlucHV0KSA6IHBhcnNlUGF0aChpbnB1dCk7CiAgfQogIHZhciBfc3BsaWNlID0gKGlucHV0LnJlcGxhY2UoL1xcL2csICIvIikubWF0Y2goLyhbXjovXSs6KT9cL1wvKFteL0BdK0ApPyguKikvKSB8fCBbXSkuc3BsaWNlKDEpLAogICAgX3NwbGljZTIgPSBfc2xpY2VkVG9BcnJheShfc3BsaWNlLCAzKSwKICAgIF9zcGxpY2UyJCA9IF9zcGxpY2UyWzBdLAogICAgcHJvdG9jb2wgPSBfc3BsaWNlMiQgPT09IHZvaWQgMCA/ICIiIDogX3NwbGljZTIkLAogICAgYXV0aCA9IF9zcGxpY2UyWzFdLAogICAgaG9zdEFuZFBhdGggPSBfc3BsaWNlMlsyXTsKICB2YXIgX3NwbGljZTMgPSAoaG9zdEFuZFBhdGgubWF0Y2goLyhbXi8/I10qKSguKik/LykgfHwgW10pLnNwbGljZSgxKSwKICAgIF9zcGxpY2U0ID0gX3NsaWNlZFRvQXJyYXkoX3NwbGljZTMsIDIpLAogICAgX3NwbGljZTQkID0gX3NwbGljZTRbMF0sCiAgICBob3N0ID0gX3NwbGljZTQkID09PSB2b2lkIDAgPyAiIiA6IF9zcGxpY2U0JCwKICAgIF9zcGxpY2U0JDIgPSBfc3BsaWNlNFsxXSwKICAgIHBhdGggPSBfc3BsaWNlNCQyID09PSB2b2lkIDAgPyAiIiA6IF9zcGxpY2U0JDI7CiAgdmFyIF9wYXJzZVBhdGggPSBwYXJzZVBhdGgocGF0aCksCiAgICBwYXRobmFtZSA9IF9wYXJzZVBhdGgucGF0aG5hbWUsCiAgICBzZWFyY2ggPSBfcGFyc2VQYXRoLnNlYXJjaCwKICAgIGhhc2ggPSBfcGFyc2VQYXRoLmhhc2g7CiAgcmV0dXJuIHsKICAgIHByb3RvY29sOiBwcm90b2NvbCwKICAgIGF1dGg6IGF1dGggPyBhdXRoLnN1YnN0cigwLCBhdXRoLmxlbmd0aCAtIDEpIDogIiIsCiAgICBob3N0OiBob3N0LAogICAgcGF0aG5hbWU6IHBhdGhuYW1lLAogICAgc2VhcmNoOiBzZWFyY2gsCiAgICBoYXNoOiBoYXNoCiAgfTsKfQpmdW5jdGlvbiBwYXJzZVBhdGgoKSB7CiAgdmFyIGlucHV0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAiIjsKICB2YXIgX3NwbGljZTUgPSAoaW5wdXQubWF0Y2goLyhbXiM/XSopKFw/W14jXSopPygjLiopPy8pIHx8IFtdKS5zcGxpY2UoMSksCiAgICBfc3BsaWNlNiA9IF9zbGljZWRUb0FycmF5KF9zcGxpY2U1LCAzKSwKICAgIF9zcGxpY2U2JCA9IF9zcGxpY2U2WzBdLAogICAgcGF0aG5hbWUgPSBfc3BsaWNlNiQgPT09IHZvaWQgMCA/ICIiIDogX3NwbGljZTYkLAogICAgX3NwbGljZTYkMiA9IF9zcGxpY2U2WzFdLAogICAgc2VhcmNoID0gX3NwbGljZTYkMiA9PT0gdm9pZCAwID8gIiIgOiBfc3BsaWNlNiQyLAogICAgX3NwbGljZTYkMyA9IF9zcGxpY2U2WzJdLAogICAgaGFzaCA9IF9zcGxpY2U2JDMgPT09IHZvaWQgMCA/ICIiIDogX3NwbGljZTYkMzsKICByZXR1cm4gewogICAgcGF0aG5hbWU6IHBhdGhuYW1lLAogICAgc2VhcmNoOiBzZWFyY2gsCiAgICBoYXNoOiBoYXNoCiAgfTsKfQpmdW5jdGlvbiBwYXJzZUF1dGgoKSB7CiAgdmFyIGlucHV0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAiIjsKICB2YXIgX2lucHV0JHNwbGl0NSA9IGlucHV0LnNwbGl0KCI6IiksCiAgICBfaW5wdXQkc3BsaXQ2ID0gX3NsaWNlZFRvQXJyYXkoX2lucHV0JHNwbGl0NSwgMiksCiAgICB1c2VybmFtZSA9IF9pbnB1dCRzcGxpdDZbMF0sCiAgICBwYXNzd29yZCA9IF9pbnB1dCRzcGxpdDZbMV07CiAgcmV0dXJuIHsKICAgIHVzZXJuYW1lOiBkZWNvZGUodXNlcm5hbWUpLAogICAgcGFzc3dvcmQ6IGRlY29kZShwYXNzd29yZCkKICB9Owp9CmZ1bmN0aW9uIHBhcnNlSG9zdCgpIHsKICB2YXIgaW5wdXQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICIiOwogIHZhciBfc3BsaWNlNyA9IChpbnB1dC5tYXRjaCgvKFteL10qKSg6MC05Kyk/LykgfHwgW10pLnNwbGljZSgxKSwKICAgIF9zcGxpY2U4ID0gX3NsaWNlZFRvQXJyYXkoX3NwbGljZTcsIDIpLAogICAgaG9zdG5hbWUgPSBfc3BsaWNlOFswXSwKICAgIHBvcnQgPSBfc3BsaWNlOFsxXTsKICByZXR1cm4gewogICAgaG9zdG5hbWU6IGRlY29kZShob3N0bmFtZSksCiAgICBwb3J0OiBwb3J0CiAgfTsKfQpmdW5jdGlvbiBzdHJpbmdpZnlQYXJzZWRVUkwocGFyc2VkKSB7CiAgdmFyIGZ1bGxwYXRoID0gcGFyc2VkLnBhdGhuYW1lICsgKHBhcnNlZC5zZWFyY2ggPyAocGFyc2VkLnNlYXJjaC5zdGFydHNXaXRoKCI/IikgPyAiIiA6ICI/IikgKyBwYXJzZWQuc2VhcmNoIDogIiIpICsgcGFyc2VkLmhhc2g7CiAgaWYgKCFwYXJzZWQucHJvdG9jb2wpIHsKICAgIHJldHVybiBmdWxscGF0aDsKICB9CiAgcmV0dXJuIHBhcnNlZC5wcm90b2NvbCArICIvLyIgKyAocGFyc2VkLmF1dGggPyBwYXJzZWQuYXV0aCArICJAIiA6ICIiKSArIHBhcnNlZC5ob3N0ICsgZnVsbHBhdGg7Cn0KZXhwb3J0IHsgJFVSTCwgY2xlYW5Eb3VibGVTbGFzaGVzLCBjcmVhdGVVUkwsIGRlY29kZSwgZGVjb2RlUGF0aCwgZGVjb2RlUXVlcnlWYWx1ZSwgZW5jb2RlLCBlbmNvZGVIYXNoLCBlbmNvZGVIb3N0LCBlbmNvZGVQYXJhbSwgZW5jb2RlUGF0aCwgZW5jb2RlUXVlcnlJdGVtLCBlbmNvZGVRdWVyeUtleSwgZW5jb2RlUXVlcnlWYWx1ZSwgZ2V0UXVlcnksIGhhc0xlYWRpbmdTbGFzaCwgaGFzUHJvdG9jb2wsIGhhc1RyYWlsaW5nU2xhc2gsIGlzRW1wdHlVUkwsIGlzTm9uRW1wdHlVUkwsIGlzUmVsYXRpdmUsIGlzU2FtZVBhdGgsIGpvaW5VUkwsIG5vcm1hbGl6ZVVSTCwgcGFyc2VBdXRoLCBwYXJzZUhvc3QsIHBhcnNlUGF0aCwgcGFyc2VRdWVyeSwgcGFyc2VVUkwsIHJlc29sdmVVUkwsIHN0cmluZ2lmeVBhcnNlZFVSTCwgc3RyaW5naWZ5UXVlcnksIHdpdGhCYXNlLCB3aXRoTGVhZGluZ1NsYXNoLCB3aXRoUXVlcnksIHdpdGhUcmFpbGluZ1NsYXNoLCB3aXRob3V0QmFzZSwgd2l0aG91dExlYWRpbmdTbGFzaCwgd2l0aG91dFRyYWlsaW5nU2xhc2ggfTs="},null]}