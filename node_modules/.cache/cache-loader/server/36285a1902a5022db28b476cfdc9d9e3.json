{"remainingRequest":"/home/diane/Documents/MDT/Portfolio/node_modules/esbuild-loader/dist/index.js??ref--2-1!/home/diane/Documents/MDT/Portfolio/node_modules/@nuxt/image/dist/runtime/image.js","dependencies":[{"path":"/home/diane/Documents/MDT/Portfolio/node_modules/@nuxt/image/dist/runtime/image.js","mtime":1696601674208},{"path":"/home/diane/Documents/MDT/Portfolio/node_modules/cache-loader/dist/cjs.js","mtime":1696602851329},{"path":"/home/diane/Documents/MDT/Portfolio/node_modules/esbuild-loader/dist/index.js","mtime":1696601673236}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9fZGVmUHJvcCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTsKdmFyIF9fZGVmUHJvcHMgPSBPYmplY3QuZGVmaW5lUHJvcGVydGllczsKdmFyIF9fZ2V0T3duUHJvcERlc2NzID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM7CnZhciBfX2dldE93blByb3BTeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9sczsKdmFyIF9faGFzT3duUHJvcCA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7CnZhciBfX3Byb3BJc0VudW0gPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlOwp2YXIgX19kZWZOb3JtYWxQcm9wID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ga2V5IGluIG9iaiA/IF9fZGVmUHJvcChvYmosIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZSB9KSA6IG9ialtrZXldID0gdmFsdWU7CnZhciBfX3NwcmVhZFZhbHVlcyA9IChhLCBiKSA9PiB7CiAgZm9yICh2YXIgcHJvcCBpbiBiIHx8IChiID0ge30pKQogICAgaWYgKF9faGFzT3duUHJvcC5jYWxsKGIsIHByb3ApKQogICAgICBfX2RlZk5vcm1hbFByb3AoYSwgcHJvcCwgYltwcm9wXSk7CiAgaWYgKF9fZ2V0T3duUHJvcFN5bWJvbHMpCiAgICBmb3IgKHZhciBwcm9wIG9mIF9fZ2V0T3duUHJvcFN5bWJvbHMoYikpIHsKICAgICAgaWYgKF9fcHJvcElzRW51bS5jYWxsKGIsIHByb3ApKQogICAgICAgIF9fZGVmTm9ybWFsUHJvcChhLCBwcm9wLCBiW3Byb3BdKTsKICAgIH0KICByZXR1cm4gYTsKfTsKdmFyIF9fc3ByZWFkUHJvcHMgPSAoYSwgYikgPT4gX19kZWZQcm9wcyhhLCBfX2dldE93blByb3BEZXNjcyhiKSk7CmltcG9ydCBkZWZ1IGZyb20gImRlZnUiOwppbXBvcnQgeyBoYXNQcm90b2NvbCwgcGFyc2VVUkwsIGpvaW5VUkwsIHdpdGhMZWFkaW5nU2xhc2ggfSBmcm9tICJ1Zm8iOwppbXBvcnQgeyBpbWFnZU1ldGEgfSBmcm9tICIuL3V0aWxzL21ldGEiOwppbXBvcnQgeyBwYXJzZVNpemUgfSBmcm9tICIuL3V0aWxzIjsKaW1wb3J0IHsgdXNlU3RhdGljSW1hZ2VNYXAgfSBmcm9tICIuL3V0aWxzL3N0YXRpYy1tYXAiOwpleHBvcnQgZnVuY3Rpb24gY3JlYXRlSW1hZ2UoZ2xvYmFsT3B0aW9ucywgbnV4dENvbnRleHQpIHsKICBjb25zdCBzdGF0aWNJbWFnZU1hbmlmZXN0ID0gcHJvY2Vzcy5jbGllbnQgJiYgcHJvY2Vzcy5zdGF0aWMgPyB1c2VTdGF0aWNJbWFnZU1hcChudXh0Q29udGV4dCkgOiB7fTsKICBjb25zdCBjdHggPSB7CiAgICBvcHRpb25zOiBnbG9iYWxPcHRpb25zLAogICAgbnV4dENvbnRleHQKICB9OwogIGNvbnN0IGdldEltYWdlID0gZnVuY3Rpb24oaW5wdXQsIG9wdGlvbnMgPSB7fSkgewogICAgY29uc3QgaW1hZ2UgPSByZXNvbHZlSW1hZ2UoY3R4LCBpbnB1dCwgb3B0aW9ucyk7CiAgICBpZiAoaW1hZ2UuaXNTdGF0aWMpIHsKICAgICAgaGFuZGxlU3RhdGljSW1hZ2UoaW1hZ2UsIGlucHV0KTsKICAgIH0KICAgIHJldHVybiBpbWFnZTsKICB9OwogIGNvbnN0ICRpbWcgPSBmdW5jdGlvbiAkaW1nMihpbnB1dCwgbW9kaWZpZXJzID0ge30sIG9wdGlvbnMgPSB7fSkgewogICAgcmV0dXJuIGdldEltYWdlKGlucHV0LCBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBvcHRpb25zKSwgewogICAgICBtb2RpZmllcnM6IGRlZnUobW9kaWZpZXJzLCBvcHRpb25zLm1vZGlmaWVycyB8fCB7fSkKICAgIH0pKS51cmw7CiAgfTsKICBmdW5jdGlvbiBoYW5kbGVTdGF0aWNJbWFnZShpbWFnZSwgaW5wdXQpIHsKICAgIHZhciBfYSwgX2I7CiAgICBpZiAocHJvY2Vzcy5zdGF0aWMpIHsKICAgICAgaWYgKHByb2Nlc3MuY2xpZW50ICYmICJmZXRjaFBheWxvYWQiIGluIHdpbmRvdy4kbnV4dCkgewogICAgICAgIGNvbnN0IG1hcHBlZFVSTCA9IHN0YXRpY0ltYWdlTWFuaWZlc3RbaW1hZ2UudXJsXTsKICAgICAgICBpbWFnZS51cmwgPSBtYXBwZWRVUkwgfHwgaW5wdXQ7CiAgICAgICAgcmV0dXJuIGltYWdlOwogICAgICB9CiAgICAgIGlmIChwcm9jZXNzLnNlcnZlcikgewogICAgICAgIGNvbnN0IHsgc3NyQ29udGV4dCB9ID0gY3R4Lm51eHRDb250ZXh0OwogICAgICAgIGlmIChzc3JDb250ZXh0KSB7CiAgICAgICAgICBjb25zdCBzc3JTdGF0ZSA9IHNzckNvbnRleHQubnV4dCB8fCB7fTsKICAgICAgICAgIGNvbnN0IHN0YXRpY0ltYWdlcyA9IHNzclN0YXRlLl9pbWcgPSBzc3JTdGF0ZS5faW1nIHx8IHt9OwogICAgICAgICAgY29uc3Qgc3NyRGF0YSA9IChfYSA9IHNzclN0YXRlLmRhdGEpID09IG51bGwgPyB2b2lkIDAgOiBfYVswXTsKICAgICAgICAgIGlmIChzc3JEYXRhKSB7CiAgICAgICAgICAgIHNzckRhdGEuX2ltZyA9IHN0YXRpY0ltYWdlczsKICAgICAgICAgIH0KICAgICAgICAgIGNvbnN0IG1hcFRvU3RhdGljID0gKF9iID0gc3NyQ29udGV4dC5pbWFnZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLm1hcFRvU3RhdGljOwogICAgICAgICAgaWYgKHR5cGVvZiBtYXBUb1N0YXRpYyA9PT0gImZ1bmN0aW9uIikgewogICAgICAgICAgICBjb25zdCBtYXBwZWRVUkwgPSBtYXBUb1N0YXRpYyhpbWFnZSwgaW5wdXQpOwogICAgICAgICAgICBpZiAobWFwcGVkVVJMKSB7CiAgICAgICAgICAgICAgc3RhdGljSW1hZ2VzW2ltYWdlLnVybF0gPSBtYXBwZWRVUkw7CiAgICAgICAgICAgICAgaW1hZ2UudXJsID0gbWFwcGVkVVJMOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9IGVsc2UgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAicHJvZHVjdGlvbiIpIHsKICAgICAgaW1hZ2UudXJsID0gaW5wdXQ7CiAgICB9CiAgfQogIGZvciAoY29uc3QgcHJlc2V0TmFtZSBpbiBnbG9iYWxPcHRpb25zLnByZXNldHMpIHsKICAgICRpbWdbcHJlc2V0TmFtZV0gPSAoc291cmNlLCBtb2RpZmllcnMsIG9wdGlvbnMpID0+ICRpbWcoc291cmNlLCBtb2RpZmllcnMsIF9fc3ByZWFkVmFsdWVzKF9fc3ByZWFkVmFsdWVzKHt9LCBnbG9iYWxPcHRpb25zLnByZXNldHNbcHJlc2V0TmFtZV0pLCBvcHRpb25zKSk7CiAgfQogICRpbWcub3B0aW9ucyA9IGdsb2JhbE9wdGlvbnM7CiAgJGltZy5nZXRJbWFnZSA9IGdldEltYWdlOwogICRpbWcuZ2V0TWV0YSA9IChpbnB1dCwgb3B0aW9ucykgPT4gZ2V0TWV0YShjdHgsIGlucHV0LCBvcHRpb25zKTsKICAkaW1nLmdldFNpemVzID0gKGlucHV0LCBvcHRpb25zKSA9PiBnZXRTaXplcyhjdHgsIGlucHV0LCBvcHRpb25zKTsKICBjdHguJGltZyA9ICRpbWc7CiAgcmV0dXJuICRpbWc7Cn0KYXN5bmMgZnVuY3Rpb24gZ2V0TWV0YShjdHgsIGlucHV0LCBvcHRpb25zKSB7CiAgY29uc3QgaW1hZ2UgPSByZXNvbHZlSW1hZ2UoY3R4LCBpbnB1dCwgX19zcHJlYWRWYWx1ZXMoe30sIG9wdGlvbnMpKTsKICBpZiAodHlwZW9mIGltYWdlLmdldE1ldGEgPT09ICJmdW5jdGlvbiIpIHsKICAgIHJldHVybiBhd2FpdCBpbWFnZS5nZXRNZXRhKCk7CiAgfSBlbHNlIHsKICAgIHJldHVybiBhd2FpdCBpbWFnZU1ldGEoY3R4LCBpbWFnZS51cmwpOwogIH0KfQpmdW5jdGlvbiByZXNvbHZlSW1hZ2UoY3R4LCBpbnB1dCwgb3B0aW9ucykgewogIHZhciBfYSwgX2I7CiAgaWYgKHR5cGVvZiBpbnB1dCAhPT0gInN0cmluZyIgfHwgaW5wdXQgPT09ICIiKSB7CiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBpbnB1dCBtdXN0IGJlIGEgc3RyaW5nIChyZWNlaXZlZCAke3R5cGVvZiBpbnB1dH06ICR7SlNPTi5zdHJpbmdpZnkoaW5wdXQpfSlgKTsKICB9CiAgaWYgKGlucHV0LnN0YXJ0c1dpdGgoImRhdGE6IikpIHsKICAgIHJldHVybiB7CiAgICAgIHVybDogaW5wdXQKICAgIH07CiAgfQogIGNvbnN0IHsgcHJvdmlkZXIsIGRlZmF1bHRzIH0gPSBnZXRQcm92aWRlcihjdHgsIG9wdGlvbnMucHJvdmlkZXIgfHwgY3R4Lm9wdGlvbnMucHJvdmlkZXIpOwogIGNvbnN0IHByZXNldCA9IGdldFByZXNldChjdHgsIG9wdGlvbnMucHJlc2V0KTsKICBpbnB1dCA9IGhhc1Byb3RvY29sKGlucHV0KSA/IGlucHV0IDogd2l0aExlYWRpbmdTbGFzaChpbnB1dCk7CiAgaWYgKCFwcm92aWRlci5zdXBwb3J0c0FsaWFzKSB7CiAgICBmb3IgKGNvbnN0IGJhc2UgaW4gY3R4Lm9wdGlvbnMuYWxpYXMpIHsKICAgICAgaWYgKGlucHV0LnN0YXJ0c1dpdGgoYmFzZSkpIHsKICAgICAgICBpbnB1dCA9IGpvaW5VUkwoY3R4Lm9wdGlvbnMuYWxpYXNbYmFzZV0sIGlucHV0LnN1YnN0cihiYXNlLmxlbmd0aCkpOwogICAgICB9CiAgICB9CiAgfQogIGlmIChwcm92aWRlci52YWxpZGF0ZURvbWFpbnMgJiYgaGFzUHJvdG9jb2woaW5wdXQpKSB7CiAgICBjb25zdCBpbnB1dEhvc3QgPSBwYXJzZVVSTChpbnB1dCkuaG9zdDsKICAgIGlmICghY3R4Lm9wdGlvbnMuZG9tYWlucy5maW5kKChkKSA9PiBkID09PSBpbnB1dEhvc3QpKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgdXJsOiBpbnB1dAogICAgICB9OwogICAgfQogIH0KICBjb25zdCBfb3B0aW9ucyA9IGRlZnUob3B0aW9ucywgcHJlc2V0LCBkZWZhdWx0cyk7CiAgX29wdGlvbnMubW9kaWZpZXJzID0gX19zcHJlYWRWYWx1ZXMoe30sIF9vcHRpb25zLm1vZGlmaWVycyk7CiAgY29uc3QgZXhwZWN0ZWRGb3JtYXQgPSBfb3B0aW9ucy5tb2RpZmllcnMuZm9ybWF0OwogIGlmICgoX2EgPSBfb3B0aW9ucy5tb2RpZmllcnMpID09IG51bGwgPyB2b2lkIDAgOiBfYS53aWR0aCkgewogICAgX29wdGlvbnMubW9kaWZpZXJzLndpZHRoID0gcGFyc2VTaXplKF9vcHRpb25zLm1vZGlmaWVycy53aWR0aCk7CiAgfQogIGlmICgoX2IgPSBfb3B0aW9ucy5tb2RpZmllcnMpID09IG51bGwgPyB2b2lkIDAgOiBfYi5oZWlnaHQpIHsKICAgIF9vcHRpb25zLm1vZGlmaWVycy5oZWlnaHQgPSBwYXJzZVNpemUoX29wdGlvbnMubW9kaWZpZXJzLmhlaWdodCk7CiAgfQogIGNvbnN0IGltYWdlID0gcHJvdmlkZXIuZ2V0SW1hZ2UoaW5wdXQsIF9vcHRpb25zLCBjdHgpOwogIGltYWdlLmZvcm1hdCA9IGltYWdlLmZvcm1hdCB8fCBleHBlY3RlZEZvcm1hdCB8fCAiIjsKICByZXR1cm4gaW1hZ2U7Cn0KZnVuY3Rpb24gZ2V0UHJvdmlkZXIoY3R4LCBuYW1lKSB7CiAgY29uc3QgcHJvdmlkZXIgPSBjdHgub3B0aW9ucy5wcm92aWRlcnNbbmFtZV07CiAgaWYgKCFwcm92aWRlcikgewogICAgdGhyb3cgbmV3IEVycm9yKCJVbmtub3duIHByb3ZpZGVyOiAiICsgbmFtZSk7CiAgfQogIHJldHVybiBwcm92aWRlcjsKfQpmdW5jdGlvbiBnZXRQcmVzZXQoY3R4LCBuYW1lKSB7CiAgaWYgKCFuYW1lKSB7CiAgICByZXR1cm4ge307CiAgfQogIGlmICghY3R4Lm9wdGlvbnMucHJlc2V0c1tuYW1lXSkgewogICAgdGhyb3cgbmV3IEVycm9yKCJVbmtub3duIHByZXNldDogIiArIG5hbWUpOwogIH0KICByZXR1cm4gY3R4Lm9wdGlvbnMucHJlc2V0c1tuYW1lXTsKfQpmdW5jdGlvbiBnZXRTaXplcyhjdHgsIGlucHV0LCBvcHRzKSB7CiAgdmFyIF9hLCBfYjsKICBjb25zdCB3aWR0aCA9IHBhcnNlU2l6ZSgoX2EgPSBvcHRzLm1vZGlmaWVycykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLndpZHRoKTsKICBjb25zdCBoZWlnaHQgPSBwYXJzZVNpemUoKF9iID0gb3B0cy5tb2RpZmllcnMpID09IG51bGwgPyB2b2lkIDAgOiBfYi5oZWlnaHQpOwogIGNvbnN0IGh3UmF0aW8gPSB3aWR0aCAmJiBoZWlnaHQgPyBoZWlnaHQgLyB3aWR0aCA6IDA7CiAgY29uc3QgdmFyaWFudHMgPSBbXTsKICBjb25zdCBzaXplcyA9IHt9OwogIGlmICh0eXBlb2Ygb3B0cy5zaXplcyA9PT0gInN0cmluZyIpIHsKICAgIGZvciAoY29uc3QgZW50cnkgb2Ygb3B0cy5zaXplcy5zcGxpdCgvW1xzLF0rLykuZmlsdGVyKChlKSA9PiBlKSkgewogICAgICBjb25zdCBzID0gZW50cnkuc3BsaXQoIjoiKTsKICAgICAgaWYgKHMubGVuZ3RoICE9PSAyKSB7CiAgICAgICAgY29udGludWU7CiAgICAgIH0KICAgICAgc2l6ZXNbc1swXS50cmltKCldID0gc1sxXS50cmltKCk7CiAgICB9CiAgfSBlbHNlIHsKICAgIE9iamVjdC5hc3NpZ24oc2l6ZXMsIG9wdHMuc2l6ZXMpOwogIH0KICBmb3IgKGNvbnN0IGtleSBpbiBzaXplcykgewogICAgY29uc3Qgc2NyZWVuTWF4V2lkdGggPSBjdHgub3B0aW9ucy5zY3JlZW5zICYmIGN0eC5vcHRpb25zLnNjcmVlbnNba2V5XSB8fCBwYXJzZUludChrZXkpOwogICAgbGV0IHNpemUgPSBTdHJpbmcoc2l6ZXNba2V5XSk7CiAgICBjb25zdCBpc0ZsdWlkID0gc2l6ZS5lbmRzV2l0aCgidnciKTsKICAgIGlmICghaXNGbHVpZCAmJiAvXlxkKyQvLnRlc3Qoc2l6ZSkpIHsKICAgICAgc2l6ZSA9IHNpemUgKyAicHgiOwogICAgfQogICAgaWYgKCFpc0ZsdWlkICYmICFzaXplLmVuZHNXaXRoKCJweCIpKSB7CiAgICAgIGNvbnRpbnVlOwogICAgfQogICAgbGV0IF9jV2lkdGggPSBwYXJzZUludChzaXplKTsKICAgIGlmICghc2NyZWVuTWF4V2lkdGggfHwgIV9jV2lkdGgpIHsKICAgICAgY29udGludWU7CiAgICB9CiAgICBpZiAoaXNGbHVpZCkgewogICAgICBfY1dpZHRoID0gTWF0aC5yb3VuZChfY1dpZHRoIC8gMTAwICogc2NyZWVuTWF4V2lkdGgpOwogICAgfQogICAgY29uc3QgX2NIZWlnaHQgPSBod1JhdGlvID8gTWF0aC5yb3VuZChfY1dpZHRoICogaHdSYXRpbykgOiBoZWlnaHQ7CiAgICB2YXJpYW50cy5wdXNoKHsKICAgICAgd2lkdGg6IF9jV2lkdGgsCiAgICAgIHNpemUsCiAgICAgIHNjcmVlbk1heFdpZHRoLAogICAgICBtZWRpYTogYChtYXgtd2lkdGg6ICR7c2NyZWVuTWF4V2lkdGh9cHgpYCwKICAgICAgc3JjOiBjdHguJGltZyhpbnB1dCwgX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgb3B0cy5tb2RpZmllcnMpLCB7IHdpZHRoOiBfY1dpZHRoLCBoZWlnaHQ6IF9jSGVpZ2h0IH0pLCBvcHRzKQogICAgfSk7CiAgfQogIHZhcmlhbnRzLnNvcnQoKHYxLCB2MikgPT4gdjEuc2NyZWVuTWF4V2lkdGggLSB2Mi5zY3JlZW5NYXhXaWR0aCk7CiAgY29uc3QgZGVmYXVsdFZhciA9IHZhcmlhbnRzW3ZhcmlhbnRzLmxlbmd0aCAtIDFdOwogIGlmIChkZWZhdWx0VmFyKSB7CiAgICBkZWZhdWx0VmFyLm1lZGlhID0gIiI7CiAgfQogIHJldHVybiB7CiAgICBzaXplczogdmFyaWFudHMubWFwKCh2KSA9PiBgJHt2Lm1lZGlhID8gdi5tZWRpYSArICIgIiA6ICIifSR7di5zaXplfWApLmpvaW4oIiwgIiksCiAgICBzcmNzZXQ6IHZhcmlhbnRzLm1hcCgodikgPT4gYCR7di5zcmN9ICR7di53aWR0aH13YCkuam9pbigiLCAiKSwKICAgIHNyYzogZGVmYXVsdFZhciA9PSBudWxsID8gdm9pZCAwIDogZGVmYXVsdFZhci5zcmMKICB9Owp9Cg=="},{"version":3,"sources":["/home/diane/Documents/MDT/Portfolio/node_modules/@nuxt/image/dist/runtime/image.js"],"sourcesContent":["import defu from \"defu\";\nimport { hasProtocol, parseURL, joinURL, withLeadingSlash } from \"ufo\";\nimport { imageMeta } from \"./utils/meta\";\nimport { parseSize } from \"./utils\";\nimport { useStaticImageMap } from \"./utils/static-map\";\nexport function createImage(globalOptions, nuxtContext) {\n  const staticImageManifest = process.client && process.static ? useStaticImageMap(nuxtContext) : {};\n  const ctx = {\n    options: globalOptions,\n    nuxtContext\n  };\n  const getImage = function(input, options = {}) {\n    const image = resolveImage(ctx, input, options);\n    if (image.isStatic) {\n      handleStaticImage(image, input);\n    }\n    return image;\n  };\n  const $img = function $img2(input, modifiers = {}, options = {}) {\n    return getImage(input, {\n      ...options,\n      modifiers: defu(modifiers, options.modifiers || {})\n    }).url;\n  };\n  function handleStaticImage(image, input) {\n    if (process.static) {\n      if (process.client && \"fetchPayload\" in window.$nuxt) {\n        const mappedURL = staticImageManifest[image.url];\n        image.url = mappedURL || input;\n        return image;\n      }\n      if (process.server) {\n        const { ssrContext } = ctx.nuxtContext;\n        if (ssrContext) {\n          const ssrState = ssrContext.nuxt || {};\n          const staticImages = ssrState._img = ssrState._img || {};\n          const ssrData = ssrState.data?.[0];\n          if (ssrData) {\n            ssrData._img = staticImages;\n          }\n          const mapToStatic = ssrContext.image?.mapToStatic;\n          if (typeof mapToStatic === \"function\") {\n            const mappedURL = mapToStatic(image, input);\n            if (mappedURL) {\n              staticImages[image.url] = mappedURL;\n              image.url = mappedURL;\n            }\n          }\n        }\n      }\n    } else if (process.env.NODE_ENV === \"production\") {\n      image.url = input;\n    }\n  }\n  for (const presetName in globalOptions.presets) {\n    $img[presetName] = (source, modifiers, options) => $img(source, modifiers, { ...globalOptions.presets[presetName], ...options });\n  }\n  $img.options = globalOptions;\n  $img.getImage = getImage;\n  $img.getMeta = (input, options) => getMeta(ctx, input, options);\n  $img.getSizes = (input, options) => getSizes(ctx, input, options);\n  ctx.$img = $img;\n  return $img;\n}\nasync function getMeta(ctx, input, options) {\n  const image = resolveImage(ctx, input, { ...options });\n  if (typeof image.getMeta === \"function\") {\n    return await image.getMeta();\n  } else {\n    return await imageMeta(ctx, image.url);\n  }\n}\nfunction resolveImage(ctx, input, options) {\n  if (typeof input !== \"string\" || input === \"\") {\n    throw new TypeError(`input must be a string (received ${typeof input}: ${JSON.stringify(input)})`);\n  }\n  if (input.startsWith(\"data:\")) {\n    return {\n      url: input\n    };\n  }\n  const { provider, defaults } = getProvider(ctx, options.provider || ctx.options.provider);\n  const preset = getPreset(ctx, options.preset);\n  input = hasProtocol(input) ? input : withLeadingSlash(input);\n  if (!provider.supportsAlias) {\n    for (const base in ctx.options.alias) {\n      if (input.startsWith(base)) {\n        input = joinURL(ctx.options.alias[base], input.substr(base.length));\n      }\n    }\n  }\n  if (provider.validateDomains && hasProtocol(input)) {\n    const inputHost = parseURL(input).host;\n    if (!ctx.options.domains.find((d) => d === inputHost)) {\n      return {\n        url: input\n      };\n    }\n  }\n  const _options = defu(options, preset, defaults);\n  _options.modifiers = { ..._options.modifiers };\n  const expectedFormat = _options.modifiers.format;\n  if (_options.modifiers?.width) {\n    _options.modifiers.width = parseSize(_options.modifiers.width);\n  }\n  if (_options.modifiers?.height) {\n    _options.modifiers.height = parseSize(_options.modifiers.height);\n  }\n  const image = provider.getImage(input, _options, ctx);\n  image.format = image.format || expectedFormat || \"\";\n  return image;\n}\nfunction getProvider(ctx, name) {\n  const provider = ctx.options.providers[name];\n  if (!provider) {\n    throw new Error(\"Unknown provider: \" + name);\n  }\n  return provider;\n}\nfunction getPreset(ctx, name) {\n  if (!name) {\n    return {};\n  }\n  if (!ctx.options.presets[name]) {\n    throw new Error(\"Unknown preset: \" + name);\n  }\n  return ctx.options.presets[name];\n}\nfunction getSizes(ctx, input, opts) {\n  const width = parseSize(opts.modifiers?.width);\n  const height = parseSize(opts.modifiers?.height);\n  const hwRatio = width && height ? height / width : 0;\n  const variants = [];\n  const sizes = {};\n  if (typeof opts.sizes === \"string\") {\n    for (const entry of opts.sizes.split(/[\\s,]+/).filter((e) => e)) {\n      const s = entry.split(\":\");\n      if (s.length !== 2) {\n        continue;\n      }\n      sizes[s[0].trim()] = s[1].trim();\n    }\n  } else {\n    Object.assign(sizes, opts.sizes);\n  }\n  for (const key in sizes) {\n    const screenMaxWidth = ctx.options.screens && ctx.options.screens[key] || parseInt(key);\n    let size = String(sizes[key]);\n    const isFluid = size.endsWith(\"vw\");\n    if (!isFluid && /^\\d+$/.test(size)) {\n      size = size + \"px\";\n    }\n    if (!isFluid && !size.endsWith(\"px\")) {\n      continue;\n    }\n    let _cWidth = parseInt(size);\n    if (!screenMaxWidth || !_cWidth) {\n      continue;\n    }\n    if (isFluid) {\n      _cWidth = Math.round(_cWidth / 100 * screenMaxWidth);\n    }\n    const _cHeight = hwRatio ? Math.round(_cWidth * hwRatio) : height;\n    variants.push({\n      width: _cWidth,\n      size,\n      screenMaxWidth,\n      media: `(max-width: ${screenMaxWidth}px)`,\n      src: ctx.$img(input, { ...opts.modifiers, width: _cWidth, height: _cHeight }, opts)\n    });\n  }\n  variants.sort((v1, v2) => v1.screenMaxWidth - v2.screenMaxWidth);\n  const defaultVar = variants[variants.length - 1];\n  if (defaultVar) {\n    defaultVar.media = \"\";\n  }\n  return {\n    sizes: variants.map((v) => `${v.media ? v.media + \" \" : \"\"}${v.size}`).join(\", \"),\n    srcset: variants.map((v) => `${v.src} ${v.width}w`).join(\", \"),\n    src: defaultVar?.src\n  };\n}\n"],"mappings":"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","names":[]}]}