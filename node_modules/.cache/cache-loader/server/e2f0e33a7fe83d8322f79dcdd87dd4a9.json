{"remainingRequest":"/home/diane/Documents/MDT/Portfolio/node_modules/babel-loader/lib/index.js??ref--2-1!/home/diane/Documents/MDT/Portfolio/node_modules/@nuxt/image/dist/runtime/image.js","dependencies":[{"path":"/home/diane/Documents/MDT/Portfolio/node_modules/@nuxt/image/dist/runtime/image.js","mtime":1696601674208},{"path":"/home/diane/Documents/MDT/Portfolio/node_modules/cache-loader/dist/cjs.js","mtime":1696602851329},{"path":"/home/diane/Documents/MDT/Portfolio/node_modules/babel-loader/lib/index.js","mtime":1696602851385}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGRlZnUgZnJvbSAiZGVmdSI7CmltcG9ydCB7IGhhc1Byb3RvY29sLCBwYXJzZVVSTCwgam9pblVSTCwgd2l0aExlYWRpbmdTbGFzaCB9IGZyb20gInVmbyI7CmltcG9ydCB7IGltYWdlTWV0YSB9IGZyb20gIi4vdXRpbHMvbWV0YSI7CmltcG9ydCB7IHBhcnNlU2l6ZSB9IGZyb20gIi4vdXRpbHMiOwppbXBvcnQgeyB1c2VTdGF0aWNJbWFnZU1hcCB9IGZyb20gIi4vdXRpbHMvc3RhdGljLW1hcCI7CmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVJbWFnZShnbG9iYWxPcHRpb25zLCBudXh0Q29udGV4dCkgewogIGNvbnN0IHN0YXRpY0ltYWdlTWFuaWZlc3QgPSBwcm9jZXNzLmNsaWVudCAmJiBwcm9jZXNzLnN0YXRpYyA/IHVzZVN0YXRpY0ltYWdlTWFwKG51eHRDb250ZXh0KSA6IHt9OwogIGNvbnN0IGN0eCA9IHsKICAgIG9wdGlvbnM6IGdsb2JhbE9wdGlvbnMsCiAgICBudXh0Q29udGV4dAogIH07CiAgY29uc3QgZ2V0SW1hZ2UgPSBmdW5jdGlvbiAoaW5wdXQsIG9wdGlvbnMgPSB7fSkgewogICAgY29uc3QgaW1hZ2UgPSByZXNvbHZlSW1hZ2UoY3R4LCBpbnB1dCwgb3B0aW9ucyk7CiAgICBpZiAoaW1hZ2UuaXNTdGF0aWMpIHsKICAgICAgaGFuZGxlU3RhdGljSW1hZ2UoaW1hZ2UsIGlucHV0KTsKICAgIH0KICAgIHJldHVybiBpbWFnZTsKICB9OwogIGNvbnN0ICRpbWcgPSBmdW5jdGlvbiAkaW1nMihpbnB1dCwgbW9kaWZpZXJzID0ge30sIG9wdGlvbnMgPSB7fSkgewogICAgcmV0dXJuIGdldEltYWdlKGlucHV0LCB7CiAgICAgIC4uLm9wdGlvbnMsCiAgICAgIG1vZGlmaWVyczogZGVmdShtb2RpZmllcnMsIG9wdGlvbnMubW9kaWZpZXJzIHx8IHt9KQogICAgfSkudXJsOwogIH07CiAgZnVuY3Rpb24gaGFuZGxlU3RhdGljSW1hZ2UoaW1hZ2UsIGlucHV0KSB7CiAgICBpZiAocHJvY2Vzcy5zdGF0aWMpIHsKICAgICAgaWYgKHByb2Nlc3MuY2xpZW50ICYmICJmZXRjaFBheWxvYWQiIGluIHdpbmRvdy4kbnV4dCkgewogICAgICAgIGNvbnN0IG1hcHBlZFVSTCA9IHN0YXRpY0ltYWdlTWFuaWZlc3RbaW1hZ2UudXJsXTsKICAgICAgICBpbWFnZS51cmwgPSBtYXBwZWRVUkwgfHwgaW5wdXQ7CiAgICAgICAgcmV0dXJuIGltYWdlOwogICAgICB9CiAgICAgIGlmIChwcm9jZXNzLnNlcnZlcikgewogICAgICAgIGNvbnN0IHsKICAgICAgICAgIHNzckNvbnRleHQKICAgICAgICB9ID0gY3R4Lm51eHRDb250ZXh0OwogICAgICAgIGlmIChzc3JDb250ZXh0KSB7CiAgICAgICAgICB2YXIgX3NzclN0YXRlJGRhdGEsIF9zc3JDb250ZXh0JGltYWdlOwogICAgICAgICAgY29uc3Qgc3NyU3RhdGUgPSBzc3JDb250ZXh0Lm51eHQgfHwge307CiAgICAgICAgICBjb25zdCBzdGF0aWNJbWFnZXMgPSBzc3JTdGF0ZS5faW1nID0gc3NyU3RhdGUuX2ltZyB8fCB7fTsKICAgICAgICAgIGNvbnN0IHNzckRhdGEgPSAoX3NzclN0YXRlJGRhdGEgPSBzc3JTdGF0ZS5kYXRhKSA9PT0gbnVsbCB8fCBfc3NyU3RhdGUkZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3NzclN0YXRlJGRhdGFbMF07CiAgICAgICAgICBpZiAoc3NyRGF0YSkgewogICAgICAgICAgICBzc3JEYXRhLl9pbWcgPSBzdGF0aWNJbWFnZXM7CiAgICAgICAgICB9CiAgICAgICAgICBjb25zdCBtYXBUb1N0YXRpYyA9IChfc3NyQ29udGV4dCRpbWFnZSA9IHNzckNvbnRleHQuaW1hZ2UpID09PSBudWxsIHx8IF9zc3JDb250ZXh0JGltYWdlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfc3NyQ29udGV4dCRpbWFnZS5tYXBUb1N0YXRpYzsKICAgICAgICAgIGlmICh0eXBlb2YgbWFwVG9TdGF0aWMgPT09ICJmdW5jdGlvbiIpIHsKICAgICAgICAgICAgY29uc3QgbWFwcGVkVVJMID0gbWFwVG9TdGF0aWMoaW1hZ2UsIGlucHV0KTsKICAgICAgICAgICAgaWYgKG1hcHBlZFVSTCkgewogICAgICAgICAgICAgIHN0YXRpY0ltYWdlc1tpbWFnZS51cmxdID0gbWFwcGVkVVJMOwogICAgICAgICAgICAgIGltYWdlLnVybCA9IG1hcHBlZFVSTDsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSBlbHNlIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gInByb2R1Y3Rpb24iKSB7CiAgICAgIGltYWdlLnVybCA9IGlucHV0OwogICAgfQogIH0KICBmb3IgKGNvbnN0IHByZXNldE5hbWUgaW4gZ2xvYmFsT3B0aW9ucy5wcmVzZXRzKSB7CiAgICAkaW1nW3ByZXNldE5hbWVdID0gKHNvdXJjZSwgbW9kaWZpZXJzLCBvcHRpb25zKSA9PiAkaW1nKHNvdXJjZSwgbW9kaWZpZXJzLCB7CiAgICAgIC4uLmdsb2JhbE9wdGlvbnMucHJlc2V0c1twcmVzZXROYW1lXSwKICAgICAgLi4ub3B0aW9ucwogICAgfSk7CiAgfQogICRpbWcub3B0aW9ucyA9IGdsb2JhbE9wdGlvbnM7CiAgJGltZy5nZXRJbWFnZSA9IGdldEltYWdlOwogICRpbWcuZ2V0TWV0YSA9IChpbnB1dCwgb3B0aW9ucykgPT4gZ2V0TWV0YShjdHgsIGlucHV0LCBvcHRpb25zKTsKICAkaW1nLmdldFNpemVzID0gKGlucHV0LCBvcHRpb25zKSA9PiBnZXRTaXplcyhjdHgsIGlucHV0LCBvcHRpb25zKTsKICBjdHguJGltZyA9ICRpbWc7CiAgcmV0dXJuICRpbWc7Cn0KYXN5bmMgZnVuY3Rpb24gZ2V0TWV0YShjdHgsIGlucHV0LCBvcHRpb25zKSB7CiAgY29uc3QgaW1hZ2UgPSByZXNvbHZlSW1hZ2UoY3R4LCBpbnB1dCwgewogICAgLi4ub3B0aW9ucwogIH0pOwogIGlmICh0eXBlb2YgaW1hZ2UuZ2V0TWV0YSA9PT0gImZ1bmN0aW9uIikgewogICAgcmV0dXJuIGF3YWl0IGltYWdlLmdldE1ldGEoKTsKICB9IGVsc2UgewogICAgcmV0dXJuIGF3YWl0IGltYWdlTWV0YShjdHgsIGltYWdlLnVybCk7CiAgfQp9CmZ1bmN0aW9uIHJlc29sdmVJbWFnZShjdHgsIGlucHV0LCBvcHRpb25zKSB7CiAgdmFyIF9vcHRpb25zJG1vZGlmaWVycywgX29wdGlvbnMkbW9kaWZpZXJzMjsKICBpZiAodHlwZW9mIGlucHV0ICE9PSAic3RyaW5nIiB8fCBpbnB1dCA9PT0gIiIpIHsKICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYGlucHV0IG11c3QgYmUgYSBzdHJpbmcgKHJlY2VpdmVkICR7dHlwZW9mIGlucHV0fTogJHtKU09OLnN0cmluZ2lmeShpbnB1dCl9KWApOwogIH0KICBpZiAoaW5wdXQuc3RhcnRzV2l0aCgiZGF0YToiKSkgewogICAgcmV0dXJuIHsKICAgICAgdXJsOiBpbnB1dAogICAgfTsKICB9CiAgY29uc3QgewogICAgcHJvdmlkZXIsCiAgICBkZWZhdWx0cwogIH0gPSBnZXRQcm92aWRlcihjdHgsIG9wdGlvbnMucHJvdmlkZXIgfHwgY3R4Lm9wdGlvbnMucHJvdmlkZXIpOwogIGNvbnN0IHByZXNldCA9IGdldFByZXNldChjdHgsIG9wdGlvbnMucHJlc2V0KTsKICBpbnB1dCA9IGhhc1Byb3RvY29sKGlucHV0KSA/IGlucHV0IDogd2l0aExlYWRpbmdTbGFzaChpbnB1dCk7CiAgaWYgKCFwcm92aWRlci5zdXBwb3J0c0FsaWFzKSB7CiAgICBmb3IgKGNvbnN0IGJhc2UgaW4gY3R4Lm9wdGlvbnMuYWxpYXMpIHsKICAgICAgaWYgKGlucHV0LnN0YXJ0c1dpdGgoYmFzZSkpIHsKICAgICAgICBpbnB1dCA9IGpvaW5VUkwoY3R4Lm9wdGlvbnMuYWxpYXNbYmFzZV0sIGlucHV0LnN1YnN0cihiYXNlLmxlbmd0aCkpOwogICAgICB9CiAgICB9CiAgfQogIGlmIChwcm92aWRlci52YWxpZGF0ZURvbWFpbnMgJiYgaGFzUHJvdG9jb2woaW5wdXQpKSB7CiAgICBjb25zdCBpbnB1dEhvc3QgPSBwYXJzZVVSTChpbnB1dCkuaG9zdDsKICAgIGlmICghY3R4Lm9wdGlvbnMuZG9tYWlucy5maW5kKGQgPT4gZCA9PT0gaW5wdXRIb3N0KSkgewogICAgICByZXR1cm4gewogICAgICAgIHVybDogaW5wdXQKICAgICAgfTsKICAgIH0KICB9CiAgY29uc3QgX29wdGlvbnMgPSBkZWZ1KG9wdGlvbnMsIHByZXNldCwgZGVmYXVsdHMpOwogIF9vcHRpb25zLm1vZGlmaWVycyA9IHsKICAgIC4uLl9vcHRpb25zLm1vZGlmaWVycwogIH07CiAgY29uc3QgZXhwZWN0ZWRGb3JtYXQgPSBfb3B0aW9ucy5tb2RpZmllcnMuZm9ybWF0OwogIGlmICgoX29wdGlvbnMkbW9kaWZpZXJzID0gX29wdGlvbnMubW9kaWZpZXJzKSAhPT0gbnVsbCAmJiBfb3B0aW9ucyRtb2RpZmllcnMgIT09IHZvaWQgMCAmJiBfb3B0aW9ucyRtb2RpZmllcnMud2lkdGgpIHsKICAgIF9vcHRpb25zLm1vZGlmaWVycy53aWR0aCA9IHBhcnNlU2l6ZShfb3B0aW9ucy5tb2RpZmllcnMud2lkdGgpOwogIH0KICBpZiAoKF9vcHRpb25zJG1vZGlmaWVyczIgPSBfb3B0aW9ucy5tb2RpZmllcnMpICE9PSBudWxsICYmIF9vcHRpb25zJG1vZGlmaWVyczIgIT09IHZvaWQgMCAmJiBfb3B0aW9ucyRtb2RpZmllcnMyLmhlaWdodCkgewogICAgX29wdGlvbnMubW9kaWZpZXJzLmhlaWdodCA9IHBhcnNlU2l6ZShfb3B0aW9ucy5tb2RpZmllcnMuaGVpZ2h0KTsKICB9CiAgY29uc3QgaW1hZ2UgPSBwcm92aWRlci5nZXRJbWFnZShpbnB1dCwgX29wdGlvbnMsIGN0eCk7CiAgaW1hZ2UuZm9ybWF0ID0gaW1hZ2UuZm9ybWF0IHx8IGV4cGVjdGVkRm9ybWF0IHx8ICIiOwogIHJldHVybiBpbWFnZTsKfQpmdW5jdGlvbiBnZXRQcm92aWRlcihjdHgsIG5hbWUpIHsKICBjb25zdCBwcm92aWRlciA9IGN0eC5vcHRpb25zLnByb3ZpZGVyc1tuYW1lXTsKICBpZiAoIXByb3ZpZGVyKSB7CiAgICB0aHJvdyBuZXcgRXJyb3IoIlVua25vd24gcHJvdmlkZXI6ICIgKyBuYW1lKTsKICB9CiAgcmV0dXJuIHByb3ZpZGVyOwp9CmZ1bmN0aW9uIGdldFByZXNldChjdHgsIG5hbWUpIHsKICBpZiAoIW5hbWUpIHsKICAgIHJldHVybiB7fTsKICB9CiAgaWYgKCFjdHgub3B0aW9ucy5wcmVzZXRzW25hbWVdKSB7CiAgICB0aHJvdyBuZXcgRXJyb3IoIlVua25vd24gcHJlc2V0OiAiICsgbmFtZSk7CiAgfQogIHJldHVybiBjdHgub3B0aW9ucy5wcmVzZXRzW25hbWVdOwp9CmZ1bmN0aW9uIGdldFNpemVzKGN0eCwgaW5wdXQsIG9wdHMpIHsKICB2YXIgX29wdHMkbW9kaWZpZXJzLCBfb3B0cyRtb2RpZmllcnMyOwogIGNvbnN0IHdpZHRoID0gcGFyc2VTaXplKChfb3B0cyRtb2RpZmllcnMgPSBvcHRzLm1vZGlmaWVycykgPT09IG51bGwgfHwgX29wdHMkbW9kaWZpZXJzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfb3B0cyRtb2RpZmllcnMud2lkdGgpOwogIGNvbnN0IGhlaWdodCA9IHBhcnNlU2l6ZSgoX29wdHMkbW9kaWZpZXJzMiA9IG9wdHMubW9kaWZpZXJzKSA9PT0gbnVsbCB8fCBfb3B0cyRtb2RpZmllcnMyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfb3B0cyRtb2RpZmllcnMyLmhlaWdodCk7CiAgY29uc3QgaHdSYXRpbyA9IHdpZHRoICYmIGhlaWdodCA/IGhlaWdodCAvIHdpZHRoIDogMDsKICBjb25zdCB2YXJpYW50cyA9IFtdOwogIGNvbnN0IHNpemVzID0ge307CiAgaWYgKHR5cGVvZiBvcHRzLnNpemVzID09PSAic3RyaW5nIikgewogICAgZm9yIChjb25zdCBlbnRyeSBvZiBvcHRzLnNpemVzLnNwbGl0KC9bXHMsXSsvKS5maWx0ZXIoZSA9PiBlKSkgewogICAgICBjb25zdCBzID0gZW50cnkuc3BsaXQoIjoiKTsKICAgICAgaWYgKHMubGVuZ3RoICE9PSAyKSB7CiAgICAgICAgY29udGludWU7CiAgICAgIH0KICAgICAgc2l6ZXNbc1swXS50cmltKCldID0gc1sxXS50cmltKCk7CiAgICB9CiAgfSBlbHNlIHsKICAgIE9iamVjdC5hc3NpZ24oc2l6ZXMsIG9wdHMuc2l6ZXMpOwogIH0KICBmb3IgKGNvbnN0IGtleSBpbiBzaXplcykgewogICAgY29uc3Qgc2NyZWVuTWF4V2lkdGggPSBjdHgub3B0aW9ucy5zY3JlZW5zICYmIGN0eC5vcHRpb25zLnNjcmVlbnNba2V5XSB8fCBwYXJzZUludChrZXkpOwogICAgbGV0IHNpemUgPSBTdHJpbmcoc2l6ZXNba2V5XSk7CiAgICBjb25zdCBpc0ZsdWlkID0gc2l6ZS5lbmRzV2l0aCgidnciKTsKICAgIGlmICghaXNGbHVpZCAmJiAvXlxkKyQvLnRlc3Qoc2l6ZSkpIHsKICAgICAgc2l6ZSA9IHNpemUgKyAicHgiOwogICAgfQogICAgaWYgKCFpc0ZsdWlkICYmICFzaXplLmVuZHNXaXRoKCJweCIpKSB7CiAgICAgIGNvbnRpbnVlOwogICAgfQogICAgbGV0IF9jV2lkdGggPSBwYXJzZUludChzaXplKTsKICAgIGlmICghc2NyZWVuTWF4V2lkdGggfHwgIV9jV2lkdGgpIHsKICAgICAgY29udGludWU7CiAgICB9CiAgICBpZiAoaXNGbHVpZCkgewogICAgICBfY1dpZHRoID0gTWF0aC5yb3VuZChfY1dpZHRoIC8gMTAwICogc2NyZWVuTWF4V2lkdGgpOwogICAgfQogICAgY29uc3QgX2NIZWlnaHQgPSBod1JhdGlvID8gTWF0aC5yb3VuZChfY1dpZHRoICogaHdSYXRpbykgOiBoZWlnaHQ7CiAgICB2YXJpYW50cy5wdXNoKHsKICAgICAgd2lkdGg6IF9jV2lkdGgsCiAgICAgIHNpemUsCiAgICAgIHNjcmVlbk1heFdpZHRoLAogICAgICBtZWRpYTogYChtYXgtd2lkdGg6ICR7c2NyZWVuTWF4V2lkdGh9cHgpYCwKICAgICAgc3JjOiBjdHguJGltZyhpbnB1dCwgewogICAgICAgIC4uLm9wdHMubW9kaWZpZXJzLAogICAgICAgIHdpZHRoOiBfY1dpZHRoLAogICAgICAgIGhlaWdodDogX2NIZWlnaHQKICAgICAgfSwgb3B0cykKICAgIH0pOwogIH0KICB2YXJpYW50cy5zb3J0KCh2MSwgdjIpID0+IHYxLnNjcmVlbk1heFdpZHRoIC0gdjIuc2NyZWVuTWF4V2lkdGgpOwogIGNvbnN0IGRlZmF1bHRWYXIgPSB2YXJpYW50c1t2YXJpYW50cy5sZW5ndGggLSAxXTsKICBpZiAoZGVmYXVsdFZhcikgewogICAgZGVmYXVsdFZhci5tZWRpYSA9ICIiOwogIH0KICByZXR1cm4gewogICAgc2l6ZXM6IHZhcmlhbnRzLm1hcCh2ID0+IGAke3YubWVkaWEgPyB2Lm1lZGlhICsgIiAiIDogIiJ9JHt2LnNpemV9YCkuam9pbigiLCAiKSwKICAgIHNyY3NldDogdmFyaWFudHMubWFwKHYgPT4gYCR7di5zcmN9ICR7di53aWR0aH13YCkuam9pbigiLCAiKSwKICAgIHNyYzogZGVmYXVsdFZhciA9PT0gbnVsbCB8fCBkZWZhdWx0VmFyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkZWZhdWx0VmFyLnNyYwogIH07Cn0="},{"version":3,"names":["defu","hasProtocol","parseURL","joinURL","withLeadingSlash","imageMeta","parseSize","useStaticImageMap","createImage","globalOptions","nuxtContext","staticImageManifest","process","client","static","ctx","options","getImage","input","image","resolveImage","isStatic","handleStaticImage","$img","$img2","modifiers","url","window","$nuxt","mappedURL","server","ssrContext","_ssrState$data","_ssrContext$image","ssrState","nuxt","staticImages","_img","ssrData","data","mapToStatic","env","NODE_ENV","presetName","presets","source","getMeta","getSizes","_options$modifiers","_options$modifiers2","TypeError","JSON","stringify","startsWith","provider","defaults","getProvider","preset","getPreset","supportsAlias","base","alias","substr","length","validateDomains","inputHost","host","domains","find","d","_options","expectedFormat","format","width","height","name","providers","Error","opts","_opts$modifiers","_opts$modifiers2","hwRatio","variants","sizes","entry","split","filter","e","s","trim","Object","assign","key","screenMaxWidth","screens","parseInt","size","String","isFluid","endsWith","test","_cWidth","Math","round","_cHeight","push","media","src","sort","v1","v2","defaultVar","map","v","join","srcset"],"sources":["/home/diane/Documents/MDT/Portfolio/node_modules/@nuxt/image/dist/runtime/image.js"],"sourcesContent":["import defu from \"defu\";\nimport { hasProtocol, parseURL, joinURL, withLeadingSlash } from \"ufo\";\nimport { imageMeta } from \"./utils/meta\";\nimport { parseSize } from \"./utils\";\nimport { useStaticImageMap } from \"./utils/static-map\";\nexport function createImage(globalOptions, nuxtContext) {\n  const staticImageManifest = process.client && process.static ? useStaticImageMap(nuxtContext) : {};\n  const ctx = {\n    options: globalOptions,\n    nuxtContext\n  };\n  const getImage = function(input, options = {}) {\n    const image = resolveImage(ctx, input, options);\n    if (image.isStatic) {\n      handleStaticImage(image, input);\n    }\n    return image;\n  };\n  const $img = function $img2(input, modifiers = {}, options = {}) {\n    return getImage(input, {\n      ...options,\n      modifiers: defu(modifiers, options.modifiers || {})\n    }).url;\n  };\n  function handleStaticImage(image, input) {\n    if (process.static) {\n      if (process.client && \"fetchPayload\" in window.$nuxt) {\n        const mappedURL = staticImageManifest[image.url];\n        image.url = mappedURL || input;\n        return image;\n      }\n      if (process.server) {\n        const { ssrContext } = ctx.nuxtContext;\n        if (ssrContext) {\n          const ssrState = ssrContext.nuxt || {};\n          const staticImages = ssrState._img = ssrState._img || {};\n          const ssrData = ssrState.data?.[0];\n          if (ssrData) {\n            ssrData._img = staticImages;\n          }\n          const mapToStatic = ssrContext.image?.mapToStatic;\n          if (typeof mapToStatic === \"function\") {\n            const mappedURL = mapToStatic(image, input);\n            if (mappedURL) {\n              staticImages[image.url] = mappedURL;\n              image.url = mappedURL;\n            }\n          }\n        }\n      }\n    } else if (process.env.NODE_ENV === \"production\") {\n      image.url = input;\n    }\n  }\n  for (const presetName in globalOptions.presets) {\n    $img[presetName] = (source, modifiers, options) => $img(source, modifiers, { ...globalOptions.presets[presetName], ...options });\n  }\n  $img.options = globalOptions;\n  $img.getImage = getImage;\n  $img.getMeta = (input, options) => getMeta(ctx, input, options);\n  $img.getSizes = (input, options) => getSizes(ctx, input, options);\n  ctx.$img = $img;\n  return $img;\n}\nasync function getMeta(ctx, input, options) {\n  const image = resolveImage(ctx, input, { ...options });\n  if (typeof image.getMeta === \"function\") {\n    return await image.getMeta();\n  } else {\n    return await imageMeta(ctx, image.url);\n  }\n}\nfunction resolveImage(ctx, input, options) {\n  if (typeof input !== \"string\" || input === \"\") {\n    throw new TypeError(`input must be a string (received ${typeof input}: ${JSON.stringify(input)})`);\n  }\n  if (input.startsWith(\"data:\")) {\n    return {\n      url: input\n    };\n  }\n  const { provider, defaults } = getProvider(ctx, options.provider || ctx.options.provider);\n  const preset = getPreset(ctx, options.preset);\n  input = hasProtocol(input) ? input : withLeadingSlash(input);\n  if (!provider.supportsAlias) {\n    for (const base in ctx.options.alias) {\n      if (input.startsWith(base)) {\n        input = joinURL(ctx.options.alias[base], input.substr(base.length));\n      }\n    }\n  }\n  if (provider.validateDomains && hasProtocol(input)) {\n    const inputHost = parseURL(input).host;\n    if (!ctx.options.domains.find((d) => d === inputHost)) {\n      return {\n        url: input\n      };\n    }\n  }\n  const _options = defu(options, preset, defaults);\n  _options.modifiers = { ..._options.modifiers };\n  const expectedFormat = _options.modifiers.format;\n  if (_options.modifiers?.width) {\n    _options.modifiers.width = parseSize(_options.modifiers.width);\n  }\n  if (_options.modifiers?.height) {\n    _options.modifiers.height = parseSize(_options.modifiers.height);\n  }\n  const image = provider.getImage(input, _options, ctx);\n  image.format = image.format || expectedFormat || \"\";\n  return image;\n}\nfunction getProvider(ctx, name) {\n  const provider = ctx.options.providers[name];\n  if (!provider) {\n    throw new Error(\"Unknown provider: \" + name);\n  }\n  return provider;\n}\nfunction getPreset(ctx, name) {\n  if (!name) {\n    return {};\n  }\n  if (!ctx.options.presets[name]) {\n    throw new Error(\"Unknown preset: \" + name);\n  }\n  return ctx.options.presets[name];\n}\nfunction getSizes(ctx, input, opts) {\n  const width = parseSize(opts.modifiers?.width);\n  const height = parseSize(opts.modifiers?.height);\n  const hwRatio = width && height ? height / width : 0;\n  const variants = [];\n  const sizes = {};\n  if (typeof opts.sizes === \"string\") {\n    for (const entry of opts.sizes.split(/[\\s,]+/).filter((e) => e)) {\n      const s = entry.split(\":\");\n      if (s.length !== 2) {\n        continue;\n      }\n      sizes[s[0].trim()] = s[1].trim();\n    }\n  } else {\n    Object.assign(sizes, opts.sizes);\n  }\n  for (const key in sizes) {\n    const screenMaxWidth = ctx.options.screens && ctx.options.screens[key] || parseInt(key);\n    let size = String(sizes[key]);\n    const isFluid = size.endsWith(\"vw\");\n    if (!isFluid && /^\\d+$/.test(size)) {\n      size = size + \"px\";\n    }\n    if (!isFluid && !size.endsWith(\"px\")) {\n      continue;\n    }\n    let _cWidth = parseInt(size);\n    if (!screenMaxWidth || !_cWidth) {\n      continue;\n    }\n    if (isFluid) {\n      _cWidth = Math.round(_cWidth / 100 * screenMaxWidth);\n    }\n    const _cHeight = hwRatio ? Math.round(_cWidth * hwRatio) : height;\n    variants.push({\n      width: _cWidth,\n      size,\n      screenMaxWidth,\n      media: `(max-width: ${screenMaxWidth}px)`,\n      src: ctx.$img(input, { ...opts.modifiers, width: _cWidth, height: _cHeight }, opts)\n    });\n  }\n  variants.sort((v1, v2) => v1.screenMaxWidth - v2.screenMaxWidth);\n  const defaultVar = variants[variants.length - 1];\n  if (defaultVar) {\n    defaultVar.media = \"\";\n  }\n  return {\n    sizes: variants.map((v) => `${v.media ? v.media + \" \" : \"\"}${v.size}`).join(\", \"),\n    srcset: variants.map((v) => `${v.src} ${v.width}w`).join(\", \"),\n    src: defaultVar?.src\n  };\n}\n"],"mappings":"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"}]}